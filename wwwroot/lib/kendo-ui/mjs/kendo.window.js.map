{"version":3,"file":"kendo.window.js","names":["__meta__","id","name","category","description","depends","features","$","undefined$1","templates","kendo","window","Widget","ui","TabKeyTrap","Popup","Draggable","isPlainObject","activeElement","_activeElement","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","each","template","BODY","NS","MODAL_NS","KWINDOW","KWINDOWTITLE","KWINDOWTITLEBAR","KWINDOWCONTENT","KWINDOWRESIZEHANDLES","KOVERLAY","KWINDOWMINIMIZED","KCONTENTFRAME","LOADINGICONCLASS","KHOVERSTATE","KFOCUSEDSTATE","MAXIMIZEDSTATE","INLINE_FLEX","VISIBLE","KHIDDEN","HIDDEN","CURSOR","OPEN","ACTIVATE","DEACTIVATE","CLOSE","REFRESH","RESIZESTART","RESIZEEND","DRAGSTART","DRAGEND","RESTORE","ERROR","OVERFLOW","DATADOCOVERFLOWRULE","ZINDEX","MINIMIZE_MAXIMIZEICONSELECTORS","KPINICONCLASSSELECTOR","KUNPINICONCLASSSELECTOR","PIN_UNPINICONCLASSSELECTOR","TITLEBAR_BUTTONSSELECTOR","REFRESHICONSELECTOR","WINDOWEVENTSHANDLED","zero","isLocalUrl","SIZE","small","medium","large","defined","x","toInt","element","property","parseInt","css","constrain","value","low","high","isNaN","toString","indexOf","Math","max","min","Infinity","executableScript","this","type","toLowerCase","getPosition","elem","result","top","offsetTop","left","offsetLeft","parent","offsetParent","parentOverflowX","parentOverflowY","scrollTop","scrollLeft","Window","init","options","wrapper","visibility","display","position","content","windowContent","globalWindow","that","offset","suppressActions","actions","length","fn","call","appendTo","containment","draggable","first","url","find","filter","remove","is","document","body","contains","visible","closest","addClass","attr","_createWindow","title","_dimensions","_footerTemplate","append","_footerMessages","themeColor","getValidCssClass","minTop","minLeft","maxTop","maxLeft","_position","refresh","toFront","modal","children","_overlay","opacity","on","_buttonEnter","bind","_buttonLeave","_windowActionHandler","_keydown","_focus","_blur","_keydownContent","data","widgetInstance","not","i","_resizable","_draggable","pinned","pin","role","add","support","mousedown","touchScroller","_resizeHandler","_onDocumentResize","_marker","guid","substring","trigger","notify","_tabKeyTrap","trap","shouldTrap","_showWatermarkOverlay","e","currentTarget","removeClass","width","height","maxHeight","sizeClass","size","dimensions","contentBoxSizing","lrBorderWidth","tbBorderWidth","paddingTop","_isPinned","_updateBoundaries","maxWidth","minWidth","minHeight","hide","containmentTop","containmentLeft","parseFloat","Number","replace","innerWidth","innerHeight","clientWidth","scrollbar","clientHeight","_animationOptions","animation","open","effects","close","_resize","resize","resizable","resizing","off","destroy","target","toggleMaximization","split","index","handler","resizeHandle","WindowResizing","dragging","WindowDragging","dragHandle","clickMoveClick","_actions","icon","container","windowSpecificCommands","icons","maximize","custom","map","action","html","render","setOptions","doc","cachedOptions","JSON","parse","stringify","_containerScrollTop","_containerScrollLeft","scrollable","restore","_enableDocumentScrolling","events","zoom","direction","fade","duration","properties","scale","autoFocus","isMaximized","isMinimized","_closable","inArray","keys","keyCode","ESC","stopPropagation","_close","handled","newWidth","newHeight","w","h","distance","_closing","altKey","unpin","UP","DOWN","minimize","getOffset","ctrlKey","LEFT","RIGHT","preventDefault","overlay","zIndex","insertBefore","preventScroll","_stopDocumentScrolling","_actionForIcon","exec","className","_modals","windowInstance","windowElements","modals","_object","push","sort","a","b","style","widget","getKendoWindow","center","newTop","newLeft","documentWindow","_scrollIsAppended","encoded","titleBar","titleElement","arguments","text","htmlEncode","prepend","titlebar","scrollContainer","empty","otherModalsVisible","showOptions","contentElement","kendoStop","Fade","overlayFx","fx","fadeIn","endValue","play","show","kendoAnimate","complete","_activate","_removeOverlay","suppressAnimation","hideOverlay","hideOptions","fadeOut","startValue","last","systemTriggered","defaultPrevented","userTriggered","reverse","_deactivate","iframe","lastModal","_actionable","_shouldFocus","active","avoidFocus","currentWindow","containmentContext","openAnimation","originalZIndex","windowObject","zIndexNew","setTimeout","windowTop","restoreOptions","end","removeAttr","_sizingAction","actionId","callback","eq","before","toggle","_storeOverflowRule","$body","$html","_restoreOverflowRule","$element","_isOverflowStored","overflowRule","get","overflow","removeData","win","pinIcon","wnd","zoomLevel","showIframe","initOptions","src","contentFrame","_triggerRefresh","_ajaxRequest","toggleClass","_ajaxComplete","clearTimeout","_loadingIconTimeout","_ajaxError","xhr","status","_ajaxSuccess","contentTemplate","prop","_showLoading","ajax","dataType","cache","error","success","_destroy","unbind","iframeSrcAttributes","contentHtml","isRtl","getAttribute","hasClass","editor","owner","_preventDragging","group","dragstart","drag","dragend","userEvents","addOverlay","removeOverlay","dragcancel","iconName","renderButton","fillMode","prototype","elementPadding","initialPosition","resizeDirection","initialSize","containerOffset","marginTop","marginLeft","test","wrapperPosition","relativeElMarginLeft","relativeElMarginTop","_relativeElMarginLeft","_relativeElMarginTop","windowBottom","windowRight","rtl","leftRtlOffset","scrollOffset","location","y","newWindowTop","reset","initialWindowPosition","initialPointerPosition","startPosition","client","axis","_finishDrag","plugin","jQuery","kendo$1"],"sources":["kendo.window.js"],"mappings":"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","ignoreList":[],"sourcesContent":["import './kendo.draganddrop.js';\nimport './kendo.popup.js';\nimport './kendo.icons.js';\nimport './kendo.html.button.js';\n\nconst __meta__ = {\n        id: \"window\",\n        name: \"Window\",\n        category: \"web\",\n        description: \"The Window widget displays content in a modal or non-modal HTML window.\",\n        depends: [ \"draganddrop\", \"popup\", \"icons\" ],\n        features: [ {\n            id: \"window-fx\",\n            name: \"Animation\",\n            description: \"Support for animation\",\n            depends: [ \"fx\" ]\n        } ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n            Draggable = kendo.ui.Draggable,\n            isPlainObject = $.isPlainObject,\n            activeElement = kendo._activeElement,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            extend = $.extend,\n            each = $.each,\n            template = kendo.template,\n            BODY = \"body\",\n            templates,\n            NS = \".kendoWindow\",\n            MODAL_NS = \".kendoWindowModal\",\n            // classNames\n            KWINDOW = \".k-window\",\n            KWINDOWTITLE = \".k-window-title\",\n            KWINDOWTITLEBAR = KWINDOWTITLE + \"bar\",\n            KWINDOWCONTENT = \".k-window-content\",\n            KDIALOGCONTENT = \".k-dialog-content\",\n            KWINDOWRESIZEHANDLES = \".k-resize-handle\",\n            KOVERLAY = \".k-overlay\",\n            KWINDOWMINIMIZED = \"k-window-minimized\",\n            KCONTENTFRAME = \"k-content-frame\",\n            LOADINGICONCLASS = \"k-i-loading\",\n            KHOVERSTATE = \"k-hover\",\n            KFOCUSEDSTATE = \"k-focus\",\n            MAXIMIZEDSTATE = \"k-window-maximized\",\n            INLINE_FLEX = \"k-display-inline-flex\",\n            // constants\n            VISIBLE = \":visible\",\n            KHIDDEN = \"k-hidden\",\n            HIDDEN = \"hidden\",\n            CURSOR = \"cursor\",\n            // events\n            OPEN = \"open\",\n            ACTIVATE = \"activate\",\n            DEACTIVATE = \"deactivate\",\n            CLOSE = \"close\",\n            REFRESH = \"refresh\",\n            MINIMIZE = \"minimize\",\n            MAXIMIZE = \"maximize\",\n            RESIZESTART = \"resizeStart\",\n            RESIZE = \"resize\",\n            RESIZEEND = \"resizeEnd\",\n            DRAGSTART = \"dragstart\",\n            DRAGEND = \"dragend\",\n            RESTORE = \"restore\",\n            KENDOKEYDOWN = \"kendoKeydown\",\n            ERROR = \"error\",\n            OVERFLOW = \"overflow\",\n            DATADOCOVERFLOWRULE = \"original-overflow-rule\",\n            ZINDEX = \"zIndex\",\n            MINIMIZE_MAXIMIZEICONSELECTORS = \".k-window-titlebar-actions .k-i-window-minimize,.k-window-titlebar-actions .k-i-window,.k-window-titlebar-actions .k-svg-i-window-minimize,.k-window-titlebar-actions .k-svg-i-window\",\n            KPINICONCLASSSELECTOR = \".k-i-pin,.k-svg-i-pin\",\n            KUNPINICONCLASSSELECTOR = \".k-i-unpin,.k-svg-i-unpin\",\n            PIN_UNPINICONCLASSSELECTOR = KPINICONCLASSSELECTOR + \",\" + KUNPINICONCLASSSELECTOR,\n            TITLEBAR_BUTTONSSELECTOR = \".k-window-titlebar .k-window-titlebar-action\",\n            REFRESHICONSELECTOR = \".k-window-titlebar .k-i-arrow-rotate-cw,.k-window-titlebar .k-svg-i-arrow-rotate-cw\",\n            WINDOWEVENTSHANDLED = \"WindowEventsHandled\",\n            zero = /^0[a-z]*$/i,\n            isLocalUrl = kendo.isLocalUrl,\n            SIZE = {\n                small: \"k-window-sm\",\n                medium: \"k-window-md\",\n                large: \"k-window-lg\"\n            };\n\n        function defined(x) {\n            return (typeof x != \"undefined\");\n        }\n\n        function toInt(element, property) {\n            return parseInt(element.css(property), 10) || 0;\n        }\n\n        function constrain(value, low, high) {\n            var normalizedValue;\n\n            if (value && isNaN(value) && value.toString().indexOf(\"px\") < 0) {\n                normalizedValue = value;\n            } else {\n                normalizedValue = Math.max(\n                    Math.min(parseInt(value, 10), high === Infinity ? high : parseInt(high, 10)),\n                    low === -Infinity ? low : parseInt(low, 10)\n                );\n            }\n\n            return normalizedValue;\n        }\n\n        function executableScript() {\n            return !this.type || this.type.toLowerCase().indexOf(\"script\") >= 0;\n        }\n\n\n        function getPosition(elem) {\n            var result = { top: elem.offsetTop, left: elem.offsetLeft },\n                parent = elem.offsetParent;\n\n            while (parent) {\n                result.top += parent.offsetTop;\n                result.left += parent.offsetLeft;\n\n                var parentOverflowX = $(parent).css(\"overflowX\");\n                var parentOverflowY = $(parent).css(\"overflowY\");\n\n                if (parentOverflowY === \"auto\" || parentOverflowY === \"scroll\") {\n                    result.top -= parent.scrollTop;\n                }\n\n                if (parentOverflowX === \"auto\" || parentOverflowX === \"scroll\") {\n                    result.left -= parent.scrollLeft;\n                }\n\n                parent = parent.offsetParent;\n            }\n\n            return result;\n        }\n\n        var Window = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    wrapper,\n                    offset = {},\n                    visibility, display, position,\n                    isVisible = false,\n                    content,\n                    windowContent,\n                    windowFrame,\n                    globalWindow,\n                    suppressActions = options && options.actions && !options.actions.length,\n                    id;\n\n                Widget.fn.init.call(that, element, options);\n                options = that.options;\n                position = options.position;\n                element = that.element;\n                content = options.content;\n                globalWindow = $(window);\n\n                if (suppressActions) {\n                    options.actions = [];\n                }\n\n                that.appendTo = $(options.appendTo);\n\n                that.containment = options.draggable.containment ? $(options.draggable.containment).first() : null;\n\n                if (content && !isPlainObject(content)) {\n                    content = options.content = { url: content };\n                }\n\n                // remove script blocks to prevent double-execution\n                element.find(\"script\").filter(executableScript).remove();\n\n                if (!element.parent().is(that.appendTo) && !that.containment && (position.top === undefined$1 || position.left === undefined$1)) {\n                    if (element.is(VISIBLE)) {\n                        offset = element.offset();\n                        isVisible = true;\n                    } else {\n                        visibility = element.css(\"visibility\");\n                        display = element.css(\"display\");\n\n                        element.css({ visibility: HIDDEN, display: \"\" });\n\n                        if (document.body.contains(element[0])) {\n                            offset = element.offset();\n                        } else {\n                            offset = { top: 0, left: 0 };\n                        }\n\n                        element.css({ visibility: visibility, display: display });\n                    }\n\n                    if (position.top === undefined$1) {\n                        position.top = offset.top;\n                    }\n                    if (position.left === undefined$1) {\n                        position.left = offset.left;\n                    }\n                }\n\n                if (!defined(options.visible) || options.visible === null) {\n                    options.visible = element.is(VISIBLE);\n                }\n\n                wrapper = that.wrapper = element.closest(KWINDOW);\n\n                if (!element.is(\".k-window-content\") || !wrapper[0]) {\n                    element.addClass(\"k-window-content\");\n                    element.attr(\"tabindex\", 0);\n                    that._createWindow(element, options);\n                    wrapper = that.wrapper = element.closest(KWINDOW);\n\n                    that.title(that.options.title);\n                    that._dimensions();\n\n                    if (options._footerTemplate) {\n                        that.wrapper.append(kendo.template(options._footerTemplate)(options._footerMessages));\n                    }\n                }\n\n                if (options.themeColor && options.themeColor !== \"none\") {\n                    wrapper.addClass(kendo.getValidCssClass(\"k-window-\", \"themeColor\", options.themeColor));\n                }\n\n                that.minTop = that.minLeft = -Infinity;\n                that.maxTop = that.maxLeft = Infinity;\n                that._position();\n\n                if (content) {\n                    that.refresh(content);\n                }\n\n                if (options.visible) {\n                    that.toFront(null, !options.modal);\n                }\n\n                windowContent = wrapper.children(KWINDOWCONTENT);\n\n                if (options.visible && options.modal) {\n                    that._overlay(wrapper.is(VISIBLE)).css({ opacity: 0.5 });\n                }\n\n                wrapper\n                    .on(\"mouseenter\" + NS, TITLEBAR_BUTTONSSELECTOR, that._buttonEnter.bind(that))\n                    .on(\"mouseleave\" + NS, TITLEBAR_BUTTONSSELECTOR, that._buttonLeave.bind(that))\n                    .on(\"click\" + NS, \"> \" + TITLEBAR_BUTTONSSELECTOR, that._windowActionHandler.bind(that))\n                    .on(\"keydown\" + NS, that, that._keydown.bind(that))\n                    .on(\"focus\" + NS, that._focus.bind(that))\n                    .on(\"blur\" + NS, that._blur.bind(that));\n\n                windowContent\n                    .on(\"keydown\" + NS, that, that._keydownContent.bind(that));\n\n                windowFrame = windowContent.find(\".\" + KCONTENTFRAME)[0];\n\n                if (windowFrame && !globalWindow.data(WINDOWEVENTSHANDLED)) {\n\n                    globalWindow.on(\"blur\" + NS, function() {\n                        var element = $(document.activeElement).parent(KWINDOWCONTENT);\n                        if (element.length) {\n                            var windowInstance = kendo.widgetInstance(element);\n                            windowInstance._focus();\n                        }\n                    });\n\n                    globalWindow.on(\"focus\" + NS, function() {\n                        $(KWINDOWCONTENT).not(KDIALOGCONTENT).each(function(i, element) {\n                            kendo.widgetInstance($(element))._blur();\n                        });\n                    });\n\n                    globalWindow.data(WINDOWEVENTSHANDLED, true);\n                }\n\n                this._resizable();\n\n                this._draggable();\n\n                if (options.pinned && this.wrapper.is(\":visible\")) {\n                    that.pin();\n                }\n\n                id = element.attr(\"id\");\n                if (id) {\n                    id = id + \"_wnd_title\";\n                    wrapper.attr({\n                            \"role\": \"dialog\",\n                            \"aria-labelledby\": id\n                        }).children(KWINDOWTITLEBAR)\n                        .children(KWINDOWTITLE)\n                        .attr(\"id\", id);\n                }\n\n                wrapper.add(wrapper.children(\".k-resize-handle,\" + KWINDOWTITLEBAR))\n                    .on(kendo.support.mousedown + NS, that.toFront.bind(that));\n\n                that.touchScroller = kendo.touchScroller(element);\n\n                that._resizeHandler = that._onDocumentResize.bind(that);\n\n                that._marker = kendo.guid().substring(0, 8);\n\n                $(window).on(\"resize\" + NS + that._marker, that._resizeHandler);\n\n                if (options.visible) {\n                    that.trigger(OPEN);\n                    that.trigger(ACTIVATE);\n                }\n\n                kendo.notify(that);\n\n                if (this.options.modal) {\n                    this._tabKeyTrap = new TabKeyTrap(wrapper);\n                    this._tabKeyTrap.trap();\n                    this._tabKeyTrap.shouldTrap = function() {\n                        return wrapper.data(\"isFront\");\n                    };\n                }\n\n                if (that._showWatermarkOverlay) {\n                    that._showWatermarkOverlay(that.wrapper[0]);\n                }\n            },\n\n            _buttonEnter: function(e) {\n                $(e.currentTarget).addClass(KHOVERSTATE);\n            },\n\n            _buttonLeave: function(e) {\n                $(e.currentTarget).removeClass(KHOVERSTATE);\n            },\n\n            _focus: function() {\n                this.wrapper.addClass(KFOCUSEDSTATE);\n            },\n\n            _blur: function() {\n                this.wrapper.removeClass(KFOCUSEDSTATE);\n            },\n\n            _dimensions: function() {\n                var wrapper = this.wrapper;\n                var options = this.options;\n                var width = options.width;\n                var height = options.height;\n                var maxHeight = options.maxHeight;\n                var sizeClass = options.size;\n                var dimensions = [\"minWidth\",\"minHeight\",\"maxWidth\",\"maxHeight\"];\n                var contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\";\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (this.containment && !this._isPinned) {\n                    this._updateBoundaries();\n                    options.maxHeight = Math.min(this.containment.height - (tbBorderWidth + paddingTop), maxHeight);\n                    options.maxWidth = Math.min(this.containment.width - lrBorderWidth, options.maxWidth);\n                }\n\n                for (var i = 0; i < dimensions.length; i++) {\n                    var value = options[dimensions[i]] || \"\";\n                    if (value != Infinity) {\n                        wrapper.css(dimensions[i], value);\n                    }\n                }\n\n                if (maxHeight != Infinity) {\n                    this.element.css(\"maxHeight\", maxHeight);\n                }\n\n                if (width) {\n                    wrapper.outerWidth(constrain(width, options.minWidth, options.maxWidth));\n                }\n                else {\n                    wrapper.outerWidth(\"\");\n                }\n\n                if (height) {\n                    wrapper.outerHeight(constrain(height, options.minHeight, options.maxHeight));\n                }\n                else {\n                    wrapper.outerHeight(\"\");\n                }\n\n                if (!options.visible) {\n                    wrapper.removeClass(INLINE_FLEX).hide();\n                }\n\n                if (sizeClass && SIZE[sizeClass]) {\n                    wrapper.addClass(SIZE[sizeClass]);\n                }\n            },\n\n            _position: function() {\n                var wrapper = this.wrapper,\n                    position = this.options.position,\n                    containmentTop, containmentLeft;\n\n                this._updateBoundaries();\n\n                if (this.containment) {\n                    position.top = position.top || 0;\n                    position.left = position.left || 0;\n\n                    containmentTop = position.top.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.height * (parseFloat(position.top) / 100), 10) :\n                        position.top;\n\n                    containmentLeft = position.left.toString().indexOf(\"%\") > 0 ?\n                        parseInt(this.containment.width * (parseFloat(position.left) / 100), 10) :\n                        position.left;\n\n                    position.top = constrain(containmentTop, this.minTop, this.maxTop);\n                    position.left = constrain(containmentLeft, this.minLeft, this.maxLeft);\n                }\n\n                if (position.top && position.top.toString().indexOf(\"px\") > 0) {\n                    position.top = Number(position.top.replace(\"px\", \"\"));\n                }\n\n                if (position.left && position.left.toString().indexOf(\"px\") > 0) {\n                    position.left = Number(position.left.replace(\"px\", \"\"));\n                }\n\n                if (position.top === 0) {\n                    position.top = position.top.toString();\n                }\n\n                if (position.left === 0) {\n                    position.left = position.left.toString();\n                }\n\n                wrapper.css({\n                    top: position.top || \"\",\n                    left: position.left || \"\"\n                });\n            },\n\n            _updateBoundaries: function() {\n                var containment = this.containment;\n\n                if (!containment) {\n                    return null;\n                }\n\n                containment.width = containment.innerWidth();\n                containment.height = containment.innerHeight();\n\n                if (parseInt(containment.width, 10) > containment[0].clientWidth) {\n                    containment.width -= kendo.support.scrollbar();\n                }\n\n                if (parseInt(containment.height, 10) > containment[0].clientHeight) {\n                    containment.height -= kendo.support.scrollbar();\n                }\n\n                containment.position = getPosition(containment[0]);\n\n                if (this._isPinned) {\n                    this.minTop = this.minLeft = -Infinity;\n                    this.maxTop = this.maxLeft = Infinity;\n                } else {\n                    this.minTop = containment.scrollTop();\n                    this.minLeft = containment.scrollLeft();\n                    this.maxLeft = this.minLeft + containment.width - outerWidth(this.wrapper, true);\n                    this.maxTop = this.minTop + containment.height - outerHeight(this.wrapper, true);\n                }\n            },\n\n            _animationOptions: function(id) {\n                var animation = this.options.animation;\n                var basicAnimation = {\n                    open: { effects: {} },\n                    close: { hide: true, effects: {} }\n                };\n\n                return animation && animation[id] || basicAnimation[id];\n            },\n\n            _resize: function() {\n                kendo.resize(this.element.children());\n            },\n\n            _resizable: function() {\n                var resizable = this.options.resizable;\n                var wrapper = this.wrapper;\n\n                if (this.resizing) {\n                    wrapper\n                        .off(\"dblclick\" + NS)\n                        .children(KWINDOWRESIZEHANDLES).remove();\n\n                    this.resizing.destroy();\n                    this.resizing = null;\n                }\n\n                if (resizable) {\n                    wrapper.on(\"dblclick\" + NS, KWINDOWTITLEBAR, (function(e) {\n                        if (!$(e.target).closest(\".k-window-titlebar-action\").length) {\n                            this.toggleMaximization();\n                        }\n                    }).bind(this));\n\n                    each(\"n e s w se sw ne nw\".split(\" \"), function(index, handler) {\n                        wrapper.append(templates.resizeHandle(handler));\n                    });\n\n                    this.resizing = new WindowResizing(this);\n                }\n\n                wrapper = null;\n            },\n\n            _draggable: function() {\n                var draggable = this.options.draggable;\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                    this.dragging = null;\n                }\n                if (draggable) {\n                    this.dragging = new WindowDragging(this, draggable.dragHandle || KWINDOWTITLEBAR, draggable.clickMoveClick);\n                }\n            },\n\n            _actions: function() {\n                var options = this.options;\n                var actions = options.actions;\n                var pinned = options.pinned;\n                var titlebar = this.wrapper.children(KWINDOWTITLEBAR);\n                var container = titlebar.find(\".k-window-titlebar-actions\");\n                var windowSpecificCommands = [ \"minimize\", \"maximize\" ];\n                var icons = {\n                    \"maximize\": \"window\",\n                    \"refresh\": \"arrow-rotate-cw\",\n                    \"custom\": \"gear\"\n                };\n                var icon;\n\n                actions = $.map(actions, function(action) {\n                    action = pinned && action.toLowerCase() === \"pin\" ? \"unpin\" : action;\n                    icon = icons[action.toLowerCase()] || \"\";\n                    return { name: (windowSpecificCommands.indexOf(action.toLowerCase()) > - 1) ? \"window-\" + action : action, icon: action.toLowerCase() == \"close\" ? \"x\" : icon };\n                });\n\n                container.html(kendo.render(templates.action, actions));\n            },\n\n            setOptions: function(options) {\n                var that = this;\n                var sizeClass = that.options.size;\n                var doc = this.containment && !that._isPinned ? this.containment : $(document);\n                // make a deep extend over options.position telerik/kendo-ui-core#844\n                var cachedOptions = JSON.parse(JSON.stringify(options));\n\n                that.wrapper.removeClass(kendo.getValidCssClass(\"k-window-\", \"themeColor\", that.options.themeColor));\n\n                extend(options.position, that.options.position);\n                extend(options.position, cachedOptions.position);\n\n                that._containerScrollTop = doc.scrollTop();\n                that._containerScrollLeft = doc.scrollLeft();\n\n                Widget.fn.setOptions.call(that, options);\n                var scrollable = that.options.scrollable !== false;\n\n                that.restore();\n\n                if (typeof options.title !== \"undefined\") {\n                    that.title(options.title);\n                }\n\n                that.wrapper.removeClass(SIZE[sizeClass]);\n                that._dimensions();\n\n                that._position();\n                that._resizable();\n                that._draggable();\n                that._actions();\n\n                if (that.options.themeColor && that.options.themeColor !== \"none\") {\n                    that.wrapper.addClass(kendo.getValidCssClass(\"k-window-\", \"themeColor\", that.options.themeColor));\n                }\n\n                if (typeof options.modal !== \"undefined\") {\n                    var visible = that.options.visible !== false;\n                    that._enableDocumentScrolling();\n                    that._overlay(options.modal && visible);\n                }\n\n                that.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n            },\n\n            events: [\n                OPEN,\n                ACTIVATE,\n                DEACTIVATE,\n                CLOSE,\n                MINIMIZE,\n                MAXIMIZE,\n                REFRESH,\n                RESTORE,\n                RESIZESTART,\n                RESIZE,\n                RESIZEEND,\n                DRAGSTART,\n                DRAGEND,\n                KENDOKEYDOWN,\n                ERROR\n            ],\n\n            options: {\n                name: \"Window\",\n                animation: {\n                    open: {\n                        effects: { zoom: { direction: \"in\" }, fade: { direction: \"in\" } },\n                        duration: 350\n                    },\n                    close: {\n                        effects: { zoom: { direction: \"out\", properties: { scale: 0.7 } }, fade: { direction: \"out\" } },\n                        duration: 350,\n                        hide: true\n                    }\n                },\n                title: \"\",\n                themeColor: \"\",\n                actions: [\"Close\"],\n                autoFocus: true,\n                modal: false,\n                size: \"auto\",\n                resizable: true,\n                draggable: true,\n                minWidth: 90,\n                minHeight: 50,\n                maxWidth: Infinity,\n                maxHeight: Infinity,\n                pinned: false,\n                scrollable: true,\n                position: {},\n                content: null,\n                visible: null,\n                height: null,\n                width: null,\n                appendTo: \"body\",\n                isMaximized: false,\n                isMinimized: false\n            },\n\n            _closable: function() {\n                return $.inArray(\"close\", $.map(this.options.actions, function(x) { return x.toLowerCase(); })) > -1;\n            },\n\n            _keydownContent: function(e) {\n                var that = this,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    options = that.options,\n                    keys = kendo.keys,\n                    keyCode = e.keyCode,\n                    wrapper = that.wrapper,\n                    offset, handled,\n                    distance = 10,\n                    isMaximized = options.isMaximized,\n                    isMinimized = options.isMinimized,\n                    newWidth, newHeight, w, h;\n\n                if (keyCode == keys.ESC && that._closable()) {\n                    e.stopPropagation();\n                    that._close(false);\n                }\n\n                if (e.target != e.currentTarget || that._closing) {\n                    return;\n                }\n\n                 // Refresh\n                if (e.altKey && keyCode == 82) {// Alt + R\n                    that.refresh();\n                }\n\n                // Pin/Unpin\n                if (e.altKey && keyCode == 80) {// Alt + P\n                    if (that.options.pinned) {\n                        that.unpin();\n                    } else {\n                        that.pin();\n                    }\n                }\n\n                // Maximize/Restore/Miminimize\n                if (e.altKey && keyCode == keys.UP) {\n                    if (isMinimized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (!isMaximized) {\n                        that.maximize();\n                        that.wrapper.trigger(\"focus\");\n                    }\n                } else if (e.altKey && keyCode == keys.DOWN) {\n                    if (!isMinimized && !isMaximized) {\n                        that.minimize();\n                        that.wrapper.trigger(\"focus\");\n                    } else if (isMaximized) {\n                        that.restore();\n                        that.wrapper.trigger(\"focus\");\n                    }\n                }\n\n                offset = kendo.getOffset(wrapper);\n\n                if (that.containment && !that._isPinned) {\n                    offset = that.options.position;\n                }\n\n                if (options.draggable && !e.ctrlKey && !e.altKey && !isMaximized) {\n                    that._updateBoundaries();\n                    if (keyCode == keys.UP) {\n                        offset.top = constrain(offset.top - distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.DOWN) {\n                        offset.top = constrain(offset.top + distance, that.minTop, that.maxTop);\n                        handled = wrapper.css(\"top\", offset.top);\n                    } else if (keyCode == keys.LEFT) {\n                        offset.left = constrain(offset.left - distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    } else if (keyCode == keys.RIGHT) {\n                        offset.left = constrain(offset.left + distance, that.minLeft, that.maxLeft);\n                        handled = wrapper.css(\"left\", offset.left);\n                    }\n                }\n\n                if (options.resizable && e.ctrlKey && !isMaximized && !isMinimized) {\n                    if (keyCode == keys.UP) {\n                        handled = true;\n                        newHeight = wrapper.outerHeight() - distance;\n                    } else if (keyCode == keys.DOWN) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newHeight = Math.min(wrapper.outerHeight() + distance,\n                                that.containment.height - offset.top - toInt(wrapper, \"padding-top\") -\n                                toInt(wrapper, \"borderBottomWidth\") - toInt(wrapper, \"borderTopWidth\"));\n                        } else {\n                            newHeight = wrapper.outerHeight() + distance;\n                        }\n                    } else if (keyCode == keys.LEFT) {\n                        handled = true;\n                        newWidth = wrapper.outerWidth() - distance;\n                    } else if (keyCode == keys.RIGHT) {\n                        handled = true;\n                        if (that.containment && !that._isPinned) {\n                            newWidth = Math.min(wrapper.outerWidth() + distance,\n                                                that.containment.width - offset.left -\n                                                toInt(wrapper, \"borderLeftWidth\") - toInt(wrapper, \"borderRightWidth\"));\n                        } else {\n                            newWidth = wrapper.outerWidth() + distance;\n                        }\n                    }\n\n                    if (handled) {\n                        w = constrain(newWidth, options.minWidth, options.maxWidth);\n                        h = constrain(newHeight, options.minHeight, options.maxHeight);\n\n                        if (!isNaN(w)) {\n                            wrapper.outerWidth(w);\n                            that.options.width = w + \"px\";\n                        }\n                        if (!isNaN(h)) {\n                            wrapper.outerHeight(h);\n                            that.options.height = h + \"px\";\n                        }\n\n                        that.resize();\n                    }\n                }\n\n                if (handled) {\n                    e.preventDefault();\n                }\n            },\n\n            _overlay: function(visible) {\n                var overlay = this.containment ? this.containment.children(KOVERLAY) : this.appendTo.children(KOVERLAY),\n                    wrapper = this.wrapper,\n                    display = visible ? \"inline-flex\" : \"none\",\n                    zIndex = parseInt(wrapper.css(ZINDEX), 10) - 1;\n\n                if (!overlay.length) {\n                    overlay = $(\"<div class='k-overlay' />\");\n                }\n\n                overlay\n                    .insertBefore(wrapper[0])\n                    .css({\n                        zIndex: zIndex,\n                        display: display\n                    });\n\n                if (this.options.modal.preventScroll && !this.containment) {\n                    this._stopDocumentScrolling();\n                }\n\n                return overlay;\n            },\n\n            _actionForIcon: function(icon) {\n                var iconClass = /\\bk(-svg)?-i(-\\w+)+\\b/.exec(icon[0].className)[0];\n                return {\n                    \"x\": \"_close\",\n                    \"window\": \"maximize\",\n                    \"window-minimize\": \"minimize\",\n                    \"window-restore\": \"restore\",\n                    \"arrow-rotate-cw\": \"refresh\",\n                    \"pin\": \"pin\",\n                    \"unpin\": \"unpin\"\n                }[iconClass.replace(/(k-i-|k-svg-i-)/, \"\")];\n            },\n\n            _windowActionHandler: function(e) {\n                if (this._closing) {\n                    return;\n                }\n                var icon = $(e.target).closest(\".k-window-titlebar-action\").find(\".k-icon,.k-svg-icon\");\n                var action = this._actionForIcon(icon);\n\n                if (action) {\n                    e.preventDefault();\n                    this[action]();\n                    return false;\n                }\n            },\n\n            _modals: function() {\n                var that = this,\n                    windowElements = $(KWINDOW + VISIBLE),\n                    windowInstance,\n                    modals = [];\n\n                for (var i = 0; i < windowElements.length; i += 1) {\n                    windowInstance = that._object($(windowElements[i]));\n\n                    if (windowInstance &&\n                        windowInstance.options &&\n                        windowInstance.options.modal &&\n                        windowInstance.options.visible &&\n                        windowInstance.options.appendTo === that.options.appendTo &&\n                        (!windowInstance.containment || (that.containment && windowInstance.containment[0] === that.containment[0]))) {\n                            modals.push(windowInstance.wrapper[0]);\n                    }\n                }\n\n                modals.sort(function(a, b) {\n                    return a.style.zIndex - b.style.zIndex;\n                });\n\n                that = null;\n\n                return $(modals);\n            },\n\n            _object: function(element) {\n                var content = element.children(KWINDOWCONTENT);\n                var widget = content.getKendoWindow();\n\n                if (widget) {\n                    return widget;\n                }\n\n                return undefined$1;\n            },\n\n            center: function() {\n                var that = this,\n                    position = that.options.position,\n                    wrapper = that.wrapper,\n                    documentWindow = $(window),\n                    scrollTop = 0,\n                    scrollLeft = 0,\n                    newTop, newLeft;\n\n                if (that.options.isMaximized) {\n                    return that;\n                }\n\n                if (that.options.pinned && !that._isPinned) {\n                    that.pin();\n                }\n\n                if (!that.options.pinned) {\n                    scrollTop = documentWindow.scrollTop();\n                    scrollLeft = documentWindow.scrollLeft();\n                }\n\n                if (this.containment && !that.options.pinned) {\n                    newTop = this.minTop + (this.maxTop - this.minTop) / 2;\n                    newLeft = this.minLeft + (this.maxLeft - this.minLeft) / 2;\n                } else {\n                    that._scrollIsAppended = true;\n                    newLeft = scrollLeft + Math.max(0, (documentWindow.width() - wrapper.outerWidth()) / 2);\n                    newTop = scrollTop + Math.max(0, (documentWindow.height() - wrapper.outerHeight() - toInt(wrapper, \"paddingTop\")) / 2);\n                }\n\n                wrapper.css({\n                    left: newLeft,\n                    top: newTop\n                });\n\n                position.top = newTop;\n                position.left = newLeft;\n\n                return that;\n            },\n\n            title: function(title) {\n                var that = this,\n                    value,\n                    encoded = true,\n                    wrapper = that.wrapper,\n                    titleBar = wrapper.children(KWINDOWTITLEBAR),\n                    titleElement = titleBar.children(KWINDOWTITLE);\n\n                if (!arguments.length) {\n                    return titleElement.html();\n                }\n\n                if ($.isPlainObject(title)) {\n                    value = typeof title.text !== \"undefined\" ? title.text : \"\";\n                    encoded = title.encoded !== false;\n                } else {\n                    value = title;\n                }\n\n                if (value === false) {\n                    wrapper.addClass(\"k-window-titleless\");\n                    wrapper.css(\"padding-top\", 0);\n                    titleBar.remove();\n                } else {\n                    if (!titleBar.length) {\n                        wrapper.prepend(templates.titlebar({\n                            title: encoded ? kendo.htmlEncode(value) : value\n                        }));\n                        that._actions();\n                        titleBar = wrapper.children(KWINDOWTITLEBAR);\n                    } else {\n                        titleElement.html(encoded ? kendo.htmlEncode(value) : value);\n                    }\n                }\n\n                that.options.title = value;\n\n                return that;\n            },\n\n            content: function(html, data) {\n                var content = this.wrapper.children(KWINDOWCONTENT),\n                    scrollContainer = content.children(\".km-scroll-container\");\n\n                content = scrollContainer[0] ? scrollContainer : content;\n\n                if (!defined(html)) {\n                    return content.html();\n                }\n\n                kendo.destroy(this.element.children());\n\n                content.empty().html(html);\n\n                return this;\n            },\n\n            open: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    contentElement = wrapper.children(KWINDOWCONTENT),\n                    overlay, otherModalsVisible,\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document);\n\n                if (!that.trigger(OPEN)) {\n                    if (that._closing) {\n                        wrapper.kendoStop(true, true);\n                    }\n\n                    that._closing = false;\n\n                    that.toFront();\n\n                    if (options.autoFocus) {\n                        that.wrapper.trigger(\"focus\");\n                    }\n\n                    options.visible = true;\n\n                    if (options.modal) {\n                        otherModalsVisible = !!that._modals().length;\n                        overlay = that._overlay(otherModalsVisible);\n\n                        overlay.kendoStop(true, true);\n\n                        if (showOptions.duration && kendo.effects.Fade && !otherModalsVisible) {\n                            var overlayFx = kendo.fx(overlay).fadeIn();\n                            overlayFx.duration(showOptions.duration || 0);\n                            overlayFx.endValue(0.5);\n                            overlayFx.play();\n                        } else {\n                            overlay.css(\"opacity\", 0.5);\n                        }\n\n                        overlay.show();\n\n                        $(window).on(\"focus\" + MODAL_NS, function() {\n                            if (wrapper.data(\"isFront\") && !$(document.activeElement).closest(wrapper).length) {\n                               that.wrapper.trigger(\"focus\");\n                            }\n                        });\n                    }\n\n                    if (!wrapper.is(VISIBLE)) {\n                        contentElement.css(OVERFLOW, HIDDEN);\n\n                        that.wrapper.find(TITLEBAR_BUTTONSSELECTOR).addClass(\"k-button-flat\");\n\n                        wrapper.css({ display: \"inline-flex\" });\n                        wrapper.kendoStop().kendoAnimate({\n                            effects: showOptions.effects,\n                            duration: showOptions.duration,\n                            complete: this._activate.bind(this)\n                        });\n                    }\n                }\n\n                if (options.isMaximized) {\n                    that._containerScrollTop = doc.scrollTop();\n                    that._containerScrollLeft = doc.scrollLeft();\n                    that._stopDocumentScrolling();\n                }\n\n                if (this.options.pinned && !this._isPinned) {\n                    this.pin();\n                }\n\n                return that;\n            },\n\n            _activate: function() {\n                var scrollable = this.options.scrollable !== false;\n\n                if (this.options.autoFocus) {\n                    this.wrapper.trigger(\"focus\");\n                }\n\n                this.element.css(OVERFLOW, scrollable ? \"\" : \"hidden\");\n                kendo.resize(this.element.children());\n\n                this.trigger(ACTIVATE);\n            },\n\n            _removeOverlay: function(suppressAnimation) {\n                var modals = this._modals();\n                var options = this.options;\n                var hideOverlay = options.modal && !modals.length;\n                var hideOptions = this._animationOptions(\"close\");\n\n                if (hideOverlay) {\n                    if (!suppressAnimation && hideOptions.duration && kendo.effects.Fade) {\n                        var overlayFx = kendo.fx(options.modal ? this._overlay(true) : $(undefined$1)).fadeOut();\n                        overlayFx.duration(hideOptions.duration || 0);\n                        overlayFx.startValue(0.5);\n                        overlayFx.play();\n                    } else {\n                        this._overlay(false).remove();\n                    }\n                    if (options.modal.preventScroll) {\n                        this._enableDocumentScrolling();\n                    }\n                } else if (modals.length) {\n                    this._object(modals.last())._overlay(true);\n\n                    if (options.modal.preventScroll) {\n                        this._stopDocumentScrolling();\n                    }\n                }\n            },\n\n            _close: function(systemTriggered) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    showOptions = this._animationOptions(\"open\"),\n                    hideOptions = this._animationOptions(\"close\"),\n                    containmentContext = this.containment && !that._isPinned,\n                    doc = containmentContext ? this.containment : $(document),\n                    defaultPrevented;\n\n                if (that._closing) {\n                    return;\n                }\n\n                defaultPrevented = that.trigger(CLOSE, { userTriggered: !systemTriggered });\n                that._closing = !defaultPrevented;\n\n                if (wrapper.is(VISIBLE) && !defaultPrevented) {\n                    options.visible = false;\n\n                    $(KWINDOW).each(function(i, element) {\n                        var contentElement = $(element).children(KWINDOWCONTENT);\n\n                        // Remove overlay set by toFront\n                        if (element != wrapper && contentElement.find(\"> .\" + KCONTENTFRAME).length > 0) {\n                            contentElement.children(KOVERLAY).remove();\n                        }\n                    });\n\n                    this._removeOverlay();\n\n                    // Prevent close animation from stopping\n                    that.wrapper.find(TITLEBAR_BUTTONSSELECTOR).removeClass(\"k-button-flat\");\n\n                    wrapper.kendoStop().kendoAnimate({\n                        effects: hideOptions.effects || showOptions.effects,\n                        reverse: hideOptions.reverse === true,\n                        duration: hideOptions.duration,\n                        complete: this._deactivate.bind(this)\n                    });\n                    $(window).off(MODAL_NS);\n                }\n\n                if (that.options.isMaximized) {\n                    that._enableDocumentScrolling();\n                    if (that._containerScrollTop && that._containerScrollTop > 0) {\n                        doc.scrollTop(that._containerScrollTop);\n                    }\n                    if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                        doc.scrollLeft(that._containerScrollLeft);\n                    }\n                }\n\n                if (that.options.iframe) {\n                    that.wrapper.trigger(\"blur\");\n                }\n            },\n\n            _deactivate: function() {\n                var that = this;\n\n                that.wrapper\n                    .removeClass(INLINE_FLEX)\n                    .hide()\n                    .css(\"opacity\", \"\");\n\n                that.trigger(DEACTIVATE);\n\n                if (that.options.modal) {\n                    var lastModal = that._object(that._modals().last());\n                    if (lastModal) {\n                        lastModal.toFront();\n                    }\n                }\n            },\n\n            close: function() {\n                this._close(true);\n                return this;\n            },\n\n            _actionable: function(element) {\n                return $(element).is(`${TITLEBAR_BUTTONSSELECTOR}, :input, a, .k-input, .k-icon, .k-svg-icon, .k-svg-icon>svg, .k-svg-icon>svg>path, .k-icon-button, [role='gridcell'], .k-input-inner, .k-input-value-text`);\n            },\n\n            _shouldFocus: function(target) {\n                var active = activeElement(),\n                    element = this.wrapper;\n\n                return this.options.autoFocus &&\n                    !$(active).is(element) &&\n                    !this._actionable(target) &&\n                    (!element.find(active).length || !element.find(target).length);\n            },\n\n            toFront: function(e, avoidFocus) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    currentWindow = wrapper[0],\n                    containmentContext = that.containment && !that._isPinned,\n                    openAnimation = this._animationOptions(\"open\"),\n                    zIndex = +wrapper.css(ZINDEX),\n                    originalZIndex = zIndex,\n                    target = (e && e.target) || null;\n\n                $(KWINDOW).each(function(i, element) {\n                    var windowObject = $(element),\n                        zIndexNew = windowObject.css(ZINDEX),\n                        contentElement = windowObject.children(KWINDOWCONTENT);\n\n                    if (!isNaN(zIndexNew)) {\n                        zIndex = Math.max(+zIndexNew, zIndex);\n                    }\n\n                    wrapper.data(\"isFront\", element == currentWindow);\n                    // Add overlay to windows with iframes and lower z-index to prevent\n                    // trapping of events when resizing / dragging\n\n                    if (element != currentWindow &&\n                        contentElement.find(\".\" + KCONTENTFRAME).length &&\n                        !contentElement.find(KOVERLAY).length) {\n                        contentElement.append(templates.overlay);\n                    }\n                });\n\n                if (!wrapper[0].style.zIndex || originalZIndex < zIndex) {\n                    wrapper.css(ZINDEX, zIndex + 2);\n                }\n                that.element.find(\"> .k-overlay\").remove();\n\n                if (that._shouldFocus(target)) {\n                    if (!avoidFocus) {\n                        setTimeout(function() {\n                            that.wrapper.trigger(\"focus\");\n                        }, openAnimation ? openAnimation.duration : 0);\n                    }\n\n                    var scrollTop = containmentContext ? that.containment.scrollTop() : $(window).scrollTop(),\n                        windowTop = parseInt(wrapper.position().top, 10);\n\n                    if (!that.options.pinned && windowTop > 0 && windowTop < scrollTop) {\n                        if (scrollTop > 0) {\n                            $(window).scrollTop(windowTop);\n                        } else {\n                            wrapper.css(\"top\", scrollTop);\n                        }\n                    }\n                }\n\n                wrapper = null;\n\n                return that;\n            },\n\n            toggleMaximization: function() {\n                if (this._closing) {\n                    return this;\n                }\n\n                return this[this.options.isMaximized ? \"restore\" : \"maximize\"]();\n            },\n\n            restore: function() {\n                var that = this;\n                var options = that.options;\n                var minHeight = options.minHeight;\n                var restoreOptions = that.restoreOptions;\n                var shouldRestrictTop;\n                var container = that.containment && !that._isPinned ? that.containment : $(document);\n\n                if (!options.isMaximized && !options.isMinimized) {\n                    return that;\n                }\n\n                if (minHeight && minHeight != Infinity) {\n                    that.wrapper.css(\"min-height\", minHeight);\n                }\n\n                if (restoreOptions && !options.isMaximized) {\n                    restoreOptions.height = constrain(restoreOptions.height, that.options.minHeight, that.options.maxHeight);\n\n                    shouldRestrictTop = options.position.top + parseInt(restoreOptions.height, 10) > that.maxTop;\n\n                    if (shouldRestrictTop) {\n                        options.position.top = constrain(options.position.top, that.minTop, that.maxTop - parseInt(restoreOptions.height, 10));\n\n                        extend(restoreOptions, {\n                            left: options.position.left,\n                            top: options.position.top\n                        });\n                    }\n                }\n\n                that.wrapper\n                    .css({\n                        position: options.pinned ? \"fixed\" : \"absolute\",\n                        left: restoreOptions.left,\n                        top: restoreOptions.top,\n                        width: restoreOptions.width,\n                        height: restoreOptions.height\n                    })\n                    .removeClass(MAXIMIZEDSTATE)\n                    .removeClass(KWINDOWMINIMIZED)\n                    .find(\".k-window-content,.k-resize-handle\").show().end()\n                    .find(\".k-window-titlebar .k-i-window-restore,.k-window-titlebar .k-svg-i-window-restore\").parent().remove().end().end()\n                    .find(MINIMIZE_MAXIMIZEICONSELECTORS).parent().show().end().end()\n                    .find(PIN_UNPINICONCLASSSELECTOR).parent().show();\n\n                if (options.isMaximized) {\n                    that.wrapper.find(\".k-i-window,.k-svg-i-window\").parent().trigger(\"focus\");\n                } else if (options.isMinimized) {\n                    that.wrapper.find(\".k-i-window-minimize,.k-svg-i-window-minimize\").parent().trigger(\"focus\");\n                }\n\n                that.options.width = restoreOptions.width;\n                that.options.height = restoreOptions.height;\n\n                if (!that.options.modal.preventScroll) {\n                    that._enableDocumentScrolling();\n                }\n\n                if (that._containerScrollTop && that._containerScrollTop > 0) {\n                    container.scrollTop(that._containerScrollTop);\n                }\n                if (that._containerScrollLeft && that._containerScrollLeft > 0) {\n                    container.scrollLeft(that._containerScrollLeft);\n                }\n\n                options.isMaximized = options.isMinimized = false;\n\n                that.wrapper.removeAttr(\"aria-labelled-by\");\n\n                that.resize();\n\n                that.trigger(RESTORE);\n\n                return that;\n            },\n\n            _sizingAction: function(actionId, callback) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    style = wrapper[0].style,\n                    options = that.options;\n\n                if (options.isMaximized || options.isMinimized) {\n                    return that;\n                }\n\n                that.restoreOptions = {\n                    width: style.width,\n                    height: style.height\n                };\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).hide().end()\n                    .children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZEICONSELECTORS).parent().hide()\n                    .eq(0).before(templates.action({ name: \"window-restore\" }));\n\n                callback.call(that);\n\n                that.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPINICONCLASSSELECTOR).parent().toggle(actionId !== \"maximize\");\n\n                that.trigger(actionId);\n\n                wrapper.find(\".k-i-window-restore,.k-svg-i-window-restore\").parent().trigger(\"focus\");\n\n                return that;\n            },\n\n            maximize: function() {\n                this._sizingAction(\"maximize\", function() {\n                    var that = this,\n                        wrapper = that.wrapper,\n                        containmentContext = this.containment && !that._isPinned,\n                        position = wrapper.position(),\n                        doc = $(document);\n\n                    extend(that.restoreOptions, {\n                        left: position.left + (containmentContext ? this.containment.scrollLeft() : 0),\n                        top: position.top + (containmentContext ? this.containment.scrollTop() : 0)\n                    });\n\n                    this._containerScrollTop = containmentContext ? this.containment.scrollTop() : doc.scrollTop();\n                    this._containerScrollLeft = containmentContext ? this.containment.scrollLeft() : doc.scrollLeft();\n\n                    that._stopDocumentScrolling();\n\n                    wrapper\n                        .css({\n                            top: containmentContext ? this.containment.scrollTop() : 0,\n                            left: containmentContext ? this.containment.scrollLeft() : 0,\n                            position: containmentContext ? \"absolute\" : \"fixed\"\n                        })\n                        .addClass(MAXIMIZEDSTATE);\n\n                    that.options.isMaximized = true;\n\n                    that._onDocumentResize();\n                });\n\n                return this;\n            },\n\n            _stopDocumentScrolling: function() {\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._storeOverflowRule(containment);\n                    containment.css(OVERFLOW, HIDDEN);\n                    that.wrapper.css({\n                        maxWidth: containment.innerWidth(),\n                        maxHeight: containment.innerHeight()\n                    });\n                    return;\n                }\n\n                var $body = $(\"body\");\n                that._storeOverflowRule($body);\n                $body.css(OVERFLOW, HIDDEN);\n\n                var $html = $(\"html\");\n                that._storeOverflowRule($html);\n                $html.css(OVERFLOW, HIDDEN);\n            },\n\n            _enableDocumentScrolling: function() {\n                var that = this;\n                var containment = that.containment;\n\n                if (containment && !that._isPinned) {\n                    that._restoreOverflowRule(containment);\n                    that.wrapper.css({\n                        maxWidth: containment.width,\n                        maxHeight: containment.height\n                    });\n                    return;\n                }\n\n                that._restoreOverflowRule($(document.body));\n                that._restoreOverflowRule($(\"html\"));\n            },\n\n            _storeOverflowRule: function($element) {\n                if (this._isOverflowStored($element)) {\n                    return;\n                }\n\n                var overflowRule = $element.get(0).style.overflow;\n\n                if (typeof overflowRule === \"string\") {\n                    $element.data(DATADOCOVERFLOWRULE, overflowRule);\n                }\n            },\n\n            _isOverflowStored: function($element) {\n                return typeof $element.data(DATADOCOVERFLOWRULE) === \"string\";\n            },\n\n            _restoreOverflowRule: function($element) {\n                var overflowRule = $element.data(DATADOCOVERFLOWRULE);\n\n                if (overflowRule !== null && overflowRule !== undefined$1) {\n                    $element.css(OVERFLOW, overflowRule);\n                    $element.removeData(DATADOCOVERFLOWRULE);\n                } else {\n                    $element.css(OVERFLOW, \"\");\n                }\n            },\n\n            isMaximized: function() {\n                return this.options.isMaximized;\n            },\n\n            minimize: function() {\n                this._sizingAction(\"minimize\", function() {\n                    var that = this;\n\n                    that.wrapper.css({\n                        height: \"\",\n                        minHeight: \"\"\n                    });\n\n                    that.element.hide();\n\n                    that.options.isMinimized = true;\n                });\n\n                this.wrapper.attr(\"aria-labelled-by\", this.element.attr(\"aria-labelled-by\"));\n                this.wrapper.addClass(KWINDOWMINIMIZED);\n\n                this._updateBoundaries();\n\n                return this;\n            },\n\n            isMinimized: function() {\n                return this.options.isMinimized;\n            },\n\n            pin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = options.position,\n                    top = this.containment ? getPosition(wrapper[0]).top + toInt(this.containment, \"borderTopWidth\") : toInt(wrapper, \"top\"),\n                    left = this.containment ? getPosition(wrapper[0]).left + toInt(this.containment, \"borderLeftWidth\") : toInt(wrapper, \"left\");\n\n                if (!that.options.isMaximized) {\n                    position.top = top;\n                    position.left = left;\n\n                    if (that._scrollIsAppended && (!this.containment || this.containment.css(\"position\") !== \"fixed\")) {\n\n                        position.top -= win.scrollTop();\n                        position.left -= win.scrollLeft();\n                        that._scrollIsAppended = false;\n                    }\n\n                    wrapper.css(extend(position, { position: \"fixed\" }));\n                    var pinIcon = wrapper.children(KWINDOWTITLEBAR).find(KPINICONCLASSSELECTOR).eq(0);\n                    if (pinIcon.length > 0) {\n                        kendo.ui.icon(pinIcon, { icon: \"unpin\" });\n                    }\n\n                    that._isPinned = true;\n                    that.options.pinned = true;\n\n                    if (this.containment) {\n                        options.maxWidth = options.maxHeight = Infinity;\n                        wrapper.css({\n                            maxWidth: \"\",\n                            maxHeight: \"\"\n                        });\n                    }\n                }\n            },\n\n            unpin: function() {\n                var that = this,\n                    win = $(window),\n                    wrapper = that.wrapper,\n                    options = that.options,\n                    position = that.options.position,\n                    containment = that.containment,\n                    top = parseInt(wrapper.css(\"top\"), 10) + win.scrollTop(),\n                    left = parseInt(wrapper.css(\"left\"), 10) + win.scrollLeft();\n\n                if (!that.options.isMaximized) {\n                    that._isPinned = false;\n                    that._scrollIsAppended = true;\n                    that.options.pinned = false;\n\n                    if (containment) {\n                        that._updateBoundaries();\n\n                        options.maxWidth = Math.min(containment.width, options.maxWidth);\n                        options.maxHeight = Math.min(containment.height - toInt(wrapper, \"padding-top\"), options.maxHeight);\n\n                        wrapper.css({\n                            maxWidth: options.maxWidth,\n                            maxHeight: options.maxHeight\n                        });\n\n                        if (top < containment.position.top) {\n                            top = that.minTop;\n                        } else if (top > containment.position.top + containment.height) {\n                            top = that.maxTop;\n                        } else {\n                            top = top + containment.scrollTop() - (containment.position.top + toInt(containment, \"border-top-width\"));\n                        }\n\n                        if (left < containment.position.left) {\n                            left = that.minLeft;\n                        } else if (left > containment.position.left + containment.width) {\n                            left = that.maxLeft;\n                        } else {\n                            left = left + containment.scrollLeft() - (containment.position.left + toInt(containment, \"border-left-width\"));\n                        }\n\n                    }\n\n                    position.top = constrain(top, that.minTop, that.maxTop);\n                    position.left = constrain(left, that.minLeft, that.maxLeft);\n\n                    wrapper.css(extend(position, { position: \"\" }));\n                    var pinIcon = wrapper.children(KWINDOWTITLEBAR).find(KUNPINICONCLASSSELECTOR).eq(0);\n                    if (pinIcon.length > 0) {\n                        kendo.ui.icon(pinIcon, { icon: \"pin\" });\n                    }\n                }\n            },\n\n            _onDocumentResize: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    wnd = $(window),\n                    zoomLevel = kendo.support.zoomLevel(),\n                    contentBoxSizing = wrapper.css(\"box-sizing\") == \"content-box\",\n                    w, h;\n\n                if (!that.options.isMaximized) {\n                    return;\n                }\n\n                var lrBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-left-width\") + toInt(wrapper, \"border-right-width\") : 0;\n                var tbBorderWidth = contentBoxSizing ? toInt(wrapper, \"border-top-width\") + toInt(wrapper, \"border-bottom-width\") : 0;\n                var paddingTop = contentBoxSizing ? toInt(wrapper, \"padding-top\") : 0;\n\n                if (that.containment && !that._isPinned) {\n                    w = that.containment.innerWidth() - lrBorderWidth;\n                    h = that.containment.innerHeight() - (tbBorderWidth + paddingTop);\n                } else {\n                    w = wnd.width() / zoomLevel - lrBorderWidth;\n                    h = wnd.height() / zoomLevel - (tbBorderWidth + paddingTop);\n                }\n\n                wrapper.css({\n                    width: w,\n                    height: h\n                });\n                that.options.width = w;\n                that.options.height = h;\n\n                that.resize();\n            },\n\n            refresh: function(options) {\n                var that = this,\n                    initOptions = that.options,\n                    element = $(that.element),\n                    iframe,\n                    showIframe,\n                    url;\n\n                if (!isPlainObject(options)) {\n                    options = { url: options };\n                }\n\n                options = extend(initOptions.content, options);\n\n                showIframe = defined(initOptions.iframe) ? initOptions.iframe : options.iframe;\n\n                url = options.url;\n\n                if (url) {\n                    if (!defined(showIframe)) {\n                        showIframe = !isLocalUrl(url);\n                    }\n\n                    if (!showIframe) {\n                        // perform AJAX request\n                        that._ajaxRequest(options);\n                    } else {\n                        iframe = element.find(\".\" + KCONTENTFRAME)[0];\n\n                        if (iframe) {\n                            // refresh existing iframe\n                            iframe.src = url || iframe.src;\n                        } else {\n                            // render new iframe\n                            element.html(templates.contentFrame(extend({}, initOptions, { content: options })));\n                        }\n\n                        element.find(\".\" + KCONTENTFRAME)\n                            .off(\"load\" + NS)\n                            .on(\"load\" + NS, this._triggerRefresh.bind(this));\n                    }\n                } else {\n                    if (options.template) {\n                        // refresh template\n                        that.content(template(options.template)({}));\n                    }\n\n                    that.trigger(REFRESH);\n                }\n\n                element.toggleClass(\"k-window-iframecontent\", !!showIframe);\n\n                return that;\n            },\n\n            _triggerRefresh: function() {\n                this.trigger(REFRESH);\n            },\n\n            _ajaxComplete: function() {\n                clearTimeout(this._loadingIconTimeout);\n                this.wrapper.find(REFRESHICONSELECTOR).removeClass(LOADINGICONCLASS);\n            },\n\n            _ajaxError: function(xhr, status) {\n                this.trigger(ERROR, { status: status, xhr: xhr });\n            },\n\n            _ajaxSuccess: function(contentTemplate) {\n                return function(data) {\n                    var html = data;\n                    if (contentTemplate) {\n                        html = template(contentTemplate)(data || {});\n                    }\n\n                    this.content(html, data);\n                    this.element.prop(\"scrollTop\", 0);\n\n                    this.trigger(REFRESH);\n                };\n            },\n\n            _showLoading: function() {\n                this.wrapper.find(REFRESHICONSELECTOR).addClass(LOADINGICONCLASS);\n            },\n\n            _ajaxRequest: function(options) {\n                this._loadingIconTimeout = setTimeout(this._showLoading.bind(this), 100);\n\n                $.ajax(extend({\n                    type: \"GET\",\n                    dataType: \"html\",\n                    cache: false,\n                    error: this._ajaxError.bind(this),\n                    complete: this._ajaxComplete.bind(this),\n                    success: this._ajaxSuccess(options.template).bind(this)\n                }, options));\n            },\n\n            _destroy: function() {\n                if (this.resizing) {\n                    this.resizing.destroy();\n                }\n\n                if (this.dragging) {\n                    this.dragging.destroy();\n                }\n\n                this.wrapper.off(NS)\n                    .children(KWINDOWCONTENT).off(NS).end()\n                    .find(\".k-resize-handle,.k-window-titlebar\").off(NS);\n\n                $(window).off(\"resize\" + NS + this._marker);\n                $(window).off(MODAL_NS);\n                $(window).off(NS);\n\n                clearTimeout(this._loadingIconTimeout);\n\n                Widget.fn.destroy.call(this);\n\n                this.unbind(undefined$1);\n\n                kendo.destroy(this.wrapper);\n            },\n\n            destroy: function() {\n                this._destroy();\n\n                if (this.options.modal) {\n                    this._removeOverlay(true);\n                }\n\n                this.wrapper.empty().remove();\n\n                this.wrapper = this.appendTo = this.element = $();\n            },\n\n            _createWindow: function() {\n                var contentHtml = this.element,\n                    options = this.options,\n                    iframeSrcAttributes,\n                    wrapper,\n                    isRtl = kendo.support.isRtl(contentHtml);\n\n                if (options.scrollable === false) {\n                    contentHtml.css(\"overflow\", \"hidden\");\n                }\n\n                wrapper = $(templates.wrapper(options));\n\n                // Collect the src attributes of all iframes and then set them to empty string.\n                // This seems to fix this IE9 \"feature\": http://msdn.microsoft.com/en-us/library/gg622929%28v=VS.85%29.aspx?ppud=4\n                iframeSrcAttributes = contentHtml.find(\"iframe:not(.k-content-frame)\").map(function() {\n                    var src = this.getAttribute(\"src\");\n                    this.src = \"\";\n                    return src;\n                });\n\n                // Make sure the wrapper is appended to the body only once. IE9+ will throw exceptions if you move iframes in DOM\n                wrapper\n                    .toggleClass(\"k-rtl\", isRtl)\n                    .attr(\"tabindex\", 0)\n                    .append(contentHtml)\n                    .find(\"iframe:not(.k-content-frame)\").each(function(index) {\n                    // Restore the src attribute of the iframes when they are part of the live DOM tree\n                    this.src = iframeSrcAttributes[index];\n                });\n\n                if (this.containment) {\n                    this.containment.prepend(wrapper);\n                } else if (this.appendTo) {\n                    wrapper.appendTo(this.appendTo);\n                }\n\n                wrapper.find(\".k-window-title\")\n                    .css(isRtl ? \"left\" : \"right\", outerWidth(wrapper.find(\".k-window-titlebar-actions\")) + 10);\n\n                contentHtml.css(\"visibility\", \"\").show();\n\n                if ($(contentHtml).hasClass(KHIDDEN))\n                {\n                    $(contentHtml).removeClass(KHIDDEN);\n                }\n                contentHtml.find(\"[data-role=editor]\").each(function() {\n                    var editor = $(this).data(\"kendoEditor\");\n\n                    if (editor) {\n                        editor.refresh();\n                    }\n                });\n\n                wrapper = contentHtml = null;\n            }\n        });\n\n        templates = {\n            wrapper: template(() => \"<div class='k-window'></div>\"),\n            action: template(({ name, icon }) => {\n                let iconName = (icon || \"\").toLowerCase() || name.toLowerCase();\n                if (iconName == \"restore\") { iconName = \"window-restore\"; }\n\n                return kendo.html.renderButton(`<button role='button' class='k-window-titlebar-action' aria-label='${name}'></button>`, { icon: iconName, fillMode: \"flat\" });\n            }),\n            titlebar: template(({ title }) =>\n                \"<div class='k-window-titlebar'>\" +\n                    `<span class='k-window-title'>${title}</span>` +\n                    \"<div class='k-window-titlebar-actions'></div>\" +\n                \"</div>\"\n            ),\n            overlay: \"<div class='k-overlay'></div>\",\n            contentFrame: template(({ title, content }) =>\n                `<iframe frameborder='0' title='${title}' class='${KCONTENTFRAME}' ` +\n                `src='${content.url}'>` +\n                \"This page requires frames in order to show content\" +\n                \"</iframe>\"\n            ),\n            resizeHandle: template((data) => `<div aria-hidden='true' class='k-resize-handle k-resize-${data}'></div>`)\n        };\n\n\n        function WindowResizing(wnd) {\n            var that = this;\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: \">\" + KWINDOWRESIZEHANDLES,\n                group: wnd.wrapper.id + \"-resizing\",\n                dragstart: that.dragstart.bind(that),\n                drag: that.drag.bind(that),\n                dragend: that.dragend.bind(that)\n            });\n\n            that._draggable.userEvents.bind(\"press\", that.addOverlay.bind(that));\n            that._draggable.userEvents.bind(\"release\", that.removeOverlay.bind(that));\n        }\n\n        WindowResizing.prototype = {\n            addOverlay: function() {\n                this.owner.wrapper.append(templates.overlay);\n            },\n            removeOverlay: function() {\n                this.owner.wrapper.find(KOVERLAY).remove();\n            },\n            dragstart: function(e) {\n                var that = this;\n                var wnd = that.owner;\n                var wrapper = wnd.wrapper;\n\n                that._preventDragging = wnd.trigger(RESIZESTART);\n                if (that._preventDragging) {\n                    return;\n                }\n\n                that.elementPadding = parseInt(wrapper.css(\"padding-top\"), 10);\n                that.initialPosition = kendo.getOffset(wrapper, \"position\");\n\n                that.resizeDirection = e.currentTarget.prop(\"className\").replace(\"k-resize-handle k-resize-\", \"\");\n\n                that.initialSize = {\n                    width: wrapper.outerWidth(),\n                    height: wrapper.outerHeight()\n                };\n\n                wnd._updateBoundaries();\n\n                that.containerOffset = wnd.containment ? wnd.containment.position : kendo.getOffset(wnd.appendTo);\n\n                var offsetParent = wrapper.offsetParent();\n\n                if (offsetParent.is(\"html\")) {\n                    that.containerOffset.top = that.containerOffset.left = 0;\n                } else {\n                    var marginTop = offsetParent.css(\"margin-top\");\n                    var marginLeft = offsetParent.css(\"margin-left\");\n                    var hasMargin = !zero.test(marginTop) || !zero.test(marginLeft);\n                    if (hasMargin) {\n                        var wrapperPosition = getPosition(wrapper[0]);\n                        var relativeElMarginLeft = wrapperPosition.left - that.containerOffset.left - that.initialPosition.left;\n                        var relativeElMarginTop = wrapperPosition.top - that.containerOffset.top - that.initialPosition.top;\n\n                        that._relativeElMarginLeft = relativeElMarginLeft > 1 ? relativeElMarginLeft : 0;\n                        that._relativeElMarginTop = relativeElMarginTop > 1 ? relativeElMarginTop : 0;\n\n                        that.initialPosition.left += that._relativeElMarginLeft;\n                        that.initialPosition.top += that._relativeElMarginTop;\n                    }\n                }\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n            drag: function(e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper,\n                    options = wnd.options,\n                    position = options.position,\n                    direction = that.resizeDirection,\n                    containerOffset = that.containerOffset,\n                    initialPosition = that.initialPosition,\n                    initialSize = that.initialSize,\n                    containmentContext = wnd.containment && !wnd._isPinned,\n                    rtl = kendo.support.isRtl(wnd.containment),\n                    leftRtlOffset = containmentContext && rtl && wnd.containment.innerWidth() > wnd.containment.width ? kendo.support.scrollbar() : 0,\n                    scrollOffset = containmentContext ? { top: wnd.containment.scrollTop(), left: wnd.containment.scrollLeft() } : { top: 0, left: 0 },\n                    newWidth, newHeight,\n                    windowBottom, windowRight,\n                    x = Math.max(e.x.location, 0),\n                    y = Math.max(e.y.location, 0);\n\n                    if (direction.indexOf(\"e\") >= 0) {\n\n                        if (wnd.containment && x - initialSize.width >= wnd.maxLeft - scrollOffset.left + containerOffset.left + leftRtlOffset) {\n                            newWidth = wnd.maxLeft + leftRtlOffset - initialPosition.left + initialSize.width - scrollOffset.left;\n                        } else {\n                            newWidth = x - initialPosition.left - containerOffset.left;\n                        }\n\n                        wrapper.outerWidth(constrain(newWidth, options.minWidth, options.maxWidth));\n                    } else if (direction.indexOf(\"w\") >= 0) {\n                        windowRight = initialPosition.left + initialSize.width + containerOffset.left;\n                        newWidth = constrain(windowRight - x, options.minWidth, options.maxWidth);\n                        position.left = windowRight - newWidth - containerOffset.left - leftRtlOffset - (that._relativeElMarginLeft || 0) + scrollOffset.left;\n\n                        if (wnd.containment && position.left <= wnd.minLeft) {\n                            position.left = wnd.minLeft;\n                            newWidth = constrain(windowRight - leftRtlOffset - position.left - containerOffset.left + scrollOffset.left, options.minWidth, options.maxWidth);\n                        }\n\n                        wrapper.css({\n                            left: position.left,\n                            width: newWidth\n                        });\n                    }\n\n                    var newWindowTop = y;\n                    if (wnd.options.pinned) {\n                        newWindowTop -= $(window).scrollTop();\n                    }\n                    if (direction.indexOf(\"s\") >= 0) {\n                        newHeight = newWindowTop - initialPosition.top - that.elementPadding - containerOffset.top;\n\n                        if (newWindowTop - initialSize.height - that.elementPadding >= wnd.maxTop + containerOffset.top - scrollOffset.top) {\n                            newHeight = wnd.maxTop - initialPosition.top + initialSize.height - scrollOffset.top;\n                        }\n\n                        wrapper.outerHeight(constrain(newHeight, options.minHeight, options.maxHeight));\n                    } else if (direction.indexOf(\"n\") >= 0) {\n                        windowBottom = initialPosition.top + initialSize.height + containerOffset.top;\n                        newHeight = constrain(windowBottom - newWindowTop, options.minHeight, options.maxHeight);\n                        position.top = windowBottom - newHeight - containerOffset.top - (that._relativeElMarginTop || 0) + scrollOffset.top;\n\n                        if (position.top <= wnd.minTop && wnd.containment) {\n                            position.top = wnd.minTop;\n                            newHeight = constrain(windowBottom - position.top - containerOffset.top + scrollOffset.top, options.minHeight, options.maxHeight);\n                        }\n\n                        wrapper.css({\n                            top: position.top,\n                            height: newHeight\n                        });\n                    }\n\n                    if (newWidth) {\n                        wnd.options.width = newWidth + \"px\";\n                    }\n                    if (newHeight) {\n                        wnd.options.height = newHeight + \"px\";\n                    }\n\n                    wnd.resize();\n            },\n            dragend: function(e) {\n                if (this._preventDragging) {\n                    return;\n                }\n\n                var that = this,\n                    wnd = that.owner,\n                    wrapper = wnd.wrapper;\n\n                wrapper\n                    .children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show();\n\n                $(BODY).css(CURSOR, \"\");\n\n                if (wnd.touchScroller) {\n                    wnd.touchScroller.reset();\n                }\n\n                if (e.keyCode == 27) {\n                    wrapper.css(that.initialPosition)\n                        .css(that.initialSize);\n                }\n\n                wnd.trigger(RESIZEEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        function WindowDragging(wnd, dragHandle, clickMoveClick) {\n            var that = this,\n                filter = dragHandle;\n\n            if (clickMoveClick) {\n                filter += \",.k-overlay\";\n            }\n\n            that.owner = wnd;\n            that._preventDragging = false;\n            that._draggable = new Draggable(wnd.wrapper, {\n                filter: dragHandle,\n                group: wnd.wrapper.id + \"-moving\",\n                clickMoveClick: clickMoveClick,\n                dragstart: that.dragstart.bind(that),\n                drag: that.drag.bind(that),\n                dragend: that.dragend.bind(that),\n                dragcancel: that.dragcancel.bind(that)\n            });\n\n            that._draggable.userEvents.stopPropagation = false;\n        }\n\n        WindowDragging.prototype = {\n            dragstart: function(e) {\n                var wnd = this.owner,\n                    draggable = wnd.options.draggable,\n                    element = wnd.element,\n                    actions = element.find(\".k-window-titlebar-actions\"),\n                    containerOffset = kendo.getOffset(wnd.appendTo);\n\n                this._preventDragging = wnd.trigger(DRAGSTART) || !draggable;\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                wnd.initialWindowPosition = kendo.getOffset(wnd.wrapper, \"position\");\n\n                if (!wnd.initialPointerPosition) {\n                    wnd.options.position.left = constrain(wnd.initialWindowPosition.left, wnd.minLeft, wnd.maxLeft);\n                    wnd.options.position.top = constrain(wnd.initialWindowPosition.top, wnd.minTop, wnd.maxTop);\n                }\n\n                wnd.initialPointerPosition = {\n                    left: wnd.options.position.left,\n                    top: wnd.options.position.top\n                };\n\n                wnd.startPosition = {\n                    left: e.x.client - wnd.initialWindowPosition.left,\n                    top: e.y.client - wnd.initialWindowPosition.top\n                };\n\n                wnd._updateBoundaries();\n                if (!wnd.containment) {\n                    if (actions.length > 0) {\n                        wnd.minLeft = outerWidth(actions) + parseInt(actions.css(\"right\"), 10) - outerWidth(element);\n                    } else {\n                        wnd.minLeft = 20 - outerWidth(element); // at least 20px remain visible\n                    }\n\n                    wnd.minLeft -= containerOffset.left;\n                    wnd.minTop = -containerOffset.top;\n                }\n\n                $(templates.overlay).appendTo(wnd.wrapper).css({ opacity: 0 });\n\n                wnd.wrapper.children(KWINDOWRESIZEHANDLES).hide();\n\n                $(BODY).css(CURSOR, e.currentTarget.css(CURSOR));\n            },\n\n            drag: function(e) {\n                var wnd = this.owner;\n                var position = wnd.options.position;\n                var axis = wnd.options.draggable.axis;\n                var left;\n                var top;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                if (!axis || axis.toLowerCase() === \"x\") {\n                    left = e.x.client - wnd.startPosition.left;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        left += wnd.containment.scrollLeft();\n                    }\n\n                    position.left = constrain(left, wnd.minLeft, wnd.maxLeft);\n                }\n\n                if (!axis || axis.toLowerCase() === \"y\") {\n                    top = e.y.client - wnd.startPosition.top;\n\n                    if (wnd.containment && !wnd._isPinned) {\n                        top += wnd.containment.scrollTop();\n                    }\n\n                    position.top = constrain(top, wnd.minTop, wnd.maxTop);\n                }\n\n                $(wnd.wrapper).css(\n                    \"transform\", \"translate(\" +\n                    (position.left - wnd.initialPointerPosition.left) + \"px, \" +\n                    (position.top - wnd.initialPointerPosition.top) + \"px)\"\n                );\n\n            },\n\n            _finishDrag: function() {\n                var wnd = this.owner;\n\n                wnd.wrapper\n                    .children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end()\n                    .find(KOVERLAY).remove();\n\n                $(BODY).css(CURSOR, \"\");\n            },\n\n            dragcancel: function(e) {\n                if (this._preventDragging) {\n                    return;\n                }\n                this._finishDrag();\n\n                e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition);\n            },\n\n            dragend: function() {\n                var wnd = this.owner;\n\n                if (this._preventDragging || wnd.isMaximized()) {\n                    return;\n                }\n\n                $(wnd.wrapper)\n                    .css(wnd.options.position)\n                    .css(\"transform\", \"\");\n\n                this._finishDrag();\n\n                wnd.trigger(DRAGEND);\n\n                return false;\n            },\n            destroy: function() {\n                if (this._draggable) {\n                    this._draggable.destroy();\n                }\n\n                this._draggable = this.owner = null;\n            }\n        };\n\n        kendo.ui.plugin(Window);\n\n    })(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { __meta__, kendo$1 as default };\n"]}
/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.dataviz.chart.js";import{N as NAVIGATOR_AXIS,x as NAVIGATOR_PANE,y as StockChart,I as InstanceObserver,e as defined,j as inArray,z as constants,E as Navigator,F as NavigatorHint}from"./kendo.charts.cmn.chunk.js";const __meta__={id:"dataviz.stockchart",name:"StockChart",category:"dataviz",description:"StockChart widget and associated financial series.",depends:["dataviz.chart","charts.cmn.chunk"]};!function(){window.kendo.dataviz=window.kendo.dataviz||{};var t=window.kendo,a=t.dataviz,i=a.ui.Chart,e=t.deepExtend,n=NAVIGATOR_AXIS,o=NAVIGATOR_PANE,r="change",s=i.extend({options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:({category:a})=>t.toString(a,"d")},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1},persistSeriesVisibility:!0},_createChart:function(t,a){this._initNavigatorOptions(t),this._instance=new StockChart(this.element[0],t,a,{observer:new InstanceObserver(this,{showTooltip:"_showTooltip",hideTooltip:"_hideTooltip",legendItemClick:"_onLegendItemClick",render:"_onRender",init:"_onInit",drilldown:"_onDrilldown",navigatorFilter:"_onNavigatorFilter",navigatorCreated:"_onNavigatorCreated"}),sender:this,rtl:this._isRtl()})},_initNavigatorOptions:function(a){var i=a.navigator||{},n=t.support,o=n.touch,r=n.browser.mozilla;e(i,{autoBindElements:!i.dataSource,partialRedraw:i.dataSource,liveDrag:!o&&!r})},_initDataSource:function(n){var o=n||{},r=o.dataSource,s=r&&r.serverFiltering,c=[].concat(o.categoryAxis)[0],v=(o.navigator||{}).select,g=v&&v.from&&v.to;if(s&&g){var l=[].concat(r.filter||[]),h=t.parseDate(v.from),u=t.parseDate(v.to),_=new a.DateCategoryAxis(e({baseUnit:"fit"},c,{categories:[h,u]}),t);r.filter=d(_.range().min,u).concat(l)}i.fn._initDataSource.call(this,n)},_onNavigatorCreated:function(t){this._instance=t.sender,this.options=t.sender.options,this._navigator=this.navigator=t.navigator,this._initNavigatorDataSource()},_initNavigatorDataSource:function(){var a=this.options.navigator,i=a.autoBind,e=a.dataSource;e&&(this._navigatorDataChangedHandler=this._navigatorDataChangedHandler||this._onNavigatorDataChanged.bind(this),this._navigatorDataSource=t.data.DataSource.create(e).bind(r,this._navigatorDataChangedHandler),defined(i)||(i=this.options.autoBind),i&&this._navigatorDataSource.fetch())},_bindNavigatorSeries:function(t,a){var i,e,o=t.length;for(i=0;i<o;i++)(e=t[i]).axis==n&&this._isBindable(e)&&(e.data=a)},_onNavigatorDataChanged:function(){var t,a,i,e=this,r=e._instance,s=e.options.categoryAxis,d=s.length,c=e._navigatorDataSource.view();for(this._bindNavigatorSeries(e.options.series,c),e._sourceSeries&&this._bindNavigatorSeries(e._sourceSeries,c),t=0;t<d;t++)(a=s[t]).pane==o&&(a.name==n?(e._bindCategoryAxis(a,c,t),i=a.categories):a.categories=i);if(r._model){var v=this.navigator;v.redraw(),v.setRange(),(!e.options.dataSource||e.options.dataSource&&e._dataBound)&&v.redrawSlaves()}},_bindCategories:function(){i.fn._bindCategories.call(this),this._instance&&this._instance.copyNavigatorCategories()},_onDataChanged:function(){i.fn._onDataChanged.call(this),this._dataBound=!0},setOptions:function(t){this._removeNavigatorDataSource(),this._initNavigatorOptions(t),this._instance.destroyNavigator(),i.fn.setOptions.call(this,t)},_onNavigatorFilter:function(t){this.dataSource.filter(d(t.from,t.to))},requiresHandlers:function(t){if(inArray("navigatorFilter",t)){var a=this.dataSource;return a&&a.options.serverFiltering&&this.options.navigator.dataSource}return i.fn.requiresHandlers.call(this,t)},_removeNavigatorDataSource:function(){var t=this._navigatorDataSource;t&&(t.unbind(r,this._navigatorDataChangedHandler),delete this._navigatorDataSource)},destroy:function(){i.fn.destroy.call(this),this._removeNavigatorDataSource()}});function d(t,a){return[{field:"Date",operator:"gte",value:t},{field:"Date",operator:"lt",value:a}]}t.deepExtend(t.dataviz,{constants:constants,Navigator:Navigator,NavigatorHint:NavigatorHint,StockChart:s}),a.ui.plugin(s)}(window.kendo.jQuery);var kendo$1=kendo;export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.dataviz.stock.js.map

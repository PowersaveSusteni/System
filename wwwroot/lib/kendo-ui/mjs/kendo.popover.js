/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.tooltip.js";import"./kendo.html.button.js";const __meta__={id:"popover",name:"Popover",category:"web",description:"The Popover widget displays a popup with additional information for an element.",depends:["tooltip","html.button"],features:[{id:"popover-fx",name:"Animation",description:"Support for animation",depends:["fx"]}]};!function(t){var o=window.kendo,e=o.ui.Popup,i=o.ui.TooltipBase,n=t.extend,r=t(document),s=".kendoPopover",a=({index:t,text:e})=>o.html.renderButton(`<button ${t}>${e}</button>`,{fillMode:"flat",themeColor:"primary"}),p=({index:t,text:e,icon:i,iconClass:n})=>o.html.renderButton(`<button ${t}>${e}</button>`,{icon:i,iconClass:"k-button-icon"+(n?` ${n}`:"")}),c=({index:t,icon:e,iconClass:i})=>o.html.renderButton(`<button ${t}></button>`,{icon:e,iconClass:"k-button-icon"+(i?` ${i}`:"")}),l=({callout:t,dir:o})=>'<div role="tooltip" class="k-popover">'+(t?'<div class="k-popover-callout k-callout-'+o+'"></div><div class="k-popover-inner"></div>':"")+"</div>",d="show",u="hide",h={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},f={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},m={bottom:"n",top:"s",left:"e",right:"w",center:"n"},v={mouseenter:"mouseleave",focus:"blur",focusin:"focusout"},_={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},g=i.extend({init:function(e,n){var r,a=this;i.fn.init.call(a,e,n),r=a.options.position.match(/left|right/)?"horizontal":"vertical",a.dimensions=_[r],a._saveTitle=t.noop,a._documentKeyDownHandler=a._documentKeyDown.bind(a),a._actionsHandler=a._actionsClick.bind(a),a.options.toggleOnClick&&a._isShownOnClick()&&a.element.on((o.support.touch?o.support.mousedown:a.options.showOn)+s,a.options.filter,a._showAction.bind(a)),a._isShownOnClick()||a.element.on(v[a.options.showOn],a.options.filter,a._dismissAction.bind(a))},options:{name:"Popover",filter:"",actions:[],actionsLayout:"center",position:"bottom",showOn:"mouseenter",toggleOnClick:!1,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{duration:40,hide:!0}}},events:[d,u],_addAria:function(){var t,e=this,i=e.options;e._isShownOnClick()&&e.wrapper.find("a,input,select,textarea,button").length?(e.wrapper.attr("role","dialog"),e._isDialog=!0,i.header&&(t=o.guid(),e.wrapper.attr("aria-labelledby",t).find(".k-popover-header").attr("id",t)),i.body&&(t=o.guid(),e.wrapper.attr("aria-describedby",t).find(".k-popover-body").attr("id",t))):e.wrapper.attr("role","tooltip")},_appendContent:function(t){var e=this,i=e.options,n=e.wrapper.find(".k-popover-inner"),r=e.options.template,s=()=>"";n.length?n.children().remove():e.wrapper.children(":not(.k-popover-callout)").remove(),n=n.length?n:e.wrapper,r?n.append(o.template(r)({target:t})):n.append((({header:t,actions:o,body:e,positioning:i})=>(t?'<div class="k-popover-header">'+t+"</div>":"")+`<div class="k-popover-body">${e}</div>`+(o?'<div class="k-popover-actions k-actions k-actions-horizontal k-justify-content-'+i+'">'+o+"</div>":""))({header:o.template(i.header||s)({target:t}),body:o.template(i.body||s)({target:t}),actions:e._buildActions(i.actions),positioning:i.actionsLayout}))},_actionsClick:function(e){var i=this,n=i.options.actions,r=t(e.currentTarget),s=n[parseInt(r.attr(o.attr("index")),10)];s.click&&s.click.call(i,{sender:i,target:r})},_attachActions:function(){this.wrapper.on("click"+s,".k-popover-actions .k-button",this._actionsHandler)},_dettachActions:function(){var t=this;t.wrapper&&t.wrapper.off("click"+s,t._actionsHandler)},_buildActions:function(t){if(t.length){for(var e,i="",n=0;n<t.length;n++)(e=t[n]).text&&(e.icon||e.iconClass)?i+=o.template(p)({text:e.text,index:o.attr("index")+"="+n,icon:e.icon,iconClass:e.iconClass}):!e.icon&&!e.iconClass||e.text?i+=o.template(a)({text:e.text,index:o.attr("index")+"="+n}):i+=o.template(c)({index:o.attr("index")+"="+n,icon:e.icon,iconClass:e.iconClass});return i}},_documentKeyDown:function(t){if(t.keyCode===o.keys.ESC&&(this._shown=!1,this._dismissAction()),t.keyCode===o.keys.TAB){var e=this.wrapper.find(":kendoFocusable"),i=e.first(),n=e.last();t.shiftKey?document.activeElement===i[0]&&(n.trigger("focus"),t.preventDefault()):document.activeElement===n[0]&&(i.trigger("focus"),t.preventDefault())}},_initPopup:function(){var i=this,a=i.options,p=t(o.template(l)({callout:a.callout&&"center"!==a.position,dir:m[a.position]}));i.wrapper=p,i.popup=new e(p,n({activate:function(){i._offset(i.options.position,i.options.offset,28),i._positionCallout(),i._attachActions(),r.on("keydown"+s,i._documentKeyDownHandler),i._isDialog?i.wrapper.find(":kendoFocusable").first().trigger("focus"):i._addDescribedBy(),i.trigger(d),i.popup._hovered=undefined},close:function(t){i.options.toggleOnClick&&i._shown?t.preventDefault():i.trigger(u)},copyAnchorStyles:!1,animation:a.animation},f[a.position])),p.css({width:a.width,height:a.height}),i._isShownOnMouseEnter()&&p.on("mouseleave"+s,i._dismissAction.bind(i)),i.arrow=p.find(".k-popover-callout")},_dismissAction:function(){var t=this;clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.popup&&!t.popup._hovered&&t.popup.close()}),t.options.hideAfter)},_showAction:function(){var t=this;t._shown=!t._shown,t._shown||t.popup.close()},_show:function(t){var o=this,e=o.target();o.popup||o._initPopup(),e&&e[0]!=t[0]&&(o.popup.close(),o.popup.element.parent().kendoStop(!0,!0)),e&&e[0]==t[0]||(o._appendContent(t),o._addAria(),o.popup.options.anchor=t),o.popup.one("deactivate",(function(){r.off("keydown"+s,o._documentKeyDownHandler),o._isDialog||(o._removeDescribedBy(o.target()),this.element.removeAttr("id")),o._dettachActions()})),o._openPopup()},_positionCallout:function(){var t=this,o=t.options.position,e=t.popup,i=m[e.flipped?h[o]:o];t.arrow.removeClass("k-callout-s k-callout-w k-callout-e k-callout-n").addClass("k-callout-"+i)},destroy:function(){this.element.off(s),this._dettachActions(),clearTimeout(this.timeout),r.off("keydown"+s,this._documentKeyDownHandler),i.fn.destroy.call(this)}});o.ui.plugin(g)}(window.kendo.jQuery);var kendo$1=kendo;export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.popover.js.map

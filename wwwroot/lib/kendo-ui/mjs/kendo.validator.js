/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";const __meta__={id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]};!function(t){let e=window.kendo,a=e.ui.Widget,i=".kendoValidator",r="k-invalid-msg",n=new RegExp(r,"i"),s="k-invalid",l="k-valid",o="k-validation-summary",d="k-text-error",u="k-messagebox k-messagebox-error",c="aria-invalid",m=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,h=["http:","https:","ftp:","ftps:"],p=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",f=":checkbox:not([disabled],[readonly])",g="[type=number],[type=range]",v="blur",_="name",y="form",k="novalidate",b="validate",x="change",w="validateInput",C=function(t,e){return"string"==typeof e&&(e=new RegExp("^(?:"+e+")$")),e.test(t)},S=function(t,e){return!!t.length&&null!=t[0].attributes[e]};function A(e){return t.parseHTML?t(t.parseHTML(e)):t(e)}function I(a,i){for(var r,s=t(),l=0,o=a.length;l<o;l++)r=a[l],n.test(r.className)&&r.getAttribute(e.attr("for"))===i&&(s=s.add(r));return s}function M(t,e){return!!t&&("string"==typeof t.nodeName&&"LABEL"===t.nodeName&&("string"==typeof t.getAttribute("for")&&"string"==typeof e.getAttribute("id")&&t.getAttribute("for")===e.getAttribute("id")))}e.ui.validator||(e.ui.validator={rules:{},messages:{},allowSubmit:t.noop,validateOnInit:t.noop});var V=({errors:t})=>{let e="<ul>";for(var a=0;a<t.length;a+=1)e+=`<li><a data-field="${t[a].field}" href="#">${t[a].message}</a></li>`;return e+="</ul>",e},E=a.extend({init:function(i,r){var n=this,s=function(a){var i,r=e.ui.validator.ruleResolvers||{},n={};for(i in r)t.extend(!0,n,r[i].resolve(a));return n}(i),l="["+e.attr("validate")+"!=false]";(r=r||{}).rules=t.extend({},e.ui.validator.rules,s.rules,r.rules),r.messages=t.extend({},e.ui.validator.messages,s.messages,r.messages),a.fn.init.call(n,i,r),n._errorTemplate=e.template(n.options.errorTemplate),n._summaryTemplate=e.template(n.options.validationSummary.template||V),n.element.is(y)&&n.element.attr(k,k),n._inputSelector=p+l,n._checkboxSelector=f+l,n._errors={},n._attachEvents(),n._isValidated=!1,n._validateOnInit()&&n.validate()},events:[b,x,w],options:{name:"Validator",errorTemplate:({message:t})=>`<span class="k-form-error">${t}</span>`,messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date",captcha:"The text you entered doesn't match the image."},rules:{required:function(t){var e=!t.attr("name")&&!t.is(":checked"),a=t.attr("name"),i=a&&a.indexOf("'")>-1?'"':"'",r=t.attr("name")&&!this.element.find("input[name="+i+t.attr("name")+i+"]:checked").length,n=t.filter("[type=checkbox]").length&&(e||r),s=t.filter("[type=radio]").length&&!this.element.find("input[name="+i+t.attr("name")+i+"]:checked").length,l=t.val();return!(S(t,"required")&&(!l||""===l||0===l.length||n||s))},pattern:function(t){return!t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===t.val()||C(t.val(),t.attr("pattern"))},min:function(t){return!t.filter(g+",["+e.attr("type")+"=number]").filter("[min]").length||""===t.val()||(parseFloat(t.attr("min"))||0)<=e.parseFloat(t.val())},max:function(t){return!t.filter(g+",["+e.attr("type")+"=number]").filter("[max]").length||""===t.val()||(parseFloat(t.attr("max"))||0)>=e.parseFloat(t.val())},step:function(t){if(t.filter(g+",["+e.attr("type")+"=number]").filter("[step]").length&&""!==t.val()){var a,i=parseFloat(t.attr("min"))||0,r=e.parseFloat(t.attr("step"))||1,n=parseFloat(t.val()),s=(l=((l=r)+"").split(".")).length>1?l[1].length:0;return s?(a=Math.pow(10,s),Math.floor((n-i)*a)%(r*a)/Math.pow(100,s)==0):(n-i)%r==0}var l;return!0},email:function(t){return function(t,e,a){var i=t.val();return!t.filter(e).length||""===i||C(i,a)}(t,"[type=email],["+e.attr("type")+"=email]",m)},url:function(t){if(t.filter("[type=url],["+e.attr("type")+"=url]").length&&""!==t.val())try{const e=new URL(t.val());return h.includes(e.protocol)}catch{return!1}return!0},date:function(t){return!t.filter("[type^=date],["+e.attr("type")+"=date]").length||""===t.val()||null!==e.parseDate(t.val(),t.attr(e.attr("format")))},captcha:function(t){if(t.filter("["+e.attr("role")+"=captcha]").length){var a=this,i=e.widgetInstance(t),r=function(t){return null!=t};if(t.data("captcha_validating")||r(i.isValid())||!i.getCaptchaId()||(t.data("captcha_validating",!0),a._validating=!0,i.validate().done((function(){a._validating=!1,a._checkElement(t)})).fail((function(t){a._validating=!1,t.error&&"handler_not_defined"===t.error&&window.console.warn("Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.")}))),r(i.isValid()))return t.removeData("captcha_validating"),i.isValid()}return!0}},validateOnBlur:!0,validationSummary:!1},_allowSubmit:function(){return e.ui.validator.allowSubmit(this.element,this.errors())},_validateOnInit:function(){return e.ui.validator.validateOnInit(this.element)},destroy:function(){a.fn.destroy.call(this),this.element.off(i),this.validationSummary&&(this.validationSummary.off(i),this.validationSummary=null)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(t){return!(!this.validate()&&!this._allowSubmit()||this._validating)||(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1)},_checkElement:function(t){var e=this.value();this.validateInput(t),this.value()!==e&&this.trigger(x)},_attachEvents:function(){var e=this;e.element.is(y)&&e.element.on("submit"+i,e._submit.bind(e)),e.options.validateOnBlur&&(e.element.is(p)?(e.element.on(v+i,(function(){e._checkElement(e.element)})),e.element.is(f)&&e.element.on("click"+i,(function(){e._checkElement(e.element)}))):(e.element.on(v+i,e._inputSelector,(function(){e._checkElement(t(this))})),e.element.on("click"+i,e._checkboxSelector,(function(){e._checkElement(t(this))}))))},validate:function(){var t,e,a,i=!1,r=this.value();if(this._errors={},this.element.is(p))i=this.validateInput(this.element);else{var n=!1;for(e=0,a=(t=this.element.find(this._inputSelector)).length;e<a;e++)this.validateInput(t.eq(e))||(n=!0);i=!n}return this.options.validationSummary&&!r&&this.showValidationSummary(),this.trigger(b,{valid:i,errors:this.errors()}),r!==i&&this.trigger(x),i},validateInput:function(a){a=t(a),this._isValidated=!0;var i,n,o=this,u=o._errorTemplate,m=o._checkValidity(a),h=m.valid,p="."+r,f=a.attr(_)||"",g=o._findMessageContainer(f).add(a.next(p).filter((function(){var a=t(this);return!a.filter("["+e.attr("for")+"]").length||a.attr(e.attr("for"))===f}))).addClass("k-hidden"),v=h?"":o._extractMessage(a,m.key),y=h?"":A(u({message:(n=v,n.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")),field:f})),k=!a.attr(c),b=a.is(".k-input-inner"),x=a.parent(".k-input");if(a.removeAttr(c),a.hasClass("k-hidden")&&(i=e.widgetInstance(a.closest(".k-signature"))),a.is("[type=radio]")&&(i=e.widgetInstance(a.closest(".k-radio-list"))),a.is("[type=checkbox]")&&(i=e.widgetInstance(a.closest(".k-checkbox-list"))),h||a.data("captcha_validating"))delete o._errors[f];else{o._errors[f]=v;var C=g.attr("id");if(o._decorateMessageContainer(y,f),C&&y.attr("id",C),0!==g.length)g.replaceWith(y);else{i=i||e.widgetInstance(a);var S=a.parent().get(0),I=a.next().get(0),V=a.prev().get(0);!i&&a.is("[type=radio]")&&(i=e.widgetInstance(a.closest(".k-radio-list"))),!i&&a.is("[type=checkbox]")&&(i=e.widgetInstance(a.closest(".k-checkbox-list"))),i&&i.wrapper&&(i.element!==i.wrapper||["Signature","RadioGroup","CheckBoxGroup"].indexOf(i.options.name)>-1)?y.insertAfter(i.wrapper):S&&"LABEL"===S.nodeName?y.insertAfter(S):I&&M(I,a[0])?y.insertAfter(I):V&&M(V,a[0])?y.insertAfter(a):b&&x.length?y.insertAfter(x):y.insertAfter(a)}y.removeClass("k-hidden"),a.attr(c,!0)}if(k!==h&&this.trigger(w,{valid:h,input:a,error:v,field:f}),(!(i=i&&"Signature"==i.options.name?i:e.widgetInstance(a))||!i._inputWrapper&&!i.wrapper||a.is("[type=checkbox]")||a.is("[type=radio]"))&&(a.toggleClass(s,!h),a.toggleClass(l,h)),i){var E=i._inputWrapper||i.wrapper,B=i._inputLabel;!E||a.is("[type=checkbox]")||a.is("[type=radio]")||(E.toggleClass(s,!h),E.toggleClass(l,h)),B&&B.toggleClass(d,!h)}if(k!==h){var F=y?y.attr("id"):g.attr("id");o._associateMessageContainer(a,F),this.options.validationSummary&&this.options.validateOnBlur&&this.showValidationSummary()}return h},hideMessages:function(){var t="."+r,e=this.element;this._disassociateMessageContainers(),e.is(p)?e.next(t).addClass("k-hidden"):e.find(t).addClass("k-hidden")},reset:function(){var t=this,e=t.element.find("."+s),a=t.element.find("."+d);t._errors=[],t.hideMessages(),t.hideValidationSummary(),e.removeAttr(c),e.removeClass(s),a.removeClass(d)},_findMessageContainer:function(a){for(var i,r=e.ui.validator.messageLocators,n=t(),s=0,l=this.element.length;s<l;s++)n=n.add(I(this.element[s].getElementsByTagName("*"),a));for(i in r)n=n.add(r[i].locate(this.element,a));return n},_decorateMessageContainer:function(t,a){var i,n=e.ui.validator.messageLocators;for(i in t.addClass(r).attr(e.attr("for"),a||""),t.attr("id")||t.attr("id",a+"-error"),n)n[i].decorate(t,a)},_extractMessage:function(t,a){var i,r=this.options.messages[a],n=t.attr(_);return e.ui.Validator.prototype.options.messages[a]||(i=e.isFunction(r)?r(t):r),r=e.isFunction(r)?r(t):r,e.format(t.attr(e.attr(a+"-msg"))||t.attr("validationMessage")||i||r||t.attr("title")||"",n,t.attr(a)||t.attr(e.attr(a)))},_checkValidity:function(t){var e,a=this.options.rules;for(e in a)if(!a[e].call(this,t))return{valid:!1,key:e};return{valid:!0}},errors:function(){var t,e=[],a=this._errors;for(t in a)e.push(a[t]);return e},setOptions:function(t){t.validationSummary&&this.hideValidationSummary(),e.deepExtend(this.options,t),this.destroy(),this.init(this.element,this.options),this._setEvents(this.options)},_getInputNames:function(){for(var e=this.element.find(this._inputSelector),a=[],i=0,r=e.length;i<r;i++){var n=t(e[i]);S(n,_)&&(-1===a.indexOf(n.attr(_))||0===n.closest(".k-checkbox-list").length&&0===n.closest(".k-radio-list").length)&&a.push(n.attr(_))}return a},_associateMessageContainer:function(t,a){var i=e.getWidgetFocusableElement(t);i&&a&&e.toggleAttribute(i,"aria-describedby",a)},_disassociateMessageContainers:function(){for(var e,a,i=this,n=i.element.find("."+s).addBack(),l=0;l<n.length;l+=1)(e=t(n[l])).is("input")&&(a=i._findMessageContainer(e.attr(_)).add(e.next("."+r)).attr("id"),i._associateMessageContainer(e,a))},_errorsByName:function(){for(var t=this,e=t._getInputNames(),a=[],i=0;i<e.length;i+=1){var r=e[i];t._errors[r]&&a.push({field:r,message:t._errors[r]})}return a},_renderSummary:function(){var e,a=this,r=this.options.validationSummary,n=this.element.prev();return(e=r.container?t(r.container):n&&n.hasClass(o)?n:t("<div />").insertBefore(a.element)).addClass([o,u].join(" ")),e.attr("role","alert"),e.on("click"+i,a._summaryClick.bind(a)),e},_summaryClick:function(a){a.preventDefault();var i,r=t(a.target),n=this.element.find("[name='"+r.data("field")+"']");n.length&&(i=e.getWidgetFocusableElement(n))&&i.trigger("focus")},showValidationSummary:function(){var t,e=this,a=e.validationSummary,i=e._errorsByName();a||(a=e.validationSummary=e._renderSummary()),t=A(e._summaryTemplate({errors:i})),a.html(t),a.toggleClass("k-hidden",!i.length)},hideValidationSummary:function(){var t=this.validationSummary;t&&t.addClass("k-hidden")}});e.ui.plugin(E)}(window.kendo.jQuery);var kendo$1=kendo;export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.validator.js.map

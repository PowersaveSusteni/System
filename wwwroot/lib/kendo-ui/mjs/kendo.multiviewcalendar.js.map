{"version":3,"file":"kendo.multiviewcalendar.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","calendar","support","isInRange","toDateObject","createDate","isEqualDate","getToday","keys","ui","Widget","Selectable","RangeSelectable","template","mobileOS","ns","CLICK","ID","MONTH","DOT","EMPTY","CENTURY","CHANGE","NAVIGATE","VALUE","FOCUSED","SELECTED","HOVER","DISABLED","TODAY","EMPTYCELL","CALENDAR_VIEW","CELLSELECTOR","CELLSELECTORVALID","BLUR","FOCUS","MOUSEENTER","touch","MOUSELEAVE_NS","PREVARROW","NEXTARROW","START","END","TABLE","TBODY","THEAD","TD_NOT_WEEK_CELL","TD","TH","ROLE","NONE","ARIA_DISABLED","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","DATE","Date","views","month","year","decade","century","MultiViewCalendar","extend","init","element","options","culture","that","this","fn","call","wrapper","disableDates","disabled","getCulture","format","_extractFormat","calendars","standard","patterns","d","_templates","_header","_wrapper","addClass","getValidCssClass","size","weekNumber","on","_move","bind","_focus","_blur","e","link","currentTarget","firstChild","data","indexOf","preventDefault","_click","attr","guid","_cellID","_calendarWidth","width","_range","range","start","end","target","_initViews","viewName","value","_selectable","_footer","footer","_selectDates","_addSelectedCellsToArray","_isMultipleSelection","selectDates","length","_restoreSelection","_isRangeSelection","selectRange","notify","min","max","dates","allowReverse","showOtherMonthDays","centuryCellsFormat","showViewHeader","selectable","depth","messages","weekColumnHeader","orientation","events","setOptions","normalize","i","_views","off","remove","destroy","_cell","_currentView","_current","header","_title","rangeSelectable","_today","current","focus","tablesWrapper","trigger","_option","view","navigateToPast","_navigate","navigateToFuture","navigateUp","index","_index","hasClass","navigate","navigateDown","_value","isNaN","viewsEnum","restrictValue","_aria","tables","find","rowGroups","first","add","removeAttr","role","_ariaMonth","rows","noHeaderRows","not","noHeaderCells","columnHeaderCells","rowHeaderCells","outOfRange","each","row","prev","$row","numberOfEmpty","owned","children","filter","eq","j","cell","$cell","push","join","_updateHeader","lastDate","prevDisabled","nextDisabled","title","_firstViewValue","visibleRange","_visibleRange","shiftDate","html","getFullYear","last","toggleClass","compare","_navContainer","icon","iconClass","appendTo","removeClass","prevent","lastActive","cellIndex","triggerChange","key","keyCode","focusedCell","table","closest","currentValue","isRtl","RIGHT","LEFT","UP","DOWN","SPACEBAR","HOME","_focusCell","next","_todayClick","ctrlKey","metaKey","_cellByDate","ENTER","_toggleSelection","shiftKey","_isSingleSelection","setDate","_nextNavigatable","getMonth","getDate","_dateInViews","_selectRange","_lastActive","_end","is","_start","selectFrom","selectTo","change","event","PAGEUP","PAGEDOWN","_visualizeSelectedDatesInView","cells","selectedDates","toDateString","clear","_selectElement","isDisabled","navigatableDate","getTime","_unselect","option","parseDate","_toggle","mode","parseOptions","widget","cellSelector","cellSelectorValid","_rangeSelection","reverse","resetOnStart","inputSelectors","aria","dragToSelect","multiple","selectableClass","_selection","relatedTarget","_onRelatedTarget","unselect","_unselecting","_getFirstViewDate","currentView","ranges","_canRenderNextView","viewDate","fullYear","date","maxYear","maxMonth","viewOptions","_table","content","url","showHeader","isWeekColumnVisible","contentClasses","sender","useEnd","_useEnd","useStart","_useStart","initialRange","_preventChange","selectElements","domEvent","isCell","_validateValue","_deselect","item","currentDateIndex","map","Number","splice","firstDateInView","lastDateInView","_fillRange","daysDifference","startDate","endDate","temp","fromDateUTC","UTC","endDateUTC","Math","ceil","MS_PER_DAY","daysBetweenTwoDates","array","numberOfDays","fromDate","nextDay","addDaysToArray","buttons","prependTo","mousetoggle","_calendarTitleClick","_prevViewClick","_nextViewClick","insertAfter","empty","cssClass","linkClass","dateString","useWithBlock","toString","today","hide","show","arrow","modifier","offset","originaValue","setFullYear","toggle","isTodayDisabled","adjustDST","contains","cellId","removeAttribute","_updateAria","ariaTemplate","text","valueType","clearSelection","single","validSelectedDates","datesUnique","position","time","grep","setHours","startInRange","endInRange","mid","type","dimension","numberOfViews","abs","setMonth","plugin","jQuery","kendo$1"],"sources":["kendo.multiviewcalendar.js"],"mappings":"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","ignoreList":[],"sourcesContent":["import './kendo.core.js';\nimport './kendo.selectable.js';\nimport './kendo.calendar.js';\nimport './kendo.icons.js';\n\nconst __meta__ = {\n    id: \"multiviewcalendar\",\n    name: \"MultiViewCalendar\",\n    category: \"web\",\n    description: \"Multi-view calendar.\",\n    depends: [ \"core\", \"selectable\", \"calendar\" ]\n};\n\n(function($, undefined$1) {\n    let kendo = window.kendo,\n        calendar = kendo.calendar,\n        support = kendo.support,\n        isInRange = calendar.isInRange,\n        toDateObject = calendar.toDateObject,\n        createDate = calendar.createDate,\n        isEqualDate = calendar.isEqualDate,\n        getToday = calendar.getToday,\n        keys = kendo.keys,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Selectable = ui.Selectable,\n        RangeSelectable = ui.RangeSelectable,\n        template = kendo.template,\n        mobileOS = support.mobileOS,\n        ns = \".kendoMultiViewCalendar\",\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        ID = \"id\",\n        MIN = \"min\",\n        MONTH = \"month\",\n        DOT = \".\",\n        EMPTY = \" \",\n        CENTURY = \"century\",\n        DECADE = \"decade\",\n        CHANGE = \"change\",\n        NAVIGATE = \"navigate\",\n        VALUE = \"value\",\n        FOCUSED = \"k-focus\",\n        SELECTED = \"k-selected\",\n        HOVER = \"k-hover\",\n        DISABLED = \"k-disabled\",\n        TODAY = \"k-calendar-nav-today\",\n        OTHERMONTH = \"k-other-month\",\n        EMPTYCELL = \"k-empty\",\n        CALENDAR_VIEW = \"k-calendar-view\",\n        CELLSELECTOR = \"td:has(.k-link):not(.\" + EMPTYCELL + \"):not(.k-alt)\",\n        CELLSELECTORVALID = \"td:has(.k-link):not(.\" + DISABLED + \"):not(.\" + EMPTYCELL + \"):not(.k-alt)\",\n        BLUR = \"blur\",\n        FOCUS = \"focus\",\n        MOUSEENTER = support.touch ? \"touchstart\" : \"mouseenter\",\n        MOUSELEAVE_NS = support.touch ? \"touchend\" + ns + \" touchmove\" + ns : \"mouseleave\" + ns,\n        PREVARROW = \"_prevArrow\",\n        NEXTARROW = \"_nextArrow\",\n        RANGE = \"range\",\n        SINGLE = \"single\",\n        START = \"start\",\n        END = \"end\",\n        TABINDEX = \"tabindex\",\n        TABLE = \"table\",\n        TBODY = \"tbody\",\n        THEAD = \"thead\",\n        TR = \"tr\",\n        TD = \"td\",\n        TD_NOT_WEEK_CELL = TD + \":not(.k-alt)\",\n        TH = \"th\",\n        ROLE = \"role\",\n        NONE = \"none\",\n        ROWGROUP = \"rowgroup\",\n        COLUMNHEADER = \"columnheader\",\n        ROWHEADER = \"rowheader\",\n        GRIDCELL = \"gridcell\",\n        ARIA_SELECTED = \"aria-selected\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_OWNS = \"aria-owns\",\n        ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n        INPUTSELECTOR = \"input,a,span,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up\",\n        DATE = Date,\n        views = {\n            month: 0,\n            year: 1,\n            decade: 2,\n            century: 3\n        };\n\n    var MultiViewCalendar = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n            var id;\n            var culture;\n\n            Widget.fn.init.call(that, element, options);\n\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            that.options.disableDates = calendar.disabled(that.options.disableDates);\n\n            culture = kendo.getCulture(options.culture);\n            options.format = kendo._extractFormat(options.format || culture.calendars.standard.patterns.d);\n\n            that._templates();\n\n            that._header();\n\n            that._wrapper();\n\n            id = element\n                .addClass(`k-calendar k-calendar-range ${kendo.getValidCssClass(\"k-calendar-\", \"size\", that.options.size || \"medium\")}` + (options.weekNumber ? \" k-week-number\" : \"\"))\n                .on(KEYDOWN + ns, DOT + CALENDAR_VIEW, that._move.bind(that))\n                .on(FOCUS + ns, DOT + CALENDAR_VIEW, that._focus.bind(that))\n                .on(BLUR + ns, DOT + CALENDAR_VIEW, that._blur.bind(that))\n                .on(CLICK + ns, CELLSELECTORVALID, function(e) {\n                    var link = e.currentTarget.firstChild;\n\n                    if ($(link).data(\"href\").indexOf(\"#\") != -1) {\n                        e.preventDefault();\n                    }\n\n                    that._click($(link));\n                })\n                .attr(ID);\n\n            if (!id) {\n                id = kendo.guid();\n            }\n\n            that._cellID = id + \"_cell_selected\";\n\n            that._calendarWidth = that.element.width();\n\n            that._range = options.range;\n\n            if (that._range && that._range.start && !that._range.end) {\n                that._range.target = END;\n            }\n\n            that._initViews({ viewName: options.start, value: options.value });\n            that._selectable();\n\n            that._footer(that.footer);\n            that._selectDates = [];\n            that.value(options.value);\n            that._addSelectedCellsToArray();\n\n            if (that._isMultipleSelection()) {\n                that._selectDates = options.selectDates.length ? options.selectDates : that._selectDates;\n                that._restoreSelection();\n            }\n\n            if (that._isRangeSelection()) {\n                that.selectRange(that._range);\n            }\n\n            kendo.notify(that);\n        },\n\n        options: {\n            name: \"MultiViewCalendar\",\n            value: null,\n            min: new DATE(1900, 0, 1),\n            max: new DATE(2099, 11, 31),\n            dates: [],\n            allowReverse: false,\n            disableDates: null,\n            showOtherMonthDays: false,\n            centuryCellsFormat: \"long\",\n            culture: \"\",\n            footer: \"\",\n            format: \"\",\n            month: {},\n            range: { start: null, end: null, target: START },\n            weekNumber: false,\n            views: 2,\n            showViewHeader: false,\n            selectable: SINGLE,\n            selectDates: [],\n            start: MONTH,\n            depth: MONTH,\n            messages: {\n                weekColumnHeader: \"\"\n            },\n            size: \"medium\",\n            orientation: \"horizontal\"\n        },\n\n        events: [\n            CHANGE,\n            NAVIGATE\n        ],\n\n        setOptions: function(options) {\n            var that = this;\n\n            calendar.normalize(options);\n\n            options.disableDates = calendar.disabled(options.disableDates);\n\n            Widget.fn.setOptions.call(that, options);\n\n            that._selectable();\n\n            that._templates();\n\n            that._footer(that.footer);\n\n            for (var i = 0; i < that._views.length; i++) {\n                that._views[i].off(ns).remove();\n            }\n\n            that._initViews({ viewName: options.start, value: options.value });\n\n            that._range = options.range || { start: null, end: null };\n\n            that._restoreSelection();\n\n            if (that._isRangeSelection()) {\n                that.selectRange(that._range);\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that._cell = null;\n            that._currentView = null;\n            that._current = null;\n\n            if (that._views) {\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n            }\n\n            that.element.off(ns);\n\n            if (that.header) {\n                that.header.off(ns);\n                that._title = null;\n                that.header = null;\n            }\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n\n            if (that.rangeSelectable) {\n                that.rangeSelectable.destroy();\n                that.rangeSelectable = null;\n            }\n\n            if (that._today) {\n                kendo.destroy(that._today.off(ns));\n            }\n\n            that._views = null;\n\n            Widget.fn.destroy.call(that);\n        },\n\n        current: function() {\n            return this._current;\n        },\n\n        focus: function() {\n            this.tablesWrapper.trigger(\"focus\");\n        },\n\n        min: function(value) {\n            return this._option(MIN, value);\n        },\n\n        max: function(value) {\n            return this._option(\"max\", value);\n        },\n\n        view: function() {\n            return this._currentView;\n        },\n\n        navigateToPast: function() {\n            this._navigate(PREVARROW, -1);\n        },\n\n        navigateToFuture: function() {\n            this._navigate(NEXTARROW, 1);\n        },\n\n        navigateUp: function() {\n            var that = this,\n            index = that._index;\n\n            if (that._title.hasClass(DISABLED)) {\n                return;\n            }\n\n            that.navigate(that._current, ++index);\n        },\n\n        navigateDown: function(value) {\n            var that = this,\n            index = that._index,\n            depth = that.options.depth;\n\n            if (!value) {\n                return;\n            }\n\n            if (index === views[depth]) {\n                if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                    that.value(value);\n                    that.trigger(CHANGE);\n                }\n                return;\n            }\n\n            that.navigate(value, --index);\n        },\n\n        navigate: function(value, view) {\n            view = isNaN(view) ? calendar.views[calendar.viewsEnum[view]] : calendar.views[view];\n\n            var that = this;\n            var options = that.options;\n            var min = options.min;\n            var max = options.max;\n\n            if (!value) {\n                that._current = value = new DATE(+calendar.restrictValue(value, min, max));\n            } else {\n                that._current = value;\n            }\n\n            if (view === undefined$1) {\n                view = that._currentView;\n            }\n\n            that._currentView = view;\n\n            for (var i = 0; i < that._views.length; i++) {\n                that._views[i].off(ns).remove();\n            }\n\n            that._initViews({ viewName: view.name, value: value });\n\n            that._restoreSelection();\n        },\n\n        _aria: function() {\n            var tables = this.tablesWrapper.find(TABLE),\n                rowGroups = tables.first().find(THEAD).add(tables.find(TBODY)),\n                viewName = this._currentView.name;\n\n            tables.removeAttr(TABINDEX);\n\n            tables.attr({\n                role: NONE\n            });\n\n            rowGroups.attr({\n                role: ROWGROUP\n            });\n\n            if (viewName === MONTH) {\n                this._ariaMonth();\n            }\n        },\n\n        _ariaMonth: function() {\n            var tables = this.tablesWrapper.find(TABLE),\n                rowGroups = tables.first().find(THEAD).add(tables.find(TBODY)),\n                rows = rowGroups.find(TR),\n                noHeaderRows = tables.not(\":eq(0)\").find(THEAD + EMPTY + TR),\n                noHeaderCells = noHeaderRows.find(TH),\n                columnHeaderCells = tables.first().find(THEAD + EMPTY + TH),\n                rowHeaderCells = tables.find(TBODY + EMPTY + TD + \".k-alt\"),\n                outOfRange = tables.find(DOT + EMPTYCELL),\n                ariaDataCells = function(i, row) {\n                    var $row = $(row),\n                        numberOfEmpty = $row.find(DOT + EMPTYCELL).length,\n                        owned = [],\n                        prev, cells;\n\n                    if (i === 1) {\n                        $row.children()\n                            .filter(DOT + EMPTYCELL)\n                            .attr({\n                                \"aria-hidden\": \"false\",\n                                role: GRIDCELL\n                            });\n                    } else if (numberOfEmpty === 7) {\n                        $row.removeAttr(ROLE);\n                        $row.find(TH).removeAttr(ROLE);\n                    } else if (numberOfEmpty > 0 && numberOfEmpty < 7 && $row.children().not(TH).first().hasClass(EMPTYCELL)) {\n                        $row.find(TH).removeAttr(ROLE);\n                        prev = rows.eq(i - 1);\n\n                        if (!prev.attr(ROLE) || prev.attr(ROLE) === NONE) {\n                            prev = rows.eq(i - 2);\n                        }\n\n                        cells = $row.children().not(TH);\n\n                        cells.each(function(j, cell) {\n                            var $cell = $(cell),\n                                id;\n\n                            if (!$cell.hasClass(EMPTYCELL)) {\n                                id = \"owned_\" + i + \"_\" + j;\n                                $cell.attr(ID, id);\n                                owned.push(id);\n                            }\n                        });\n\n                        $row.removeAttr(ROLE);\n                        prev.attr(ARIA_OWNS, owned.join(\" \"));\n                    }\n                };\n\n            columnHeaderCells.attr({\n                role: COLUMNHEADER\n            });\n\n            rowHeaderCells.attr({\n                role: ROWHEADER\n            });\n\n            outOfRange.removeAttr(ROLE);\n            noHeaderRows.removeAttr(ROLE);\n            noHeaderCells.removeAttr(ARIA_LABEL).removeAttr(ROLE);\n\n            rows.each(ariaDataCells);\n        },\n\n        _updateHeader: function() {\n            let that = this,\n                view = that._currentView,\n                title = that._title,\n                value = that._firstViewValue,\n                options = that.options,\n                visibleRange = that._visibleRange(),\n                culture = options.culture,\n                min = options.min,\n                max = options.max,\n                lastDate,\n                disabled,\n                prevDisabled,\n                nextDisabled;\n\n            if (view.name === DECADE || view.name === CENTURY) {\n                lastDate = shiftDate(value, view.name, options.views - 1);\n                if (!isInRange(lastDate, min, max)) {\n                    lastDate = max;\n                }\n\n                title.html('<span class=\"k-button-text\">' + view.first(value).getFullYear() + \" - \" + view.last(lastDate).getFullYear() + \"</span>\");\n            } else {\n                title.html('<span class=\"k-button-text\">' + view.title(value, min, max, culture) + \" - \" + view.title(shiftDate(value, view.name, options.views - 1), min, max, culture) + \"</span>\");\n            }\n\n            disabled = view.name === CENTURY;\n            title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n\n            prevDisabled = view.compare(visibleRange.start, that.options.min) < 1;\n            nextDisabled = view.compare(visibleRange.end, that.options.max) > -1;\n\n            if (prevDisabled && nextDisabled) {\n                if (that._navContainer) {\n                    that._navContainer.remove();\n                    that._navContainer = null;\n                }\n            } else {\n                if (!that._navContainer) {\n                    that._navContainer = $(`<span class=\"k-calendar-nav\">` +\n                    `<span tabindex=\"-1\" data-href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-nav-prev\" ` + ARIA_LABEL + `=\"Previous\">${kendo.ui.icon({ icon: \"chevron-left\", iconClass: \"k-button-icon\" })}</span>` +\n                    `<span tabindex=\"-1\" data-href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-nav-next\" ` + ARIA_LABEL + `=\"Next\">${kendo.ui.icon({ icon: \"chevron-right\", iconClass: \"k-button-icon\" })}</span>` +\n                    '</span>').appendTo(that.header);\n                    that[PREVARROW] = that._navContainer.find(\".k-calendar-nav-prev\");\n                    that[NEXTARROW] = that._navContainer.find(\".k-calendar-nav-next\");\n                }\n\n                that[PREVARROW].toggleClass(DISABLED, prevDisabled).attr(ARIA_DISABLED, prevDisabled);\n                if (that[PREVARROW].hasClass(DISABLED)) {\n                    that[PREVARROW].removeClass(HOVER);\n                }\n\n                that[NEXTARROW].toggleClass(DISABLED, nextDisabled).attr(ARIA_DISABLED, nextDisabled);\n                if (that[NEXTARROW].hasClass(DISABLED)) {\n                    that[NEXTARROW].removeClass(HOVER);\n                }\n            }\n        },\n\n        _move: function(e) {\n            var that = this;\n            var options = that.options;\n            var key = e.keyCode;\n            var index = that._index;\n            var min = options.min;\n            var max = options.max;\n            var focusedCell = that.element.find(DOT + FOCUSED);\n            var table = focusedCell.closest(TABLE);\n            var currentValue = new DATE(+(that._current || toDateObject(focusedCell.find(\"span\"))));\n            var isRtl = kendo.support.isRtl(that.wrapper);\n            var navigate = false;\n            var value, prevent, method, cell, lastActive, cellIndex, triggerChange;\n\n            if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                value = 1;\n                prevent = true;\n            } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                value = -1;\n                prevent = true;\n            } else if (key == keys.UP) {\n                value = index === 0 ? -7 : -4;\n                prevent = true;\n            } else if (key == keys.DOWN) {\n                value = index === 0 ? 7 : 4;\n                prevent = true;\n            } else if (key == keys.SPACEBAR) {\n                value = 0;\n                prevent = true;\n            } else if (key == keys.HOME) {\n                prevent = true;\n                cell = table.find(CELLSELECTORVALID).eq(0);\n                if (cell.hasClass(FOCUSED)) {\n                    table = table.prev();\n                    if (table.length) {\n                        that._focusCell(table.find(CELLSELECTORVALID).eq(0));\n                    } else {\n                        navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                        that._navigate(PREVARROW, -1);\n                        that._focusCell(that.element.find(TABLE).first().find(CELLSELECTORVALID).first());\n                    }\n                } else {\n                    that._focusCell(cell);\n                }\n            } else if (key == keys.END) {\n                prevent = true;\n                cell = table.find(CELLSELECTORVALID).last();\n                if (cell.hasClass(FOCUSED)) {\n                    table = table.next();\n                    if (table.length) {\n                        that._focusCell(table.find(CELLSELECTORVALID).last());\n                    } else {\n                        navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                        that._navigate(NEXTARROW, 1);\n                        that._focusCell(that.element.find(TABLE).last().find(CELLSELECTORVALID).last());\n                    }\n                } else {\n                    that._focusCell(cell);\n                }\n            } else if (key === 84) {\n                that._todayClick(e);\n                prevent = true;\n            }\n\n            if (e.ctrlKey || e.metaKey) {\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                    that._navigate(NEXTARROW, 1);\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                    that._navigate(PREVARROW, -1);\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    navigate = !that._title.hasClass(DISABLED);\n                    that.navigateUp();\n                    that._focusCell(that._cellByDate(that._current));\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    if (that._currentView.name === MONTH) {\n                        that.value(currentValue);\n                    } else {\n                        that.navigateDown(currentValue);\n                        that._focusCell(that._cellByDate(that._current));\n                        navigate = true;\n                    }\n                    prevent = true;\n                } else if ((key == keys.ENTER || key == keys.SPACEBAR)) {\n                    if (that._isMultipleSelection()) {\n                        that._toggleSelection(e);\n                    }\n                }\n            } else if (e.shiftKey && !that._isSingleSelection()) {\n                if (value !== undefined$1 || method) {\n                    if (!method) {\n                        that._currentView.setDate(currentValue, value);\n                    }\n\n                    if (that._currentView.name !== MONTH) {\n                        return;\n                    }\n\n                    if (options.disableDates(currentValue)) {\n                        currentValue = that._nextNavigatable(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (isInRange(currentValue, min, max)) {\n                        if (!that._dateInViews(currentValue)) {\n                            if (value > 0) {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that._navigate(NEXTARROW, 1);\n                            } else {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that._navigate(PREVARROW, -1);\n                            }\n                        }\n                        cell = that._cellByDate(currentValue);\n                        that._current = currentValue;\n\n                        if (that.selectable) {\n                            that._selectRange(toDateObject((that.selectable._lastActive || focusedCell).find(\"span\")), currentValue);\n                            if (!that.selectable._lastActive) {\n                                that.selectable._lastActive = focusedCell;\n                            }\n                            that.trigger(CHANGE);\n                            that._focusCell(cell);\n                        }\n\n                        if (that.rangeSelectable) {\n                            lastActive = toDateObject((that.rangeSelectable._lastActive || focusedCell).find(\"span\"));\n                            if (!that._dateInViews(lastActive)) {\n                                if (+lastActive > +currentValue) {\n                                    that.rangeSelectable._end = that.rangeSelectable._lastActive;\n                                    that.rangeSelectable.selectFrom(cell);\n                                } else {\n                                    that.rangeSelectable.selectTo(cell);\n                                }\n                            } else {\n                                if (that.rangeSelectable._end && that.rangeSelectable._end.is(DOT + FOCUSED)) {\n                                    that.rangeSelectable._lastActive = that.rangeSelectable._start;\n                                } else {\n                                    that.rangeSelectable._lastActive = that._cellByDate(lastActive);\n                                }\n                                that.rangeSelectable.range(that.rangeSelectable._lastActive, cell);\n                            }\n                            that.rangeSelectable.change();\n                            that._focusCell(cell);\n                        }\n                    }\n                }\n            } else {\n                if (key == keys.ENTER || key == keys.SPACEBAR) {\n                    if (that._currentView.name === MONTH) {\n                        triggerChange = !focusedCell.hasClass(SELECTED) || that.element.find(DOT + SELECTED).length > 1;\n                        that.value(currentValue);\n                        if (that.selectable) {\n                            that.selectable._lastActive = that._cellByDate(currentValue);\n                            if (triggerChange) {\n                                that.selectable.trigger(CHANGE, { event: e });\n                            }\n                        }\n                        if (that.rangeSelectable) {\n                            that.rangeSelectable.change();\n                        }\n                    } else {\n                        that._click($(that._cell[0].firstChild));\n                    }\n                    prevent = true;\n                } else if (key == keys.PAGEUP || key == keys.PAGEDOWN) {\n                    prevent = true;\n                    cellIndex = table.find(CELLSELECTORVALID).index(focusedCell);\n                    table = key == keys.PAGEUP ? table.prev() : table.next();\n                    if (!table.length) {\n                        if (key == keys.PAGEUP) {\n                            navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                            that.navigateToPast();\n                            table = that.element.find(TABLE).first();\n                        } else {\n                            navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                            that.navigateToFuture();\n                            table = that.element.find(TABLE).last();\n                        }\n                    }\n                    cell = table.find(CELLSELECTORVALID).eq(cellIndex);\n                    if (cell.length) {\n                        that._focusCell(cell);\n                    } else {\n                        that._focusCell(table.find(CELLSELECTORVALID).last());\n                    }\n                }\n\n                if (value || method) {\n                    if (!method) {\n                        that._currentView.setDate(currentValue, value);\n                    }\n\n                    min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n\n                    if (isInRange(currentValue, min, max)) {\n                        if (that.selectable && options.disableDates(currentValue)) {\n                            currentValue = that._nextNavigatable(currentValue, value);\n                        }\n                        if (!that._dateInViews(currentValue)) {\n                            if (value > 0) {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that._navigate(NEXTARROW, 1);\n                            } else {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that._navigate(NEXTARROW, -1);\n                            }\n                        }\n                        cell = that._cellByDate(currentValue);\n                        that._current = currentValue;\n                        that._focusCell(cell);\n                    }\n                }\n            }\n\n            if (navigate) {\n                that.trigger(NAVIGATE);\n            }\n\n            if (prevent) {\n                e.preventDefault();\n            }\n\n            return that._current;\n\n        },\n\n        _visualizeSelectedDatesInView: function() {\n            var that = this;\n            var selectedDates = {};\n            var cells;\n\n            $.each(that._selectDates, function(index, value) {\n                selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n            });\n            that.selectable.clear();\n            cells = that.element.find(TABLE)\n                .find(CELLSELECTOR)\n                .filter(function(index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n\n            if (cells.length > 0) {\n                that.selectable._selectElement(cells, true);\n            }\n        },\n\n        _nextNavigatable: function(currentValue, value) {\n            var that = this;\n            var disabled = true;\n            var view = that._currentView;\n            var min = that.options.min;\n            var max = that.options.max;\n            var isDisabled = that.options.disableDates;\n            var navigatableDate = new Date(currentValue.getTime());\n\n            view.setDate(navigatableDate, -value);\n            while (disabled) {\n                view.setDate(currentValue, value);\n                 if (!isInRange(currentValue, min, max)) {\n                    currentValue = navigatableDate;\n                    break;\n                }\n                disabled = isDisabled(currentValue);\n            }\n            return currentValue;\n        },\n\n        _toggleSelection: function(event) {\n            var that = this;\n\n            that.selectable._lastActive = $(that._cell[0]);\n\n            if ($(that._cell[0]).hasClass(SELECTED)) {\n                that.selectable._unselect($(that._cell[0]));\n            }\n            else {\n                that.selectable.value($(that._cell[0]));\n            }\n            that.selectable.trigger(CHANGE, { event: event });\n        },\n\n        _option: function(option, value) {\n            var that = this;\n            var options = that.options;\n            var currentValue = that._value || that._current;\n            var isBigger;\n\n            if (value === undefined$1) {\n                return options[option];\n            }\n\n            value = kendo.parseDate(value, options.format, options.culture);\n\n            if (!value) {\n                return;\n            }\n\n            options[option] = new DATE(+value);\n\n            if (option === MIN) {\n                isBigger = value > currentValue;\n            } else {\n                isBigger = currentValue > value;\n            }\n\n            if (isBigger) {\n                that._value = null;\n            }\n\n            that.navigate(that._value);\n\n            that._toggle();\n        },\n\n        _cellByDate: function(value) {\n            if (value instanceof Date) {\n                value = this._currentView.toDateString(value);\n            }\n            return this.element.find(TABLE).find(\"td:not(.\" + OTHERMONTH + \")\")\n            .filter(function() {\n                return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n            });\n        },\n\n        _selectable: function() {\n            let that = this,\n                selectable = that.options.selectable,\n                mode = Selectable.parseOptions(selectable);\n\n            if (that.selectable) {\n                that.selectable.destroy();\n                that.selectable = null;\n            }\n\n            if (that.rangeSelectable) {\n                that.rangeSelectable.destroy();\n                that.rangeSelectable = null;\n            }\n\n            if (mode.range) {\n                that.rangeSelectable = new RangeSelectable(that.wrapper, {\n                    widget: that,\n                    filter: \".k-calendar-monthview table \" + CELLSELECTORVALID,\n                    cellSelector: CELLSELECTOR,\n                    cellSelectorValid: CELLSELECTORVALID,\n                    change: that._rangeSelection.bind(that),\n                    reverse: that.options.allowReverse,\n                    resetOnStart: selectable.resetOnStart !== undefined$1 ? selectable.resetOnStart : true,\n                    ns: ns,\n                    inputSelectors: INPUTSELECTOR\n                });\n            } else {\n                that.selectable = new Selectable(that.wrapper, {\n                    aria: true,\n                    dragToSelect: false,\n                    multiple: mode.multiple,\n                    filter: \"table.k-calendar-table \" + CELLSELECTORVALID,\n                    selectableClass: \"k-calendar\",\n                    change: that._selection.bind(that),\n                    relatedTarget: that._onRelatedTarget.bind(that),\n                    unselect: that._unselecting.bind(that)\n                });\n            }\n        },\n\n        _onRelatedTarget: function(target) {\n            var that = this;\n\n            if (that.selectable.options.multiple && target.is(CELLSELECTORVALID) && target.length > 1) {\n                that._focusCell(target.first(), true);\n            }\n        },\n\n        _getFirstViewDate: function(currentView) {\n            var that = this;\n            var options = that.options;\n            var ranges = [];\n            var start;\n            var end;\n            var current = new Date(+that._current);\n            var i;\n\n            for (i = 0; i < options.views; i++) {\n                start = currentView.first(current);\n                end = currentView.last(current);\n\n                if (+end > +options.max) {\n                    if (+start <= +options.max) {\n                        ranges.push({ start: start, end: new Date(+options.max) });\n                    }\n                    break;\n                }\n\n                ranges.push({ start: start, end: end });\n\n                current = new Date(+shiftDate(end, currentView.name, 1));\n            }\n\n            current = new Date(+that._current);\n\n            for (i = 0; i < options.views; i++) {\n                start = currentView.first(current);\n                end = currentView.last(current);\n\n                if (+start < +options.min) {\n                    if (+end >= +options.min) {\n                        ranges.push({ start: new Date(+options.min), end: end });\n                    }\n                    break;\n                }\n\n                ranges.push({ start: start, end: end });\n\n                current = new Date(+shiftDate(start, currentView.name, -1));\n            }\n\n            start = ranges[0].start;\n\n            for (i = 0; i < options.views + 1; i++) {\n                if (!ranges[i]) {\n                    break;\n                }\n\n                if (+start > +ranges[i].start) {\n                    start = ranges[i].start;\n                }\n            }\n\n            return new Date(+start);\n        },\n\n        _canRenderNextView: function(viewDate) {\n            var fullYear = viewDate.getFullYear();\n            var month = viewDate.getMonth();\n            var date = viewDate.getDate();\n            var max = this.options.max;\n            var maxYear = max.getFullYear();\n            var maxMonth = max.getMonth();\n\n\n            if (fullYear < maxYear) {\n                return true;\n            }\n\n            if (fullYear === maxYear && month < maxMonth) {\n                return true;\n            }\n\n            if (fullYear === maxYear && month === maxMonth && date < max.getDate()) {\n                return true;\n            }\n\n            if (fullYear === maxYear && month === maxMonth && date === max.getDate()) {\n                return true;\n            }\n\n            return false;\n        },\n\n        _initViews: function(viewOptions) {\n            var that = this;\n            var options = that.options;\n            var index = calendar.viewsEnum[viewOptions.viewName];\n            var currentView = calendar.views[index];\n            var viewDate;\n\n            that._current = new DATE(+calendar.restrictValue(viewOptions.value, options.min, options.max));\n            that._views = [];\n            that._index = index;\n            viewDate = that._getFirstViewDate(currentView);\n            viewDate.setDate(1);\n\n            that._firstViewValue = new Date(+viewDate);\n\n            for (var i = 0; i < options.views; i++) {\n                viewDate = i ? shiftDate(viewDate, currentView.name, 1) : viewDate;\n                viewDate.setDate(1);\n\n                if (!that._canRenderNextView(viewDate)) {\n                    break;\n                }\n\n                that._table = $(currentView.content($.extend({\n                    min: options.min,\n                    max: options.max,\n                    date: viewDate,\n                    url: options.url,\n                    dates: options.dates,\n                    format: options.format,\n                    culture: options.culture,\n                    disableDates: options.disableDates,\n                    showHeader: options.showViewHeader,\n                    isWeekColumnVisible: options.weekNumber,\n                    showOtherMonthDays: options.showOtherMonthDays,\n                    centuryCellsFormat: options.centuryCellsFormat,\n                    messages: options.messages,\n                    contentClasses: \"k-calendar-table\"\n                }, that[currentView.name])));\n\n                that._table.appendTo(that.tablesWrapper);\n                that._views.push(that._table);\n            }\n\n            that._currentView = currentView;\n\n            that.tablesWrapper.attr(\"class\", \"k-calendar-view k-calendar-\" + currentView.name + `view ${that.options.orientation != \"vertical\" ? \"k-hstack\" : \"k-vstack\"} k-align-items-start k-justify-content-center`);\n\n            that._updateHeader();\n\n            that._aria();\n        },\n\n        _rangeSelection: function(e) {\n            let that = this,\n                range = e.sender.range(),\n                useEnd = e.sender._useEnd,\n                useStart = e.sender._useStart,\n                initialRange = that.selectRange() || {},\n                start,\n                end,\n                target = initialRange.target;\n\n            if (range.start && range.start.length) {\n                start = toDateObject(range.start.find(\"span\"));\n            }\n\n            if (range.end && range.end.length) {\n                end = toDateObject(range.end.find(\"span\"));\n            }\n\n            if (target === END) {\n                target = START;\n            } else {\n                target = END;\n            }\n\n            that._range = { start: useStart ? initialRange.start : start, end: useEnd ? initialRange.end : end, target: target };\n\n            if (!that._preventChange) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _selection: function(e) {\n            let that = this,\n                selectElements = e.sender.value(),\n                domEvent = e.event,\n                currentTarget = $(domEvent && domEvent.currentTarget),\n                isCell = currentTarget.is(TD_NOT_WEEK_CELL),\n                currentValue;\n\n            if (that._isSingleSelection()) {\n                that._validateValue(selectElements[0] ? toDateObject(selectElements.first().find(\"span\")) : e.sender._lastActive ? toDateObject(e.sender._lastActive.find(\"span\")) : that.value());\n            }\n\n            if (that._isMultipleSelection()) {\n\n                if (isCell) {\n                    currentValue = toDateObject(currentTarget.find(\"span\"));\n                }\n\n                if (domEvent && domEvent.ctrlKey) {\n                    if (isCell) {\n                        if (currentTarget.hasClass(SELECTED)) {\n                            that._selectDates.push(currentValue);\n                        } else {\n                            that._deselect(currentValue);\n                        }\n                    } else {\n                        that.element.find(\"table \" + CELLSELECTORVALID).each(function(index, element) {\n                            var value = toDateObject($(element).find(\"span\"));\n                            that._deselect(value);\n                        });\n                        that._addSelectedCellsToArray();\n                    }\n                } else if (domEvent && domEvent.shiftKey) {\n                    that._selectRange(toDateObject(e.sender._lastActive ? e.sender._lastActive.find(\"span\") : selectElements.first().find(\"span\")), currentValue);\n                } else if (isCell) {\n                    that._selectDates = [];\n                    that._selectDates.push(currentValue);\n                } else {\n                    that._selectDates = [];\n                    that._addSelectedCellsToArray();\n                }\n            }\n\n            if (!that._preventChange) {\n                that.trigger(CHANGE);\n            }\n        },\n\n        _addSelectedCellsToArray: function() {\n            var that = this;\n            if (!that.selectable) {\n                return;\n            }\n            that.selectable.value().each(function(index, item) {\n                var date = toDateObject($(item.firstChild));\n                if (!that.options.disableDates(date)) {\n                    that._selectDates.push(date);\n                }\n            });\n        },\n\n        _deselect: function(date) {\n            var that = this;\n            var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n             if (currentDateIndex != -1) {\n                that._selectDates.splice(currentDateIndex, 1);\n            }\n        },\n\n        _unselecting: function(e) {\n            var that = this;\n            var element = e.element;\n\n            if (that._isSingleSelection() && !mobileOS && element.hasClass(FOCUSED)) {\n                e.preventDefault();\n            }\n        },\n\n        _visibleRange: function() {\n            var tables = this.element.find(DOT + CALENDAR_VIEW + EMPTY + TABLE);\n            var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find(\"span\"));\n            var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find(\"span\"));\n            return { start: firstDateInView, end: lastDateInView };\n        },\n\n        _dateInViews: function(date) {\n            var that = this;\n            var tables = that.element.find(DOT + CALENDAR_VIEW + EMPTY + TABLE);\n            var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find(\"span\"));\n            var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find(\"span\"));\n\n            if (!date) {\n                return;\n            }\n\n            date = new Date(date.toDateString());\n\n            return +date <= +lastDateInView && +date >= +firstDateInView;\n        },\n\n        _fillRange: function(start, end) {\n            var that = this;\n            var daysDifference;\n\n            that._selectDates = [];\n            daysDifference = daysBetweenTwoDates(start, end);\n            addDaysToArray(that._selectDates, daysDifference, start, that.options.disableDates);\n        },\n\n        _selectRange: function(start, end) {\n            var that = this;\n            var current;\n\n            if (+end < +start) {\n                current = end;\n                end = start;\n                start = current;\n            }\n\n            that._fillRange(start, end);\n            that._visualizeSelectedDatesInView();\n        },\n\n        _header: function() {\n            var that = this;\n            var element = that.element;\n            var buttons;\n            var header = element.find(\".k-calendar-header\");\n\n            if (!header.length) {\n                header = $(`<div class=\"k-calendar-header\">` +\n                    `<span id=\"calendar-title\" tabindex=\"-1\" data-href=\"#\" role=\"button\" class=\"k-calendar-title k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-primary\" aria-live=\"polite\"></span>` +\n                    '<span class=\"k-spacer\"></span>' +\n                    `<span class=\"k-calendar-nav\">` +\n                        `<span tabindex=\"-1\" data-href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-nav-prev\" ` + ARIA_LABEL + `=\"Previous\">${kendo.ui.icon({ icon: \"chevron-left\", iconClass: \"k-button-icon\" })}</span>` +\n                        `<span tabindex=\"-1\" data-href=\"#\" role=\"button\" class=\"k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-rounded-md k-button-flat k-button-flat-base k-icon-button k-calendar-nav-next\" ` + ARIA_LABEL + `=\"Next\">${kendo.ui.icon({ icon: \"chevron-right\", iconClass: \"k-button-icon\" })}</span>` +\n                    '</span>' +\n                '</div>').prependTo(element);\n            }\n\n            that.header = header;\n\n            header.on(MOUSEENTER + ns + \" \" + MOUSELEAVE_NS + \" \" + FOCUS + ns + \" \" + BLUR + ns, \".k-button\", mousetoggle)\n                .on(CLICK, function() { return false; })\n                .on(CLICK + ns, \".k-button.k-calendar-title\", that._calendarTitleClick.bind(that))\n                .on(CLICK + ns, \".k-button.k-calendar-nav-prev\", that._prevViewClick.bind(that))\n                .on(CLICK + ns, \".k-button.k-calendar-nav-next\", that._nextViewClick.bind(that));\n\n            buttons = header.find(\".k-button\");\n\n            that._title = buttons.filter(\".k-calendar-title\");\n            that._navContainer = header.find(\".k-calendar-nav\");\n            that[PREVARROW] = buttons.filter(\".k-calendar-nav-prev\");\n            that[NEXTARROW] = buttons.filter(\".k-calendar-nav-next\");\n        },\n\n        _calendarTitleClick: function() {\n            this.navigateUp();\n            this.focus();\n            this.trigger(NAVIGATE);\n        },\n\n        _prevViewClick: function(e) {\n            e.preventDefault();\n            this.navigateToPast();\n            this.focus();\n            this.trigger(NAVIGATE);\n        },\n\n        _nextViewClick: function(e) {\n            e.preventDefault();\n            this.navigateToFuture();\n            this.focus();\n            this.trigger(NAVIGATE);\n        },\n\n        _wrapper: function() {\n            this.tablesWrapper = $('<div tabindex=\"0\" role=\"grid\" class=\"k-calendar-view\" aria-labelledby=\"calendar-title\" />').insertAfter(this.element[0].firstChild);\n        },\n\n        _templates: function() {\n            var that = this;\n            var options = that.options;\n            var month = options.month;\n            var content = month.content;\n            var weekNumber = month.weekNumber;\n            var empty = month.empty;\n\n            that.month = {\n                content: template((data) => `<td class=\"${data.cssClass}\" role=\"gridcell\"><span tabindex=\"-1\" class=\"k-link${data.linkClass}\" data-href=\"${data.url}\" ${kendo.attr(VALUE)}=\"${data.dateString}\" title=\"${data.title}\">${content ? kendo.template(content, { useWithBlock: !!content })(data) : data.value}</span></td>`, { useWithBlock: !!content }),\n                empty: template((data) => `<td role=\"gridcell\"${empty ? '>' : ' class=\"k-calendar-td k-empty\">'}${(empty ? kendo.template(empty, { useWithBlock: !!empty })(data) : \"</span>\")}</td>`, { useWithBlock: !!empty }),\n                weekNumber: template((data) => `<td class=\"k-calendar-td k-alt\">${weekNumber ? kendo.template(weekNumber, { useWithBlock: !!weekNumber })(data) : data.weekNumber}</td>`, { useWithBlock: !!weekNumber })\n            };\n        },\n\n        _footer: function() {\n            var that = this;\n            var options = that.options;\n            var template = options.footer !== false ? kendo.template(that.options.footer || ((data) => kendo.toString(data,\"D\", options.culture)), { useWithBlock: false }) : null;\n            var today = getToday();\n            var element = that.element;\n            var footer = element.find(\".k-calendar-footer\");\n\n            if (!template) {\n                that._toggle(false);\n                footer.hide();\n                return;\n            }\n\n            if (!footer[0]) {\n                footer = $(`<div class=\"k-calendar-footer\">\n                    <button tabindex=\"-1\" class=\"k-calendar-nav-today k-button ${kendo.getValidCssClass(\"k-button-\", \"size\", that.options.size || \"medium\")} k-button-flat k-button-flat-primary k-rounded-md\">\n                        <span class=\"k-button-text\"></span>\n                    </button>\n                </div>`).appendTo(element);\n            }\n\n            that._today = footer.show()\n                .find(\".k-button-flat-primary\")\n                .attr(\"title\", kendo.toString(today, \"D\", that.options.culture));\n\n            footer.find(\".k-button-text\")\n                .html(template(today));\n\n            that._toggle();\n        },\n\n        _navigate: function(arrow, modifier) {\n            var that = this;\n            var index = that._index + 1;\n            var currentValue = new DATE(+that._current);\n            var originaValue = new DATE(+that._current);\n            var offset;\n\n            arrow = that[arrow];\n\n            offset = that._cellByDate(currentValue).closest(TABLE).index();\n\n            if (modifier > 0) {\n                offset = 1 - offset;\n            } else {\n                offset = offset + 1;\n            }\n\n            if (!arrow || !arrow.hasClass(DISABLED)) {\n                if (index > 3) {\n                    currentValue.setFullYear(currentValue.getFullYear() + 100 * (modifier * offset));\n                } else {\n                    calendar.views[index].setDate(currentValue, (modifier * offset));\n                }\n\n                that.navigate(currentValue);\n\n                if (that._dateInViews(originaValue)) {\n                    that._focusCell(that._cellByDate(originaValue));\n                    that._current = originaValue;\n                } else {\n                    if (index > 3) {\n                        originaValue.setFullYear(originaValue.getFullYear() + 100 * modifier);\n                    } else {\n                        calendar.views[index].setDate(originaValue, modifier);\n                    }\n                    that._focusCell(that._cellByDate(originaValue));\n                    that._current = originaValue;\n                }\n            }\n        },\n\n        _toggle: function(toggle) {\n            var that = this;\n            var options = that.options;\n            var isTodayDisabled = options.selectable !== RANGE && that.options.disableDates(getToday());\n            var link = that._today;\n\n            if (toggle === undefined$1) {\n                toggle = isInRange(getToday(), options.min, options.max);\n            }\n\n            if (link) {\n                link.off(CLICK + ns);\n\n                if (toggle && !isTodayDisabled) {\n                    link.addClass(TODAY)\n                    .removeClass(DISABLED)\n                    .on(CLICK + ns, function(e) { that._todayClick(e); that.focus(); });\n                } else {\n                    link.removeClass(TODAY)\n                    .addClass(DISABLED)\n                    .on(CLICK + ns, function prevent(e) {\n                        e.preventDefault();\n                    });\n                }\n            }\n        },\n\n        _click: function(link) {\n            var that = this;\n            var options = that.options;\n            var currentValue = new Date(+that._current);\n            var value = toDateObject(link);\n\n            kendo.date.adjustDST(value, 0);\n\n            that._currentView.setDate(currentValue, value);\n            that._current = value;\n\n            if (that._currentView.name !== options.depth) {\n                that.navigateDown(calendar.restrictValue(currentValue, options.min, options.max));\n                that._focusCell(that._cellByDate(that._current));\n                that.trigger(NAVIGATE);\n            } else {\n                that._focusCell(link.closest(TD_NOT_WEEK_CELL));\n            }\n\n            that.focus();\n        },\n\n        _blur: function() {\n            var that = this;\n\n            if (that._cell) {\n                that._cell.removeClass(FOCUSED);\n            }\n        },\n\n        _focus: function() {\n            var cell = this._cell;\n\n            if (!cell || !$.contains(this.tablesWrapper[0], cell[0])) {\n                if (this._current && this._dateInViews(this._current)) {\n                    cell = this._cellByDate(this._current);\n                } else {\n                    cell = this.tablesWrapper.find(CELLSELECTORVALID).first();\n                }\n            }\n\n            this._focusCell(cell);\n        },\n\n        _focusCell: function(cell) {\n            var that = this;\n            var cellId = that._cellID;\n\n            if (that._cell && that._cell.length) {\n                that._cell[0].removeAttribute(ARIA_LABEL);\n                that._cell.removeClass(FOCUSED);\n                that.tablesWrapper.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n                if (that._cell.attr(ID) === cellId) {\n                    that._cell[0].removeAttribute(ID);\n                }\n            }\n\n            that._cell = cell;\n\n            if (cell.attr(ID)) {\n                that.tablesWrapper.attr(ARIA_ACTIVEDESCENDANT, cell.attr(ID));\n            } else if (cellId) {\n                cell.attr(ID, cellId);\n                that.tablesWrapper.attr(ARIA_ACTIVEDESCENDANT, cellId);\n            }\n\n            cell.addClass(FOCUSED);\n\n            if (cell.length && that._currentView.name == MONTH) {\n                that._current = toDateObject(cell.find(\"span\"));\n            }\n        },\n\n        _todayClick: function(e) {\n            var that = this;\n            var disabled = that.options.disableDates;\n            var today = getToday();\n            var navigate = false;\n\n            e.preventDefault();\n\n            if (disabled(today)) {\n                return;\n            }\n\n            that._value = today;\n\n            if (that._isMultipleSelection()) {\n                that._selectDates = [today];\n            }\n\n            if (that._isRangeSelection()) {\n                that.rangeSelectable.clear(true);\n                that._range = { start: today, end: null };\n            }\n\n            if (that._currentView.name != MONTH || !that._dateInViews(today)) {\n                navigate = true;\n            }\n\n            that.navigate(today, that.options.depth);\n\n            if (that._isSingleSelection()) {\n                that.selectable._lastActive = null;\n            }\n\n            if (navigate) {\n                that.trigger(NAVIGATE);\n            }\n\n            that.trigger(CHANGE);\n        },\n\n        _validateValue: function(value) {\n            var that = this;\n            var options = that.options;\n            var min = options.min;\n            var max = options.max;\n\n            value = kendo.parseDate(value, options.format, options.culture);\n\n            if (value !== null) {\n                value = new DATE(+value);\n\n                if (!isInRange(value, min, max)) {\n                    value = null;\n                }\n            }\n\n            if (value === null || !that.options.disableDates(new Date(+value))) {\n                that._value = value;\n            } else if (that._value === undefined$1) {\n                that._value = null;\n            }\n\n            return that._value;\n        },\n\n        _updateAria: function(ariaTemplate, date) {\n            var that = this;\n            var cell = that._cellByDate(date || that.current());\n            var valueType = that.view().valueType();\n            var current = date || that.current();\n            var text;\n\n            that._focusCell(cell);\n\n            if (valueType === MONTH) {\n                text = kendo.toString(current, \"MMMM\");\n            } else if (valueType === \"date\") {\n                text = kendo.toString(current, \"D\");\n            } else {\n                text = cell.text();\n            }\n\n            cell.attr(ARIA_LABEL, ariaTemplate({ current: current, valueType: valueType, text: text }));\n            return cell.attr(ID);\n        },\n\n        clearSelection: function() {\n            var that = this;\n\n            if (that.selectable) {\n                that.element.find(DOT + SELECTED).removeClass(SELECTED).removeAttr(ARIA_SELECTED);\n            }\n\n            if (that.rangeSelectable) {\n                that.rangeSelectable.clear(true);\n            }\n        },\n\n        _restoreSelection: function() {\n            var that = this;\n            var range;\n\n            if (that._currentView.name !== that.options.depth) {\n                return;\n            }\n\n            that._preventChange = true;\n\n            if (that._isRangeSelection()) {\n                range = that.selectRange();\n\n                if (!range || !range.start) {\n                    that._preventChange = false;\n                    return;\n                }\n\n                that.selectRange(range);\n            }\n\n            if (that._isSingleSelection() && that.value()) {\n                that.selectable.value(that._cellByDate(that.value()));\n            }\n\n            if (that._isMultipleSelection()) {\n                that._visualizeSelectedDatesInView();\n            }\n\n            that._preventChange = false;\n        },\n\n        _isMultipleSelection: function() {\n            let selectable = this.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n            return selectableOptions.multiple;\n        },\n\n        _isRangeSelection: function() {\n            let selectable = this.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n            return selectableOptions.range;\n        },\n\n        _isSingleSelection: function() {\n            let selectable = this.options.selectable,\n            selectableOptions = Selectable.parseOptions(selectable);\n            return selectableOptions.single;\n        },\n\n        value: function(value) {\n            var that = this;\n            var cell;\n\n            if (value === undefined$1) {\n                return that._value;\n            }\n\n            value = that._validateValue(value);\n\n            that.clearSelection();\n\n            if (value && !that._dateInViews(value)) {\n                that.navigate(value);\n            }\n\n            if (value !== null && that._currentView.name === MONTH) {\n                cell = that._cellByDate(value);\n\n                if (that.selectable) {\n                    that.selectable.value(cell);\n                }\n\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.start(cell);\n                    that.rangeSelectable._lastActive = cell;\n                }\n            }\n        },\n\n        selectDates: function(dates) {\n            var that = this;\n            var validSelectedDates;\n            var datesUnique;\n\n            if (dates === undefined$1) {\n                return that._selectDates;\n            }\n\n            datesUnique = dates\n                .map(function(date) { return date.getTime(); })\n                .filter(function(date, position, array) {\n                    return array.indexOf(date) === position;\n                })\n                .map(function(time) { return new Date(time); });\n\n            validSelectedDates = $.grep(datesUnique, function(value) {\n                if (value) {\n                    return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                }\n            });\n            that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : (datesUnique.length === 0 ? datesUnique : that._selectDates);\n            that._visualizeSelectedDatesInView();\n        },\n\n        selectRange: function(range) {\n            let that = this,\n                startInRange,\n                endInRange,\n                visibleRange;\n\n            if (range === undefined$1) {\n                return that._range;\n            }\n\n            that._range = range;\n\n            visibleRange = that._visibleRange();\n\n            startInRange = that._dateInViews(range.start);\n            endInRange = range.end && that._dateInViews(range.end);\n\n            if (!startInRange) {\n                if (endInRange) {\n                    if (range.start) {\n                        that.rangeSelectable.selectTo(that._cellByDate(range.end));\n                    } else {\n                        that.rangeSelectable.clear(true);\n                        that.rangeSelectable.end(that._cellByDate(range.end));\n                    }\n                } else if (range.start) {\n                    that.rangeSelectable.start(that._cellByDate(range.start));\n                }\n            }\n\n            if (startInRange && endInRange) {\n                that.rangeSelectable.range(that._cellByDate(range.start), that._cellByDate(range.end), false, that.options.allowReverse);\n            }\n\n            if (range.end && startInRange && !endInRange) {\n                that.rangeSelectable.selectFrom(that._cellByDate(range.start));\n            }\n\n            if (!range.end && startInRange) {\n                that.rangeSelectable.clear(true);\n                that.rangeSelectable.start(that._cellByDate(range.start));\n            }\n\n            if (+visibleRange.start > +range.start && +visibleRange.end < +range.end) {\n                that.rangeSelectable.mid(that.element.find(CELLSELECTORVALID));\n            }\n        }\n    });\n\n    kendo.ui.plugin(MultiViewCalendar);\n\n    function mousetoggle(e) {\n        var disabled = $(this).hasClass(\"k-disabled\");\n\n        if (!disabled) {\n            $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n        }\n    }\n\n    function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n        for (var i = 0; i <= numberOfDays; i++) {\n            var nextDay = new Date(fromDate.getTime());\n            nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n            if (!disableDates(nextDay)) {\n                array.push(nextDay);\n            }\n        }\n    }\n\n    function daysBetweenTwoDates(startDate, endDate) {\n        if (+endDate < +startDate) {\n            var temp = +startDate;\n            calendar.views[0].setDate(startDate, endDate);\n            calendar.views[0].setDate(endDate, new Date(temp));\n        }\n        var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n        var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n\n        return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n    }\n\n    function shiftDate(value, dimension, numberOfViews) {\n        var current;\n        if (dimension === MONTH) {\n            current = new DATE(value.getFullYear(), value.getMonth() + numberOfViews, value.getDate());\n            current.setFullYear(value.getFullYear());\n            if (Math.abs(current.getMonth() - value.getMonth()) > numberOfViews || numberOfViews > 10) {\n                current.setMonth(value.getMonth() + numberOfViews);\n                current = calendar.views[0].last(current);\n            }\n            return current;\n        } else if (dimension === \"year\") {\n            current = new DATE(1, value.getMonth(), value.getDate());\n            current.setFullYear(value.getFullYear() + numberOfViews);\n            if (Math.abs(current.getFullYear() - value.getFullYear()) > numberOfViews) {\n                current = new DATE(1, value.getMonth(), 1);\n                current.setFullYear(value.getFullYear() + numberOfViews);\n                current = calendar.views[1].last(current);\n            }\n            return current;\n        } else if (dimension === \"decade\") {\n            current = new DATE(1, value.getMonth(), value.getDate());\n            current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n            if (Math.abs(current.getFullYear() - value.getFullYear()) > 10 * numberOfViews) {\n                current = new DATE(1, value.getMonth(), 1);\n                current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                current = calendar.views[2].last(current);\n            }\n            return current;\n        } else if (dimension === \"century\") {\n            current = new DATE(1, value.getMonth(), value.getDate());\n            current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n            if (Math.abs(current.getFullYear() - value.getFullYear()) > 100 * numberOfViews) {\n                current = new DATE(1, value.getMonth(), 1);\n                current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                current = calendar.views[3].last(current);\n            }\n            return current;\n        }\n    }\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { __meta__, kendo$1 as default };\n"]}
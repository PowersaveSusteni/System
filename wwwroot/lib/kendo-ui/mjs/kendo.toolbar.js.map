{"version":3,"file":"kendo.toolbar.js","names":["__meta__","id","name","category","description","depends","$","undefined$1","kendo","window","Widget","ui","isFunction","keys","outerWidth","_outerWidth","ns","TOOLBAR","KBUTTON","BUTTON_GROUP","SPLIT_BUTTON","MENU_BUTTON","SPACER_CLASS","STATE_SELECTED","STATE_HIDDEN","FORCE_HIDDEN","GROUP_START","GROUP_END","MENU_LINK","MENU_ITEM","OVERFLOW_ANCHOR","TEMPLATE_ITEM","MENU_LINK_TOGGLE","DROPDOWNLIST","INPUT_BUTTON","KFOCUS","TABINDEX_MINUS_1","TOOLBAR_TOOL","ARIA_CHECKED","ARIA_LABEL","CHANGE","CLICK","TOGGLE","OPEN","CLOSE","FOCUS","KEYDOWN","SPACER","ROLE","ITEM_REF","SEPARATOR","OVERFLOW","TABINDEX","INPUT","SELECT","GROUP","DATA_UID","DATA_ROLE_SELECTOR","DATA_TOGGLE_SELECTOR","DATA_ROLE_BUTTONMENU","ITEM_REF_SELECTOR","KENDO_FOCUSABLE","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","KENDO_UID_ATTR","attr","NOTHING","DASH","EMPTY","DOT","COMMA","ID","UID","K_DROP_DOWN_BUTTON","K_SPLIT_BUTTON","K_TOGGLE_BUTTON","K_BUTTON_GROUP","toolbar","WIDGET_TYPES","button","splitButton","dropDownButton","buttonGroup","popupButton","open","TOOLBAR_TOOLS_CLASSES","Button","ToggleButton","SplitButton","DropDownButton","ButtonGroup","ColorPicker","Switch","SAFE_COMPONENTS","POPUP_BUTTON_TEMPLATE","icon","ToolBar","extend","init","element","options","fn","call","this","_isRtl","support","isRtl","uid","guid","wrapper","addClass","resizable","_resizable","tools","length","items","_extendToolsOptions","_items","_attachEvents","_tabIndex","_applyCssClasses","_shrink","innerWidth","overflowAnchor","appendTo","_toggleOverflowAnchor","notify","events","navigateOnTab","evaluateTemplates","size","fillMode","destroy","that","unbindResize","_resizeHandler","overflowMenu","find","each","i","el","popup","popupWrapper","chooser","getKendoButton","remove","children","add","_add","resize","enable","candidate","focused","_getUid","item","_getItem","component","hasClass","is","removeAttr","trigger","buttonsPopupItem","widgetInstance","closest","menuItem","getSelectedFromGroup","groupName","filter","hide","elements","parentGroupEl","templateEl","toolbarEl","parent","data","_groupVisibleButtons","addBack","_resetTabIndex","_getAllItems","first","siblings","show","removeClass","toggle","checked","parentGroup","group","_toggleIndex","index","toggleClass","toggleTools","conditions","focusable","not","elm","tool","widget","condition","toToggle","processed","_processOptions","template","overflowTemplate","type","_addTemplate","_addCustomWidget","_addDefaultTool","_addSpacer","_addSeparator","insertBefore","_addAttributes","attributes","classes","hidden","align","class","overflow","forEach","groupClass","result","overflowComponent","_addMenuItem","componentOptions","indexOf","wrap","op","_addToolbarTool","menuitem","selected","showIcon","imageUrl","showText","text","encoded","append","last","prepend","togglable","menuButtons","buttons","click","bind","e","_onMenuItemSelect","_addPopupButton","widgetElement","popupComponent","kendoPopup","anchor","on","preventDefault","commandOn","target","value","close","separator","overflowSeparator","spacer","inputsInTemplate","html","popupRef","hasButtons","primary","themeColor","url","preventKeyNav","_attachWidgetEvents","_resetOpen","extensions","_keydown","_focusIn","_focusOut","_onClick","_onToggle","_onSelect","_onOpen","_onClose","$el","originalEvent","event","_childrenWidth","gap","parseInt","css","childrenWidth","Math","ceil","flatMap","_mapTool","parentMessages","defaultTools","style","visibility","knownUid","uidSelector","buttonsPopups","_getNextElement","direction","itemIndex","parentElement","focusableItem","visibleBtns","_hideItem","eq","menu","list","_showMenuItem","_hideMenuItem","keyCode","templateItem","isOverflowAnchor","ESC","stopPropagation","_keyDeactivateTemplate","ENTER","_keyActivateTemplate","altKey","DOWN","SPACEBAR","_keyOpenOverflow","HOME","_keyFocusFirst","END","_keyFocusLast","RIGHT","LEFT","_keyFocusNext","innerFocusable","pagerTool","innerWidget","visible","width","next","_mapAttributes","toolOptions","messages","property","title","command","dialog","toggleCondition","_mapComponent","componentMessages","componentPlaceholder","placeholder","dataSource","default","Object","JSON","stringify","key","ev","sender","map","isBuiltInTool","originalTool","isArray","Array","isPlainObjectTool","isPlainObject","toolKeysCount","t","deepExtend","_menuItemSelect","shouldSelect","twin","replace","current","select","setTimeout","menuEl","overflowItem","_processInner","parentUid","rootUid","some","b","every","selection","enabled","_renderOverflow","horizontalDirection","kendoButton","ContextMenu","showOn","origin","position","alignToAnchor","uploadWrapper","input","one","files","off","toFocus","onResize","_resize","containerWidth","popupBtnElements","_stretch","commandElement","visibleCommands","activeElement","_showItem","itemOuterWidth","hiddenCommands","focusableItems","firstFocusable","Item","Class","OverflowButton","TemplateItem","ToolBarButton","registerComponent","cssProperties","registerPrefix","registerValues","prop","values","plugin","jQuery","kendo$1"],"sources":["kendo.toolbar.js"],"mappings":"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","ignoreList":[],"sourcesContent":["import './kendo.core.js';\nimport './kendo.splitbutton.js';\nimport './kendo.dropdownbutton.js';\nimport './kendo.buttongroup.js';\nimport './kendo.menu.js';\nimport './kendo.icons.js';\n\nconst __meta__ = {\n    id: \"toolbar\",\n    name: \"ToolBar\",\n    category: \"web\",\n    description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n    depends: [ \"core\", \"splitbutton\", \"dropdownbutton\", \"buttongroup\", \"menu\", \"icons\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        isFunction = kendo.isFunction,\n        keys = kendo.keys,\n        outerWidth = kendo._outerWidth,\n        ns = \".kendoToolBar\",\n        TOOLBAR = \"toolbar\",\n        KTOOLBAR = \"k-toolbar\",\n        KBUTTON = \"k-button\",\n        BUTTON_GROUP = \"k-button-group\",\n        SPLIT_BUTTON = \"k-split-button\",\n        MENU_BUTTON = \"k-menu-button\",\n        POPUP_BUTTON = \"k-popup-button\",\n        KSEPARATOR = \"k-separator\",\n        SPACER_CLASS = \"k-spacer\",\n        UPLOAD_BUTTON = \"k-upload-button\",\n        POPUP = \"k-popup\",\n        RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n        STATE_SELECTED = \"k-selected\",\n        STATE_DISABLED = \"k-disabled\",\n        STATE_HIDDEN = \"k-hidden\",\n        FORCE_HIDDEN = \"k-force-hidden\",\n        GROUP_START = \"k-group-start\",\n        GROUP_END = \"k-group-end\",\n        MENU_LINK = \"k-menu-link\",\n        MENU_ITEM = \"k-menu-item\",\n        OVERFLOW_ANCHOR = \"k-toolbar-overflow-button\",\n        TEMPLATE_ITEM = \"k-toolbar-item\",\n        MENU_LINK_TOGGLE = \"k-menu-link-toggle\",\n        DROPDOWNLIST = \"k-dropdownlist\",\n        INPUT_BUTTON = \"k-input-button\",\n        MENU_POPUP = \"k-menu-popup\",\n        KFOCUS = \"k-focus\",\n        SINGLE = \"single\",\n        MULTIPLE = \"multiple\",\n        NONE = \"none\",\n        TABINDEX_MINUS_1 = \"[tabindex=-1]\",\n        TOOLBAR_TOOL = \"toolbar-tool\",\n\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CHECKED = \"aria-checked\",\n        ARIA_LABEL = \"aria-label\",\n\n        CHANGE = \"change\",\n        CLICK = \"click\",\n        TOGGLE = \"toggle\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n        FOCUS = \"focus\",\n        FOCUSIN = \"focusin\",\n        FOCUSOUT = \"focusout\",\n        KEYDOWN = \"keydown\",\n\n        SPACER = \"spacer\",\n        PRIMARY = \"primary\",\n        ROLE = \"role\",\n        ITEM_REF = \"ref-\",\n        SEPARATOR = \"separator\",\n        OVERFLOW = \"overflow\",\n        TABINDEX = \"tabindex\",\n        INPUT = \"input\",\n        SELECT = \"select\",\n        HIDDEN = \"hidden\",\n        GROUP = \"group\",\n        DATA_UID = \"data-uid\",\n        DATA_PARENTUID = \"data-parentuid\",\n        DATA_ROLE_SELECTOR = \"[data-role]\",\n        DATA_TOGGLE_SELECTOR = \"[data-toggle]\",\n        DATA_ROLE_BUTTONMENU = \"[data-role=buttonmenu]\",\n        ITEM_REF_SELECTOR = \"[ref-toolbar-tool]\",\n        KENDO_FOCUSABLE = \":kendoFocusable:not([class*='pager'])\",\n\n        OVERFLOW_OPEN = \"overflowOpen\",\n        OVERFLOW_CLOSE = \"overflowClose\",\n        OVERFLOW_NEVER = \"never\",\n        OVERFLOW_AUTO = \"auto\",\n        OVERFLOW_ALWAYS = \"always\",\n\n        KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n        NOTHING = \"\",\n        DASH = \"_\",\n        EMPTY = \" \",\n        DOT = \".\",\n        COMMA = \",\",\n        ID = \"id\",\n        UID = \"uid\",\n        NBSP = \"&nbsp;\",\n\n        K_DROP_DOWN_BUTTON = \"kendoDropDownButton\",\n        K_SPLIT_BUTTON = \"kendoSplitButton\",\n        K_TOGGLE_BUTTON = \"kendoToggleButton\",\n        K_BUTTON_GROUP = \"kendoButtonGroup\";\n\n        kendo.toolbar = {};\n\n    var WIDGET_TYPES = {\n        button: \"Button\",\n        splitButton: \"SplitButton\",\n        dropDownButton: \"DropDownButton\",\n        buttonGroup: \"ButtonGroup\",\n        popupButton: \"Button\",\n        open: \"Button\"\n    };\n\n    var TOOLBAR_TOOLS_CLASSES = {\n        Button: \"k-toolbar-button\",\n        ToggleButton: \"k-toolbar-toggle-button\",\n        SplitButton: \"k-toolbar-split-button\",\n        DropDownButton: \"k-toolbar-menu-button\",\n        ButtonGroup: \"k-toolbar-button-group\",\n        ColorPicker: \"k-toolbar-color-picker\",\n        Switch: \"k-toolbar-switch\"\n    };\n\n    var SAFE_COMPONENTS = [ \"Button\", \"SplitButton\", \"DropDownButton\", \"ButtonGroup\", \"Switch\", \"ColorPicker\" ];\n\n    var POPUP_BUTTON_TEMPLATE = `<button class=\"k-popup-button\"><span class=\"k-button-icon k-icon\"></span><span class=\"k-button-text\">${kendo.ui.icon(\"caret-alt-down\")}</span></button>`;\n    var TEMPLATE_WRAPPER = \"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\";\n    var CUSTOM_WIDGET_WRAP = \"<span class='k-toolbar-item' tabindex='0' ref-toolbar-tool >\";\n    var SEPARATOR_OVERFLOW_EL = \"<li role='separator' class='k-separator k-menu-separator k-hidden'></li>\";\n    var SEPARATOR_EL = '<div role=\"separator\">&nbsp;</div>';\n    var SPACER_EL = '<div>&nbsp;</div>';\n\n    var ToolBar = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, options);\n\n            options = this.options;\n\n            this._isRtl = kendo.support.isRtl(element);\n            this.uid = kendo.guid();\n\n            element = this.wrapper = this.element;\n            element.attr(KENDO_UID_ATTR, this.uid);\n            element.addClass(KTOOLBAR);\n            element.attr(ROLE, TOOLBAR);\n\n            if (options.resizable) {\n                this._resizable();\n            }\n\n            if (options.tools && options.tools.length > 0) {\n                options.items = this._extendToolsOptions();\n            }\n\n            if (options.items && options.items.length) {\n                this._items();\n            }\n\n            this._attachEvents();\n            this._tabIndex();\n            this._applyCssClasses();\n\n            if (options.resizable) {\n                this._shrink(this.element.innerWidth());\n                this.overflowAnchor.appendTo(this.wrapper);\n                this._toggleOverflowAnchor();\n            }\n\n            kendo.notify(this);\n        },\n\n        events: [\n            CLICK,\n            TOGGLE,\n            OPEN,\n            CLOSE,\n            OVERFLOW_OPEN,\n            OVERFLOW_CLOSE,\n            CHANGE\n        ],\n\n        options: {\n            name: \"ToolBar\",\n            items: [],\n            resizable: true,\n            navigateOnTab: false,\n            evaluateTemplates: false,\n            size: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        destroy: function() {\n            var that = this;\n\n            if (that.options.resizable) {\n                kendo.unbindResize(that._resizeHandler);\n                that.overflowMenu.destroy();\n            }\n\n            that.element.find(DOT + POPUP_BUTTON).each((i, el) => {\n                var button = $(el).getKendoButton(),\n                    popup, popupWrapper, chooser;\n\n                if (button) {\n                    chooser = button.chooser;\n                    popup = button.popup;\n                    popupWrapper = popup.wrapper;\n\n                    chooser.destroy();\n                    popup.destroy();\n                    popupWrapper.remove();\n                }\n            });\n\n            kendo.destroy(that.element.children());\n\n            Widget.fn.destroy.call(that);\n        },\n\n        add: function(options) {\n            this._add(options);\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        enable: function(candidate, enable) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = this._getItem(candidate, uid),\n                component = item.component,\n                buttonPopup, children, focused, wrapper;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            if (item.component) {\n                wrapper = component.wrapper;\n                focused = wrapper.hasClass(KFOCUS) || wrapper.is(\":focus\");\n                component.enable(enable);\n                wrapper.find(\"[disabled]\").removeAttr(\"disabled\");\n                wrapper.removeAttr(\"disabled\");\n\n                if (focused) {\n                    wrapper.addClass(KFOCUS).trigger(FOCUS);\n                }\n            } else if (item.buttonsPopupItem.length > 0) {\n                buttonPopup = kendo.widgetInstance(item.buttonsPopupItem.closest(DOT + MENU_POPUP));\n                buttonPopup.enable(enable, item.buttonsPopupItem);\n            }\n\n            if (this.overflowMenu) {\n                this.overflowMenu.enable(item.menuItem, enable);\n\n                children = this.overflowMenu.element\n                    .find(\"[data-parentuid=\" + uid + \"]\");\n\n                children.each((i, el) => {\n                    that.overflowMenu.enable($(el), enable);\n                });\n            }\n        },\n\n        getSelectedFromGroup: function(groupName) {\n            return this.element.find(\"[data-group='\" + groupName + \"']\").filter(DOT + STATE_SELECTED);\n        },\n\n        hide: function(candidate) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = that._getItem(candidate, uid),\n                elements, parentButtonGroup, children, parentGroupEl;\n\n            if (!item) {\n                return;\n            }\n\n            elements = item.templateEl.add(item.toolbarEl).add(item.buttonsPopupItem).add(item.menuItem);\n\n            elements.addClass(STATE_HIDDEN);\n            elements.addClass(FORCE_HIDDEN);\n\n            if (this.overflowMenu) {\n                children = this.overflowMenu.element\n                    .find(\"[data-parentuid=\" + uid + \"]\");\n\n                children.each((i, el) => {\n                    $(el).addClass(FORCE_HIDDEN);\n                    $(el).addClass(STATE_HIDDEN);\n                });\n            }\n\n            parentGroupEl = item.toolbarEl.parent().closest(DOT + BUTTON_GROUP);\n            parentButtonGroup = parentGroupEl.data(K_BUTTON_GROUP);\n\n            if (parentButtonGroup) {\n                if (parentGroupEl.children(\":not(.k-hidden)\").length === 0) {\n                    that.hide(parentGroupEl);\n                } else {\n                    that._groupVisibleButtons(parentGroupEl);\n                }\n            }\n\n            if (elements.find(\"[tabindex=0]\").addBack(\"[tabindex=0]\").length > 0) {\n                this._resetTabIndex(that._getAllItems().first());\n            }\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        remove: function(candidate) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = this._getItem(candidate, uid),\n                buttonGroup, children;\n\n            if (!item) {\n                return;\n            }\n\n            if (item.component) {\n                buttonGroup = item.toolbarEl.closest('[data-role=\"buttongroup\"]');\n                if (buttonGroup.length > 0 && item.toolbarEl.siblings().length === 0) {\n                    buttonGroup.data(K_BUTTON_GROUP).destroy();\n                    buttonGroup.remove();\n\n                    item.toolbarEl = $(NOTHING);\n                } else {\n                    item.component.destroy();\n                }\n            }\n\n            if (item.templateEl.length > 0) {\n                item.templateEl.remove();\n            } else if (item.toolbarEl.length > 0) {\n                item.toolbarEl.remove();\n            }\n\n            if (item.buttonsPopupItem.length > 0) {\n                item.buttonsPopupItem.remove();\n            }\n\n            if (this.overflowMenu) {\n                this.overflowMenu.remove(item.menuItem);\n\n                children = this.overflowMenu.element\n                    .find(\"[data-parentuid=\" + uid + \"]\");\n\n                children.each((i, el) => {\n                    that.overflowMenu.remove($(el));\n                });\n            }\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        show: function(candidate) {\n            var that = this,\n                uid = this._getUid(candidate),\n                item = this._getItem(candidate, uid),\n                elements, parentButtonGroup, children, parentGroupEl;\n\n            if (!item) {\n                return;\n            }\n\n            elements = item.templateEl.add(item.toolbarEl).add(item.buttonsPopupItem);\n            elements.removeClass(FORCE_HIDDEN);\n            elements.removeClass(STATE_HIDDEN);\n\n            item.menuItem.removeClass(FORCE_HIDDEN);\n\n            if (this.overflowMenu) {\n                children = this.overflowMenu.element\n                    .find(\"[data-parentuid=\" + uid + \"]\");\n\n                children.each((i, el) => {\n                    $(el).removeClass(FORCE_HIDDEN);\n                });\n            }\n\n            parentGroupEl = item.toolbarEl.parent().closest(DOT + BUTTON_GROUP);\n            parentButtonGroup = parentGroupEl.data(K_BUTTON_GROUP);\n\n            if (parentButtonGroup) {\n                if (parentGroupEl.hasClass(\"k-hidden\") && parentGroupEl.children(\":not(.k-hidden)\").length > 0) {\n                    that.show(parentGroupEl);\n                } else {\n                    that._groupVisibleButtons(parentGroupEl);\n                }\n            }\n\n            if (this.options.resizable) {\n                this.resize(true);\n            }\n        },\n\n        toggle: function(candidate, checked) {\n            var item = this._getItem(candidate),\n                element = item.toolbarEl,\n                menuItem = item.menuItem,\n                button, parentGroup, group, groupButtons;\n\n            if (checked === undefined$1) {\n                checked = true;\n            }\n\n            button = element.data(K_TOGGLE_BUTTON);\n\n            if (!item.component && menuItem.find(DOT + MENU_LINK_TOGGLE).length === 0) {\n                return;\n            }\n\n            group = element.data(GROUP);\n\n            if (item.component) {\n                parentGroup = element.closest(DOT + BUTTON_GROUP).data(K_BUTTON_GROUP);\n\n                if (parentGroup) {\n                    if (element.hasClass(STATE_SELECTED) !== checked) {\n                        parentGroup._toggleIndex(element.index());\n                    }\n                }\n\n                button.toggle(checked);\n\n                if (checked) {\n                    groupButtons = this.element.find(\"[data-group=\" + group + \"]\");\n\n                    groupButtons.each((i, el) => {\n                        if (el !== element[0]) {\n                            $(el).data(K_TOGGLE_BUTTON).toggle(false);\n                        }\n                    });\n                }\n            }\n\n            if (menuItem) {\n                menuItem\n                    .attr(ARIA_CHECKED, checked)\n                    .find(DOT + MENU_LINK_TOGGLE)\n                    .toggleClass(STATE_SELECTED, checked);\n\n                if (checked && this.overflowMenu) {\n                    groupButtons = this.overflowMenu.element.find(\"[data-group=\" + group + \"]\");\n\n                    groupButtons.each((i, el) => {\n                        if (el !== menuItem[0]) {\n                            $(el)\n                                .attr(ARIA_CHECKED, false)\n                                .find(DOT + MENU_LINK_TOGGLE)\n                                .removeClass(STATE_SELECTED);\n                        }\n                    });\n                }\n            }\n        },\n\n        toggleTools: function(conditions) {\n            var that = this,\n                tools = that.element.find(DATA_TOGGLE_SELECTOR),\n                focusable = that.element.find(KENDO_FOCUSABLE).not(TABINDEX_MINUS_1);\n\n            tools.each(function(index, elm) {\n                var tool = $(elm),\n                    widget = null,\n                    condition = tool.data(TOGGLE),\n                    toToggle = conditions && conditions[condition];\n\n                if (tool.is(DATA_ROLE_SELECTOR)) {\n                    widget = kendo.widgetInstance(tool);\n                }\n\n                if (widget && widget.enable) {\n                    widget.enable(toToggle || false);\n                } else {\n                    that.enable(tool, toToggle);\n                }\n            });\n\n            that.element.find(DATA_TOGGLE_SELECTOR + \"[disabled]\").removeAttr(\"disabled\");\n\n            that.element.find(KENDO_FOCUSABLE).not(TABINDEX_MINUS_1).attr(\"tabindex\", -1);\n            focusable.attr(TABINDEX, 0);\n        },\n\n        _add: function(options) {\n            var processed = this._processOptions(options),\n                template = processed.template,\n                overflowTemplate = processed.overflowTemplate,\n                type = WIDGET_TYPES[processed.type],\n                element;\n\n            if (template || overflowTemplate) {\n                element = this._addTemplate(processed);\n            } else if (kendo.ui[processed.component]) {\n                element = this._addCustomWidget(processed);\n            } else if (type) {\n                element = this._addDefaultTool(type, processed);\n            } else if (processed.type === SPACER) {\n                this._addSpacer();\n            } else if (processed.type === SEPARATOR) {\n                this._addSeparator(processed);\n            }\n\n            if (element) {\n                if (this.overflowAnchor) {\n                    element.insertBefore(this.overflowAnchor);\n                } else {\n                    element.appendTo(this.element);\n                }\n\n                element.find(\"[disabled]\").removeAttr(\"disabled\");\n\n                if (element.is(\"[disabled]\")) {\n                    element.removeAttr(\"disabled\");\n                }\n            }\n        },\n\n        _addAttributes: function(options, element) {\n            var attributes = options.attributes,\n                classes = NOTHING;\n\n            if (!attributes) {\n                attributes = {};\n            }\n\n            if (options.hidden) {\n                classes = STATE_HIDDEN + EMPTY + FORCE_HIDDEN;\n            }\n\n            if (options.align) {\n                classes = classes + \" k-align-\" + options.align;\n            }\n\n            if (attributes) {\n                if (attributes.class) {\n                    classes = classes + EMPTY + attributes.class;\n                    delete attributes.class;\n                }\n\n                element.attr(attributes);\n            }\n\n            element.addClass(classes);\n            element.attr(KENDO_UID_ATTR, options.uid);\n\n            if (options.id) {\n                element.attr(ID, options.id);\n            }\n            if (options.overflow === OVERFLOW_NEVER) {\n                element.attr(\"data-overflow\", OVERFLOW_NEVER);\n            }\n\n            if (options.items) {\n                options.items.forEach(item => {\n                    if (item && item.groupClass && !element.hasClass(item.groupClass)) {\n                        element.addClass(item.groupClass);\n                    }\n                });\n            }\n        },\n\n        _addCustomWidget: function(options) {\n            var element = $(options.element || \"<input>\"),\n                widget, result, classes;\n\n            if (options.overflowComponent) {\n                this._addMenuItem(options.overflowComponent.type, $.extend({}, options, options.overflowComponent));\n            }\n\n            if (options.attributes) {\n                classes = options.attributes.class;\n                delete options.attributes[\"class\"];\n                element.attr(options.attributes);\n                delete options.attributes[ARIA_LABEL];\n            }\n\n            if (!options.componentOptions) {\n                options.componentOptions = {};\n            }\n\n            options.componentOptions.size = this.options.size;\n\n            widget = new kendo.ui[options.component](element, options.componentOptions);\n\n            if (SAFE_COMPONENTS.indexOf(options.component) > -1) {\n                widget.wrapper.addClass(TOOLBAR_TOOLS_CLASSES[options.component]).attr(ITEM_REF + TOOLBAR_TOOL, '');\n                result = widget.wrapper;\n            } else {\n                result = (widget.wrapper || widget.element).wrap(CUSTOM_WIDGET_WRAP).parent();\n            }\n\n            if (options.attributes) {\n                options.attributes.class = classes;\n            }\n\n            this._addAttributes(options, result);\n\n            return result;\n        },\n\n        _addDefaultTool: function(component, options) {\n            var element, op;\n\n            if (options.overflow !== OVERFLOW_ALWAYS) {\n                element = this._addToolbarTool(component, $.extend(true, {}, options));\n            }\n\n            if (this.overflowMenu && options.overflow !== OVERFLOW_NEVER) {\n                if (options.overflowComponent) {\n                    op = $.extend(true, {}, options, options.overflowComponent);\n                    delete op[\"data-command\"];\n                    this._addMenuItem(\"Button\", op);\n                } else {\n                    this._addMenuItem(component, $.extend(true, {}, options));\n                }\n            }\n\n            return element;\n        },\n\n        _addMenuItem: function(component, options) {\n            var that = this,\n                selected = options.selected,\n                menuitem;\n\n            delete options.selected;\n\n            if (options.id) {\n                options.id = options.id + DASH + OVERFLOW;\n            }\n            if (options.showIcon === TOOLBAR) {\n                delete options.imageUrl;\n                delete options.icon;\n            }\n\n            if (options.showText === TOOLBAR) {\n                if (!options.attributes) {\n                    options.attributes = {};\n                }\n\n                options.attributes[ARIA_LABEL] = options.text;\n\n                options.text = NOTHING;\n            } else if (options.text === undefined$1 || options.text === NOTHING) {\n                options.text = NBSP;\n                options.encoded = false;\n            }\n\n            that.overflowMenu.append(options);\n            menuitem = that.overflowMenu.element.find(DOT + MENU_ITEM).last();\n\n            if (options.icon) {\n                menuitem.find(DOT + MENU_LINK).prepend(kendo.ui.icon(options.icon));\n            }\n\n            if (component === \"ToggleButton\" || (component === \"Button\" && options.togglable === true)) {\n                menuitem.find(DOT + MENU_LINK).addClass(MENU_LINK_TOGGLE);\n\n                if (selected) {\n                    menuitem.find(DOT + MENU_LINK).addClass(STATE_SELECTED);\n                }\n\n                if (options.group) {\n                    menuitem.attr(\"data-group\", options.group);\n                }\n            } else if (options.menuButtons) {\n                options.menuButtons.forEach((i) => {\n                    i.overflow = options.overflow;\n                    that._addMenuItem(null, i);\n                });\n            } else if (options.buttons) {\n                menuitem.remove();\n                menuitem = null;\n\n                options.buttons.forEach((i) => {\n                    var attributes = i.attributes;\n                    i.overflow = options.overflow;\n                    i.attributes = $.extend(attributes, options.attributes);\n\n                    that._addMenuItem(\"Button\", i);\n                });\n            }\n\n            if (component === \"DropDownButton\") {\n                menuitem.addClass(STATE_DISABLED);\n                menuitem.attr(ARIA_DISABLED, true);\n            }\n\n            if (menuitem) {\n                that._addAttributes(options, menuitem);\n\n                if (options.overflow === OVERFLOW_AUTO) {\n                    menuitem.addClass(STATE_HIDDEN);\n                }\n\n                if (options.click || options.toggle) {\n                    that.overflowMenu.bind(SELECT, (e) => {\n                        if (e.item === menuitem[0]) {\n                            this._onMenuItemSelect(e, options.click, options.toggle);\n                        }\n                    });\n                }\n            }\n\n            return menuitem;\n        },\n\n        _addPopupButton: function(options) {\n            var that = this,\n                widgetElement = $(POPUP_BUTTON_TEMPLATE),\n                component = options.popupComponent,\n                popup, chooser;\n\n            widgetElement.attr(ARIA_LABEL, options.text);\n\n            popup = $(\"<div/>\").appendTo($(\"<body>\")).kendoPopup({\n                anchor: widgetElement\n            }).data(\"kendoPopup\");\n\n            widgetElement.on(CLICK + \" touchend\", (e) => {\n                popup.toggle();\n                e.preventDefault();\n            });\n\n            chooser = new component(popup.element);\n\n            chooser.bind(options.commandOn, (e) => {\n                that.trigger(CHANGE, { target: widgetElement, value: e.value || e });\n                popup.close();\n            });\n\n            return { widgetElement, chooser, popup };\n        },\n\n        _addSeparator: function(options) {\n            var separator = $(SEPARATOR_EL),\n                overflowSeparator = $(SEPARATOR_OVERFLOW_EL);\n\n            separator.addClass(KSEPARATOR);\n            separator.attr(ROLE, SEPARATOR);\n\n            if (this.overflowAnchor) {\n                separator.insertBefore(this.overflowAnchor);\n            } else {\n                separator.appendTo(this.element);\n            }\n\n            this._addAttributes(options, separator);\n\n            if (options.id) {\n                options.id = options.id + DASH + OVERFLOW;\n            }\n\n            this._addAttributes(options, overflowSeparator);\n\n            if (this.overflowMenu) {\n                this.overflowMenu.element.append(overflowSeparator);\n            }\n        },\n\n        _addSpacer: function() {\n            var spacer = $(SPACER_EL);\n            spacer.addClass(SPACER_CLASS);\n\n            if (this.overflowAnchor) {\n                spacer.insertBefore(this.overflowAnchor);\n            } else {\n                spacer.appendTo(this.element);\n            }\n        },\n\n        _addTemplate: function(options) {\n            var template = options.template,\n                overflowTemplate = options.overflowTemplate,\n                element, menuitem, inputsInTemplate = $(NOTHING);\n\n            if (overflowTemplate && this.overflowMenu && options.overflow !== OVERFLOW_NEVER) {\n                overflowTemplate = isFunction(overflowTemplate) ? overflowTemplate(options)[0] : overflowTemplate;\n                this.overflowMenu.append({});\n                menuitem = this.overflowMenu.element\n                    .find(DOT + MENU_ITEM)\n                    .last()\n                    .find(DOT + MENU_LINK)\n                    .html(overflowTemplate)\n                    .parent();\n            }\n\n            if (template && options.overflow !== OVERFLOW_ALWAYS) {\n                if (this.options.evaluateTemplates) {\n                    template = kendo.template(template);\n                }\n\n                template = isFunction(template) ? template(options) : template;\n\n                element = $(TEMPLATE_WRAPPER);\n                element.html(template);\n\n                if (menuitem) {\n                    menuitem.addClass(STATE_HIDDEN);\n                }\n            }\n\n            if (element) {\n                inputsInTemplate = element.find(INPUT + COMMA + SELECT);\n                this._addAttributes(options, element);\n            }\n\n            if (menuitem) {\n                inputsInTemplate.add(menuitem.find(INPUT + COMMA + SELECT));\n                this._addAttributes(options, menuitem);\n            }\n\n            if (!this.options.navigateOnTab && inputsInTemplate.length > 0) {\n                element.attr(TABINDEX, 0);\n                element.attr(ITEM_REF + TOOLBAR_TOOL, '');\n                inputsInTemplate.attr(TABINDEX, -1);\n            }\n\n            return element;\n        },\n\n        _addToolbarTool: function(component, options) {\n            var widgetElement = $(\"<button>\"),\n                hasButtons = false,\n                widget, element, popupRef;\n\n            if (options.primary === true) {\n                options.themeColor = PRIMARY;\n            }\n            if (options.url) {\n                widgetElement = $(\"<a href='\" + options.url + \"'>\");\n            }\n            if (options.showIcon === OVERFLOW) {\n                delete options.imageUrl;\n                delete options.icon;\n            }\n            if (options.showText !== OVERFLOW) {\n                widgetElement.text(options.text);\n            } else {\n                widgetElement.attr(ARIA_LABEL, options.text);\n            }\n\n            if (options.type === \"popupButton\") {\n                popupRef = this._addPopupButton(options);\n                widgetElement = popupRef.widgetElement;\n            } else if (component === \"Button\" && options.togglable === true) {\n                component = \"ToggleButton\";\n            } else if (options.menuButtons) {\n                options.items = options.menuButtons;\n                delete options.menuButtons;\n\n                if (options.attributes && options.attributes.class) {\n                    widgetElement.addClass(options.attributes.class);\n                }\n\n                widgetElement.attr(DATA_UID, options.uid);\n                delete options.uid;\n            } else if (options.buttons) {\n                widgetElement = $(\"<span></span>\");\n                hasButtons = true;\n                options.items = options.buttons;\n                delete options.buttons;\n\n                options.preventKeyNav = true;\n\n                options.items.forEach(i => {\n                    if (i.showIcon === OVERFLOW) {\n                        delete i.imageUrl;\n                        delete i.icon;\n                    }\n\n                    if (i.showText === OVERFLOW) {\n                        if (!i.attributes) {\n                            i.attributes = {};\n                        }\n\n                        i.attributes[ARIA_LABEL] = i.text;\n\n                        delete i.text;\n                    }\n                });\n            }\n\n            if (options.id) {\n                widgetElement.attr(ID, options.id);\n                delete options.id;\n            }\n\n            // Remove the name property. Otherwise the default component name will be overriden.\n            // This will cause us to init an element with data-role=${name} instead of the correct data-role of the component.\n            if (options.name) {\n                delete options.name;\n            }\n\n            options.size = this.options.size;\n\n            widget = new kendo.ui[component]($(widgetElement), options);\n            element = widget.wrapper || widget.element;\n            element.addClass(TOOLBAR_TOOLS_CLASSES[component]);\n            this._addAttributes(options, element);\n\n            if (options.url) {\n                widgetElement.removeAttr(ROLE);\n            }\n\n            if (hasButtons) {\n                element.find(DOT + KBUTTON).attr(ITEM_REF + TOOLBAR_TOOL, '');\n                this._groupVisibleButtons(element);\n            } else {\n                widget.element.attr(ITEM_REF + TOOLBAR_TOOL, '');\n            }\n\n            if (options.type !== \"popupButton\" && options.type !== \"open\") {\n                this._attachWidgetEvents(widget);\n            } else if (options.type === \"open\") {\n                widgetElement.addClass(UPLOAD_BUTTON);\n                this._resetOpen(widgetElement, options.extensions);\n                element = widgetElement.parent();\n            } else {\n                widget.chooser = popupRef.chooser;\n                widget.popup = popupRef.popup;\n            }\n\n            return element;\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(KEYDOWN + ns, that._keydown.bind(that))\n                .on(FOCUSIN + ns, that._focusIn.bind(that))\n                .on(FOCUSOUT + ns, that._focusOut.bind(that));\n        },\n\n        _attachWidgetEvents: function(widget) {\n            var that = this;\n\n            widget.bind(CLICK, that._onClick.bind(that));\n            widget.bind(TOGGLE, that._onToggle.bind(that));\n            widget.bind(SELECT, that._onSelect.bind(that));\n            widget.bind(OPEN, that._onOpen.bind(that));\n            widget.bind(CLOSE, that._onClose.bind(that));\n\n            widget.wrapper.find(DOT + KBUTTON).each((i, el) => {\n                var $el = $(el);\n\n                if ($el.data(\"kendoButton\")) {\n                    $el.data(\"kendoButton\").bind(CLICK, (e) => {\n                        that.trigger(CLICK, { id: e.id, target: e.target, originalEvent: e.originalEvent || e.event });\n                    });\n                }\n            });\n        },\n\n        _childrenWidth: function() {\n            var gap = parseInt(this.element.css('gap'), 10) || 0;\n            var childrenWidth = gap;\n\n            this.element.children(\":visible:not(\" + DOT + SPACER_CLASS + \")\").each(function() {\n                childrenWidth += outerWidth($(this), false) + gap;\n            });\n\n            return Math.ceil(childrenWidth);\n        },\n\n        _extendToolsOptions: function() {\n            var options = this.options,\n                items = options.tools.flatMap((tool) => this._mapTool(tool, options.parentMessages, options.defaultTools));\n\n            this.options.items = items;\n\n            return items;\n        },\n\n        _focusIn: function(e) {\n            var target = $(e.target),\n                button = target.closest(DOT + KBUTTON);\n\n            if (button.length > 0) {\n                this._resetTabIndex(button);\n                button.addClass(KFOCUS);\n            }\n        },\n\n        _focusOut: function(e) {\n            this.wrapper.find(DOT + KBUTTON + DOT + KFOCUS).removeClass(KFOCUS);\n        },\n\n        _getAllItems: function() {\n            return this.wrapper.find(ITEM_REF_SELECTOR)\n                .filter(\":visible\")\n                .filter((i, el) => {\n                    if (el.style.visibility === HIDDEN) {\n                        return false;\n                    }\n\n                    return true;\n                });\n        },\n\n        _getItem: function(candidate, knownUid) {\n            var uid = knownUid || this._getUid(candidate),\n                buttonsPopups = $(DATA_ROLE_BUTTONMENU),\n                uidSelector, toolbarEl;\n\n            if (!uid) {\n                return {\n                    toolbarEl: this.element.find(candidate),\n                    templateEl: $(NOTHING),\n                    menuItem: this.overflowMenu ? this.overflowMenu.element.find(candidate) : $(NOTHING),\n                    buttonsPopupItem: $(NOTHING)\n                };\n            }\n\n            uidSelector = \"[data-uid=\" + uid + \"]\";\n            toolbarEl = this.element.find(uidSelector);\n\n            return {\n                toolbarEl: toolbarEl,\n                templateEl: toolbarEl.closest(DOT + TEMPLATE_ITEM + COMMA + DOT + SPLIT_BUTTON),\n                component: kendo.widgetInstance(toolbarEl),\n                menuItem: this.overflowMenu ? this.overflowMenu.element.find(uidSelector) : $(NOTHING),\n                buttonsPopupItem: buttonsPopups.find(uidSelector)\n            };\n        },\n\n        _getNextElement: function(item, direction) {\n            var items = this._getAllItems(),\n                itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item),\n                focusableItem = items[itemIndex + direction];\n\n            if (!focusableItem) {\n                if (direction === -1) {\n                    focusableItem = items.last();\n                } else {\n                    focusableItem = items.first();\n                }\n            }\n\n            return focusableItem;\n        },\n\n        _getUid: function(candidate) {\n            var element;\n\n            // find toolbar item by jQuery selector\n            element = this.element.find(candidate);\n\n            // if not found find in in the DropDown-/SplitButton popups\n            if (!element.length) {\n                element = $(DATA_ROLE_BUTTONMENU).find(candidate);\n            }\n\n            // if not, find it in the OverflowMenu\n            if (!element.length && this.overflowMenu) {\n                element = this.overflowMenu.element.find(candidate);\n            }\n\n            if (!element.length) {\n                return null;\n            } else {\n                return element.data(UID) || element.closest(ITEM_REF_SELECTOR).data(UID);\n            }\n        },\n\n        _groupVisibleButtons: function(el) {\n            var buttons = el.children(),\n                visibleBtns;\n\n            buttons.removeClass(GROUP_END).removeClass(GROUP_START);\n            visibleBtns = buttons.filter(\":not('.\" + STATE_HIDDEN + \"')\");\n            visibleBtns.first().addClass(GROUP_START);\n            visibleBtns.last().addClass(GROUP_END);\n        },\n\n        _hideItem: function(item) {\n            var that = this,\n                widget;\n\n            item.addClass(STATE_HIDDEN);\n\n            if (that.overflowMenu) {\n                if (item.hasClass(SPLIT_BUTTON) || item.hasClass(MENU_BUTTON)) {\n                    if (item.hasClass(SPLIT_BUTTON)) {\n                        item = item.children().eq(0);\n                        widget = item.data(K_SPLIT_BUTTON);\n                    } else {\n                        widget = item.data(K_DROP_DOWN_BUTTON);\n                    }\n\n                    widget.menu.list.children().each((i, el) => {\n                        that._showMenuItem($(el));\n                    });\n\n                    that._showMenuItem(item);\n                } else if (item.hasClass(BUTTON_GROUP)) {\n                    item.children().each((i, el) => {\n                        that._showMenuItem($(el));\n                    });\n                } else {\n                    that._showMenuItem(item);\n                }\n            }\n        },\n\n        _hideMenuItem: function(item) {\n            this.overflowMenu.element\n                .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                .addClass(STATE_HIDDEN);\n        },\n\n        _items: function() {\n            let options = this.options;\n\n            for (var i = 0; i < options.items.length; i++) {\n                this._add(options.items[i]);\n            }\n        },\n\n        _keydown: function(e) {\n            var target = $(e.target),\n                keyCode = e.keyCode,\n                templateItem = target.closest(DOT + TEMPLATE_ITEM),\n                isOverflowAnchor = target.is(DOT + OVERFLOW_ANCHOR);\n\n            if (!this.options.navigateOnTab && !target.is(ITEM_REF_SELECTOR) && keyCode === keys.ESC && templateItem.length > 0) {\n                e.stopPropagation();\n                this._keyDeactivateTemplate(templateItem);\n                return;\n            }\n\n            if (!target.is(ITEM_REF_SELECTOR)) {\n                return;\n            }\n\n            if (!this.options.navigateOnTab && keyCode === keys.ENTER && target.hasClass(TEMPLATE_ITEM)) {\n                this._keyActivateTemplate(target);\n            } else if (isOverflowAnchor && (e.altKey && keyCode === keys.DOWN || keyCode === keys.SPACEBAR)) {\n                this._keyOpenOverflow(e, keyCode);\n            } else if (keyCode === keys.HOME) {\n                this._keyFocusFirst(target, e);\n            } else if (keyCode === keys.END) {\n                this._keyFocusLast(target, e);\n            } else if (!this.options.navigateOnTab && (keyCode === keys.RIGHT || keyCode === keys.LEFT)) {\n                this._keyFocusNext(keyCode, e);\n            }\n        },\n\n        _keyActivateTemplate: function(target) {\n            var innerFocusable = target.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n            const pagerTool = target.find('.k-pager');\n\n            if (pagerTool.length > 0) {\n                pagerTool.trigger(FOCUS);\n            } else if (innerFocusable.length > 0) {\n                target.attr(TABINDEX, -1);\n\n                innerFocusable.attr(TABINDEX, 0);\n                innerFocusable.first().trigger(FOCUS);\n            }\n        },\n\n        _keyDeactivateTemplate: function(templateItem) {\n            var innerWidget = templateItem.find(DATA_ROLE_SELECTOR),\n                innerFocusable = templateItem.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST),\n                widgetInstance;\n\n            if (innerWidget.length > 0) {\n                widgetInstance = kendo.widgetInstance(innerWidget);\n\n                if (widgetInstance) {\n                    if (widgetInstance.overflowMenu && widgetInstance.overflowMenu.visible()) {\n                        return;\n                    } else {\n                        templateItem.attr(TABINDEX, 0);\n                        templateItem.trigger(FOCUS);\n                        templateItem.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    }\n                }\n            }\n\n            if (innerFocusable.length > 0) {\n                templateItem.attr(TABINDEX, 0);\n                templateItem.trigger(FOCUS);\n                innerFocusable.attr(TABINDEX, -1);\n            }\n        },\n\n        _keyFocusFirst: function(target, e) {\n            var items = this._getAllItems();\n\n            if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                return;\n            }\n\n            this._resetTabIndex(items.first());\n            items.first().trigger(FOCUS);\n            e.preventDefault();\n        },\n\n        _keyFocusLast: function(target, e) {\n            var items = this._getAllItems(),\n                last;\n\n            if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                return;\n            }\n\n            last = items.last();\n\n            if (last.width() === 0) {\n                last = items.eq(items.length - 2);\n            }\n\n            this._resetTabIndex(last);\n            last.trigger(FOCUS);\n            e.preventDefault();\n        },\n\n        _keyFocusNext: function(keyCode, e) {\n            var direction = this._isRtl ? -1 : 1,\n                next;\n\n            if (keyCode === keys.LEFT) {\n                direction = -1 * direction;\n            }\n\n            next = $(this._getNextElement(e.target, direction));\n            this._resetTabIndex(next);\n            next.trigger(FOCUS);\n\n            e.preventDefault();\n        },\n\n        _keyOpenOverflow: function(e, keyCode) {\n            if (keyCode === keys.SPACEBAR) {\n                e.preventDefault();\n            }\n\n            this.overflowMenu.open();\n        },\n\n        _mapAttributes: function(toolOptions, messages) {\n            return {\n                \"aria-label\": messages[toolOptions.name || toolOptions.property],\n                \"title\": messages[toolOptions.name || toolOptions.property],\n                \"data-command\": toolOptions.command,\n                \"data-options\": toolOptions.options,\n                \"data-dialog\": toolOptions.dialog,\n                \"data-property\": toolOptions.property,\n                \"data-value\": toolOptions.value,\n                \"data-toggle\": toolOptions.toggleCondition\n            };\n        },\n\n        _mapComponent: function(component, messages) {\n            var that = this,\n                componentOptions = component.componentOptions,\n                componentMessages = componentOptions.messages,\n                componentPlaceholder = componentOptions.placeholder,\n                attributes = $.extend({}, that._mapAttributes(component, messages), component.attributes),\n                options;\n\n            if (component.overflowComponent) {\n                options = component.options || {};\n\n                if (component.componentOptions.dataSource) {\n                    options.options = component.componentOptions.dataSource;\n                }\n                if (component.componentOptions.value) {\n                    options.default = component.componentOptions.value;\n                }\n\n                if (Object.keys(options).length > 0) {\n                    component.overflowComponent.options = JSON.stringify(options);\n                }\n\n                component.overflowComponent = that._mapTool(component.overflowComponent, messages);\n            }\n\n            if (componentMessages) {\n                Object.keys(componentMessages).forEach((key) => {\n                    component.componentOptions.messages[key] = messages[componentMessages[key]] || componentMessages[key];\n                });\n            }\n\n            if (componentPlaceholder) {\n                component.componentOptions.placeholder = messages[componentPlaceholder] || componentPlaceholder;\n            }\n\n            Object.keys(componentOptions).forEach((key) => {\n                if (key === \"commandOn\") {\n                    component.componentOptions[componentOptions[key]] = (ev) => {\n                        that.trigger(CHANGE, { target: ev.target || ev.sender.element });\n                    };\n                }\n            });\n\n            if (componentOptions.dataSource && componentOptions.dataSource.length) {\n                component.componentOptions.dataSource = componentOptions.dataSource.map(i => {\n                    if (i.name && messages[i.name]) {\n                        i.text = messages[i.name];\n                    }\n\n                    return i;\n                });\n            }\n\n            component.attributes = attributes;\n\n            return component;\n        },\n\n        _mapTool: function(tool, messages, defaultTools) {\n            let that = this,\n                isArray = Array.isArray(tool),\n                isPlainObjectTool = $.isPlainObject(tool),\n                toolKeysCount = isPlainObjectTool && Object.keys(tool).length,\n                isBuiltInTool, toolOptions, attributes, originalTool;\n\n            if (isArray) {\n                return {\n                    type: \"buttonGroup\",\n                    buttons: tool.map(t => that._mapTool(t, messages, defaultTools))\n                };\n            }\n\n            isBuiltInTool = isPlainObjectTool && (toolKeysCount === 1 || toolKeysCount === 2) && tool.name;\n            originalTool = isBuiltInTool ? tool : {};\n            tool = isBuiltInTool ? tool.name : tool;\n            toolOptions = $.isPlainObject(tool) ? tool : $.extend({}, defaultTools[tool]);\n\n            attributes = $.extend({}, that._mapAttributes(toolOptions, messages), toolOptions.attributes);\n\n            kendo.deepExtend(toolOptions, {\n                text: originalTool.text || messages[toolOptions.name || toolOptions.property],\n                attributes: attributes,\n            });\n\n            if (toolOptions.type === \"component\") {\n                if (toolOptions.items) {\n                    return toolOptions.items.map(t => that._mapComponent(t, messages));\n                } else {\n                    return that._mapComponent(toolOptions, messages);\n                }\n            } else if (toolOptions.type === \"buttonGroup\") {\n                delete toolOptions.attributes[ARIA_LABEL];\n                toolOptions.buttons = toolOptions.buttons.map(t => that._mapTool(t, messages, defaultTools));\n            } else if (toolOptions.type === \"splitButton\") {\n                delete toolOptions.attributes[ARIA_LABEL];\n                toolOptions.menuButtons = toolOptions.menuButtons.flatMap(t => that._mapTool(t, messages, defaultTools));\n            } else if (toolOptions.type === \"popupButton\" && toolOptions.overflowComponent) {\n                toolOptions.overflowComponent = that._mapTool(toolOptions.overflowComponent, messages);\n            }\n\n            delete toolOptions.name;\n\n            return toolOptions;\n        },\n\n        _menuItemSelect: function(e) {\n            var item = $(e.item),\n                id = item.attr(ID),\n                togglable = item.find(DOT + MENU_LINK_TOGGLE),\n                groupName = item.data(GROUP),\n                shouldSelect, twin, group;\n\n            if (id && id.indexOf(DASH + OVERFLOW) > -1) {\n                id = id.replace(DASH + OVERFLOW, NOTHING);\n            }\n\n            if (togglable.length) {\n                if (groupName) {\n                    this.overflowMenu.element.find(\"[data-group=\" + groupName + \"]\").each((i, el) => {\n                        var current = $(el);\n\n                        current.attr(ARIA_CHECKED, false);\n                        current.find(DOT + MENU_LINK_TOGGLE).removeClass(STATE_SELECTED);\n                    });\n                }\n\n                shouldSelect = groupName ? true : !togglable.hasClass(STATE_SELECTED);\n\n                togglable.toggleClass(STATE_SELECTED, shouldSelect);\n                item.attr(ARIA_CHECKED, shouldSelect);\n\n                twin = this.element.find(\"[data-uid=\" + item.data(UID) + \"]\");\n\n                if (twin.length) {\n                    if (twin.closest(DOT + BUTTON_GROUP).length) {\n                        group = twin.closest(DOT + BUTTON_GROUP).data(K_BUTTON_GROUP);\n                        group.select(twin);\n                    } else {\n                        if (groupName) {\n                            this.element.find(\"[data-group=\" + groupName + \"]\").each((i, el) => {\n                                $(el).data(K_TOGGLE_BUTTON).toggle(false);\n                            });\n                        }\n\n                        twin.data(K_TOGGLE_BUTTON).toggle(true);\n                    }\n                }\n\n                this.trigger(TOGGLE, {\n                    id: item.attr(ID),\n                    target: item,\n                    checked: shouldSelect\n                });\n            } else {\n                this.trigger(CLICK, {\n                    id: id,\n                    target: item,\n                });\n            }\n        },\n\n        _onClick: function(e) {\n            var el = e.target,\n                togglable = el.hasClass(\"k-toolbar-toggle-button\"),\n                group = el.data(GROUP);\n\n            if (!togglable) {\n                this.trigger(CLICK, { id: e.id, target: e.target, originalEvent: e.originalEvent || e.event });\n            }\n\n            if (group && this.element.find(\"[data-group=\" + group + \"]\").length > 1) {\n                if (el.hasClass(STATE_SELECTED)) {\n                    e.preventDefault();\n                }\n            }\n        },\n\n        _onClose: function(e) {\n            if (this.trigger(CLOSE, { widget: e.sender })) {\n                e.preventDefault();\n            }\n        },\n\n        _onMenuItemSelect: function(e, click, toggle) {\n            var item = $(e.item),\n                togglable = item.find(DOT + MENU_LINK_TOGGLE).length > 0,\n                id = item.attr(ID);\n\n            if (id && id.indexOf(DASH + OVERFLOW) > -1) {\n                id = id.replace(DASH + OVERFLOW, NOTHING);\n            }\n\n            if (click) {\n                click.bind(this)({\n                    event: e.event,\n                    id: id,\n                    target: item\n                });\n            }\n\n            if (togglable && toggle) {\n                setTimeout(() => {\n                    toggle.bind(this)({\n                        event: e.event,\n                        id: id,\n                        target: item,\n                        checked: item.find(DOT + STATE_SELECTED).length > 0\n                    });\n                });\n            }\n        },\n\n        _onOpen: function(e) {\n            if (this.trigger(OPEN, { widget: e.sender })) {\n                e.preventDefault();\n            }\n        },\n\n        _onSelect: function(e) {\n            var menuEl = this.overflowMenu ? this.overflowMenu.element : $(NOTHING);\n\n            e.sender.element.children().each((i, el) => {\n                var current = $(el),\n                    uid = current.data(UID),\n                    selected = current.hasClass(STATE_SELECTED);\n\n                menuEl\n                    .find(\"[data-uid=\" + uid + \"]\")\n                    .attr(ARIA_CHECKED, selected)\n                    .find(DOT + MENU_LINK_TOGGLE)\n                    .toggleClass(STATE_SELECTED, selected);\n            });\n\n            this.trigger(TOGGLE, {\n                id: e.target.attr(ID),\n                target: e.target,\n                checked: e.target.hasClass(STATE_SELECTED)\n            });\n        },\n\n        _onToggle: function(e) {\n            var that = this,\n                el = e.target,\n                group = el.data(GROUP),\n                overflowItem,\n                overflowGroup;\n\n            if (that.overflowMenu) {\n                overflowItem = that.overflowMenu.element.find(\"[data-uid=\" + el.attr(DATA_UID) + \"]\");\n                overflowGroup = that.overflowMenu.element.find(\"[data-group=\" + group + \"]\");\n\n                overflowGroup.attr(ARIA_CHECKED, false).find(DOT + MENU_LINK_TOGGLE).removeClass(STATE_SELECTED);\n                overflowItem.attr(ARIA_CHECKED, true).find(DOT + MENU_LINK_TOGGLE).addClass(STATE_SELECTED);\n            }\n\n            if (group) {\n                that.element.find(\"[data-group=\" + group + \"]\").each((i, item) => {\n                    if (item !== el[0]) {\n                        $(item).data(K_TOGGLE_BUTTON).toggle(false);\n                    }\n                });\n            }\n\n            this.trigger(TOGGLE, { id: e.id, target: e.target, checked: e.checked, originalEvent: e.originalEvent || e.event });\n        },\n\n        _processInner(items, parentUid) {\n            var attributes, current;\n\n            for (var i = 0; i < items.length; i++) {\n                current = items[i];\n                attributes = current.attributes;\n\n                if (!attributes) {\n                    items[i].attributes = {};\n                }\n\n                items[i].attributes[DATA_UID] = kendo.guid();\n                items[i].attributes[DATA_PARENTUID] = parentUid;\n\n                if (current.id) {\n                    items[i].attributes[ID] = items[i].id;\n                }\n\n                if (current.hidden) {\n                    if (!items[i].attributes.class) {\n                        items[i].attributes.class = NOTHING;\n                    }\n\n                    items[i].attributes.class += (EMPTY + STATE_HIDDEN + EMPTY + FORCE_HIDDEN);\n                }\n            }\n\n            return items;\n        },\n\n        _processOptions: function(options) {\n            let that = this,\n                template = options.template,\n                overflowTemplate = options.overflowTemplate,\n                uid = kendo.guid(),\n                groupName;\n\n            $.extend(options, {\n                uid: uid,\n                fillMode: options.fillMode ? options.fillMode : that.options.fillMode,\n                rootUid: this.uid\n            });\n\n            if (options.menuButtons) {\n                options.menuButtons = this._processInner(options.menuButtons, uid);\n            } else if (options.buttons && options.buttons.length) {\n                options.buttons = this._processInner(options.buttons, uid);\n\n                if (options.buttons.some(b => b.togglable)) {\n                    groupName = options.buttons[0].group;\n\n                    if (!!groupName && options.buttons.every(b => b.group === groupName)) {\n                        options.selection = SINGLE;\n                    } else {\n                        options.selection = MULTIPLE;\n                    }\n                } else {\n                    options.selection = NONE;\n                }\n            }\n\n            if ((template && !overflowTemplate) || options.type === SPACER) {\n                options.overflow = OVERFLOW_NEVER;\n            } else if (!options.overflow) {\n                options.overflow = OVERFLOW_AUTO;\n            }\n\n            if (options.enable !== undefined$1) {\n                options.enabled = options.enable;\n            }\n\n            return options;\n        },\n\n        _renderOverflow: function() {\n            var that = this,\n                isRtl = that._isRtl,\n                horizontalDirection = isRtl ? \"left\" : \"right\";\n\n            that.overflowAnchor = $(\"<button class='k-toolbar-overflow-button' title='More tools'>\");\n            that.overflowAnchor.attr(ITEM_REF + TOOLBAR_TOOL, '');\n            that.element.append(that.overflowAnchor);\n            that.overflowAnchor.kendoButton({\n                icon: \"more-vertical\",\n                fillMode: \"flat\",\n                size: that.options.size\n            });\n\n            if (!that.options.navigateOnTab) {\n                that.overflowAnchor.attr(TABINDEX, -1);\n            }\n\n            that.overflowMenu = new kendo.ui.ContextMenu($(\"<ul>\"), {\n                size: that.options.size,\n                showOn: \"click tap\",\n                origin: \"bottom \" + horizontalDirection,\n                position: \"top \" + horizontalDirection,\n                alignToAnchor: true,\n                target: that.overflowAnchor,\n                open: function(e) {\n                    if (that.trigger(OVERFLOW_OPEN)) {\n                        e.preventDefault();\n                    }\n                },\n                close: function(e) {\n                    if (that.trigger(OVERFLOW_CLOSE)) {\n                        e.preventDefault();\n                    } else {\n                        that._resetTabIndex(that.overflowAnchor);\n                        that.overflowAnchor.trigger(FOCUS);\n                    }\n                }\n            });\n\n            that.overflowMenu.element.attr(KENDO_UID_ATTR, this.uid);\n\n            setTimeout(() => {\n                that.overflowMenu.bind(SELECT, that._menuItemSelect.bind(that));\n            });\n        },\n\n        _resetOpen: function(element, extensions) {\n            var that = this,\n                uploadWrapper,\n                input;\n\n            element.closest(\".k-upload-button-wrap\").find(\"input\").remove();\n            uploadWrapper = element.wrap(\"<div class='k-upload-button-wrap'></span>\").parent();\n\n            input = $(\"<input type='file' autocomplete='off' accept='\" + extensions + \"'/>\")\n                .attr(\"aria-hidden\", true)\n                .one(\"change\", (e) => {\n                    that.trigger(CHANGE, {\n                        target: element,\n                        value: e.target.files[0]\n                    });\n\n                    that._resetOpen(element, extensions);\n                })\n                .appendTo(uploadWrapper);\n\n            element.off(KEYDOWN).on(KEYDOWN, (e) => {\n                if (e.keyCode === kendo.keys.ENTER) {\n                    input.trigger(CLICK);\n                }\n            });\n        },\n\n        _resetTabIndex: function(toFocus) {\n            if (this.options.navigateOnTab !== true) {\n                this.wrapper.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                toFocus.attr(TABINDEX, 0);\n            }\n        },\n\n        _resizable: function() {\n            var that = this,\n                element = that.element;\n\n            that._renderOverflow();\n            element.addClass(RESIZABLE_TOOLBAR);\n\n            that._resizeHandler = kendo.onResize(function() {\n                that.resize();\n            });\n        },\n\n        _resize: function(e) {\n            var containerWidth = e.width,\n                wrapper = this.element,\n                popupBtnElements = wrapper.find('[data-role=\"splitbutton\"]').add(wrapper.find('[data-role=\"dropdownbutton\"]'));\n\n            if (!this.options.resizable) {\n                return;\n            }\n\n            this.overflowMenu.close();\n\n            if (popupBtnElements.length > 0) {\n                popupBtnElements.each((i, el) => {\n                    kendo.widgetInstance($(el)).close();\n                });\n            }\n\n            this._shrink(containerWidth);\n            this._stretch(containerWidth);\n            this._toggleOverflowAnchor();\n        },\n\n        _shrink: function(containerWidth) {\n            var commandElement,\n                visibleCommands,\n                activeElement;\n\n            if (containerWidth < this._childrenWidth()) {\n                visibleCommands = this.element.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                    commandElement = visibleCommands.eq(i);\n\n                    if (containerWidth > this._childrenWidth()) {\n                        break;\n                    } else {\n                        activeElement = commandElement.find(\"[tabindex=0]\") || commandElement.is(\"[tabindex=0]\") ? commandElement : $(NOTHING);\n\n                        if (activeElement.length > 0) {\n                            activeElement.attr(TABINDEX, -1);\n                            this.element.children(DOT + OVERFLOW_ANCHOR).attr(TABINDEX, 0);\n                        }\n\n                        this._hideItem(commandElement);\n                    }\n                }\n            }\n        },\n\n        _showItem: function(item, containerWidth) {\n            var that = this,\n                gap = parseInt(this.element.css('gap'), 10) || 0,\n                widget;\n\n            item.removeClass(STATE_HIDDEN);\n            var itemOuterWidth = outerWidth(item, true) + gap;\n            item.addClass(STATE_HIDDEN);\n\n            if (item.length && (item.hasClass(SPACER_CLASS) || containerWidth > this._childrenWidth() + itemOuterWidth)) {\n                item.removeClass(STATE_HIDDEN);\n\n                if (this.options.navigateOnTab !== true) {\n                    item.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                } else {\n                    if (item.is(\"[tabindex=-1]\")) {\n                        item.removeAttr(TABINDEX);\n                    }\n                }\n\n                if (this.overflowMenu) {\n                    if (item.hasClass(SPLIT_BUTTON) || item.hasClass(MENU_BUTTON)) {\n                        if (item.hasClass(SPLIT_BUTTON)) {\n                            item = item.children().eq(0);\n                            widget = item.data(K_SPLIT_BUTTON);\n                        } else {\n                            widget = item.data(K_DROP_DOWN_BUTTON);\n                        }\n\n                        widget.menu.list.children().each((i, el) => {\n                            that._hideMenuItem($(el));\n                        });\n\n                        that._hideMenuItem(item);\n                    } else if (item.hasClass(BUTTON_GROUP)) {\n                        item.children().each((i, el) => {\n                            that._hideMenuItem($(el));\n                        });\n                    } else {\n                        that._hideMenuItem(item);\n                    }\n                }\n\n                return true;\n            }\n\n            return false;\n        },\n\n        _showMenuItem: function(item) {\n            var menuItem = this.overflowMenu.element.find(\">li[data-uid='\" + item.data(UID) + \"']\");\n\n            if (!menuItem.hasClass(FORCE_HIDDEN)) {\n                menuItem.removeClass(STATE_HIDDEN);\n            }\n        },\n\n        _stretch: function(containerWidth) {\n            var overflowAnchor = this.element.children(DOT + OVERFLOW_ANCHOR),\n                commandElement,\n                hiddenCommands;\n\n            if (containerWidth > this._childrenWidth()) {\n                hiddenCommands = this.element.children(DOT + STATE_HIDDEN + \":not(\" + DOT + FORCE_HIDDEN + \")\");\n\n                for (var i = 0; i < hiddenCommands.length; i++) {\n                    commandElement = hiddenCommands.eq(i);\n\n                    if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                        break;\n                    }\n                }\n            }\n\n            if (!this.options.navigateOnTab && overflowAnchor.is(\"[tabindex=0]\")) {\n                overflowAnchor.attr(TABINDEX, -1);\n                this._resetTabIndex(this._getAllItems().first());\n            }\n        },\n\n        _tabIndex: function() {\n            var focusableItems = this.wrapper.find(KENDO_FOCUSABLE + \":not('\" + TABINDEX_MINUS_1 + \"')\"),\n                firstFocusable = focusableItems.first();\n\n            if (this.options.navigateOnTab !== true) {\n                focusableItems.attr(TABINDEX, -1);\n                firstFocusable.attr(TABINDEX, 0);\n            } else {\n                this.wrapper.find(\".k-toolbar-item\").removeAttr(TABINDEX);\n            }\n        },\n\n        _toggleOverflowAnchor: function() {\n            var hasVisibleChildren = false;\n\n            hasVisibleChildren = this.overflowMenu.element.children(\":not(.\" + STATE_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n\n            if (hasVisibleChildren) {\n                this.overflowAnchor.removeClass(STATE_HIDDEN);\n            } else {\n                this.overflowAnchor.addClass(STATE_HIDDEN);\n            }\n        }\n    });\n\n    kendo.toolbar = {\n        Item: kendo.Class,\n        OverflowButton: kendo.Class,\n        TemplateItem: kendo.Class,\n        ToolBarButton: kendo.Class,\n        registerComponent: () => null\n    };\n\n    kendo.cssProperties.registerPrefix(\"ToolBar\", \"k-toolbar-\");\n\n    kendo.cssProperties.registerValues(\"ToolBar\", [{\n        prop: \"fillMode\",\n        values: ['solid', 'flat']\n    }]);\n\n    kendo.ui.plugin(ToolBar);\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { __meta__, kendo$1 as default };\n"]}
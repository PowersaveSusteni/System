#pragma checksum "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2943b4e5d80ff1e2033fcc6375bf17e5fc7cf6d0"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Kalender_FinnTidspunkt), @"mvc.1.0.view", @"/Views/Kalender/FinnTidspunkt.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Visual Stuido 17\KipWeb5\Views\_ViewImports.cshtml"
using KipWeb5;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Visual Stuido 17\KipWeb5\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
using Microsoft.AspNetCore.Mvc.Localization;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2943b4e5d80ff1e2033fcc6375bf17e5fc7cf6d0", @"/Views/Kalender/FinnTidspunkt.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ec4a0d041100f1c7f5b87fd2c1f80209d75b00ee", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Kalender_FinnTidspunkt : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<KipWeb5.Models.Kalender.KalenderModel>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("name", "_FinnTidspunktInfo", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("action", new global::Microsoft.AspNetCore.Html.HtmlString("Lagre"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("formKalender"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("onsubmit", new global::Microsoft.AspNetCore.Html.HtmlString("return false;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("mt-3"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 6 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
  
    ViewData["Title"] = Localizer["Kalender"];
    ViewData["LogOnOk"] = "2";
    ViewData["Menu"] = "Medarbeider";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<script type=""text/kendo-template"" id=""checkbox-template"">
	<input type='checkbox' class='k-checkbox' name='chbx_#= item.id #' #if(item.IsChecked){# checked #}# />
</script>


<script src=""https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.2/pdf.js""></script>

<script>
    window.pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.2/pdf.worker.js';
</script>

");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "2943b4e5d80ff1e2033fcc6375bf17e5fc7cf6d06301", async() => {
                WriteLiteral("\r\n\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-3\">\r\n\r\n                <div class=\"row\" style=\"min-height: 230px;\">\r\n                    <div class=\"col-lg-12\">\r\n                        ");
#nullable restore
#line 31 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                    Write(Html.Kendo().Calendar()
                            .Name("kalenderDag")
                            .WeekNumber(true)
                            .ComponentType("modern")
                            .Events(e => e.Change("changeDate"))
                            .Messages(m => m.WeekColumnHeader("UN"))       
                            );

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"row\" style=\"margin-top: 10px;\">\r\n                    <div class=\"col-lg-12\" id=\"ressurser\" style=\"margin-top: 10px; margin-left: 10px;\">\r\n                        ");
#nullable restore
#line 43 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                    Write(Html.Kendo().Grid<KipWeb5.Models.RessursItem>()
                            .Name("gridRessurser")
                            .Columns(columns =>
                            {
                                columns.Select().Width(50);
                                columns.Bound(q => q.RessursGuid).Visible(false);
                                columns.Bound(q => q.Navn);
                            })
                            .Scrollable()
                            .Selectable(s => s
                                .Mode(GridSelectionMode.Single)
                                .Type(GridSelectionType.Row))
                            .Events(events => events
                                .Change("onCheck"))
                            .DataSource(dataSource => dataSource
                                .Ajax()
                                .Read(read => read.Action("getRessurserFunksjonListe", "Kalender").Data("filterFunksjon"))
                                )
                            );

#line default
#line hidden
#nullable disable
                WriteLiteral("                       \r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"col-9 no-gutters\" id=\"Kalender\" style=\"height: 300px;\">\r\n                ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("partial", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "2943b4e5d80ff1e2033fcc6375bf17e5fc7cf6d09110", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper.Name = (string)__tagHelperAttribute_0.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_4.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_4);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"


<style>


    .exhibition {
        font-weight: bold;
        }

    .k-calendar-monthview .k-calendar-td {
        width: 24px;
        height: 24px;
    }

    .k-calendar-monthview .k-link {
        width: 24px;
        height: 24px;
    }

    .k-calendar-view {
        min-height: 173px;
    }

    .k-calendar {
        background-color: #f8f7f7;
    }

    #Kalender table, th {
        margin: 0px;
        font-size: 12px;
        height: auto !important;
        white-space: normal !important;
    }

    #scheduler {
        height: 100px;
    }

    .k-scheduler-dayview .k-scheduler-table td,
    .k-scheduler-weekview tr:nth-child(2) .k-scheduler-table td,
    .k-scheduler-monthview .k-scheduler-table td {
        height: 10px !important;
    }

    .k-grid .k-grid-header .k-header {
        height: auto;
        white-space: normal;
    }

    .k-checkbox-label {
        margin-right: 10px;
        margin-top: 2px;
    }
</style>

<script id");
            WriteLiteral(@"=""Kalender"">

    var today = new Date();
    var events = [
                +new Date(today.getFullYear(), today.getMonth(), 8)
            ];

</script>



<script type=""text/javascript"">
    var ressursType = 0;
    var skjerm = ""Planlegger"";
    var kategori = """";

    function filterFunksjon() {
        return { Funksjon: ""Samtale"", SoknId: """"}
    }

    function filterSok(e) {
        return {
            resultatId: resultatId
        }
    }

    function skjermFilter() {
        return { skjerm: skjerm, kategori: kategori }
    }

    function filterRessurs(e) {
        return { ressursType: ressursType }
    }

    function filterKalenderRessurs() {
        return { kalenderGuid: kalenderGuid }
    }

    function setRessursType(e) {
        ressursType = e;

        var liste = $(""#ressurserAlle"").data(""kendoListBox"");

        if (typeof liste != 'undefined') {
            liste.dataSource.read();
        }
    }

    function leggtilrelasjon(ev, fl");
            WriteLiteral(@"ag) {

    }


</script>

<script id=events type=""text/javascript"">
    
    function changeDate() {
        scheduler = $(""#scheduler"").data(""kendoScheduler"")
        scheduler.date(this.value());
    }
    
    function RepSelect(e) {
        if (e.item) {
            var dataItem = this.dataItem(e.item);
            var x = document.getElementById(""repeatPanel"");
            var sD = document.getElementById(""sD"");
            var sW = document.getElementById(""sW"");
            var sM = document.getElementById(""sM"");
            var sY = document.getElementById(""sY"");

            if (dataItem.Value == ""0"") {
                sD.style.display = ""block"";
                sW.style.display = ""none"";
                sM.style.display = ""none"";
                sY.style.display = ""none"";
                x.style.display = ""none"";
            }
            if (dataItem.Value == ""1"") {
                sD.style.display = ""block"";
                sW.style.display = ""none"";
               ");
            WriteLiteral(@" sM.style.display = ""none"";
                sY.style.display = ""none"";
                x.style.display = ""block"";
            }
            if (dataItem.Value == ""2"") {
                sD.style.display = ""none"";
                sW.style.display = ""block"";
                sM.style.display = ""none"";
                sY.style.display = ""none"";
                x.style.display = ""block"";
            }
            if (dataItem.Value == ""3"") {
                sD.style.display = ""none"";
                sW.style.display = ""none"";
                sM.style.display = ""block"";
                sY.style.display = ""none"";
                x.style.display = ""block"";
            }
            if (dataItem.Value == ""4"") {
                sD.style.display = ""none"";
                sW.style.display = ""none"";
                sM.style.display = ""none"";
                sY.style.display = ""block"";
                x.style.display = ""block"";
            }

        }
    }

    function onMonthChange(e) {
   ");
            WriteLiteral(@"     var dataItem = e.newValue;
        var sMdato = document.getElementById(""mndDato"");
        var sMdag = document.getElementById(""mndDag"");

        if (dataItem == ""0"") {
            sMdato.style.display = ""block"";
            sMdag.style.display = ""none"";
        }
        if (dataItem == ""1"") {
            sMdato.style.display = ""none"";
            sMdag.style.display = ""block"";
        }
    }

    function onEndeChange(e) {
        var dataItem = e.newValue;
        var sEIntervall = document.getElementById(""endeIntervall"");
        var sEDato = document.getElementById(""endeDato"");

        if (dataItem == ""0"") {
            sEIntervall.style.display = ""none"";
            sEDato.style.display = ""none"";
        }
        if (dataItem == ""1"") {
            sEIntervall.style.display = ""block"";
            sEDato.style.display = ""none"";
        }
        if (dataItem == ""2"") {
            sEIntervall.style.display = ""none"";
            sEDato.style.display = ""block"";
       ");
            WriteLiteral(" }\r\n    }\r\n\r\n\r\n    function visEtiketter() {\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: \'");
#nullable restore
#line 279 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             Write(Url.Action("GetEtikettListe", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"'
        }).done(function (result) {
            var number = 3;
            var id = 0;
            var container = document.getElementById(""ddEtiketter"");
            // Clear previous contents of the container
            while (container.hasChildNodes()) {
                container.removeChild(container.lastChild);
            }

            for (var i in result) {
                iDivA = document.createElement(""li"");
                var iDiv = document.createElement('button');
                var name = result[i].Navn;
                iDiv.type = ""button"";
                iDiv.id = ""btn_"" + result[i].EtikettGuid;
                iDiv.className = ""dropdown-item"";
                iDiv.style = ""width: 190px; margin-right: 10px;""
                iDiv.setAttribute(""onclick"", ""setEtikett('"" + result[i].EtikettGuid + ""','"" + result[i].Navn + ""','"" + result[i].base64string + ""')"");
                
                
                if (result[i].base64string != """") {
                    iDi");
            WriteLiteral(@"v.innerHTML = ""<img src='data:image/png;base64,"" + result[i].base64string + ""' width='16' height='16' style='margin-right: 10px;' />"" + name;
                }
                else {
                    iDiv.innerHTML = name;
                }

                iDivA.appendChild(iDiv);
                container.appendChild(iDivA);
                }
            });
        }

    function setEtikett(etikettGuid, Navn, image) {
        var xE = document.getElementById(""Avtale_Etiketter"");
        xE.value += ""'"" + etikettGuid + ""';""
        var container = document.getElementById(""ddEtiketterSelected"");
        iDiv = document.createElement(""ul"");
        var name = Navn;
        iDiv.id = ""etikett_"" + etikettGuid;
        iDiv.innerHTML = name;
        if (image != """") {
            iDiv.innerHTML = ""<img src='data:image/png;base64,"" + image + ""' width='16' height='16' style='margin-right: 10px;' />"" + name;
            }
        else {
            iDiv.innerHTML = name;
            }
");
            WriteLiteral(@"
        var iDivB = document.createElement('button');
        var name = Navn;
        iDivB.type = ""button"";
        iDivB.className = ""commandInline"";
        iDivB.id = ""btn_"" + etikettGuid;
        iDivB.style = ""width: 20px; margin-left: 5px;""
        iDivB.setAttribute(""onclick"", ""removeEtikett('"" + etikettGuid + ""')"");
        iDivB.innerHTML = ""<img src='/images/button-remove.svg' />"" 

        iDiv.appendChild(iDivB);

        container.appendChild(iDiv);

    }

    function removeEtikett(etikettGuid) {
        var container = document.getElementById(""etikett_"" + etikettGuid);
        container.remove();
        var xE = document.getElementById(""Avtale_Etiketter"");
        e = xE.value;
        e = e.replace(""'"" + etikettGuid + ""'"", """");
        e = e.replace("";;"","";"");
        xE.value = e;
    }

</script>

<script type=""text/javascript"">
        var startDate = """";
        var endDate = """";
        var startTime = """";
        var endTime = """";
        var attende");
            WriteLiteral(@"es = """";
        var kalenderGuid = """";

    function lagreAvtale(e) {
        var grid = $(""#ressurserMine"").data(""kendoListBox"");
        var ressursGuid = """";
        var ressursTekst = """";
        var ds = grid.dataSource;
        var len = ds._data.length;
        if (len > 0) {
            var i;
            for (i = 0; i < len; i++) {
                ressursGuid = ressursGuid + ds._data[i].RessursGuid + ':' + ds._data[i].ResType + ';';
                ressursTekst = ressursTekst + ds._data[i].Navn + ', ';
                }
            }

        xRT = document.getElementById(""Avtale_RessursTekst"");
        xRT.value = ressursTekst.substr(0, ressursTekst.length-2);

        var $this = $('#formKalenderAvtale').serialize();

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 384 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             Write(Url.Action("lagreAvtaler", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this,
            dataType: 'json'
        }).always(function (result) {
            if (result.responseText.length > 0) {
                var grid = $(""#ressurserMine"").data(""kendoListBox"");
                var ressursGuid = """";
                var ds = grid.dataSource;
                var len = ds._data.length;
                if (len > 0) {
                    var i;
                    for (i = 0; i < len; i++) {
                        ressursGuid = ressursGuid + ds._data[i].RessursGuid + ':' + ds._data[i].ResType + ';';
                        }
                    }

                $.ajax({
                    type: ""POST"",
                    url: '");
#nullable restore
#line 402 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                     Write(Url.Action("lagreRessurser", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n                    data: { kalenderGuid: result.responseText, ressursGuid: ressursGuid }\r\n                }).done(function (result) {\r\n                    document.getElementById(\'infoLagring\').innerHTML = \"<img src=\'");
#nullable restore
#line 405 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                                                                             Write(Url.Content("~/images/"));

#line default
#line hidden
#nullable disable
            WriteLiteral("database-save.png\' />");
#nullable restore
#line 405 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                                                                                                                           Write(Localizer["Lagret"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""";
                    $('#infoLagring').fadeIn(100).delay(2000).fadeOut(600);

                    kalender = $(""#scheduler"").data(""kendoScheduler"");
                    kalender.resources[0].dataSource.read();
                    kalender.dataSource.read();
                });

                document.getElementById('Avtale_KalenderGuid').value = result.responseText;
                }
            });
        }

    function LagreOgLukk(e) {
        var grid = $(""#ressurserMine"").data(""kendoListBox"");
        var ressursGuid = """";
        var ressursTekst = """";
        var ds = grid.dataSource;
        var len = ds._data.length;
        if (len > 0) {
            var i;
            for (i = 0; i < len; i++) {
                ressursGuid = ressursGuid + ds._data[i].RessursGuid + ':' + ds._data[i].ResType + ';';
                ressursTekst = ressursTekst + ds._data[i].Navn + ', ';
                }
            }

        xRT = document.getElementById(""Avtale_RessursTekst"");
      ");
            WriteLiteral("  xRT.value = ressursTekst.substr(0, ressursTekst.length-2);\r\n\r\n        var $this = $(\'#formKalenderAvtale\').serialize();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \'");
#nullable restore
#line 439 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             Write(Url.Action("lagreAvtaler", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n            data: $this,\r\n            dataType: \'json\'\r\n        }).always(function (result) {\r\n            if (result.responseText.length > 0) {\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \'");
#nullable restore
#line 446 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                     Write(Url.Action("lagreRessurser", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n                    data: { kalenderGuid: result.responseText, ressursGuid: ressursGuid }\r\n                }).done(function (result) {\r\n                    document.getElementById(\'infoLagring\').innerHTML = \"<img src=\'");
#nullable restore
#line 449 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                                                                             Write(Url.Content("~/images/"));

#line default
#line hidden
#nullable disable
            WriteLiteral("database-save.png\' />");
#nullable restore
#line 449 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                                                                                                                           Write(Localizer["Lagret"]);

#line default
#line hidden
#nullable disable
            WriteLiteral(@""";
                    $('#infoLagring').fadeIn(100).delay(2000).fadeOut(600);

                    kalender = $(""#scheduler"").data(""kendoScheduler"");
                    kalender.resources[0].dataSource.read();
                    kalender.dataSource.read();
                });

                var popup = $('#dialogAvtale').data(""kendoWindow"");
                popup.center().close();

                }
            });
        }

    function Kalender_Edit(e) {
        e.preventDefault();
        kalenderGuid = e.event.id;

        if (e.event.Access == true) {

                $.ajax({
                    url: '");
#nullable restore
#line 471 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                     Write(Url.Action("GetKalenderAvtale", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: { kalenderGuid: kalenderGuid },
                    type: ""GET""
                }).done(function (result) {
                    $(""#dialogAvtale"").html(result);

                     $.ajax({
                        url: '");
#nullable restore
#line 478 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                         Write(Url.Action("GetKalenderEtikettListe", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { kalenderGuid: kalenderGuid },
                        type: ""GET""
                    }).done(function (result) {
                        for (var i in result) {
                           var container = document.getElementById(""ddEtiketterSelected"");
                            iDiv = document.createElement(""ul"");
                            var name = result[i].Navn;
                            iDiv.innerHTML = name;
                            iDiv.id = ""etikett_"" + result[i].EtikettGuid;
                            if (result[i].base64string != """") {
                                iDiv.innerHTML = ""<img src='data:image/png;base64,"" + result[i].base64string + ""' width='16' height='16' style='margin-right: 10px;' />"" + name;
                                }
                            else {
                                iDiv.innerHTML = name;
                                }

                            var iDivB = document.createElement('button');");
            WriteLiteral(@"
                            iDivB.type = ""button"";
                            iDivB.className = ""commandInline"";
                            iDivB.id = ""btn_"" + result[i].EtikettGuid;
                            iDivB.style = ""width: 20px; margin-left: 5px;""
                            iDivB.setAttribute(""onclick"", ""removeEtikett('"" + result[i].EtikettGuid + ""')"");
                            iDivB.innerHTML = ""<img src='/images/button-remove.svg' />"" 

                            iDiv.appendChild(iDivB);

                            container.appendChild(iDiv);
                            }


                        var popup = $('#dialogAvtale').data(""kendoWindow"");
                        popup.center().open();
                        });
                    });
            }
        else if (kalenderGuid != """") {
");
#nullable restore
#line 515 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             if (Startup.StandardSprak == "de-DE")
                {
                

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    kendo.alert(\"Sie sind nicht berechtigt, diesen Termin einzusehen\");\r\n                ");
#nullable restore
#line 519 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                       
                }
            else
            {
                

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                    kendo.alert(\"Du har ikke rettigheter til å se denne avtalen.\");\r\n                ");
#nullable restore
#line 525 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                       
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
            }
        else {
            $.ajax({
                url: ""/Kalender/DialogAvtale"",
                method: 'GET',
                success: function (result) {
                    $('#dialogAvtale').html(result);

                    var sY = document.getElementById(""idSletteAvtale"");
                    sY.style.display = ""none"";
                    
                    var x = document.getElementById(""Avtale_EierGuid"");
                    if (x != null) {
                        x.value = attendees;
                        ressurser = $(""#ressurserMine"").data(""kendoListBox"");
                        tw = $(""#ressurser"").data(""kendoTreeView"");
                        nodex = getCheckedItems(tw);

                        var len = nodex.length;
                        if (len > 0) {
                            var i;
                            for (i = 0; i < len; i++) {
                                ressurser.dataSource.add({ RessursGuid: nodex[i].id, Navn: nodex[i].N");
            WriteLiteral(@"ame, ResType: nodex[i].ResType });
                            }
                        }
                        ressurser.dataSource.sync()
                    }

                    var popup = $('#dialogAvtale').data(""kendoWindow"");
                    popup.center().open();
                    }
                });
            }
        }

    function Appointment_Moved(e) {
        kalenderGuid = e.event.id;

        startDate = e.start.toLocaleDateString('de-DE', { year: ""numeric"", month: ""2-digit"", day: ""2-digit"" });
        endDate = e.end.toLocaleDateString('de-DE', { year: ""numeric"", month: ""2-digit"", day: ""2-digit"" });
        startTime = e.start.toLocaleTimeString('de-DE').substr(0, 5);
        endTime = e.end.toLocaleTimeString('de-DE').substr(0, 5);

            $.ajax({
                url: '");
#nullable restore
#line 572 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                 Write(Url.Action("OppdaterTidspunktAvtale", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { kalenderGuid: kalenderGuid, startDato: startDate, startTid: startTime, sluttDato: endDate, sluttTid: endTime},
                type: ""GET""
                }).done(function (result) {
                });
            }

    function Kalender_Change(e) {
        startDay = e.start.getUTCDate();
        //if (startDay < 10) {startDay = ""0"" + startDay;}

        //startMonth = e.start.getMonth() + 1;
        //if (startMonth < 10) {startMonth = ""0"" + startMonth;}
        //startYear = e.start.getFullYear();
        //startDay + '.' + startMonth + '.' + startYear
        startDate = e.start.toLocaleDateString('de-DE', { year: ""numeric"", month: ""2-digit"", day: ""2-digit"" });
        endDate = e.end.toLocaleDateString('de-DE', { year: ""numeric"", month: ""2-digit"", day: ""2-digit"" });
        startTime = e.start.toLocaleTimeString('de-DE').substr(0,5);
        endTime = e.end.toLocaleTimeString('de-DE').substr(0, 5);

        var ressurs = e.resources;
        attendees = r");
            WriteLiteral(@"essurs.Attendees[0];
        }

    function onActionOK(e) {
        var treeView = $(""#treeviewSokn"").data(""kendoTreeView"");
        var checkedNodes = getCheckedItems(treeView);
            var listBox = $(""#ressurser"").data(""kendoTreeView"");
        var nodes = """";
        for (var i = 0; i < checkedNodes.length; i++) {
                nodes += checkedNodes[i].id + "":"";
            }
        $.ajax({
            url: '");
#nullable restore
#line 605 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             Write(Url.Action("setBrukerAktivSokn", "Frivillig"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { soknId: nodes },
            type: ""GET""
        }).always(function (result) {
            listBox.refresh();
            listBox.dataSource.read();

            });

        }

    function Kalender_Slett() {
        var tittel = ""SLETTE"";
        var nei = ""Nei"";
        var content = ""<div id='question'>Ønsker du å slette denne avtalen</div>"";

");
#nullable restore
#line 621 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
         if (Startup.StandardSprak == "de-DE")
            {
            

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                tittel = \"LÔSCHEN\";\r\n                nei = \"Nein\";\r\n        content = \"<div id=\'question\'>Möchten Sie diesen Termin löschen</div>\";\r\n            ");
#nullable restore
#line 627 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                   
            }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
        $(""#confirm"").kendoConfirm({
            title: tittel,
            content: content,
            messages: {
                okText: ""Ja"",
                cancel: nei
            }
        }).data(""kendoConfirm"").result.done(function () {
            $('body').append($('<div id=""confirm"">'));

            var xAG = document.getElementById(""Avtale_KalenderGuid"");

            $.ajax({
                url: '");
#nullable restore
#line 643 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                 Write(Url.Action("SlettAvtale", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { kalenderGuid: xAG.value},
                type: ""POST""
            }).done(function (result) {
                kalender = $(""#scheduler"").data(""kendoScheduler"");
                kalender.resources[0].dataSource.read();
                kalender.dataSource.read();

                var popup = $('#dialogAvtale').data(""kendoWindow"");
                popup.center().close();
            });
        }).fail(function () {
            $('body').append($('<div id=""confirm"">'));
            });
        }

</script>

<script type=""text/javascript"">

    function onError(e) {
        this.cancelChanges();

        var errorMessage = """";
        if (e.errors) {
            for (var error in e.errors) {
                errorMessage += e.errors[error].errors[0] + "" "";
                }
            }
        }

    function onSoknChange(e) {
        var listBox = $(""#funksjonerListe"").data(""kendoListBox"");
        listBox.refresh();
        listBox.dataSource.read()");
            WriteLiteral(@";
        }

    function onCheck() {
        var grid = $(""#gridRessurser"").data(""kendoGrid"");
        var selected = [];

        //get all selected rows (those which have the checkbox checked)
        grid.select().each(function () {
            selected.push(grid.dataItem(this));
        });

        var nodes = """";
        for (var i = 0; i < selected.length; i++) {
            nodes += selected[i].RessursGuid + "";"";
        }

        $.ajax({
            url: '");
#nullable restore
#line 695 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             Write(Url.Action("setKalenderAktivRessurs", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { ressursGuid: nodes },
            type: ""GET""
        }).done(function (result) {

        }).always(function (result) {
            kalender.resources[0].dataSource.read();
            kalender.dataSource.read();
            

            });
        }

    function KalenderDataBound() {

        $.ajax({
            url: '");
#nullable restore
#line 711 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
             Write(Url.Action("GetAppointmentsDays", "Kalender"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            type: ""GET""
        }).done(function (result) {
            events = [];
            for (var i in result) {
                dtStartDato = result[i].StartDate;
                dtInfo = Date.parse(dtStartDato);
                events.push(dtInfo);
                }

            $('#kalenderDag').data('kendoCalendar').destroy();
            $('#kalenderDag').empty();
            var today = new Date();

            $(""#kalenderDag"").kendoCalendar({
                value: today,
                componentType: ""modern"",
                month: {content: ""# if ($.inArray(+data.date, events) != -1) { #<div class='exhibition'> #= data.value #</div># } else { ##= data.value ## } #""},
                weekNumber: true,
                    messages: {
                        weekColumnHeader: ""Wk""
                    }

                });

            });

    }

    function getCheckedItems(treeview) {
        var nodes = treeview.dataSource.view();
        return getChecke");
            WriteLiteral(@"dNodes(nodes);
    }

    function getCheckedNodes(nodes) {
        var node, childCheckedNodes;
        var checkedNodes = [];

        for (var i = 0; i < nodes.length; i++) {
            node = nodes[i];
            if (node.checked) {
                checkedNodes.push(node);
            }

            if (node.hasChildren) {
                childCheckedNodes = getCheckedNodes(node.children.view());

                if (childCheckedNodes.length > 0) {
                    checkedNodes = checkedNodes.concat(childCheckedNodes);
                }
            }
        }

        return checkedNodes;
    }

    $(function () {
        $(""#people :checkbox"").change(function (e) {
            var checked = $.map($(""#people :checked""), function (checkbox) {
                return parseInt($(checkbox).val());
            });

            var filter = {
                logic: ""or"",
                filters: $.map(checked, function (value) {
                    return {
             ");
            WriteLiteral(@"           operator: ""eq"",
                        field: ""OwnerID"",
                        value: value
                    };
                })
            };

            var scheduler = $(""#scheduler"").data(""kendoScheduler"");

            scheduler.dataSource.filter(filter);
        });
    })

</script>

<script id=""treeview"" type=""text/kendo-ui-template"">

    # if (!item.items && item.spriteCssClass) { #
    #: item.text #
    <span class='k-icon k-i-close kendo-icon'></span>
    # } else if(!item.items && !item.spriteCssClass) { #
    <span class=""k-sprite pdf""></span>
    #: item.text #
    <span class='k-icon k-i-close telerik-icon'></span>
    # } else if (item.items && item.spriteCssClass){ #
    #: item.text #
    # } else { #
    <span class=""k-sprite folder""></span>
    #: item.text #
    # } #


</script>

<script id=""treeview"">

    function treeViewDataBound(e) {
        e.sender.expand(e.node);
    }

    function treeViewCheck(e) {
        setTime");
            WriteLiteral(@"out(function () {
            updateSelectedCount(e.sender);
            })
        }

    function updateSelectedCount(treeView) {
        $("".selected-count"").html(getCheckedItems(treeView).length + "" Employees selected"");
        }
</script>

<script>

    function onClose() {
        $(""#showDialogBtn"").fadeIn();
    }

    function onOpen() {
        $(""#showDialogBtn"").fadeOut();
    }

    function Avtale_Open() {
        xKA = document.getElementById(""Avtale_KalenderGuid"");

        if (attendees != null && xKA.value == """") {
            var x = document.getElementById(""Avtale_EierGuid"");
            if (x != null) {
                x.value = attendees;
                ressurser = $(""#ressurserMine"").data(""kendoListBox"");
                tw = $(""#ressurser"").data(""kendoTreeView"");
                nodex = getCheckedItems(tw);

                var len = nodex.length;
                if (len > 0) {
                    var i;
                    for (i = 0; i < len; i++) ");
            WriteLiteral(@"{
                        ressurser.dataSource.add({ RessursGuid: nodex[i].id, Navn: nodex[i].Name, ResType: nodex[i].ResType });
                    }
                }
                ressurser.dataSource.sync()

            }
        }

        var x = document.getElementById(""repeatPanel"");
        var xRM = document.getElementById(""Avtale_Monster"");
        var sD = document.getElementById(""sD"");
        var sW = document.getElementById(""sW"");
        var sM = document.getElementById(""sM"");
        var sY = document.getElementById(""sY"");

        if (xRM.value == ""1"") {
            x.style.display = ""block"";
            sD.style.display = ""block"";
            sW.style.display = ""none"";
            sM.style.display = ""none"";
            sY.style.display = ""none"";
        }
        if (xRM.value == ""2"") {
            sD.style.display = ""none"";
            sM.style.display = ""none"";
            sY.style.display = ""none"";
            sW.style.display = ""block"";
            x.style");
            WriteLiteral(@".display = ""block"";
        }
        if (xRM.value == ""3"") {
            sD.style.display = ""none"";
            sW.style.display = ""none"";
            sM.style.display = ""block"";
            sY.style.display = ""none"";
            x.style.display = ""block"";
        }
        if (xRM.value == ""4"") {
            sD.style.display = ""none"";
            sW.style.display = ""none"";
            sM.style.display = ""none"";
            sY.style.display = ""block"";
            x.style.display = ""block"";
        }

        var dataItem = $(""#Avtale_SluttType"").getKendoRadioGroup();
        var sEIntervall = document.getElementById(""endeIntervall"");
        var sEDato = document.getElementById(""endeDato"");

        if (dataItem._value == ""0"") {
            sEIntervall.style.display = ""none"";
            sEDato.style.display = ""none"";
        }
        if (dataItem._value == ""1"") {
            sEIntervall.style.display = ""block"";
            sEDato.style.display = ""none"";
        }
        if (da");
            WriteLiteral(@"taItem._value == ""2"") {
            sEIntervall.style.display = ""none"";
            sEDato.style.display = ""block"";
        }

        if (startDate != null) {
            var x = document.getElementById(""Avtale_StartDato"");
            if (x != null && x.value == """") {
                x.value = startDate;
            }
        }
        if (startTime != null) {
            var x = document.getElementById(""Avtale_StartTid"");
            if (x != null && x.value == """") {
                x.value = startTime;
            }
        }
        if (endDate != null) {
            var x = document.getElementById(""Avtale_SluttDato"");
            if (x != null && x.value == """") {
                x.value = endDate;
            }
        }
        if (endTime != null) {
            var x = document.getElementById(""Avtale_SluttTid"");
            if (x != null && x.value == """") {
                x.value = endTime;
            }
        }
    }

    function showGemeindeDialog() {
        $('#");
            WriteLiteral(@"dialogGemeinde').data(""kendoDialog"").open();
    }

    function showDialogSendSMS() {
        $.ajax({
            url: ""/Home/DialogSendSMS"",
            method: 'GET',
            success: function (result) {
                $('#dialogSendSMS').html(result);
            }
        });
        var popup = $('#dialogSendSMS').data(""kendoWindow"");

        popup.center().open();
    }

    function showDialogRapport() {
        $.ajax({
            url: ""/Home/DialogRapporter"",
            method: 'GET',
            success: function (result) {
                $('#dialogRapport').html(result);
            }
        });
        var popup = $('#dialogRapport').data(""kendoWindow"");

        popup.center().open();
    }

    function showDialogAvtale() {
        $.ajax({
            url: ""/Kalender/DialogAvtale"",
            method: 'GET',
            success: function (result) {
                $('#dialogAvtale').html(result);

                var sY = document.getElementById(""");
            WriteLiteral(@"idSletteAvtale"");
                sY.style.display = ""none"";

                var popup = $('#dialogAvtale').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

    function showDialogFinnPerson() {
        $.ajax({
            url: ""/Funksjoner/DialogFinnPerson"",
            method: 'GET',
            success: function (result) {
                $('#dialogFinnPerson').html(result);
                var popup = $('#dialogFinnPerson').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

</script>


<script>

    var canSearching = true;
    var resultatId = 0;

    $(document).on('submit', '#finnperson', function (e) {
        if (canSearching == true) {
            canSearching = false;
            var listBoxF = $(""#kontaktGrid"").data(""kendoGrid"");

            e.preventDefault();
            var $this = $(this);
            $.ajax({
                type: ""GET"",
                url: '");
#nullable restore
#line 1015 "C:\Visual Stuido 17\KipWeb5\Views\Kalender\FinnTidspunkt.cshtml"
                 Write(Url.Action("CreateKontaktListe", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: $this.serialize(),
                dataType: 'json'
            }).done(function (result) {
                canSearching = true;
                if (result > 0) {
                    resultatId = result;
                    listBoxF.dataSource.read();
                }
            }).always(function () {
                canSearching = true;
            });
        }
    });

    $(document).ready(function () {
        clickHookup();

        $(""#scheduler"").dblclick(function (e) {
            var scheduler = $(""#scheduler"").getKendoScheduler();
            var event = scheduler.occurrenceByUid($(this).data(""uid""));
            if (scheduler.viewName() == ""month"") {
                scheduler.editEvent(event);
            } else {
                //alert(event.title);
            }
        });

    })

    function clickHookup() {
            $(""#VisSamlet"").click(function () {
                if (this.checked) {
                    scheduler = $(""#sched");
            WriteLiteral(@"uler"").data(""kendoScheduler"");
                    //remove one of the groups:
                    scheduler.options.group.resources.splice(0, 1);
                    //refresh the view
                    scheduler.view(scheduler.view().name);
                }
                else {
                    scheduler = $(""#scheduler"").data(""kendoScheduler"");

                    scheduler.options.group.resources.push(""Attendees"");
                    //refresh the view
                    scheduler.view(scheduler.view().name);
                }
            });
        }

    function filterSok(e) {
        return {
            resultatId: resultatId
        }
    }

</script>
");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IViewLocalizer Localizer { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<KipWeb5.Models.Kalender.KalenderModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591

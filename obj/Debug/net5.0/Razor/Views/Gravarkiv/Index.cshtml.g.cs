#pragma checksum "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "ce950fe49af61fb4c187acc5f484058b3ef4de20"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Gravarkiv_Index), @"mvc.1.0.view", @"/Views/Gravarkiv/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Visual Stuido 17\KipWeb5\Views\_ViewImports.cshtml"
using KipWeb5;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Visual Stuido 17\KipWeb5\Views\_ViewImports.cshtml"
using Kendo.Mvc.UI;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
using Microsoft.AspNetCore.Mvc.Localization;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ce950fe49af61fb4c187acc5f484058b3ef4de20", @"/Views/Gravarkiv/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ec4a0d041100f1c7f5b87fd2c1f80209d75b00ee", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Gravarkiv_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<KipWeb5.Models.Gravarkiv.GravarkivModel>
    #nullable disable
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/document-text-graph.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/invoice.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/proforma-add-filled.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/Blomst.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/pin-blue-filled.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("width", new global::Microsoft.AspNetCore.Html.HtmlString("24"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_6 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("height", new global::Microsoft.AspNetCore.Html.HtmlString("24"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_7 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/execute.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_8 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("style", new global::Microsoft.AspNetCore.Html.HtmlString("width: 24px; height: 24px;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_9 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/false.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_10 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/find.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_11 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/star-filled-arrow-up-2.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_12 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("name", "_Gravarkiv", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_13 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/command-undo-1.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_14 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/gravkort.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_15 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/trash-2.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_16 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/button-add.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_17 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/images/button-info.svg"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_18 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("controller", new global::Microsoft.AspNetCore.Html.HtmlString("Gravarkiv"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_19 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("action", new global::Microsoft.AspNetCore.Html.HtmlString("Lagre"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_20 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("gravarkivForm"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_21 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("onsubmit", new global::Microsoft.AspNetCore.Html.HtmlString("return false;"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_22 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("method", "post", global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_23 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("mt-3"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 6 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
  
    ViewData["Title"] = Localizer["Gravarkiv"];
    ViewData["LogOnOk"] = "2";
    ViewData["Menu"] = "GP";

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<script type=\"text/x-kendo-tmpl\" id=\"template2\">\r\n    <div class=\"folder\">\r\n        <img src=\"");
#nullable restore
#line 14 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Content("~/images/#: icon#.svg"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""" />
        <p>#:fileTittel#</p>
    </div>
</script>

<script type=""text/x-kendo-tmpl"" id=""template"">
    <div class=""bilde"">
        <img src=""data:image/Jpeg;base64, #:BildeImage#"" alt=""Bilde"" />
    </div>
</script>

<script src=""https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.2/pdf.js""></script>


<style>

    .k-fab-text {
        display: none;
    }

    #Gravplasser .k-grid-header .k-header {
        display: none;
    }

    .disabled {
        opacity: 0.5;
        pointer-events: none;
    }

    #myTab img {
        width: 24px;
        height: 24px;
        margin-bottom: 2px;
        margin-right: 5px;
    }

    #dokListe .k-listview {
        background-color: transparent;
        border-color: transparent;
    }
    
    .folder {
        float: left;
        position: relative;
        margin-right: 10px;
    }

    .folder img {
        width: 32px;
        height: 32px;
        display: block;
        margin-left: auto;
        margin");
            WriteLiteral(@"-right: auto;
        margin-top: 2px;
    }

    .folder p {
        padding: 3px 5px 0px 5px;
        font-size: 10px;
        font-weight: normal;
        color: #999;
        text-align: center;
        margin-bottom: 1px;
    }

    .folder:checked {
        font-weight: bold;
        color: red;
    }

    .folder:hover p {
        font-weight: bold;
        color: black;
    }

    div.k-window{
        border: 1px solid lightgray;
    }

</style>


<script src=""https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.2/pdf.js""></script>

<script>
    window.pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.2.2/pdf.worker.js';
</script>



");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "ce950fe49af61fb4c187acc5f484058b3ef4de2014598", async() => {
                WriteLiteral(@"
    <div id=""confirm""></div>
    <div class=""container-fluid padding-0"">
        <input hidden id=""ArkivType"" />
        <div class=""form-group row"" id=""heading"" style=""min-height: 70px;"">

            <div class=""col-2 unselectable"">
                <h3>");
#nullable restore
#line 111 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
               Write(Localizer["Gravarkiv"]);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"</h3>
            </div>

            <div class=""col-7"">

                <div style=""display: flex; flex-direction: row;"">

                    <button type=""button"" class=""command"" style=""width: 180px; margin-right: 7px;"" onclick=""showDialogGravseddel()"">
                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2015656", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
                        Gravseddel
                        <p>Utskrift av gravseddel</p>
                    </button>

                    <button type=""button"" class=""command"" style=""width: 180px; margin-right: 7px;"" onclick=""showDialogRapporter()"">
                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2017031", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
                        Rapporter
                        <p>Meny over rapporter</p>
                    </button>

                    <button disabled type=""button"" id=""btnFakturer"" class=""command"" style=""width: 180px; margin-right: 7px;"" onclick=""showDialogFakturer()"">
                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2018429", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                        ");
#nullable restore
#line 132 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                   Write(Localizer["Faktura"]);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                        <p>Produser faktura på valgte grav</p>
                    </button>

                    <button type=""button"" id=""btnOrdre"" class=""command"" style=""width: 180px; margin-right: 7px;"" onclick=""showDialogOrdre()"">
                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2020040", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                        ");
#nullable restore
#line 138 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                   Write(Localizer["Ordre"]);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                        <p>Opprett ordre på valgte gravsted</p>
                    </button>

                    <button disabled type=""button"" id=""btnStellDialog"" class=""command"" style=""width: 180px; margin-right: 7px;"" onclick=""showDialogStellavtale()"">
                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2021671", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                        ");
#nullable restore
#line 144 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                   Write(Localizer["Stell"]);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                        <p>Opprett stellavtale på valgte gravsted</p>
                    </button>

                </div>
            </div>

            <div id=""markering"" class=""col-lg-3"" style=""display: none"">
                <div class=""row"">
                    <div class=""col-lg-12"" style=""display: flex; flex-direction: row;"">
                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2023389", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_6);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
                        <input class=""form-control k-textbox nodvendigFelt"" id=""flyttNavn"" style=""width: calc(100% - 30px); margin-left: 7px;"" />
                    </div>
                </div>
                <div class=""row"">
                    <div class=""col-lg-12"" style=""display: flex; flex-direction: row; margin-top: 7px;"">
                    <input hidden class=""form-control k-textbox nodvendigFelt"" id=""flyttGuid"" style=""width: 100px;"" />
                    <input hidden class=""form-control k-textbox nodvendigFelt"" id=""flyttGravGuid"" style=""width: 100px;"" />
                    <button class=""commandSmal"" style=""width: 100px; margin-left: 32px;"" onclick=""showDialogFlyttGrav()""> ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2025385", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_8);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Flytt</button>\r\n                    <button class=\"commandSmal\" style=\"width: 180px; margin-left: 7px;\" onclick=\"flyttGravSymbolsk()\"> ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2026698", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_7);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_8);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Flytt symbolsk</button>\r\n                    <button class=\"commandSmal\" style=\"width: 100px; margin-left: 7px;\" onclick=\"avbrytFlyttGrav()\"> ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2028018", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_9);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_8);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"Avbryt</button>
                    </div>
                </div>
                <div class=""row"">
                    <div class=""col-lg-12"" style=""margin-left: 32px;"">
                        Velg graven du vil flytte den gravlagte til
                    </div>
                </div>
            </div>

        </div>

        <div class=""row"" style=""border: 1px solid lightgrey; padding: 10px; margin: 5px;"">

            <div class=""col-2"">

                <div class=""row"">
                    <div class=""col-12"">
                        Vis søkefelt
                        ");
#nullable restore
#line 183 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                    Write(Html.Kendo().Switch()
                            .Name("switch")
                            .Messages(c => c.Checked("Ja").Unchecked("Nei"))
                            .Events(e => e.Change("filterSokefelt"))
                            );

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                    </div>
                </div>

                <div id=""soekeFilter"" style=""display: none;"">
                    <div class=""panel"" style=""padding: 10px; margin-top: 10px; background-color: transparent;"">
                        <div class=""row form-group align-items-center"">
                            <div class=""col-12"" style=""display: flex; flex-direction: row;"">
                                <div>
                                    <input id = ""Navn"" class=""form-control sokeFelt"">
                                </div>
                                <div>
                                    <button type=""button"" class=""commandInline"" onclick=""finnGraver()"">
                                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2031032", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_10);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n                                    </button>\r\n                                    <button type=\"button\" class=\"commandInline\" onclick=\"hentGravliste()\">\r\n                                        ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2032325", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_11);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"
                                    </button>
                                </div>
                            </div>
                       </div>
                       <div class=""row"" style=""margin-top: 10px;"">
                           <div class=""col-lg-12"">
                            ");
#nullable restore
#line 210 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                        Write(Html.Kendo().Grid<KipWeb5.Models.GravarkivItem>()
                                .Name("GravListeSok")
                                .Columns(columns =>
                                {
                                    columns.Bound(q => q.Grav_GUID).Visible(false);
                                    columns.Bound(q => q.Rekke_GUID).Visible(false);
                                    columns.Bound(q => q.Plassering).Width(100).Visible(true);
                                    columns.Bound(q => q.FulltNavn).Width(220).Visible(true).Title(Localizer["Navn"].Value);
                                })
                                .Sortable()
                                .Scrollable()
                                .Height(600)
                                .Selectable(s => s
                                    .Mode(GridSelectionMode.Single)
                                    .Type(GridSelectionType.Row))
                                .Events(events => events
                                        .Change("onGravSokChange"))
                                .DataSource(dataSource => dataSource
                                    .Ajax()
                                    .Read(read => read.Action("getGravarkivListe", "Gravarkiv").Data("filterGravsok"))
                                )
                            );

#line default
#line hidden
#nullable disable
                WriteLiteral(@"
                            </div>
                       </div>
                    </div>
                </div>

                <div id=""idKirkegard"" class=""row"" style=""margin-top: 35px;"">
                    <div class=""col-12"" style=""height: 200px;"">
                    ");
#nullable restore
#line 239 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                Write(Html.Kendo().Grid<KipWeb5.Models.KirkegardenItem>()
                            .Name("kirkegard")
                            .Columns(columns =>
                            {
                                columns.Bound(q => q.Kirkegard_GUID).Visible(false);
                                columns.Bound(q => q.KirkegardNavn).Width(100);
                            })
                            .HtmlAttributes(new {style = "height: 200px;"})
                            .Scrollable()
                            .Events(e => e.Change("onGravplassChange"))
                            .Selectable(s => s
                                .Mode(GridSelectionMode.Single)
                                .Type(GridSelectionType.Row))
                            .DataSource(dataSource => dataSource
                                .Ajax()
                                .Read(read => read.Action("getKirkegardeneListe", "Gravarkiv"))
                            )
                        );

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                    </div>\r\n\r\n                    <div id=\"twKirkegard\" style=\"margin-top: 10px;\">\r\n                        ");
#nullable restore
#line 260 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                    Write(Html.Kendo().TreeView()
                            .Name("Kirkegard")
                            .DataTextField("Name")
                            .LoadOnDemand(false)
                            .HtmlAttributes(new {style = "height: calc(100vh - 480px);"})
                            .Events(events => events.Select("onFeltSelect"))
                            .DataSpriteCssClassField("SpriteCssClass")
                            .DataSource(dataSource => dataSource
                                .Custom()
                                .Transport(t => t.Read("readHandler"))
                                .Schema(s => s.Model ( m => m.Children("items")))
                                )
                            );

#line default
#line hidden
#nullable disable
                WriteLiteral("\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"col-10\">\r\n\r\n                ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("partial", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2038040", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.PartialTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper);
                __Microsoft_AspNetCore_Mvc_TagHelpers_PartialTagHelper.Name = (string)__tagHelperAttribute_12.Value;
                __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_12);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <ul id=\"context-menu\">\r\n        <li>");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2039333", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_13);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Tilbakefør fra historikk</li>\r\n        <li>");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2040462", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_14);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Gravkort</li>\r\n    </ul>\r\n\r\n\r\n    <ul id=\"context-menu-gravarkiv\">\r\n        <li id=\"idFjernMarkering\" style=\"display: none;\">");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2041687", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_15);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Fjern markering forfall</li>\r\n        <li id=\"idAddMarkering\" style=\"display: none;\">");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2042862", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_16);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Set markering forfall</li>\r\n    </ul>\r\n\r\n    <ul id=\"context-menu-gravplass\">\r\n        <li id=\"idKommentar\" style=\"display: none;\">");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("img", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.SelfClosing, "ce950fe49af61fb4c187acc5f484058b3ef4de2044091", async() => {
                }
                );
                __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_17);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral("Rekke info</li>\r\n    </ul>\r\n\r\n");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_18);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_19);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_20);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_21);
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper.Method = (string)__tagHelperAttribute_22.Value;
            __tagHelperExecutionContext.AddTagHelperAttribute(__tagHelperAttribute_22);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_23);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n<script id=\"successTemplate\" type=\"text/x-kendo-template\">\r\n    <div class=\"upload-success\">\r\n        <img src=\"");
#nullable restore
#line 307 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Content("~/images/True.svg"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\" style=\"float:left; height:48px; width:48px; margin-right: 16px;\"/>\r\n        <p>#= message #</p>\r\n    </div>\r\n</script>\r\n\r\n\r\n<script id=\"errorTemplate\" type=\"text/x-kendo-template\">\r\n    <div class=\"wrong-pass\">\r\n        <img src=\"");
#nullable restore
#line 315 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Content("~/images/warning-sign-filled.svg"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\" style=\"float:left; height:48px; width:48px; margin-right: 16px;\"/>\r\n        <p>#= message #</p>\r\n    </div>\r\n</script>\r\n\r\n");
#nullable restore
#line 320 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Notification()
    .Name("notification")
    .Position(p => p.Pinned(true).Top(30).Right(30))
    .Stacking(NotificationStackingSettings.Down)
    .AutoHideAfter(5000)
    .Templates(t =>
    {
        t.Add().Type("success").ClientTemplateID("successTemplate");
        t.Add().Type("error").ClientTemplateID("errorTemplate");
    })
);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n<div id=\"dialogLastOppFilerWindows\">\r\n    ");
#nullable restore
#line 333 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogLastOppFiler")
        .Title("Last opp filer")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Height(500)
        .Width(1000)
        .Modal(true)
        .Draggable()
        .Actions(actions => actions
            .Close()
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogMeldingWindow\">\r\n    ");
#nullable restore
#line 349 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogMelding")
        .Title(Localizer["Melding"].Value)
        .HtmlAttributes(new { style = "border:1px; padding: 0px;" })
        .Visible(false)
        .Width(800)
        .Modal(true)
        .Draggable(true)
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogRapporter\">\r\n    ");
#nullable restore
#line 361 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogRapporter")
        .Title("Utskrift")
        .Visible(false)
        .Height(740)
        .Width(1200)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"Maildialog\">\r\n    ");
#nullable restore
#line 373 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogMail")
        .Title("Arkiver epost")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Height(810)
        .Width(1400)
        .Modal(true)
        .Draggable()
        .Actions(actions => actions
            .Close()
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogFakturaWindow\">\r\n    ");
#nullable restore
#line 389 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogFaktura")
        .Title("Faktura")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Width(1400)
        .Modal(true)
        .Draggable()
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"GravlagtFlyttdialog\">\r\n    ");
#nullable restore
#line 401 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogGravlagtFlytt")
        .Title("Flytt gravlagt")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Height(510)
        .Width(800)
        .Modal(true)
         .Actions(actions => {
            actions.Add().Text("Avbryt");
            actions.Add().Text("Flytt").Action("onActionFlyttOK").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"Okonomidialog\">\r\n    ");
#nullable restore
#line 418 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogOkonomi")
        .Title("Økonomi")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Height(800)
        .Width(1400)
        .Modal(true)
        .Draggable()
        .Actions(actions => actions
            .Close()
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"Gravkortdialog\">\r\n    ");
#nullable restore
#line 434 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogGravkort")
        .Title("Gravkort")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Width(1000)
        .Modal(true)
        .Draggable()
        .Actions(actions => actions
            .Close()
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"idRekkeInfoDialog\">\r\n    ");
#nullable restore
#line 449 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogRekkeInfo")
        .Title("Rekke")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Width(1000)
        .Height(800)
        .Modal(true)
        .Draggable()
        .Actions(actions => actions
            .Close()
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"GravNotatdialog\">\r\n    ");
#nullable restore
#line 465 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogGravNotat")
        .Title("Notat")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Width(1200)
        .Modal(true)
        .Actions(actions => {
            actions.Add().Text("Avbryt");
            actions.Add().Text("Lagre").Action("lagreGravNotat").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"GravlagtNotatdialog\">\r\n    ");
#nullable restore
#line 481 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogGravlagtNotat")
        .Title("Notat")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Width(1200)
        .Modal(true)
        .Actions(actions => {
            actions.Add().Text("Avbryt");
            actions.Add().Text("Lagre").Action("lagreGravlagtNotat").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n\r\n<div id=\"GravFrigidialog\">\r\n    ");
#nullable restore
#line 498 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogGravFrigi")
        .Title("Frigi grav")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Height(550)
        .Width(1200)
        .Modal(true)
        .Actions(actions => {
            actions.Add().Text("Avbryt");
            actions.Add().Text("Frigi").Action("frigiGrav").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"DialogKontaktWindow\">\r\n    ");
#nullable restore
#line 515 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("DialogKontakt")
        .Title(Localizer["Kontaktinformasjon"].Value)
        .Visible(false)
        .Width(600)
        .Modal(true)
        .Draggable()
        //.Events(e => e .Activate("Avtale_Open"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"DialogKontaktFull\">\r\n    ");
#nullable restore
#line 527 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("DialogKontaktFull")
        .Title(Localizer["Kontakt"].Value)
        .Visible(false)
        .Width(1200)
        .Modal(true)
        .Draggable()
        //.Events(e => e .Activate("Avtale_Open"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"BildeRedigerDialog\">\r\n    ");
#nullable restore
#line 539 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogBildeRediger")
        .Title(Localizer["Bilde"].Value)
        .Visible(false)
        .Height(800)
        .Width(1000)
        .Modal(true)
        .Draggable()
        //.Events(e => e .Activate("Avtale_Open"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"ReserveringGraver\">\r\n\r\n    ");
#nullable restore
#line 553 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogOpprettGravsted")
        .Title("Opprett gravsted")
        .Content(
            Html.Kendo().Grid<KipWeb5.Models.GravstedRekkeItem>()
            .Name("grdGravstedGraver")
            .Columns(columns =>
            {
                columns.Select().Width(55);
                columns.Bound(e => e.GravstedGuid).Visible(false);
                columns.Bound(e => e.GravGuid).Visible(false);
                columns.Bound(e => e.GravId).Width(50).Title("Grav");
                columns.Bound(e => e.FulltNavn).Width(300).Title("Avdøde");
            })
            .Height(450)
            .Scrollable()
            .Events(e => e.DataBound("onGravstedDataBound"))
            .DataSource(dataSource => dataSource
                .Ajax()
                .Read(read => read
                .Action("GetGravstedRekkeListe", "Gravarkiv").Data("filterReservering")
                )
            )
            .ToHtmlString()
            )
        .Width(500)
        .Height(600)
        .Modal(false)
        .Visible(false)
        .Actions(actions =>
        {
            actions.Add().Text("Avbryt");
            actions.Add().Text("Opprett").Action("onActionOK").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n</div>\r\n\r\n<div id=\"dialogFinnPerson\">\r\n    ");
#nullable restore
#line 593 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogFinnPerson")
        .Title("Bytt fester")
        .Visible(false)
        .Height(715)
        .Width(1200)
        .Modal(true)
        .Draggable()
        .Events(events => events
            .Close("closeFinnPerson"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n\r\n<div id=\"dialogNySakspartWindows\">\r\n    ");
#nullable restore
#line 608 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogNySakspart")
        .Title("Personsøk")
        .Visible(false)
        .Height(720)
        .Width(1200)
        .Modal(true)
        .Draggable()
        .Events(events => events
            .Close("addSakspart"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogGravseddelWindows\">\r\n    ");
#nullable restore
#line 622 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogGravseddel")
        .Title("Gravseddel")
        .Visible(false)
        .Width(800)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogGravBegrensWindows\">\r\n    ");
#nullable restore
#line 633 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogGravBegrens")
        .Title("Set begrensninger")
        .Visible(false)
        .Height(400)
        .Width(800)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogGravminneWindows\">\r\n    ");
#nullable restore
#line 645 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogGravminne")
        .Title("Gravminne")
        .Visible(false)
        .Height(800)
        .Width(1200)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n\r\n<div id=\"LastOppBilde\">\r\n    ");
#nullable restore
#line 658 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogLastOppBilde")
        .Title(Localizer["Last opp bilde"].Value)
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Width(1000)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n</div>\r\n\r\n<div id=\"dialogSkrivbrev\">\r\n    ");
#nullable restore
#line 671 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogSkrivbrev")
        .Title("Writer - Brevmaler")
        .HtmlAttributes(new {style = "border:1px; padding: 0px;"})
        .Visible(false)
        .Width(1200)
        .Modal(false)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogVisPDFWindow\">\r\n    ");
#nullable restore
#line 683 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogVisPDF")
        .Title(Localizer["Dokument"].Value)
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Content(
            @Html.Kendo().PDFViewer()
                .Name("pdfViewer")
                .Events(ev=>ev.Render("onRender"))
                .Height(720)
                .ToHtmlString()
        )
        .Height(800)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogMail\">\r\n    ");
#nullable restore
#line 702 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogMail")
        .Title("Arkiver epost")
        .HtmlAttributes("style= border:1px;")
        .Visible(false)
        .Height(800)
        .Width(1400)
        .Modal(true)
        .Draggable()
        .Actions(actions => actions
            .Close()
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogFakturerWindow\">\r\n    ");
#nullable restore
#line 718 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogFakturer")
        .Title("Fakturer")
        .Visible(false)
        .Width(1200)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n\r\n<div id=\"dialogGravVernWindow\">\r\n    ");
#nullable restore
#line 730 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogGravVern")
        .Title("Vern av grav")
        .Visible(false)
        .Height(640)
        .Width(1200)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogStellavtaleWindow\">\r\n    ");
#nullable restore
#line 742 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogStellavtale")
        .Title("Ny stellavtale")
        .Content("<p>Det finnes 3 ulike typer kontrakte</br><strong>Fond: </strong>Med denne typer så...</p>")
        .Width(500)
        .Modal(false)
        .Visible(false)
        .Actions(actions =>
        {
            actions.Add().Text("Fond").Action("opprettFond");
            actions.Add().Text("Årsstell").Action("opprettArlig");
            actions.Add().Text("Forhåndsbetalt").Action("opprettForhandsbealt");
            actions.Add().Text("Avbryt").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n\r\n<div id=\"dialogLoggWindow\">\r\n    ");
#nullable restore
#line 762 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogLogg")
        .Title("Historikk")
        .Width(600)
        .Height(640)
        .Modal(false)
        .Visible(false)
        .Draggable()
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n</div>\r\n\r\n<div id=\"dialogbokser\">\r\n\r\n    \r\n    ");
#nullable restore
#line 776 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Dialog()
        .Name("dialogTjenesteregister")
        .Title("Tjenester")
        .Content(
            Html.Kendo().Grid<KipWeb5.Models.TjenesteItem>()
            .Name("grdTjenester")
            .Columns(columns =>
            {
                columns.Select().Width(65);
                columns.Bound(e => e.TjenesteNr).Width(100);
                columns.Bound(e => e.Tittel).Width(150);
                columns.Bound(e => e.Tekst);
                columns.Bound(e => e.PrisPrUMVA).Width(100).Format("{0:n2}").Title("Pris u/mva").HtmlAttributes(new { style = "text-align: right;" }); ;
            })
            .Height(450)
            .Scrollable()
            .DataSource(dataSource => dataSource
                .Ajax()
                .Read(read => read
                .Action("GetTjenesteListe", "Grunnregister").Data("AlleAktive")
                )
            )
            //.Events(ev => ev.DataBound("treeViewDataBound").Check("treeViewCheck"))
            .ToHtmlString()
            )
        .Width(1000)
        .Height(600)
        .Modal(false)
        .Visible(false)
        .Actions(actions =>
        {
            actions.Add().Text("Avbryt");
            actions.Add().Text("Velg").Action("onTjenesteActionOK").Primary(true);
        })
        .Events(ev => ev.Close("onClose").Open("onOpen"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n    ");
#nullable restore
#line 813 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogOrdre")
        .Title("Ordre")
        .Visible(false)
        .Height(700)
        .Width(1200)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n    ");
#nullable restore
#line 823 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("dialogFinnOrdrePerson")
        .Title("Finn fakturamottaker")
        .Visible(false)
        .Height(715)
        .Width(1200)
        .Modal(true)
        .Draggable()
        .Events(events => events
            .Close("closeFinnOrdrePerson"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n</div>\r\n\r\n<script id=\"liste-template\" type=\"text/x-kendo-template\">\r\n    <span class=\"k-state-default\" style=\"font-weight: #:data.BoldTekst#; color:#:data.BoldTekstColor#;\">#: data.Navn#</span>\r\n</script>\r\n\r\n    ");
#nullable restore
#line 841 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
Write(Html.Kendo().Window()
        .Name("DialogHjelp")
        .Title(Localizer["Hjelp"].Value)
        .Visible(false)
        .Height(800)
        .Width(1200)
        .Modal(true)
        .Draggable()
        );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n<script id=\"hjelp\">\r\n\r\n    function showHelp() {\r\n       $.ajax({\r\n            url: \'");
#nullable restore
#line 855 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("DialogHjelp", "Hjelp"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            type: 'GET'
            }).done(function (result) {
                $('#DialogHjelp').html(result);
                var popup = $('#DialogHjelp').data(""kendoWindow"");
                popup.center().open();
            });
        }

    function hjelpFilter() {
        return {Modul: 15, Skjerm: ""Gravarkiv""}
        }

</script>

<script id=""SakspartFunksjoner"">
     var dialogbox = """";

    function addSakspart() {
        var listBoxF = $(""#kontaktGrid"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        
        xMG = document.getElementById(""EngrafoDokument_mappeGuid"");

        if (selectedF.length > 0) {
            kontaktGuid = selItemF.KontaktGuid;

            $.ajax({
                url: '");
#nullable restore
#line 884 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("AddFolderPart", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {mappeGuid: xMG.value, kontaktGuid: selItemF.KontaktGuid, rolle: rolle},
                type: ""POST""
                }).done(function (result) {
                    var grd = $(""#lvParter"").data(""kendoGrid"");
                    grd.dataSource.read();
                });
            };
        }

    function nySakspart(e) {
        rolle = e;
        dialogbox = ""Sakspart"";

        $.ajax({
            url: ""/Funksjoner/DialogFinnPerson"",
            data: {SearchFrom: 0},
            method: 'GET',
            success: function (result) {
                $('#dialogNySakspart').html(result);
                var popup = $('#dialogNySakspart').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

</script>

<script id=""Stellavtaler"">

    function showDialogStellavtale() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlag");
            WriteLiteral(@"te.dataItem(selectedF);
        var gravGuid = """";


        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;
            $.ajax({
                url: ""/Stell/finnStellAvtale"",
                method: 'GET',
                data: {GravGuid: gravGuid},
                success: function (result) {
                    if (result.Result == true && result.NewGuid != """") {
                        alert(result.NewGuid);
                    }
                    else {                        
                        var popup = $('#dialogStellavtale').data(""kendoDialog"");
                        popup.open();
                    }
                }
            });
        }
    }

    function opprettFond() {
        opprettStellavtale(0);
    }

    function opprettArlig() {
        opprettStellavtale(1);
    }

    function opprettForhandsbealt() {
        opprettStellavtale(2);
    }

    function opprettStellavtale(e) {
        var grdGravlagte = $(""#Grav");
            WriteLiteral(@"Liste"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravGuid = """";

        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;
            $.ajax({
                url: ""/Stell/OpprettStellAvtale"",
                method: 'GET',
                data: {GravGuid: gravGuid, AvtaleType: e},
                success: function (result) {
                    if (result.Result == true) {
                        alert(""Stellavtale nr "" + result.InfoText + "" er opprettet"");
                    }
                }
            });
        }
    }
</script>

    <div id=""gridmalDialog"">
        ");
#nullable restore
#line 975 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
    Write(Html.Kendo().Window()
            .Name("DialogGridmal")
            .Title(Localizer["Gridmal"].Value)
            .Visible(false)
            .Width(1000)
            .Modal(true)
            .Draggable()
            );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    </div>\r\n\r\n<div id=\"GridFelt\">\r\n        ");
#nullable restore
#line 986 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
    Write(Html.Kendo().Dialog()
            .Name("dialogGridFelt")
            .Title(Localizer["Feltvelger"].Value)
            .Content(
                Html.Kendo().Grid<KipWeb5.Models.GridFeltItem>()
                    .Name("gridFelt")
                    .Columns(columns => {
                        columns.Select().Width(55);
                        columns.Bound(q => q.FeltNavn).Width(150).Hidden(true);
                        columns.Bound(q => q.Tittel).Width(150);
                        columns.Bound(q => q.Synlig).Width(150).Hidden(true);
                    })
                    .Events(e => e.Change("previewGridmal"))
                    .Scrollable()
                    .Selectable(s => s.Mode(GridSelectionMode.Multiple).Type(GridSelectionType.Row))
                    .ToHtmlString()
                )
            .Width(400)
            .Height(600)
            .Modal(false)
            .Visible(false)
            .Actions(actions =>
            {
                actions.Add().Text(Localizer["Avbryt"].Value);
                actions.Add().Text(Localizer["Aktiver"].Value).Action("updateGridmal").Primary(true);
            })
            .Events(ev => ev.Open("visGridFelt"))
        );

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
    </div>

<script id=""idGridmal"">
    var GridmalGuid = """";

    function filterModul(e) {
        return {
            progModul: 15
        }
    }
    function onMalChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);
        GridmalGuid = """";

        if (data != null) {
            GridmalGuid = data.GridmalGuid;
            vismal();
        }
    }

    function vismal() {
        var grid = $(""#GravListe"").data(""kendoGrid"");

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 1040 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("getRutenetmalFeltListe", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { gridMalGuid: GridmalGuid}
            })
        .done(function (result) {
            const col = new Array();

            for (var i in result) {                    
                    if (result[i].Vis == true) {
                        col.push(result[i].NyttNavn);
                        grid.showColumn(result[i].NyttNavn);
                        } 
                    else {
                        grid.hideColumn(result[i].NyttNavn);
                        }
                }

            $(grid.columns).each(function () {
                for (var i in result) {
                   if (this.field === result[i].NyttNavn) {
                       grid.resizeColumn(this, result[i].Bredde * 1.2);
                   }
                }
            });

            
            console.log(""-----"");
            for (var j = 0; j < col.length; j++) {
                var funnet = false;
                var field = col[j];
                console.log(field)");
            WriteLiteral(@";
                $(grid.columns).each(function () {
                    if (this.field === field) {
                        funnet = true
                        
                        grid.reorderColumn(j + 1, this);
                        }
                    });
                if (!funnet) {
                    console.log(field);
                }
                }
            });    
           
            xBGL = document.getElementById(""gridLagre"");
            xBGE = document.getElementById(""gridEndre"");

            xBGL.hidden = false;
            xBGE.hidden = false;

            visGridFelt();
        }


    function getStandardRutenettmal() {

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 1097 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("GetStandardRutenettmal", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { Modul: 15}
            })
        .done(function (result) {
            if (result.Result == true) {
                GridmalGuid = result.NewGuid;
                var dropdownlist = $(""#malListe"").data(""kendoDropDownList"");
                dropdownlist.value(result.NewGuid);
                vismal();
                }
            });        
        }

    function visGridFelt() {
        var grid = $(""#GravListe"").data(""kendoGrid"");
        var gridFelt = $(""#gridFelt"").data(""kendoGrid"");

        gridFelt.dataSource.data([]);

        $(grid.columns).each(function () {
            if (this.title != ""select"") {
                gridFelt.dataSource.add({FeltNavn: this.field, Tittel: this.title, Synlig: !this.hidden});
            }
        });

        $(""#gridFelt tbody tr"").each(function () {
            var currentRowData = gridFelt.dataItem(this);
            if (currentRowData.Synlig) {
                var row = gridFelt.element.find(""tr[data-uid='"" + cur");
            WriteLiteral(@"rentRowData.uid + ""']"");
                gridFelt.select(row);
                }

            });

        }

    function previewGridmal() {
        var grid = $(""#GravListe"").data(""kendoGrid"");
        var gridFelt = $(""#gridFelt"").data(""kendoGrid"");

        $(grid.columns).each(function () {
            feltNavn = this.field;
            feltTittel = this.title;
            visible = false;

            if(feltTittel != ""select"") {
                gridFelt.select().each(function () {                
                    var currentRowData = gridFelt.dataItem(this);
                    if (currentRowData.FeltNavn == feltNavn) {
                        visible = true;
                    }
                });

            
                if (visible) {
                    grid.showColumn(feltNavn);
                }
                else {
                    grid.hideColumn(feltNavn);
                }
            }
        });
    }

    function updateGridmal() {

   ");
            WriteLiteral(@"     var grid = $(""#GravListe"").data(""kendoGrid"");
        var colListe = """";
        $(grid.columns).each(function () {
            if(this.title != ""select"") {
                synlig = false;
                if (this.hidden == ""undefined"") {
                    synlig = true;
                }
                else {
                    synlig = !this.hidden;
                }
                
                if (colListe== """") {
                    colListe = this.field + "";"" + synlig + "";"" + this.width;
                }
                else {
                    colListe += ""|"" + this.field + "";"" + synlig + "";"" + this.width;
                }
            }
        });

        if (GridmalGuid == """") {
            window.myprompt(""Angi navn på mal:"", """").then(function (data) {
                if (data != """") {
                    $.ajax({
                        url: '");
#nullable restore
#line 1188 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("OpprettRutenettmal", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: {Navn: data, Modul: 15},
                        type: 'POST'
                    }).done(function (result) {
                        if (result.NewGuid != """") {
                            $.ajax({
                                url: '");
#nullable restore
#line 1194 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                                 Write(Url.Action("LagreRutenettmalFeltListe", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                                data: {GridmalGuid: result.NewGuid, Kolonner: colListe},
                                type: 'POST'
                            }).done(function (result) {
                                $(""#malListe"").data(""kendoDropDownList"").dataSource.read();
                                var notification = $(""#lagreNotification"").data(""kendoNotification"");
                                notification.show({title: ""Rutenettmal"", message: ""Rutenettmalen er lagret""}, ""success"");

                            });
                        }
                    });

                    }
                })
            }

        else {

            $.ajax({
                url: '");
#nullable restore
#line 1213 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("LagreRutenettmalFeltListe", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {GridmalGuid: GridmalGuid, Kolonner: colListe},
                type: 'POST'
            }).done(function (result) {
                alert(""Lagret"");
            });
            
        }
    }

    function myprompt(content, defaultValue) {
        return $(""<div></div>"").kendoPrompt({
            title: ""Rutenettmal"",
            value: defaultValue,
            content: content
        }).data(""kendoPrompt"").open().result;
    }

    function visStandardmal() {
        var grid = $(""#GravListe"").data(""kendoGrid"");

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 1236 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("getStandardRutenetmalFeltListe", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { Modul: 15}
            })
        .done(function (result) {
            const col = new Array();

            for (var i in result) {                    
                    if (result[i].Vis == true) {
                        col.push(result[i].NyttNavn);
                        grid.showColumn(result[i].NyttNavn);
                        } 
                    else {
                        grid.hideColumn(result[i].NyttNavn);
                        }
                }

            $(grid.columns).each(function () {
                for (var i in result) {
                   if (this.field === result[i].NyttNavn) {
                       grid.resizeColumn(this, result[i].Bredde * 1.2);
                   }
                }
            });

            
            console.log(""-----"");
            for (var j = 0; j < col.length; j++) {
                var funnet = false;
                var field = col[j];
                $(grid.columns).each(function () ");
            WriteLiteral(@"{
                    if (this.field === field) {
                        funnet = true
                        grid.reorderColumn(j + 1, this);
                        }
                    });
                if (!funnet) {
                    console.log(field);
                }
                }
            });    
           
            visGridFelt();
        }

    function showDialogRutenettmal() {
        $.ajax({
            url: '");
#nullable restore
#line 1282 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("DialogGridmal", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { malGuid: GridmalGuid },
            type: 'GET'
            }).done(function (result) {
                $('#DialogGridmal').html(result);
                var popup = $('#DialogGridmal').data(""kendoWindow"");
                popup.center().open();
            });
        }

    function showGridFields() {
        var popup = $('#dialogGridFelt').data(""kendoDialog"");
        popup.open();
        }

</script>

<script id=""dialogbokser"">


    function showDialogRekkeInfo() {
        $.ajax({
            url: ""/Gravarkiv/DialogGravplassRekke"",
            data: { RekkeGuid: rekkeGuid },
            method: 'GET',
            success: function (result) {
                $('#dialogRekkeInfo').html(result);
                var popup = $('#dialogRekkeInfo').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

    function showDialogFinnOrdrePerson() {
        $.ajax({
            url: ""/Funksjoner/DialogFinnPerson"",
   ");
            WriteLiteral(@"         data: { SearchFrom: 2 },
            method: 'GET',
            success: function (result) {
                $('#dialogFinnOrdrePerson').html(result);
                xM = document.getElementById(""modul"");
                xM.value = ""Ordre"";
                var popup = $('#dialogFinnOrdrePerson').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }


    function showDialogLastOppFiler() {
        $.ajax({
            url: ""/Mail/DialogLastOppFiler"",
            method: 'GET',
            success: function (result) {
                $('#dialogLastOppFiler').html(result);
                var popup = $('#dialogLastOppFiler').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

    function showDialogFakturer() {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var Faktureres = 1;

  ");
            WriteLiteral(@"      if (selectedF.length > 0) {
            Faktureres = selItemF.Faktureres;
        }

        if (Faktureres == 0) {
            alert(""Graven er satt opp til å ikke faktureres.\nDette kan du endre inne på Gravkortet under fanen Grav."")
        }
        else {
            $.ajax({
                url: ""/Gravarkiv/DialogFakturer"",
                method: 'GET',
                success: function (result) {
                    $('#dialogFakturer').html(result);
                    var popup = $('#dialogFakturer').data(""kendoWindow"");
                    popup.center().open();
                    }
                });
            }

        }

    function showDialogOrdre() {
        $.ajax({
            url: ""/Faktura/DialogOrdre"",
            method: 'GET',
            success: function (result) {
                $('#dialogOrdre').html(result);
                xLG = document.getElementById(""FakturaOrdre_LinkGuid"");
                xLG.value = gravGuid;
                xM = doc");
            WriteLiteral(@"ument.getElementById(""FakturaOrdre_Modul"");
                xM.value = ""10"";

                xFKG = document.getElementById(""Kontakt_KontaktGuid"");
                xFKN = document.getElementById(""Kontakt_FulltNavn"");
                xOKG = document.getElementById(""FakturaOrdre_KontaktGuid"");
                xOKN = document.getElementById(""FakturaOrdre_KontaktNavn"");

                xOKG.value = xFKG.value;
                xOKN.value = xFKN.value;

                var popup = $('#dialogOrdre').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

    function showDialogMail() {
        $.ajax({
            url: ""/Mail/DialogEpost"",
            method: 'GET',
            success: function (result) {
                $('#dialogMail').html(result);
            }
        });
        var popup = $('#dialogMail').data(""kendoWindow"");
        popup.center().open();
    }

    function showDialogOkonomiNy() {
        $.ajax({
            url: ""/Ste");
            WriteLiteral(@"ll/DialogOkonomi"",
            method: 'GET',
            success: function (result) {
                $('#dialogOkonomi').html(result);
            }
        });
        var popup = $('#dialogOkonomi').data(""kendoWindow"");

        popup.center().open();
    }

    function showDialogFinnPerson() {
        $.ajax({
            url: ""/Funksjoner/DialogFinnPerson"",
            data: { SearchFrom: 2 },
            method: 'GET',
            success: function (result) {
                $('#dialogFinnPerson').html(result);

                var grdGraver = $(""#grdGraverInfo"").data(""kendoGrid"");
                grdGraver.dataSource.read();

                var popup = $('#dialogFinnPerson').data(""kendoWindow"");
                popup.center().open();
            }
        });
    }

    function showDialogNotatGrav() {
        $.ajax({
            url: ""/Gravarkiv/DialogGravNotat"",
            method: 'GET',
            success: function (result) {
                $('#dialogGravNotat");
            WriteLiteral(@"').html(result);
                xG = document.getElementById(""GravNotat_GravGuid"");
                xG.value = gravGuid;
                var popup = $('#dialogGravNotat').data(""kendoDialog"");
                popup.open();
            }
        });
    }

    function showDialogEndreNotatGrav() {
        var grdGravNotat = $(""#gravNotatGrid"").data(""kendoGrid"");
        var selectedF = grdGravNotat.select();
        var selItemF = grdGravNotat.dataItem(selectedF);
        var GravnotatGuid = """";

        if (selectedF.length > 0) {
            GravnotatGuid = selItemF.GravnotatGuid;
            $.ajax({
                url: ""/Gravarkiv/DialogGravNotat"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravNotat').html(result);

                    $.ajax({
                        url: '");
#nullable restore
#line 1466 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravNotat", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravGuid: GravnotatGuid},
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravNotat"").html(result);
                            var popup = $('#dialogGravNotat').data(""kendoDialog"");
                            popup.open();
                        });
                }
            });
        }
    }

    function showDialogNotatGravlagt() {
        $.ajax({
            url: ""/Gravarkiv/DialogGravlagtNotat"",
            method: 'GET',
            success: function (result) {
                $('#dialogGravlagtNotat').html(result);
                xG = document.getElementById(""GravlagtNotat_GravlagtGuid"");
                xG.value = gravlagtGuid;
                var popup = $('#dialogGravlagtNotat').data(""kendoDialog"");
                popup.open();
            }
        });
    }

     function showDialogEndreNotatGravlagt() {
        var grdGravNotat = $(""#gravlagtNotat");
            WriteLiteral(@"Grid"").data(""kendoGrid"");
        var selectedF = grdGravNotat.select();
        var selItemF = grdGravNotat.dataItem(selectedF);
        var GravnotatGuid = """";

        if (selectedF.length > 0) {
            GravnotatGuid = selItemF.GravnotatGuid;
            $.ajax({
                url: ""/Gravarkiv/DialogGravlagtNotat"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravlagtNotat').html(result);

                    $.ajax({
                        url: '");
#nullable restore
#line 1508 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravlagtNotat", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravnotatGuid: GravnotatGuid },
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravlagtNotat"").html(result);
                            var popup = $('#dialogGravlagtNotat').data(""kendoDialog"");
                            popup.open();
                        });
                }
            });
        }
    }
    function showDialogGravVern() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            plassering = selItemF.Kode;
            $.ajax({
                url: ""/Gravarkiv/DialogGravVern"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravVern').html(result);

   ");
            WriteLiteral("                 $.ajax({\r\n                        url: \'");
#nullable restore
#line 1536 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravVern", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravstedGuid: gravstedGuid},
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravVern"").html(result);
                            xGSV = document.getElementById(""GravVern_Gravsted_GUID"");
                            if (xGSV.value == """") {
                                xGSV.value = gravstedGuid;
                            }
                            xGP = document.getElementById(""GravVern_Plassering"");
                            if (xGP.value == """") {
                                xGP.value = plassering;
                            }
                            var popup = $('#dialogGravVern').data(""kendoWindow"");
                            popup.center().open();
                        });
                }
            });
        }
    }

       
    function showDialogLogg() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = g");
            WriteLiteral(@"rdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            $.ajax({
                url: ""/Funksjoner/DialogLogg"",
                method: 'GET',
                success: function (result) {
                    $('#dialogLogg').html(result);

                    var popup = $('#dialogLogg').data(""kendoWindow"");
                    popup.center().open(); 
                }
            });
        }
    }
    
    function showDialogGravminne() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            plassering = selItemF.Kode;
            $.ajax({
                url: ""/Gravarkiv/DialogGravminne"",
                method: 'GET'");
            WriteLiteral(",\r\n                success: function (result) {\r\n                    $(\'#dialogGravminne\').html(result);\r\n\r\n                    $.ajax({\r\n                        url: \'");
#nullable restore
#line 1594 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravminne", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravstedGuid: gravstedGuid},
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravminne"").html(result);
                            xGSV = document.getElementById(""Gravminne_Gravsted_GUID"");
                            if (xGSV.value == """") {
                                xGSV.value = gravstedGuid;
                            }
                            xGP = document.getElementById(""Gravminne_Plassering"");
                            if (xGP.value == """") {
                                xGP.value = plassering;
                            }
                            xGM = document.getElementById(""Gravminne_Gravminne_GUID"");
                            if (xGP.value != """") {
                                cGMSB = document.getElementById(""GravminneSkrivbrev"");
                                cGMSB.disabled = false;
                                cGMAE = document.getElementByI");
            WriteLiteral(@"d(""GravminneArkiverEpost"");
                                cGMAE.disabled = false;
                            }
                            var popup = $('#dialogGravminne').data(""kendoWindow"");
                            popup.center().open();
                        });

                }
            });
        }
    }
 
    function showDialogGravkort() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravlagtGuid = """";
        var gravGuid = """";

        if (selectedF.length > 0) {
            gravlagtGuid = selItemF.Gravlagt_GUID;
            gravGuid = selItemF.Grav_GUID;

            $.ajax({
                url: ""/Gravarkiv/DialogGravkort"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravkort').html(result);

                    $.ajax({
                        url: '");
#nullable restore
#line 1641 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravKort", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravlagtGuid: gravlagtGuid, GravGuid: gravGuid},
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravkort"").html(result);
                            var popup = $('#dialogGravkort').data(""kendoWindow"");
                            popup.center().open();
                        });

                }
            });
        }
    }

    function showDialogGravkortHistorikk() {
        var grdGravlagte = $(""#GravHistorikkListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        histGravlagtGuid = """";

        if (selectedF.length > 0) {
            histGravlagtGuid = selItemF.Gravlagt_GUID;
            $.ajax({
                url: ""/Gravarkiv/DialogGravkort"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravkort').html(result);

  ");
            WriteLiteral("                  $.ajax({\r\n                        url: \'");
#nullable restore
#line 1670 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravKort", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravlagtGuid: histGravlagtGuid},
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravkort"").html(result);
                            var popup = $('#dialogGravkort').data(""kendoWindow"");
                            popup.center().open();
                        });

                }
            });
        }
    }


    function showDialogGravseddel() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravlagtGuid = """";

        if (selectedF.length > 0) {
            gravlagtGuid = selItemF.Gravlagt_GUID;

            $.ajax({
                url: '");
#nullable restore
#line 1695 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("DialogGravseddel", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { GravlagtGuid: gravlagtGuid},
                type: ""GET""
                })
            .done(function (result) {
                $(""#dialogGravseddel"").html(result);
                var popup = $('#dialogGravseddel').data(""kendoWindow"");
                popup.center().open();
                });
            }
        }


    function getGravseddel() {
        GravlagtGuid = document.getElementById(""Gravkort_GravlagtGuid"").value;

        canvas = document.getElementById(""drawing"");
        var base64data = canvas.toDataURL(""image/png"").replace(""image/png"", ""image/octet-stream"");

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 1716 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("getGravseddel", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            dataType: 'json',
            data: { gravlagtGuid: GravlagtGuid, kartImage: base64data }
            })
        .done(function (result) {
            $.ajax({
                url: ""/Engrafo/DialogVisPDF"",
                method: 'GET',
                success: function (result) {
                    $('#dialogVisPDF').html(result);

                    var pdfViewer = $(""#pdfViewer"").data(""kendoPDFViewer"");
                    if (!pdfViewer) {
                        pdfViewer = $(""#pdfViewer"").kendoPDFViewer({
                            pdfjsProcessing: {
                                file: """"
                            },
                            width: ""100%"",
                            height: ""100%""
                        }).data(""kendoPDFViewer"");
                    }
                    var pdfHandlerUrl = ""/Engrafo/getBase64PDF?dokumentObjectGuid=x"";

                    // Make the PDFViewer load the designated file.
                    pdfViewer.fro");
            WriteLiteral(@"mFile(pdfHandlerUrl);
                    pdfViewer.loadPage(1);

                    var popup = $('#dialogVisPDF').data(""kendoWindow"");
                    popup.center().open();
                    }
                });
            });
        }

      function showDialogGravBegrens() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravGuid = """";

        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;
            $.ajax({
                url: ""/Gravarkiv/DialogGravBegrens"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravBegrens').html(result);

                    $.ajax({
                        url: '");
#nullable restore
#line 1765 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravBegrens", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { Grav_GUID: gravGuid},
                        type: ""GET""
                        }).done(function (result) {
                            $(""#dialogGravBegrens"").html(result);
                            var popup = $('#dialogGravBegrens').data(""kendoWindow"");
                            popup.center().open();
                        });

                }
            });
        }
    }

    function showDialogGravFrigi() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravlagtGuid = """";

        if (selectedF.length > 0) {
            gravlagtGuid = selItemF.Gravlagt_GUID;
            gravGuid = selItemF.Grav_GUID;
            gravstedGuid = selItemF.Gravsted_GUID;

            $.ajax({
                url: ""/Gravarkiv/DialogGravFrigi"",
                method: 'GET',
                success: function (result) {
   ");
            WriteLiteral(@"                 $('#dialogGravFrigi').html(result);
                    var xGrav = document.getElementById(""GravFrigi_GravGuid"")
                    var xGravlagt = document.getElementById(""GravFrigi_GravlagtGuid"")
                    var xGravsted = document.getElementById(""GravFrigi_GravstedGuid"")
                    xGrav.value = gravGuid;
                    xGravlagt.value = gravlagtGuid;
                    xGravsted.value = gravstedGuid;

                    $.ajax({
                        url: '");
#nullable restore
#line 1803 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetGravKortInfo", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravlagtGuid: gravlagtGuid},
                        type: ""GET""
                        }).done(function (result) {
                            if (result.AntallGraver > 1) {
                                var xDG = document.getElementById(""SlettHeleGravstedet"")
                                xDG.style.display = ""flex"";
                            }
                            if (result.AntallGravlagte > 1) {
                                var xAG = document.getElementById(""TaMedAlleGraver"")
                                xAG.style.display = ""flex"";
                            }

                            var popup = $('#dialogGravFrigi').data(""kendoDialog"");
                            popup.open();

                        });
                    }
                });
            }
        }

    function showDialogOpprettGravsted() {
        var grdGraver = $(""#grdGravstedGraver"").data(""kendoGrid"");
        grdGraver.dataSource.read();
   ");
            WriteLiteral(@"     $('#dialogOpprettGravsted').data(""kendoDialog"").open();
    }

    function showDialogBilde() {
        var lvBilder = $(""#lvBilder"").data(""kendoListView"");
        var selectedBilde = lvBilder.select();
        var selItemBilde = lvBilder.dataItem(selectedBilde);
        var bildeGuid = """";

        if (selectedBilde.length > 0) {
            bildeGuid = selItemBilde.BildeGuid;

            $.ajax({
                url: ""/Gravarkiv/DialogBildeRediger"",
                method: 'GET',
                success: function (result) {
                    $('#dialogBildeRediger').html(result);

                    $.ajax({
                        url: '");
#nullable restore
#line 1847 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("getBilde", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { bildeGuid: bildeGuid},
                        type: ""GET""
                        }).done(function (result) {

                            if (result.BildeImage != """") {
                                x = document.getElementById(""bildeGuid"");
                                x.value = bildeGuid;

                                var base64SampleImage = ""data:image/jpeg;base64,"" + result.BildeImage;

                                var imageEditor = $(""#imageEditor"").data(""kendoImageEditor"");

                                imageEditor.drawImage(base64SampleImage).done(function (image) {
                                    imageEditor.drawCanvas(image);
                                }).fail(function (ev) {

                                });

                                var popup = $('#dialogBildeRediger').data(""kendoWindow"");
                                popup.center().open();
                            }
                            else {
");
            WriteLiteral(@"                                alert(""Kunne ikke finne orginalbilde"");
                            }
                        });

                }
            });
        }
    }

    function showDialogLastOppBilde() {
        $.ajax({
            url: '");
#nullable restore
#line 1881 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("DialogLastOppBilde", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            type: 'GET'
            }).done(function (result) {
                $('#dialogLastOppBilde').html(result);
                var popup = $('#dialogLastOppBilde').data(""kendoWindow"");
                popup.center().open();
            });
        }

    function showDialogRapporter() {
        var grid = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grid.select();
        var selItemF = grid.dataItem(selectedF);
        
        skjerm = ""Alle"";
        kategori = ""'Gravarkiv','Kirkegård'"";

        var gravstedGuid = """";
        var gravGuid = """";
        var gravlagtGuid = """";
        var sep = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            gravGuid = selItemF.Grav_GUID;
            gravlagtGuid = selItemF.Gravlagt_GUID;
        }

        $.ajax({
            url: ""/Rapport/DialogRapportListe"",
            method: 'GET',
            success: function (result) {
                $('#dialogRapport");
            WriteLiteral(@"er').html(result);

                xM = document.getElementById(""RapportVerdier_MasterNavn"");
                xV = document.getElementById(""RapportVerdier_MasterVerdier"");
                if (gravstedGuid != """") {
                    xM.value = ""Gravsted_GUID"";
                    xV.value = gravstedGuid;
                    sep = ""|"";
                }
                if (gravGuid != """") {
                    xM.value += sep + ""Grav_Guid"";
                    xV.value += sep + gravGuid;
                    sep = ""|"";
                }
                if (gravlagtGuid != """") {
                    xM.value += sep + ""Gravlagt_Guid"";
                    xV.value += sep + gravlagtGuid;
                }
            }
        });
        var popup = $('#dialogRapporter').data(""kendoWindow"");
        popup.center().open();
    }

    function showDialogRedigerbrev(readonly) {
            var lvDocument = $(""#documents"").data(""kendoListView"");
            var selF = lvDocument.select();
 ");
            WriteLiteral(@"           var selIF = lvDocument.dataItem(selF);
            var firstRender = true;

            if (typeof selIF != 'undefined') {
                dokumentObjektGuid = selIF.DokumentObjekt_GUID;
                format = selIF.Format;
            }

            if (dokumentObjektGuid != """") {

                if (format == "".pdf"" || readonly) {
                    $.ajax({
                        url: ""/Engrafo/DialogVisPDF"",
                        method: 'GET',
                        success: function (result) {
                            $('#dialogVisPDF').html(result);

                            if (format == "".pdf"" || format == "".docx"") {
                                var pdfViewer = $(""#pdfViewer"").data(""kendoPDFViewer"");
                                if (!pdfViewer) {
                                    pdfViewer = $(""#pdfViewer"").kendoPDFViewer({
                                        pdfjsProcessing: {
                                            file: """"
           ");
            WriteLiteral(@"                             },
                                        width: ""100%"",
                                        height: ""100%""
                                    }).data(""kendoPDFViewer"");
                                }
                                var pdfHandlerUrl = ""/Engrafo/getDocumentViewPDF?dokumentObjectGuid="" + dokumentObjektGuid;

                                // Make the PDFViewer load the designated file.
                                pdfViewer.fromFile(pdfHandlerUrl);
                                pdfViewer.loadPage(1);

                                var popup = $('#dialogVisPDF').data(""kendoWindow"");
                                popup.center().open();
                                }

                            else if (format == "".msg"" || format == "".jpg"" || format == "".png"") {
                                $.ajax({
                                    url: '");
#nullable restore
#line 1980 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                                     Write(Url.Action("getDocumentView", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                                    data: { dokumentObjectGuid: dokumentObjektGuid },
                                    type: ""GET""
                                    })
                                .done(function (result) {
                                    $(""#dialogMelding"").html(result);
                                    var popup = $('#dialogMelding').data(""kendoWindow"");
                                    popup.center().open();
                                    });
                                
                            }
                        }
                    });
                }
                else {
                    $.ajax({
                        url: ""/Engrafo/GetDokumentfil"",
                        data: { dokumentObjectGuid: dokumentObjektGuid, skrivebeskyttet: readonly },
                        method: 'GET',
                        success: function (result) {
                            if (result.Result == true) {
                      ");
            WriteLiteral(@"          if (readonly) {
                                    $.ajax({
                                        url: ""/Engrafo/DialogVisPDF"",
                                        method: 'GET',
                                        success: function (result) {
                                            $('#dialogVisPDF').html(result);

                                            var pdfViewer = $(""#pdfViewer"").data(""kendoPDFViewer"");
                                            if (!pdfViewer) {
                                                pdfViewer = $(""#pdfViewer"").kendoPDFViewer({
                                                    pdfjsProcessing: {
                                                        file: """"
                                                    },
                                                    width: ""100%"",
                                                    height: ""100%""
                                                }).data(""kendoPDFViewer"");
          ");
            WriteLiteral(@"                                  }
                                            var pdfHandlerUrl = ""/Engrafo/getBase64PDF?dokumentObjectGuid="" + dokumentObjektGuid;

                                            // Make the PDFViewer load the designated file.
                                            pdfViewer.fromFile(pdfHandlerUrl);

                                            var popup = $('#dialogVisPDF').data(""kendoWindow"");
                                            popup.center().open();
                                        }
                                    });
                                }
                                else {
                                    if (typeof TXTextControl !== 'undefined')
                                        TXTextControl.removeFromDom();

                                    tmpDoc = result.TempDocGuid;
                                    $.ajax({
                                        type: ""GET"",
                                    ");
            WriteLiteral("    url: \'");
#nullable restore
#line 2035 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                                         Write(Url.Action("DialogEditor", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                                    }).done(function (result) {
                                        $('#dialogSkrivbrev').html(result);
                                        var xD = document.getElementById(""dokumentGuid"");
                                        xD.value = dokumentObjektGuid;
                                        var xtD = document.getElementById(""tmpDokumentGuid"");
                                        xtD.value = tmpDoc;
                                        var popup = $('#dialogSkrivbrev').data(""kendoWindow"");
                                        popup.center().open();                   
                                        });
                                    }
                                
                                }
                            else {
                                alert(result.ErrorText);
                                }
                            }
                        });
                    }
               ");
            WriteLiteral(@" }
            }

    function showDialogSkrivbrev() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravstedGuid = """";
        var mappeNavn = """";
        var kategori = ""BrevJournal"";
        var skjerm = ""'Gravarkiv','Kirkegård'"";
    

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            gravGuid = selItemF.Grav_GUID;
            mappeGuid = selItemF.MappeGuid;
            mappeNavn = selItemF.MappeNavn;

            arkivType = document.getElementById(""ArkivType"").value;

            if (mappeGuid == """") {
                $.ajax({
                    url: ""/Gravarkiv/exeGravstedSaksmappe"",
                    method: 'GET',
                    data: {gravstedGuid: gravstedGuid},
                    success: function (resultInfo) {
                        if (resultInfo.Result == true ) {
              ");
            WriteLiteral(@"              mappeGuid = resultInfo.NewGuid;
                            mappeNavn = resultInfo.InfoText;
                            var xDoc = document.getElementById(""tabDokumenterId"");
                            xDoc.innerHTML = ""Dokumenter ["" + resultInfo.InfoText + ""]"";

                            selItemF.set(""MappeGuid"", mappeGuid);

                            $.ajax({
                                url: ""/Rapport/DialogSkrivbrevListe"",
                                method: 'GET',
                                success: function (result) {
                                    $('#dialogSkrivbrev').html(result);
                                    xEMG = document.getElementById(""EngrafoDokument_mappeGuid"");
                                    xED = document.getElementById(""EngrafoDokument_DefaultvalueSet"");
                                    xEMV = document.getElementById(""EngrafoDokument_MasterVerdier"");
                                    xEMN = document.getElementById(""Engrafo");
            WriteLiteral(@"Dokument_MasterNavn"");

                                    xI1 = document.getElementById(""Info"");
                                    xI2 = document.getElementById(""Info2"");

                                    if (arkivType == 2) {
                                        xI1.innerHTML = ""DNK360"";
                                        xI2.innerHTML = mappeGuid;
                                        xED.value = ""Ansvar for grav dokument ut"";
                                        }
                                    else {
                                        xI1.innerHTML = ""Engrafo"";
                                        xI2.innerHTML = mappeNavn + "" - "" + resultInfo.Report;
                                        xED.value = ""GKdokUt"";
                                        }

                                    xEMG.value = mappeGuid;
                                    xEMV.value = gravstedGuid + ""|"" + gravGuid;
                                    xEMN.value =""Gravsted_GUID|");
            WriteLiteral(@"Grav_GUID"";

                                    var popup = $('#dialogSkrivbrev').data(""kendoWindow"");
                                    popup.center().open();
                                }
                            });
                        }

                    }
                });
            }
            else {
                 $.ajax({
                    url: ""/Engrafo/GetMappeInfo"",
                    method: 'GET',
                    data: {mappeGuid: mappeGuid},
                    success: function (resultInfo) {

                        $.ajax({
                            url: ""/Rapport/DialogSkrivbrevListe"",
                            method: 'GET',
                            success: function (result) {
                                $('#dialogSkrivbrev').html(result);
                                xEMG = document.getElementById(""EngrafoDokument_mappeGuid"");
                                xED = document.getElementById(""EngrafoDokument_DefaultvalueSet");
            WriteLiteral(@""");
                                xEMV = document.getElementById(""EngrafoDokument_MasterVerdier"");
                                xEMN = document.getElementById(""EngrafoDokument_MasterNavn"");

                                xI1 = document.getElementById(""Info"");
                                xI2 = document.getElementById(""Info2"");

                                if (arkivType == 2) {
                                    xI1.innerHTML = ""DNK360"";
                                    xI2.innerHTML = mappeGuid;
                                    xED.value = ""Ansvar for grav dokument ut"";
                                    }
                                else {
                                    xI1.innerHTML = ""Engrafo"";
                                    xI2.innerHTML = resultInfo.SaksAar + ""/"" + resultInfo.SaksSekvensNummer + "" - "" + resultInfo.Tittel;
                                    xED.value = ""GKdokUt"";
                                    }

                                x");
            WriteLiteral(@"EMG.value = mappeGuid;
                                xEMV.value = gravstedGuid + ""|"" + gravGuid;
                                xEMN.value =""Gravsted_GUID|Grav_GUID"";

                                var popup = $('#dialogSkrivbrev').data(""kendoWindow"");
                                popup.center().open();
                            }
                        });                
                
                    }
                 });           
            }

        }
    }

    function showDialogMail() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravstedGuid = """";
        var mappeNavn = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            mappeGuid = selItemF.MappeGuid;
            mappeNavn = selItemF.MappeNavn;
        }

        if (mappeGuid == """") {
            $.ajax({
       ");
            WriteLiteral(@"         url: ""/Gravarkiv/exeGravstedSaksmappe"",
                method: 'GET',
                data: {gravstedGuid: gravstedGuid},
                success: function (resultInfo) {
                    if (resultInfo.Result == true ) {
                        mappeGuid = resultInfo.NewGuid;
                        mappeNavn = resultInfo.InfoText;
                        var xDoc = document.getElementById(""tabDokumenterId"");
                        xDoc.innerHTML = ""Dokumenter ["" + resultInfo.InfoText + ""]"";

                        $.ajax({
                            url: ""/Mail/DialogEpost"",
                            method: 'GET',
                            success: function (result) {
                                $('#dialogMail').html(result);
                                xEMG = document.getElementById(""Mail_mappeGuid"");
                                xD = document.getElementById(""Mail_DefaultvalueSet"");
                                xEMG.value = mappeGuid;
                   ");
            WriteLiteral(@"             xD.value= ""GKdokInn"";
                                var popup = $('#dialogMail').data(""kendoWindow"");
                                popup.center().open();
                            }
                        });                      
                    }
                }
            });
        }
        else {
            $.ajax({
                url: ""/Mail/DialogEpost"",
                method: 'GET',
                success: function (result) {
                    $('#dialogMail').html(result);
                    xEMG = document.getElementById(""Mail_mappeGuid"");
                    xD = document.getElementById(""Mail_DefaultvalueSet"");
                    xEMG.value = mappeGuid;
                    xD.value= ""GKdokInn"";
                    var popup = $('#dialogMail').data(""kendoWindow"");
                    popup.center().open();
                }
            });
        }
    }

    
    function showDialogGravminneSkrivbrev() {
        var mappeNavn = """";");
            WriteLiteral(@"
        var xMG = document.getElementById(""Gravminne_Mappe_GUID"");
        mappeGuid = xMG.value;
        skjerm = ""Gravminne"";

        var xGS = document.getElementById(""Gravminne_Gravminne_GUID"");
        gravminneGuid = xGS.value;

        if (mappeGuid == """") {
            $.ajax({
                url: ""/Gravarkiv/exeGravminneSaksmappe"",
                method: 'GET',
                data: {gravminneGuid: gravminneGuid},
                success: function (resultInfo) {
                    if (resultInfo.Result == true ) {
                        mappeGuid = resultInfo.NewGuid;
                        mappeNavn = resultInfo.InfoText;
                        var xDoc = document.getElementById(""tabDokumenterGravminneId"");
                        xDoc.innerHTML = ""Dokumenter ["" + resultInfo.InfoText + ""]"";

                        xGMMG = document.getElementById(""Gravminne_Mappe_GUID"");
                        xGMMG.value = mappeGuid;

                        $.ajax({
                ");
            WriteLiteral(@"            url: ""/Rapport/DialogSkrivbrevListe"",
                            method: 'GET',
                            success: function (result) {
                                $('#dialogSkrivbrev').html(result);
                                xEMG = document.getElementById(""EngrafoDokument_mappeGuid"");
                                xED = document.getElementById(""EngrafoDokument_DefaultvalueSet"");
                                xEMV = document.getElementById(""EngrafoDokument_MasterVerdier"");
                                xEMN = document.getElementById(""EngrafoDokument_MasterNavn"");

                                xI1 = document.getElementById(""Info"");
                                xI1.innerHTML = ""Engrafo"";

                                xI2 = document.getElementById(""Info2"");
                                xI2.innerHTML = mappeNavn + "" - "" + resultInfo.Report;

                                xEMG.value = mappeGuid;
                                xED.value = ""GMdokUt"";
    ");
            WriteLiteral(@"                            xEMV.value = gravminneGuid;
                                xEMN.value =""Gravminne_GUID"";

                                var popup = $('#dialogSkrivbrev').data(""kendoWindow"");
                                popup.center().open();
                            }
                        });
                    }

                }
            });
        }
        else {
             $.ajax({
                url: ""/Engrafo/GetMappeInfo"",
                method: 'GET',
                data: {mappeGuid: mappeGuid},
                success: function (resultInfo) {

                    $.ajax({
                        url: ""/Rapport/DialogSkrivbrevListe"",
                        method: 'GET',
                        success: function (result) {
                            $('#dialogSkrivbrev').html(result);
                            xEMG = document.getElementById(""EngrafoDokument_mappeGuid"");
                            xED = document.getElementById(""EngrafoD");
            WriteLiteral(@"okument_DefaultvalueSet"");
                            xEMV = document.getElementById(""EngrafoDokument_MasterVerdier"");
                            xEMN = document.getElementById(""EngrafoDokument_MasterNavn"");

                            xI1 = document.getElementById(""Info"");
                            xI1.innerHTML = ""Engrafo"";

                            xI2 = document.getElementById(""Info2"");
                            xI2.innerHTML = resultInfo.SaksAar + ""/"" + resultInfo.SaksSekvensNummer + "" - "" + resultInfo.Tittel;

                            xEMG.value = mappeGuid;
                            xED.value = ""GMdokUt"";
                            xEMV.value = gravminneGuid;
                            xEMN.value =""Gravminne_GUID"";

                            var popup = $('#dialogSkrivbrev').data(""kendoWindow"");
                            popup.center().open();
                        }
                    });                
                
                }
             });  ");
            WriteLiteral(@"         
        }
    }

    function showDialogGravminneMail() {
        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var gravstedGuid = """";
        var mappeNavn = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
            mappeGuid = selItemF.MappeGuid;
            mappeNavn = selItemF.MappeNavn;
        }

        if (mappeGuid == """") {
            $.ajax({
                url: ""/Gravarkiv/exeGravstedSaksmappe"",
                method: 'GET',
                data: {gravstedGuid: gravstedGuid},
                success: function (resultInfo) {
                    if (resultInfo.Result == true ) {
                        mappeGuid = resultInfo.NewGuid;
                        mappeNavn = resultInfo.InfoText;
                        var xDoc = document.getElementById(""tabDokumenterId"");
                        xDoc.in");
            WriteLiteral(@"nerHTML = ""Dokumenter ["" + resultInfo.InfoText + ""]"";

                        $.ajax({
                            url: ""/Mail/DialogEpost"",
                            method: 'GET',
                            success: function (result) {
                                $('#dialogMail').html(result);
                                xEMG = document.getElementById(""Mail_mappeGuid"");
                                xD = document.getElementById(""Mail_DefaultvalueSet"");
                                xEMG.value = mappeGuid;
                                xD.value= ""GKdokInn"";
                                var popup = $('#dialogMail').data(""kendoWindow"");
                                popup.center().open();
                            }
                        });                      
                    }
                }
            });
        }
        else {
            $.ajax({
                url: ""/Mail/DialogEpost"",
                method: 'GET',
                success: f");
            WriteLiteral(@"unction (result) {
                    $('#dialogMail').html(result);
                    xEMG = document.getElementById(""Mail_mappeGuid"");
                    xD = document.getElementById(""Mail_DefaultvalueSet"");
                    xEMG.value = mappeGuid;
                    xD.value= ""GKdokInn"";
                    var popup = $('#dialogMail').data(""kendoWindow"");
                    popup.center().open();
                }
            });
        }
    }

    function showDialogFlyttGrav() {
        var xGG = document.getElementById(""flyttGuid"");
        var gravlagtGuid = xGG.value;

        var grdGravlagte = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = grdGravlagte.select();
        var selItemF = grdGravlagte.dataItem(selectedF);
        var plassering = """";
        var tilgravGuid = """";

        if (selectedF.length > 0) {
            plassering = selItemF.Plassering;
            tilgravGuid = selItemF.Grav_GUID;
        }

        if (gravlagtGuid.length > 0");
            WriteLiteral(@") {
            var xFN = document.getElementById(""flyttNavn"");
            var gravlagtGuid = xGG.value;

            $.ajax({
                url: ""/Gravarkiv/DialogGravFlytt"",
                method: 'GET',
                success: function (result) {
                    $('#dialogGravlagtFlytt').html(result);
                    xAN = document.getElementById(""idNavn"");
                    xPL = document.getElementById(""idPlassering"");
                    xGG = document.getElementById(""idTilGrav"");
                    xAN.value = xFN.value;
                    xGG.value = tilgravGuid;
                    xPL.value = plassering;
                    var popup = $('#dialogGravlagtFlytt').data(""kendoDialog"");
                    popup.open();
                }
            });
        }
    }


    function showFaktura() {
        var grdFaktura = $(""#gravFesteGrid"").data(""kendoGrid"");
        var selectedF = grdFaktura.select();
        var selItemF = grdFaktura.dataItem(selectedF);
");
            WriteLiteral(@"
        if (selectedF.length > 0) {
            var faktNr = 0;
            var kontoNr = 0;

            faktNr = selItemF.FakturaNr;
            kontoNr = selItemF.KontoNr;

            $.ajax({
                url: ""/Faktura/DialogFaktura"",
                method: 'GET',
                success: function (result) {
                    $('#dialogFaktura').html(result);
                    $.ajax({
                        url: '");
#nullable restore
#line 2440 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("getFaktura", "Faktura"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { faktNr: faktNr, kontoNr: kontoNr },
                        type: ""GET""
                    }).done(function (result) {
                        $(""#dialogFaktura"").html(result);
                        var popup = $('#dialogFaktura').data(""kendoWindow"");
                        popup.center().open();

                        var xKontoNr = $(""#Faktura_KontoNr"").data(""kendoDropDownList"");
                        xKontoNr.readonly();

                        xUtsk = document.getElementById(""Faktura_UtskDato"");
                        xKredittert = document.getElementById(""Faktura_KredittertDato"");
                        if (xUtsk.value != """") {
                            btnLagre = document.getElementById(""faktLagre"");
                            btnLagre.style.display = ""none"";
                            btnEndreK = document.getElementById(""endreKontakt"");
                            btnEndreK.style.display = ""none"";
                            btnFinnK =");
            WriteLiteral(@" document.getElementById(""finnKontakt"");
                            btnFinnK.style.display = ""none"";

                            btnFlNy = document.getElementById(""nyFakturalinje"");
                            btnFlNy.style.display = ""none"";


                            btnFlSlett = document.getElementById(""slettFakturalinje"");
                            btnFlSlett.style.display = ""none"";

                            var faktDato = $(""#Faktura_FaktDato"").data(""kendoDatePicker"");
                            faktDato.readonly();

                            var forfDato = $(""#Faktura_ForfDato"").data(""kendoDatePicker"");
                            forfDato.readonly();
                        }
                        else {
                            btnFlNy = document.getElementById(""nyFakturalinje"");
                            btnFlNy.disabled = false;
                        }

                        if (xKredittert.value != """") {
                            btnKred = document.get");
            WriteLiteral(@"ElementById(""faktkrediter"");
                            btnKred.style.display = ""none"";
                            btnKredKopi = document.getElementById(""faktKopierKrediter"");
                            btnKredKopi.style.display = ""none"";
                        }
                    });
                }
            });
        }
    }





</script>

<script id=""Rapport"">
    var firstRender = true;

    function visRapport() {
        var lvDocument = $(""#lvRapporter"").data(""kendoListView"");
        var selF = lvDocument.select();
        var selIF = lvDocument.dataItem(selF);
        var RapId = """";
        var base64string = """";
        firstRender = true;

        if (typeof selIF != 'undefined') {
            RapId = selIF.RapId;
            x = document.getElementById(""RapportVerdier_RapId"");
            xRT = document.getElementById(""RapportVerdier_RapType"");
            x.value = RapId;
            xRT.value = selIF.RapType;
            }

        var $this = $");
            WriteLiteral("(\'#rapportForm\').serialize();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \'");
#nullable restore
#line 2520 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("getRapport", "Rapport"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this
        }).done(function (result) {
            if (result.ErrorCode > 0) {
                alert(result.ErrorTekst);
            }
            else {
                var popup = $('#dialogVisPDF').data(""kendoWindow"");
                popup.center().open();

                var pdfViewer = $(""#pdfViewer"").data(""kendoPDFViewer"");                    

                var pdfHandlerUrl = ""/Rapport/VisRapport?rapId="" + RapId;

                pdfViewer.fromFile(pdfHandlerUrl);
                pdfViewer.loadPage(1);
                }
            });
        }

    function onRender(e){
        if(firstRender){
            e.sender.toolbar.zoom.combobox.value(""fitToWidth"");
            e.sender.toolbar.zoom.combobox.trigger(""change"");
            firstRender = false;
        }
    }   

</script>


<script id=""Ordre"">

    
    function showDialogOrdrelinje() {
        var grdTjenester = $(""#grdTjenester"").data(""kendoGrid"");
        grdTjenester.dataSou");
            WriteLiteral(@"rce.read();
        $('#dialogTjenesteregister').data(""kendoDialog"").open();
        }

    function AlleAktive(e) {
        return { filterTekst: ""Aktiv<>0 AND Ordreliste<>0"" }
        }

    function filterOrdre() {
        xOrdreGuid = document.getElementById(""FakturaOrdre_OrdreGuid"");
        OrdreGuid = xOrdreGuid.value;

        return {ordreGuid: OrdreGuid}
        }

    function onTjenesteActionOK(e) {
        xOrdreGuid = document.getElementById(""FakturaOrdre_OrdreGuid"");
        OrdreGuid = xOrdreGuid.value;

        var grid = $(""#grdTjenester"").data(""kendoGrid"");
        var selected = [];

        //get all selected rows (those which have the checkbox checked)
        grid.select().each(function () {
            selected.push(grid.dataItem(this));
        });

        var nodes = """";
        for (var i = 0; i < selected.length; i++) {
            nodes += selected[i].TjenesteNr + "";"";
        }

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 2590 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreFakturaOrdreLinjeListe", "Faktura"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { OrdreGuid: OrdreGuid, tjenester: nodes },
            dataType: 'json'
        }).done(function (result) {
            grdFaktLinje = $(""#Ordrelinjer"").data(""kendoGrid"");
            grdFaktLinje.dataSource.read();
        });

        }

    function onOrdrelinjeChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);

        ordrelinjeGuid = data.OrdreLinjeGuid;

        xBS = document.getElementById(""idEndreOrdrelinje"")
        xBS.disabled = false;

        xBE = document.getElementById(""idSlettOrdrelinje"")
        xBE.disabled = false;
        }

    function closeFinnOrdrePerson() {
        var grdKontakt = $(""#kontaktGrid"").data(""kendoGrid"");
        var selectedKontakt = grdKontakt.select();
        var selItemKontakt = grdKontakt.dataItem(selectedKontakt);
        var ressursGuid = """";

        if (selectedKontakt.length > 0) {
            kontaktGuid = selItemKontakt.KontaktGuid;

            $.ajax({
     ");
            WriteLiteral("           url: \'");
#nullable restore
#line 2623 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("KopiKontaktFraResultat", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { kontaktGuid: kontaktGuid},
                type: ""POST""
                }).done(function (result) {
                    kontaktGuid = result.NewGuid;

                    var PersonNr = document.getElementById(""FakturaOrdre_KontaktGuid"");
                    var FulltNavn = document.getElementById(""FakturaOrdre_KontaktNavn"");

                    PersonNr.value = kontaktGuid;
                    FulltNavn.value = selItemKontakt.Fulltnavn;
                });
            };
        }
        
    function ordreLagre() {
        var $this = $('#fakturaOrdreForm');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 2643 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreFakturaOrdre", "Faktura"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result.Result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Ordren er opprettet"" }, ""success"");
                xOG = document.getElementById(""FakturaOrdre_OrdreGuid"");
                xOG.value = result.NewGuid;
                xON = document.getElementById(""FakturaOrdre_OrdreNr"");
                xON.value = result.InfoText;
                xOL = document.getElementById(""nyordrelinje"");
                xOL.disabled = false;
            }
        });
        }

</script>

<script id=""bilder"" type=""text/javascript"">

    function saveImage() {
        var imageEditor = $(""#imageEditor"").data(""kendoImageEditor"");
        image = imageEditor.getCurrentImage();
        byte64Image = image.currentSrc;
        var n = byte64Image.indexOf("","");
        var n1 =");
            WriteLiteral(@" byte64Image.indexOf(""/"");
        var n2 = byte64Image.indexOf("";"");

        var ext = byte64Image.substr(n1+1, n2-n1-1);
        var imageString = byte64Image.substr(n+1);

        x = document.getElementById(""bildeGuid"");
        bildeGuid = x.value;
        
        $.ajax({
            url: '");
#nullable restore
#line 2679 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("SetUpdateBilde", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { imageString: imageString, bildeGuid: bildeGuid },
            dataType: ""text"",
            type: ""POST""
        }).done(function (result) {
            var lbF = $(""#lvBilder"").data(""kendoListView"");
            lbF.dataSource.read();
            alert(""Bilde er lagret"");
        });
        
    }


    function slettBilde() {
        $(""#confirm"").kendoConfirm({
            title: ""Slett"",
            content: ""Ønsker du å slette valgte bilde?"",
            messages: {
                okText: ""Ja"",
                cancel: ""Nei""
            }
        }).data(""kendoConfirm"").result.done(function () {
            $('body').append($('<div id=""confirm"">'));

            var lvBilder = $(""#lvBilder"").data(""kendoListView"");
            var selectedBilde = lvBilder.select();
            var selItemBilde = lvBilder.dataItem(selectedBilde);
            var bildeGuid = """";

            if (selectedBilde.length > 0) {
                bildeGuid = selItemBilde.BildeGu");
            WriteLiteral("id;\r\n        \r\n                $.ajax({\r\n                    url: \'");
#nullable restore
#line 2712 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                     Write(Url.Action("SlettBilde", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: { bildeGuid: bildeGuid },
                    type: ""POST""
                }).done(function (result) {
                    var lbF = $(""#lvBilder"").data(""kendoListView"");
                    lbF.dataSource.read();
                });
            }
        });
    }

   function slettFester() {
        $(""#confirm"").kendoConfirm({
            title: ""Slett"",
            content: ""Ønsker du å fjerne fester på valgte gravsted?"",
            messages: {
                okText: ""Ja"",
                cancel: ""Nei""
                }
            })
        .data(""kendoConfirm"").result.done(function () {
            $('body').append($('<div id=""confirm"">'));

            var lvBilder = $(""#GravListe"").data(""kendoGrid"");
            var selectedBilde = lvBilder.select();
            var selItemBilde = lvBilder.dataItem(selectedBilde);
            var Gravsted_GUID = """";

            if (selectedBilde.length > 0) {
                Gravsted_GUID = selItemBilde.Gra");
            WriteLiteral("vsted_GUID;\r\n        \r\n                $.ajax({\r\n                    url: \'");
#nullable restore
#line 2744 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                     Write(Url.Action("FjernFesterFraGravsted", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n                    data: { GravstedGuid: Gravsted_GUID },\r\n                    type: \"POST\"\r\n                }).done(function (result) {\r\n                    lvBilder.dataSource.read();\r\n                    $.ajax({\r\n                        url: \'");
#nullable restore
#line 2750 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("GetKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { kontaktGuid: """", viewString: ""_GravinfoFester""},
                        type: ""GET"",
                        }).done(function (result) {
                            $('#kontakt_form').html(result);
                        });

                });
            }
        });
    }

    function rotateImageLeft() {
        var imageEditor = $(""#imageEditor"").data(""kendoImageEditor"");
        image = imageEditor.getCurrentImage();
        byte64Image = image.currentSrc;
        var n = byte64Image.indexOf("","");
        var n2 = byte64Image.indexOf("";"");

        var ext = byte64Image.substr(n2 - 3, 3);
        var byte64Image = byte64Image.substr(n+1);
         
        $.ajax({
            url: '");
#nullable restore
#line 2773 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("rotateBildeLeftAction", "kWebBilde"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: {bilde: byte64Image},
            type: ""Post""
        }).done(function (result) {
            var base64SampleImage = ""data:image/jpeg;base64,"" + result;

            var imageEditor = $(""#imageEditor"").data(""kendoImageEditor"");

            imageEditor.drawImage(base64SampleImage).done(function (image) {
                imageEditor.drawCanvas(image);
            }).fail(function (ev) {
                alert(""Something went wrong!"");
            });
        });
        
    }

    function rotateImageRight() {
        var imageEditor = $(""#imageEditor"").data(""kendoImageEditor"");
        image = imageEditor.getCurrentImage();
        byte64Image = image.currentSrc;
        var n = byte64Image.indexOf("","");
        var n2 = byte64Image.indexOf("";"");

        var ext = byte64Image.substr(n2 - 3, 3);
        var byte64Image = byte64Image.substr(n+1);
         
        $.ajax({
            url: '");
#nullable restore
#line 2801 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("rotateBildeRightAction", "kWebBilde"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: {bilde: byte64Image},
            type: ""Post""
        }).done(function (result) {
            var base64SampleImage = ""data:image/jpeg;base64,"" + result;

            var imageEditor = $(""#imageEditor"").data(""kendoImageEditor"");

            imageEditor.drawImage(base64SampleImage).done(function (image) {
                imageEditor.drawCanvas(image);
            }).fail(function (ev) {
                alert(""Something went wrong!"");
            });
        });
        
    }

    function onUploadSuccess(e) {
        var popup = $('#dialogLastOppBilde').data(""kendoWindow"");
        popup.close();

        var listBox = $(""#listBilder"").data(""kendoListView"");
        listBox.dataSource.read();
    }

    function lukkMappe() {
        var liste = $('#listBilder').data('kendoListView')
        liste.dataSource.read();

        var popup = $('#dialogLastOppBilde').data(""kendoWindow"");
        popup.close();
    }

    function RotatePictureLeft() {
       ");
            WriteLiteral(@" var lbF = $(""#listBilder"").data(""kendoListView"");
        var selF = lbF.select();
        var selIF = lbF.dataItem(selF);
        var id = 0;

        if (typeof selIF != 'undefined') {
            id = selIF.id;
        }

        if (id != 0) {
            $.ajax({
                url: '");
#nullable restore
#line 2846 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("RotateLeft", "kWebBilde"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { id: id},
                type: ""GET""
            }).done(function (result) {
                onBildeSelect();
            });
        }
    }

    function RotatePictureRight() {
        var lbF = $(""#listBilder"").data(""kendoListView"");
        var selF = lbF.select();
        var selIF = lbF.dataItem(selF);
        var id = 0;

        if (typeof selIF != 'undefined') {
            id = selIF.id;
        }

        if (id != 0) {
            $.ajax({
                url: '");
#nullable restore
#line 2867 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("RotateRight", "kWebBilde"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { id: id},
                type: ""GET""
            }).done(function (result) {
                onBildeSelect();
            });
        }
    }

    function onUpload(e) {
        e.data = {
            gravGuid: gravGuid
        };
    }

    function onUploadSuccess(e) {
        var popup = $('#dialogLastOppBilde').data(""kendoWindow"");
        popup.close();

        var lbF = $(""#lvBilder"").data(""kendoListView"");
        lbF.dataSource.read();
    }

</script>

<script id=""mail"">
    var mailId = """";
    var mappeGuid = """";

    function onMailFolderChange(e) {
        var tree = $('#Mapper').data('kendoTreeView');
        var dataItem = tree.dataItem(e.node);
        mappeGuid = dataItem.id;

        var listBox = $(""#MailListe"").data(""kendoGrid"");
        listBox.refresh();
        listBox.dataSource.read();


    }

    function onMailItemChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);

  ");
            WriteLiteral(@"      mailId = data.Id;

        var listBox = $(""#Body"").data(""kendoEditor"");
        listBox.body.innerHTML = data.Body;

        var lvDoc = $(""#emailAttachments"").data(""kendoGrid"");
        lvDoc.dataSource.read();

    }


    function filterMail() {
        return { mailId: mailId }
    }

    function filterMappe() {
        filterTekst = mappeGuid;
        return { folderId: filterTekst }
    }


</script>



<script id=""events"">

    function readHandler(options) {
        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 2942 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("FolderTreeNew", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: {gravplassGuid: gravplassGuid}
        }).done(function(result) {
            options.success([result]);
        });  
    }

    function onFeltSelect(e) {
        var tree = $('#Kirkegard').data('kendoTreeView');
        var dataItem = tree.dataItem(e.node);

        filterRekkeTekst = ""Rekke_GUID = '"" + dataItem.id + ""'"";
        level = dataItem.niva;
        xInfo = document.getElementById(""infoTekst"");
        xInfo.innerHTML = dataItem.Kommentar;

        if (level == 2) {
            document.getElementById(""btnFakturer"").disabled = true;
            document.getElementById(""btnFrigi"").disabled = true;
            document.getElementById(""btnStellDialog"").disabled = true;
            document.getElementById(""btnGravminne"").disabled = true;
            document.getElementById(""btnGravkort"").disabled = true;
            document.getElementById(""btnLaas"").disabled = true;
            document.getElementById(""btnFunksjoner"").disabled = true;
            documen");
            WriteLiteral(@"t.getElementById(""idLogg"").disabled = true;

            document.getElementById(""idKommentar"").style.display = """";

            var listBox = $(""#GravListe"").data(""kendoGrid"");
            listBox.dataSource.read();
            clearForm()
            }
        else {
            document.getElementById(""idKommentar"").style.display = ""none"";
        }

        rekkeGuid = dataItem.id;
        urneRekke = dataItem.urneRekke;
        }
        
    function onGravplassChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);

        gravplassGuid = data.Kirkegard_GUID;

        var tree = $('#Kirkegard').data('kendoTreeView');
        tree.dataSource.read();
        }

    function onGravDataBound(e) {
        var currRowIndex = -1;

        var grid = $(""#GravListe"").data(""kendoGrid"");

        $(""#GravListe tbody tr"").each(function () {

            var currentRowData = grid.dataItem(this);

            if (currGravGuid != """" && (currGra");
            WriteLiteral(@"vGuid == currentRowData.Gravlagt_GUID || currGravGuid == currentRowData.Grav_GUID)) {
                currRowIndex = this.rowIndex;
            }

            //Read field contains data if this email is readed
            if (currentRowData.Link_GravGUID != """") {
                $(this).css(""background-color"", ""IndianRed"");
                $(this).css(""color"", ""Yellow"");
            }
            else if (currentRowData.Laast == 9) {
                $(this).css(""background-color"", ""MistyRose"");
            }
            else if (currentRowData.Laast > 0) {
                $(this).css(""background-color"", ""LightPink"");
            }
            else if (currentRowData.Aktiv == false) {
                $(this).css(""background-color"", ""LightGray"");
            }
            else if (currentRowData.Kontakt_GUID == null || currentRowData.Kontakt_GUID == """") {
                $(this).css(""background-color"", ""LightCyan"");
            }
        });

        if (currRowIndex >= 0) {
            ");
            WriteLiteral(@"grid.select(""tr:eq("" + ( currRowIndex ) +"")"");
            grid.content.scrollTop(grid.select().position().top);
            grid.trigger(""change"");
            }

        currGravGuid = """";

        mergeGridRows(""GravListe"", ""Gravnr"");
        }


    function mergeGridRows(gridId, colTitle) {

        $('#' + gridId + '>.k-grid-content>table').each(function (index, item) {

            var dimension_col = 1;
            var rowspan = 1;
            // First, scan first row of headers for the ""Dimensions"" column.
            $('#' + gridId + '>.k-grid-header>.k-grid-header-wrap>table').find('th').each(function () {
                if ($(this).text() == colTitle) {

                    // first_instance holds the first instance of identical td
                    var first_instance = null;

                    $(item).find('tr').each(function () {

                        // find the td of the correct column (determined by the colTitle)
                        var dimension_td = $(");
            WriteLiteral(@"this).find('td:nth-child(' + dimension_col + ')');

                        if (first_instance == null) {
                            first_instance = dimension_td;
                            rowspan = 1;
                        } else if (dimension_td.text() == first_instance.text()) {
                            // if current td is identical to the previous
                            // then remove the current td
                            dimension_td.remove();
                            rowspan++;
                            // increment the rowspan attribute of the first instance
                            first_instance.attr('rowspan', rowspan);
                        } else {
                            // this cell is different from the last
                            first_instance = dimension_td;
                            rowspan = 1;
                            }
                        });
                        return;
                    }
                    dimens");
            WriteLiteral(@"ion_col++;
                });

            });
        }

    function onGravChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);
        var xDoc = document.getElementById(""tabDokumenterId"");

        kontaktGuid = data.Kontakt_GUID;
        gravGuid = data.Grav_GUID;
        gravlagtGuid = data.Gravlagt_GUID;
        gravstedGuid = data.Gravsted_GUID;
        mappeGuid = data.MappeGuid;
        mappeNavn = data.MappeNavn;

        var xR = document.getElementById(""redigerGravlagtNotat"")
        var xS = document.getElementById(""sletteGravlagtNotat"")
        var xN = document.getElementById(""nyttGravlagtNotat"")
        xR.disabled = true;
        xS.disabled = true;
        xN.disabled = false;

        var xRG = document.getElementById(""redigerGravNotat"")
        var xSG = document.getElementById(""slettGravNotat"")
        var xNG = document.getElementById(""nyttGravNotat"")
        xRG.disabled = true;
        xSG.disabled = true;
       ");
            WriteLiteral(@" xNG.disabled = false;

        xFM = document.getElementById(""idFjernMarkering"");
        xAM = document.getElementById(""idAddMarkering"");

        if (data.TilbudFornying == 0) {
            xFM.style.display = ""none"";
            xAM.style.display = """";
        }
        else {
            xFM.style.display = """";
            xAM.style.display = ""none"";
        }

        $.ajax({
            url: '");
#nullable restore
#line 3117 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("setDocuments", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { dokumenter: """" },
            type: ""GET"",
            success: function (result) {
                var lvDocument = $(""#documents"").data(""kendoListView"");
                lvDocument.dataSource.read();
                }
            });


        $.ajax({
            url: '");
#nullable restore
#line 3128 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("GetKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { kontaktGuid: kontaktGuid, viewString: ""_GravinfoFester""},
            type: ""GET"",
            }).done(function (result) {
                $('#kontakt_form').html(result);

                xFF = document.getElementById(""finnFester"");
                xVF = document.getElementById(""visFester"");
                xSF = document.getElementById(""fjernFester"");

                xFF.disabled = false;

                if (kontaktGuid != """") {
                    xVF.disabled = false;
                    xSF.disabled = false;
                    xFF.innerHTML = ""Bytt fester<img src='/images/find.svg' style='width: 24px; height: 24px;' />"";
                }
                else {
                    xVF.disabled = true;
                    xSF.disabled = true;
                    xFF.innerHTML = ""Finn fester<img src='/images/find.svg' style='width: 24px; height: 24px;' />"";
                }

            ErDod = document.getElementById(""erDod"").checked
            bkg = doc");
            WriteLiteral(@"ument.getElementById(""tabFester"");
                if (ErDod) {
                    bkg.style.backgroundColor = ""lightpink"";
                }
                else {
                    bkg.style.backgroundColor = """";
                }
            });

        xHH = document.getElementById(""idLogg"");
        if (data.HarHistorikk > 0) {
            xHH.disabled = false;
        }
        else  {
            xHH.disabled = true;
        }

        xF = document.getElementById(""btnFakturer"");
        xFG = document.getElementById(""btnFrigi"");
        xS = document.getElementById(""btnStellDialog"");
        xGM = document.getElementById(""btnGravminne"");
        xGK = document.getElementById(""btnGravkort"");
        xL = document.getElementById(""btnLaas"");
        xFU = document.getElementById(""btnFunksjoner"");


        if (kontaktGuid != """") {
            xF.disabled = false;        
            xS.disabled = false;
        }
        else {
            xF.disabled = true;        
 ");
            WriteLiteral(@"           xS.disabled = true;
        }

        xGK.disabled = false;
        xL.disabled = false;
        xFU.disabled = false;

        if (gravlagtGuid != """") {
            xFG.disabled = false;
            xGM.disabled = false;
        }
        else {
            xFG.disabled = true;
            xGM.disabled = true;
        }

        
        if (mappeNavn != """") {
            xDoc.innerHTML = ""<img src='/images/DOCX.svg' />Dokumenter ["" + mappeNavn + ""]"";
        }
        else if (mappeGuid != """")
            xDoc.innerHTML = ""<img src='/images/DOCX.svg' />Dokumenter ["" + mappeGuid + ""]"";
        else {
            xDoc.innerHTML = ""<img src='/images/DOCX.svg' />Dokumenter"";
        }



        var grdGravFeste = $('#gravFesteGrid').data(""kendoGrid"");
        grdGravFeste.dataSource.read();

        var grdGravBilde = $('#lvBilder').data(""kendoListView"");
        grdGravBilde.dataSource.read();

        var grdGravHist = $('#GravHistorikkListe').data(""kendoGrid"");");
            WriteLiteral(@"
        grdGravHist.dataSource.read();

        var grdGravNotat = $('#gravNotatGrid').data(""kendoGrid"");
        grdGravNotat.dataSource.read();

        var grdGravlagtNotat = $('#gravlagtNotatGrid').data(""kendoGrid"");
        grdGravlagtNotat.dataSource.read();

        var grdGravlagtDocument = $('#dokumentListe').data(""kendoGrid"");
        grdGravlagtDocument.dataSource.read();

        var grdGravlagtStatus = $('#gravlagtStatus').data(""kendoGrid"");
        grdGravlagtStatus.dataSource.read();
        }

    function onGravSokChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);

        $.ajax({
            url: '");
#nullable restore
#line 3239 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("GetGravplassRekkeInfo", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: {RekkeGuid: data.Rekke_GUID},
            type: 'GET'
            })
        .done(function (result) {
                xInfo = document.getElementById(""infoTekst"");
                xInfo.innerHTML = result.Kommentar;
            });

        filterRekkeTekst = ""Rekke_GUID = '"" + data.Rekke_GUID + ""'"";
        currGravGuid = data.Gravlagt_GUID;
        if (currGravGuid == """") {
            currGravGuid = data.Grav_GUID;
        }
        var grdGravlagtStatus = $('#GravListe').data(""kendoGrid"");
        grdGravlagtStatus.dataSource.read();
    }

    function onGravstedDataBound(e) {
        var grid = $(""#grdGravstedGraver"").data(""kendoGrid"");
        var currRowIndex = -1;

        $(""#grdGravstedGraver tbody tr"").each(function () {
            var currentRowData = grid.dataItem(this);
            if (currentRowData.Aktiv == false) {
                $(this).addClass(""disabled"");
            }
            if (currentRowData.Valgt == true) {
                grid");
            WriteLiteral(@".select(this);
                $(this).css('font-weight', 'bold');
                currRowIndex = this.rowIndex;
            }
        });

        if (currRowIndex >= 0) {
            grid.select(""tr:eq("" + (currRowIndex) + "")"");
            grid.content.scrollTop(grid.select().position().top);
        }
    }

    function onFesteDatabound(e) {
        var grid = $(""#gravFesteGrid"").data(""kendoGrid"");
        var festeEndre = false;

        $(""#gravFesteGrid tbody tr"").each(function () {
            var currentRowData = grid.dataItem(this);
            if (currentRowData.kontaktGuid != kontaktGuid && currentRowData.fakturaGuid != """") {
                festeEndre = true;
            }
        });
        xF = document.getElementById(""idFlyttFaktura"");
        
        if (festeEndre == true) {
            xF.style.display = """";
        }
        else {
            xF.style.display = ""none"";
        }
    }

    function onChangeAS(e) {
        x = document.getElementById(""Gr");
            WriteLiteral(@"avFrigi_Aarsak"")

        switch (e.newValue) {
            case ""1"":
                x.value = ""Skriftelig sletting"";
                break;
            case ""2"":
                x.value = ""Ikke funnet fester"";
                break;
            case ""3"":
                x.value = ""Ikke innbetalt etter purring"";
                break;
            case ""4"":
                x.value = ""Feste opphører"";
                break;
        }

    }

    function selectRow() {
        var checked = this.checked,
        row = $(this).closest(""tr""),
        grid = $(""#gravlagtStatus"").data(""kendoGrid""),
        dataItem = grid.dataItem(row);

        $.ajax({
            type: ""GET"",
            url: '");
#nullable restore
#line 3327 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("SetGravStatus", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: {gravGuid: gravGuid, statusGuid: dataItem.StatusGuid, status: checked},
            dataType: 'json'
        }).done(function (result) {
        });
    }

    function clearForm() {
        mappeGuid = """";
        registreringGuid = """";
        gravGuid = """";
        gravlagtGuid = """";
        gravstedGuid = """";
        currGravGuid = """";

        var grdGravFeste = $('#gravFesteGrid').data(""kendoGrid"");
        grdGravFeste.dataSource.read();

        var grdGravBilde = $('#lvBilder').data(""kendoListView"");
        grdGravBilde.dataSource.read();

        var grdGravHist = $('#GravHistorikkListe').data(""kendoGrid"");
        grdGravHist.dataSource.read();

        var grdGravNotat = $('#gravNotatGrid').data(""kendoGrid"");
        grdGravNotat.dataSource.read();

        var grdGravlagtNotat = $('#gravlagtNotatGrid').data(""kendoGrid"");
        grdGravlagtNotat.dataSource.read();

        var grdGravlagtDocument = $('#dokumentListe').data(""kendoGrid"");
       ");
            WriteLiteral(@" grdGravlagtDocument.dataSource.read();

        var grdDocuments = $('#documents').data(""kendoListView"");
        grdGravlagtDocument.dataSource.read();

        var grdGravlagtStatus = $('#gravlagtStatus').data(""kendoGrid"");
        grdGravlagtStatus.dataSource.read();

        $.ajax({
            url: '");
#nullable restore
#line 3367 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("GetKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { kontaktGuid: """", viewString: ""_GravinfoFester""},
            type: ""GET"",
            }).done(function (result) {
                $('#kontakt_form').html(result);

                xFF = document.getElementById(""finnFester"");
                xVF = document.getElementById(""visFester"");
                xSF = document.getElementById(""fjernFester"");

                xFF.disabled = true;
                xVF.disabled = true;
                xSF.disabled = true;
                xFF.innerHTML = ""Finn fester<img src='/images/find.svg' style='width: 24px; height: 24px;' />"";
            });

    }
</script>

<script id=""filter"">
    var registreringGuid = """";
    var mappeGuid = """";
    var rekkeGuid = """";
    var filterTekst = """";
    var filterRekkeTekst = """"
    var currGravGuid = """";
    var gravplassGuid = """";
    var kontaktGuid = """";
    var urneRekke = false;
    var resultatId = 0;
    var canSearching = true;
    var gravGuid = """";
    var gravlagtGuid = """);
            WriteLiteral(@""";
    var histGravlagtGuid = """";
    var gravstedGuid = """";
    var kategori = ""BrevJournal"";
    var skjerm = ""'Gravarkiv','Kirkegård'"";
    var lagretListe = false;

    function filterSokefelt(e) {
        x = document.getElementById(""soekeFilter"");
        xK = document.getElementById(""idKirkegard"");
        grid = $(""#Kirkegard"").data(""kendoTreeView"");

        if (e.checked) {
            x.style.display = ""block"";
            xK.style.display = ""none"";
            $(""#twKirkegard"").height(554); 
        }
        else {
            x.style.display = ""none"";
            xK.style.display = ""block"";
            $(""#twKirkegard"").height(627);
            clearFinnGraver();
        }
        
    }

    function hentGravliste() {
        lagretListe = true;
        filterTekst = ""Gravlagt_GUID"";
        var grdGraver = $(""#GravListeSok"").data(""kendoGrid"");
        grdGraver.dataSource.read();
        }


    function finnGraver() {
        filterTekst = """";
        lagre");
            WriteLiteral(@"tListe = false;
        xN = document.getElementById(""Navn"").value;

        if (xN.indexOf(""."") > 0) {
            filterTekst = ""Plassering like '"" + xN + ""%'"";
        }
        else if (xN.indexOf("","") >= 0) {
            var navnArr = xN.split(',')
            if (navnArr[0] != """") {
                filterTekst += "" (Fornavn like '"" + navnArr[0] + ""%')"";
            }
            if (navnArr[1] != """") {
                if (filterTekst != """") { filterTekst += "" AND ""; }
                filterTekst += "" (Etternavn like '"" + navnArr[1] + ""%')"";
            }            
        }
        else {
            filterTekst = ""FulltNavn like '"" + xN + ""%'"";
        }
        
        var grdGraver = $(""#GravListeSok"").data(""kendoGrid"");
        grdGraver.dataSource.read();
    }

    function clearFinnGraver() {
        document.getElementById(""Navn"").value = """";
        }

    function skjermFilter() {
        return { skjerm: skjerm, kategori: kategori }
        }

    function f");
            WriteLiteral(@"ilterLogg() {
        return {RegistreringGuid: gravstedGuid}
        }

    function filterRegistrering() {
        return { registreringGuid: registreringGuid }
        }

    function filterCaseId() {
        return { mappeGuid: mappeGuid, filterTekst: """" }
    }

    function filterLeverandor() {
        return { Forbindelse: ""Steinhuggeri""}
    }
    
    function filterGravminneCaseId() {
        var XMG = document.getElementById(""Gravminne_Mappe_GUID"");
        mappeGuidGravminne = XMG.value;
        return { mappeGuid: mappeGuidGravminne, filterTekst: """" }
    }

    function filterMappe() {
        return { mappeGuid: mappeGuid, stringFilter: ""PartRolle<>'Avdøde'"" }
    }

    function filterAvtale() {
        return { stellAvtaleGuid: stellAvtaleGuid }
    }

    function filterMail() {
        return { mailId: mailId }
    }

    function filterGravsok() {
        return { filterTekst: filterTekst, sortering: ""Plassering"", lagretListe: lagretListe }
    }

    ");
            WriteLiteral(@"function filterRekke() {
        return { filterTekst: filterRekkeTekst }
    }

    function filterGravplass() {
        return { gravplassGuid: gravplassGuid }
    }

    function filterUrneType() {
        var urneType = 8;
        if (urneRekke == true) {
            urneType = 4;
        }

        return { urneType: urneType }
    }

    function filterSok(e) {
        return {
            resultatId: resultatId
        }
    }

    function filterFaktura() {
        xFG = document.getElementById(""flyttGravGuid"");

        filter =""BetaltDato IS NULL AND Cast(FaktNr AS nVarChar(10))+KontoNr IN (SELECT Cast(FaktNr AS nVarChar(10))+KontoNr FROM FAKTURA_LINJE WHERE Grav_GUID='"" + xFG.value + ""')""
        return { strFilter: filter}
    }

    function filterGravFlytt() {
        xFG = document.getElementById(""flyttGravGuid"");
        xGL = document.getElementById(""flyttGuid"");

        return { strFilter: ""Grav_GUID='"" + xFG.value + ""' AND Gravlagt_GUID<>'"" & xGL.value &""'");
            WriteLiteral(@" AND Historikk=0""}
    }

    function filterGrav() {
        return { GravGuid: gravGuid}
    }

    function filterGravsted2() {
        return {strFilter: ""Gravsted_GUID='"" + gravstedGuid + ""'"", sortering: ""Plassering""}
    }

    function filterBilde() {
        filterString = """";
        if (gravGuid != """") {
            filterString = ""Grav_GUID='"" + gravGuid + ""'"";
        }
        return { filterString: filterString}
    }

    function filterReservering() {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravNr = 0;
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravNr = selItemF.GravNr;
            gravstedGuid = selItemF.Gravsted_GUID;
            rekkeGuid = selItemF.Rekke_GUID;
        }

        return { rekkeGuid: rekkeGuid, gravNr: gravNr, gravstedGuid: gravstedGuid }
    }

    function filterGravsted() {
  ");
            WriteLiteral(@"      var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
        }

        return { gravstedGuid: gravstedGuid }
    }

    function filterGravlagt() {
        return { GravlagtGuid: gravlagtGuid }
    }

    function filterGravlagtHist() {
        return { GravlagtGuid: histGravlagtGuid }
    }

    function filterKontakt() {
        x = document.getElementById(""Kontakt_KontaktGuid"")

        return { kontaktGuid: x.value }
    }

    function filterTjenester() {
        return { filterTekst: ""Aktiv<>0 AND T.TjenesteGruppe='FT'"" }
        }
</script>

<script id=""documentEvents"">

    function LagreDocument() {
        TXTextControl.saveDocument(TXTextControl.StreamType.WordprocessingML, function (e) {
            xD = document.getElementById(""dokumentGuid"");
  ");
            WriteLiteral(@"          var dokumentObjektGuid = xD.value;
            xRN = document.getElementById(""recNo"");
            var recNo = xRN.value;
            xT = document.getElementById(""tittel"");
            var tittel = xT.value;

            var base64string = e.data;

            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 3621 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("UpdateDocument", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {dokumentObjectGuid: dokumentObjektGuid, base64Dokument: base64string, recNo: recNo, tittel: tittel }
            }).done(function (result) {
                if (result.Result == true) {
                    alert(""Dokumentet er lagret"");
                    }
                });
            });
        }

    function SjekkInnDocument() {
        TXTextControl.saveDocument(TXTextControl.StreamType.WordprocessingML, function (e) {
            xD = document.getElementById(""dokumentGuid"");
            var dokumentObjektGuid = xD.value;
            xRN = document.getElementById(""recNo"");
            var recNo = xRN.value;
            xT = document.getElementById(""tittel"");
            var tittel = xT.value;

            var base64string = e.data;

            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 3644 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("CheckInDocument", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {dokumentObjectGuid: dokumentObjektGuid, base64Dokument: base64string, recNo: recNo, tittel: tittel }
            }).done(function (result) {
                if (result.Result == true) {
                    alert(""Dokumentet er lagret og sjekket inn"");
                    }
                });
            });
        }

    function onDocumentChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);
        registreringGuid = data.Registrering_GUID;

        btnSD = document.getElementById(""visDokumentGA"");
        btnSD.disabled = false;
    }

    function onJournalChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);
        registreringGuid = data.Registrering_GUID;
        var dokInfo = """";
        var d = data.dokuments;

        if (d.length > 0) {
            for(let i = 0; i < d.length; i++) {
                dokInfo += d[i].Format + "";"" + d[i].RecNo + "";"" + d[i].Tittel + """);
            WriteLiteral("|\";\r\n                }\r\n            }\r\n\r\n        $.ajax({\r\n            url: \'");
#nullable restore
#line 3677 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("setDocuments", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { dokumenter: dokInfo },
            type: ""GET"",
            success: function (result) {
                var lvDocument = $(""#documents"").data(""kendoListView"");
                lvDocument.dataSource.read();
                }
            });

        }


    function onGravminneDocumentChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);
        registreringGuid = data.Registrering_GUID;

        btnSD = document.getElementById(""visDokument"");
        btnSD.disabled = false;
    }

    function onGravminneJournalChange(e) {
        var selected = this.select();
        var data = this.dataItem(selected);
        registreringGuid = data.Registrering_GUID;

        var lvDocument = $(""#documentsGravminne"").data(""kendoListView"");
        lvDocument.dataSource.read();
    }
</script>

<script id=""popupGravarkiv"">


    $(""#context-menu-gravarkiv"").kendoContextMenu({
        target: ""#GravListe""
    });

    var co");
            WriteLiteral(@"ntextMenuGA = $(""#context-menu-gravarkiv"").data(""kendoContextMenu"");
    contextMenuGA.bind(""select"", function(e) {
        if (e.item.textContent == ""Fjern markering forfall"") {
            var grid = $('#GravListe').data('kendoGrid');
            var selected = grid.select();
            var data = grid.dataItem(selected);
            GravGuid = data.Grav_GUID;

            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 3725 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("GravTilbud", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {GravGuid: GravGuid, TilbudFornying: 0},
                dataType: 'json'
                })
            .done(function (result) {
                if (result.Result == true) {
                    var notification = $(""#notification"").data(""kendoNotification"");
                    notification.show({ title: ""Gravarkiv"", message: ""Status forfall grav er fjernet"" }, ""success"");
                    $(""#GravListe"").data(""kendoGrid"").dataSource.read();
                    }
                })
            .fail(function (result) {
                alert('an Error has occurred, please try again');
                });
         }
         else if (e.item.textContent == ""Set markering forfall"") {
            var grid = $('#GravListe').data('kendoGrid');
            var selected = grid.select();
            var data = grid.dataItem(selected);
            GravGuid = data.Grav_GUID;

            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 3748 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("GravTilbud", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {GravGuid: GravGuid, TilbudFornying: 2},
                dataType: 'json'
                })
            .done(function (result) {
                if (result.Result == true) {
                    var notification = $(""#notification"").data(""kendoNotification"");
                    notification.show({ title: ""Gravarkiv"", message: ""Status forfall grav er satt"" }, ""success"");
                    $(""#GravListe"").data(""kendoGrid"").dataSource.read();
                    }
                })
            .fail(function (result) {
                alert('an Error has occurred, please try again');
                });
         }
     });  

</script>

<script id=""popupGravplass"">


    $(""#context-menu-gravplass"").kendoContextMenu({
        target: ""#Kirkegard""
    });

    var contextMenuGP = $(""#context-menu-gravplass"").data(""kendoContextMenu"");
    contextMenuGP.bind(""select"", function(e) {
        if (e.item.textContent == ""Rekke info"") {
            showDialogRekk");
            WriteLiteral(@"eInfo()
         }
     });  

</script>

<script id=""funksjoner"">

    $(""#context-menu"").kendoContextMenu({
        target: ""#GravHistorikkListe""
    });

    var contextMenu = $(""#context-menu"").data(""kendoContextMenu"");
    contextMenu.bind(""select"", function(e) {
        if (e.item.textContent == ""Tilbakefør fra historikk"") {
            var grid = $('#GravHistorikkListe').data('kendoGrid');
            var selected = grid.select();
            var data = grid.dataItem(selected);
            GravstedGuid = data.Gravlagt_GUID;

            $.ajax({
                type: ""POST"",
                url: '");
#nullable restore
#line 3799 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("TilbakeforGrav", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {GravstedGuid: GravstedGuid},
                dataType: 'json'
                })
            .done(function (result) {
                if (result.Result == true) {
                    var notification = $(""#notification"").data(""kendoNotification"");
                    notification.show({ title: ""Gravarkiv"", message: ""Graven er hentet tilbake"" }, ""success"");
                    $(""#GravListe"").data(""kendoGrid"").dataSource.read();
                    $(""#GravHistorikkListe"").data(""kendoGrid"").dataSource.read();
                    }
                })
            .fail(function (result) {
                alert('an Error has occurred, please try again');
                });
         }
         else if (e.item.textContent == ""Gravkort"") {
             showDialogGravkortHistorikk();
         }
     });    


    function onActionFlyttOK() {
        var gravlagt = document.getElementById(""flyttGuid"");
        var tilGravGuid = document.getElementById(""idTilGrav"").va");
            WriteLiteral(@"lue;
        var gridGravlagt = $(""#GravListeFlytt"").data(""kendoGrid"");
        var selected = [];
        var stell = false;
        var notat = false;
        var bilde = false;

        //get all selected rows (those which have the checkbox checked)
        gridGravlagt.select().each(function () {
            selected.push(gridGravlagt.dataItem(this));
        });

        var gravlagtGuid = gravlagt.value;
        for (var i = 0; i < selected.length; i++) {
            gravlagtGuid += "";"" + selected[i].Gravlagt_GUID;
        }

        var gridFaktura = $(""#fakturaListeFlytt"").data(""kendoGrid"");
        var selFaktura = [];

        //get all selected rows (those which have the checkbox checked)
        gridFaktura.select().each(function () {
            selFaktura.push(gridFaktura.dataItem(this));
        });

        var fakturaListe = """";
        for (var i = 0; i < selFaktura.length; i++) {
            if (fakturaListe.length == 0) {
                fakturaListe += selFaktu");
            WriteLiteral(@"ra[i].FaktNr + "":"" + selFaktura[i].KontoNr;
            }
            else {
                fakturaListe += "";"" + selFaktura[i].FaktNr + "":"" + selFaktura[i].KontoNr;
            }
        }

        var xST = document.getElementById(""Stell"");
        if (xST.checked == true) {stell = true;}

        var xNO = document.getElementById(""Notat"");
        if (xNO.checked == true) {notat = true;}

        var xBI = document.getElementById(""Bilde"");
        if (xBI.checked == true) {bilde = true;}

        $.ajax({
            type: ""GET"",
            url: '");
#nullable restore
#line 3869 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("FlyttGravlagt", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { gravlagtGuid: gravlagtGuid, fakturaListe: fakturaListe, tilGravGuid: tilGravGuid, stell: stell, notat: notat, bilde: bilde }
        }).done(function (result) {
            xM = document.getElementById(""markering"")
            xM.style.display = ""none"";

            var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
            grdGravarkiv.dataSource.read();
        });
    }

      
  function flyttGravSymbolsk() {
        var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
        
        var gravlagtGuid = document.getElementById(""flyttGuid"").value;
        var selectedF = grdGravarkiv.select();
        var selItemF = grdGravarkiv.dataItem(selectedF);

        if (selectedF.length > 0) {

            tilGravGuid = selItemF.Grav_GUID;
        
            $.ajax({
                type: ""GET"",
                url: '");
#nullable restore
#line 3894 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("FlyttGravlagtSymbolsk", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { gravlagtGuid: gravlagtGuid, tilGravGuid: tilGravGuid }
            }).done(function (result) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({title: ""Oppgave"", message: ""Den gravlagte er flyttet""}, ""success"");
                avbrytFlyttGrav();
                grdGravarkiv.dataSource.read();
            });
        }
    }

    function avbrytFlyttGrav() {
        var gravlagt = document.getElementById(""flyttGuid"");        
        gravlagt.value = """";
        
        xFG = document.getElementById(""flyttGravGuid"");
        xFG.value = """";

        xFN = document.getElementById(""flyttNavn"");
        xFN.value = """";

        xM = document.getElementById(""markering"")
        xM.style.display = ""none"";
    }

    function visLaasTyper() {
        $.ajax({
            url: '");
#nullable restore
#line 3921 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("getGravLaasListe", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            type: ""GET"",
            dataType: ""json""
        }).done(function (result) {

            var number = 3;
            var id = 0;
            var container = document.getElementById(""ddmenuLaas"");
            // Clear previous contents of the container
            while (container.hasChildNodes()) {
                container.removeChild(container.lastChild);
            }

            for (var i in result.Data) {
                iDivA = document.createElement(""li"");
                container.appendChild(iDivA);

                var iDiv = document.createElement('button');
                var name = result.Data[i].Tittel;
                iDiv.type = ""button"";
                iDiv.id = ""btn_"" + result.Data[i].LaasTypeGuid;
                iDiv.className = ""dropdown-item"";
                iDiv.style = ""width: 190px; margin-right: 10px;""
                iDiv.setAttribute(""onclick"", ""setLaas('"" + result.Data[i].LaasId + ""')"");
                if (result.Data[i].base64Image !");
            WriteLiteral(@"= """") {
                    iDiv.innerHTML = ""<img src='data:image/png;base64,"" + result.Data[i].base64Image + ""' width='24' height='24' style='margin-right: 10px;' />"" + name;
                }
                else {
                    iDiv.innerHTML = name;
                }

                iDivA.appendChild(iDiv);
            }
        });
    }

    function koblFaktura() {
        var grdGravarkiv = $(""#gravFesteGrid"").data(""kendoGrid"");
        
        var selectedF = grdGravarkiv.select();
        var selItemF = grdGravarkiv.dataItem(selectedF);

        if (selectedF.length > 0) {

            fakturaGuid = selItemF.fakturaGuid;
        
            $.ajax({
                type: ""GET"",
                url: '");
#nullable restore
#line 3969 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("kobleFaktura", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { fakturaGuid: fakturaGuid, kontaktGuid: kontaktGuid }
            }).done(function (result) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({title: ""FAKTURA"", message: ""Fakturaen er n å koblet til den nye festeren""}, ""success"");
            });
        }
    }

    function setLaas(e) {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravGuid = """";

        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;
        }

        $.ajax({
            type: ""GET"",
            url: '");
#nullable restore
#line 3990 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("SetGravLaas", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { GravGuid: gravGuid, laas: e },
        }).done(function (result) {
            var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
            grdGravarkiv.dataSource.read();
        });
    }

    function OpprettNyGrav() {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravGuid = """";

        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;

            kendo.prompt(""Vennligst angi nytt gravnummer"", """")
                .done(function (data) {

                    $.ajax({
                        type: ""GET"",
                        url: '");
#nullable restore
#line 4012 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("SetOpprettNyGrav", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { GravGuid: gravGuid, GravNo: data },
                    }).done(function (result) {
                        var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
                        grdGravarkiv.dataSource.read();
                    });
                })

        }


    }

    function markerGravlagt() {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);

        if (selectedF.length > 0) {
            xM = document.getElementById(""markering"")
            xM.style.display = ""block"";

            gravlagtGuid = selItemF.Gravlagt_GUID;
            gravGuid = selItemF.Grav_GUID;
            navn = selItemF.FulltNavn;

            xFG = document.getElementById(""flyttGuid"");
            xFG.value = gravlagtGuid;

            xFG = document.getElementById(""flyttGravGuid"");
            xFG.value = gravGuid;

            xFN = document.getElem");
            WriteLiteral(@"entById(""flyttNavn"");
            xFN.value = navn;
        }
    }

    function fjernGravFraGravsted() {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravGuid = """";
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;
            gravstedGuid = selItemF.Gravsted_GUID;

            $.ajax({
                type: ""GET"",
                url: '");
#nullable restore
#line 4062 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("FjernGravFraGravsted", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { GravstedGuid: gravstedGuid, GravGuid: gravGuid },
            }).done(function (result) {
                var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
                grdGravarkiv.dataSource.read();
            });

        }
    }

    function fjernGravFraGravstedOpprettNytt() {
        var listBoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravGuid = """";
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravGuid = selItemF.Grav_GUID;
            gravstedGuid = selItemF.Gravsted_GUID;

            $.ajax({
                type: ""GET"",
                url: '");
#nullable restore
#line 4085 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("FjernGravFraGravstedOpprettNytt", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { GravstedGuid: gravstedGuid, GravGuid: gravGuid },
            }).done(function (result) {
                var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
                grdGravarkiv.dataSource.read();
            });

        }
    }

    function endreKontakt(e) {
        Kontakt = e;
        var viewString = ""_Kontakt"";

        if (e == 'Fester') {
            x = document.getElementById(""Gravkort_KontaktGuid"")
        }
        else if (e == 'Faktura') {
            x = document.getElementById(""Gravkort_FakturaKontaktGuid"")
        }
        else if (e == 'Gravarkiv') {
            x = document.getElementById(""Kontakt_KontaktGuid"")
            viewString = ""_KontaktFull"";
        }

        $.ajax({
            url: '");
#nullable restore
#line 4111 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("GetKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { kontaktGuid: x.value, viewString: viewString },
            type: ""GET""
            }).done(function (result) {
                $(""#DialogKontakt"").html(result);

                var popup = $('#DialogKontakt').data(""kendoWindow"");
                popup.center().open();
            });

        //$.ajax({
        //    url: '");
#nullable restore
#line 4122 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
               Write(Url.Action("DialogKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        //    type: \'GET\'\r\n        //    }).done(function (result) {\r\n        //        $(\'#DialogKontakt\').html(result);\r\n        //        $.ajax({\r\n        //            url: \'");
#nullable restore
#line 4127 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                       Write(Url.Action("GetKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
        //            data: { kontaktGuid: x.value, viewString: viewString },
        //            type: ""GET""
        //            }).done(function (result) {
        //                $(""#DialogKontakt"").html(result);

        //                var popup = $('#DialogKontakt').data(""kendoWindow"");
        //                popup.center().open();
        //            });
        //    });
    }

    function visKontakt() {
        x = document.getElementById(""Kontakt_KontaktGuid"")

        $.ajax({
            url: '");
#nullable restore
#line 4143 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("DialogKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n            type: \'GET\'\r\n            }).done(function (result) {\r\n                $(\'#DialogKontaktFull\').html(result);\r\n                $.ajax({\r\n                    url: \'");
#nullable restore
#line 4148 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                     Write(Url.Action("GetKontakt", "Kontakt"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: { kontaktGuid: x.value, viewString: ""KontaktKort"" },
                    type: ""GET""
                    }).done(function (result) {
                        $(""#DialogKontaktFull"").html(result);

                        var grdGraver = $(""#KontaktGravListe"").data(""kendoGrid"");
                        grdGraver.dataSource.read();

                        var popup = $('#DialogKontaktFull').data(""kendoWindow"");
                        popup.center().open();
                    });
            });
    }

    function finnPerson() {
            if (canSearching == true) {
                var $this = $('#finnperson').serialize();
                canSearching = false;
                var listBoxF = $(""#kontaktGrid"").data(""kendoGrid"");

                $.ajax({
                    type: ""GET"",
                    url: '");
#nullable restore
#line 4171 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                     Write(Url.Action("CreateKontaktListe", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: $this,
                    dataType: 'json'
                }).done(function (result) {
                    canSearching = true;
                    if (result > 0) {
                        resultatId = result;
                        listBoxF.dataSource.read();
                    }
                }).always(function () {
                    canSearching = true;
                });
            }
    }

    function closeFinnPerson() {
        var grdKontakt = $(""#kontaktGrid"").data(""kendoGrid"");
        var selectedKontakt = grdKontakt.select();
        var selItemKontakt = grdKontakt.dataItem(selectedKontakt);
        var ressursGuid = """";

        if (selectedKontakt.length > 0) {
            kontaktGuid = selItemKontakt.KontaktGuid;

            $.ajax({
                url: '");
#nullable restore
#line 4196 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("KopiKontaktFraResultat", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { kontaktGuid: kontaktGuid},
                type: ""POST""
                }).done(function (result) {
                    kontaktGuid = result.NewGuid;

                    var listBoxF = $(""#GravListe"").data(""kendoGrid"");
                    var selectedF = listBoxF.select();
                    var selItemF = listBoxF.dataItem(selectedF);
                    var gravstedGuid = """";

                    if (selectedF.length > 0) {
                        gravstedGuid = selItemF.Gravsted_GUID;
                    }

                    $.ajax({
                        type: ""GET"",
                        url: '");
#nullable restore
#line 4213 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                         Write(Url.Action("SetFesterGravsted", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                        data: { gravstedGuid: gravstedGuid, kontaktGuid: kontaktGuid },
                    }).done(function (result) {
                        var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
                        grdGravarkiv.dataSource.read();
                    });

                    var PersonNr = document.getElementById(""Kontakt_PersonNr"");
                    var FulltNavn = document.getElementById(""Kontakt_FulltNavn"");
                    var Adresse = document.getElementById(""Kontakt_Adresse"");
                    var Postnr = document.getElementById(""Kontakt_PostNr"");
                    var Sted = document.getElementById(""Kontakt_Sted"");

                    PersonNr.value = selItemKontakt.PersonNr;
                    FulltNavn.value = selItemKontakt.Fulltnavn;
                    Adresse.value = selItemKontakt.Adresse;
                    Postnr.value = selItemKontakt.PostNr;
                    Sted.value = selItemKontakt.Sted;
                });
");
            WriteLiteral(@"
        };
    }

 

    function addSakspart() {
        var listBoxF = $(""#kontaktGrid"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        
        xMG = document.getElementById(""EngrafoDokument_mappeGuid"");

        if (selectedF.length > 0) {
            kontaktGuid = selItemF.KontaktGuid;

            $.ajax({
                url: '");
#nullable restore
#line 4249 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("AddFolderPart", "Engrafo"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: {mappeGuid: xMG.value, kontaktGuid: selItemF.KontaktGuid, rolle: rolle},
                type: ""POST""
                }).done(function (result) {
                    var grd = $(""#lvParter"").data(""kendoGrid"");
                    grd.dataSource.read();
                });
            };
        }


    function slettNotatGrav() {
        $(""#confirm"").kendoConfirm({
            title: ""Slett"",
            content: ""Ønsker du å slette dette notatet?"",
            messages: {
                okText: ""Ja"",
                cancel: ""Nei""
            }
        }).data(""kendoConfirm"").result.done(function () {
            $('body').append($('<div id=""confirm"">'));

            var grdGravNotat = $(""#gravNotatGrid"").data(""kendoGrid"");
            var selectedF = grdGravNotat.select();
            var selItemF = grdGravNotat.dataItem(selectedF);
            var GravnotatGuid = """";
            
            if (selectedF.length > 0) {
                GravnotatGuid = s");
            WriteLiteral("elItemF.GravnotatGuid;\r\n\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \'");
#nullable restore
#line 4281 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                     Write(Url.Action("removeGravNotat", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: { GravGuid: GravnotatGuid },
                }).done(function (result) {
                    grdGravNotat.dataSource.read();
                    var grdGrav = $(""#GravListe"").data(""kendoGrid"");
                    grdGrav.dataSource.read();
                });

                }
        });
    }

    function slettNotatGravlagt() {
        $(""#confirm"").kendoConfirm({
            title: ""Slett"",
            content: ""Ønsker du å slette dette notatet?"",
            messages: {
                okText: ""Ja"",
                cancel: ""Nei""
            }
        }).data(""kendoConfirm"").result.done(function () {
            $('body').append($('<div id=""confirm"">'));

            var grdGravNotat = $(""#gravlagtNotatGrid"").data(""kendoGrid"");
            var selectedF = grdGravNotat.select();
            var selItemF = grdGravNotat.dataItem(selectedF);
            var GravnotatGuid = """";
            
            if (selectedF.length > 0) {
                Gravn");
            WriteLiteral("otatGuid = selItemF.GravnotatGuid;\r\n\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \'");
#nullable restore
#line 4314 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                     Write(Url.Action("removeGravlagtNotat", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: { GravnotatGuid: GravnotatGuid },
                }).done(function (result) {
                    grdGravNotat.dataSource.read();
                    var grdGrav = $(""#GravListe"").data(""kendoGrid"");
                    grdGrav.dataSource.read();
                });

                }
        });
    }
</script>

<script type=""text/x-kendo-tmpl"" id=""document"">
    <div class=""sms"">
        <img src=""");
#nullable restore
#line 4329 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Content("~/images/social-telegram-filled.svg"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\"/>\r\n        <p>#:Name#</p>\r\n    </div>\r\n</script>\r\n\r\n<script id=\"lagre\">\r\n\r\n\r\n    function lagreGravNotat() {\r\n        var $this = $(\'#gravNotat\');\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \'");
#nullable restore
#line 4342 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreGravNotat", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Notatet er lagret"" }, ""success"");
                var grd = $(""#gravNotatGrid"").data(""kendoGrid"");
                grd.dataSource.read();
                var grdGrav = $(""#GravListe"").data(""kendoGrid"");
                grdGrav.dataSource.read();
            }
        });
     };

     function lagreGravlagtNotat() {
        var $this = $('#GravlagtNotat');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4362 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreGravlagtNotat", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Notatet er lagret"" }, ""success"");
                var grd = $(""#gravlagtNotatGrid"").data(""kendoGrid"");
                grd.dataSource.read();
                var grdGrav = $(""#GravListe"").data(""kendoGrid"");
                grdGrav.dataSource.read();
            }
        });
     };

    function lagreGravbegrens() {

        var $this = $('#gravbegrens');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4383 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreGravBegrens", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Graven er oppdatert"" }, ""success"");
                var popup = $('#dialogGravBegrens').data(""kendoWindow"");
                popup.close();
            }
        }).fail(function (result) {
            alert('an Error has occurred, please try again');
        });
     };

     function lagreGravminne() {

        var $this = $('#gravminne');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4404 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreGravminne", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result.Result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Gravminne er lagret"" }, ""success"");
                xGM = document.getElementById(""Gravminne_Gravminne_GUID"");
                xGM.value = result.NewGuid;
                cGMSB = document.getElementById(""GravminneSkrivbrev"");
                cGMSB.disabled = false;
                cGMAE = document.getElementById(""GravminneArkiverEpost"");
                cGMAE.disabled = false;
            }
            else {
                alert(result.ErrorText);
            }
        });
     };

      function lagreGravVern() {

        var $this = $('#gravVern');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4430 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreGravVern", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Vern av grav er lagret"" }, ""success"");
                var popup = $('#dialogGravVern').data(""kendoWindow"");
                popup.close();
            }
        });
     };

   function slettGravVern() {
       var xGSV = document.getElementById(""GravVern_GravstedVern_GUID"");
       gravstedVernGuid = xGSV.value;
        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4448 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("removeGravVern", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { GravstedVernGuid: gravstedVernGuid },
        }).done(function (result) {
            var popup = $('#dialogGravVern').data(""kendoWindow"");
            popup.close();
        }).fail(function (result) {
            alert('an Error has occurred, please try again');
        });
     };



    function lagreGravkort() {

        var $this = $('#gravkort');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4466 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("LagreGravkort", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result == true) {
                var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
                grdGravarkiv.dataSource.read();
                var popup = $('#dialogGravkort').data(""kendoWindow"");
                popup.close();
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Graven er oppdatert"" }, ""success"");
            }
        }).fail(function (result) {
            alert('an Error has occurred, please try again');
        });
     };

    function frigiGrav() {

        var $this = $('#gravFrigi');

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4489 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("FrigiGrav", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: $this.serialize(),
            dataType: 'json'
        }).done(function (result) {
            if (result.Result == true) {
                var notification = $(""#notification"").data(""kendoNotification"");
                notification.show({ title: ""Gravarkiv"", message: ""Graven er frigitt"" }, ""success"");
                var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
                grdGravarkiv.dataSource.read();
                var popup = $('#dialogGravFrigi').data(""kendoWindow"");
                popup.close();
            }
        }).fail(function (result) {
            alert('an Error has occurred, please try again');
        });
     };

</script>

<script type=""text/javascript"">




    $(document).ready(function () {
        var meny = document.getElementById(""hmGP"");
        meny.classList.add(""menyAktiv"");

        $.ajax({
            type: ""POST"",
            url: '");
#nullable restore
#line 4519 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("getViewData", "Funksjoner"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { data: ""ArkivType""}
        }).done(function (result) {            
            xAT = document.getElementById(""ArkivType"");
            xAT.value = result;
        });

        visLaasTyper();
        getStandardRutenettmal();
        });

    function onSermStedChange(e) {
            var selected = this.select();
            var data = this.dataItem(selected);

            var bestillingGuid = data.BestillingGuid;

            $.ajax({
                url: '");
#nullable restore
#line 4537 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
                 Write(Url.Action("GetBestilling", "Bestilling"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                data: { bestillingGuid: bestillingGuid },
                type: ""GET""
            }).done(function (result) {

            });
        }

    function onSorting(arg) {
        alert(arg.sort.field);
        }

</script>

<script id=""treeview"" type=""text/kendo-ui-template"">

    # if (!item.items && item.spriteCssClass) { #
    #: item.text #
    <span class='k-icon k-i-close kendo-icon'></span>
    # } else if(!item.items && !item.spriteCssClass) { #
    <span class=""k-sprite pdf""></span>
    #: item.text #
    <span class='k-icon k-i-close telerik-icon'></span>
    # } else if (item.items && item.spriteCssClass){ #
    #: item.text #
    # } else { #
    <span class=""k-sprite folder""></span>
    #: item.text #
    # } #

</script>

<script id=""trevisning"">

    function onClose() {
        $(""#showDialogBtn"").fadeIn();
        }

    function onOpen() {
        $(""#showDialogBtn"").fadeOut();
        }

    function onActionOK(e) {
        var list");
            WriteLiteral(@"BoxF = $(""#GravListe"").data(""kendoGrid"");
        var selectedF = listBoxF.select();
        var selItemF = listBoxF.dataItem(selectedF);
        var gravstedGuid = """";

        if (selectedF.length > 0) {
            gravstedGuid = selItemF.Gravsted_GUID;
        }

        var grid = $(""#grdGravstedGraver"").data(""kendoGrid"");
        var selected = [];

        //get all selected rows (those which have the checkbox checked)
        grid.select().each(function () {
            selected.push(grid.dataItem(this));
        });

        var nodes = """";
        for (var i = 0; i < selected.length; i++) {
            nodes += selected[i].GravGuid + "";"";
        }

        $.ajax({
            type: ""GET"",
            url: '");
#nullable restore
#line 4604 "C:\Visual Stuido 17\KipWeb5\Views\Gravarkiv\Index.cshtml"
             Write(Url.Action("OpprettGravsted", "Gravarkiv"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
            data: { GravstedGuid: gravstedGuid, GravGuid: nodes },
        }).done(function (result) {
            var grdGravarkiv = $(""#GravListe"").data(""kendoGrid"");
            grdGravarkiv.dataSource.read();
            });
        }

    
    function updatePeriode() {
        var grid = $(""#grdGraver"").data(""kendoGrid"");
        var xP = document.getElementById(""nyPeriodeTil"").value;

        if (xP != """") {
            $(""#grdGraver tbody tr"").each(function () {
                var currentRowData = grid.dataItem(this);
                //Read field contains data if this email is readed
                currentRowData.set(""PeriodeTil"", xP)
                currentRowData.set(""Periode"", currentRowData.PeriodeFra + ""-"" + currentRowData.PeriodeTil)
                });
            }
        }

</script>

<style>
    div.k-listbox {
        height: 530px;
        }
</style>

<script>

    $(""#GravListe"").on(""dblclick"", ""tr.k-selected"", function () {
        showDialogGravko");
            WriteLiteral(@"rt();
    });

    $(document).bind('keydown', function(e) {
        if(e.ctrlKey && (e.which == 70)) {
            e.preventDefault();
            finnGraver();
            }
        else if(e.ctrlKey && (e.which == 68)) {
            e.preventDefault();
            clearFinnGraver();
            }
        });

    $(window).on(""resize"", function(){
        $(""#GravListe"").data(""kendoGrid"").refresh();
        });

    $('#myTab a').click(function (e) {
        e.preventDefault();
        $(this).tab('show');
        });

    // store the currently selected tab in the hash value
    $(""ul.nav-tabs > li > a"").on(""shown.bs.tab"", function (e) {
        var id = $(e.target).attr(""href"").substr(1);
        window.location.hash = id;
        });

</script>");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public IViewLocalizer Localizer { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<KipWeb5.Models.Gravarkiv.GravarkivModel> Html { get; private set; } = default!;
        #nullable disable
    }
}
#pragma warning restore 1591

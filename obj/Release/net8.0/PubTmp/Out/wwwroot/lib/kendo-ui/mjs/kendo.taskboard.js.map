{"version":3,"file":"kendo.taskboard.js","names":["$","kendo","window","ui","Observable","encode","htmlEncode","extend","DOT","NS","CLICK","ACTION","preventDefault","ev","TaskBoardColumn","init","options","dataItem","that","this","_dataItem","sortableUniqueClass","sortableIdentifier","styles","sortableSuffix","_render","_attachEvents","states","isReorderable","_initSortable","fn","call","empty","container","addCard","cardHtml","append","edit","element","addClass","editColumn","_renderEditHeader","getDataItem","cards","children","template","data","headerText","ellipsis","getter","dataTextField","spacer","buttons","editTemplate","textbox","input","messages","newColumn","attr","actionButton","icon","spriteCssClass","text","command","html","renderButton","iconClass","fillMode","builtinButtons","name","rules","deleteColumn","defaultButtons","headerLabelId","guid","uid","css","width","header","cardsContainer","columnCards","appendTo","_renderHeader","_buildActionsHtml","setTimeout","find","trigger","actions","disabled","i","length","button","isPlainObject","Object","keys","_validateRules","tool","split","_actionClick","target","closest","value","_textboxBlur","on","bind","keyCode","ENTER","card","cardTitle","dirClass","isRtl","sortable","Sortable","ignore","ignoreDrag","connectWith","filter","hint","clone","dragHint","grabbingCursor","offsetWidth","height","offsetHeight","placeholder","dragPlaceholder","move","_move","start","_start","end","_end","change","_change","draggable","userEvents","unbind","_select","ignoreDragSelectors","event","is","columnElement","sender","parents","action","newIndex","oldIndex","destroy","off","TaskBoardNewColumn","taskboard","Column","NewColumn","jQuery","TaskBoardCard","resources","contentTemplate","hbox","title","link","selectable","dataTitleField","cardMenuButton","body","dataDescriptionField","cardMenuButtonTemplate","headerActions","flatButton","actionsIcon","categoryColor","moveCursor","cardMenu","_resources","borderDir","isDisabled","toggleClass","dataCategoryField","color","get","categoryBorder","isSelectable","key","resource","field","cardResources","multiple","dataSource","view","resourceIndex","cardResource","valuePrimitive","dataValueField","dataIndex","resourceColor","dataColorField","result","push","_buildTemplate","format","headerTemplate","bodyTemplate","Card","ContextMenu","TaskBoardCardMenu","_overrideTemplates","_extendItems","_onSelect","_onOpen","_focus","templates","sprite","defaultItems","editCard","deleteCard","events","concat","item","items","_append","_extendItem","isEmptyObject","args","CardMenu","TaskBoardCommand","Class","_confirm","content","okText","cancel","confirm","taskboardOptions","editable","confirmation","fakePromise","Deferred","resolve","kendoConfirm","buttonLayout","open","AddColumnCommand","exec","column","columns","each","index","enableByColumn","addColumn","EditColumnCommand","DeleteColumnCommand","columnDS","columnsDataSource","deleteColumnConfirm","done","cancelChanges","remove","sync","SaveColumnCommand","columnSettings","val","set","CancelEditColumnCommand","MoveFocusCommand","columnIndex","cardElement","currentColumnIndex","direction","Math","max","min","_getColumnByElement","eq","_moveFromCardFocus","focusCard","currentIndex","seekFocusableCard","_getFocusableCard","focus","lastIndex","focusable","TaskBoardBaseCardCommand","_updateOrder","nextCard","dataOrderField","currentCard","cardIndex","map","idx","prevCard","SelectCardCommand","SaveChangesCommand","taskBoardOptions","receivedStatus","dataStatusField","targetColumn","_getColumn","activeElm","document","activeElement","pane","form","validate","then","DeleteCardCommand","deleteCardConfirm","fail","MoveCardCommand","EditCardCommand","_openPane","AddCardCommand","OpenPaneCommand","ClosePaneCommand","_closePane","SearchCommand","filters","searchOptions","search","operator","fields","_buildFilters","logic","Command","commands","Form","TaskBoardPane","_commandClick","fieldFormat","close","buttonTemplate","themeColor","delete","saveChanges","create","buttonsContainer","footerActions","footerActionButtons","_renderContent","_buildButtonsHtml","_buildHeaderTemplate","primary","TaskBoardPreviewPane","previewPane","preview","TaskBoardEditPane","formSettings","label","buttonsTemplate","formLabelId","focusFirst","formData","TaskBoardCreatePane","columnStatusField","firstColumn","at","status","add","createNewCard","Pane","panes","Preview","Edit","Create","baseButton","primaryButton","Keyboard","register","registerShortcut","selector","shortcut","isNaN","toUpperCase","charCodeAt","ctrlKey","shiftKey","altKey","handler","_handler","shortcuts","_getAction","_trigger","_compareShortcut","_getShortcutModifier","navigator","platform","indexOf","metaKey","KeyboardManager","__meta__","id","category","description","depends","TaskBoardStyles","wrapper","toolbar","columnsContainer","selected","undefined$1","Widget","DataSource","isArray","Array","GENERIC","MOVE","MOVE_START","MOVE_END","SELECT","EXECUTE","CHANGE","ERROR","DATABINDING","DATABOUND","COLUMNSDATABINDING","COLUMNSDATABOUND","TaskBoard","_sortableIdentifier","_wrapper","_columnsDataSource","_initResources","_dataSource","_initToolbar","_initCardMenu","_initKeyboard","autoBind","load","notify","reorderable","previewCard","defaultTools","type","overflow","component","componentOptions","commandOn","_columns","merge","itemsByStatus","itemsByColumn","columnElm","fetchPromises","_progress","fetch","when","apply","read","cardElm","getByUid","columnDataItem","columnByStatus","select","toggle","removeClass","_extendExecArgs","saveCard","model","_buildStates","_createNewModel","insert","before","executeCommand","saveColumn","keyboardManager","enable","readOnly","readOnlyByColumn","setDataSource","setColumnsDataSource","_renderCards","after","outerWidth","parseInt","ESC","headerElm","contentElm","colsContainer","tools","toolbarElm","toolbarOptions","_processTools","parentMessages","ToolBar","_toolbarClick","isDefaultTool","forEach","t","temp","hidden","_isToolEnabled","toolName","found","isEditable","_isEditable","_isReorderable","_isSelectable","isReadOnly","isSearchable","_isSearchable","notLocalColumns","transport","LocalTransport","support","commandName","commandOptions","console","warn","cardDataItem","draggableEvent","elm","ns","sort","dir","schema","defaultValue","_columnsChangeHandler","_columnsErrorHandler","_columnsDataSourceChange","_error","statusField","_moveEnd","_moveStart","_changeOrder","_tabindex","_changeHandler","_errorHandler","_clearColumns","_renderCard","cardMenuOptions","showOn","alignToAnchor","_addResource","_resourceDataSource","resourceDS","progress","_registerShortcuts","DELETE","UP","DOWN","LEFT","RIGHT","plugin","kendo$1"],"sources":["kendo.taskboard.js"],"mappings":"MAAO,4BACA,+BACA,wBACA,yBACA,wBACA,0BACA,wBACA,wBACA,2BACA,sBAEP,SAAUA,GACN,IAAIC,EAAQC,OAAOD,MACfE,EAAKF,EAAME,GACXC,EAAaH,EAAMG,WACnBC,EAASJ,EAAMK,WACfC,EAASP,EAAEO,OAEXC,EAAM,IACNC,EAAKD,wBAELE,EAAQ,QAORC,EAAS,SA0Bb,SAASC,EAAeC,GAAMA,EAAGD,gBAAkB,CAEnD,IAAIE,EAAkBV,EAAWG,OAAO,CACpCQ,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAEXD,EAAKE,UAAYH,EACjBC,EAAKF,QAAUT,GAAO,EAAM,CAAC,EAAGS,GAEhCE,EAAKG,oBAAsBH,EAAKF,QAAQM,mBAAqBR,EAAgBS,OAAOC,eACpFN,EAAKO,UACLP,EAAKQ,gBAEDV,EAAQW,OAAOC,eACfV,EAAKW,gBAGTzB,EAAW0B,GAAGf,KAAKgB,KAAKb,EAC5B,EAEAc,MAAO,WACQb,KACNc,UAAUD,OACnB,EAEAE,QAAS,SAASC,GACHhB,KACNc,UAAUG,OAAOD,EAC1B,EAEAE,KAAM,WACF,IACId,EAAST,EAAgBS,OADlBJ,KAGNmB,QAAQC,SAAShB,EAAOiB,YAHlBrB,KAINsB,mBACT,EAEAC,YAAa,WACT,OAAOvB,KAAKC,SAChB,EAEAuB,MAAO,WAGH,OAFWxB,KAECc,UAAUW,UAC1B,EAEAC,SAAWC,GAAS,eAAezC,EAAOyC,EAAKvB,OAAOwB,eAAe1C,EAAOyC,EAAKvB,OAAOyB,cAAc/C,EAAMgD,OAAOH,EAAKI,cAAlBjD,CAAiC6C,wBAC7GzC,EAAOyC,EAAKvB,OAAO4B,mBAChCL,EAAKM,UAElBC,aAAeP,GAAS,eAAezC,EAAOyC,EAAKvB,OAAOwB,eAAe1C,EAAOyC,EAAKvB,OAAOyB,2BAC5D3C,EAAOyC,EAAKvB,OAAO+B,2BACdjD,EAAOyC,EAAKvB,OAAOgC,wBAAwBlD,EAAOJ,EAAMgD,OAAOH,EAAKI,cAAlBjD,CAAiC6C,GAAQA,EAAKU,SAAShB,WAAaM,EAAKU,SAASC,eAAepD,EAAOJ,EAAMyD,KAAK,0CAA0CrD,EAAOJ,EAAMgD,OAAOH,EAAKI,cAAlBjD,CAAiC6C,oCAG5PzC,EAAOyC,EAAKvB,OAAO4B,mBAChCL,EAAKM,UAExBO,aAAc,EAAGpC,SAAQqC,OAAMC,iBAAgBC,OAAMC,UAAS/C,aAClDf,EAAM+D,KAAKC,aAAa,kBAAkB5D,EAAOkB,EAAOoC,yBAAyBtD,EAAOyD,OAAUzD,EAAOJ,EAAMyD,KAAK,gBAAgBrD,EAAO0D,OAAa/C,EAAUX,EAAOJ,EAAMyD,KAAK,YAAc,IAAMrD,EAAOW,GAAW,eAAgB,CACtO4C,KAAMvD,EAAOuD,GACbM,UAAW,iBAAiB7D,EAAOwD,KACnCM,SAAU,SAG1BC,eAAgB,CACZ5B,WAAc,CAAE6B,KAAM,aAAcT,KAAM,SAAUE,KAAM,cAAeC,QAAS,oBAAqBO,MAAO,cAC9GpC,QAAW,CAAEmC,KAAM,UAAWT,KAAM,OAAQE,KAAM,WAAYC,QAAS,iBAAkBO,MAAO,cAChGC,aAAgB,CAAEF,KAAM,eAAgBT,KAAM,IAAKE,KAAM,gBAAiBC,QAAS,sBAAuBO,MAAO,eAGrHE,eAAgB,CAAE,aAAc,UAAW,gBAE3C/C,QAAS,WACL,IAAIP,EAAOC,KACPI,EAAST,EAAgBS,OACzBkD,EAAgBxE,EAAMyE,OACtBpC,EAAUtC,EAAE,eAAiBuB,EAAOe,QAAU,YACzCoB,KAAKzD,EAAMyD,KAAK,OAAQxC,EAAKE,UAAUuD,KACvCC,IAAI,CACDC,MAAO3D,EAAKF,QAAQ6D,QAEvBnB,KAAK,OAAQ,QAAQA,KAAK,kBAAmBe,GAClDK,EAAS9E,EAAE,eAAiBuB,EAAOuD,OAAS,YAC5CC,EAAiB/E,EAAE,eAAiBuB,EAAOwD,eAAiB,YAC5DC,EAAchF,EAAE,eAAiBuB,EAAOyD,YAAc,YAE1D9D,EAAK4D,OAASA,EAAOG,SAAS3C,GAASoB,KAAK,KAAMe,GAElDvD,EAAKgE,gBAELH,EAAeE,SAAS3C,GACxBpB,EAAKe,UAAY+C,EACIC,SAASF,GACTxC,SAASrB,EAAKG,qBAEnCH,EAAKoB,QAAUA,CACnB,EAEA4C,cAAe,WACX,IAAIhE,EAAOC,KACPI,EAAST,EAAgBS,OACzBP,EAAUE,EAAKF,QACf6B,EAAW7B,EAAQ6B,SAAW7B,EAAQ6B,SAAW3B,EAAK2B,SAE1D3B,EAAK4D,OAAO1C,OAAOnC,EAAM4C,SAASA,EAAf5C,CAAyBM,GAAO,EAAM,CAAC,EAAG,CACzDgB,OAAQA,EACR6B,QAASlC,EAAKiE,oBACdjC,cAAelC,EAAQkC,eACxBhC,EAAKE,YACZ,EAEAqB,kBAAmB,WACf,IAAIvB,EAAOC,KACPI,EAAST,EAAgBS,OACzBP,EAAUE,EAAKF,QACf6B,EAAW7B,EAAQqC,aAAerC,EAAQqC,aAAenC,EAAKmC,aAElEnC,EAAK4D,OAAOd,KAAK,IAEjB9C,EAAK4D,OAAO1C,OAAOnC,EAAM4C,SAASA,EAAf5C,CAAyBM,GAAO,EAAM,CAAC,EAAG,CACzDgB,OAAQA,EACRiC,SAAUxC,EAAQwC,SAClBJ,QAASlC,EAAKiE,oBACdjC,cAAelC,EAAQkC,eACxBhC,EAAKE,aAERgE,YAAW,WACPlE,EAAK4D,OAAOO,KAAK,SAASC,QAAQ,QACtC,GAAG,GAEHpE,EAAK4D,OAAOO,KAAK7E,EAAMe,EAAOgE,SAAShD,SAAShB,EAAOiE,SAC3D,EAEAL,kBAAmB,WAQf,IAPA,IAAIjE,EAAOC,KACPH,EAAUE,EAAKF,QACfwC,EAAWxC,EAAQwC,SACnBJ,EAAUpC,EAAQoC,SAAWlC,EAAKsD,eAClCjD,EAAST,EAAgBS,OACzByC,EAAO,eAAiBzC,EAAOgE,QAAU,KAEpCE,EAAI,EAAGA,EAAIrC,EAAQsC,OAAQD,IAAK,CACrC,IAAIE,EAASvC,EAAQqC,GAGC,iBAFtBE,EAAU3F,EAAE4F,cAAcD,IAA0C,IAA/BE,OAAOC,KAAKH,GAAQD,QAAgBC,EAAOtB,KAAQsB,EAAOtB,KAAOsB,GAGlGA,EAASpF,GAAO,EAAM,CAAC,EACnBW,EAAKkD,eAAeuB,IAAW,CAAE9B,eAAgB8B,EAAQ5B,QAAS4B,EAAS,WAC3E,CAAE7B,KAAMN,EAASmC,IAAWA,IAEzB3F,EAAE4F,cAAcD,IAAWA,EAAOtB,OACzCsB,EAASpF,GAAO,EAAMoF,EAClB,CAAE7B,KAAMN,EAASmC,EAAOtB,SAI3BnD,EAAK6E,eAAeJ,KAIzBA,EAAO9B,eAAiB8B,EAAO9B,gBAAkB,GAEjDG,GAAQ/D,EAAM4C,SAAS3B,EAAKyC,aAApB1D,CAAkCM,GAAO,EAAM,CAAC,EAAG,CACvDgB,OAAQA,EACRP,SAAS,GACV2E,IACP,CAIA,OAFA3B,GAAQ,QAGZ,EAEA+B,eAAgB,SAASC,GACrB,IACIrE,EADOR,KACOH,QAAQW,OACtB2C,EAAQ0B,EAAK1B,MAAQ0B,EAAK1B,MAAM2B,MAAM,KAAO,GAEjD,IAAK3B,EAAMoB,OACP,OAAO,EAGX,IAAK,IAAID,EAAI,EAAGA,EAAInB,EAAMoB,OAAQD,IAC9B,IAAK9D,EAAO2C,EAAMmB,IACd,OAAO,EAIf,OAAO,CACX,EAEAS,aAAc,SAASrF,GACnB,IACIsF,EAASnG,EAAEa,EAAGsF,QAAQC,QAAQ,IAAMnG,EAAMyD,KAAK,WAAa,KAC5DK,EAAUoC,EAAOzC,KAAKzD,EAAMyD,KAAK,YACjC1C,EAAUmF,EAAOzC,KAAKzD,EAAMyD,KAAK,YAErC1C,EAA8B,iBAAd,EAAyB,CAAEqF,MAAOrF,GAAYA,EAEzD+C,GAPM5C,KAWNmE,QAAQ3E,EAAQ,CACjBoD,QAASA,EACT/C,QAAST,EAAO,CAAE4F,OAAQA,GAAUnF,IAE5C,EAEAsF,aAAc,SAASzF,GACnB,IACIsF,EAASnG,EAAEa,EAAGsF,QAAQC,QAAQ,IAAMnG,EAAMyD,KAAK,WAAa,KAC5DK,EAAUoC,EAAOzC,KAAKzD,EAAMyD,KAAK,YACjC1C,EAAUmF,EAAOzC,KAAKzD,EAAMyD,KAAK,YAErC1C,EAA8B,iBAAd,EAAyB,CAAEqF,MAAOrF,GAAYA,EAEzD+C,GAPM5C,KAWNmE,QAAQ3E,EAAQ,CACjBoD,QAASA,EACT/C,QAAST,EAAO,CAAE4F,OAAQA,GAAUnF,IAE5C,EAEAU,cAAe,WACX,IAAIR,EAAOC,KAEXD,EAAK4D,OAAOyB,GAAG7F,EAAQD,EACnBD,EAAMM,EAAgBS,OAAOoC,aAC7BzC,EAAKgF,aAAaM,KAAKtF,IAE3BA,EAAK4D,OAAOyB,GA7QT,OA6QmB9F,EAClBD,EAAMM,EAAgBS,OAAOgC,MAC7BrC,EAAKoF,aAAaE,KAAKtF,IAE3BA,EAAK4D,OAAOyB,GAAG,QAAU9F,EACrBD,EAAMM,EAAgBS,OAAOgC,OAC7B,SAAS1C,GACDA,EAAG4F,UAAYxG,EAAM6F,KAAKY,OAC1BxF,EAAKoF,aAAazF,EAE1B,IAGAK,EAAKe,YACLf,EAAKe,UAAUsE,GAAG7F,EAAQD,EACtBD,EAAMM,EAAgBS,OAAOoF,KAAO,KAAO1G,EAAMyD,KAAK,WAAa,IACnExC,EAAKgF,aAAaM,KAAKtF,IAE3BA,EAAKe,UAAUsE,GAAG7F,EAAQD,EACtBD,EAAMM,EAAgBS,OAAOoF,KAAO,MAAQ7F,EAAgBS,OAAOqF,UACnEhG,GAGZ,EAEAiB,cAAe,WACX,IAAIX,EAAOC,KAEP0F,EADQ3F,EAAKF,QAAQW,OAAOmF,MACT,SAAW,GAC9B7E,EAAYf,EAAKe,UAEhBf,EAAKe,YAIVf,EAAK6F,SAAW,IAAI5G,EAAG6G,SAAS/E,EAAW,CACvCgF,OAAQzG,EAAMM,EAAgBS,OAAO2F,WAAa,KAClDC,YAAa3G,EAAMU,EAAKG,oBACxB+F,OAAQ5G,EAAMM,EAAgBS,OAAOoF,KACrCU,KAAM,SAAS/E,GACX,OAAOA,EAAQgF,QACV/E,SAASzB,EAAgBS,OAAOgG,SAAW,IAAMzG,EAAgBS,OAAOiG,eAAiBX,GACzFjC,IAAI,CACLC,MAAOvC,EAAQ,GAAGmF,YAClBC,OAAQpF,EAAQ,GAAGqF,cAE3B,EACAC,YAAa,SAAStF,GAClB,OAAOtC,EAAE,eACJuC,SAASzB,EAAgBS,OAAOsG,iBAChCjD,IAAI,CACD8C,OAAQpF,EAAQ,GAAGqF,cAE/B,EACAG,KAAM5G,EAAK6G,MAAMvB,KAAKtF,GACtB8G,MAAO9G,EAAK+G,OAAOzB,KAAKtF,GACxBgH,IAAKhH,EAAKiH,KAAK3B,KAAKtF,GACpBkH,OAAQlH,EAAKmH,QAAQ7B,KAAKtF,KAG9BA,EAAK6F,SAASuB,UAAUC,WAAWC,OAAO,UAC1CtH,EAAK6F,SAASuB,UAAUC,WAAW/B,KAAK,SAAUtF,EAAKuH,QAAQjC,KAAKtF,IACxE,EAEAuH,QAAS,SAAS5H,GAId,IAHA,IAAI6H,EAAsB5H,EAAgB4H,oBACtCvC,EAASnG,EAAEa,EAAG8H,MAAMxC,QAEfV,EAAI,EAAGA,EAAIiD,EAAoBhD,OAAQD,IAC5C,GAAIU,EAAOyC,GAAGF,EAAoBjD,IAAK,CACnC5E,EAAGD,iBACH,KACJ,CAER,EAEAmH,MAAO,SAASlH,GACZN,EAAOM,EAAI,CACPgI,cAAehI,EAAGiI,OAAOxG,QAAQyG,QAAQvI,EAAMM,EAAgBS,OAAOe,WAE1EnB,KAAKmE,QA3VF,OA2VgBzE,EACvB,EAEAoH,OAAQ,SAASpH,GACbN,EAAOM,EAAI,CACPgI,cAAehI,EAAGiI,OAAOxG,QAAQyG,QAAQvI,EAAMM,EAAgBS,OAAOe,WAE1EnB,KAAKmE,QAjWI,YAiWgBzE,EAC7B,EAEAsH,KAAM,SAAStH,GACXN,EAAOM,EAAI,CACPgI,cAAehI,EAAGiI,OAAOxG,QAAQyG,QAAQvI,EAAMM,EAAgBS,OAAOe,WAE1EnB,KAAKmE,QAvWE,UAuWgBzE,EAC3B,EAEAwH,QAAS,SAASxH,GAGdN,EAAOM,EAAI,CACPgI,cAAehI,EAAGiI,OAAOxG,QAAQyG,QAAQvI,EAAMM,EAAgBS,OAAOe,WAH/DnB,KAMNmE,QAhXA,SAgXgBzE,IAEF,YAAdA,EAAGmI,QAAwBnI,EAAGoI,UAAY,GAAqB,SAAdpI,EAAGmI,QAAqBnI,EAAGoI,WAAapI,EAAGqI,WARtF/H,KASFmE,QAAQ3E,EAAQ,CACjBoD,QAAS,kBACT/C,QAASH,GAGrB,EAEAsI,QAAS,WACL,IAAIjI,EAAOC,KAEXD,EAAK4D,OAAOsE,IAAI3I,GAChBS,EAAKe,UAAUmH,IAAI3I,GAEfS,EAAK6F,UACL7F,EAAK6F,SAASoC,SAEtB,IAGAE,EAAqBvI,EAAgBP,OAAO,CAC5CkB,QAAS,WACL,IAAIP,EAAOC,KACPI,EAAST,EAAgBS,OACzBe,EAAUtC,EAAE,eAAiBuB,EAAOe,QAAU,YAAYC,SAAShB,EAAOkC,WAAWC,KAAKzD,EAAMyD,KAAK,OAAQxC,EAAKE,UAAUuD,KAC5HG,EAAS9E,EAAE,eAAiBuB,EAAOuD,OAAS,YAEhD5D,EAAK4D,OAASA,EAAOG,SAAS3C,GAE9BpB,EAAKuB,oBAELvB,EAAKoB,QAAUA,CACnB,IAGJ/B,EAAON,EAAME,GAAI,CACbmJ,UAAW,CACPC,OAAQzI,EACR0I,UAAWH,KAInB9I,GAAO,EAAMN,EAAME,GAAGmJ,UAAUC,OAAQ,CACpChI,OA1ZwB,CACxBe,QAAS,qBACTwC,OAAQ,4BACR/B,WAAY,iCACZC,SAAU,kBACVG,OAAQ,WACRoC,QAAS,oCACTR,eAAgB,qCAChBC,YAAa,2BACbrB,aAAc,mCACdgD,KAAM,mBACNC,UAAW,eACXpF,eAAgB,iBAChB8B,QAAS,0DACTC,MAAO,gBACPE,UAAW,yBACXjB,WAAY,0BACZgD,SAAU,aACVqC,gBAAiB,+BACjBN,SAAU,wBACVL,WAAY,0BACZM,eAAgB,qBAsYhBkB,oBAAqB,CAAC,QAG7B,CAjbD,CAibGxI,OAAOD,MAAMwJ,QAEhB,SAAUzJ,GACN,IAAIC,EAAQC,OAAOD,MACfG,EAAaH,EAAMG,WACnBC,EAASJ,EAAMK,WACfC,EAASP,EAAEO,OAqBXmJ,EAAgBtJ,EAAWG,OAAO,CAClCQ,KAAM,SAASC,EAASC,EAAU0I,GAC9B,IAAIzI,EAAOC,KAEXD,EAAKE,UAAYH,EACjBC,EAAKyI,UAAYA,EAEjBzI,EAAKF,QAAUT,GAAO,EAAM,CAAC,EAAGS,GAEhCE,EAAKO,UAELrB,EAAW0B,GAAGf,KAAKgB,KAAKb,EAC5B,EAEA0I,gBAAkB9G,GAAS,eAAezC,EAAOyC,EAAKvB,OAAOuD,WAAWzE,EAAOyC,EAAKvB,OAAOsI,oBAC1ExJ,EAAOyC,EAAKvB,OAAOuI,UAAUzJ,EAAOyC,EAAKvB,OAAOwI,mBAAmBjH,EAAKkH,WAAa/J,EAAMyD,KAAK,WAAa,qBAAuB,MAAMrD,EAAOJ,EAAMgD,OAAOH,EAAKmH,eAAlBhK,CAAkC6C,uBAChLzC,EAAOyC,EAAKvB,OAAO4B,mBAChCL,EAAKoH,mCAEG7J,EAAOyC,EAAKvB,OAAO4I,aAAa9J,EAAOJ,EAAMgD,OAAOH,EAAKsH,qBAAlBnK,CAAwC6C,gBAE9FuH,uBAAwB,EAAG9I,YAAa,eAAelB,EAAOkB,EAAO+I,oDAAoDjK,EAAOkB,EAAOoE,WAAWtF,EAAOkB,EAAOgJ,eAAelK,EAAOkB,EAAO2I,oBACjKjK,EAAME,GAAGyD,KAAK,CAAEA,KAAMvD,EAAOkB,EAAOiJ,aAActG,UAAW,kBACjE,kBAExBzC,QAAS,WACL,IAQIgJ,EARAvJ,EAAOC,KACPH,EAAUE,EAAKF,QACfO,EAASmI,EAAcnI,OACvBsB,EAAW7B,EAAQ6B,UAAY3B,EAAK0I,gBACpCtH,EAAUtC,EAAE,eAAiBuB,EAAOe,QAAU,IAAMf,EAAOoF,KAAO,IAAMpF,EAAOmJ,WAAa,YAC5FL,EAAyBrJ,EAAQ2J,SAAWzJ,EAAKmJ,uBAAyB,GAC1EV,EAAYzI,EAAK0J,WAAW1J,EAAKE,WACjCyJ,EAAY7J,EAAQW,OAAOmF,MAAQ,mBAAqB,kBAG5DxE,EACKoB,KAAKzD,EAAMyD,KAAK,OAAQxC,EAAKE,UAAUuD,KACvCjB,KAAK,iBAAkB1C,EAAQW,OAAOmJ,YACtCpH,KAAK,OAAQ,YACbqH,YAAYxJ,EAAOiE,SAAUxE,EAAQW,OAAOmJ,aAEjDL,EAAiBd,EAAU3I,EAAQgK,oBAAsBrB,EAAU3I,EAAQgK,mBAAmBC,OAC1E/J,EAAKE,UAAU8J,IAAIlK,EAAQgK,qBAG3C1I,EAAQC,SAAShB,EAAO4J,gBAAgBvG,IAAIiG,EAAWJ,GAG3DnI,EAAQF,OAAOnC,EAAM4C,SAASA,EAAf5C,CAAyBM,GAAO,EAAM,CAAC,EAAG,CACrDgB,OAAQA,EACR2I,eAAgBjK,EAAM4C,SAASwH,EAAfpK,CAAuC,CAAEsB,OAAQA,IACjEyI,WAAYhJ,EAAQW,OAAOyJ,aAC3BzB,UAAWA,EACXM,eAAgBjJ,EAAQiJ,eACxBG,qBAAsBpJ,EAAQoJ,sBAC/BlJ,EAAKE,aAERF,EAAKoB,QAAUA,CACnB,EAEAsI,WAAY,SAASjE,GACjB,IAAIzF,EAAOC,KACPwI,EAAY,CAAC,EAEjB,IAAKzI,EAAKyI,UACN,OAAOA,EAGX,IAAK,IAAI0B,KAAOnK,EAAKyI,UAAW,CAC5B,IAAI2B,EAAWpK,EAAKyI,UAAU0B,GAC1BE,EAAQD,EAASC,MACjBC,EAAgBvL,EAAMgD,OAAOsI,EAAbtL,CAAoB0G,GAExC,GAAK6E,EAAL,CAIKF,EAASG,WACVD,EAAgB,CAACA,IAKrB,IAFA,IAAI1I,EAAOwI,EAASI,WAAWC,OAEtBC,EAAgB,EAAGA,EAAgBJ,EAAc9F,OAAQkG,IAAiB,CAC/E,IAAIC,EAAe,KAEfxF,EAAQmF,EAAcI,GAErBN,EAASQ,iBACVzF,EAAQpG,EAAMgD,OAAOqI,EAASS,eAAtB9L,CAAsCoG,IAGlD,IAAK,IAAI2F,EAAY,EAAGA,EAAYlJ,EAAK4C,OAAQsG,IAC7C,GAAIlJ,EAAKkJ,GAAWd,IAAII,EAASS,iBAAmB1F,EAAO,CACvDwF,EAAe/I,EAAKkJ,GACpB,KACJ,CAGJ,GAAqB,OAAjBH,EAAuB,CACvB,IAAII,EAAgBhM,EAAMgD,OAAOqI,EAASY,eAAtBjM,CAAsC4L,GACtDM,EAAS,CACTZ,MAAOD,EAASC,MAChBzB,MAAOwB,EAASxB,MAChBzF,KAAMiH,EAASjH,KACfP,KAAM7D,EAAMgD,OAAOqI,EAASpI,cAAtBjD,CAAqC4L,GAC3CxF,MAAOA,EACP4E,MAAOgB,GAGPX,EAASG,SACL9B,EAAU2B,EAASC,OACnB5B,EAAU2B,EAASC,OAAOa,KAAKD,GAE/BxC,EAAU2B,EAASC,OAAS,CAACY,GAGjCxC,EAAU2B,EAASC,OAASY,CAEpC,CACJ,CA7CA,CA8CJ,CACA,OAAOxC,CACX,EAEA0C,eAAgB,WACZ,IAAInL,EAAOC,KACPH,EAAUE,EAAKF,QAInB,OAHqBf,EAAMqM,OAAOpL,EAAKqL,eAAgBvL,EAAQiJ,gBAC5ChK,EAAMqM,OAAOpL,EAAKsL,aAAcxL,EAAQoJ,qBAG/D,IAGJ7J,EAAON,EAAME,GAAGmJ,UAAW,CACvBmD,KAAM/C,IAGVnJ,GAAO,EAAMN,EAAME,GAAGmJ,UAAUmD,KAAM,CAAElL,OA/Jd,CACtBe,QAAS,mBACTqE,KAAM,SACN7B,OAAQ,gBACR+E,KAAM,SACNC,MAAO,eACPC,KAAM,SACN5G,OAAQ,WACRwC,OAAQ,WACRuE,eAAgB,6CAChBK,WAAY,4DACZJ,KAAM,cACNK,YAAa,gBACbE,WAAY,gBACZS,eAAgB,4BAChBb,cAAe,wBACf9E,SAAU,eAiJjB,CAvKD,CAuKGtF,OAAOD,MAAMwJ,QAEhB,SAAUzJ,GACN,IAAIC,EAAQC,OAAOD,MACfM,EAASP,EAAEO,OAEXmM,GADWzM,EAAM4C,SACH5C,EAAME,GAAGuM,aACvBrM,EAASJ,EAAMK,WAEfK,EAAS,SAETgM,EAAoBD,EAAYnM,OAAO,CACvCQ,KAAM,SAASuB,EAAStB,GACpB,IAAIE,EAAOC,KAEXuL,EAAY5K,GAAGf,KAAKgB,KAAKb,EAAMoB,EAAStB,GAExCE,EAAK0L,qBACL1L,EAAK2L,eAEL3L,EAAKsF,KAAK,SAAUtF,EAAK4L,UAAUtG,KAAKtF,IACxCA,EAAKsF,KAAK,OAAQtF,EAAK6L,QAAQvG,KAAKtF,IACpCA,EAAKsF,KAAK,WAAYtF,EAAK8L,OAAOxG,KAAKtF,GAC3C,EAEA0L,mBAAoB,WAChBzL,KAAK8L,UAAUC,OAAS,EAAGtJ,OAAMC,oBAAqB,GAAID,GAAQC,EAAkB5D,EAAME,GAAGyD,KAAK,CAAEA,KAAMvD,EAAOuD,GAAQ,IAAKM,UAAW7D,EAAOwD,GAAkB,MAAS,IAC/K,EAEAsJ,aAAc,CACVC,SAAY,CAAE/I,KAAM,WAAYP,KAAM,YAAaF,KAAM,SAAUG,QAAS,kBAAmBO,MAAO,cACtG+I,WAAc,CAAEhJ,KAAM,aAAcP,KAAM,cAAeF,KAAM,QAASG,QAAS,oBAAqBO,MAAO,eAGjHgJ,OAAQZ,EAAY5K,GAAGwL,OAAOC,OAAO,CACjC5M,IAGJkM,aAAc,WACV,IAEIW,EAFAtM,EAAOC,KACPsM,EAAQvM,EAAKF,QAAQyM,MAGzB,GAAIA,GAASA,EAAM/H,OACf,IAAK,IAAID,EAAI,EAAGA,EAAIgI,EAAM/H,OAAQD,IAC9B+H,EAAOC,EAAMhI,GACGzF,EAAE4F,cAAc4H,IAAsC,IAA7B3H,OAAOC,KAAK0H,GAAM9H,QAAgB8H,EAAKnJ,OAG5EmJ,EAAOA,EAAKnJ,MAGZrE,EAAE4F,cAAc4H,GAChBtM,EAAKwM,QAAQF,GACNtM,EAAKiM,aAAaK,IACzBA,EAAOtM,EAAKiM,aAAaK,GACzBtM,EAAKwM,QAAQF,IACW,iBAAX,IACbA,EAAO,CAAEnJ,KAAMmJ,EAAM1J,KAAM0J,EAAM3J,eAAgB2J,EAAMzJ,QAASyJ,EAAO,WACvEtM,EAAKwM,QAAQF,SAIrB,IAAK,IAAInC,KAAOnK,EAAKiM,aACjBK,EAAOtM,EAAKiM,aAAa9B,GACzBnK,EAAKwM,QAAQF,EAGzB,EAEAE,QAAS,SAASF,GACd,IAAItM,EAAOC,KAEXD,EAAKyM,YAAYH,GAEbtM,EAAK6E,eAAeyH,IACpBtM,EAAKkB,OAAOoL,EAEpB,EAEAG,YAAa,SAASH,GAClB,IACIhK,EADOrC,KACSH,QAAQwC,SACxBE,EAAO,CAAC,EAEZA,EAAKzD,EAAMyD,KAAK,YAAc8J,EAAKzJ,QAE/ByJ,EAAKxM,UACL0C,EAAKzD,EAAMyD,KAAK,YAAc8J,EAAKxM,SAGvCT,EAAOiN,EAAM,CACT1J,KAAMN,EAASgK,EAAKnJ,MACpBT,KAAM4J,EAAK5J,MAAQ,GACnBC,eAAgB2J,EAAK3J,gBAAkB,GACvCH,KAAMA,EACNiB,IAAK1E,EAAMyE,QAEnB,EAEAqB,eAAgB,SAASC,GACrB,IACIrE,EADOR,KACOH,QAAQW,OACtB2C,EAAQ0B,EAAK1B,MAAQ0B,EAAK1B,MAAM2B,MAAM,KAAO,GAEjD,IAAK3B,EAAMoB,OACP,OAAO,EAGX,IAAK,IAAID,EAAI,EAAGA,EAAInB,EAAMoB,OAAQD,IAC9B,IAAK9D,EAAO2C,EAAMmB,IACd,OAAO,EAIf,OAAO,CACX,EAEAqH,UAAW,SAASjM,GAChB,IAAIkD,EAAU/D,EAAEa,EAAG2M,MAAM9J,KAAKzD,EAAMyD,KAAK,YACrC1C,EAAUhB,EAAEa,EAAG2M,MAAM9J,KAAKzD,EAAMyD,KAAK,YACrCyC,EAASnG,EAAEa,EAAGsF,QAElBnF,EAA8B,iBAAd,EAAyB,CAAEqF,MAAOrF,GAAYA,EAEzD+C,GAIL5C,KAAK6H,OAAO,CACRjF,QAASA,EACT/C,QAAST,EAAO,CAAE4F,OAAQA,GAAUnF,IAE5C,EAEA+L,QAAS,SAASlM,IACHA,EAAGiI,OACG9H,QAAQyM,OAEXzN,EAAE4N,cAAczM,KAAKgM,eAC/BtM,EAAGD,gBAEX,EAEAoM,OAAQ,SAASnM,GACTA,EAAGiI,QACHjI,EAAGiI,OAAOxG,QAAQgD,QAAQ,QAElC,EAEA0D,OAAQ,SAAS6E,GACb1M,KAAKmE,QAAQ3E,EAAQkN,EACzB,IAGJtN,EAAON,EAAME,GAAGmJ,UAAW,CACvBwE,SAAUnB,GAGb,CA7JL,CA6JOzM,OAAOD,MAAMwJ,QAEpB,SAAUzJ,GACF,IAAIC,EAAQC,OAAOD,MACfM,EAASP,EAAEO,OACXqF,EAAgB5F,EAAE4F,cAGlBmI,EAFQ9N,EAAM+N,MAEWzN,OAAO,CAChCQ,KAAM,SAASC,GACXG,KAAKH,QAAUA,EACfG,KAAKmI,UAAYtI,EAAQsI,SAC7B,EACA2E,SAAU,SAASnE,EAAOoE,EAASC,EAAQC,GACvC,IAGIC,EADAC,EAFOnN,KACUmI,UACYtI,QAGjC,GAAI4E,EAAc0I,EAAiBC,YAAwD,IAA3CD,EAAiBC,SAASC,aAAyB,CAC/F,IAAIC,EAAczO,EAAE0O,WAEpB,OADAD,EAAYE,UACLF,CACX,CAkBA,OAhBAJ,EAAUrO,EAAE,eAAe4O,aAAarO,EAAO,CAAC,EAAG,CAC/CuJ,MAAOA,EACPoE,QAASA,EACT1K,SAAU,CACN2K,OAAQA,EACRC,OAAQA,GAEZS,aAAc,YACd/L,KAAK,iBAEDgM,OAER1J,YAAW,WACPiJ,EAAQ/L,QAAQgD,QAAQ,QAC5B,IAEO+I,EAAQlC,MACnB,IAIA4C,EAAmBhB,EAAiBxN,OAAO,CAC3CyO,KAAM,WACF,IACI1F,EADOnI,KACUmI,UAEjBA,EAAUhE,QAAQ,aAAc,CAAE2J,OAAQ,SAI9C3F,EAAU4F,UAAUC,MAAK,SAASC,EAAOH,GACrC3F,EAAU+F,eAAeJ,GAAQ,EACrC,IACA3F,EAAUgG,YACd,IAGAC,EAAoBxB,EAAiBxN,OAAO,CAC5CyO,KAAM,WACF,IACIhO,EADOG,KACQH,QACfsI,EAFOnI,KAEUmI,UAEjBA,EAAUhE,QAAQ,aAAc,CAAE2J,OAAQjO,EAAQiO,WAItD3F,EAAU4F,UAAUC,MAAK,SAASC,EAAOH,GACrC3F,EAAU+F,eAAeJ,GAAQ,EACrC,IACA3F,EAAU9G,WAAWxB,EAAQ6H,eACjC,IAGA2G,EAAsBzB,EAAiBxN,OAAO,CAC9CyO,KAAM,WACF,IAAI9N,EAAOC,KACPH,EAAUE,EAAKF,QACfsI,EAAYpI,EAAKoI,UAEjB9F,EADmB8F,EAAUtI,QACDwC,SAC5BiM,EAAWnG,EAAUoG,kBAEZxO,EAAK+M,SAASzK,EAASe,aAAcf,EAASmM,oBAAqBnM,EAAiB,OAAGA,EAAS4K,QAEtGwB,MAAK,WACJtG,EAAUhE,QAAQ,eAAgB,CAAE2J,OAAQjO,EAAQiO,SACpD3F,EAAUoC,WAAWmE,iBAIzBJ,EAASK,OAAO9O,EAAQiO,QACxBQ,EAASM,OACb,GACJ,IAGAC,EAAoBjC,EAAiBxN,OAAO,CAC5CyO,KAAM,WACF,IACIhO,EADOG,KACQH,QACfsI,EAFOnI,KAEUmI,UACjB2G,EAAiB3G,EAAUtI,QAAQiP,eACnCR,EAAWnG,EAAUoG,kBACrBT,EAASjO,EAAQiO,OACjBnL,EAAO9C,EAAQmF,OAAO+J,MAEtB5G,EAAUhE,QAAQ,aAAc,CAAE2J,OAAQjO,EAAQiO,SAClD3F,EAAUoC,WAAWmE,iBAIzBZ,EAAOkB,IAAIF,EAAe/M,cAAeY,GACzC2L,EAASM,OACb,IAGAK,EAA0BrC,EAAiBxN,OAAO,CAClDyO,KAAM,WACS7N,KACUmI,UACIoG,kBAEhBG,eACb,IAIAQ,EAAmBtC,EAAiBxN,OAAO,CAC3CyO,KAAM,WACF,IAQIsB,EAAarB,EARb/N,EAAOC,KACPmI,EAAYpI,EAAKoI,UACjBtI,EAAUE,EAAKF,QACfuP,EAAcvP,EAAQuP,YACtB1H,EAAgB7H,EAAQ6H,cACxBqG,EAAU5F,EAAU4F,UACpBsB,EAAqB3H,EAAcuG,QACnCqB,EAAYzP,EAAQqF,MAGxB,OAAQoK,GACJ,IAAK,OACDH,EAAcI,KAAKC,IAAI,EAAGH,EAAqB,GAC/C,MACJ,IAAK,QACDF,EAAcI,KAAKE,IAAI1B,EAAQxJ,OAAS,EAAG8K,EAAqB,GAChE,MACJ,QACIF,EAAcE,EAItBtP,EAAKgO,QAAUA,EACfhO,EAAKoP,YAAcA,EACnBpP,EAAK+N,OAASA,EAAS3F,EAAUuH,oBAAoB3B,EAAQ4B,GAAGR,IAChEpP,EAAKyB,MAAQsM,EAAOtM,QAEhB4N,EACArP,EAAK6P,mBAAmBN,EAAWF,GAC5B1H,GAA+B,SAAd4H,EACxBvP,EAAKyB,MAAMmO,GAAG,GAAGxL,QAAQ,SAEzB4J,EAAQ4B,GAAGR,GAAahL,QAAQ,QAExC,EACAyL,mBAAoB,SAASN,EAAWF,GACpC,IAEIS,EAAW5B,EAFXlO,EAAOC,KACP8P,EAAeV,EAAYnB,QACT8B,GAAoB,EAE1C,OAAQT,GACJ,IAAK,KACDrB,EAAQ6B,EAAe,EACvB,MACJ,IAAK,OACD7B,EAAQ6B,EAAe,EACvB,MACJ,QACIC,GAAoB,EACpB9B,EAAQ6B,IAIhBD,EAAY9P,EAAKyB,MAAMmO,GAAG1B,IAEX1J,QAAUwL,IACrBF,EAAY9P,EAAKiQ,kBAAkB/B,EAAOqB,IAG1CrB,GAAS,EACT4B,EAAU1L,QAAQ,SAElBpE,EAAKF,QAAQ6H,cAAcuI,OAEnC,EACAD,kBAAmB,SAAS/B,EAAOqB,GAC/B,IAAIvP,EAAOC,KACPkQ,EAAYnQ,EAAKyB,MAAM+C,OAAS,EAChC4L,EAAYpQ,EAAKyB,MAAMmO,GAAGJ,KAAKE,IAAIxB,EAAOiC,IAE9C,GAAIC,EAAU5L,OACV,OAAO4L,EAGX,KAAIpQ,EAAKoP,aAAe,GAAKpP,EAAKoP,aAAepP,EAAKgO,QAAQxJ,OAAS,GAAvE,CAIA,OAAQ+K,GACJ,IAAK,OACDvP,EAAKoP,YAAcI,KAAKC,IAAI,EAAGzP,EAAKoP,YAAc,GAClD,MACJ,IAAK,QACDpP,EAAKoP,YAAcI,KAAKE,IAAI1P,EAAKgO,QAAQxJ,OAAS,EAAGxE,EAAKoP,YAAc,GAOhF,OAHApP,EAAK+N,OAAS/N,EAAKoI,UAAUuH,oBAAoB3P,EAAKgO,QAAQ4B,GAAG5P,EAAKoP,cACtEpP,EAAKyB,MAAQzB,EAAK+N,OAAOtM,QAElBzB,EAAKiQ,kBAAkB/B,EAAOqB,EAdrC,CAgBJ,IAIAc,EAA2BxD,EAAiBxN,OAAO,CACnDiR,aAAc,SAASvC,EAAQgC,GAC3B,IAYIQ,EAXAnI,EADOnI,KACUmI,UAEjBoI,EADmBpI,EAAUtI,QACK0Q,eAClC1Q,EAJOG,KAIQH,QACf2Q,EAAc3Q,EAAQ2F,KACtBiL,EAAY5Q,EAAQuP,YAAcvP,EAAQuP,YAAYnB,QAAUH,EAAOtM,QAAQ+C,OAC/EuD,EAAWgI,EACXtO,EAAQsM,EAAOtM,QAAQkP,KAAI,SAASC,EAAKnL,GACrC,OAAO2C,EAAUrI,SAAS0F,EAC9B,IACAoL,EAAWpP,EAAMiP,EAAY,GAG7BD,EAAYxB,IAAIuB,EAAgBzI,GAE5B8I,GAAYA,EAAS7G,IAAIwG,IAAmBC,EAAYzG,IAAIwG,IAC5DC,EAAYxB,IAAIuB,EAAgBK,EAAS7G,IAAIwG,GAAkB,GAGnE,IAAK,IAAIjM,EAAIwD,EAAW,EAAGxD,EAAI9C,EAAM+C,SACjC+L,EAAW9O,EAAM8C,IAEJyF,IAAIwG,IAAmBC,EAAYzG,IAAIwG,GAHXjM,IAIrCgM,EAAStB,IAAIuB,EAAgBC,EAAYzG,IAAIwG,GAAkB,GAC/DC,EAAcF,CAK9B,IAGAO,EAAoBjE,EAAiBxN,OAAO,CAC5CyO,KAAM,WACF,IACI1F,EADOnI,KACUmI,UAEjBiH,EAHOpP,KAEQH,QACOuP,YAE1BjH,EAAUb,QAAQ8H,GAAa,GAC/BA,EAAYa,OAChB,IAGAa,EAAqBV,EAAyBhR,OAAO,CACrDyO,KAAM,WACF,IAAI9N,EAAOC,KACPmI,EAAYpI,EAAKoI,UACjB4I,EAAmB5I,EAAUtI,QAC7BA,EAAUE,EAAKF,QACfmR,EAAiBnR,EAAQ2F,KAAKuE,IAAIgH,EAAiBE,iBACnDC,EAAe/I,EAAUgJ,WAAWH,GACpCI,EAAYvS,EAAEwS,SAASC,eAEvBF,EAAU7M,QACV6M,EAAUjN,QAAQ,UAGlBgE,EAAUoJ,MAAQpJ,EAAUoJ,KAAKC,OAASrJ,EAAUoJ,KAAKC,KAAKC,aAI9DtJ,EAAUhE,QAAQ,WAAY,CAAEqB,KAAM3F,EAAQ2F,OAC9C2C,EAAUoC,WAAWmE,iBAIrBwC,GAAgBH,EAAiBR,gBACjCxQ,EAAKsQ,aAAaa,EAAcrR,EAAQ2F,KAAKuE,IAAIgH,EAAiBR,iBAGtEpI,EAAUoC,WAAWqE,OAAO8C,MAAK,WAC7BvJ,EAAU4F,UAAU4B,GAAG,GAAGxL,QAAQ,QACtC,KACJ,IAGAwN,EAAoB/E,EAAiBxN,OAAO,CAC5CyO,KAAM,WACF,IAAI9N,EAAOC,KACPmI,EAAYpI,EAAKoI,UACjB9F,EAAW8F,EAAUtI,QAAQwC,SAC7BxC,EAAUE,EAAKF,QAENE,EAAK+M,SAASzK,EAAS6J,WAAY7J,EAASuP,kBAAmBvP,EAAiB,OAAGA,EAAS4K,QAGpGwB,MAAK,WACEtG,EAAUhE,QAAQ,aAAc,CAAEqB,KAAM3F,EAAQ2F,OAChD2C,EAAUoC,WAAWmE,iBAIzBvG,EAAUoC,WAAWoE,OAAO9O,EAAQ2F,MACpC2C,EAAUoC,WAAWqE,OAAO8C,MAAK,WAC7BvJ,EAAU4F,UAAU4B,GAAG,GAAGxL,QAAQ,QACtC,IACJ,IACC0N,MAAK,WACFhS,EAAQuP,YAAYjL,QAAQ,QAChC,GACR,IAGA2N,EAAkB1B,EAAyBhR,OAAO,CAClDyO,KAAM,WACF,IAAI9N,EAAOC,KACPmI,EAAYpI,EAAKoI,UACjB4I,EAAmB5I,EAAUtI,QAC7BiP,EAAiBiC,EAAiBjC,eAClCjP,EAAUE,EAAKF,QACfmR,EAAiBnR,EAAQiO,OAAO/D,IAAI+E,EAAemC,iBAEvDpR,EAAQ2F,KAAKwJ,IAAI+B,EAAiBE,gBAAiBD,GAE/CD,EAAiBR,gBACjBxQ,EAAKsQ,aAAalI,EAAUgJ,WAAWH,GAAiBnR,EAAQiI,UAGpEK,EAAUoC,WAAWqE,MACzB,IAGAmD,EAAkBnF,EAAiBxN,OAAO,CAC1CyO,KAAM,WACF,IACI1F,EADOnI,KACUmI,UACjBtI,EAFOG,KAEQH,QAEfsI,EAAUhE,QAAQ,WAAY,CAAEqB,KAAM3F,EAAQ2F,QAIlD2C,EAAU6J,UAAU5S,EAAO,CACvBmS,KAAM,QACP1R,GACP,IAGAoS,EAAiBrF,EAAiBxN,OAAO,CACzCyO,KAAM,WACF,IACI1F,EADOnI,KACUmI,UACjBtI,EAFOG,KAEQH,QAEfsI,EAAUhE,QAAQ,WAAY,CAAEqB,KAAM,SAG1C2C,EAAUoC,WAAWmE,gBACrBvG,EAAU6J,UAAU5S,EAAO,CACvBmS,KAAM,UACP1R,IACP,IAIAqS,EAAkBtF,EAAiBxN,OAAO,CAC1CyO,KAAM,WACF,IACIhO,EADOG,KACQH,QADRG,KAEUmI,UAEX6J,UAAU,CAChBT,KAAM1R,EAAQqF,MACdM,KAAM3F,EAAQ2F,KACd4J,YAAavP,EAAQuP,YACrBtB,OAAQjO,EAAQiO,OAChBpG,cAAe7H,EAAQ6H,eAE/B,IAGAyK,EAAmBvF,EAAiBxN,OAAO,CAC3CyO,KAAM,WACF,IACI1F,EADOnI,KACUmI,UAErBA,EAAUiK,aACVjK,EAAUoC,WAAWmE,eACzB,IAKA2D,EAAgBzF,EAAiBxN,OAAO,CACxCyO,KAAM,WACF,IAOIyE,EAPAvS,EAAOC,KACPkF,EAAQnF,EAAKF,QAAQqF,MACrBiD,EAAYpI,EAAKoI,UACjBgF,EAAmBhF,EAAUtI,QAC7B0S,EAAgBpF,EAAiBqF,OACjCC,EAAWF,EAAcE,SACzBC,EAAUH,GAAiBA,EAAcG,QAAW,CAAEvF,EAAiBrE,eAAgBqE,EAAiBlE,sBAG5GqJ,EAAUvS,EAAK4S,cAAcD,EAAQD,EAAUvN,GAE/CiD,EAAUoC,WAAWtE,OAAOqM,EAChC,EACAK,cAAe,SAASD,EAAQD,EAAUvN,GAKtC,MAAO,CAAE0N,MAAO,KAAMN,QAJRI,EAAOhC,KAAI,SAAStG,GAC9B,MAAO,CAAEA,MAAOA,EAAOqI,SAAUA,EAAUvN,MAAOA,EACtD,IAGJ,IAGJ9F,EAAON,EAAME,GAAGmJ,UAAW,CACvB0K,QAASjG,EACTkG,SAAU,CACNlF,iBAAkBA,EAClBQ,kBAAmBA,EACnBC,oBAAqBA,EACrBQ,kBAAmBA,EACnBI,wBAAyBA,EACzBiD,gBAAiBA,EACjBC,iBAAkBA,EAClBtB,kBAAmBA,EACnB3B,iBAAkBA,EAClB4B,mBAAoBA,EACpBa,kBAAmBA,EACnBG,gBAAiBA,EACjBC,gBAAiBA,EACjBE,eAAgBA,EAChBI,cAAeA,IAI1B,CA7cL,CA6cOtT,OAAOD,MAAMwJ,QAEpB,SAAUzJ,GACN,IAAIC,EAAQC,OAAOD,MACfM,EAASP,EAAEO,OACXH,EAAaH,EAAMG,WACnBC,EAASJ,EAAMK,WAEf4T,EAAOjU,EAAME,GAAG+T,KAGhBzT,EAAKD,sBAoBL2T,EAAgB/T,EAAWG,OAAO,CAClCQ,KAAM,SAASuI,EAAWtI,EAASC,EAAU0I,GACzC,IAAIzI,EAAOC,KAEXD,EAAKoI,UAAYA,EACjBpI,EAAKE,UAAYH,EACjBC,EAAKyI,UAAYA,EACjBzI,EAAKF,QAAUT,GAAO,EAAM,CAAC,EAAGS,GAEhCE,EAAKO,UAELP,EAAKoB,QAAQiE,GA5BT,QA4BoB9F,EACpB,IAAMR,EAAMyD,KAAK,WAAa,IAC9BxC,EAAKkT,cAAc5N,KAAKtF,IAE5Bd,EAAW0B,GAAGf,KAAKgB,KAAKb,EAC5B,EACAqL,eAAgB,EAAGhL,SAAQiC,WAAU6Q,iBAAkB,eAAehU,EAAOkB,EAAOwB,gBAAgBsR,uBACpEhU,EAAOkB,EAAO4B,+BACf9C,EAAOkB,EAAO+I,mBACzBrK,EAAM+D,KAAKC,aAAa,kBAAkB5D,EAAOmD,EAAS8Q,WAAWjU,EAAOJ,EAAMyD,KAAK,2CAA4C,CAC/HE,KAAM,IACNM,UAAW,gBACXC,SAAU,SAElB,SAChBoQ,eAAgB,EAAGhT,SAAQqC,OAAMC,iBAAgBC,OAAMK,WAAUqQ,aAAYzQ,UAAS/C,aAClFf,EAAM+D,KAAKC,aAAa,kBAAkB5D,EAAOyD,OAAUzD,EAAOJ,EAAMyD,KAAK,gBAAgBrD,EAAO0D,OAAa1D,EAAOJ,EAAMyD,KAAK,gBAAgBrD,EAAOW,OACnJX,EAAOyD,cACD,CACTF,KAAMvD,EAAOuD,GACbM,UAAW,iBAAiB7D,EAAOwD,KACnCM,SAAUA,EACVqQ,WAAYA,IAEpB5K,gBAAiB,IAAM,GACvBxF,eAAgB,CACZ/B,KAAQ,CAAEgC,KAAM,OAAQT,KAAM,SAAUE,KAAM,OAAQ0Q,WAAY,UAAWzQ,QAAS,kBAAmBO,MAAO,cAChHmQ,OAAU,CAAEpQ,KAAM,SAAUT,KAAM,QAASE,KAAM,SAAUC,QAAS,oBAAqBO,MAAO,aAAcH,SAAU,OAAQqQ,WAAY,WAC5IpG,OAAU,CAAE/J,KAAM,SAAUT,KAAM,iBAAkBE,KAAM,SAAUC,QAAS,oBAC7E2Q,YAAe,CAAErQ,KAAM,cAAeT,KAAM,OAAQE,KAAM,OAAQC,QAAS,qBAAsByQ,WAAY,UAAWlQ,MAAO,cAC/HqQ,OAAU,CAAEtQ,KAAM,SAAUT,KAAM,OAAQE,KAAM,SAAUC,QAAS,qBAAsByQ,WAAY,UAAWlQ,MAAO,eAE3HE,eAAgB,GAChB/C,QAAS,WACL,IAAIP,EAAOC,KACPI,EAAS4S,EAAc5S,OACvBe,EAAUtC,EAAE,eAAiBuB,EAAOe,QAAU,YAC9CwC,EAAS9E,EAAE,eAAiBuB,EAAOuD,OAAS,YAC5CoJ,EAAUlO,EAAE,eAAiBuB,EAAO2M,QAAU,YAC9C0G,EAAmB5U,EAAE,eAAiBuB,EAAOsT,cAAgB,IAAMtT,EAAOuT,oBAAsB,YAEpG5T,EAAK4D,OAASA,EAAOG,SAAS3C,GAC9BpB,EAAKgE,gBACLhE,EAAKgN,QAAUA,EAAQjJ,SAAS3C,GAChCpB,EAAK6T,iBACL7T,EAAK0T,iBAAmBA,EAAiB3P,SAAS3C,GAClDpB,EAAK0T,iBAAiBxS,OAAOlB,EAAK8T,qBAClC9T,EAAKoB,QAAUA,CACnB,EACA4C,cAAe,WACX,IAAIhE,EAAOC,KACPI,EAAS4S,EAAc5S,OACvBP,EAAUE,EAAKF,QACfwC,EAAWxC,EAAQwC,SACnB+I,EAAiBvL,EAAQuL,eAAiBvL,EAAQuL,eAAiBrL,EAAKqL,eACxE5C,EAAYzI,EAAK0J,WAAW1J,EAAKE,WAErCF,EAAK4D,OAAO1C,OAAOnC,EAAM4C,SAAS0J,EAAftM,CAA+BM,GAAO,EAAM,CAAC,EAAG,CAC/DgB,OAAQA,EACRiC,SAAUA,EACVmG,UAAWA,EACX0K,YAAanT,EAAK+T,qBAAqB/T,EAAKE,YAC7CF,EAAKE,YACZ,EACA6T,qBAAsB,SAAShU,GAE3B,OAAOZ,EAAOJ,EAAMgD,OADT9B,KACqBH,QAAQiJ,eAA1BhK,CAA0CgB,GAC5D,EACA8T,eAAgB,WACZ,IAAI7T,EAAOC,KACPI,EAAS4S,EAAc5S,OACvBP,EAAUE,EAAKF,QACfwC,EAAWxC,EAAQwC,SACnBoG,EAAkB5I,EAAQ6B,UAAY3B,EAAK0I,gBAC3CD,EAAYzI,EAAK0J,WAAW1J,EAAKE,WAErCF,EAAKgN,QAAQ9L,OAAOnC,EAAM4C,SAAS+G,EAAf3J,CAAgCM,GAAO,EAAM,CAAC,EAAG,CACjEgB,OAAQA,EACRiC,SAAUA,EACVmG,UAAWA,GACZzI,EAAKE,YACZ,EACAwJ,WAAY,SAASjE,GACjB,IAAIzF,EAAOC,KACPwI,EAAY,CAAC,EAEjB,IAAKzI,EAAKyI,UACN,OAAOA,EAGX,IAAK,IAAI0B,KAAOnK,EAAKyI,UAAW,CAC5B,IAAI2B,EAAWpK,EAAKyI,UAAU0B,GAC1BE,EAAQD,EAASC,MACjBC,EAAgBvL,EAAMgD,OAAOsI,EAAbtL,CAAoB0G,GAExC,GAAK6E,EAAL,CAIKF,EAASG,WACVD,EAAgB,CAACA,IAKrB,IAFA,IAAI1I,EAAOwI,EAASI,WAAWC,OAEtBC,EAAgB,EAAGA,EAAgBJ,EAAc9F,OAAQkG,IAAiB,CAC/E,IAAIC,EAAe,KAEfxF,EAAQmF,EAAcI,GAErBN,EAASQ,iBACVzF,EAAQpG,EAAMgD,OAAOqI,EAASS,eAAtB9L,CAAsCoG,IAGlD,IAAK,IAAI2F,EAAY,EAAGA,EAAYlJ,EAAK4C,OAAQsG,IAC7C,GAAIlJ,EAAKkJ,GAAWd,IAAII,EAASS,iBAAmB1F,EAAO,CACvDwF,EAAe/I,EAAKkJ,GACpB,KACJ,CAGJ,GAAqB,OAAjBH,EAAuB,CACvB,IAAII,EAAgBhM,EAAMgD,OAAOqI,EAASY,eAAtBjM,CAAsC4L,GACtDM,EAAS,CACTZ,MAAOD,EAASC,MAChBzB,MAAOwB,EAASxB,MAChBzF,KAAMiH,EAASjH,KACfP,KAAM7D,EAAMgD,OAAOqI,EAASpI,cAAtBjD,CAAqC4L,GAC3CxF,MAAOA,EACP4E,MAAOgB,GAGPX,EAASG,SACL9B,EAAU2B,EAASC,OACnB5B,EAAU2B,EAASC,OAAOa,KAAKD,GAE/BxC,EAAU2B,EAASC,OAAS,CAACY,GAGjCxC,EAAU2B,EAASC,OAASY,CAEpC,CACJ,CA7CA,CA8CJ,CACA,OAAOxC,CACX,EACAqL,kBAAmB,WAQf,IAPA,IAAI9T,EAAOC,KACPH,EAAUE,EAAKF,QACfwC,EAAWxC,EAAQwC,SACnBJ,EAAUpC,EAAQoC,SAAWlC,EAAKsD,eAClCjD,EAAS4S,EAAc5S,OACvByC,EAAO,GAEFyB,EAAI,EAAGA,EAAIrC,EAAQsC,OAAQD,IAAK,CACrC,IAAIE,EAASvC,EAAQqC,GAGrB,GAAsB,iBAFtBE,EAAU3F,EAAE4F,cAAcD,IAA0C,IAA/BE,OAAOC,KAAKH,GAAQD,QAAgBC,EAAOtB,KAAQsB,EAAOtB,KAAOsB,GAEtE,CAC5B,GAAe,WAAXA,EAAqB,CACrB3B,GAAQ,iCACR,QACJ,CAEA2B,EAASpF,GAAO,EAAM,CAAC,EACnBW,EAAKkD,eAAeuB,IAAW,CAAE9B,eAAgB8B,EAAQ5B,QAAS4B,EAAS,WAC3E,CAAE7B,KAAMN,EAASmC,IAAWA,GAEpC,MAAW3F,EAAE4F,cAAcD,IAAWA,EAAOtB,OACzCsB,EAASpF,GAAO,EAAMoF,EAClB,CAAE7B,KAAMN,EAASmC,EAAOtB,SAI3BnD,EAAK6E,eAAeJ,KAIzBA,EAAO9B,eAAiB8B,EAAO9B,gBAAkB,GAEjDG,GAAQ/D,EAAM4C,SAAS3B,EAAKqT,eAApBtU,CAAoCM,GAAO,EAAM,CAAC,EAAG,CACzDgB,OAAQA,EACRiC,SAAUA,EACV0R,SAAS,EACTlU,QAAS,MACV2E,IACP,CAEA,OAAO3B,CACX,EACAoQ,cAAe,SAASvT,GACpB,IACIsF,EAASnG,EAAEa,EAAGsF,QAAQC,QAAQ,IAAMnG,EAAMyD,KAAK,WAAa,KAC5DK,EAAUoC,EAAOzC,KAAKzD,EAAMyD,KAAK,YACjC1C,EAAUmF,EAAOzC,KAAKzD,EAAMyD,KAAK,YACjCiD,EAJOxF,KAIKC,UAEhBJ,EAA8B,iBAAd,EAAyB,CAAEqF,MAAOrF,GAAYA,EAEzD+C,GARM5C,KAYNmE,QAxOA,SAwOgB,CACjBvB,QAASA,EACT/C,QAAST,EAAO,CAAEoG,KAAMA,GAAQ3F,IAExC,EACA+E,eAAgB,SAASC,GACrB,IACIrE,EADOR,KACOH,QAAQW,OACtB2C,EAAQ0B,EAAK1B,MAAQ0B,EAAK1B,MAAM2B,MAAM,KAAO,GAEjD,IAAK3B,EAAMoB,OACP,OAAO,EAGX,IAAK,IAAID,EAAI,EAAGA,EAAInB,EAAMoB,OAAQD,IAC9B,IAAK9D,EAAO2C,EAAMmB,IACd,OAAO,EAIf,OAAO,CACX,EACA0D,QAAS,WACMhI,KAENmB,QAAQ8G,IAAI3I,GAFNU,KAGNmB,QAAQwN,QACjB,IAGAqF,EAAuBhB,EAAc5T,OAAO,CAC5CQ,KAAM,SAASuI,EAAWtI,EAASC,EAAU0I,GACzC,IAAIzI,EAAOC,KAEXH,EAAUT,EAAO,CAAC,EAAGS,EAAQoU,YAAa,CACtCnL,eAAgBjJ,EAAQiJ,eACxBG,qBAAsBpJ,EAAQoJ,qBAC9B5G,SAAUxC,EAAQwC,SAClB7B,OAAQX,EAAQW,SAGpBT,EAAK0I,gBAAmB9G,GAASzC,EAAOJ,EAAMgD,OAAOjC,EAAQoJ,qBAArBnK,CAA2C6C,IAEnFqR,EAAcrS,GAAGf,KAAKgB,KAAKb,EAAMoI,EAAWtI,EAASC,EAAU0I,GAE/DzI,EAAKoB,QAAQC,SAAS4R,EAAc5S,OAAO8T,QAC/C,EACA7Q,eAAgB,CAAE,OAAQ,SAAU,YAGpC8Q,EAAoBnB,EAAc5T,OAAO,CACzCQ,KAAM,SAASuI,EAAWtI,EAASC,GAC/B,IAAIC,EAAOC,KAEXH,EAAUT,EAAO,CAAC,EAAGS,EAAQuN,SAAU,CACnCtE,eAAgBjJ,EAAQiJ,eACxBG,qBAAsBpJ,EAAQoJ,qBAC9B5G,SAAUxC,EAAQwC,SAClB7B,OAAQX,EAAQW,SAGpBT,EAAKqU,aAAehV,EAAOW,EAAKqU,aAAc,CAC1C9H,MAAO,CACH,CAAElC,MAAOvK,EAAQiJ,eAAgBuL,MAAOxU,EAAQwC,SAASxC,EAAQiJ,iBACjE,CAAEsB,MAAOvK,EAAQoJ,qBAAsBoL,MAAOxU,EAAQwC,SAASxC,EAAQoJ,yBAE5EpJ,EAAQ2R,MAEXwB,EAAcrS,GAAGf,KAAKgB,KAAKb,EAAMoI,EAAWtI,EAASC,GAErDC,EAAKoB,QAAQC,SAAS4R,EAAc5S,OAAOc,KAC/C,EACAmC,eAAgB,CAAE,cAAe,UACjC+Q,aAAc,CACVE,gBAAiB,IAAM,IAE3BR,qBAAsB,SAAShU,GAE3B,MAAO,GADIE,KACIH,QAAQwC,SAASnB,QAAQhC,EAAOJ,EAAMgD,OAD1C9B,KACsDH,QAAQiJ,eAA1BhK,CAA0CgB,KAC7F,EACA8T,eAAgB,WACZ,IAAI7T,EAAOC,KACPH,EAAUE,EAAKF,QACfO,EAAS4S,EAAc5S,OACvBgU,EAAevU,EAAQ2R,MAAQzR,EAAKqU,aACpCG,EAAczV,EAAMyE,OACpBpC,EAAUtC,EAAE,eACP0D,KAAK,OAAQ,QACbA,KAAK,kBAAmBgS,GAC7BC,GAAc3U,EAAQ2R,MA5UtC,YA4U8C3R,EAAQ2R,KAAKgD,YAA8B3U,EAAQ2R,KAAKgD,WAE1FzU,EAAK4D,OAAOO,KAtUV,IAsUqB9D,EAAOwB,YAAYW,KAAK,KAAMgS,GAErDxU,EAAKgN,QAAQ9L,OAAOE,GAEpBpB,EAAKyR,KAAO,IAAIuB,EAAK5R,EAAS/B,EAAO,CAAC,EAAGgV,EAAc,CACnDK,SAAU1U,EAAKE,UACfuU,WAAYA,IAEpB,IAGAE,EAAsBP,EAAkB/U,OAAO,CAC/CQ,KAAM,SAASuI,EAAWtI,EAASC,EAAU0I,EAAWsF,GACpD,IACI6G,EAAoB9U,EAAQiP,eAAemC,gBAC3C2D,EAAczM,EAAUoG,kBAAkB/D,OAAOqK,GAAG,GACpDC,EAAShH,EAASA,EAAO6G,GAAqBC,EAAYD,GAC1DxO,EAAQ/G,EAAO,CAAC,EAAGU,GAKvB,IAAK,IAAIoK,KAHTpK,EAAWqI,EAAUoC,WAAWwK,OACvB/F,IAAInP,EAAQoR,gBAAiB6D,GAEtB3O,EACZrG,EAASkP,IAAI9E,EAAK/D,EAAM+D,IAG5BiK,EAAkBxT,GAAGf,KAAKgB,KAbfZ,KAa0BmI,EAAWtI,EAASC,EAAU0I,EACvE,EACAsL,qBAAsB,SAAShU,GAE3B,OADWE,KACCH,QAAQwC,SAAS2S,aACjC,EACA3R,eAAgB,CAAE,SAAU,YAGhCjE,EAAON,EAAME,GAAGmJ,UAAW,CACvB8M,KAAMjC,EACNkC,MAAO,CACHC,QAASnB,EACToB,KAAMjB,EACNkB,OAAQX,KAIhBtV,GAAO,EAAMN,EAAME,GAAGmJ,UAAU8M,KAAM,CAAE7U,OA5Wd,CACtBe,QAAS,mBACTD,KAAM,wBACNgT,QAAS,2BACTvQ,OAAQ,0BACR/B,WAAY,+BACZI,OAAQ,WACRmH,cAAe,kCACf4D,QAAS,2BACT2G,cAAe,2BACfC,oBAAqB,6CACrB2B,WAAY,sBACZC,cAAe,2BAkWtB,CA5XD,CA4XGxW,OAAOD,MAAMwJ,QAEhB,SAAUzJ,GACN,IAAIC,EAAQC,OAAOD,MACfG,EAAaH,EAAMG,WAEnBG,EAASP,EAAEO,OAGXE,EAAKD,wBAKLmW,EAAWvW,EAAWG,OAAO,CAC7BQ,KAAM,SAASuB,GACX,IAAIpB,EAAOC,KAEXD,EAAK0V,SAAW,CAAC,EACjB1V,EAAKoB,QAAUA,EAEfpB,EAAKQ,gBAELtB,EAAW0B,GAAGf,KAAKgB,KAAKb,EAC5B,EAEA2V,iBAAkB,SAASC,EAAUC,EAAU/V,GAC3C,IAAIE,EAAOC,KAEND,EAAK0V,SAASE,KACf5V,EAAK0V,SAASE,GAAY,IAG1BC,EAAStQ,SAAWuQ,MAAMD,EAAStQ,UAAYsQ,EAAStQ,QAAQwQ,cAChEF,EAAStQ,QAAUsQ,EAAStQ,QAAQwQ,cAAcC,WAAW,IAGjEhW,EAAK0V,SAASE,GAAU1K,KAAK,CACzB2K,SAAUxW,EAAO,CACbkG,QAAS,KACT0Q,SAAS,EACTC,UAAU,EACVC,QAAQ,GACTN,GACH/V,QAASA,GAGjB,EAEAU,cAAe,WACX,IAAIR,EAAOC,KACPmW,EAAUpW,EAAKqW,SAAS/Q,KAAKtF,GAEjCA,EAAKoB,QAAQiE,GA3CP,UA2CoB9F,EAAI6W,EAClC,EAEAC,SAAU,SAAS1W,GACf,IAEI2W,EAAWxO,EAFX9H,EAAOC,KACPgF,EAASnG,EAAEa,EAAGsF,QAGlB,IAAK,IAAI2Q,KAAY5V,EAAK0V,SACtB,GAAIzQ,EAAOyC,GAAGkO,KACVU,EAAYtW,EAAK0V,SAASE,GAC1B9N,EAAS9H,EAAKuW,WAAWD,EAAW3W,IAExB,CACRK,EAAKwW,SAAS1O,EAAQnI,GACtB,KACJ,CAGZ,EAEA6W,SAAU,SAAS1O,EAAQnI,GACvB,IACIsF,EAASnG,EAAEa,EAAGsF,QAEd6C,EAAOjF,SAHA5C,KAIFmE,QApEJ,SAoEoB/E,EAAO,CAAC,EAAGM,EAAI,CAChCkD,QAASiF,EAAOjF,QAChB/C,QAAST,EAAO,CAAC,EAAG,CAChB4F,OAAQA,GACT6C,EAAOhI,YAIdgI,EAAOsO,SACPtO,EAAOsO,QAAQzW,EAEvB,EAEA4W,WAAY,SAASD,EAAW3W,GAG5B,IAFA,IAES4E,EAAI,EAAGA,EAAI+R,EAAU9R,OAAQD,IAClC,GAHOtE,KAGEwW,iBAAiBH,EAAU/R,GAAGsR,SAAUlW,GAC7C,OAAO2W,EAAU/R,GAAGzE,OAGhC,EAEA2W,iBAAkB,SAASZ,EAAUlW,GAGjC,IAAK,IAAIwK,KAAO0L,EAAU,CACtB,IAAI5K,GAAS,EAEb,GACS,YADDd,EAEAc,EAAS4K,EAAS1L,KAPnBlK,KAOiCyW,qBAAqB/W,QAGrDsL,EAAS4K,EAAS1L,KAASxK,EAAGwK,GAItC,GAAIc,EACA,OAAO,CAEf,CAEA,OAAO,CACX,EAEAyL,qBAAsB,SAAS/W,GAE3B,OADUgX,UAAUC,SAASb,cAAcc,QAAQ,QAAU,EAChDlX,EAAGmX,QAAUnX,EAAGsW,OACjC,EAEAhO,QAAS,WACMhI,KAENmB,QAAQ8G,IAAI3I,EACrB,IAGJF,EAAON,EAAME,GAAGmJ,UAAW,CACvB2O,gBAAiBtB,GAGxB,CA3ID,CA2IGzW,OAAOD,MAAMwJ,QAEhB,MAAMyO,SAAW,CACTC,GAAI,YACJ9T,KAAM,YACN+T,SAAU,MACVC,YAAa,uCACbC,QAAS,CAAC,OAAQ,WAAY,SAAU,OAAQ,OAAQ,UAAW,YAGvE,IAAIC,gBAAkB,CAClBC,QAAS,cACT1T,OAAQ,qBACRoJ,QAAS,sBACTuK,QAAS,sBACTC,iBAAkB,gCAClB/R,KAAM,mBACNsI,OAAQ,qBACR0J,SAAU,aACVnT,SAAU,aACV0B,WAAY,2BAGZtG,eAAiB,SAASC,GAAMA,EAAGD,gBAAkB,GAEzD,SAAUZ,EAAG4Y,GACT,IAAI3Y,EAAQC,OAAOD,MACf4Y,EAAS5Y,EAAME,GAAG0Y,OAClBC,EAAa7Y,EAAM6C,KAAKgW,WACxBvY,EAASP,EAAEO,OACXJ,EAAKF,EAAME,GACX4Y,EAAUC,MAAMD,QAChBnT,EAAgB5F,EAAE4F,cAElBqT,EAAU,WAEVzY,EAAM,IAEN0Y,EAAO,OACPC,EAAa,YACbC,EAAW,UACXC,EAAS,SACTC,EAAU,UACV3Y,EAAS,SACT4Y,EAAS,SAGTC,EAAQ,SACRC,EAAc,cACdC,EAAY,YAQZC,EAAqB,qBACrBC,EAAmB,mBAEnBC,EAAYhB,EAAOtY,OAAO,CAC1BQ,KAAM,SAASuB,EAAStB,GACpB,IAAIE,EAAOC,KAEX0X,EAAO/W,GAAGf,KAAKgB,KAAKb,EAAMoB,EAAStB,GAEnCsB,EAAUpB,EAAKsX,QAAUtX,EAAKoB,QAE9BpB,EAAK4Y,oBAAsB5Y,EAAKoB,QAAQoB,KAAK,OAASzD,EAAMyE,OAE5DxD,EAAK6Y,WACL7Y,EAAK8Y,qBACL9Y,EAAK+Y,iBACL/Y,EAAKgZ,cACLhZ,EAAKiZ,eACLjZ,EAAKkZ,gBACLlZ,EAAKmZ,gBAEDnZ,EAAKF,QAAQsZ,UACbpZ,EAAKqZ,OAGTta,EAAMua,OAAOtZ,EACjB,EAEAoM,OAAQ,CACJ4L,EACAC,EACAC,EACAG,EACAD,EACAD,EACAI,EACAC,EACAC,EACAC,EA7CQ,WACA,WACE,aACA,aACA,aACE,gBAiDhB5Y,QAAS,CACLqD,KAAM,YACNiW,UAAU,EACV5S,OAAQ,IACR7C,MAAO,OACP4T,SAAS,EACTrG,gBAAiB,SACjBnI,eAAgB,QAChBG,qBAAsB,cACtBY,kBAAmB,WACnB0G,eAAgB,KAChB/G,UAAU,EACV4D,UAAU,EACVvE,YAAY,EACZyQ,aAAa,EACbrF,aAAa,EACbzB,OAAQ,CACJC,SAAU,YAEdlI,WAAY,GACZwD,QAAS,GACTe,eAAgB,CACZmC,gBAAiB,SACjBlP,cAAe,OACfwO,eAAgB,MAEpB/H,UAAW,GACXnG,SAAU,CACNnB,KAAM,OACN8T,cAAe,kBACfxB,OAAQ,SACRhB,OAAQ,SACR+G,YAAa,eACbxY,QAAS,WACTkL,SAAU,YACVC,WAAY,cACZiC,UAAW,aACX9M,WAAY,cACZ+B,aAAc,gBACd+P,MAAO,QACPlG,OAAQ,SACRqG,OAAU,SACVC,YAAa,eACb5K,MAAO,SACPuO,YAAa,eACb5U,UAAW,aACXkM,oBAAqB,+CACrBoD,kBAAmB,+CAI3B4H,aAAc,CACVrL,UAAW,CAAEsL,KAAM,SAAUvW,KAAM,YAAaN,QAAS,mBAAoBH,KAAM,OAAQU,MAAO,cAClGnB,OAAQ,CAAEyX,KAAM,UAChBjH,OAAQ,CACJiH,KAAM,YACNvW,KAAM,SACNN,QAAS,gBACT/C,QAAS,gDACTsD,MAAO,eACPuW,SAAU,QACVC,UAAW,UACXC,iBAAkB,CACdnT,YAAa,SACbhE,KAAM,SACNoX,UAAW,WAKvBvN,MAAO,WACH,IACItB,EAASnM,EAAE,IAEf,IAAK,IAAIqL,KAHElK,KAGU8Z,SACjBjb,EAAEkb,MAAM/O,EAJDhL,KAIc8Z,SAAS5P,GAAK1I,SAGvC,OAAOwJ,CACX,EAEAgP,cAAe,SAASlF,GAIpB,OAHW9U,KACOmR,WAAW2D,GAAQtT,OAGzC,EAEAyY,cAAe,SAASC,GACpB,IACIpM,EADO9N,KACO0P,oBAAoBwK,GAEtC,GAAIpM,EACA,OAAOA,EAAOtM,OAEtB,EAEA4X,KAAM,WACF,IAAIrZ,EAAOC,KACPma,EAAgB,GAMpB,IAAK,IAAIjQ,KAJTnK,EAAKqa,WAAU,GAEfD,EAAclP,KAAKlL,EAAKwO,kBAAkB8L,SAE1Bta,EAAKyI,UACjB2R,EAAclP,KAAKlL,EAAKyI,UAAU0B,GAAKK,WAAW8P,SAGtDxb,EAAEyb,KAAKC,MAAM,KAAMJ,GACdzI,KAAK3R,EAAKwK,WAAWiQ,KAAKnV,KAAKtF,EAAKwK,YAC7C,EAEAzK,SAAU,SAAS2a,GACf,IAEIjX,EADA+G,EADOvK,KACWuK,WAMtB,OAFA/G,GADAiX,EAAU5b,EAAE4b,IACElY,KAAKzD,EAAMyD,KAAK,QAEvBgI,EAAWmQ,SAASlX,EAC/B,EAEAmX,eAAgB,SAAST,GACrB,IAEI1W,EADA+K,EADOvO,KACkBuO,kBAM7B,OAFA/K,GADA0W,EAAYrb,EAAEqb,IACE3X,KAAKzD,EAAMyD,KAAK,QAEzBgM,EAAkBmM,SAASlX,EACtC,EAEAuK,QAAS,WACL,IACI/C,EAASnM,EAAE,IAEf,IAAK,IAAIqL,KAHElK,KAGU8Z,SACjBjb,EAAEkb,MAAM/O,EAJDhL,KAIc8Z,SAAS5P,GAAK/I,SAGvC,OAAO6J,CACX,EAEA4P,eAAgB,SAAS9F,GACrB,OAAO9U,KAAKmR,WAAW2D,GAAQ3T,OACnC,EAEA0Z,OAAQ,SAASrV,EAAMsV,GAGnB,IAAKtV,EACD,OAHOxF,KAGKmB,QACP+C,KAAK7E,EAAMqZ,EAAUtY,OAAOoF,KAAOnG,EAAMqZ,EAAUtY,OAAOoX,UAAU7H,GAAG,GAGhFnK,EAAO3G,EAAE2G,IACTsV,GAAoB,IAAXA,IARE9a,KAWFmB,QACA+C,KAAK7E,EAAMqZ,EAAUtY,OAAOoF,KAAOnG,EAAMqZ,EAAUtY,OAAOoX,UAC1DuD,YAAYrC,EAAUtY,OAAOoX,UAGtChS,EAAKoE,YAAY8O,EAAUtY,OAAOoX,SAAUsD,EAChD,EAEAvB,YAAa,SAASnK,GAClB,IAAIrP,EAAOC,KACPH,EAAUE,EAAKF,QACf6M,EAAO3M,EAAKib,gBAAgB,CAAEhW,OAAQoK,IAEtCvP,EAAQoU,aACRlU,EAAKiS,UAAU5S,EAAO,CAClBmS,KAAM,WACP7E,GAEX,EAEAT,SAAU,SAASmD,GACf,IAEI1C,EAFA3M,EAAOC,KACPH,EAAUE,EAAKF,QAGnBuP,EAAcvQ,EAAEuQ,GAChB1C,EAAO3M,EAAKib,gBAAgB,CAAEhW,OAAQoK,IAElCvP,EAAQuN,UACRrN,EAAKiS,UAAU5S,EAAO,CAClBmS,KAAM,QACP7E,GAEX,EAEAuO,SAAU,WACKjb,KAENuK,WAAWqE,MACpB,EAEA1C,WAAY,SAASkD,GACjB,IAAIrP,EAAOC,KACPwF,EAAOzF,EAAKD,SAASsP,GAEzBrP,EAAKwK,WAAWoE,OAAOnJ,GACvBzF,EAAKwK,WAAWqE,MACpB,EAEA7N,QAAS,SAASjB,GACd,IAEI4M,EAAO,CAAElH,KAAM1F,GAFRE,KACQH,QAGPuN,UAJDpN,KAKFgS,UAAU5S,EAAO,CAClBmS,KAAM,UACP7E,GAEX,EAEAyB,UAAW,SAASF,EAAOtM,GACvB,IAMIW,EAAW4Y,EAAOpN,EANlB/N,EAAOC,KACP8O,EAAiB1P,GAAO,EAAM,CAAC,EAAGW,EAAKF,QAAQiP,eAAgB,CAC3DzM,SAAUtC,EAAKF,QAAQwC,SACvB7B,OAAQT,EAAKob,eACbhb,mBAAoBJ,EAAK4Y,sBAI7B9C,MAAM5H,KAAWtM,IACjBA,EAAOsM,EACPA,EAAQ,MAGZiN,EAAQnb,EAAKwO,kBAAkB6M,gBAAgBzZ,GAC/CsM,EAAQ4H,MAAM5H,IAAoB,OAAVA,EAAiBlO,EAAKwO,kBAAkB5M,OAAO4C,OAAS0J,EAChFH,EAAS/N,EAAKgO,UAAU4B,GAAG1B,GAC3BlO,EAAKwO,kBAAkB8M,OAAOpN,EAAOiN,GAErC5Y,EAAY,IAAItD,EAAGmJ,UAAUE,UAAUyG,EAAgBoM,GAEnDrF,MAAM5H,KAAWH,EAAOvJ,OACxBxE,EAAKwX,iBAAiBtW,OAAOqB,EAAUnB,SAEvC2M,EAAOwN,OAAOhZ,EAAUnB,SAG5BmB,EAAU+C,KAAK7F,EAAQO,EAAKwb,eAAelW,KAAKtF,GACpD,EAEAsB,WAAY,SAASqG,GAGjBA,EAAgB7I,EAAE6I,GAFP1H,KAIN0P,oBAAoBhI,GAAexG,MAC5C,EAEAsa,WAAY,WACGxb,KAENuO,kBAAkBK,MAC3B,EAEAxL,aAAc,SAASsE,GACnB,IAAI3H,EAAOC,KACP8N,EAAS/N,EAAK4a,eAAejT,GAEjC3H,EAAKwO,kBAAkBI,OAAOb,GAC9B/N,EAAKwO,kBAAkBK,MAC3B,EAEA8G,iBAAkB,SAASC,EAAUC,EAAU/V,GAChCG,KAENyb,gBAAgB/F,iBAAiBC,EAAUC,EAAU/V,EAC9D,EAEA6b,OAAQ,SAAStM,EAAa0L,IAC1B1L,EAAcvQ,EAAEuQ,IAEJxF,YAAY8O,EAAUtY,OAAOiE,UAAqB,IAAXyW,GACnD1L,EAAY7M,KAAK,iBAA4B,IAAXuY,EACtC,EAEA5M,eAAgB,SAASxG,EAAeoT,GACpC,IAAI/a,EAAOC,KAEX0H,EAAgB7I,EAAE6I,GAElB3H,EAAKka,cAAcvS,GAAesG,MAAK,SAASC,EAAOzI,GACnDzF,EAAK2b,OAAOlW,EAAMsV,EACtB,GACJ,EAEAa,SAAU,SAASvM,EAAa0L,GAG5BA,GAAoB,IAAXA,GAFT1L,EAAcvQ,EAAEuQ,IAIJlL,KAAK,IAAMpF,EAAMyD,KAAK,WAAa,KAAKqH,YAAY8O,EAAUtY,OAAOiE,SAAUyW,GAC3F1L,EAAYlL,KAAK,YAAY0F,YAAY8O,EAAUtY,OAAOiE,SAAUyW,GAEpE1L,EAAYxF,YAAY8O,EAAUtY,OAAO2F,WAAY+U,GACrD1L,EAAY7M,KAAK,gBAAiBuY,EACtC,EAEAc,iBAAkB,SAASlU,EAAeoT,GACtC,IAAI/a,EAAOC,KAEX0H,EAAgB7I,EAAE6I,GAElB3H,EAAKka,cAAcvS,GAAesG,MAAK,SAASC,EAAOzI,GACnDzF,EAAK4b,SAASnW,EAAMsV,EACxB,GACJ,EAEAe,cAAe,SAAStR,GACpB,IAAIxK,EAAOC,KAEXD,EAAKF,QAAQ0K,WAAaA,EAC1BxK,EAAKgZ,cAEDhZ,EAAKF,QAAQsZ,UACbpZ,EAAKwK,WAAWiQ,MAExB,EAEAsB,qBAAsB,SAASvR,GAC3B,IAAIxK,EAAOC,KAEXD,EAAKF,QAAQkO,QAAUxD,EACvBxK,EAAK8Y,qBAED9Y,EAAKF,QAAQsZ,UACbpZ,EAAKwO,kBAAkB8L,OAAM,WACzBta,EAAKgc,aAAahc,EAAKwK,WAAWC,OACtC,GAER,EAEA2G,WAAY,SAAS2D,GACjB,OAAO9U,KAAK8Z,SAAShF,EACzB,EAEApF,oBAAqB,SAAShI,GAC1B,IAAI3H,EAAOC,KAIX,IAAK,IAAIkK,KAFTxC,EAAgB7I,EAAE6I,GAEF3H,EAAK+Z,SACjB,GAAI/Z,EAAK+Z,SAAS5P,GAAK/I,QAAQ,KAAOuG,EAAc,GAChD,OAAO3H,EAAK+Z,SAAS5P,EAGjC,EAEA8H,UAAW,SAASnS,GAChB,IAII4b,EAJA1b,EAAOC,KACPuR,EAAO,IAAIvS,EAAGmJ,UAAU+M,MAAMrV,EAAQ0R,MAAMxR,EAAMX,EAAO,CAAC,EAAGW,EAAKF,QAAS,CACvEW,OAAQT,EAAKob,iBACbtb,EAAQ2F,KAAMzF,EAAKyI,UAAW3I,EAAQiO,QAG1C/N,EAAKwR,MACLxR,EAAKqS,aAGTrS,EAAKwR,KAAOA,EACZxR,EAAKgN,QAAQiP,MAAMjc,EAAKwR,KAAKpQ,SAC7BpB,EAAKgN,QAAQtJ,IAAI,eACb1D,EAAKwR,KAAKpQ,QAAQ8a,aAClBC,SAASnc,EAAKgN,QAAQtJ,IAAI,gBAAiB,KAE/C1D,EAAKwR,KAAKlM,KAAK7F,EAAQO,EAAKwb,eAAelW,KAAKtF,IAEhDA,EAAKwR,KAAKkK,gBAAkBA,EAAkB,IAAIzc,EAAGmJ,UAAU2O,gBAAgB/W,EAAKwR,KAAKpQ,SAEzFsa,EAAgBpW,KAAK7F,EAAQO,EAAKwb,eAAelW,KAAKtF,IAEtD0b,EAAgB/F,iBAAiB,IAAK,CAClCpQ,QAASxG,EAAM6F,KAAKwX,KACrB,CAAEvZ,QAAS,qBAEd6Y,EAAgB/F,iBAAiB,IAAK,CAClCpQ,QAASxG,EAAM6F,KAAKY,OACrB,CAAE3C,QAAS,qBAAsB/C,QAAS,CACzC2F,KAAMzF,EAAKwR,KAAKtR,aAGhBD,KAAKH,QAAQuN,UAAYpN,KAAKH,QAAQuN,SAASoE,OAAkD,IAA1CxR,KAAKH,QAAQuN,SAASoE,KAAKgD,YAClFvQ,YAAW,WACPlE,EAAKwR,KAAKpQ,QAAQ+C,KAAK,UAAUyL,GAAG,GAAGxL,QAAQ,QACnD,GAAG,EAEX,EAEAiO,WAAY,WACR,IAAIrS,EAAOC,KAEPD,EAAKwR,OACLxR,EAAKwR,KAAKkK,gBAAgBzT,UAC1BjI,EAAKwR,KAAKlK,OAAO7H,GACjBO,EAAKwR,KAAKvJ,iBACHjI,EAAKwR,KAEZxR,EAAKgN,QAAQtJ,IAAI,eAAgB,IAEzC,EAEAmV,SAAU,WACN,IAAI7Y,EAAOC,KACPH,EAAUE,EAAKF,QACfO,EAASsY,EAAUtY,OACnBgc,EAAY,eAAiBhc,EAAOuD,OAAS,WAC7C0Y,EAAa,eAAiBjc,EAAO2M,QAAU,WAC/CuP,EAAgB,eAAiBlc,EAAOmX,iBAAmB,WAE/DxX,EAAKoB,QAAQC,SAAShB,EAAOiX,SACxB3T,MAAM7D,EAAQ6D,OACd6C,OAAO1G,EAAQ0G,QACfhE,KAAK,OAAQ,eAClBxC,EAAK4D,OAAS9E,EAAEud,GAAWtY,SAAS/D,EAAKoB,SACzCpB,EAAKgN,QAAUlO,EAAEwd,GAAYvY,SAAS/D,EAAKoB,SAC3CpB,EAAKwX,iBAAmB1Y,EAAEyd,GAAexY,SAAS/D,EAAKgN,QAC3D,EAEAiM,aAAc,WACV,IAKIuD,EALAxc,EAAOC,KACPI,EAASsY,EAAUtY,OACnBP,EAAUE,EAAKF,QACf2c,EAAa3d,EAAE,eAAiBuB,EAAOkX,QAAU,YACjDmF,EAAiB7E,EAAQ/X,EAAQyX,SAAW,CAAEhL,MAAOzM,EAAQyX,SAAYzX,EAAQyX,SAG7D,IAApBzX,EAAQyX,WAEkB,IAAnBmF,IACPA,EAAiB,CAAC,GAGtBF,EAAQE,EAAenQ,MAAQmQ,EAAenQ,MAAQ5H,OAAOC,KAAK5E,EAAKyZ,cACvE+C,EAAQxc,EAAK2c,cAAcH,GAC3BE,EAAeF,MAAQA,EACvBE,EAAejD,aAAezZ,EAAKyZ,aACnCiD,EAAeE,eAAiB5c,EAAKF,QAAQwC,SAE7CtC,EAAK4D,OAAO1C,OAAOub,GACnBzc,EAAKuX,QAAU,IAAIxY,EAAME,GAAG4d,QAAQJ,EAAYC,GAChD1c,EAAKF,QAAQyX,QAAUvX,EAAKuX,QAAQzX,QAEpCE,EAAKuX,QAAQjS,KAjgBT,QAigBqBtF,EAAK8c,cAAcxX,KAAKtF,IACjDA,EAAKuX,QAAQjS,KAjgBR,SAigBqBtF,EAAK8c,cAAcxX,KAAKtF,IAClDA,EAAKuX,QAAQjS,KAAK+S,EAAQrY,EAAK8c,cAAcxX,KAAKtF,IACtD,EAEA2c,cAAe,SAASH,GACpB,IAEIO,EAFA/c,EAAOC,KACPQ,EAAST,EAAKob,eAwClB,OArCAoB,EAAMQ,SAAQC,IACV,IAAI7Z,EAAQ6Z,EAAE7Z,OAASpD,EAAKyZ,aAAawD,GAAKjd,EAAKyZ,aAAawD,GAAG7Z,MAAQ,KAG3E,GAFA2Z,EAAgBrY,EAAcuY,IAAMtY,OAAOC,KAAKqY,GAAGzY,QAAU,GAAKyY,EAAE9Z,MAAQnD,EAAKyZ,aAAawD,EAAE9Z,MAE7E,CACf,IAAI+Z,EAAO7d,EAAO,CAAC,EAAG4d,GACtB5d,EAAO4d,EAAGjd,EAAKyZ,aAAawD,EAAE9Z,MAAO+Z,EACzC,CASA,GAPIH,GAA2B,UAAVE,EAAE9Z,MACnB9D,EAAO4d,EAAEpD,iBAAkB,CACvBnX,KAAMua,EAAEva,MAAQ1C,EAAKyZ,aAAawD,EAAE9Z,MAAM0W,iBAAiBnX,KAC3DgE,YAAauW,EAAEra,MAAQ5C,EAAKF,QAAQwC,SAASmQ,SAIhDrP,IAILA,EAAQA,EAAM2B,MAAM,MAETP,OAIX,IAAK,IAAID,EAAI,EAAGA,EAAInB,EAAMoB,OAAQD,IACzB9D,EAAO2C,EAAMmB,MACV0Y,EAAE7Z,MACF6Z,EAAEE,QAAS,EAEXnd,EAAKyZ,aAAawD,GAAGE,QAAS,EAG1C,IAGGX,CACX,EAEAM,cAAe,SAASnd,GACpB,IAAIkD,EAAU/D,EAAEa,EAAGsF,QAAQrD,KAAK,WAC5B9B,EAAUhB,EAAEa,EAAGsF,QAAQrD,KAAK,WAEhC9B,EAAUT,EAAO,CAAC,EAAGS,EAAS,CAAEqF,MAAOrG,EAAEa,EAAGsF,QAAQ+J,QAE/CnM,GAIL5C,KAAKub,eAAe,CAChB3Y,QAASA,EACT/C,QAASA,GAEjB,EAEAsd,eAAgB,SAASC,GAMrB,IALA,IAEI9Q,EAFOtM,KACQH,QAAQyX,QACPhL,OAFTtM,KAEuBwZ,aAC9B6D,GAAQ,EAEH/Y,EAAI,EAAGA,EAAIgI,EAAM/H,OAAQD,IAC9B,GAAIgI,EAAMhI,GAAGpB,MAAQka,EAAU,CAC3BC,GAAQ,EACR,KACJ,CAGJ,OAAO/Q,EAAM8Q,IAAaC,CAC9B,EAEAlC,aAAc,WACV,IAAIpb,EAAOC,KAEX,MAAO,CACHsd,WAAYvd,EAAKwd,cACjB9c,cAAeV,EAAKyd,iBACpBvT,aAAclK,EAAK0d,gBACnBC,YAAa3d,EAAKyd,mBAAqBzd,EAAKwd,cAC5C5T,YAAa5J,EAAKyd,mBAAqBzd,EAAKwd,gBAAkBxd,EAAK0d,gBACnEE,aAAc5d,EAAK6d,gBACnBC,kBAAmB9d,EAAKwO,kBAAkBuP,qBAAqBhf,EAAM6C,KAAKoc,gBAC1EpY,MAAO7G,EAAMkf,QAAQrY,MAAM5F,EAAKsX,SAExC,EAEAuG,cAAe,WACX,QAAS5d,KAAKH,QAAQ2S,MAC1B,EAEA+K,YAAa,WACT,QAASvd,KAAKH,QAAQuN,QAC1B,EAEAoQ,eAAgB,WACZ,QAASxd,KAAKH,QAAQyZ,WAC1B,EAEAmE,cAAe,WACX,QAASzd,KAAKH,QAAQgJ,UAC1B,EAEA0S,eAAgB,SAAS7O,GACrB,IACIuR,EAAcvR,EAAK9J,QACnBsb,EAAiB9e,EAAO,CAAE+I,UAAWnI,MAAQyE,EAAciI,EAAK7M,SAFzDG,KAEyEgb,gBAAgBtO,EAAK7M,SAAW,CAAEqF,MAAOwH,EAAK7M,UAC9H+C,EAAU5D,EAAGmJ,UAAU2K,SAASmL,IAAgB,IAAIjf,EAAGmJ,UAAU2K,SAASmL,GAAaC,GAHhFle,KAMDmE,QAAQgU,EAASzL,KACnB9J,EACAA,EAAQiL,OAER9O,OAAOof,QAAQC,KAAKtf,EAAMqM,OAAO,qGAAsG8S,IAGnJ,EAEAjD,gBAAiB,SAAStO,GACtB,IAEIwN,EAAWO,EAASE,EAAgB0D,EAFpCte,EAAOC,KACPgF,EAAS0H,EAAK4R,eAAiB5R,EAAKL,KAAOK,EAAK1H,OASpD,OANI0H,EAAKlH,OACLR,EAASjF,EAAKuM,QAAQrG,QAAO,SAAS0K,EAAK4N,GACvC,OAAO1f,EAAE0f,GAAKhc,KAAKzD,EAAMyD,KAAK,UAAYmK,EAAKlH,KAAKuE,IAAI,MAC5D,KAGC/E,GAAYA,GAAUA,EAAOT,QAIlC2V,EAAYxN,EAAKhF,gBAAkB1C,EAAOyC,GAAGpI,EAAMqZ,EAAUtY,OAAO0N,QAAU9I,EAASA,EAAO4C,QAAQvI,EAAMqZ,EAAUtY,OAAO0N,SAC7H6M,EAAiB5a,EAAKwO,kBAAkBmM,SAASR,EAAUvY,KAAK7C,EAAM0f,GAAK,QAC3E/D,EAAUzV,EAAOyC,GAAGpI,EAAMqZ,EAAUtY,OAAOoF,MAAQR,EAASA,EAAOC,QAAQ5F,EAAMqZ,EAAUtY,OAAOoF,MAClG6Y,EAAete,EAAKwK,WAAWmQ,SAASD,EAAQ9Y,KAAK7C,EAAM0f,GAAK,QAEzDpf,EAAOsN,EAAM,CAChBlH,KAAM6Y,EACNjP,YAAaqL,EAAQlW,OAASkW,EAAUhD,EACxC3J,OAAQ6M,EACRjT,cAAewS,EAAU3V,OAAS2V,EAAYzC,KAZvC/K,CAcf,EAGApF,QAAS,SAAS9B,EAAMsV,GACpB,IAAI/a,EAAOC,KAEI,OAAX8a,IACAA,GAAS,GAGR/a,EAAKoE,QAAQ+T,EAAQ,CAAE1S,KAAMA,MAC9BzF,EAAK8a,OAAOrV,EAAMsV,GAClB/a,EAAKwZ,YAAY/T,GAEzB,EAEAqT,mBAAoB,WAChB,IAAI9Y,EAAOC,KACPH,EAAUE,EAAKF,QACfiP,EAAiBjP,EAAQiP,eACzBP,EAAoB1O,EAAQkO,QAQhC,GANAQ,EAAoBqJ,EAAQrJ,GAAqB,CAAE5M,KAAM4M,GAAsBA,EAE3EO,EAAeyB,iBAAmBhC,EAAkBkQ,OACpDlQ,EAAkBkQ,KAAO,CAAErU,MAAO0E,EAAeyB,eAAgBmO,IAAK,SAGrEnQ,EAAkBoQ,OAAQ,CAC3B,IAAIjM,EAAS,CAAC,EAEdA,EAAO5D,EAAemC,iBAAmB,CAAEwI,KAAM,SAAUmF,aAAc,WAAa,OAAO9f,EAAMyE,OAAOuB,MAAM,KAAK,EAAI,GACzH4N,EAAO5D,EAAe/M,eAAiB,CAAE0X,KAAM,UAE3C3K,EAAeyB,iBACfmC,EAAO5D,EAAeyB,gBAAkB,CAAEkJ,KAAM,WAGpDlL,EAAkBoQ,OAAS,CACvBzD,MAAO,CACHxI,OAAQA,GAGpB,CAEI3S,EAAKwO,mBAAqBxO,EAAK8e,uBAC/B9e,EAAKwO,kBAAkBlH,OAAO+Q,EAAQrY,EAAK8e,uBAC3C9e,EAAKwO,kBAAkBlH,OAAO+Q,EAAQrY,EAAK+e,wBAE3C/e,EAAK8e,sBAAwB9e,EAAKgf,yBAAyB1Z,KAAKtF,GAChEA,EAAK+e,qBAAuB/e,EAAKif,OAAO3Z,KAAKtF,IAGjDA,EAAKwO,kBAAoBoJ,EAAWnE,OAAOjF,GAC1BlJ,KAAK+S,EAAQrY,EAAK8e,uBAClBxZ,KAAKgT,EAAOtY,EAAK+e,qBACtC,EAEAC,yBAA0B,SAASrf,GAC/B,IAAIK,EAAOC,KACPwK,EAAOzK,EAAKwO,kBAAkB/D,OAC9BsE,EAAiB1P,GAAO,EAAM,CAAC,EAAGW,EAAKF,QAAQiP,eAAgB,CAC3DzM,SAAUtC,EAAKF,QAAQwC,SACvB7B,OAAQT,EAAKob,eACbhb,mBAAoBJ,EAAK4Y,sBAE7BsG,EAAcnQ,EAAemC,gBAEjC,KAAIvR,EAAGmI,QAAwB,SAAdnI,EAAGmI,QAIhB9H,EAAKoE,QAAQqU,EAAoB9Y,IAArC,CAIAK,EAAKqa,WAAU,GAEfra,EAAK+Z,SAAW,CAAC,EACjB/Z,EAAKwX,iBAAiB1U,KAAK,IAE3B,IAAK,IAAIyB,EAAI,EAAGA,EAAIkG,EAAKjG,OAAQD,IAAK,CAClC,IAEIwJ,EAFAnM,EAAO6I,EAAKlG,GACZwQ,EAASnT,EAAKsd,IAAgBnH,EAGlChK,EAAS/N,EAAK+Z,SAAShF,GAAU,IAAI9V,EAAGmJ,UAAUC,OAAO0G,EAAgBnN,GACzE5B,EAAKwX,iBAAiBtW,OAAO6M,EAAO3M,SACpC2M,EAAOzI,KAAK7F,EAAQO,EAAKwb,eAAelW,KAAKtF,IAC7C+N,EAAOzI,KAAK0S,EAAMhY,EAAK6G,MAAMvB,KAAKtF,IAClC+N,EAAOzI,KAAK4S,EAAUlY,EAAKmf,SAAS7Z,KAAKtF,IACzC+N,EAAOzI,KAAK2S,EAAYjY,EAAKof,WAAW9Z,KAAKtF,IAC7C+N,EAAOzI,KAAK+S,EAAQrY,EAAKqf,aAAa/Z,KAAKtF,IAC3CA,EAAKsf,UAAUvR,EAAO3M,QAC1B,CAEkB,SAAdzB,EAAGmI,QAAqBnI,EAAGmI,SAAW4P,GACtC1X,EAAKgc,aAAahc,EAAKwK,WAAWC,QAGtCzK,EAAKqa,WAAU,GACfra,EAAKoE,QAAQsU,EAAkB/Y,EA3B/B,CA4BJ,EAEAkH,MAAO,SAASlH,GACZM,KAAKmE,QAAQ4T,EAAM/X,KAAKgb,gBAAgBtb,GAC5C,EAEAwf,SAAU,SAASxf,GACfM,KAAKmE,QAAQ8T,EAAUjY,KAAKgb,gBAAgBtb,GAChD,EAEAyf,WAAY,SAASzf,GACjBM,KAAKmE,QAAQ6T,EAAYhY,KAAKgb,gBAAgBtb,GAClD,EAEA0f,aAAc,SAAS1f,GACnBM,KAAKmE,QAAQiU,EAAQpY,KAAKgb,gBAAgBtb,GAC9C,EAEAqZ,YAAa,WACT,IAAIhZ,EAAOC,KACPH,EAAUE,EAAKF,QACf0K,EAAa1K,EAAQ0K,WAQzB,GANIA,EAAaqN,EAAQrN,GAAc,CAAE5I,KAAM4I,GAAeA,EAE1D1K,EAAQ0Q,iBAAmBhG,EAAWkU,OACtClU,EAAWkU,KAAO,CAAErU,MAAOvK,EAAQ0Q,eAAgBmO,IAAK,SAGvDnU,EAAWoU,OAAQ,CACpB,IAAIjM,EAAS,CAAC,EAEdA,EAAO7S,EAAQoR,iBAAmB,CAAEwI,KAAM,UAC1C/G,EAAO7S,EAAQiJ,gBAAkB,CAAE2Q,KAAM,UACzC/G,EAAO7S,EAAQoJ,sBAAwB,CAAEwQ,KAAM,UAC/C/G,EAAO7S,EAAQgK,mBAAqB,CAAE4P,KAAM,UAExC5Z,EAAQ0Q,iBACRmC,EAAO7S,EAAQ0Q,gBAAkB,CAAEkJ,KAAM,WAG7ClP,EAAWoU,OAAS,CAChBzD,MAAO,CACHxI,OAAQA,GAGpB,CAEI3S,EAAKwK,YAAcxK,EAAKuf,gBACxBvf,EAAKwK,WAAWlD,OAAO+Q,EAAQrY,EAAKuf,gBACpCvf,EAAKwK,WAAWlD,OAAOgR,EAAOtY,EAAKwf,iBAEnCxf,EAAKuf,eAAiBvf,EAAKmH,QAAQ7B,KAAKtF,GACxCA,EAAKwf,cAAgBxf,EAAKif,OAAO3Z,KAAKtF,IAG1CA,EAAKwK,WAAaoN,EAAWnE,OAAOjJ,GACnBlF,KAAK+S,EAAQrY,EAAKuf,eACvC,EAEApY,QAAS,SAASxH,GACd,IAAIK,EAAOC,KAEPN,EAAGmI,QAAwB,SAAdnI,EAAGmI,QAIhB9H,EAAKoE,QAAQmU,EAAa5Y,KAI9BK,EAAKqa,WAAU,GAEfra,EAAKyf,gBACLzf,EAAKgc,aAAahc,EAAKwK,WAAWC,QAClCzK,EAAKqS,aAELrS,EAAKoE,QAAQoU,EAAW7Y,GACxBK,EAAKqa,WAAU,GACnB,EAEA4E,OAAQ,WACJhf,KAAKoa,WAAU,EACnB,EAEA2B,aAAc,SAASpa,GAGnB,IAFA,IAES2C,EAAI,EAAGA,EAAI3C,EAAK4C,OAAQD,IAFtBtE,KAGFyf,YAAY9d,EAAK2C,GAE9B,EAEAmb,YAAa,SAASja,GAClB,IAAIzF,EAAOC,KACPH,EAAUT,EAAO,CAAC,EAAGW,EAAKF,QAAS,CAAEW,OAAQT,EAAKob,iBAElDrG,EAAStP,EADK3F,EAAQoR,kBACQ6G,EAE9BhD,GAAU/U,EAAK+Z,SAAShF,KACxBtP,EAAO,IAAIxG,EAAGmJ,UAAUmD,KAAKzL,EAAS2F,EAAMzF,EAAKyI,WACjDzI,EAAK+Z,SAAShF,GAAQ/T,QAAQyE,EAAKrE,SACnCpB,EAAKsf,UAAU7Z,EAAKrE,SAE5B,EAEAqe,cAAe,WAGX,IAAK,IAAItV,KAFElK,KAEU8Z,SAFV9Z,KAGF8Z,SAAS5P,GAAKrJ,OAE3B,EAEAoY,cAAe,WACX,IAAIlZ,EAAOC,KACPH,EAAUE,EAAKF,QACf6f,EAAkB9H,EAAQ/X,EAAQ2J,UAAY,CAAE8C,MAAOzM,EAAQ2J,UAAa3J,EAAQ2J,SAExFkW,EAAkBtgB,EAAO,CAAC,EAAG,CACzBiD,SAAUxC,EAAQwC,SAClB2C,OAAQjF,EAAKwX,iBACbtR,OAAQ,gCACR4B,OAAQ9H,EAAKwb,eAAelW,KAAKtF,GACjC4f,OAAQ,QACRC,eAAe,EACfpf,OAAQT,EAAKob,gBACduE,IAEsB,IAArB7f,EAAQ2J,WAIZzJ,EAAKyJ,SAAW,IAAIxK,EAAGmJ,UAAUwE,SAAS,YAAa+S,GAC3D,EAEA5G,eAAgB,WAIZ,IAHA,IACItQ,EADOxI,KACUH,QAAQ2I,UAEpBlE,EAAI,EAAGA,EAAIkE,EAAUjE,OAAQD,IAH3BtE,KAIF6f,aAAarX,EAAUlE,GAEpC,EAEAub,aAAc,SAAS1V,GACnB,IAAIpK,EAAOC,KAEND,EAAKyI,YACNzI,EAAKyI,UAAY,CAAC,GAGtBzI,EAAKyI,UAAU2B,EAASC,OAAS,CAC7BA,MAAOD,EAASC,MAChBlH,KAAMiH,EAASjH,KACfyF,MAAOwB,EAASxB,OAASwB,EAASC,MAClCrI,cAAeoI,EAASpI,eAAiB,OACzC6I,eAAgBT,EAASS,gBAAkB,QAC3CG,eAAgBZ,EAASY,gBAAkB,QAC3CJ,gBAA4C,IAA5BR,EAASQ,eACzBL,SAAUH,EAASG,WAAY,EAC/BC,WAAYxK,EAAK+f,oBAAoB3V,EAASI,YAEtD,EAEAuV,oBAAqB,SAASC,GAC1B,IAAIxV,EAAaqN,EAAQmI,GAAc,CAAEpe,KAAMoe,GAAeA,EAG9D,OAFyBjhB,EAAM6C,KAAKgW,WAAWnE,OAAOjJ,EAG1D,EAEA6P,UAAW,SAASU,GAGhBhc,EAAME,GAAGghB,SAFEhgB,KAEYmB,QAAS2Z,EACpC,EAEA5B,cAAe,WACX,IAAInZ,EAAOC,KAEXD,EAAK0b,gBAAkB,IAAIzc,EAAGmJ,UAAU2O,gBAAgB/W,EAAKoB,SAE7DpB,EAAK0b,gBAAgBpW,KAAK7F,EAAQO,EAAKwb,eAAelW,KAAKtF,IAC3DA,EAAKkgB,oBACT,EAEAA,mBAAoB,WAChB,IAAIlgB,EAAOC,KACPQ,EAAST,EAAKob,eAEd3a,EAAO8c,aACPvd,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAQ,CACjExI,QAASxG,EAAM6F,KAAKub,QACrB,CAAEtd,QAAS,wBAEd7C,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAQ,CACjExI,QAAS,IACT0Q,SAAS,GACV,CAAEpT,QAAS,oBAAqBuT,QAAS1W,iBAE5CM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAQ,CACjExI,QAAS,IACT0Q,SAAS,GACV,CAAEpT,QAAS,iBAAkBuT,QAAS1W,iBAEzCM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAS,KAAM,CACxExI,QAASxG,EAAM6F,KAAKwX,KACrB,CAAEvZ,QAAS,4BAEd7C,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAASxG,EAAM6F,KAAKub,QACrB,CAAEtd,QAAS,sBAEd7C,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAAS,IACT0Q,SAAS,GACV,CAAEpT,QAAS,kBAAmBuT,QAAS1W,kBAG1Ce,EAAOyJ,cACPlK,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAASxG,EAAM6F,KAAKY,OACrB,CAAE3C,QAAS,oBAAqBuT,QAAS1W,iBAGhDM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAASxG,EAAM6F,KAAKwb,IACrB,CAAEvd,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,MAAQiR,QAAS1W,iBAErEM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAASxG,EAAM6F,KAAKyb,MACrB,CAAExd,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,QAAUiR,QAAS1W,iBAEvEM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAASxG,EAAM6F,KAAK0b,MACrB,CAAEzd,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,QAAUiR,QAAS1W,iBAEvEM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAOoF,KAAM,CAC/DF,QAASxG,EAAM6F,KAAK2b,OACrB,CAAE1d,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,SAAWiR,QAAS1W,iBAExEM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAQ,CACjExI,QAASxG,EAAM6F,KAAK0b,MACrB,CAAEzd,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,QAAUiR,QAAS1W,iBAEvEM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAQ,CACjExI,QAASxG,EAAM6F,KAAK2b,OACrB,CAAE1d,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,SAAWiR,QAAS1W,iBAExEM,EAAK0b,gBAAgB/F,iBAAiBrW,EAAMqZ,EAAUtY,OAAO0N,OAAQ,CACjExI,QAASxG,EAAM6F,KAAKyb,MACrB,CAAExd,QAAS,mBAAoB/C,QAAS,CAAEqF,MAAO,QAAUiR,QAAS1W,gBAC3E,EAEAuI,QAAS,WACL,IAAIjI,EAAOC,KAYX,IAAK,IAAIkK,KAVLnK,EAAK8e,wBACL9e,EAAKwO,kBAAkBlH,OAAO+Q,EAAQrY,EAAK8e,uBAC3C9e,EAAKwO,kBAAkBlH,OAAO+Q,EAAQrY,EAAK+e,uBAG3C/e,EAAKuf,iBACLvf,EAAKwK,WAAWlD,OAAO+Q,EAAQrY,EAAKuf,gBACpCvf,EAAKwK,WAAWlD,OAAOgR,EAAOtY,EAAKwf,gBAGvBxf,EAAK+Z,SACjB/Z,EAAK+Z,SAAS5P,GAAKlC,UAGnBjI,EAAKuX,SACLvX,EAAKuX,QAAQtP,UAGbjI,EAAKyJ,UACLzJ,EAAKyJ,SAASxB,UAGdjI,EAAK0b,iBACL1b,EAAK0b,gBAAgBzT,UAGrBjI,EAAKwR,MACLxR,EAAKqS,aAGTsF,EAAO/W,GAAGqH,QAAQpH,KAAKb,EAC3B,IAGJjB,EAAME,GAAGuhB,OAAO7H,GAEhBtZ,GAAO,EAAMsZ,EAAW,CAAEtY,OAAQgX,iBAErC,CA9jCD,CA8jCGrY,OAAOD,MAAMwJ,QACpB,IAAIkY,QAAU1hB,aAELiY,SAAUyJ","ignoreList":[],"sourcesContent":["import './kendo.sortable.js';\nimport './kendo.html.button.js';\nimport './kendo.core.js';\nimport './kendo.icons.js';\nimport './kendo.menu.js';\nimport './kendo.dialog.js';\nimport './kendo.form.js';\nimport './kendo.data.js';\nimport './kendo.toolbar.js';\nimport './kendo.textbox.js';\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        encode = kendo.htmlEncode,\n        extend = $.extend,\n\n        DOT = \".\",\n        NS = DOT + \"kendoTaskBoardColumn\",\n\n        CLICK = \"click\",\n        BLUR = \"blur\",\n\n        MOVE = \"move\",\n        MOVE_START = \"moveStart\",\n        MOVE_END = \"moveEnd\",\n        CHANGE = \"change\",\n        ACTION = \"action\";\n\n    var TaskBoardColumnStyles = {\n        element: \"k-taskboard-column\",\n        header: \"k-taskboard-column-header\",\n        headerText: \"k-taskboard-column-header-text\",\n        ellipsis: \"k-text-ellipsis\",\n        spacer: \"k-spacer\",\n        actions: \"k-taskboard-column-header-actions\",\n        cardsContainer: \"k-taskboard-column-cards-container\",\n        columnCards: \"k-taskboard-column-cards\",\n        actionButton: \"k-taskboard-column-action-button\",\n        card: \"k-taskboard-card\",\n        cardTitle: \"k-card-title\",\n        sortableSuffix: \"-kendosortable\",\n        textbox: \"k-textbox k-input k-input-md k-rounded-md k-input-solid\",\n        input: \"k-input-inner\",\n        newColumn: \"k-taskboard-column-new\",\n        editColumn: \"k-taskboard-column-edit\",\n        disabled: \"k-disabled\",\n        dragPlaceholder: \"k-taskboard-drag-placeholder\",\n        dragHint: \"k-taskboard-drag-hint\",\n        ignoreDrag: \"k-taskboard-drag-ignore\",\n        grabbingCursor: \"k-cursor-grabbing\"\n    };\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    var TaskBoardColumn = Observable.extend({\n        init: function(options, dataItem) {\n            var that = this;\n\n            that._dataItem = dataItem;\n            that.options = extend(true, {}, options);\n\n            that.sortableUniqueClass = that.options.sortableIdentifier + TaskBoardColumn.styles.sortableSuffix;\n            that._render();\n            that._attachEvents();\n\n            if (options.states.isReorderable) {\n                that._initSortable();\n            }\n\n            Observable.fn.init.call(that);\n        },\n\n        empty: function() {\n            var that = this;\n            that.container.empty();\n        },\n\n        addCard: function(cardHtml) {\n            var that = this;\n            that.container.append(cardHtml);\n        },\n\n        edit: function() {\n            var that = this,\n                styles = TaskBoardColumn.styles;\n\n            that.element.addClass(styles.editColumn);\n            that._renderEditHeader();\n        },\n\n        getDataItem: function() {\n            return this._dataItem;\n        },\n\n        cards: function() {\n            var that = this;\n\n            return that.container.children();\n        },\n\n        template: (data) => `<div class=\"${encode(data.styles.headerText)} ${encode(data.styles.ellipsis)}\">${kendo.getter(data.dataTextField)(data)}</div>` +\n                  `<span class=\"${encode(data.styles.spacer)}\"></span>` +\n                  `${data.buttons}`,\n\n        editTemplate: (data) => `<div class=\"${encode(data.styles.headerText)} ${encode(data.styles.ellipsis)}\">` +\n                        `<span class=\"${encode(data.styles.textbox)}\">` +\n                            `<input class=\"${encode(data.styles.input)}\" placeholder=\"${encode(kendo.getter(data.dataTextField)(data) ? data.messages.editColumn : data.messages.newColumn)}\" ${encode(kendo.attr(\"command\"))}=\"SaveColumnCommand\" value=\"${encode(kendo.getter(data.dataTextField)(data))}\" />` +\n                        '</span>' +\n                        '</div>' +\n                        `<span class=\"${encode(data.styles.spacer)}\"></span>` +\n                        `${data.buttons}`,\n\n        actionButton: ({ styles, icon, spriteCssClass, text, command, options }) =>\n                    kendo.html.renderButton(`<button class=\"${encode(styles.actionButton)}\" title=\"${encode(text)}\" ${encode(kendo.attr(\"command\"))}=\"${encode(command)}\" ${options ? encode(kendo.attr('options')) + \"=\" + encode(options) : \"\"}></button>`, {\n                        icon: encode(icon),\n                        iconClass: `k-button-icon ${encode(spriteCssClass)}`,\n                        fillMode: \"flat\"\n                    }),\n\n        builtinButtons: {\n            \"editColumn\": { name: \"editColumn\", icon: \"pencil\", text: \"Edit Column\", command: \"EditColumnCommand\", rules: \"isEditable\" },\n            \"addCard\": { name: \"addCard\", icon: \"plus\", text: \"Add Card\", command: \"AddCardCommand\", rules: \"isEditable\" },\n            \"deleteColumn\": { name: \"deleteColumn\", icon: \"x\", text: \"Delete Column\", command: \"DeleteColumnCommand\", rules: \"isEditable\" }\n        },\n\n        defaultButtons: [ \"editColumn\", \"addCard\", \"deleteColumn\" ],\n\n        _render: function() {\n            var that = this,\n                styles = TaskBoardColumn.styles,\n                headerLabelId = kendo.guid(),\n                element = $(\"<div class='\" + styles.element + \"'></div>\")\n                    .attr(kendo.attr(\"uid\"), that._dataItem.uid)\n                    .css({\n                        width: that.options.width\n                    })\n                    .attr(\"role\", \"list\").attr(\"aria-labelledby\", headerLabelId),\n                header = $(\"<div class='\" + styles.header + \"'></div>\"),\n                cardsContainer = $(\"<div class='\" + styles.cardsContainer + \"'></div>\"),\n                columnCards = $(\"<div class='\" + styles.columnCards + \"'></div>\");\n\n            that.header = header.appendTo(element).attr(\"id\", headerLabelId);\n\n            that._renderHeader();\n\n            cardsContainer.appendTo(element);\n            that.container = columnCards\n                                .appendTo(cardsContainer)\n                                .addClass(that.sortableUniqueClass);\n\n            that.element = element;\n        },\n\n        _renderHeader: function() {\n            var that = this,\n                styles = TaskBoardColumn.styles,\n                options = that.options,\n                template = options.template ? options.template : that.template;\n\n            that.header.append(kendo.template(template)(extend(true, {}, {\n                styles: styles,\n                buttons: that._buildActionsHtml(),\n                dataTextField: options.dataTextField\n            }, that._dataItem)));\n        },\n\n        _renderEditHeader: function() {\n            var that = this,\n                styles = TaskBoardColumn.styles,\n                options = that.options,\n                template = options.editTemplate ? options.editTemplate : that.editTemplate;\n\n            that.header.html(\"\");\n\n            that.header.append(kendo.template(template)(extend(true, {}, {\n                styles: styles,\n                messages: options.messages,\n                buttons: that._buildActionsHtml(),\n                dataTextField: options.dataTextField\n            }, that._dataItem)));\n\n            setTimeout(function() {\n                that.header.find(\"input\").trigger(\"focus\");\n            }, 0);\n\n            that.header.find(DOT + styles.actions).addClass(styles.disabled);\n        },\n\n        _buildActionsHtml: function() {\n            var that = this,\n                options = that.options,\n                messages = options.messages,\n                buttons = options.buttons || that.defaultButtons,\n                styles = TaskBoardColumn.styles,\n                html = \"<div class='\" + styles.actions + \"'>\";\n\n            for (var i = 0; i < buttons.length; i++) {\n                var button = buttons[i];\n                button = ($.isPlainObject(button) && Object.keys(button).length === 1 && button.name) ? button.name : button;\n\n                if (typeof button === \"string\") {\n                    button = extend(true, {},\n                        that.builtinButtons[button] || { spriteCssClass: button, command: button + \"Command\" },\n                        { text: messages[button] || button }\n                    );\n                } else if ($.isPlainObject(button) && button.name) {\n                    button = extend(true, button,\n                        { text: messages[button.name] }\n                    );\n                }\n\n                if (!that._validateRules(button)) {\n                    continue;\n                }\n\n                button.spriteCssClass = button.spriteCssClass || \"\";\n\n                html += kendo.template(that.actionButton)(extend(true, {}, {\n                    styles: styles,\n                    options: false\n                }, button));\n            }\n\n            html += \"</div>\";\n\n            return html;\n        },\n\n        _validateRules: function(tool) {\n            var that = this,\n                states = that.options.states,\n                rules = tool.rules ? tool.rules.split(\";\") : [];\n\n            if (!rules.length) {\n                return true;\n            }\n\n            for (var i = 0; i < rules.length; i++) {\n                if (!states[rules[i]]) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _actionClick: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(\"[\" + kendo.attr(\"command\") + \"]\"),\n                command = target.attr(kendo.attr(\"command\")),\n                options = target.attr(kendo.attr(\"options\"));\n\n            options = typeof(options) === \"string\" ? { value: options } : options;\n\n            if (!command) {\n                return;\n            }\n\n            that.trigger(ACTION, {\n                command: command,\n                options: extend({ target: target }, options)\n            });\n        },\n\n        _textboxBlur: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(\"[\" + kendo.attr(\"command\") + \"]\"),\n                command = target.attr(kendo.attr(\"command\")),\n                options = target.attr(kendo.attr(\"options\"));\n\n            options = typeof(options) === \"string\" ? { value: options } : options;\n\n            if (!command) {\n                return;\n            }\n\n            that.trigger(ACTION, {\n                command: command,\n                options: extend({ target: target }, options)\n            });\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.header.on(CLICK + NS,\n                DOT + TaskBoardColumn.styles.actionButton,\n                that._actionClick.bind(that));\n\n            that.header.on(BLUR + NS,\n                DOT + TaskBoardColumn.styles.input,\n                that._textboxBlur.bind(that));\n\n            that.header.on(\"keyup\" + NS,\n                DOT + TaskBoardColumn.styles.input,\n                function(ev) {\n                    if (ev.keyCode === kendo.keys.ENTER) {\n                        that._textboxBlur(ev);\n                    }\n                }\n            );\n\n            if (that.container) {\n                that.container.on(CLICK + NS,\n                    DOT + TaskBoardColumn.styles.card + \" [\" + kendo.attr(\"command\") + \"]\",\n                    that._actionClick.bind(that));\n\n                that.container.on(CLICK + NS,\n                    DOT + TaskBoardColumn.styles.card + \" a.\" + TaskBoardColumn.styles.cardTitle,\n                    preventDefault);\n\n            }\n        },\n\n        _initSortable: function() {\n            var that = this,\n                isRtl = that.options.states.isRtl,\n                dirClass = isRtl ? \" k-rtl\" : \"\",\n                container = that.container;\n\n            if (!that.container) {\n                return;\n            }\n\n            that.sortable = new ui.Sortable(container, {\n                ignore: DOT + TaskBoardColumn.styles.ignoreDrag + \" *\",\n                connectWith: DOT + that.sortableUniqueClass,\n                filter: DOT + TaskBoardColumn.styles.card,\n                hint: function(element) {\n                    return element.clone()\n                        .addClass(TaskBoardColumn.styles.dragHint + \" \" + TaskBoardColumn.styles.grabbingCursor + dirClass)\n                        .css({\n                        width: element[0].offsetWidth,\n                        height: element[0].offsetHeight\n                    });\n                },\n                placeholder: function(element) {\n                    return $(\"<div></div>\")\n                        .addClass(TaskBoardColumn.styles.dragPlaceholder)\n                        .css({\n                            height: element[0].offsetHeight\n                        });\n                },\n                move: that._move.bind(that),\n                start: that._start.bind(that),\n                end: that._end.bind(that),\n                change: that._change.bind(that)\n            });\n\n            that.sortable.draggable.userEvents.unbind(\"select\");\n            that.sortable.draggable.userEvents.bind(\"select\", that._select.bind(that));\n        },\n\n        _select: function(ev) {\n            var ignoreDragSelectors = TaskBoardColumn.ignoreDragSelectors;\n            var target = $(ev.event.target);\n\n            for (var i = 0; i < ignoreDragSelectors.length; i++) {\n                if (target.is(ignoreDragSelectors[i])) {\n                    ev.preventDefault();\n                    break;\n                }\n            }\n        },\n\n        _move: function(ev) {\n            extend(ev, {\n                columnElement: ev.sender.element.parents(DOT + TaskBoardColumn.styles.element)\n            });\n            this.trigger(MOVE, ev);\n        },\n\n        _start: function(ev) {\n            extend(ev, {\n                columnElement: ev.sender.element.parents(DOT + TaskBoardColumn.styles.element)\n            });\n            this.trigger(MOVE_START, ev);\n        },\n\n        _end: function(ev) {\n            extend(ev, {\n                columnElement: ev.sender.element.parents(DOT + TaskBoardColumn.styles.element)\n            });\n            this.trigger(MOVE_END, ev);\n        },\n\n        _change: function(ev) {\n            var that = this;\n\n            extend(ev, {\n                columnElement: ev.sender.element.parents(DOT + TaskBoardColumn.styles.element)\n            });\n\n            that.trigger(CHANGE, ev);\n\n            if ((ev.action === \"receive\" && ev.newIndex >= 0) || (ev.action === \"sort\" && ev.newIndex !== ev.oldIndex)) {\n                that.trigger(ACTION, {\n                    command: \"MoveCardCommand\",\n                    options: ev\n                });\n            }\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.header.off(NS);\n            that.container.off(NS);\n\n            if (that.sortable) {\n                that.sortable.destroy();\n            }\n        }\n    });\n\n    var TaskBoardNewColumn = TaskBoardColumn.extend({\n        _render: function() {\n            var that = this,\n                styles = TaskBoardColumn.styles,\n                element = $(\"<div class='\" + styles.element + \"'></div>\").addClass(styles.newColumn).attr(kendo.attr(\"uid\"), that._dataItem.uid),\n                header = $(\"<div class='\" + styles.header + \"'></div>\");\n\n            that.header = header.appendTo(element);\n\n            that._renderEditHeader();\n\n            that.element = element;\n        }\n    });\n\n    extend(kendo.ui, {\n        taskboard: {\n            Column: TaskBoardColumn,\n            NewColumn: TaskBoardNewColumn\n        }\n    });\n\n    extend(true, kendo.ui.taskboard.Column, {\n        styles: TaskBoardColumnStyles,\n        ignoreDragSelectors: [\"img\"]\n    });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        Observable = kendo.Observable,\n        encode = kendo.htmlEncode,\n        extend = $.extend;\n\n    var TaskBoardCardStyles = {\n        element: \"k-taskboard-card\",\n        card: \"k-card\",\n        header: \"k-card-header\",\n        hbox: \"k-hbox\",\n        title: \"k-card-title\",\n        link: \"k-link\",\n        spacer: \"k-spacer\",\n        button: \"k-button\",\n        cardMenuButton: \"k-taskboard-card-menu-button k-icon-button\",\n        flatButton: \"k-button-md k-rounded-md k-button-flat k-button-flat-base\",\n        body: \"k-card-body\",\n        actionsIcon: \"more-vertical\",\n        moveCursor: \"k-cursor-move\",\n        categoryBorder: \"k-taskboard-card-category\",\n        headerActions: \"k-card-header-actions\",\n        disabled: \"k-disabled\"\n    };\n\n    var TaskBoardCard = Observable.extend({\n        init: function(options, dataItem, resources) {\n            var that = this;\n\n            that._dataItem = dataItem;\n            that.resources = resources;\n\n            that.options = extend(true, {}, options);\n\n            that._render();\n\n            Observable.fn.init.call(that);\n        },\n\n        contentTemplate: (data) => `<div class=\"${encode(data.styles.header)} ${encode(data.styles.hbox)}\">` +\n            `<a class=\"${encode(data.styles.title)} ${encode(data.styles.link)}\" href=\"#\" ${data.selectable ? kendo.attr(\"command\") + '=SelectCardCommand' : ''}>${encode(kendo.getter(data.dataTitleField)(data))}</a>` +\n            `<span class=\"${encode(data.styles.spacer)}\"></span>` +\n            `${data.cardMenuButton}` +\n        '</div>' +\n        `<div class=\"${encode(data.styles.body)}\"><p>${encode(kendo.getter(data.dataDescriptionField)(data))}</p></div>`,\n\n        cardMenuButtonTemplate: ({ styles }) => `<div class=\"${encode(styles.headerActions)}\"><button aria-label=\"menu\" class=\"${encode(styles.button)} ${encode(styles.flatButton)} ${encode(styles.cardMenuButton)}\">` +\n                                    kendo.ui.icon({ icon: encode(styles.actionsIcon), iconClass: \"k-button-icon\" }) +\n                                '</button></div>',\n\n        _render: function() {\n            var that = this,\n                options = that.options,\n                styles = TaskBoardCard.styles,\n                template = options.template || that.contentTemplate,\n                element = $(\"<div class='\" + styles.element + \" \" + styles.card + \" \" + styles.moveCursor + \"'></div>\"),\n                cardMenuButtonTemplate = options.cardMenu ? that.cardMenuButtonTemplate : \"\",\n                resources = that._resources(that._dataItem),\n                borderDir = options.states.isRtl ? \"borderRightColor\" : \"borderLeftColor\",\n                categoryColor;\n\n            element\n                .attr(kendo.attr(\"uid\"), that._dataItem.uid)\n                .attr(\"aria-disabled\", !options.states.isDisabled)\n                .attr(\"role\", \"listitem\")\n                .toggleClass(styles.disabled, options.states.isDisabled);\n\n            categoryColor = (resources[options.dataCategoryField] && resources[options.dataCategoryField].color) ||\n                                that._dataItem.get(options.dataCategoryField);\n\n            if (categoryColor) {\n                element.addClass(styles.categoryBorder).css(borderDir, categoryColor);\n            }\n\n            element.append(kendo.template(template)(extend(true, {}, {\n                styles: styles,\n                cardMenuButton: kendo.template(cardMenuButtonTemplate)({ styles: styles }),\n                selectable: options.states.isSelectable,\n                resources: resources,\n                dataTitleField: options.dataTitleField,\n                dataDescriptionField: options.dataDescriptionField\n            }, that._dataItem)));\n\n            that.element = element;\n        },\n\n        _resources: function(card) {\n            var that = this,\n                resources = {};\n\n            if (!that.resources) {\n                return resources;\n            }\n\n            for (var key in that.resources) {\n                var resource = that.resources[key];\n                var field = resource.field;\n                var cardResources = kendo.getter(field)(card);\n\n                if (!cardResources) {\n                    continue;\n                }\n\n                if (!resource.multiple) {\n                    cardResources = [cardResources];\n                }\n\n                var data = resource.dataSource.view();\n\n                for (var resourceIndex = 0; resourceIndex < cardResources.length; resourceIndex++) {\n                    var cardResource = null;\n\n                    var value = cardResources[resourceIndex];\n\n                    if (!resource.valuePrimitive) {\n                        value = kendo.getter(resource.dataValueField)(value);\n                    }\n\n                    for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                        if (data[dataIndex].get(resource.dataValueField) == value) {\n                            cardResource = data[dataIndex];\n                            break;\n                        }\n                    }\n\n                    if (cardResource !== null) {\n                        var resourceColor = kendo.getter(resource.dataColorField)(cardResource);\n                        var result = {\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            text: kendo.getter(resource.dataTextField)(cardResource),\n                            value: value,\n                            color: resourceColor\n                        };\n\n                        if (resource.multiple) {\n                            if (resources[resource.field]) {\n                                resources[resource.field].push(result);\n                            } else {\n                                resources[resource.field] = [result];\n                            }\n                        } else {\n                            resources[resource.field] = result;\n                        }\n                    }\n                }\n            }\n            return resources;\n        },\n\n        _buildTemplate: function() {\n            var that = this,\n                options = that.options,\n                headerTemplate = kendo.format(that.headerTemplate, options.dataTitleField),\n                bodyTemplate = kendo.format(that.bodyTemplate, options.dataDescriptionField);\n\n            return headerTemplate + bodyTemplate;\n        }\n    });\n\n    extend(kendo.ui.taskboard, {\n        Card: TaskBoardCard\n    });\n\n    extend(true, kendo.ui.taskboard.Card, { styles: TaskBoardCardStyles });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        template = kendo.template,\n        ContextMenu = kendo.ui.ContextMenu,\n        encode = kendo.htmlEncode,\n\n        ACTION = \"action\";\n\n    var TaskBoardCardMenu = ContextMenu.extend({\n        init: function(element, options) {\n            var that = this;\n\n            ContextMenu.fn.init.call(that, element, options);\n\n            that._overrideTemplates();\n            that._extendItems();\n\n            that.bind(\"select\", that._onSelect.bind(that));\n            that.bind(\"open\", that._onOpen.bind(that));\n            that.bind(\"activate\", that._focus.bind(that));\n        },\n\n        _overrideTemplates: function() {\n            this.templates.sprite = ({ icon, spriteCssClass }) => `${(icon || spriteCssClass) ? kendo.ui.icon({ icon: encode(icon || \"\"), iconClass: encode(spriteCssClass || \"\") }) : ''}`;\n        },\n\n        defaultItems: {\n            \"editCard\": { name: \"editCard\", text: \"Edit card\", icon: \"pencil\", command: \"EditCardCommand\", rules: \"isEditable\" },\n            \"deleteCard\": { name: \"deleteCard\", text: \"Delete card\", icon: \"trash\", command: \"DeleteCardCommand\", rules: \"isEditable\" }\n        },\n\n        events: ContextMenu.fn.events.concat([\n            ACTION\n        ]),\n\n        _extendItems: function() {\n            var that = this,\n                items = that.options.items,\n                item, isBuiltInTool;\n\n            if (items && items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    item = items[i];\n                    isBuiltInTool = $.isPlainObject(item) && Object.keys(item).length === 1 && item.name;\n\n                    if (isBuiltInTool) {\n                        item = item.name;\n                    }\n\n                    if ($.isPlainObject(item)) {\n                        that._append(item);\n                    } else if (that.defaultItems[item]) {\n                        item = that.defaultItems[item];\n                        that._append(item);\n                    } else if (typeof(item) === \"string\") {\n                        item = { name: item, text: item, spriteCssClass: item, command: item + \"Command\" };\n                        that._append(item);\n                    }\n                }\n            } else {\n                for (var key in that.defaultItems) {\n                    item = that.defaultItems[key];\n                    that._append(item);\n                }\n            }\n        },\n\n        _append: function(item) {\n            var that = this;\n\n            that._extendItem(item);\n\n            if (that._validateRules(item)) {\n                that.append(item);\n            }\n        },\n\n        _extendItem: function(item) {\n            var that = this,\n                messages = that.options.messages,\n                attr = {};\n\n            attr[kendo.attr(\"command\")] = item.command;\n\n            if (item.options) {\n                attr[kendo.attr(\"options\")] = item.options;\n            }\n\n            extend(item, {\n                text: messages[item.name],\n                icon: item.icon || \"\",\n                spriteCssClass: item.spriteCssClass || \"\",\n                attr: attr,\n                uid: kendo.guid()\n            });\n        },\n\n        _validateRules: function(tool) {\n            var that = this,\n                states = that.options.states,\n                rules = tool.rules ? tool.rules.split(\";\") : [];\n\n            if (!rules.length) {\n                return true;\n            }\n\n            for (var i = 0; i < rules.length; i++) {\n                if (!states[rules[i]]) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _onSelect: function(ev) {\n            var command = $(ev.item).attr(kendo.attr(\"command\")),\n                options = $(ev.item).attr(kendo.attr(\"options\")),\n                target = $(ev.target);\n\n            options = typeof(options) === \"string\" ? { value: options } : options;\n\n            if (!command) {\n                return;\n            }\n\n            this.action({\n                command: command,\n                options: extend({ target: target }, options)\n            });\n        },\n\n        _onOpen: function(ev) {\n            var menu = ev.sender,\n                items = menu.options.items;\n\n            if (!items && $.isEmptyObject(this.defaultItems)) {\n                ev.preventDefault();\n            }\n        },\n\n        _focus: function(ev) {\n            if (ev.sender) {\n                ev.sender.element.trigger(\"focus\");\n            }\n        },\n\n        action: function(args) {\n            this.trigger(ACTION, args);\n        }\n    });\n\n    extend(kendo.ui.taskboard, {\n        CardMenu: TaskBoardCardMenu\n    });\n\n    })(window.kendo.jQuery);\n\n(function($, undefined$1) {\n        var kendo = window.kendo,\n            extend = $.extend,\n            isPlainObject = $.isPlainObject,\n            Class = kendo.Class;\n\n        var TaskBoardCommand = Class.extend({\n            init: function(options) {\n                this.options = options;\n                this.taskboard = options.taskboard;\n            },\n            _confirm: function(title, content, okText, cancel) {\n                var that = this,\n                    taskboard = that.taskboard,\n                    taskboardOptions = taskboard.options,\n                    confirm;\n\n                if (isPlainObject(taskboardOptions.editable) && taskboardOptions.editable.confirmation === false ) {\n                    var fakePromise = $.Deferred();\n                    fakePromise.resolve();\n                    return fakePromise;\n                }\n\n                confirm = $(\"<div></div>\").kendoConfirm(extend({}, {\n                    title: title,\n                    content: content,\n                    messages: {\n                        okText: okText,\n                        cancel: cancel\n                    },\n                    buttonLayout: \"normal\"\n                })).data(\"kendoConfirm\");\n\n                confirm.open();\n\n                setTimeout(function() {\n                    confirm.element.trigger(\"focus\");\n                });\n\n                return confirm.result;\n            }\n        });\n\n        // Column commands\n        var AddColumnCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard;\n\n                if (taskboard.trigger(\"editColumn\", { column: null })) {\n                    return;\n                }\n\n                taskboard.columns().each(function(index, column) {\n                    taskboard.enableByColumn(column, false);\n                });\n                taskboard.addColumn();\n            }\n        });\n\n        var EditColumnCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    taskboard = that.taskboard;\n\n                if (taskboard.trigger(\"editColumn\", { column: options.column })) {\n                    return;\n                }\n\n                taskboard.columns().each(function(index, column) {\n                    taskboard.enableByColumn(column, false);\n                });\n                taskboard.editColumn(options.columnElement);\n            }\n        });\n\n        var DeleteColumnCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    taskboard = that.taskboard,\n                    taskboardOptions = taskboard.options,\n                    messages = taskboardOptions.messages,\n                    columnDS = taskboard.columnsDataSource;\n\n                var result = that._confirm(messages.deleteColumn, messages.deleteColumnConfirm, messages[\"delete\"], messages.cancel);\n\n                result.done(function() {\n                    if (taskboard.trigger(\"deleteColumn\", { column: options.column })) {\n                        taskboard.dataSource.cancelChanges();\n                        return;\n                    }\n\n                    columnDS.remove(options.column);\n                    columnDS.sync();\n                });\n            }\n        });\n\n        var SaveColumnCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    taskboard = that.taskboard,\n                    columnSettings = taskboard.options.columnSettings,\n                    columnDS = taskboard.columnsDataSource,\n                    column = options.column,\n                    text = options.target.val();\n\n                if (taskboard.trigger(\"saveColumn\", { column: options.column })) {\n                    taskboard.dataSource.cancelChanges();\n                    return;\n                }\n\n                column.set(columnSettings.dataTextField, text);\n                columnDS.sync();\n            }\n        });\n\n        var CancelEditColumnCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    columnDS = taskboard.columnsDataSource;\n\n                columnDS.cancelChanges();\n            }\n        });\n\n        //Move focus command\n        var MoveFocusCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    options = that.options,\n                    cardElement = options.cardElement,\n                    columnElement = options.columnElement,\n                    columns = taskboard.columns(),\n                    currentColumnIndex = columnElement.index(),\n                    direction = options.value,\n                    columnIndex, column;\n\n                switch (direction) {\n                    case \"left\":\n                        columnIndex = Math.max(0, currentColumnIndex - 1);\n                        break;\n                    case \"right\":\n                        columnIndex = Math.min(columns.length - 1, currentColumnIndex + 1);\n                        break;\n                    default:\n                        columnIndex = currentColumnIndex;\n                        break;\n                }\n\n                that.columns = columns;\n                that.columnIndex = columnIndex;\n                that.column = column = taskboard._getColumnByElement(columns.eq(columnIndex));\n                that.cards = column.cards();\n\n                if (cardElement) {\n                    that._moveFromCardFocus(direction, cardElement);\n                } else if (columnElement && direction === \"down\") {\n                    that.cards.eq(0).trigger(\"focus\");\n                } else {\n                    columns.eq(columnIndex).trigger(\"focus\");\n                }\n            },\n            _moveFromCardFocus: function(direction, cardElement) {\n                var that = this,\n                    currentIndex = cardElement.index(),\n                    focusCard, index, seekFocusableCard = false;\n\n                switch (direction) {\n                    case \"up\":\n                        index = currentIndex - 1;\n                        break;\n                    case \"down\":\n                        index = currentIndex + 1;\n                        break;\n                    default:\n                        seekFocusableCard = true;\n                        index = currentIndex;\n                        break;\n                }\n\n                focusCard = that.cards.eq(index);\n\n                if (!focusCard.length && seekFocusableCard) {\n                    focusCard = that._getFocusableCard(index, direction);\n                }\n\n                if (index >= 0) {\n                    focusCard.trigger(\"focus\");\n                } else {\n                    that.options.columnElement.focus();\n                }\n            },\n            _getFocusableCard: function(index, direction) {\n                var that = this,\n                    lastIndex = that.cards.length - 1,\n                    focusable = that.cards.eq(Math.min(index, lastIndex));\n\n                if (focusable.length) {\n                    return focusable;\n                }\n\n                if (that.columnIndex <= 0 || that.columnIndex >= that.columns.length - 1) {\n                    return;\n                }\n\n                switch (direction) {\n                    case \"left\":\n                        that.columnIndex = Math.max(0, that.columnIndex - 1);\n                        break;\n                    case \"right\":\n                        that.columnIndex = Math.min(that.columns.length - 1, that.columnIndex + 1);\n                        break;\n                }\n\n                that.column = that.taskboard._getColumnByElement(that.columns.eq(that.columnIndex));\n                that.cards = that.column.cards();\n\n                return that._getFocusableCard(index, direction);\n\n            }\n        });\n\n        // Card commands\n        var TaskBoardBaseCardCommand = TaskBoardCommand.extend({\n            _updateOrder: function(column, currentIndex) {\n                var that = this,\n                    taskboard = that.taskboard,\n                    taskBoardOptions = taskboard.options,\n                    dataOrderField = taskBoardOptions.dataOrderField,\n                    options = that.options,\n                    currentCard = options.card,\n                    cardIndex = options.cardElement ? options.cardElement.index() : column.cards().length,\n                    newIndex = currentIndex,\n                    cards = column.cards().map(function(idx, card) {\n                        return taskboard.dataItem(card);\n                    }),\n                    prevCard = cards[cardIndex - 1],\n                    nextCard;\n\n                    currentCard.set(dataOrderField, newIndex);\n\n                    if (prevCard && prevCard.get(dataOrderField) >= currentCard.get(dataOrderField)) {\n                        currentCard.set(dataOrderField, prevCard.get(dataOrderField) + 1);\n                    }\n\n                    for (var i = newIndex + 1; i < cards.length; i++) {\n                        nextCard = cards[i];\n\n                        if (nextCard.get(dataOrderField) <= currentCard.get(dataOrderField)) {\n                            nextCard.set(dataOrderField, currentCard.get(dataOrderField) + 1);\n                            currentCard = nextCard;\n                        } else {\n                            break;\n                        }\n                    }\n            }\n        });\n\n        var SelectCardCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    options = that.options,\n                    cardElement = options.cardElement;\n\n                taskboard._select(cardElement, true);\n                cardElement.focus();\n            }\n        });\n\n        var SaveChangesCommand = TaskBoardBaseCardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    taskBoardOptions = taskboard.options,\n                    options = that.options,\n                    receivedStatus = options.card.get(taskBoardOptions.dataStatusField),\n                    targetColumn = taskboard._getColumn(receivedStatus),\n                    activeElm = $(document.activeElement);\n\n                if (activeElm.length) {\n                    activeElm.trigger(\"change\");\n                }\n\n                if (taskboard.pane && taskboard.pane.form && !taskboard.pane.form.validate()) {\n                    return;\n                }\n\n                if (taskboard.trigger(\"saveCard\", { card: options.card })) {\n                    taskboard.dataSource.cancelChanges();\n                    return;\n                }\n\n                if (targetColumn && taskBoardOptions.dataOrderField) {\n                    that._updateOrder(targetColumn, options.card.get(taskBoardOptions.dataOrderField));\n                }\n\n                taskboard.dataSource.sync().then(function() {\n                    taskboard.columns().eq(0).trigger(\"focus\");\n                });\n            }\n        });\n\n        var DeleteCardCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    messages = taskboard.options.messages,\n                    options = that.options;\n\n                var result = that._confirm(messages.deleteCard, messages.deleteCardConfirm, messages[\"delete\"], messages.cancel);\n\n                result\n                    .done(function() {\n                        if (taskboard.trigger(\"deleteCard\", { card: options.card })) {\n                            taskboard.dataSource.cancelChanges();\n                            return;\n                        }\n\n                        taskboard.dataSource.remove(options.card);\n                        taskboard.dataSource.sync().then(function() {\n                            taskboard.columns().eq(0).trigger(\"focus\");\n                        });\n                    })\n                    .fail(function() {\n                        options.cardElement.trigger(\"focus\");\n                    });\n            }\n        });\n\n        var MoveCardCommand = TaskBoardBaseCardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    taskBoardOptions = taskboard.options,\n                    columnSettings = taskBoardOptions.columnSettings,\n                    options = that.options,\n                    receivedStatus = options.column.get(columnSettings.dataStatusField);\n\n                options.card.set(taskBoardOptions.dataStatusField, receivedStatus);\n\n                if (taskBoardOptions.dataOrderField) {\n                    that._updateOrder(taskboard._getColumn(receivedStatus), options.newIndex);\n                }\n\n                taskboard.dataSource.sync();\n            }\n        });\n\n        var EditCardCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    options = that.options;\n\n                if (taskboard.trigger(\"editCard\", { card: options.card })) {\n                    return;\n                }\n\n                taskboard._openPane(extend({\n                    pane: \"Edit\"\n                }, options));\n            }\n        });\n\n        var AddCardCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard,\n                    options = that.options;\n\n                if (taskboard.trigger(\"editCard\", { card: null })) {\n                    return;\n                }\n                taskboard.dataSource.cancelChanges();\n                taskboard._openPane(extend({\n                    pane: \"Create\"\n                }, options));\n            }\n        });\n\n        // Pane commands\n        var OpenPaneCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    options = that.options,\n                    taskboard = that.taskboard;\n\n                taskboard._openPane({\n                    pane: options.value,\n                    card: options.card,\n                    cardElement: options.cardElement,\n                    column: options.column,\n                    columnElement: options.columnElement\n                });\n            }\n        });\n\n        var ClosePaneCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    taskboard = that.taskboard;\n\n                taskboard._closePane();\n                taskboard.dataSource.cancelChanges();\n            }\n        });\n\n        // Search command\n\n        var SearchCommand = TaskBoardCommand.extend({\n            exec: function() {\n                var that = this,\n                    value = that.options.value,\n                    taskboard = that.taskboard,\n                    taskboardOptions = taskboard.options,\n                    searchOptions = taskboardOptions.search,\n                    operator = searchOptions.operator,\n                    fields = (searchOptions && searchOptions.fields) || [ taskboardOptions.dataTitleField, taskboardOptions.dataDescriptionField ],\n                    filters;\n\n                filters = that._buildFilters(fields, operator, value);\n\n                taskboard.dataSource.filter(filters);\n            },\n            _buildFilters: function(fields, operator, value) {\n                var filters = fields.map(function(field) {\n                    return { field: field, operator: operator, value: value };\n                });\n\n                return { logic: \"or\", filters: filters };\n            }\n        });\n\n        extend(kendo.ui.taskboard, {\n            Command: TaskBoardCommand,\n            commands: {\n                AddColumnCommand: AddColumnCommand,\n                EditColumnCommand: EditColumnCommand,\n                DeleteColumnCommand: DeleteColumnCommand,\n                SaveColumnCommand: SaveColumnCommand,\n                CancelEditColumnCommand: CancelEditColumnCommand,\n                OpenPaneCommand: OpenPaneCommand,\n                ClosePaneCommand: ClosePaneCommand,\n                SelectCardCommand: SelectCardCommand,\n                MoveFocusCommand: MoveFocusCommand,\n                SaveChangesCommand: SaveChangesCommand,\n                DeleteCardCommand: DeleteCardCommand,\n                MoveCardCommand: MoveCardCommand,\n                EditCardCommand: EditCardCommand,\n                AddCardCommand: AddCardCommand,\n                SearchCommand: SearchCommand\n            }\n        });\n\n    })(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        Observable = kendo.Observable,\n        encode = kendo.htmlEncode,\n\n        Form = kendo.ui.Form,\n\n        DOT = \".\",\n        NS = DOT + \"kendoTaskBoardPane\",\n\n        ACTION = \"action\",\n        CLICK = \"click\";\n\n    var TaskBoardPaneStyles = {\n        element: \"k-taskboard-pane\",\n        edit: \"k-taskboard-edit-pane\",\n        preview: \"k-taskboard-preview-pane\",\n        header: \"k-taskboard-pane-header\",\n        headerText: \"k-taskboard-pane-header-text\",\n        spacer: \"k-spacer\",\n        headerActions: \"k-taskboard-pane-header-actions\",\n        content: \"k-taskboard-pane-content\",\n        footerActions: \"k-taskboard-pane-actions\",\n        footerActionButtons: \"k-actions k-hstack k-justify-content-start\",\n        baseButton: \"k-button-solid-base\",\n        primaryButton: \"k-button-solid-primary\"\n    };\n\n    var TaskBoardPane = Observable.extend({\n        init: function(taskboard, options, dataItem, resources) {\n            var that = this;\n\n            that.taskboard = taskboard;\n            that._dataItem = dataItem;\n            that.resources = resources;\n            that.options = extend(true, {}, options);\n\n            that._render();\n\n            that.element.on(CLICK + NS,\n                \"[\" + kendo.attr(\"command\") + \"]\",\n                that._commandClick.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n        headerTemplate: ({ styles, messages, fieldFormat }) => `<div class=\"${encode(styles.headerText)}\">${fieldFormat}</div>` +\n                        `<span class=\"${encode(styles.spacer)}\"></span>` +\n                        `<div class=\"${encode(styles.headerActions)}\">` +\n                            kendo.html.renderButton(`<button title=\"${encode(messages.close)}\" ${encode(kendo.attr(\"command\"))}=\"ClosePaneCommand\"></button>`, {\n                                icon: \"x\",\n                                iconClass: 'k-button-icon',\n                                fillMode: \"flat\",\n                            }) +\n                        '</div>',\n        buttonTemplate: ({ styles, icon, spriteCssClass, text, fillMode, themeColor, command, options }) =>\n            kendo.html.renderButton(`<button title=\"${encode(text)}\" ${encode(kendo.attr(\"command\"))}=\"${encode(command)}\" ${encode(kendo.attr(\"options\"))}=\"${encode(options)}\">` +\n                `${encode(text)}` +\n            '</button>', {\n                icon: encode(icon),\n                iconClass: `k-button-icon ${encode(spriteCssClass)}`,\n                fillMode: fillMode,\n                themeColor: themeColor\n            }),\n        contentTemplate: () => ``,\n        builtinButtons: {\n            \"edit\": { name: \"edit\", icon: \"pencil\", text: \"Edit\", themeColor: \"primary\", command: \"EditCardCommand\", rules: \"isEditable\" },\n            \"delete\": { name: \"delete\", icon: \"trash\", text: \"Delete\", command: \"DeleteCardCommand\", rules: \"isEditable\", fillMode: \"flat\", themeColor: \"primary\" },\n            \"cancel\": { name: \"cancel\", icon: \"cancel-outline\", text: \"Cancel\", command: \"ClosePaneCommand\" },\n            \"saveChanges\": { name: \"saveChanges\", icon: \"save\", text: \"Save\", command: \"SaveChangesCommand\", themeColor: \"primary\", rules: \"isEditable\" },\n            \"create\": { name: \"create\", icon: \"save\", text: \"Create\", command: \"SaveChangesCommand\", themeColor: \"primary\", rules: \"isEditable\" }\n        },\n        defaultButtons: [],\n        _render: function() {\n            var that = this,\n                styles = TaskBoardPane.styles,\n                element = $(\"<div class='\" + styles.element + \"'></div>\"),\n                header = $(\"<div class='\" + styles.header + \"'></div>\"),\n                content = $(\"<div class='\" + styles.content + \"'></div>\"),\n                buttonsContainer = $(\"<div class='\" + styles.footerActions + \" \" + styles.footerActionButtons + \"'></div>\");\n\n            that.header = header.appendTo(element);\n            that._renderHeader();\n            that.content = content.appendTo(element);\n            that._renderContent();\n            that.buttonsContainer = buttonsContainer.appendTo(element);\n            that.buttonsContainer.append(that._buildButtonsHtml());\n            that.element = element;\n        },\n        _renderHeader: function() {\n            var that = this,\n                styles = TaskBoardPane.styles,\n                options = that.options,\n                messages = options.messages,\n                headerTemplate = options.headerTemplate ? options.headerTemplate : that.headerTemplate,\n                resources = that._resources(that._dataItem);\n\n            that.header.append(kendo.template(headerTemplate)(extend(true, {}, {\n                styles: styles,\n                messages: messages,\n                resources: resources,\n                fieldFormat: that._buildHeaderTemplate(that._dataItem)\n            }, that._dataItem)));\n        },\n        _buildHeaderTemplate: function(dataItem) {\n            var that = this;\n            return encode(kendo.getter(that.options.dataTitleField)(dataItem));\n        },\n        _renderContent: function() {\n            var that = this,\n                styles = TaskBoardPane.styles,\n                options = that.options,\n                messages = options.messages,\n                contentTemplate = options.template || that.contentTemplate,\n                resources = that._resources(that._dataItem);\n\n            that.content.append(kendo.template(contentTemplate)(extend(true, {}, {\n                styles: styles,\n                messages: messages,\n                resources: resources\n            }, that._dataItem)));\n        },\n        _resources: function(card) {\n            var that = this,\n                resources = {};\n\n            if (!that.resources) {\n                return resources;\n            }\n\n            for (var key in that.resources) {\n                var resource = that.resources[key];\n                var field = resource.field;\n                var cardResources = kendo.getter(field)(card);\n\n                if (!cardResources) {\n                    continue;\n                }\n\n                if (!resource.multiple) {\n                    cardResources = [cardResources];\n                }\n\n                var data = resource.dataSource.view();\n\n                for (var resourceIndex = 0; resourceIndex < cardResources.length; resourceIndex++) {\n                    var cardResource = null;\n\n                    var value = cardResources[resourceIndex];\n\n                    if (!resource.valuePrimitive) {\n                        value = kendo.getter(resource.dataValueField)(value);\n                    }\n\n                    for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n                        if (data[dataIndex].get(resource.dataValueField) == value) {\n                            cardResource = data[dataIndex];\n                            break;\n                        }\n                    }\n\n                    if (cardResource !== null) {\n                        var resourceColor = kendo.getter(resource.dataColorField)(cardResource);\n                        var result = {\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            text: kendo.getter(resource.dataTextField)(cardResource),\n                            value: value,\n                            color: resourceColor\n                        };\n\n                        if (resource.multiple) {\n                            if (resources[resource.field]) {\n                                resources[resource.field].push(result);\n                            } else {\n                                resources[resource.field] = [result];\n                            }\n                        } else {\n                            resources[resource.field] = result;\n                        }\n                    }\n                }\n            }\n            return resources;\n        },\n        _buildButtonsHtml: function() {\n            var that = this,\n                options = that.options,\n                messages = options.messages,\n                buttons = options.buttons || that.defaultButtons,\n                styles = TaskBoardPane.styles,\n                html = \"\";\n\n            for (var i = 0; i < buttons.length; i++) {\n                var button = buttons[i];\n                button = ($.isPlainObject(button) && Object.keys(button).length === 1 && button.name) ? button.name : button;\n\n                if (typeof button === \"string\") {\n                    if (button === \"spacer\") {\n                        html += '<span class=\"k-spacer\"></span>';\n                        continue;\n                    }\n\n                    button = extend(true, {},\n                        that.builtinButtons[button] || { spriteCssClass: button, command: button + \"Command\" },\n                        { text: messages[button] || button }\n                    );\n                } else if ($.isPlainObject(button) && button.name) {\n                    button = extend(true, button,\n                        { text: messages[button.name] }\n                    );\n                }\n\n                if (!that._validateRules(button)) {\n                    continue;\n                }\n\n                button.spriteCssClass = button.spriteCssClass || \"\";\n\n                html += kendo.template(that.buttonTemplate)(extend(true, {}, {\n                    styles: styles,\n                    messages: messages,\n                    primary: false,\n                    options: null\n                }, button));\n            }\n\n            return html;\n        },\n        _commandClick: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(\"[\" + kendo.attr(\"command\") + \"]\"),\n                command = target.attr(kendo.attr(\"command\")),\n                options = target.attr(kendo.attr(\"options\")),\n                card = that._dataItem;\n\n            options = typeof(options) === \"string\" ? { value: options } : options;\n\n            if (!command) {\n                return;\n            }\n\n            that.trigger(ACTION, {\n                command: command,\n                options: extend({ card: card }, options)\n            });\n        },\n        _validateRules: function(tool) {\n            var that = this,\n                states = that.options.states,\n                rules = tool.rules ? tool.rules.split(\";\") : [];\n\n            if (!rules.length) {\n                return true;\n            }\n\n            for (var i = 0; i < rules.length; i++) {\n                if (!states[rules[i]]) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n            that.element.remove();\n        }\n    });\n\n    var TaskBoardPreviewPane = TaskBoardPane.extend({\n        init: function(taskboard, options, dataItem, resources) {\n            var that = this;\n\n            options = extend({}, options.previewPane, {\n                dataTitleField: options.dataTitleField,\n                dataDescriptionField: options.dataDescriptionField,\n                messages: options.messages,\n                states: options.states\n            });\n\n            that.contentTemplate = (data) => encode(kendo.getter(options.dataDescriptionField)(data));\n\n            TaskBoardPane.fn.init.call(that, taskboard, options, dataItem, resources);\n\n            that.element.addClass(TaskBoardPane.styles.preview);\n        },\n        defaultButtons: [ \"edit\", \"spacer\", \"delete\" ]\n    });\n\n    var TaskBoardEditPane = TaskBoardPane.extend({\n        init: function(taskboard, options, dataItem) {\n            var that = this;\n\n            options = extend({}, options.editable, {\n                dataTitleField: options.dataTitleField,\n                dataDescriptionField: options.dataDescriptionField,\n                messages: options.messages,\n                states: options.states\n            });\n\n            that.formSettings = extend(that.formSettings, {\n                items: [\n                    { field: options.dataTitleField, label: options.messages[options.dataTitleField] },\n                    { field: options.dataDescriptionField, label: options.messages[options.dataDescriptionField] }\n                ]\n            }, options.form);\n\n            TaskBoardPane.fn.init.call(that, taskboard, options, dataItem);\n\n            that.element.addClass(TaskBoardPane.styles.edit);\n        },\n        defaultButtons: [ \"saveChanges\", \"cancel\" ],\n        formSettings: {\n            buttonsTemplate: () => \"\"\n        },\n        _buildHeaderTemplate: function(dataItem) {\n            var that = this;\n            return `${that.options.messages.edit} ${encode(kendo.getter(that.options.dataTitleField)(dataItem))}`;\n        },\n        _renderContent: function() {\n            var that = this,\n                options = that.options,\n                styles = TaskBoardPane.styles,\n                formSettings = options.form || that.formSettings,\n                formLabelId = kendo.guid(),\n                element = $(\"<div></div>\")\n                    .attr(\"role\", \"form\")\n                    .attr(\"aria-labelledby\", formLabelId),\n                focusFirst = (options.form && options.form.focusFirst !== undefined$1) ? options.form.focusFirst : true;\n\n            that.header.find(DOT + styles.headerText).attr(\"id\", formLabelId);\n\n            that.content.append(element);\n\n            that.form = new Form(element, extend({}, formSettings, {\n                formData: that._dataItem,\n                focusFirst: focusFirst\n            }));\n        }\n    });\n\n    var TaskBoardCreatePane = TaskBoardEditPane.extend({\n        init: function(taskboard, options, dataItem, resources, column) {\n            var that = this,\n                columnStatusField = options.columnSettings.dataStatusField,\n                firstColumn = taskboard.columnsDataSource.view().at(0),\n                status = column ? column[columnStatusField] : firstColumn[columnStatusField],\n                clone = extend({}, dataItem);\n\n            dataItem = taskboard.dataSource.add();\n            dataItem.set(options.dataStatusField, status);\n\n            for (var key in clone) {\n                dataItem.set(key, clone[key]);\n            }\n\n            TaskBoardEditPane.fn.init.call(that, taskboard, options, dataItem, resources);\n        },\n        _buildHeaderTemplate: function(dataItem) {\n            var that = this;\n            return that.options.messages.createNewCard;\n        },\n        defaultButtons: [ \"create\", \"cancel\"]\n    });\n\n    extend(kendo.ui.taskboard, {\n        Pane: TaskBoardPane,\n        panes: {\n            Preview: TaskBoardPreviewPane,\n            Edit: TaskBoardEditPane,\n            Create: TaskBoardCreatePane\n        }\n    });\n\n    extend(true, kendo.ui.taskboard.Pane, { styles: TaskBoardPaneStyles });\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        Observable = kendo.Observable,\n\n        extend = $.extend,\n\n        DOT = \".\",\n        NS = DOT + \"kendoKeyboardManager\",\n        KEYDOWN = \"keydown\",\n        ACTION = \"action\";\n\n\n    var Keyboard = Observable.extend({\n        init: function(element) {\n            var that = this;\n\n            that.register = {};\n            that.element = element;\n\n            that._attachEvents();\n\n            Observable.fn.init.call(that);\n        },\n\n        registerShortcut: function(selector, shortcut, options) {\n            var that = this;\n\n            if (!that.register[selector]) {\n                that.register[selector] = [];\n            }\n\n            if (shortcut.keyCode && isNaN(shortcut.keyCode) && shortcut.keyCode.toUpperCase) {\n                shortcut.keyCode = shortcut.keyCode.toUpperCase().charCodeAt(0);\n            }\n\n            that.register[selector].push({\n                shortcut: extend({\n                    keyCode: null,\n                    ctrlKey: false,\n                    shiftKey: false,\n                    altKey: false\n                }, shortcut),\n                options: options\n            });\n\n        },\n\n        _attachEvents: function() {\n            var that = this,\n                handler = that._handler.bind(that);\n\n            that.element.on(KEYDOWN + NS, handler);\n        },\n\n        _handler: function(ev) {\n            var that = this,\n                target = $(ev.target),\n                shortcuts, action;\n\n            for (var selector in that.register) {\n                if (target.is(selector)) {\n                    shortcuts = that.register[selector];\n                    action = that._getAction(shortcuts, ev);\n\n                    if (action) {\n                        that._trigger(action, ev);\n                        break;\n                    }\n                }\n            }\n        },\n\n        _trigger: function(action, ev) {\n            var that = this,\n                target = $(ev.target);\n\n            if (action.command) {\n                that.trigger(ACTION, extend({}, ev, {\n                    command: action.command,\n                    options: extend({}, {\n                        target: target\n                    }, action.options)\n                }));\n            }\n\n            if (action.handler) {\n                action.handler(ev);\n            }\n        },\n\n        _getAction: function(shortcuts, ev) {\n            var that = this;\n\n            for (var i = 0; i < shortcuts.length; i++) {\n                if (that._compareShortcut(shortcuts[i].shortcut, ev)) {\n                    return shortcuts[i].options;\n                }\n            }\n        },\n\n        _compareShortcut: function(shortcut, ev) {\n            var that = this;\n\n            for (var key in shortcut) {\n                var result = false;\n\n                switch (key) {\n                    case \"ctrlKey\":\n                        result = shortcut[key] !== that._getShortcutModifier(ev);\n                        break;\n                    default:\n                        result = shortcut[key] !== ev[key];\n                        break;\n                }\n\n                if (result) {\n                    return false;\n                }\n            }\n\n            return true;\n        },\n\n        _getShortcutModifier: function(ev) {\n            var mac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n            return mac ? ev.metaKey : ev.ctrlKey;\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.element.off(NS);\n        }\n    });\n\n    extend(kendo.ui.taskboard, {\n        KeyboardManager: Keyboard\n    });\n\n})(window.kendo.jQuery);\n\nconst __meta__ = {\n        id: \"taskboard\",\n        name: \"TaskBoard\",\n        category: \"web\",\n        description: \"The TaskBoard widget displays cards.\",\n        depends: [\"data\", \"sortable\", \"dialog\", \"form\", \"menu\", \"toolbar\", \"textbox\"]\n    };\n\n    var TaskBoardStyles = {\n        wrapper: \"k-taskboard\",\n        header: \"k-taskboard-header\",\n        content: \"k-taskboard-content\",\n        toolbar: \"k-taskboard-toolbar\",\n        columnsContainer: \"k-taskboard-columns-container\",\n        card: \"k-taskboard-card\",\n        column: \"k-taskboard-column\",\n        selected: \"k-selected\",\n        disabled: \"k-disabled\",\n        ignoreDrag: \"k-taskboard-drag-ignore\"\n    };\n\n    var preventDefault = function(ev) { ev.preventDefault(); };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            DataSource = kendo.data.DataSource,\n            extend = $.extend,\n            ui = kendo.ui,\n            isArray = Array.isArray,\n            isPlainObject = $.isPlainObject,\n\n            GENERIC = \"_generic\",\n\n            DOT = \".\",\n\n            MOVE = \"move\",\n            MOVE_START = \"moveStart\",\n            MOVE_END = \"moveEnd\",\n            SELECT = \"select\",\n            EXECUTE = \"execute\",\n            ACTION = \"action\",\n            CHANGE = \"change\",\n            CLICK = \"click\",\n            TOGGLE = \"toggle\",\n            ERROR = \"change\",\n            DATABINDING = \"dataBinding\",\n            DATABOUND = \"dataBound\",\n            EDIT_CARD = \"editCard\",\n            SAVE_CARD = \"saveCard\",\n            DELETE_CARD = \"deleteCard\",\n            EDIT_COLUMN = \"editColumn\",\n            SAVE_COLUMN = \"saveColumn\",\n            DELETE_COLUMN = \"deleteColumn\",\n\n            COLUMNSDATABINDING = \"columnsDataBinding\",\n            COLUMNSDATABOUND = \"columnsDataBound\";\n\n        var TaskBoard = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n\n                element = that.wrapper = that.element;\n\n                that._sortableIdentifier = that.element.attr(\"id\") || kendo.guid();\n\n                that._wrapper();\n                that._columnsDataSource();\n                that._initResources();\n                that._dataSource();\n                that._initToolbar();\n                that._initCardMenu();\n                that._initKeyboard();\n\n                if (that.options.autoBind) {\n                    that.load();\n                }\n\n                kendo.notify(that);\n            },\n\n            events: [\n                MOVE,\n                MOVE_START,\n                MOVE_END,\n                CHANGE,\n                EXECUTE,\n                SELECT,\n                DATABINDING,\n                DATABOUND,\n                COLUMNSDATABINDING,\n                COLUMNSDATABOUND,\n                EDIT_CARD,\n                SAVE_CARD,\n                DELETE_CARD,\n                EDIT_COLUMN,\n                SAVE_COLUMN,\n                DELETE_COLUMN\n            ],\n\n            options: {\n                name: \"TaskBoard\",\n                autoBind: true,\n                height: 600,\n                width: \"100%\",\n                toolbar: true,\n                dataStatusField: \"status\",\n                dataTitleField: \"title\",\n                dataDescriptionField: \"description\",\n                dataCategoryField: \"category\",\n                dataOrderField: null,\n                cardMenu: true,\n                editable: true,\n                selectable: true,\n                reorderable: true,\n                previewPane: true,\n                search: {\n                    operator: \"contains\"\n                },\n                dataSource: [],\n                columns: [],\n                columnSettings: {\n                    dataStatusField: \"status\",\n                    dataTextField: \"text\",\n                    dataOrderField: null\n                },\n                resources: [],\n                messages: {\n                    edit: \"Edit\",\n                    createNewCard: \"Create new card\",\n                    create: \"Create\",\n                    search: \"Search\",\n                    previewCard: \"Preview card\",\n                    addCard: \"Add card\",\n                    editCard: \"Edit card\",\n                    deleteCard: \"Delete Card\",\n                    addColumn: \"Add column\",\n                    editColumn: \"Edit column\",\n                    deleteColumn: \"Delete column\",\n                    close: \"Close\",\n                    cancel: \"Cancel\",\n                    \"delete\": \"Delete\",\n                    saveChanges: \"Save changes\",\n                    title: \"Title:\",\n                    description: \"Description:\",\n                    newColumn: \"New column\",\n                    deleteColumnConfirm: \"Are you sure you want to delete this column?\",\n                    deleteCardConfirm: \"Are you sure you want to delete this card?\"\n                }\n            },\n\n            defaultTools: {\n                addColumn: { type: \"button\", name: \"addColumn\", command: \"AddColumnCommand\", icon: \"plus\", rules: \"isEditable\" },\n                spacer: { type: \"spacer\" },\n                search: {\n                    type: \"component\",\n                    name: \"search\",\n                    command: \"SearchCommand\",\n                    options: \"{ \\\"field\\\": \\\"name\\\", \\\"operator\\\": \\\"startswith\\\" }\",\n                    rules: \"isSearchable\",\n                    overflow: \"never\",\n                    component: \"TextBox\",\n                    componentOptions: {\n                        placeholder: \"search\",\n                        icon: \"search\",\n                        commandOn: \"input\"\n                    }\n                }\n            },\n\n            items: function() {\n                var that = this,\n                    result = $([]);\n\n                for (var key in that._columns) {\n                    $.merge(result, that._columns[key].cards());\n                }\n\n                return result;\n            },\n\n            itemsByStatus: function(status) {\n                var that = this,\n                    result = that._getColumn(status).cards();\n\n                return result;\n            },\n\n            itemsByColumn: function(columnElm) {\n                var that = this,\n                    column = that._getColumnByElement(columnElm);\n\n                if (column) {\n                    return column.cards();\n                }\n            },\n\n            load: function() {\n                var that = this,\n                    fetchPromises = [];\n\n                that._progress(true);\n\n                fetchPromises.push(that.columnsDataSource.fetch());\n\n                for (var key in that.resources) {\n                    fetchPromises.push(that.resources[key].dataSource.fetch());\n                }\n\n                $.when.apply(null, fetchPromises)\n                    .then(that.dataSource.read.bind(that.dataSource));\n            },\n\n            dataItem: function(cardElm) {\n                var that = this,\n                    dataSource = that.dataSource,\n                    uid;\n\n                cardElm = $(cardElm);\n                uid = cardElm.attr(kendo.attr(\"uid\"));\n\n                return dataSource.getByUid(uid);\n            },\n\n            columnDataItem: function(columnElm) {\n                var that = this,\n                    columnsDataSource = that.columnsDataSource,\n                    uid;\n\n                columnElm = $(columnElm);\n                uid = columnElm.attr(kendo.attr(\"uid\"));\n\n                return columnsDataSource.getByUid(uid);\n            },\n\n            columns: function() {\n                var that = this,\n                    result = $([]);\n\n                for (var key in that._columns) {\n                    $.merge(result, that._columns[key].element);\n                }\n\n                return result;\n            },\n\n            columnByStatus: function(status) {\n                return this._getColumn(status).element;\n            },\n\n            select: function(card, toggle) {\n                var that = this;\n\n                if (!card) {\n                    return that.element\n                        .find(DOT + TaskBoard.styles.card + DOT + TaskBoard.styles.selected).eq(0);\n                }\n\n                card = $(card);\n                toggle = toggle !== false;\n\n                if (toggle) {\n                    that.element\n                        .find(DOT + TaskBoard.styles.card + DOT + TaskBoard.styles.selected)\n                        .removeClass(TaskBoard.styles.selected);\n                }\n\n                card.toggleClass(TaskBoard.styles.selected, toggle);\n            },\n\n            previewCard: function(cardElement) {\n                var that = this,\n                    options = that.options,\n                    args = that._extendExecArgs({ target: cardElement });\n\n                if (options.previewPane) {\n                    that._openPane(extend({\n                        pane: \"Preview\"\n                    }, args));\n                }\n            },\n\n            editCard: function(cardElement) {\n                var that = this,\n                    options = that.options,\n                    args;\n\n                cardElement = $(cardElement);\n                args = that._extendExecArgs({ target: cardElement });\n\n                if (options.editable) {\n                    that._openPane(extend({\n                        pane: \"Edit\"\n                    }, args));\n                }\n            },\n\n            saveCard: function() {\n                var that = this;\n\n                that.dataSource.sync();\n            },\n\n            deleteCard: function(cardElement) {\n                var that = this,\n                    card = that.dataItem(cardElement);\n\n                that.dataSource.remove(card);\n                that.dataSource.sync();\n            },\n\n            addCard: function(dataItem) {\n                var that = this,\n                    options = that.options,\n                    args = { card: dataItem };\n\n                if (options.editable) {\n                    that._openPane(extend({\n                        pane: \"Create\"\n                    }, args));\n                }\n            },\n\n            addColumn: function(index, data) {\n                var that = this,\n                    columnSettings = extend(true, {}, that.options.columnSettings, {\n                        messages: that.options.messages,\n                        states: that._buildStates(),\n                        sortableIdentifier: that._sortableIdentifier\n                    }),\n                    newColumn, model, column;\n\n                if (isNaN(index) && !data) {\n                    data = index;\n                    index = null;\n                }\n\n                model = that.columnsDataSource._createNewModel(data);\n                index = isNaN(index) || index === null ? that.columnsDataSource.data().length : index;\n                column = that.columns().eq(index);\n                that.columnsDataSource.insert(index, model);\n\n                newColumn = new ui.taskboard.NewColumn(columnSettings, model);\n\n                if (isNaN(index) || !column.length) {\n                    that.columnsContainer.append(newColumn.element);\n                } else {\n                    column.before(newColumn.element);\n                }\n\n                newColumn.bind(ACTION, that.executeCommand.bind(that));\n            },\n\n            editColumn: function(columnElement) {\n                var that = this;\n\n                columnElement = $(columnElement);\n\n                that._getColumnByElement(columnElement).edit();\n            },\n\n            saveColumn: function() {\n                var that = this;\n\n                that.columnsDataSource.sync();\n            },\n\n            deleteColumn: function(columnElement) {\n                var that = this,\n                    column = that.columnDataItem(columnElement);\n\n                that.columnsDataSource.remove(column);\n                that.columnsDataSource.sync();\n            },\n\n            registerShortcut: function(selector, shortcut, options) {\n                var that = this;\n\n                that.keyboardManager.registerShortcut(selector, shortcut, options);\n            },\n\n            enable: function(cardElement, toggle) {\n                cardElement = $(cardElement);\n\n                cardElement.toggleClass(TaskBoard.styles.disabled, toggle === false);\n                cardElement.attr(\"aria-disabled\", toggle === false);\n            },\n\n            enableByColumn: function(columnElement, toggle) {\n                var that = this;\n\n                columnElement = $(columnElement);\n\n                that.itemsByColumn(columnElement).each(function(index, card) {\n                    that.enable(card, toggle);\n                });\n            },\n\n            readOnly: function(cardElement, toggle) {\n                cardElement = $(cardElement);\n\n                toggle = toggle !== false;\n\n                cardElement.find(\"[\" + kendo.attr(\"command\") + \"]\").toggleClass(TaskBoard.styles.disabled, toggle);\n                cardElement.find(\"a,button\").toggleClass(TaskBoard.styles.disabled, toggle);\n\n                cardElement.toggleClass(TaskBoard.styles.ignoreDrag, toggle);\n                cardElement.attr(\"aria-readonly\", toggle);\n            },\n\n            readOnlyByColumn: function(columnElement, toggle) {\n                var that = this;\n\n                columnElement = $(columnElement);\n\n                that.itemsByColumn(columnElement).each(function(index, card) {\n                    that.readOnly(card, toggle);\n                });\n            },\n\n            setDataSource: function(dataSource) {\n                var that = this;\n\n                that.options.dataSource = dataSource;\n                that._dataSource();\n\n                if (that.options.autoBind) {\n                    that.dataSource.read();\n                }\n            },\n\n            setColumnsDataSource: function(dataSource) {\n                var that = this;\n\n                that.options.columns = dataSource;\n                that._columnsDataSource();\n\n                if (that.options.autoBind) {\n                    that.columnsDataSource.fetch(function() {\n                        that._renderCards(that.dataSource.view());\n                    });\n                }\n            },\n\n            _getColumn: function(status) {\n                return this._columns[status];\n            },\n\n            _getColumnByElement: function(columnElement) {\n                var that = this;\n\n                columnElement = $(columnElement);\n\n                for (var key in that._columns) {\n                    if (that._columns[key].element[0] === columnElement[0]) {\n                        return that._columns[key];\n                    }\n                }\n            },\n\n            _openPane: function(options) {\n                var that = this,\n                    pane = new ui.taskboard.panes[options.pane](that, extend({}, that.options, {\n                        states: that._buildStates()\n                    }), options.card, that.resources, options.column),\n                    keyboardManager;\n\n                if (that.pane) {\n                    that._closePane();\n                }\n\n                that.pane = pane;\n                that.content.after(that.pane.element);\n                that.content.css(\"margin-right\",\n                    that.pane.element.outerWidth() -\n                    parseInt(that.content.css(\"paddingRight\"), 10));\n\n                that.pane.bind(ACTION, that.executeCommand.bind(that));\n\n                that.pane.keyboardManager = keyboardManager = new ui.taskboard.KeyboardManager(that.pane.element);\n\n                keyboardManager.bind(ACTION, that.executeCommand.bind(that));\n\n                keyboardManager.registerShortcut(\"*\", {\n                    keyCode: kendo.keys.ESC\n                }, { command: \"ClosePaneCommand\" });\n\n                keyboardManager.registerShortcut(\"*\", {\n                    keyCode: kendo.keys.ENTER\n                }, { command: \"SaveChangesCommand\", options: {\n                    card: that.pane._dataItem\n                } });\n\n                if (this.options.editable && this.options.editable.form && this.options.editable.form.focusFirst === false) {\n                    setTimeout(function() {\n                        that.pane.element.find(\"button\").eq(0).trigger(\"focus\");\n                    }, 0);\n                }\n            },\n\n            _closePane: function() {\n                var that = this;\n\n                if (that.pane) {\n                    that.pane.keyboardManager.destroy();\n                    that.pane.unbind(ACTION);\n                    that.pane.destroy();\n                    delete that.pane;\n\n                    that.content.css(\"margin-right\", \"\");\n                }\n            },\n\n            _wrapper: function() {\n                var that = this,\n                    options = that.options,\n                    styles = TaskBoard.styles,\n                    headerElm = \"<div class='\" + styles.header + \"'></div>\",\n                    contentElm = \"<div class='\" + styles.content + \"'></div>\",\n                    colsContainer = \"<div class='\" + styles.columnsContainer + \"'></div>\";\n\n                that.element.addClass(styles.wrapper)\n                    .width(options.width)\n                    .height(options.height)\n                    .attr(\"role\", \"application\");\n                that.header = $(headerElm).appendTo(that.element);\n                that.content = $(contentElm).appendTo(that.element);\n                that.columnsContainer = $(colsContainer).appendTo(that.content);\n            },\n\n            _initToolbar: function() {\n                var that = this,\n                    styles = TaskBoard.styles,\n                    options = that.options,\n                    toolbarElm = $(\"<div class='\" + styles.toolbar + \"'></div>\"),\n                    toolbarOptions = isArray(options.toolbar) ? { items: options.toolbar } : options.toolbar,\n                    tools;\n\n                if (options.toolbar === false) {\n                    return;\n                } else if (toolbarOptions === true) {\n                    toolbarOptions = {};\n                }\n\n                tools = toolbarOptions.items ? toolbarOptions.items : Object.keys(that.defaultTools);\n                tools = that._processTools(tools);\n                toolbarOptions.tools = tools;\n                toolbarOptions.defaultTools = that.defaultTools;\n                toolbarOptions.parentMessages = that.options.messages;\n\n                that.header.append(toolbarElm);\n                that.toolbar = new kendo.ui.ToolBar(toolbarElm, toolbarOptions);\n                that.options.toolbar = that.toolbar.options;\n\n                that.toolbar.bind(CLICK, that._toolbarClick.bind(that));\n                that.toolbar.bind(TOGGLE, that._toolbarClick.bind(that));\n                that.toolbar.bind(CHANGE, that._toolbarClick.bind(that));\n            },\n\n            _processTools: function(tools) {\n                var that = this,\n                    states = that._buildStates(),\n                    isDefaultTool;\n\n                tools.forEach(t => {\n                    var rules = t.rules || that.defaultTools[t] ? that.defaultTools[t].rules : null;\n                    isDefaultTool = isPlainObject(t) && Object.keys(t).length >= 1 && t.name && that.defaultTools[t.name];\n\n                    if (isDefaultTool) {\n                        var temp = extend({}, t);\n                        extend(t, that.defaultTools[t.name], temp);\n                    }\n\n                    if (isDefaultTool && t.name == \"search\") {\n                        extend(t.componentOptions, {\n                            icon: t.icon || that.defaultTools[t.name].componentOptions.icon,\n                            placeholder: t.text || that.options.messages.search\n                        });\n                    }\n\n                    if (!rules) {\n                        return;\n                    }\n\n                    rules = rules.split(\";\");\n\n                    if (!rules.length) {\n                        return;\n                    }\n\n                    for (var i = 0; i < rules.length; i++) {\n                        if (!states[rules[i]]) {\n                            if (t.rules) {\n                                t.hidden = true;\n                            } else {\n                                that.defaultTools[t].hidden = true;\n                            }\n                        }\n                    }\n                });\n\n                return tools;\n            },\n\n            _toolbarClick: function(ev) {\n                var command = $(ev.target).data(\"command\"),\n                    options = $(ev.target).data(\"options\");\n\n                options = extend({}, options, { value: $(ev.target).val() });\n\n                if (!command) {\n                    return;\n                }\n\n                this.executeCommand({\n                    command: command,\n                    options: options\n                });\n            },\n\n            _isToolEnabled: function(toolName) {\n                var that = this,\n                    options = that.options.toolbar,\n                    items = options.items || that.defaultTools,\n                    found = false;\n\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].name == toolName) {\n                        found = true;\n                        break;\n                    }\n                }\n\n                return items[toolName] || found;\n            },\n\n            _buildStates: function() {\n                var that = this;\n\n                return {\n                    isEditable: that._isEditable(),\n                    isReorderable: that._isReorderable(),\n                    isSelectable: that._isSelectable(),\n                    isReadOnly: !that._isReorderable() && !that._isEditable(),\n                    isDisabled: !that._isReorderable() && !that._isEditable() && !that._isSelectable(),\n                    isSearchable: that._isSearchable(),\n                    notLocalColumns: !(that.columnsDataSource.transport instanceof kendo.data.LocalTransport),\n                    isRtl: kendo.support.isRtl(that.wrapper)\n                };\n            },\n\n            _isSearchable: function() {\n                return !!this.options.search;\n            },\n\n            _isEditable: function() {\n                return !!this.options.editable;\n            },\n\n            _isReorderable: function() {\n                return !!this.options.reorderable;\n            },\n\n            _isSelectable: function() {\n                return !!this.options.selectable;\n            },\n\n            executeCommand: function(args) {\n                var that = this,\n                    commandName = args.command,\n                    commandOptions = extend({ taskboard: this }, isPlainObject(args.options) ? that._extendExecArgs(args.options) : { value: args.options }),\n                    command = ui.taskboard.commands[commandName] && new ui.taskboard.commands[commandName](commandOptions);\n\n\n                if (!that.trigger(EXECUTE, args)) {\n                    if (command) {\n                        command.exec();\n                    } else {\n                        window.console.warn(kendo.format(\"Trying to use {0} command, but such is not available in the kendo.ui.taskboard.commands namespace!\", commandName));\n                    }\n                }\n            },\n\n            _extendExecArgs: function(args) {\n                var that = this,\n                    target = args.draggableEvent ? args.item : args.target,\n                    columnElm, cardElm, columnDataItem, cardDataItem;\n\n                if (args.card) {\n                    target = that.items().filter(function(idx, elm) {\n                        return $(elm).attr(kendo.attr(\"uid\")) === args.card.get(\"uid\");\n                    });\n                }\n\n                if (!target || !(target && target.length)) {\n                    return args;\n                }\n\n                columnElm = args.columnElement || (target.is(DOT + TaskBoard.styles.column) ? target : target.parents(DOT + TaskBoard.styles.column));\n                columnDataItem = that.columnsDataSource.getByUid(columnElm.data(kendo.ns + \"uid\"));\n                cardElm = target.is(DOT + TaskBoard.styles.card) ? target : target.closest(DOT + TaskBoard.styles.card);\n                cardDataItem = that.dataSource.getByUid(cardElm.data(kendo.ns + \"uid\"));\n\n                return extend(args, {\n                    card: cardDataItem,\n                    cardElement: cardElm.length ? cardElm : undefined$1,\n                    column: columnDataItem,\n                    columnElement: columnElm.length ? columnElm : undefined$1\n                });\n            },\n\n\n            _select: function(card, toggle) {\n                var that = this;\n\n                if (toggle === null) {\n                    toggle = true;\n                }\n\n                if (!that.trigger(SELECT, { card: card })) {\n                    that.select(card, toggle);\n                    that.previewCard(card);\n                }\n            },\n\n            _columnsDataSource: function() {\n                var that = this,\n                    options = that.options,\n                    columnSettings = options.columnSettings,\n                    columnsDataSource = options.columns;\n\n                columnsDataSource = isArray(columnsDataSource) ? { data: columnsDataSource } : columnsDataSource;\n\n                if (columnSettings.dataOrderField && !columnsDataSource.sort) {\n                    columnsDataSource.sort = { field: columnSettings.dataOrderField, dir: \"asc\" };\n                }\n\n                if (!columnsDataSource.schema) {\n                    var fields = {};\n\n                    fields[columnSettings.dataStatusField] = { type: \"string\", defaultValue: function() { return kendo.guid().split(\"-\")[0]; } };\n                    fields[columnSettings.dataTextField] = { type: \"string\" };\n\n                    if (columnSettings.dataOrderField) {\n                        fields[columnSettings.dataOrderField] = { type: \"number\" };\n                    }\n\n                    columnsDataSource.schema = {\n                        model: {\n                            fields: fields\n                        }\n                    };\n                }\n\n                if (that.columnsDataSource && that._columnsChangeHandler) {\n                    that.columnsDataSource.unbind(CHANGE, that._columnsChangeHandler);\n                    that.columnsDataSource.unbind(CHANGE, that._columnsErrorHandler);\n                } else {\n                    that._columnsChangeHandler = that._columnsDataSourceChange.bind(that);\n                    that._columnsErrorHandler = that._error.bind(that);\n                }\n\n                that.columnsDataSource = DataSource.create(columnsDataSource)\n                                .bind(CHANGE, that._columnsChangeHandler)\n                                .bind(ERROR, that._columnsErrorHandler);\n            },\n\n            _columnsDataSourceChange: function(ev) {\n                var that = this,\n                    view = that.columnsDataSource.view(),\n                    columnSettings = extend(true, {}, that.options.columnSettings, {\n                        messages: that.options.messages,\n                        states: that._buildStates(),\n                        sortableIdentifier: that._sortableIdentifier\n                     }),\n                    statusField = columnSettings.dataStatusField;\n\n                if (ev.action && ev.action !== \"sync\") {\n                    return;\n                }\n\n                if (that.trigger(COLUMNSDATABINDING, ev)) {\n                    return;\n                }\n\n                that._progress(true);\n\n                that._columns = {};\n                that.columnsContainer.html(\"\");\n\n                for (var i = 0; i < view.length; i++) {\n                    var data = view[i];\n                    var status = data[statusField] || GENERIC;\n                    var column;\n\n                    column = that._columns[status] = new ui.taskboard.Column(columnSettings, data);\n                    that.columnsContainer.append(column.element);\n                    column.bind(ACTION, that.executeCommand.bind(that));\n                    column.bind(MOVE, that._move.bind(that));\n                    column.bind(MOVE_END, that._moveEnd.bind(that));\n                    column.bind(MOVE_START, that._moveStart.bind(that));\n                    column.bind(CHANGE, that._changeOrder.bind(that));\n                    that._tabindex(column.element);\n                }\n\n                if (ev.action === \"sync\" || ev.action === undefined$1) {\n                    that._renderCards(that.dataSource.view());\n                }\n\n                that._progress(false);\n                that.trigger(COLUMNSDATABOUND, ev);\n            },\n\n            _move: function(ev) {\n                this.trigger(MOVE, this._extendExecArgs(ev));\n            },\n\n            _moveEnd: function(ev) {\n                this.trigger(MOVE_END, this._extendExecArgs(ev));\n            },\n\n            _moveStart: function(ev) {\n                this.trigger(MOVE_START, this._extendExecArgs(ev));\n            },\n\n            _changeOrder: function(ev) {\n                this.trigger(CHANGE, this._extendExecArgs(ev));\n            },\n\n            _dataSource: function() {\n                var that = this,\n                    options = that.options,\n                    dataSource = options.dataSource;\n\n                    dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n                if (options.dataOrderField && !dataSource.sort) {\n                    dataSource.sort = { field: options.dataOrderField, dir: \"asc\" };\n                }\n\n                if (!dataSource.schema) {\n                    var fields = {};\n\n                    fields[options.dataStatusField] = { type: \"string\" };\n                    fields[options.dataTitleField] = { type: \"string\" };\n                    fields[options.dataDescriptionField] = { type: \"string\" };\n                    fields[options.dataCategoryField] = { type: \"string\" };\n\n                    if (options.dataOrderField) {\n                        fields[options.dataOrderField] = { type: \"number\" };\n                    }\n\n                    dataSource.schema = {\n                        model: {\n                            fields: fields\n                        }\n                    };\n                }\n\n                if (that.dataSource && that._changeHandler) {\n                    that.dataSource.unbind(CHANGE, that._changeHandler);\n                    that.dataSource.unbind(ERROR, that._errorHandler);\n                } else {\n                    that._changeHandler = that._change.bind(that);\n                    that._errorHandler = that._error.bind(that);\n                }\n\n                that.dataSource = DataSource.create(dataSource)\n                                .bind(CHANGE, that._changeHandler);\n            },\n\n            _change: function(ev) {\n                var that = this;\n\n                if (ev.action && ev.action !== \"sync\") {\n                    return;\n                }\n\n                if (that.trigger(DATABINDING, ev)) {\n                    return;\n                }\n\n                that._progress(true);\n\n                that._clearColumns();\n                that._renderCards(that.dataSource.view());\n                that._closePane();\n\n                that.trigger(DATABOUND, ev);\n                that._progress(false);\n            },\n\n            _error: function() {\n                this._progress(false);\n            },\n\n            _renderCards: function(data) {\n                var that = this;\n\n                for (var i = 0; i < data.length; i++) {\n                    that._renderCard(data[i]);\n                }\n            },\n\n            _renderCard: function(card) {\n                var that = this,\n                    options = extend({}, that.options, { states: that._buildStates() }),\n                    statusField = options.dataStatusField,\n                    status = card[statusField] || GENERIC;\n\n                if (status && that._columns[status]) {\n                    card = new ui.taskboard.Card(options, card, that.resources);\n                    that._columns[status].addCard(card.element);\n                    that._tabindex(card.element);\n                }\n            },\n\n            _clearColumns: function() {\n                var that = this;\n\n                for (var key in that._columns) {\n                    that._columns[key].empty();\n                }\n            },\n\n            _initCardMenu: function() {\n                var that = this,\n                    options = that.options,\n                    cardMenuOptions = isArray(options.cardMenu) ? { items: options.cardMenu } : options.cardMenu;\n\n                cardMenuOptions = extend({}, {\n                    messages: options.messages,\n                    target: that.columnsContainer,\n                    filter: \".k-taskboard-card-menu-button\",\n                    action: that.executeCommand.bind(that),\n                    showOn: \"click\",\n                    alignToAnchor: true,\n                    states: that._buildStates()\n                }, cardMenuOptions);\n\n                if (options.cardMenu === false) {\n                    return;\n                }\n\n                that.cardMenu = new ui.taskboard.CardMenu(\"<ul></ul>\", cardMenuOptions);\n            },\n\n            _initResources: function() {\n                var that = this,\n                    resources = that.options.resources;\n\n                for (var i = 0; i < resources.length; i++) {\n                    that._addResource(resources[i]);\n                }\n            },\n\n            _addResource: function(resource) {\n                var that = this;\n\n                if (!that.resources) {\n                    that.resources = {};\n                }\n\n                that.resources[resource.field] = {\n                    field: resource.field,\n                    name: resource.name,\n                    title: resource.title || resource.field,\n                    dataTextField: resource.dataTextField || \"text\",\n                    dataValueField: resource.dataValueField || \"value\",\n                    dataColorField: resource.dataColorField || \"color\",\n                    valuePrimitive: resource.valuePrimitive === false ? false : true,\n                    multiple: resource.multiple || false,\n                    dataSource: that._resourceDataSource(resource.dataSource)\n                };\n            },\n\n            _resourceDataSource: function(resourceDS) {\n                var dataSource = isArray(resourceDS) ? { data: resourceDS } : resourceDS,\n                    dataSourceInstance = kendo.data.DataSource.create(dataSource);\n\n                return dataSourceInstance;\n            },\n\n            _progress: function(toggle) {\n                var that = this;\n\n                kendo.ui.progress(that.element, toggle);\n            },\n\n            _initKeyboard: function() {\n                var that = this;\n\n                that.keyboardManager = new ui.taskboard.KeyboardManager(that.element);\n\n                that.keyboardManager.bind(ACTION, that.executeCommand.bind(that));\n                that._registerShortcuts();\n            },\n\n            _registerShortcuts: function() {\n                var that = this,\n                    states = that._buildStates();\n\n                if (states.isEditable) {\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column, {\n                        keyCode: kendo.keys.DELETE\n                    }, { command: \"DeleteColumnCommand\" });\n\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column, {\n                        keyCode: \"e\",\n                        ctrlKey: true\n                    }, { command: \"EditColumnCommand\", handler: preventDefault });\n\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column, {\n                        keyCode: \"a\",\n                        ctrlKey: true\n                    }, { command: \"AddCardCommand\", handler: preventDefault });\n\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column + \" *\", {\n                        keyCode: kendo.keys.ESC\n                    }, { command: \"CancelEditColumnCommand\" });\n\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                        keyCode: kendo.keys.DELETE\n                    }, { command: \"DeleteCardCommand\" });\n\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                        keyCode: \"e\",\n                        ctrlKey: true\n                    }, { command: \"EditCardCommand\", handler: preventDefault });\n                }\n\n                if (states.isSelectable) {\n                    that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                        keyCode: kendo.keys.ENTER\n                    }, { command: \"SelectCardCommand\", handler: preventDefault });\n                }\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                    keyCode: kendo.keys.UP\n                }, { command: \"MoveFocusCommand\", options: { value: \"up\" }, handler: preventDefault });\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                    keyCode: kendo.keys.DOWN\n                }, { command: \"MoveFocusCommand\", options: { value: \"down\" }, handler: preventDefault });\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                    keyCode: kendo.keys.LEFT\n                }, { command: \"MoveFocusCommand\", options: { value: \"left\" }, handler: preventDefault });\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.card, {\n                    keyCode: kendo.keys.RIGHT\n                }, { command: \"MoveFocusCommand\", options: { value: \"right\" }, handler: preventDefault });\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column, {\n                    keyCode: kendo.keys.LEFT\n                }, { command: \"MoveFocusCommand\", options: { value: \"left\" }, handler: preventDefault });\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column, {\n                    keyCode: kendo.keys.RIGHT\n                }, { command: \"MoveFocusCommand\", options: { value: \"right\" }, handler: preventDefault });\n\n                that.keyboardManager.registerShortcut(DOT + TaskBoard.styles.column, {\n                    keyCode: kendo.keys.DOWN\n                }, { command: \"MoveFocusCommand\", options: { value: \"down\" }, handler: preventDefault });\n            },\n\n            destroy: function() {\n                var that = this;\n\n                if (that._columnsChangeHandler) {\n                    that.columnsDataSource.unbind(CHANGE, that._columnsChangeHandler);\n                    that.columnsDataSource.unbind(CHANGE, that._columnsErrorHandler);\n                }\n\n                if (that._changeHandler) {\n                    that.dataSource.unbind(CHANGE, that._changeHandler);\n                    that.dataSource.unbind(ERROR, that._errorHandler);\n                }\n\n                for (var key in that._columns) {\n                    that._columns[key].destroy();\n                }\n\n                if (that.toolbar) {\n                    that.toolbar.destroy();\n                }\n\n                if (that.cardMenu) {\n                    that.cardMenu.destroy();\n                }\n\n                if (that.keyboardManager) {\n                    that.keyboardManager.destroy();\n                }\n\n                if (that.pane) {\n                    that._closePane();\n                }\n\n                Widget.fn.destroy.call(that);\n            }\n        });\n\n        kendo.ui.plugin(TaskBoard);\n\n        extend(true, TaskBoard, { styles: TaskBoardStyles });\n\n    })(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { __meta__, kendo$1 as default };\n"]}
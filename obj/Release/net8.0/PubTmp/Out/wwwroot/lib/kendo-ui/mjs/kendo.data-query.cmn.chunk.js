/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
const __meta__={id:"data-query.cmn.chunk",name:"DataQueryCmnChunk",category:"web",description:"A reusable outputed chunk of code",depends:[],hidden:!0,chunk:!0};var isPresent=function(e){return null!=e},isBlank=function(e){return null==e},isArray=function(e){return Array.isArray(e)},isFunction=function(e){return"function"==typeof e},isString=function(e){return"string"==typeof e},isTruthy=function(e){return!!e},isNullOrEmptyString=function(e){return isBlank(e)||0===e.trim().length},isNotNullOrEmptyString=function(e){return!isNullOrEmptyString(e)},isNumeric=function(e){return!isNaN(e-parseFloat(e))},isDate=function(e){return e&&e.getTime},isCompositeFilterDescriptor=function(e){return isPresent(e.filters)},extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},extendStatics(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)};function __rest(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function __decorate(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function __param(e,t){return function(r,n){t(r,n,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function u(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,u)}s((n=n.apply(e,t||[])).next())}))}function __generator(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function __createBinding(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function __exportStar(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)n[i]=o[a];return n}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||u(e,t)}))})}function u(e,t){try{(r=i[e](t)).value instanceof __await?Promise.resolve(r.value.v).then(s,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function s(e){u("next",e)}function c(e){u("throw",e)}function l(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function __asyncDelegator(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:__await(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function __classPrivateFieldSet(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var templateObject_1$1,templateObject_2$1,templateObject_1,templateObject_2,ifElse=function(e,t,r){return function(n){return e(n)?t(n):r(n)}},compose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}},constant=function(e){return function(){return e}},identity$2=function(e){return e},wrapIf=function(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e()?""+t[0]+r[0]+t[1]:r[0]}},toUTC=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},quote=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:"'"+r.replace(/'/g,"''")+"'",field:t,ignoreCase:n,operator:i}},encodeValue=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:""+encodeURIComponent(r),field:t,ignoreCase:n,operator:i}},toLower=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{field:wrapIf((function(){return n}))(templateObject_1$1||(templateObject_1$1=__makeTemplateObject(["tolower(",")"],["tolower(",")"])),t),value:r,ignoreCase:n,operator:i}},normalizeField=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:r,field:t.replace(/\./g,"/"),ignoreCase:n,operator:i}},isStringValue=function(e){return isString(e.value)},isDateValue=function(e){return isDate(e.value)},serializeFilters=function(e,t){return function(r){return wrapIf((function(){return r.filters.length>1}))(templateObject_2$1||(templateObject_2$1=__makeTemplateObject(["(",")"],["(",")"])),r.filters.map(e).join(t(r)))}},operatorMap=function(e){return{"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[e.toLowerCase()]||e},normalizeOperator=function(e){e.filters&&(e.filters=e.filters.map((function(e){var t=Object.assign({},e);return!isCompositeFilterDescriptor(e)&&isString(e.operator)&&(t.operator=operatorMap(e.operator)),isCompositeFilterDescriptor(e)&&normalizeOperator(t),t})))},normalizeDescriptor=function(e){return isCompositeFilterDescriptor(e)?Object.assign({},e):{filters:isArray(e)?e:[e],logic:"and"}},normalizeFilters=function(e){return isPresent(e)&&(e=normalizeDescriptor(e),normalizeOperator(e)),e},formatDate$1=function(e){var t=e.utcDates;return function(e){var r=e.field,n=e.value,i=e.ignoreCase,o=e.operator;return{value:(t?n:toUTC(n)).toISOString(),field:r,ignoreCase:i,operator:o}}},fnFormatter=function(e){var t=e.operator;return function(e){var r=e.field,n=e.value;return t+"("+r+","+n+")"}},singleOperatorFormatter=function(e){var t=e.operator;return function(e){var r=e.field,n=e.value;return r+" "+t+" "+n}},stringFormat=function(e){return compose(e,encodeValue,quote,toLower,normalizeField)},stringFnOperator=function(e){return stringFormat(fnFormatter(e))},stringOperator=function(e){return stringFormat(singleOperatorFormatter(e))},numericOperator=function(e){return compose(singleOperatorFormatter(e),normalizeField)},dateOperator=function(e){return compose(singleOperatorFormatter(e),normalizeField,formatDate$1(e))},ifDate=function(e){return ifElse(isDateValue,dateOperator(e),numericOperator(e))},typedOperator=function(e){return ifElse(isStringValue,stringOperator(e),ifDate(e))},appendEqual=function(e){return e+" eq -1"},nonValueExpression=function(e){return compose(e,normalizeField)},filterOperators=function(e,t){return{contains:stringFnOperator(__assign(__assign({},t),{operator:"contains"})),doesnotcontain:compose(appendEqual,stringFnOperator(__assign(__assign({},t),{operator:"indexof"}))),endswith:stringFnOperator(__assign(__assign({},t),{operator:"endswith"})),eq:typedOperator(__assign(__assign({},t),{operator:"eq"})),gt:typedOperator(__assign(__assign({},t),{operator:"gt"})),gte:typedOperator(__assign(__assign({},t),{operator:"ge"})),isempty:nonValueExpression((function(e){return e.field+" eq ''"})),isnotempty:nonValueExpression((function(e){return e.field+" ne ''"})),isnotnull:nonValueExpression((function(e){return e.field+" ne null"})),isnull:nonValueExpression((function(e){return e.field+" eq null"})),lt:typedOperator(__assign(__assign({},t),{operator:"lt"})),lte:typedOperator(__assign(__assign({},t),{operator:"le"})),neq:typedOperator(__assign(__assign({},t),{operator:"ne"})),startswith:stringFnOperator(__assign(__assign({},t),{operator:"startswith"}))}[e]},join$1=function(e){return" "+e.logic+" "},serialize$1=function(e){return function(t){return filterOperators(t.operator,e)(t)}},serializeAll=function(e){return serializeFilters((function(t){return ifElse(isCompositeFilterDescriptor,serializeAll(e),serialize$1(e))(t)}),join$1)},serializeFilter$1=function(e,t){return void 0===t&&(t={}),e.filters&&e.filters.length?"$filter="+serializeAll(t)(normalizeFilters(e)):""},serializeSort$1=function(e){var t=e.filter((function(e){return isPresent(e.dir)})).map((function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir?t+" desc":t})).join(",");return t?"$orderby="+t:t},emptyString=constant(""),concat$1=function(e){return function(t){return e+t}},serializeKey=function(e,t){return ifElse(isPresent,concat$1(e[0]),emptyString)(t)},rules$1=function(e,t){return function(r){return{filter:serializeFilter$1(t.filter||{},e),skip:serializeKey(templateObject_1||(templateObject_1=__makeTemplateObject(["$skip=",""],["$skip=",""])),t.skip),sort:serializeSort$1(t.sort||[]),take:serializeKey(templateObject_2||(templateObject_2=__makeTemplateObject(["$top=",""],["$top=",""])),t.take)}[r]}},toODataString=function(e,t){return void 0===t&&(t={}),Object.keys(e).map(rules$1(t,e)).filter(isNotNullOrEmptyString).join("&")},getterCache={},FIELD_REGEX=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;getterCache[void 0]=function(e){return e};var FilterOperator,getter=function(e,t){var r=e+t;if(getterCache[r])return getterCache[r];var n=[];return e.replace(FIELD_REGEX,(function(e,t,r,i){n.push(isPresent(t)?t:r||i)})),getterCache[r]=function(e){for(var r=e,i=0;i<n.length;i++)if(r=r[n[i]],!isPresent(r)&&t)return r;return r},getterCache[r]},toQueryString=function(e){return e.reduce((function(e,t){return __spreadArrays(e,[t[0]+"="+t[1]])}),[])},toObject=function(e){return e.reduce((function(e,t){var r,n=t[0],i=t[1];return __assign(__assign({},e),((r={})[n]=i,r))}),{})},pairwise=function(e){return function(t){return[e,t]}},empty=function(){return null},isNotEmptyArray=function(e){return isPresent(e)&&isArray(e)&&e.length>0},has=function(e){return function(t){return isPresent(e(t))}},isNotEmpty=function(e){return function(t){return isNotEmptyArray(e(t))}},runOrEmpty=function(e,t){return ifElse(e,t,empty)},calcPage=function(e){var t=e.skip,r=e.take;return Math.floor((t||0)/r)+1},formatDescriptors=function(e,t){return function(r){return e(r).map(t).join("~")}},removeAfter=function(e){return function(t){return t.slice(0,t.indexOf(e))}},replace=function(e){return compose.apply(void 0,e.map((function(e){var t=e[0],r=e[1];return function(e){return e.replace(new RegExp(t,"g"),r)}})))},sanitizeDateLiterals=replace([['"',""],[":","-"]]),removeAfterDot=removeAfter("."),directionFormatter=function(e){var t=e.field,r=e.dir;return t+"-"+(void 0===r?"asc":r)},aggregateFormatter=function(e){return e.field+"-"+e.aggregate},take$1=getter("take"),aggregates=getter("aggregates"),skip$1=getter("skip"),group=getter("group"),sort=getter("sort",!0),formatSort=formatDescriptors(sort,directionFormatter),formatGroup=formatDescriptors(group,directionFormatter),formatAggregates=formatDescriptors(aggregates,aggregateFormatter),prefixDateValue=function(e){return"datetime'"+e+"'"},formatDateValue=compose(prefixDateValue,removeAfterDot,sanitizeDateLiterals,JSON.stringify,toUTC),formatDate=function(e){var t=e.field,r=e.value,n=e.ignoreCase,i=e.operator;return{value:formatDateValue(r),field:t,ignoreCase:n,operator:i}},normalizeSort=function(e){return Object.assign({},e,{sort:(sort(e)||[]).filter((function(e){var t=e.dir;return isNotNullOrEmptyString(t)}))})},transformSkip=compose(pairwise("page"),calcPage),transformTake=compose(pairwise("pageSize"),take$1),transformGroup=compose(pairwise("group"),formatGroup),transformSort=compose(pairwise("sort"),formatSort),transformAggregates=compose(pairwise("aggregate"),formatAggregates),serializePage=runOrEmpty(has(skip$1),transformSkip),serializePageSize=runOrEmpty(has(take$1),transformTake),serializeGroup=runOrEmpty(isNotEmpty(group),transformGroup),serializeAggregates=runOrEmpty(has(aggregates),transformAggregates),serializeSort=compose(runOrEmpty(isNotEmpty(sort),transformSort),normalizeSort),hasField=function(e){var t=e.field;return isNotNullOrEmptyString(t)},filterFormatter=function(e){return e.field+"~"+e.operator+"~"+e.value},dateFormatter=ifElse(isDateValue,compose(filterFormatter,formatDate),filterFormatter),typedFormatter=function(e){return runOrEmpty(hasField,ifElse(isStringValue,compose(filterFormatter,quote,e?encodeValue:identity$2),dateFormatter))},join=function(e){return"~"+e.logic+"~"},serialize=function(e){return serializeFilters((function(t){return ifElse(isCompositeFilterDescriptor,serialize(e),typedFormatter(e))(t)}),join)},serializeFilter=function(e,t){var r=e.filter;if(r&&r.filters){var n=serialize(t)(r);if(n.length)return["filter",n]}return null},rules=function(e,t){return void 0===t&&(t=!0),function(r){return{aggregates:serializeAggregates(e),filter:serializeFilter(e,t),group:serializeGroup(e),skip:serializePage(e),sort:serializeSort(e),take:serializePageSize(e)}[r]}},toDataSourceRequestString=function(e){return toQueryString(Object.keys(e).map(rules(e)).filter(isPresent)).join("&")},toDataSourceRequest=function(e){return toObject(Object.keys(e).map(rules(e,!1)).filter(isPresent))},set=function(e,t,r){return t[e]=r,t},toCamelCase=function(e){return e.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()}))},prop=function(e){return function(t){var r=t[e];return isPresent(r)?r:t[toCamelCase(e)]}},member=prop("Member"),aggregateMethodName=prop("AggregateMethodName"),value=prop("Value"),convert=function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}},translateAggregate=convert((function(e,t,r){return set(r.toLowerCase(),t,e[r])})),translateAggregates=convert((function(e,t,r){return set(r,t,translateAggregate(e[r]))})),valueOrDefault=function(e,t){return isPresent(e)?e:t},normalizeGroup=function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:valueOrDefault(e.Key,valueOrDefault(e.key,e.value))}},translateGroup=compose((function(e){var t=e.field,r=e.hasSubgroups,n=e.value,i=e.aggregates,o=e.items;return{aggregates:translateAggregates(i),field:t,items:r?o.map(translateGroup):o,value:n}}),normalizeGroup),translateDataSourceResultGroups=function(e){return e.map(translateGroup)},translateAggregateResults=function(e){return(e||[]).reduce((function(e,t){return set(member(t),e,set(aggregateMethodName(t).toLowerCase(),e[member(t)]||{},value(t)))}),{})},compare=function(e,t){return isBlank(e)?e===t?0:-1:isBlank(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},compareDesc=function(e,t){return compare(t,e)},descriptorAsFunc=function(e){if("function"==typeof e.compare)return e.compare;var t=getter(e.field,!0);return function(r,n){return("asc"===e.dir?compare:compareDesc)(t(r),t(n))}},initial=function(e,t){return 0},composeSortDescriptors=function(e){return e.filter((function(e){return isPresent(e.dir)||isPresent(e.compare)})).map((function(e){return descriptorAsFunc(e)})).reduce((function(e,t){return function(r,n){return e(r,n)||t(r,n)}}),initial)},valueToString=function(e){return(e=isPresent(e)&&e.getTime?e.getTime():e)+""},groupCombinator=function(e){var t=getter(e,!0),r=0;return function(n,i){n[e]=n[e]||{};var o=t(i),a=valueToString(o),u=n[e][a]||{__position:r++,aggregates:{},items:[],value:o};return u.items.push(i),n[e][a]=u,n}},expandAggregates=function(e){return void 0===e&&(e={}),Object.keys(e).forEach((function(t){var r=e[t];Object.keys(r).forEach((function(e){r[e]=r[e].result()}))})),e},aggregatesFuncs=function(e){return{average:function(){var e=0,t=0;return{calc:function(r){isNumeric(r)?(e+=r,t++):e=r},result:function(){return isNumeric(e)?e/t:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(t){(e=isNumeric(e)||isDate(e)?e:t)<t&&(isNumeric(t)||isDate(t))&&(e=t)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(t){(e=isNumeric(e)||isDate(e)?e:t)>t&&(isNumeric(t)||isDate(t))&&(e=t)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(t){t=isPresent(t)?t:0,e+=t},result:function(){return e}}}}[e]()},aggregatesCombinator=function(e){var t=e.map((function(e){var t=getter(e.field,!0),r=(e.aggregate||"").toLowerCase(),n=getter(r,!0);return function(i,o){var a=i[e.field]||{},u=n(a)||aggregatesFuncs(r);return u.calc(t(o)),a[e.aggregate]=u,i[e.field]=a,i}}));return function(e,r){return t.reduce((function(e,t){return t(e,r)}),e)}},concat=function(e,t){return e.push(t),e},map=function(e){return function(t){return function(r,n,i){return t(r,e(n,i))}}},filter=function(e){return function(t){return function(r,n){return e(n)?t(r,n):r}}},isTransformerResult=function(e){return isPresent(e.__value)},reduced=function(e){return isTransformerResult(e)?e:{__value:e,reduced:!0}},take=function(e){return function(t){return function(r,n){return e-- >0?t(r,n):reduced(r)}}},takeWhile=function(e){return function(t){return function(r,n){return e(n)?t(r,n):reduced(r)}}},skip=function(e){return function(t){return function(r,n){return e--<=0?t(r,n):r}}},exec=function(e,t,r){for(var n=t,i=0,o=r.length;i<o;i++)if(n=e(n,r[i],i),isTransformerResult(n)){n=n.__value;break}return n},identity$1=map((function(e){return e})),aggregateBy=function(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=identity$1);var n={};if(!t.length)return n;var i=exec(r(aggregatesCombinator(t)),n,e);return expandAggregates(i)},logic={or:{concat:function(e,t){return function(r){return e(r)||t(r)}},identity:function(){return!1}},and:{concat:function(e,t){return function(r){return e(r)&&t(r)}},identity:function(){return!0}}},operatorsMap={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return isPresent(e)},isnull:function(e){return isBlank(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},dateRegExp=/^\/Date\((.*?)\)\/$/,convertValue=function(e,t){if(null!=e&&isString(e)){var r=dateRegExp.exec(e);if(r)return new Date(+r[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&isDate(e))return e.getTime();return e},typedGetter=function(e,t,r){if(!isPresent(t))return e;var n=e;if(isString(t)){var i=dateRegExp.exec(t);i?t=new Date(+i[1]):n=function(t){var n=e(t);return"string"==typeof n&&r?n.toLowerCase():isNumeric(n)?n+"":n}}return isDate(t)?function(e){var t=n(e);return isDate(t)?t.getTime():t}:n},transformFilter=function(e){var t=e.field,r=e.ignoreCase,n=e.value,i=e.operator;t=isPresent(t)?t:function(e){return e},r=!isPresent(r)||r;var o=typedGetter(isFunction(t)?t:getter(t,!0),n,r);n=convertValue(n,r);var a=isFunction(i)?i:operatorsMap[i];return function(e){return a(o(e),n,r)}},transformCompositeFilter=function(e){var t=logic[e.logic];return e.filters.filter(isPresent).map((function(e){return isCompositeFilterDescriptor(e)?transformCompositeFilter(e):transformFilter(e)})).reduce(t.concat,t.identity)},compileFilter=function(e){return e&&0!==e.filters.length?transformCompositeFilter(e):function(){return!0}},filterBy=function(e,t){return!isPresent(t)||isCompositeFilterDescriptor(t)&&0===t.filters.length?e:e.filter(compileFilter(normalizeFilters(t)))},normalizeGroups=function(e){return(e=isArray(e)?e:[e]).map((function(e){return Object.assign({dir:"asc"},e)}))},identity=map((function(e){return e})),groupBy=function(e,t,r,n){if(void 0===t&&(t=[]),void 0===r&&(r=identity),void 0===n&&(n=e),!(t=normalizeGroups(t)).length)return e;var i=t[0],o=exec(r(groupCombinator(i.field)),{},e),a=[];return Object.keys(o).forEach((function(e){Object.keys(o[e]).forEach((function(r){var u=o[e][r],s={},c=n;isPresent(i.aggregates)&&(c=filterBy(n,{field:i.field,ignoreCase:!1,operator:"eq",value:u.value}),s=aggregateBy(c,i.aggregates)),a[u.__position]={aggregates:s,field:e,items:t.length>1?groupBy(u.items,t.slice(1),identity,c):u.items,value:u.value}}))})),a},orderBy=function(e,t){if(t.some((function(e){return isPresent(e.dir)||isPresent(e.compare)}))){e=e.slice(0);var r=composeSortDescriptors(t);e.sort(r)}return e},defaultComparer=function(e,t){return e===t},normalizeComparer=function(e){if(isString(e)){var t=getter(e);e=function(e,r){return t(e)===t(r)}}return e},_distinct=function(e,t){return e.filter((function(e,r,n){return n.findIndex(t.bind(null,e))===r}))},distinct=function(e,t){return void 0===t&&(t=defaultComparer),_distinct(e,normalizeComparer(t))},count=function(e,t){for(var r=0,n=0,i=e.length;n<i;n++)t(e[n])&&r++;return r},limit=function(e,t){return t?e.filter(t):e},process=function(e,t){var r=t.skip,n=t.take,i=t.filter,o=t.sort,a=t.group,u=__spreadArrays(normalizeGroups(a||[]),o||[]);u.length&&(e=orderBy(e,u));var s,c=isPresent(i)&&filter.length,l=isPresent(a)&&a.length;if(!c&&!l)return{data:n?e.slice(r,r+n):e,total:e.length};var f,p=[];if(c?(f=compileFilter(normalizeFilters(i)),s=count(e,f),p.push(filter(f))):s=e.length,isPresent(r)&&isPresent(n)&&(p.push(skip(r)),p.push(take(n))),p.length){var g=compose.apply(void 0,p);return{data:l?groupBy(e,a,g,limit(e,f)):exec(g(concat),[],e),total:s}}return{data:l?groupBy(e,a):e,total:s}};!function(e){e.Contains="contains",e.DoesNotContain="doesnotcontain",e.DoesNotEndWith="doesnotendwith",e.DoesNotStartWith="doesnotstartwith",e.EndsWith="endswith",e.EqualTo="eq",e.GreaterThan="gt",e.GreaterThanOrEqual="gte",e.IsEmpty="isempty",e.IsNotEmpty="isnotempty",e.IsNotNull="isnotnull",e.IsNull="isnull",e.LessThan="lt",e.LessThanOrEqual="lte",e.NotEqualTo="neq",e.StartsWith="startswith"}(FilterOperator||(FilterOperator={}));export{compileFilter as c};export{__meta__};
//# sourceMappingURL=kendo.data-query.cmn.chunk.js.map

{"version":3,"file":"kendo.dropdowns-loader.chunk.js","names":["__meta__","id","name","category","description","depends","hidden","chunk","$","kendo","jQuery","LOADING","LOADER","SELECTOR","INPUT_VALUES","ARIA_BUSY","initLoader","that","this","loader","addClass","attr","_loading","_showBusy","showBusy","bind","_hideBusy","hideBusy","_toggleLoader","toggleLoader","_showBusyHandler","showBusyHandler","toggle","loaderIsShown","wrapper","hasClass","inputValuesWrapper","find","isMultiSelect","options","toLowerCase","_suffixContainer","separators","length","before","_arrow","insertAfter","element","removeClass","remove","_focused","_hideClear","e","isDefaultPrevented","_request","_busy","setTimeout","clearTimeout","_toggleCloseVisibility","_showClear"],"sources":["kendo.dropdowns-loader.chunk.js"],"mappings":"AAEA,MAAMA,SAAW,CACbC,GAAI,yBACJC,KAAM,uBACNC,SAAU,MACVC,YAAa,oCACbC,QAAS,GACTC,QAAQ,EACRC,OAAO,GAGX,IAAIC,EAAIC,MAAMC,OAEd,MAAMC,QAAU,YACVC,OAAS,0CACTC,SAAW,gBACXC,aAAe,iBACfC,UAAY,YAElB,SAASC,aACL,MAAMC,EAAOC,KACPC,EAASX,EAAE,iBAAiBY,SAASR,QAAQS,KAAK,OAAQ,gBAChEJ,EAAKK,SAAWH,EAEhBF,EAAKM,UAAYC,SAASC,KAAKR,GAC/BA,EAAKS,UAAYC,SAASF,KAAKR,GAC/BA,EAAKW,cAAgBC,aAAaJ,KAAKR,GACvCA,EAAKa,iBAAmBC,gBAAgBN,KAAKR,EACjD,CAEA,SAASY,aAAaG,GAClB,MAAMf,EAAOC,KACPe,EAAgBhB,EAAKiB,QAAQC,SAASxB,SACtCyB,EAAqBnB,EAAKiB,QAAQG,KAAK,IAAIvB,gBAC3CwB,EAAoD,gBAApCrB,EAAKsB,QAAQrC,KAAKsC,cACxC,GAAIvB,EAAKK,SACL,GAAIU,IAAWC,EAEX,GADAhB,EAAKiB,QAAQd,SAAST,SAClBM,EAAKwB,iBAAkB,CACvB,MAAMC,EAAazB,EAAKiB,QAAQG,KAAK,sBACrC7B,EAAEkC,EAAWA,EAAWC,OAAS,IAAIC,OAAO3B,EAAKK,SACrD,MAAO,GAAIL,EAAK4B,OACZ5B,EAAK4B,OAAOD,OAAO3B,EAAKK,eACrB,GAAIc,EAAmBO,OAAS,GAAKL,EACxCrB,EAAKK,SAASwB,YAAYV,OACvB,CACH,MAAMW,EAAU9B,EAAK8B,QAAQZ,SAAStB,UAAYI,EAAK8B,QAAU9B,EAAKiB,QAAQG,KAAK,IAAIxB,YACvFI,EAAKK,SAASwB,YAAYC,EAC9B,MACOd,IACPhB,EAAKiB,QAAQc,YAAYrC,SACzBM,EAAKK,SAAS2B,SAG1B,CAEA,SAASlB,kBACD,MAAMd,EAAOC,KACb,GAAID,EAAKiC,SACLjC,EAAKiC,SAAS7B,KAAKN,WAAW,OAC3B,EACaE,EAAK8B,QAAQZ,SAAStB,UAAYI,EAAK8B,QAAU9B,EAAKiB,QAAQG,KAAK,IAAIxB,aAC/EQ,KAAKN,WAAW,EAC5B,CAEAE,EAAKW,eAAc,GACnBX,EAAKkC,YACb,CAEA,SAAS3B,SAAS4B,GACd,MAAMnC,EAAOC,KAETkC,GAAKA,EAAEC,uBAIXpC,EAAKqC,UAAW,EAEZrC,EAAKsC,QAITtC,EAAKsC,MAAQC,WAAWvC,EAAKa,iBAAkB,MACnD,CAGA,SAASH,WACL,MAAMV,EAAOC,KASb,GARAuC,aAAaxC,EAAKsC,OAClBtC,EAAKW,eAAc,GACnBX,EAAKsC,MAAQ,KAETtC,EAAKqC,WACLrC,EAAKqC,UAAW,GAGhBrC,EAAKiC,SACLjC,EAAKiC,SAAS7B,KAAKN,WAAW,OAC3B,EACaE,EAAK8B,QAAQZ,SAAStB,UAAYI,EAAK8B,QAAU9B,EAAKiB,QAAQG,KAAK,IAAIxB,aAC/EQ,KAAKN,WAAW,EAC5B,CAEIE,EAAKyC,uBACLzC,EAAKyC,yBAELzC,EAAK0C,YAEb,QAES3C,wBACAhB","ignoreList":[],"sourcesContent":["\n\nconst __meta__ = {\n    id: \"dropdowns-loader.chunk\",\n    name: \"DropdownsLoaderChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\nlet $ = kendo.jQuery;\n\nconst LOADING = \"k-loading\",\n      LOADER = \"k-icon k-i-loading k-input-loading-icon\",\n      SELECTOR = \"k-input-inner\",\n      INPUT_VALUES = \"k-input-values\",\n      ARIA_BUSY = \"aria-busy\";\n\nfunction initLoader() {\n    const that = this;\n    const loader = $(\"<span></span>\").addClass(LOADER).attr(\"role\", \"presentation\");\n    that._loading = loader;\n\n    that._showBusy = showBusy.bind(that);\n    that._hideBusy = hideBusy.bind(that);\n    that._toggleLoader = toggleLoader.bind(that);\n    that._showBusyHandler = showBusyHandler.bind(that);\n}\n\nfunction toggleLoader(toggle) {\n    const that = this;\n    const loaderIsShown = that.wrapper.hasClass(LOADING);\n    const inputValuesWrapper = that.wrapper.find(`.${INPUT_VALUES}`);\n    const isMultiSelect = that.options.name.toLowerCase() === \"multiselect\";\n    if (that._loading) {\n        if (toggle && !loaderIsShown) {\n            that.wrapper.addClass(LOADING);\n            if (that._suffixContainer) {\n                const separators = that.wrapper.find('.k-input-separator');\n                $(separators[separators.length - 1]).before(that._loading);\n            } else if (that._arrow) {\n                that._arrow.before(that._loading);\n            } else if (inputValuesWrapper.length > 0 && isMultiSelect) {\n                that._loading.insertAfter(inputValuesWrapper);\n            } else {\n                const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n                that._loading.insertAfter(element);\n            }\n        } else if (loaderIsShown) {\n            that.wrapper.removeClass(LOADING);\n            that._loading.remove();\n        }\n    }\n}\n\nfunction showBusyHandler() {\n        const that = this;\n        if (that._focused) {\n            that._focused.attr(ARIA_BUSY, true);\n        } else {\n            const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n            element.attr(ARIA_BUSY, true);\n        }\n\n        that._toggleLoader(true);\n        that._hideClear();\n}\n\nfunction showBusy(e) {\n    const that = this;\n\n    if (e && e.isDefaultPrevented()) {\n        return;\n    }\n\n    that._request = true;\n\n    if (that._busy) {\n        return;\n    }\n\n    that._busy = setTimeout(that._showBusyHandler, 100);\n}\n\n\nfunction hideBusy() {\n    const that = this;\n    clearTimeout(that._busy);\n    that._toggleLoader(false);\n    that._busy = null;\n\n    if (that._request) {\n        that._request = false;\n    }\n\n    if (that._focused) {\n        that._focused.attr(ARIA_BUSY, false);\n    } else {\n        const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n        element.attr(ARIA_BUSY, true);\n    }\n\n    if (that._toggleCloseVisibility) {\n        that._toggleCloseVisibility();\n    } else {\n        that._showClear();\n    }\n}\n\nexport { initLoader as i };\nexport { __meta__ };"]}
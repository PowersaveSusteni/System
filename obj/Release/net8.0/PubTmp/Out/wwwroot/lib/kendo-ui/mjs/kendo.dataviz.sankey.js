/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import{k as Sankey,e as defined,l as createSankeyData}from"./kendo.charts.cmn.chunk.js";import"./kendo.dataviz.core.js";import"./kendo.dataviz.themes.js";!function(){var t=window.kendo,e=t.ui.Widget,i=t.htmlEncode,n="__style",o=`${n}="display: flex; align-items: center;"`,s=t=>`<span ${n}="margin: 0 3px">${t}</span>`,a=t=>`<div ${n}="width: 15px; height: 15px; background-color: ${t}; display: inline-flex; margin-left: 3px"></div>`,l={node:function({dataItem:t,value:e}){const{color:n,label:l}=t;return`<div ${o}>\n                    ${a(n)}\n                    ${s(i(l.text))}\n                    ${s(e)}\n                </div>`},link:function({dataItem:e,value:n,rtl:l}){const{source:r,target:d}=e;return`<div ${o}>\n                    ${a(r.color)}\n                    ${s(i(r.label.text))}\n                    ${s(t.ui.icon({icon:l?"arrow-left":"arrow-right"}))}\n                    ${a(d.color)}\n                    ${s(i(d.label.text))}\n                    ${s(n)}\n                </div>`}},r=e.extend({init:function(t,i){this.options=i,e.fn.init.call(this,t),i.rtl&&this.element.addClass("k-rtl"),this.element.addClass("k-tooltip k-chart-tooltip k-chart-shared-tooltip").append('<div class="k-tooltip-content"></div>')},size:function(){return{width:this.element.outerWidth(),height:this.element.outerHeight()}},setContent:function(t){this.element.find(".k-tooltip-content").html(t),this.element.find(`[${n}]`).each(((t,e)=>{e.getAttribute(n).split(";").filter((t=>""!==t)).forEach((t=>{const i=t.split(":");e.style[i[0].trim()]=i[1].trim()})),e.removeAttribute(n)}))},setPosition:function(t,e,i){const n=this.size(),o={...e};o.left+="left"===t.horizontal?i:-1*i,"right"===t.horizontal&&(o.left-=n.width),"bottom"===t.vertical?o.top-=n.height+i:o.top+=i,this.element.css(o)},show:function(){this.element.show()},hide:function(){this.element.hide()},destroy:function(){this.element.remove()}});t.deepExtend(t.dataviz,{SankeyTooltip:{Tooltip:r,ContentTemplates:l}})}(window.kendo.jQuery);const __meta__={id:"dataviz.sankey",name:"Sankey",category:"dataviz",description:"The Sankey widget uses modern browser technologies to render high-quality data visualizations in the browser.",depends:["data","userevents","drawing","dataviz.core","dataviz.themes","charts.cmn.chunk"],features:[{id:"dataviz.sankey-pdf-export",name:"PDF export",description:"Export Sankey as PDF",depends:["pdf"]}]};!function(t){window.kendo.dataviz=window.kendo.dataviz||{};const e=window.kendo,i=e.template,n=e.ui.Widget,o=e.dataviz,s=e.htmlEncode,a=e.support.isRtl,{Tooltip:l,ContentTemplates:r}=o.SankeyTooltip,d=n.extend({init:function(i,s){e.destroy(i),t(i).empty(),this.options=e.deepExtend({},this.options,s,{rtl:a(i)}),this._parseAriaLabelTemplates(this.options),n.fn.init.call(this,i),this.wrapper=this.element,this._initSankey(),this._attachEvents(),e.notify(this,o.ui),this._showWatermarkOverlay&&this._showWatermarkOverlay(this.wrapper[0])},setOptions:function(t){var i=this.options;this.events.forEach((t=>{i[t]&&this.unbind(t,i[t])}));const n=e.deepExtend(t,{rtl:a(this.element)});this._parseAriaLabelTemplates(n),this._instance.setOptions(n),this.bind(this.events,this._instance.options)},_initSankey:function(){const t=this._getThemeOptions(this.options),{seriesColors:e,axisDefaults:i,seriesDefaults:n,legend:o,title:s}=t,{line:a,labels:l}=i,r=n.labels.background;this._createSankey(this.options,{nodeColors:e,links:a,labels:{...l,stroke:{color:r}},legend:o,title:s}),this.options=this._instance.options},_createSankey:function(t,e){this._instance=new Sankey(this.element[0],t,e)},_getThemeOptions:function(t){var e=(t||{}).theme;if(e&&-1!==o.SASS_THEMES.indexOf(e.toLowerCase()))return o.autoTheme().chart;if(defined(e)){var i=o.ui.themes||{};return(i[e]||i[e.toLowerCase()]||{}).chart||{}}},_parseAriaLabelTemplates:function(t){const{nodes:e,links:n}=t;e&&e.labels&&e.labels.ariaTemplate&&(e.labels.ariaTemplate=i(e.labels.ariaTemplate)),n&&n.labels&&n.labels.ariaTemplate&&(n.labels.ariaTemplate=i(n.labels.ariaTemplate))},_attachEvents:function(){this.events.forEach((t=>{this._instance.bind(t,(e=>{this._events[t]&&this._events[t].forEach((t=>t.call(void 0,e)))}))})),this._instance.bind("tooltipShow",this.tooltipShow.bind(this)),this._instance.bind("tooltipHide",this.tooltipHide.bind(this))},tooltipShow:function(n){const{tooltip:o,rtl:a}=this.options,{nodeTemplate:d,linkTemplate:h,offset:p}=o;if(!this._tooltip){const e=this.element[0].ownerDocument;this._tooltip=new l(e.createElement("div"),{rtl:a});const{appendTo:i=e.body}=this.options.tooltip;this._tooltip.element.appendTo(t(i))}const c=i(("node"===n.targetType?d:h)||r[n.targetType]),m=s(e.format(this.options.messages.tooltipUnits,defined(n.nodeValue)?n.nodeValue:n.dataItem.value));this._tooltip.setContent(c({dataItem:n.dataItem,value:m,rtl:a})),this._tooltip.setPosition(n.tooltipData.popupAlign,n.tooltipData.popupOffset,p),this._tooltip.show()},tooltipHide:function(){this._tooltip&&(this._tooltip.destroy(),this._tooltip=null)},exportVisual:function(t){return this._instance.exportVisual(t)},destroy:function(){n.fn.destroy.call(this),this.tooltipHide(),this._instance.destroy(),this._instance=null},events:["nodeClick","linkClick","nodeEnter","nodeLeave","linkEnter","linkLeave"],options:{name:"Sankey",theme:"default",tooltip:{offset:12},messages:{tooltipUnits:"({0} Units)"}}});o.ExportMixin.extend(d.fn),e.PDFMixin&&e.PDFMixin.extend(d.fn),o.ui.plugin(d),e.deepExtend(o,{Sankey:d,createSankeyData:createSankeyData})}(window.kendo.jQuery);var kendo$1=kendo;export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.dataviz.sankey.js.map

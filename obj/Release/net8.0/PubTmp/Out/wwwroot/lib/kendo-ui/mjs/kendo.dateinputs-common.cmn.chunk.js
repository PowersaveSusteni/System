/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import{c as cloneDate,i as isEqual,a as createDate,g as getDate,b as addMonths,l as lastDayOfMonth}from"./kendo.date-math.cmn.chunk.js";const __meta__={id:"dateinputs-common.cmn.chunk",name:"DateinputsCommonCmnChunk",category:"web",description:"A reusable outputed chunk of code",depends:["date-math.cmn.chunk"],hidden:!0,chunk:!0};var extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},extendStatics(t,e)};function __extends(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return __assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign.apply(this,arguments)};function __rest(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function __decorate(t,e,n,i){var r,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(s=(a<3?r(s):a>3?r(e,n,s):r(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}function __param(t,e){return function(n,i){e(n,i,t)}}function __esDecorate(t,e,n,i,r,a){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var o,l=i.kind,h="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?i.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),d=!1,p=n.length-1;p>=0;p--){var f={};for(var m in i)f[m]="access"===m?{}:i[m];for(var m in i.access)f.access[m]=i.access[m];f.addInitializer=function(t){if(d)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(t||null))};var v=(0,n[p])("accessor"===l?{get:c.get,set:c.set}:c[h],f);if("accessor"===l){if(void 0===v)continue;if(null===v||"object"!=typeof v)throw new TypeError("Object expected");(o=s(v.get))&&(c.get=o),(o=s(v.set))&&(c.set=o),(o=s(v.init))&&r.unshift(o)}else(o=s(v))&&("field"===l?r.unshift(o):c[h]=o)}u&&Object.defineProperty(u,i.name,c),d=!0}function __runInitializers(t,e,n){for(var i=arguments.length>2,r=0;r<e.length;r++)n=i?e[r].call(t,n):e[r].call(t);return i?n:void 0}function __propKey(t){return"symbol"==typeof t?t:"".concat(t)}function __setFunctionName(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function __metadata(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function __awaiter(t,e,n,i){return new(n||(n=Promise))((function(r,a){function s(t){try{l(i.next(t))}catch(t){a(t)}}function o(t){try{l(i.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,o)}l((i=i.apply(t,e||[])).next())}))}function __generator(t,e){var n,i,r,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,o[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var __createBinding=Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function __exportStar(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||__createBinding(e,t,n)}function __values(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,a=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,r++)i[r]=a[s];return i}function __spreadArray(t,e,n){if(n||2===arguments.length)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(t){return function(e){return Promise.resolve(e).then(t,h)}})),i[Symbol.asyncIterator]=function(){return this},i;function s(t,e){r[t]&&(i[t]=function(e){return new Promise((function(n,i){a.push([t,e,n,i])>1||o(t,e)}))},e&&(i[t]=e(i[t])))}function o(t,e){try{(n=r[t](e)).value instanceof __await?Promise.resolve(n.value.v).then(l,h):u(a[0][2],n)}catch(t){u(a[0][3],t)}var n}function l(t){o("next",t)}function h(t){o("throw",t)}function u(t,e){t(e),a.shift(),a.length&&o(a[0][0],a[0][1])}}function __asyncDelegator(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:__await(t[i](e)),done:!1}:r?r(e):e}:r}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,r,(e=t[n](e)).done,e.value)}))}}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var __setModuleDefault=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},ownKeys=function(t){return ownKeys=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},ownKeys(t)};function __importStar(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n=ownKeys(t),i=0;i<n.length;i++)"default"!==n[i]&&__createBinding(e,t,n[i]);return __setModuleDefault(e,t),e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function __classPrivateFieldSet(t,e,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(t,n):r?r.value=n:e.set(t,n),n}function __classPrivateFieldIn(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}function __addDisposableResource(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if("function"!=typeof i)throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var _SuppressedError="function"==typeof SuppressedError?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function __disposeResources(t){function e(e){t.error=t.hasError?new _SuppressedError(e,t.error,"An error was suppressed during disposal."):e,t.hasError=!0}var n,i=0;return function r(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(a).then(r,(function(t){return e(t),r()}))}else i|=1}catch(t){e(t)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}function __rewriteRelativeImportExtension(t,e){return"string"==typeof t&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(t,n,i,r,a){return n?e?".jsx":".js":!i||r&&a?i+r+"."+a.toLowerCase()+"js":t})):t}var DateInputInteractionMode,_a,tslib_es6={__extends:__extends,__assign:__assign,__rest:__rest,__decorate:__decorate,__param:__param,__esDecorate:__esDecorate,__runInitializers:__runInitializers,__propKey:__propKey,__setFunctionName:__setFunctionName,__metadata:__metadata,__awaiter:__awaiter,__generator:__generator,__createBinding:__createBinding,__exportStar:__exportStar,__values:__values,__read:__read,__spread:__spread,__spreadArrays:__spreadArrays,__spreadArray:__spreadArray,__await:__await,__asyncGenerator:__asyncGenerator,__asyncDelegator:__asyncDelegator,__asyncValues:__asyncValues,__makeTemplateObject:__makeTemplateObject,__importStar:__importStar,__importDefault:__importDefault,__classPrivateFieldGet:__classPrivateFieldGet,__classPrivateFieldSet:__classPrivateFieldSet,__classPrivateFieldIn:__classPrivateFieldIn,__addDisposableResource:__addDisposableResource,__disposeResources:__disposeResources,__rewriteRelativeImportExtension:__rewriteRelativeImportExtension},Mask=function(){this.symbols="",this.partMap=[]},Constants={formatSeparator:"_",twoDigitYearMax:68,defaultDateFormat:"d",defaultLocaleId:"en"},Key={DELETE:"Delete",BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",SPACE:" ",END:"End",HOME:"Home",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},padZero=function(t){return new Array(Math.max(t,0)).fill("0").join("")},unpadZero=function(t){return t.replace(/^0*/,"")},approximateStringMatching=function(t){var e=t.oldText,n=t.newText,i=t.formatPattern,r=t.selectionStart,a=t.isInCaretMode,s=t.keyEvent,o=r+e.length-n.length,l=e[o],h=e.substring(0,o),u=n.substring(0,r),c=[];if(h===u&&r>0)return c.push([i[r-1],u[r-1]]),c;if(0===h.indexOf(u)&&a&&(s.key===Key.DELETE||s.key===Key.BACKSPACE)||0===h.indexOf(u)&&!a&&(0===u.length||i[u.length-1]!==i[u.length])){var d="";a||1!==u.length||c.push([i[0],u[0]]);for(var p=u.length;p<h.length;p++)i[p]!==d&&i[p]!==Constants.formatSeparator&&(d=i[p],c.push([d,""]));return c}if(a&&(0===u.indexOf(h)||i[r-1]===Constants.formatSeparator)||!a&&(0===u.indexOf(h)||i[r-1]===Constants.formatSeparator)){var f=i[0];for(p=Math.max(0,h.length-1);p<i.length;p++)if(i[p]!==Constants.formatSeparator){f=i[p];break}return[[f,u[r-1]]]}return" "===u[u.length-1]||u[u.length-1]===l&&"_"===i[o]?[[i[r-1],Constants.formatSeparator]]:[[i[r-1],u[r-1]]]},dateSymbolMap=function(t,e){return t[e.pattern[0]]=e.type,t},isInRange=function(t,e,n){return null===t||!(e&&e>t||n&&n<t)},isObject=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},isHtmlElement=function(t){return t instanceof HTMLElement},dateSetter=function(t){return function(e,n){var i=cloneDate(e);return i[t](n),i}},isPresent=function(t){return null!=t},isDocumentAvailable=function(){return!!document},isNumber=function(t){return isPresent(t)&&"number"==typeof t&&!Number.isNaN(t)},parseToInt=function(t){return parseInt(t,10)},isParseableToInt=function(t){return isNumber(parseToInt(t))&&/^[0-9]+$/.test(t)},clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},extend=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign.apply(Object,t)},deepExtend=function(t){for(var e,n,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(!i.length)return t;var a=i.shift();if(isObject(t)&&isObject(a))for(var s in a)isHtmlElement(a[s])?t[s]=a[s]:!isObject(a[s])||a[s]instanceof Date?extend(t,((n={})[s]=a[s],n)):(t[s]&&isObject(t[s])||extend(t,((e={})[s]={},e)),deepExtend(t[s],a[s]));return deepExtend.apply(void 0,[t].concat(i))},noop=function(){},isFunction=function(t){return"function"==typeof t},cropTwoDigitYear=function(t){return!isPresent(t)||isNaN(t.getTime())?0:Number(t.getFullYear().toString().slice(-2))},setYears=dateSetter("setFullYear"),millisecondDigitsInFormat=function(t){var e=t&&t.match(/S+(\1)/);return e?e[0].length:0},millisecondStepFor=function(t){return Math.pow(10,3-t)},areDatePartsEqualTo=function(t,e,n,i,r,a,s,o){return!(!t||t.getFullYear()!==e||t.getMonth()!==n||t.getDate()!==i||t.getHours()!==r||t.getMinutes()!==a||t.getSeconds()!==s||t.getMilliseconds()!==o)},isValidDate=function(t){return isPresent(t)&&t.getTime&&isNumber(t.getTime())},MONTH_INDEX_FEBRUARY=1,DEFAULT_LEAP_YEAR=2e3,PREVIOUS_CENTURY_BASE=1900,CURRENT_CENTURY_BASE=2e3,SHORT_PATTERN_LENGTH_REGEXP=/d|M|H|h|m|s/,MONTH_PART_WITH_WORDS_THRESHOLD=2,MONTH_SYMBOL="M",JS_MONTH_OFFSET=1,DateObject=function(){function t(t){var e=t.intlService,n=t.formatPlaceholder,i=t.format,r=t.cycleTime,a=void 0!==r&&r,s=t.twoDigitYearMax,o=void 0===s?Constants.twoDigitYearMax:s,l=t.value,h=void 0===l?null:l,u=t.autoCorrectParts,c=void 0===u||u;if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=this.getDefaultDate(),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:e,formatPlaceholder:n,format:i,cycleTime:a,twoDigitYearMax:o,value:h,autoCorrectParts:c}),h)this._value=cloneDate(h);else{this._value=this.getDefaultDate();for(var d=this.dateFormatString(this.value,this.format).symbols,p=0;p<d.length;p++)this.setExisting(d[p],!1)}}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){(!t||t instanceof Date)&&(this._value=t,this.resetInvalidDate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localeId",{get:function(){for(var t=Constants.defaultLocaleId,e=Object.keys(this.intl.cldr),n=0;n<e.length;n++){var i=e[n],r=this.intl.cldr[i];if(r.name&&r.calendar&&r.numbers&&r.name!==Constants.defaultLocaleId){t=r.name;break}}return t},enumerable:!0,configurable:!0}),t.prototype.setOptions=function(t){this.intl=t.intlService,this.formatPlaceholder=t.formatPlaceholder||"wide",this.format=t.format,this.cycleTime=t.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=t.twoDigitYearMax,this.autoCorrectParts=t.autoCorrectParts},t.prototype.setValue=function(t){t?isEqual(t,this._value)||(this._value=cloneDate(t),this.modifyExisting(!0)):(this._value=this.getDefaultDate(),this.modifyExisting(!1)),this.resetInvalidDate()},t.prototype.hasValue=function(){var t=this;return this.intl.splitDateFormat(this.format,this.localeId).reduce((function(e,n){return e||"literal"!==n.type&&"dayperiod"!==n.type&&t.getExisting(n.pattern[0])}),!1)},t.prototype.getValue=function(){for(var t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return cloneDate(this.value)},t.prototype.createDefaultDate=function(){return createDate(DEFAULT_LEAP_YEAR,0,31)},t.prototype.getDefaultDate=function(){return getDate(this.createDefaultDate())},t.prototype.getFormattedDate=function(t){return this.intl.formatDate(this.getValue(),t,this.localeId)},t.prototype.getTextAndFormat=function(t){void 0===t&&(t="");var e=t||this.format,n=this.intl.formatDate(this.value,e,this.localeId),i=this.dateFormatString(this.value,e);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){for(var r="",a=this.intl.formatDate(this.value,e,this.localeId),s=this.getFormattedInvalidDates(e),o=0;o<a.length;o++){var l=i.symbols[o];if("literal"===i.partMap[o].type)r+=n[o];else if(this.getInvalidDatePartValue(l)){var h=this.getPartsForSegment(i,o);if("M"===l){var u=(parseToInt(this.getInvalidDatePartValue(l))+JS_MONTH_OFFSET).toString();if(h.length>MONTH_PART_WITH_WORDS_THRESHOLD)r+=s[l][o];else if(this.getInvalidDatePartValue(l))r+=padZero(h.length-u.length)+u,o+=h.length-1;else r+=s[l][o]}else if(this.getInvalidDatePartValue(l)){u=this.getInvalidDatePartValue(l).toString();r+=padZero(h.length-u.length)+u,o+=h.length-1}else r+=s[l][o]}else r+=n[o]}n=r}return this.merge(n,i)},t.prototype.getFormattedInvalidDates=function(t){var e=this;void 0===t&&(t="");var n=t||this.format,i={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(t){var r=e.getInvalidDatePart(t).date;if(r){var a=e.intl.formatDate(r,n,e.localeId);i[t]=a}})),i},t.prototype.modifyExisting=function(t){for(var e=this.dateFormatString(this.value,this.format).symbols,n=0;n<e.length;n++)this.setExisting(e[n],t)},t.prototype.getExisting=function(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}},t.prototype.setExisting=function(t,e){switch(t){case"y":this.year=e,!1===e&&this._value.setFullYear(DEFAULT_LEAP_YEAR);break;case"M":this.month=e,!1===e&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"t":case"a":this.dayperiod=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;case"S":this.milliseconds=e}this.getValue()&&this.resetInvalidDate()},t.prototype.modifyPart=function(t,e){if(isPresent(t)&&isPresent(e)&&0!==e){var n,i=cloneDate(this.value),r=!1,a="M"===t,s="d"===t||"E"===t,o=this.getExisting(t);if(this.autoCorrectParts||!s&&!a)switch(t){case"y":i.setFullYear(i.getFullYear()+e);break;case"M":i=addMonths(this.value,e);break;case"d":case"E":i.setDate(i.getDate()+e);break;case"h":case"H":i.setHours(i.getHours()+e),r=!0;break;case"m":i.setMinutes(i.getMinutes()+e),r=!0;break;case"s":i.setSeconds(i.getSeconds()+e),r=!0;break;case"S":i.setMilliseconds(i.getMilliseconds()+e);break;case"a":i.setHours(i.getHours()+12*e),r=!0}else{var l=this._partiallyInvalidDate.invalidDateParts||{},h=this.getInvalidDatePartValue(t),u=l.y.value||i.getFullYear(),c=l.M.value||i.getMonth(),d=l.d.value||l.E.value||i.getDate(),p=l.h.value||l.H.value||i.getHours(),f=l.m.value||i.getMinutes(),m=l.s.value||i.getSeconds(),v=l.S.value||i.getMilliseconds();switch(t){case"y":u+=e;break;case"M":c+=e;break;case"d":case"E":d+=e}if("M"===t){if((c<0||c>11)&&o)return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t);if(!o){if(c<0)c=clamp(c%11+1+11,0,11);else{var g=isPresent(h)?c:(e-JS_MONTH_OFFSET)%12;c=clamp(g,0,11)}c=clamp(c,0,11)}c=clamp(c,0,11)}else if("d"===t)if(o){if(d<=0||d>31)return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t)}else if(!o){if(isPresent(h)&&(d<=0||d>31))return this.setExisting(t,!1),void this.resetInvalidDateSymbol(t);if(e<0){var y=isPresent(h)?d:31-Math.abs(e%31)+1;d=clamp(y,1,31)}else{y=isPresent(h)?d:e%31;d=clamp(y,1,31)}d=clamp(d,1,31)}var D=createDate(u,c,d,p,f,m,v),E=a||s?this.modifyDateSymbolWithValue(i,t,a?c:d):null,_=areDatePartsEqualTo(D,u,c,d,p,f,m,v);this.getValue()&&areDatePartsEqualTo(D,u,c,d,p,f,m,v)?(i=cloneDate(D),this.markDatePartsAsExisting()):a&&E?E.getMonth()===c?this.getExisting("d")?_?(i=cloneDate(D),this.resetInvalidDateSymbol(t)):(n=!0,this.setInvalidDatePart(t,{value:c,date:cloneDate(E),startDateOffset:e,startDate:cloneDate(this.value)}),this.setExisting(t,!1)):_?(this.resetInvalidDateSymbol(t),i=cloneDate(D),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(t),i=cloneDate(E)):(n=!0,this.setInvalidDatePart(t,{value:c,date:cloneDate(E),startDateOffset:e,startDate:cloneDate(this.value)}),this.setExisting(t,!1)):s&&E&&(E.getDate()===d?this.getExisting("M")?_?(i=cloneDate(D),this.resetInvalidDateSymbol(t)):(n=!0,this.setInvalidDatePart(t,{value:d,date:cloneDate(E),startDateOffset:e,startDate:cloneDate(this.value)}),this.setExisting(t,!1)):_?(i=cloneDate(D),this.resetInvalidDateSymbol(t),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(t),i=cloneDate(E)):(n=!0,this.setInvalidDatePart(t,{value:d,date:cloneDate(this.value),startDateOffset:e,startDate:cloneDate(this.value)}),this.setExisting(t,!1)))}this.shouldNormalizeCentury()&&(i=this.normalizeCentury(i)),r&&!this.cycleTime&&(i.getDate(),this._value.getDate()),n||(this.setExisting(t,!0),this._value=i,this.getValue()&&this.resetInvalidDate())}},t.prototype.parsePart=function(t){for(var e=t.symbol,n=t.currentChar,i=t.resetSegmentValue,r=t.cycleSegmentValue,a=t.rawTextValue,s=t.isDeleting,o=t.originalFormat,l=!r,h=this.dateFormatString(this.value,this.format),u=h.partMap.filter((function(t){return"literal"===t.type})).map((function(t,e){return{datePartIndex:e,type:t.type,pattern:t.pattern,literal:""}})),c=h.partMap.map((function(t){return{type:t.type,pattern:t.pattern,text:""}})),d=0;d<u.length;d++){for(var p=u[d],f=0;f<p.pattern.length;f++)u[d+f]&&(u[d+f].literal=p.pattern[f]);d+=p.pattern.length-1}for(d=0;d<c.length;d++){for(p=c[d],f=0;f<p.pattern.length;f++)c[d+f]&&(c[d+f].text=p.pattern[f]);d+=p.pattern.length-1}var m={value:null,switchToNext:!1,resetPart:l&&"M"===e&&h.partMap.filter((function(t){return"month"===t.type})).some((function(t){return t.pattern.length>MONTH_PART_WITH_WORDS_THRESHOLD})),hasInvalidDatePart:!1};if(!n){if(!l)return this.resetLeadingZero(),this.setExisting(e,!1),this.resetInvalidDateSymbol(e),extend(m,{value:null,switchToNext:!1});for(d=0;d<u.length;d++){var v=u[d].literal,g=a.startsWith(v),y=a.endsWith(v),D=a.indexOf(v+v)>=0;if(g||y||D)return this.resetLeadingZero(),this.setExisting(e,!1),this.resetInvalidDateSymbol(e),extend(m,{value:null,switchToNext:!1})}}var E=this.intl.formatDate(this.value,this.format,this.localeId),_=h.symbols,S=!1,P="",b="",O="",M="",w="",I="",T="";for(d=0;d<c.length;d++)T+=c[d].text;var x=this.format===_||this.format===T||this.format===o||this.format.length===o.length,C=(x?T:o).indexOf(e),F=(x?T:o).lastIndexOf(e)-C+1,N=o.length-a.length;if(l||!l&&!this.autoCorrectParts){for(d=0;d<E.length;d++){if(_[d]===e)b+=this.getExisting(e)?E[d]:"0",N>0?O.length+N<F&&(O+=a[d]||""):O+=a[d]||"",S=!0;else S?(I+=E[d],w+=E[d]):(P+=E[d],M+=E[d])}if(x&&(T.length<a.length?O+=n:!s&&(o.length,a.length),O.length>F))return extend(m,{value:null,switchToNext:!1});if(!x||x&&!this.autoCorrectParts){b="",O="",P="",I="",S=!1;for(d=0;d<o.length;d++){if(o[d]===e)b+=this.getExisting(e)?E[d]||"":"0",N>0?O.length+N<F&&(O+=a[d]||""):O+=a[d]||"",S=!0;else S?I+=a[d-N]||"":P+=a[d]||""}o.length<a.length&&(O+=n)}}if(!l)if(this.autoCorrectParts){b="",O="",P="",I="",S=!1;for(d=0;d<E.length;d++){if(_[d]===e)b+=this.getExisting(e)?E[d]:"0",S=!0;else S?I+=E[d]:P+=E[d]}}else b=i?O:b;var A=null,V=this.matchMonth(n),k=this.matchDayPeriod(n,e),L="0"===n,j=this.leadingZero||{};L?("0"===O&&(O=b),0!==parseToInt(i?n:(l?O:b)+n)||this.isAbbrMonth(h.partMap,e)||this.incrementLeadingZero(e)):this.resetLeadingZero();var R=this.partPattern(h.partMap,e),U=R?R.pattern:null,H=this.patternLength(U)||U.length;if(l&&s&&!O)return this.setExisting(e,!1),extend(m,{value:null,switchToNext:!1});var K=b.length-3,W=!0,B=l?O:b;for(d=Math.max(0,K);d<=b.length&&W;d++){B=i?n:l?O:b.substring(d)+n,!l&&this.autoCorrectParts||(W=!1,B=unpadZero(B),B=padZero(H-B.length)+B);var Y=parseInt(B,10),G=P+B+I;A=this.intl.parseDate(G,this.format,this.localeId);var Z=!1;l&&!isValidDate(A)&&this.autoCorrectParts&&(A=this.intl.parseDate(M+B+w,this.format,this.localeId),Z=!0);var z=!isNaN(parseInt(n,10))||l&&s&&""===n;if(!A&&!isNaN(Y)&&z&&this.autoCorrectParts){if(e===MONTH_SYMBOL&&!V){var q=Y-JS_MONTH_OFFSET;q>-1&&q<12&&((A=cloneDate(this.value)).setMonth(q),A.getMonth()!==q&&(A=lastDayOfMonth(addMonths(A,-1))))}"y"===e&&(A=createDate(parseInt(B,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(l&&isValidDate(A)||!l&&A)&&this.date&&A.getDate()!==this.value.getDate()&&(A=lastDayOfMonth(addMonths(A,-1))))}if(l&&isValidDate(A)||!l&&A){var J=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:Z,middle:B,patternValue:U,basePrefix:M,baseSuffix:w,prefix:P,suffix:I,symbol:e,patternLength:H,leadingZero:j}),X=J.switchToNext;return this.shouldNormalizeCentury()&&(A=this.normalizeCentury(A)),"H"===e&&A.getHours()>=12&&this.setExisting("a",!0),this._value=A,this.setExisting(e,!0),this.resetInvalidDateSymbol(e),this.autoCorrectParts||("M"===e?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===e&&this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")),this.hasInvalidDatePart()||(this.markDatePartsAsExisting(),J.peekedDate||!J.switchToNext||this.autoCorrectParts||"M"===e||"d"===e&&30===J.parsedPeekedValue&&this.value.getMonth()===MONTH_INDEX_FEBRUARY&&(X=!1))),extend(m,{value:this.value,switchToNext:X})}}if(V&&(A=this.intl.parseDate(P+V+I,this.format,this.localeId)))return this._value=A,this.setExisting(e,!0),extend(m,{value:this.value,switchToNext:!1});if(k&&(A=this.intl.parseDate(P+k+I,this.format)||this.intl.parseDate(M+k+w,this.format)))return this._value=A,this.setExisting(e,!0),extend(m,{value:this.value,switchToNext:!0});if(L&&this.setExisting(e,!1),!this.autoCorrectParts){var $=void 0,Q=l?O:B,tt=parseToInt(Q);if(isNumber(tt)&&isParseableToInt(Q)){if("d"===e&&(tt<=0||tt>31)||"M"===e&&(tt<=0||tt>11)){if(l)return extend(m,{value:null,switchToNext:!1});tt=parseToInt(Q=n)}if(!isNumber(tt)||!isParseableToInt(Q))return extend(m,{value:null,switchToNext:!1});$="M"===e?tt-JS_MONTH_OFFSET:tt;var et="M"===e,nt="d"===e,it=cloneDate(this._value),rt=this._partiallyInvalidDate.invalidDateParts||{},at=rt.y.value||it.getFullYear(),st=et?$:rt.M.value||it.getMonth(),ot=nt?$:rt.d.value||rt.E.value||it.getDate(),lt=rt.h.value||rt.H.value||it.getHours(),ht=rt.m.value||it.getMinutes(),ut=rt.s.value||it.getSeconds(),ct=rt.S.value||it.getMilliseconds(),dt=createDate(at,st,ot,lt,ht,ut,ct),pt=areDatePartsEqualTo(dt,at,st,ot,lt,ht,ut,ct),ft=et||nt?this.modifyDateSymbolWithValue(it,e,et?st:ot):null,mt=!1;if(et&&ft?ft.getMonth()===st?this.getExisting("d")?pt?(it=cloneDate(dt),this.resetInvalidDateSymbol(e)):(mt=!0,this.setInvalidDatePart(e,{value:st,date:cloneDate(ft),startDate:cloneDate(this.value)}),this.setExisting(e,!1)):pt?(this.resetInvalidDateSymbol(e),it=cloneDate(dt),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(e),it=cloneDate(ft)):(mt=!0,this.setInvalidDatePart(e,{value:st,date:cloneDate(ft),startDate:cloneDate(this.value)}),this.setExisting(e,!1)):nt&&ft&&(ft.getDate()===ot?this.getExisting("M")?pt?(it=cloneDate(dt),this.resetInvalidDateSymbol(e)):(mt=!0,this.setInvalidDatePart(e,{value:ot,date:cloneDate(ft),startDate:cloneDate(this.value)}),this.setExisting(e,!1)):pt?(it=cloneDate(dt),this.resetInvalidDateSymbol(e),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(e),it=cloneDate(ft)):(mt=!0,this.setInvalidDatePart(e,{value:ot,date:cloneDate(this.value),startDate:cloneDate(this.value)}),this.setExisting(e,!1))),!mt){if(this.setExisting(e,!0),l&&!isValidDate(A)){var vt=this.intl.parseDate(M+B+w,this.format,this.localeId);isValidDate(vt)&&(this._value=vt)}else this._value=it;this.getValue()&&this.resetInvalidDate()}X=!1;if("M"===e)X=tt>=2||Q.length>=2;else if(x)X=this.isPeekDateOverflowingDatePart({useBasePrefixAndSuffix:!this.autoCorrectParts,middle:B,patternValue:U,basePrefix:M,baseSuffix:w,prefix:P,suffix:I,symbol:e,patternLength:H,leadingZero:j}).switchToNext;else X=Q.length>F;return extend(m,{value:null,switchToNext:X,hasInvalidDatePart:mt})}}return extend(m,{value:null,switchToNext:!1})},t.prototype.symbolMap=function(t){return this.intl.splitDateFormat(this.format,this.localeId).reduce(dateSymbolMap,{})[t]},t.prototype.resetLeadingZero=function(){var t=null!==this.leadingZero;return this.setLeadingZero(null),t},t.prototype.setLeadingZero=function(t){this.leadingZero=t},t.prototype.getLeadingZero=function(){return this.leadingZero||{}},t.prototype.normalizeCentury=function(t){if(!isPresent(t))return t;var e=cropTwoDigitYear(t),n=this.getNormalizedCenturyBase(e);return setYears(t,n+e)},t.prototype.incrementLeadingZero=function(t){var e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e},t.prototype.isAbbrMonth=function(t,e){var n=this.partPattern(t,e);return"month"===n.type&&n.names},t.prototype.partPattern=function(t,e){return t.filter((function(t){return-1!==t.pattern.indexOf(e)}))[0]},t.prototype.peek=function(t,e){var n=t.replace(/^0*/,"")+"0";return padZero(e.length-n.length)+n},t.prototype.matchMonth=function(t){if(this.typedMonthPart+=t.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(var e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""},t.prototype.matchDayPeriod=function(t,e){var n=t.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""},t.prototype.allFormattedMonths=function(t){void 0===t&&(t="en");for(var e=this.intl.splitDateFormat(this.format,this.localeId),n=0;n<e.length;n++)if("month"===e[n].type&&e[n].names)return this.intl.dateFormatNames(t,e[n].names);return[]},t.prototype.allDayPeriods=function(t){void 0===t&&(t="en");for(var e=this.intl.splitDateFormat(this.format),n=0;n<e.length;n++)if("dayperiod"===e[n].type&&e[n].names)return this.intl.dateFormatNames(t,e[n].names);return null},t.prototype.patternLength=function(t){return"y"===t[0]?4:SHORT_PATTERN_LENGTH_REGEXP.test(t)?2:0},t.prototype.dateFormatString=function(t,e){for(var n=this.intl.splitDateFormat(e,this.localeId),i=[],r=[],a=0;a<n.length;a++)for(var s=this.intl.formatDate(t,{pattern:n[a].pattern},this.localeId).length;s>0;)i.push(this.symbols[n[a].pattern[0]]||Constants.formatSeparator),r.push(n[a]),s--;var o=new Mask;return o.symbols=i.join(""),o.partMap=r,o},t.prototype.merge=function(t,e){for(var n="",i="",r=e.symbols,a=!1,s=0,o=this.getFormattedInvalidDates(r),l=r.length-1;l>=0;l--){var h=this.getPartsForSegment(e,l);if(-1===this.knownParts.indexOf(r[l])||this.getExisting(r[l]))this.autoCorrectParts?n=t[l]+n:t.length!==r.length?a?n=t[l]+n:s>0?(n=t[l]+n,--s<=0&&(a=!0)):n=(t[l+t.length-r.length]||"")+n:n=t[l]+n,i=r[l]+i;else{var u=r[l],c=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(u)){for(;l>=0&&u===r[l];)l--;l++}if(this.leadingZero&&this.leadingZero[u])n="0"+n;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(u)){var d=this.getInvalidDatePartValue(u).toString();if("M"===u)if(d=(parseToInt(this.getInvalidDatePartValue(u))+JS_MONTH_OFFSET).toString(),h.length>MONTH_PART_WITH_WORDS_THRESHOLD)n=o[u][l]+n;else d=(parseToInt(this.getInvalidDatePartValue(u))+JS_MONTH_OFFSET).toString(),n=padZero(h.length-d.length)+d+n,c=h.length-1,s=d.length-h.length;else n=padZero(h.length-d.length)+d+n,c=h.length-1,s=d.length-h.length}else n=this.dateFieldName(e.partMap[l])+n;for(;i.length<n.length;)i=r[l]+i;0!==c&&(l=l-c+(t.length-r.length))}}return{text:n,format:i}},t.prototype.dateFieldName=function(t){var e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))},t.prototype.getNormalizedCenturyBase=function(t){return t>this.twoDigitYearMax?PREVIOUS_CENTURY_BASE:CURRENT_CENTURY_BASE},t.prototype.shouldNormalizeCentury=function(){return this.intl.splitDateFormat(this.format).some((function(t){return"yy"===t.pattern}))},t.prototype.resetInvalidDate=function(){var t=this;this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(e){t.resetInvalidDatePart(e)}))},t.prototype.resetInvalidDateSymbol=function(t){var e=this;this.resetInvalidDatePart(t);var n=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(t){e._partiallyInvalidDate.invalidDateParts[t]&&isPresent(e._partiallyInvalidDate.invalidDateParts[t].value)&&(n=!1)})),n&&this.resetInvalidDate()},t.prototype.resetInvalidDatePart=function(t){this._partiallyInvalidDate.invalidDateParts[t]&&(this._partiallyInvalidDate.invalidDateParts[t]={value:null,date:null,startDateOffset:0})},t.prototype.getInvalidDatePart=function(t){return this._partiallyInvalidDate.invalidDateParts[t]||{}},t.prototype.getInvalidDatePartValue=function(t){return(this._partiallyInvalidDate.invalidDateParts[t]||{}).value},t.prototype.setInvalidDatePart=function(t,e){var n=e.value,i=void 0===n?null:n,r=e.date,a=void 0===r?null:r,s=e.startDateOffset,o=void 0===s?0:s,l=e.startDate,h=void 0===l?null:l;this._partiallyInvalidDate.invalidDateParts[t]&&(this._partiallyInvalidDate.invalidDateParts[t].value=i,this._partiallyInvalidDate.invalidDateParts[t].date=a,this._partiallyInvalidDate.invalidDateParts[t].startDateOffset=o,this._partiallyInvalidDate.startDate=h)},t.prototype.hasInvalidDatePart=function(){var t=this,e=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach((function(n){t._partiallyInvalidDate.invalidDateParts[n]&&isPresent(t._partiallyInvalidDate.invalidDateParts[n].value)&&(e=!0)})),e},t.prototype.modifyDateSymbolWithOffset=function(t,e,n){var i=cloneDate(t),r=!1;switch(e){case"y":i.setFullYear(i.getFullYear()+n);break;case"M":i=addMonths(this.value,n);break;case"d":case"E":i.setDate(i.getDate()+n);break;case"h":case"H":i.setHours(i.getHours()+n),r=!0;break;case"m":i.setMinutes(i.getMinutes()+n),r=!0;break;case"s":i.setSeconds(i.getSeconds()+n),r=!0;break;case"S":i.setMilliseconds(i.getMilliseconds()+n);break;case"a":i.setHours(i.getHours()+12*n),r=!0}return{date:i,timeModified:r}},t.prototype.modifyDateSymbolWithValue=function(t,e,n){var i=cloneDate(t);switch(e){case"y":i.setFullYear(n);break;case"M":i=addMonths(t,n-t.getMonth());break;case"d":case"E":i.setDate(n);break;case"h":case"H":case"a":i.setHours(n);break;case"m":i.setMinutes(n);break;case"s":i.setSeconds(n);break;case"S":i.setMilliseconds(n)}return i},t.prototype.markDatePartsAsExisting=function(){this.modifyExisting(!0)},t.prototype.getPartsForSegment=function(t,e){for(var n=t.partMap[e],i=[],r=e;r<t.partMap.length;r++){var a=t.partMap[r];if(n.type!==a.type||n.pattern!==a.pattern)break;i.push(a)}for(r=e-1;r>=0;r--){a=t.partMap[r];if(n.type!==a.type||n.pattern!==a.pattern)break;i.unshift(a)}return i},t.prototype.isPeekDateOverflowingDatePart=function(t){var e=t.useBasePrefixAndSuffix,n=t.middle,i=t.patternValue,r=t.basePrefix,a=t.baseSuffix,s=t.prefix,o=t.suffix,l=t.symbol,h=t.patternLength,u=t.leadingZero,c=this.peek(n,i),d=e?""+r+c+a:""+s+c+o,p=this.intl.parseDate(d,this.format,this.localeId),f=((this.leadingZero||{})[l]||0)+unpadZero(n).length>=h;return{peekedDate:p,peekedDateString:d,peekedValue:c,parsedPeekedValue:parseToInt(c),switchToNext:null===p||(u[l]?i.length<=n.length:f)}},t}(),KeyCode={BACKSPACE:8,DELETE:46,TAB:9,ENTER:13,ESCAPE:27,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,SPACE:32,END:35,HOME:36,PAGE_UP:33,PAGE_DOWN:34},defaultOptions={events:{}},Observable=function(){function t(t){this.options=extend({},defaultOptions,t)}return t.prototype.destroy=function(){},t.prototype.trigger=function(t,e){void 0===e&&(e={});var n={defaultPrevented:!1,preventDefault:function(){n.defaultPrevented=!0}};return!!isFunction(this.options.events[t])&&(this.options.events[t](extend(n,e,{sender:this})),n.defaultPrevented)},t}();!function(t){t.None="none",t.Caret="caret",t.Selection="selection"}(DateInputInteractionMode||(DateInputInteractionMode={}));var DEFAULT_SEGMENT_STEP=1,DRAG_START="dragStart",DROP="drop",TOUCH_START="touchstart",MOUSE_DOWN="mousedown",MOUSE_UP="mouseup",CLICK="click",INPUT="input",KEY_DOWN="keydown",FOCUS="focus",BLUR="blur",PASTE="paste",MOUSE_SCROLL="DOMMouseScroll",MOUSE_WHEEL="mousewheel",VALUE_CHANGE="valueChange",INPUT_END="inputEnd",BLUR_END="blurEnd",FOCUS_END="focusEnd",CHANGE="change",defaultDateInputOptions={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:DEFAULT_SEGMENT_STEP,second:DEFAULT_SEGMENT_STEP,minute:DEFAULT_SEGMENT_STEP,hour:DEFAULT_SEGMENT_STEP,day:DEFAULT_SEGMENT_STEP,month:DEFAULT_SEGMENT_STEP,year:DEFAULT_SEGMENT_STEP},formatPlaceholder:null,events:(_a={},_a[VALUE_CHANGE]=null,_a[INPUT]=null,_a[INPUT_END]=null,_a[FOCUS]=null,_a[FOCUS_END]=null,_a[BLUR]=null,_a[BLUR_END]=null,_a[KEY_DOWN]=null,_a[MOUSE_WHEEL]=null,_a[CHANGE]=null,_a),selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:Constants.twoDigitYearMax,autoCorrectParts:!0,autoFill:!1},DateInput=function(t){function e(e,n){var i=t.call(this,n)||this;return i.dateObject=null,i.currentText="",i.currentFormat="",i.interactionMode=DateInputInteractionMode.None,i.previousElementSelection={start:0,end:0},i.init(e,n),i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.dateObject&&this.dateObject.getValue()},enumerable:!0,configurable:!0}),e.prototype.init=function(t,e){var n=isValidDate(this.options.value)?cloneDate(this.options.value):new Date(e.formattedValue);isValidDate(n)||(n=null),this.element=t,this.options=extend({},defaultDateInputOptions,e,{steps:__assign({},defaultDateInputOptions.steps,e.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(n),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=DateInputInteractionMode.None,this.forceUpdate()},e.prototype.destroy=function(){this.unbindEvents(),this.dateObject=null,t.prototype.destroy.call(this)},e.prototype.bindEvents=function(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener(DRAG_START,this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener(DROP,this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener(CLICK,this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener(MOUSE_DOWN,this.onElementMouseDown),this.element.addEventListener(TOUCH_START,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener(MOUSE_UP,this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(INPUT,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(KEY_DOWN,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(FOCUS,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(BLUR,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(CHANGE,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener(PASTE,this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(MOUSE_SCROLL,this.onElementMouseWheel),this.element.addEventListener(MOUSE_WHEEL,this.onElementMouseWheel)},e.prototype.unbindEvents=function(){this.element.removeEventListener(DRAG_START,this.onElementDragStart),this.element.removeEventListener(DROP,this.onElementDrop),this.element.removeEventListener(TOUCH_START,this.onElementMouseDown),this.element.removeEventListener(MOUSE_DOWN,this.onElementMouseDown),this.element.removeEventListener(MOUSE_UP,this.onElementMouseUp),this.element.removeEventListener(CLICK,this.onElementClick),this.element.removeEventListener(INPUT,this.onElementInput),this.element.removeEventListener(KEY_DOWN,this.onElementKeyDown),this.element.removeEventListener(FOCUS,this.onElementFocus),this.element.removeEventListener(BLUR,this.onElementBlur),this.element.removeEventListener(CHANGE,this.onElementChange),this.element.removeEventListener(PASTE,this.onElementPaste),this.element.removeEventListener(MOUSE_SCROLL,this.onElementMouseWheel),this.element.removeEventListener(MOUSE_WHEEL,this.onElementMouseWheel)},e.prototype.setOptions=function(t,e){void 0===e&&(e=!1),this.options=extend({},this.options,t,{steps:__assign({},defaultDateInputOptions.steps,t.steps)}),this.setDateObjectOptions(),e&&(this.unbindEvents(),this.init(this.element,this.options))},e.prototype.setDateObjectOptions=function(){if(this.dateObject){var t=this.getDateObjectOptions();this.dateObject.setOptions(t)}},e.prototype.resetLocale=function(){this.unbindEvents(),this.init(this.element,this.options)},e.prototype.isInCaretMode=function(){return this.interactionMode===DateInputInteractionMode.Caret},e.prototype.focus=function(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)},e.prototype.onElementDragStart=function(t){t.preventDefault()},e.prototype.onElementDrop=function(t){t.preventDefault()},e.prototype.onElementMouseDown=function(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive},e.prototype.onElementMouseUp=function(t){this.mouseDownStarted=!1,t.preventDefault()},e.prototype.onElementClick=function(t){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;var e=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3===t.detail);else if(this.isActive&&this.options.selectNearestSegmentOnFocus){var n=this.element.selectionStart!==this.element.selectionEnd,i=isPresent(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,r=!n&&i?0:this.caret()[0];this.selectNearestSegment(r)}else this.setSelection(this.selectionByIndex(e.start))},e.prototype.onElementInput=function(t){this.triggerInput({event:t});var e=this.elementValue;if(this.element&&this.dateObject){var n=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(t),void(this.isPasteInProgress=!1);var i=this.keyDownEvent||{},r=i.keyCode===KeyCode.BACKSPACE||i.key===Key.BACKSPACE,a=i.keyCode===KeyCode.DELETE||i.key===Key.DELETE,s=this.interactionMode;!this.options.allowCaretMode||s===DateInputInteractionMode.Caret||a||r||(this.resetSegmentValue=!0),this.options.allowCaretMode?this.interactionMode=DateInputInteractionMode.Caret:this.interactionMode=DateInputInteractionMode.Selection;var o=this.isInCaretMode();if(o&&this.keyDownEvent.key===Key.SPACE)this.restorePreviousInputEventState();else{var l=this.dateObject&&this.dateObject.getValue(),h=this.dateObject?this.dateObject.value:null,u=this.dateObject.getTextAndFormat(),c=u.text,d=u.format;this.currentFormat=d;var p="";p=o&&(r||a||s===DateInputInteractionMode.Caret)?this.previousElementValue:c;var f=this.elementValue,m=approximateStringMatching({oldText:p,newText:f,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:o,keyEvent:this.keyDownEvent});if(m&&m.length&&m[0]&&m[0][1]!==Constants.formatSeparator&&(this.switchedPartOnPreviousKeyAction=!1),!o||m&&0!==m.length){if(o&&1===m.length){if(!m[0]||!m[0][0])return void this.restorePreviousInputEventState();if(o&&m[0]&&(m[0][0]===Constants.formatSeparator||m[0][1]===Constants.formatSeparator))return void this.restorePreviousInputEventState()}var v=1===m.length&&m[0][1]===Constants.formatSeparator,g=[],y=!1,D=null;if(!v)for(var E=0;E<m.length;E++){var _=this.dateObject.parsePart({symbol:m[E][0],currentChar:m[E][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:r||a,originalFormat:this.currentFormat});g.push(_),_.value||(D={type:"parse"}),y=_.switchToNext}this.options.autoSwitchParts||(y=!1),this.resetSegmentValue=!1;var S,P=this.options.format===this.currentFormat||isPresent(this.options.format)&&this.options.format.length>1,b=g[g.length-1],O=b&&!isPresent(b.value),M=o&&(r||a)&&O,w=!!b&&b.resetPart,I=this.dateObject.getValue(),T=!isEqual(l,I),x=this.dateObject.value,C=this.selection;if(o){var F=m&&m.length>0?m[0][0]:null,N=this.dateObject.getLeadingZero()[F];m.length&&m[0][0]!==Constants.formatSeparator?y?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):w?(S=this.currentFormat[C.start])?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(S))):this.restorePreviousInputEventState():M?(this.forceUpdate(),m.length&&m[0][0]!==Constants.formatSeparator&&this.setSelection(this.selectionBySymbol(m[0][0]))):O?"0"===t.data&&N||(isPresent(l)&&!isPresent(I)?this.restorePreviousInputEventState():!isPresent(l)&&isPresent(I)?this.forceUpdateWithSelection():isPresent(l)&&isPresent(I)?T?this.forceUpdateWithSelection():this.restorePreviousInputEventState():isPresent(l)||isPresent(I)?h!==x||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):O||P||this.forceUpdateWithSelection():(this.options.autoSwitchParts||m[0][1]!==Constants.formatSeparator)&&this.setSelection(this.selectionBySymbol(m[0][0]))}else o||(this.forceUpdate(),m.length&&m[0][0]!==Constants.formatSeparator&&this.setSelection(this.selectionBySymbol(m[0][0])),this.options.autoSwitchParts?v?(this.resetSegmentValue=!0,n||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):y&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):b&&b.switchToNext?this.resetSegmentValue=!0:v&&(this.resetSegmentValue=!0,n||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),r&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:l,event:t}),this.triggerInputEnd({event:t,error:D,oldElementValue:e,newElementValue:this.elementValue}),o&&this.setTextAndFormat()}else this.restorePreviousInputEventState()}}},e.prototype.onElementFocus=function(t){this.triggerFocus({event:t})||(this.isActive=!0,this.interactionMode=DateInputInteractionMode.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:t}))},e.prototype.onElementBlur=function(t){this.resetSegmentValue=!0,this.isActive=!1,this.triggerBlur({event:t})||(this.options.autoFill&&this.autoFill(),this.interactionMode=DateInputInteractionMode.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:t}))},e.prototype.onElementChange=function(t){this.triggerChange({event:t})},e.prototype.onElementKeyDown=function(t){if(!this.triggerKeyDown({event:t})){var e=this.selection,n=e.start,i=e.end,r=t;if(this.keyDownEvent=t,this.previousElementValue=this.element.value,this.previousElementSelection={start:n,end:i},this.keyEventMatchesAutoSwitchKeys(t)){var a=t.keyCode===KeyCode.TAB;if(!a)return t.preventDefault(),void this.switchDateSegment(1);var s=this.selection,o=s.start,l=s.end;if(t.shiftKey&&a?this.switchDateSegment(-1):this.switchDateSegment(1),o!==this.selection.start||l!==this.selection.end)return void t.preventDefault()}var h=this.currentFormat[this.selection.start],u=this.getStepFromSymbol(h),c=!1,d=this.elementValue;if(!(t.altKey||t.ctrlKey||t.metaKey||t.keyCode===KeyCode.TAB)){switch(t.keyCode){case KeyCode.ARROW_LEFT:this.switchDateSegment(-1),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case KeyCode.ARROW_UP:this.modifyDateSegmentValue(u,h,r),d!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:d}),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case KeyCode.ARROW_RIGHT:this.switchDateSegment(1),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case KeyCode.ARROW_DOWN:this.modifyDateSegmentValue(-u,h,r),d!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:d}),c=!0,this.switchedPartOnPreviousKeyAction=!1;break;case KeyCode.ENTER:break;case KeyCode.HOME:this.selectNearestSegment(0),c=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case KeyCode.END:this.selectNearestSegment(this.elementValue.length),c=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}c&&t.preventDefault()}}},e.prototype.onElementPaste=function(){this.isPasteInProgress=!0},e.prototype.onElementMouseWheel=function(t){var e=this.elementValue;if(this.options.enableMouseWheel&&!this.triggerMouseWheel({event:t})&&this.isActive){var n=t;n.shiftKey?this.switchDateSegment((n.wheelDelta||-n.detail)>0?-1:1):this.modifyDateSegmentValue((n.wheelDelta||-n.detail)>0?1:-1),n.returnValue=!1,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),e!==this.elementValue&&this.triggerInputEnd({event:t,error:null,newElementValue:this.elementValue,oldElementValue:e})}},e.prototype.updateOnPaste=function(t){var e=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;isPresent(e)&&this.dateObject.shouldNormalizeCentury()&&(e=this.dateObject.normalizeCentury(e));var n=this.dateObject&&this.dateObject.getValue();this.writeValue(e),this.tryTriggerValueChange({oldValue:n,event:t})},Object.defineProperty(e.prototype,"elementValue",{get:function(){return(this.element||{}).value||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputFormat",{get:function(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.inputFormat:Constants.defaultDateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayFormat",{get:function(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.displayFormat:Constants.defaultDateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var t={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(t={start:this.element.selectionStart,end:this.element.selectionEnd}),t},enumerable:!0,configurable:!0}),e.prototype.setSelection=function(t){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(t.start,t.end),t.start!==t.end&&(this.interactionMode=DateInputInteractionMode.Selection))},e.prototype.selectionBySymbol=function(t){for(var e=-1,n=0,i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===t&&(n=i+1,-1===e&&(e=i));return e<0&&(e=0),this.options.autoCorrectParts||this.currentFormat.length===this.currentText.length||(this.currentFormat.length<this.currentText.length?n+=this.currentText.length-this.currentFormat.length:n=Math.max(0,n-(this.currentFormat.length-this.currentText.length))),{start:e,end:n}},e.prototype.selectionByIndex=function(t){for(var e={start:t,end:t},n=t,i=t-1;n<this.currentFormat.length||i>=0;n++,i--){if(n<this.currentFormat.length&&this.currentFormat[n]!==Constants.formatSeparator){e=this.selectionBySymbol(this.currentFormat[n]);break}if(i>=0&&this.currentFormat[i]!==Constants.formatSeparator){e=this.selectionBySymbol(this.currentFormat[i]);break}}return e},e.prototype.switchDateSegment=function(t){var e=this.selection;if(this.isInCaretMode()){var n=e.start,i=this.currentFormat[n-1],r="",a="";if(t<0){for(var s=n+t;s>=0;s--)if((a=this.currentFormat[s])!==Constants.formatSeparator&&a!==i){n=s,r=a;break}}else for(s=n+t;s<this.currentFormat.length;s++)if((a=this.currentFormat[s])!==Constants.formatSeparator&&a!==i){n=s,r=a;break}if(r)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(r)),void(this.interactionMode=DateInputInteractionMode.Selection)}this.interactionMode=DateInputInteractionMode.None;var o=this.selection,l=o.start,h=o.end;if(l<h&&this.currentFormat[l]!==this.currentFormat[h-1])return this.setSelection(this.selectionByIndex(t>0?l:h-1)),this.resetSegmentValue=!0,void(this.interactionMode=DateInputInteractionMode.None);for(var u=this.currentFormat[l],c=l+t;c>0&&c<this.currentFormat.length&&(this.currentFormat[c]===u||this.currentFormat[c]===Constants.formatSeparator);)c+=t;if(this.currentFormat[c]!==Constants.formatSeparator){for(var d=c;d>=0&&d<this.currentFormat.length&&this.currentFormat[d]===this.currentFormat[c];)d+=t;c>d&&(d+1!==l||c+1!==h)?(this.setSelection({start:d+1,end:c+1}),this.resetSegmentValue=!0):c<d&&(c!==l||d!==h)&&(this.setSelection({start:c,end:d}),this.resetSegmentValue=!0),this.interactionMode=DateInputInteractionMode.None}},e.prototype.modifyDateSegmentValue=function(t,e,n){if(void 0===e&&(e=""),void 0===n&&(n={}),this.dateObject&&!this.options.readonly){var i=this.value,r=DEFAULT_SEGMENT_STEP,a=this.caret();if("S"===(e=e||this.currentFormat[a[0]])&&(!this.options.steps.millisecond||this.options.steps.millisecond===DEFAULT_SEGMENT_STEP)){var s=millisecondDigitsInFormat(this.inputFormat);r=millisecondStepFor(s)}this.dateObject.modifyPart(e,r*t),this.tryTriggerValueChange({oldValue:i,event:n}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e))}},e.prototype.tryTriggerValueChange=function(t){if(void 0===t&&(t={oldValue:null,event:{}}),!isEqual(this.value,t.oldValue))return this.triggerValueChange(t)},e.prototype.triggerValueChange=function(t){return void 0===t&&(t={oldValue:null,event:{}}),this.trigger(VALUE_CHANGE,extend(t,{value:this.value}))},e.prototype.triggerInput=function(t){return void 0===t&&(t={event:{}}),this.trigger(INPUT,extend(t,{value:this.value}))},e.prototype.triggerInputEnd=function(t){return void 0===t&&(t={event:{},error:null,oldElementValue:"",newElementValue:""}),this.trigger(INPUT_END,extend(t,{value:this.value}))},e.prototype.triggerFocus=function(t){return void 0===t&&(t={event:{}}),this.trigger(FOCUS,extend({},t))},e.prototype.triggerFocusEnd=function(t){return void 0===t&&(t={event:{}}),this.trigger(FOCUS_END,extend({},t))},e.prototype.triggerBlur=function(t){return void 0===t&&(t={event:{}}),this.trigger(BLUR,extend({},t))},e.prototype.triggerBlurEnd=function(t){return void 0===t&&(t={event:{}}),this.trigger(BLUR_END,extend({},t))},e.prototype.triggerChange=function(t){return void 0===t&&(t={event:{}}),this.trigger(CHANGE,extend(t,{value:this.value}))},e.prototype.triggerKeyDown=function(t){return void 0===t&&(t={event:{}}),this.trigger(KEY_DOWN,extend({},t))},e.prototype.triggerMouseWheel=function(t){return void 0===t&&(t={event:{}}),this.trigger(MOUSE_WHEEL,extend({},t))},e.prototype.forceUpdate=function(){this.setTextAndFormat(),this.refreshElementValue()},e.prototype.forceUpdateWithSelection=function(){var t=this.selection,e=t.start,n=t.end,i=this.elementValue.length;this.forceUpdate();var r=this.elementValue.length-i;this.setSelection({start:e+r,end:n+r})},e.prototype.setTextAndFormat=function(){var t=this.dateObject.getTextAndFormat(),e=t.text,n=t.format;this.currentFormat=n,this.currentText=e},e.prototype.setElementValue=function(t){this.element.value=t},e.prototype.getStepFromSymbol=function(t){switch(t){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return DEFAULT_SEGMENT_STEP}},e.prototype.restorePreviousInputEventState=function(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()},e.prototype.restorePreviousElementValue=function(){this.setElementValue(this.previousElementValue||"")},e.prototype.restorePreviousElementSelection=function(){var t=this.previousElementSelection,e=t.start,n=t.end;this.setSelection({start:e||0,end:n||0})},e.prototype.writeValue=function(t){this.verifyValue(t),this.dateObject=this.getDateObject(t),this.refreshElementValue()},e.prototype.verifyValue=function(t){if(t&&!isValidDate(t))throw new Error("The 'value' should be a valid JavaScript Date instance.")},e.prototype.refreshElementValue=function(){var t=this.element,e=this.isActive?this.inputFormat:this.displayFormat,n=this.dateObject.getTextAndFormat(e),i=n.text,r=n.format;this.currentFormat=r,this.currentText=i;var a=this.options.hasPlaceholder||isPresent(this.options.placeholder),s=!this.isActive&&a&&!this.dateObject.hasValue();a&&isPresent(this.options.placeholder)&&(t.placeholder=this.options.placeholder);var o=s?"":i;this.previousElementValue=this.elementValue,this.setElementValue(o)},e.prototype.caret=function(t,e){void 0===e&&(e=t);var n=void 0!==t,i=[t,t],r=this.element;if(!n||!this.options.disabled&&!this.options.readonly){try{void 0!==r.selectionStart&&(n&&(isDocumentAvailable()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(t,e)),i=[r.selectionStart,r.selectionEnd])}catch(t){i=[]}return i}},e.prototype.selectNearestSegment=function(t){for(var e=t,n=t-1;e<this.currentFormat.length||n>=0;e++,n--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}},e.prototype.selectDateSegment=function(t){for(var e=-1,n=0,i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===t&&(n=i+1,-1===e&&(e=i));e<0&&(e=0),this.caret(0,0),this.caret(e,n)},e.prototype.getDateObject=function(t){var e=(this.dateObject||{}||null).leadingZero;this.options.value=t;var n=this.createDateObject();return n.setLeadingZero(this.isActive?e:null),n},e.prototype.createDateObject=function(){var t=this.getDateObjectOptions();return new DateObject(extend({},t))},e.prototype.getDateObjectOptions=function(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value}},e.prototype.keyEventMatchesAutoSwitchKeys=function(t){var e=(this.options.autoSwitchKeys||[]).map((function(t){return t.toString().toLowerCase().trim()}));return e.indexOf(t.keyCode.toString())>=0||e.indexOf(t.keyCode)>=0||e.indexOf(t.key.toLowerCase().trim())>=0},e.prototype.autoFill=function(){var t,e,n,i,r,a,s=this.dateObject,o=new Date;(s.date||s.month||s.year||s.hours||s.minutes||s.seconds)&&(n=s.year?s.value.getFullYear():o.getFullYear(),e=s.month?s.value.getMonth():o.getMonth(),t=s.date?s.value.getDate():o.getDate(),i=s.hours?s.value.getHours():o.getHours(),r=s.minutes?s.value.getMinutes():o.getMinutes(),a=s.seconds?s.value.getSeconds():o.getSeconds(),s.setValue(new Date(n,e,t,i,r,a)),this.refreshElementValue(),this.triggerValueChange())},e}(Observable);export{DateInput as D,__classPrivateFieldSet as _,__classPrivateFieldGet as a,__awaiter as b};export{__meta__};
//# sourceMappingURL=kendo.dateinputs-common.cmn.chunk.js.map

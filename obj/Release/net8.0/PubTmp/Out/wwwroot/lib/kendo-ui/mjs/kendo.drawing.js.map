{"version":3,"file":"kendo.drawing.js","names":["LRUCache","TextMetrics","measureText","objectKey","hashKey","normalizeText","encodeBase64","pdf","drawing","Segment","geometry","exportPDF","drawText","Color","drawDOM","getFontFaces","window","kendo","jQuery","util","deepExtend","$","pdfExtended","extend","group","options","promise","convertPromiseToDeferred","dataviz","NS","utils","defined","limitValue","eventCoordinates","outerWidth","_outerWidth","outerHeight","_outerHeight","TOOLTIP_CLOSE_TEMPLATE","ui","icon","SurfaceTooltip","Class","init","surface","this","element","content","children","_tooltipOptions","popupOptions","appendTo","animation","copyAnchorStyles","collision","_openPopupHandler","_openPopup","bind","_bindEvents","position","showOn","offset","autoHide","hideDelay","showAfter","_showHandler","_showEvent","_surfaceLeaveHandler","_surfaceLeave","_mouseleaveHandler","_mouseleave","_mousemoveHandler","_mousemove","on","_hideClick","_tooltipLeave","getPopup","popup","Popup","destroy","unbind","off","clearTimeout","_timeout","width","height","shared","_tooltipShape","shape","tooltip","parent","_updateContent","target","isFunction","html","_position","elementSize","event","tooltipOffset","_instance","_elementOffset","size","getSize","surfaceOffset","_offset","bbox","left","top","origin","translate","x","y","coord","center","bottomRight","show","_show","hide","current","_current","_showTimeout","visible","trigger","close","e","preventDefault","delay","_autoHide","_measure","setTimeout","open","_closeButton","removeClass","remove","addClass","type","originalEvent","css","clone","document","body","visibility","_popupRelatedTarget","wrapper","relatedTarget","closest","length","draw","DrawingSurface","Surface","Widget","support","svg","canvas","fn","call","create","_triggerInstanceHandler","_triggerInstanceEvent","_bindHandler","_enableTracking","name","events","clear","hideTooltip","_tooltip","exportVisual","eventTarget","showTooltip","suspendTracking","resumeTracking","setSize","_size","currentSize","_resize","plugin","template","__meta__","id","category","description","depends"],"sources":["kendo.drawing.js"],"mappings":"YAAcA,cAAeC,iBAAkBC,iBAAkBC,eAAgBC,aAAcC,mBAAoBC,kBAAmBC,SAAUC,aAAcC,aAAcC,cAAeC,eAAgBC,cAAeC,WAAYC,aAAcC,iBAAoB,qCACjQ,yBACA,wBACA,yBACA,mBAeJC,OAAOC,MAAMC,OAXhBF,OAAOC,MAAME,KAAOH,OAAOC,MAAME,MAAQ,CAAC,EAC1CF,MAAMG,WAAWH,MAAME,KAAM,CACzBnB,SAAUA,SACVC,YAAaA,YACbC,YAAaA,YACbC,UAAWA,UACXC,QAASA,QACTC,cAAeA,cACfC,aAAcA,eAKlB,SAAUe,GAEVL,OAAOC,MAAQD,OAAOC,OAAS,CAAC,EAChC,IAAIK,EAAcL,MAAMG,WAAW,CAAC,EAAGb,KACvCU,MAAMG,WAAWH,MAAO,CACpBT,QAASa,EAAEE,QAAO,EAAM,CAAC,EAAGf,QAAS,CAAEC,QAASA,QAASF,IAAKe,IAC9Df,IAAKe,EACLZ,SAAUA,WAGdO,MAAMT,QAAQG,UAAY,SAASa,EAAOC,GACtC,IAAIC,EAAUf,UAAUa,EAAOC,GAC/B,OAAOR,MAAMU,yBAAyBD,EAC1C,EAEAT,MAAMT,QAAQI,SAAWA,SACzBK,MAAMT,QAAQK,MAAQA,MACtBI,MAAMW,QAAQpB,QAAUS,MAAMT,QAC9BS,MAAMW,QAAQlB,SAAWA,QAExB,CApBD,CAoBGM,OAAOC,MAAMC,QAEhB,SAAUG,GAEN,IAAIQ,EAAK,SACLZ,EAAQD,OAAOC,MACfG,EAAaH,EAAMG,WACnBU,EAAQb,EAAMT,QAAQW,KACtBY,EAAUD,EAAMC,QAChBC,EAAaF,EAAME,WACnBC,EAAmBH,EAAMG,iBACzBC,EAAajB,EAAMkB,YACnBC,EAAcnB,EAAMoB,aAKpBC,EAAyB,iCAAiCrB,EAAMsB,GAAGC,KAAKnB,EAAE,kCAAmC,CAAEmB,KAAM,cAErHC,EAAiBxB,EAAMyB,MAAMnB,OAAO,CACpCoB,KAAM,SAASC,EAASnB,GACpBoB,KAAKC,QAAUzB,EAPA,sEAQfwB,KAAKE,QAAUF,KAAKC,QAAQE,SAAS,sBAErCvB,EAAUA,GAAW,CAAC,EAEtBoB,KAAKpB,QAAUL,EAAW,CAAC,EAAGyB,KAAKpB,QAASoB,KAAKI,gBAAgBxB,IACjEoB,KAAKK,aAAe,CAChBC,SAAU1B,EAAQ0B,SAClBC,UAAW3B,EAAQ2B,UACnBC,kBAAkB,EAClBC,UAAW,WAGfT,KAAKU,kBAAoBV,KAAKW,WAAWC,KAAKZ,MAE9CA,KAAKD,QAAUA,EACfC,KAAKa,aACT,EAEAjC,QAAS,CACLkC,SAAU,MACVC,OAAQ,aACRC,OAAQ,EACRC,UAAU,EACVC,UAAW,EACXC,UAAW,KAGfN,YAAa,WACTb,KAAKoB,aAAepB,KAAKqB,WAAWT,KAAKZ,MACzCA,KAAKsB,qBAAuBtB,KAAKuB,cAAcX,KAAKZ,MACpDA,KAAKwB,mBAAqBxB,KAAKyB,YAAYb,KAAKZ,MAChDA,KAAK0B,kBAAoB1B,KAAK2B,WAAWf,KAAKZ,MAE9CA,KAAKD,QAAQa,KAAK,QAASZ,KAAKoB,cAChCpB,KAAKD,QAAQa,KAAK,aAAcZ,KAAKoB,cACrCpB,KAAKD,QAAQa,KAAK,aAAcZ,KAAKwB,oBACrCxB,KAAKD,QAAQa,KAAK,YAAaZ,KAAK0B,mBAEpC1B,KAAKD,QAAQE,QAAQ2B,GAAG,aAAe5C,EAAIgB,KAAKsB,sBAEhDtB,KAAKC,QAAQ2B,GAAG,QAAU5C,EAAI,oBAAqBgB,KAAK6B,WAAWjB,KAAKZ,OACxEA,KAAKC,QAAQ2B,GAAG,aAAe5C,EAAIgB,KAAK8B,cAAclB,KAAKZ,MAC/D,EAEA+B,SAAU,WAKN,OAJK/B,KAAKgC,QACNhC,KAAKgC,MAAQ,IAAI5D,EAAMsB,GAAGuC,MAAMjC,KAAKC,QAASD,KAAKK,eAGhDL,KAAKgC,KAChB,EAEAE,QAAS,WACL,IAAIF,EAAQhC,KAAKgC,MAEjBhC,KAAKD,QAAQoC,OAAO,QAASnC,KAAKoB,cAClCpB,KAAKD,QAAQoC,OAAO,aAAcnC,KAAKoB,cACvCpB,KAAKD,QAAQoC,OAAO,aAAcnC,KAAKwB,oBACvCxB,KAAKD,QAAQoC,OAAO,YAAanC,KAAK0B,mBAEtC1B,KAAKD,QAAQE,QAAQmC,IAAI,aAAepD,EAAIgB,KAAKsB,sBACjDtB,KAAKC,QAAQmC,IAAI,QAAUpD,GAC3BgB,KAAKC,QAAQmC,IAAI,aAAepD,GAE5BgD,IACAA,EAAME,iBACClC,KAAKgC,cAEThC,KAAKK,aAEZgC,aAAarC,KAAKsC,iBAEXtC,KAAKC,eACLD,KAAKE,eACLF,KAAKD,OAChB,EAEAK,gBAAiB,SAASxB,GAEtB,MAAO,CACHkC,UAFJlC,EAAUA,GAAW,CAAC,GAEAkC,SAClBC,OAAQnC,EAAQmC,OAChBC,OAAQpC,EAAQoC,OAChBC,SAAUrC,EAAQqC,SAClBsB,MAAO3D,EAAQ2D,MACfC,OAAQ5D,EAAQ4D,OAChBtC,QAAStB,EAAQsB,QACjBuC,OAAQ7D,EAAQ6D,OAChBvB,UAAWtC,EAAQsC,UACnBC,UAAWvC,EAAQuC,UAE3B,EAEAuB,cAAe,SAASC,GACpB,KAAOA,IAAUA,EAAM/D,QAAQgE,SAC3BD,EAAQA,EAAME,OAElB,OAAOF,CACX,EAEAG,eAAgB,SAASC,EAAQJ,EAAO/D,GACpC,IAAIsB,EAAUtB,EAAQsB,QAQtB,GAPI9B,EAAM4E,WAAW9C,KACjBA,EAAUA,EAAQ,CACdD,QAAS0C,EACTI,OAAQA,KAIZ7C,EAEA,OADAF,KAAKE,QAAQ+C,KAAK/C,IACX,CAEf,EAEAgD,UAAW,SAASP,EAAO/D,EAASuE,EAAaC,GAC7C,IAAItC,EAAWlC,EAAQkC,SACnBuC,EAAgBzE,EAAQoC,QAAU,EAClCjB,EAAUC,KAAKD,QACfiB,EAASjB,EAAQuD,UAAUC,iBAC3BC,EAAOzD,EAAQ0D,UACfC,EAAgB3D,EAAQuD,UAAUK,QAClCC,EAAOjB,EAAMiB,OACbrB,EAAQY,EAAYZ,MACpBC,EAASW,EAAYX,OACrBqB,EAAO,EAAGC,EAAM,EAOpB,GALAF,EAAKG,OAAOC,UAAUhD,EAAO6C,KAAM7C,EAAO8C,KACtCJ,GACAE,EAAKG,OAAOC,WAAWN,EAAcO,GAAIP,EAAcQ,GAG3C,UAAZpD,GAAwBsC,EAAO,CAC/B,IAAIe,EAAQ/E,EAAiBgE,GAC7BS,EAAOM,EAAMF,EAAI1B,EAAQ,EACzBuB,EAAMK,EAAMD,EAAI1B,EAASa,CAC7B,KAAuB,QAAZvC,GACP+C,EAAOD,EAAKG,OAAOE,EAAI1B,EAAQc,EAC/BS,EAAMF,EAAKQ,SAASF,EAAI1B,EAAS,GACd,SAAZ1B,GACP+C,EAAOD,EAAKS,cAAcJ,EAAIZ,EAC9BS,EAAMF,EAAKQ,SAASF,EAAI1B,EAAS,GACd,UAAZ1B,GACP+C,EAAOD,EAAKQ,SAASH,EAAI1B,EAAQ,EACjCuB,EAAMF,EAAKS,cAAcH,EAAIb,IAE7BQ,EAAOD,EAAKQ,SAASH,EAAI1B,EAAQ,EACjCuB,EAAMF,EAAKG,OAAOG,EAAI1B,EAASa,GAGnC,MAAO,CACHQ,KAAM1E,EAAW0E,EAAM7C,EAAO6C,KAAM7C,EAAO6C,KAAOL,EAAKjB,OACvDuB,IAAK3E,EAAW2E,EAAK9C,EAAO8C,IAAK9C,EAAO8C,IAAMN,EAAKhB,QAE3D,EAEA8B,KAAM,SAAS3B,EAAO/D,GAClBoB,KAAKuE,MAAM5B,EAAOA,EAAOpE,EAAW,CAAC,EAAGyB,KAAKpB,QAASoB,KAAKI,gBAAgBuC,EAAM/D,QAAQgE,SAAUhE,GACvG,EAEA4F,KAAM,WACF,IAAIxC,EAAQhC,KAAKgC,MACbyC,EAAUzE,KAAK0E,gBAEZ1E,KAAK0E,SACZrC,aAAarC,KAAK2E,cACd3C,GAASA,EAAM4C,WAAaH,IAC3BzE,KAAKD,QAAQ8E,QAAQ,eAAgB,CAAE5E,QAASwE,EAAQ9B,MAAOI,OAAQ0B,EAAQ1B,OAAQf,MAAOA,KAC/FA,EAAM8C,OAEd,EAEAjD,WAAY,SAASkD,GACjBA,EAAEC,iBACFhF,KAAKwE,MACT,EAEAD,MAAO,SAASxB,EAAQJ,EAAO/D,EAASwE,EAAO6B,GAC3C,IAAIR,EAAUzE,KAAK0E,SAInB,GAFArC,aAAarC,KAAKsC,WAEdmC,KAAaA,EAAQ9B,QAAUA,GAAS/D,EAAQ6D,QAAWgC,EAAQ1B,SAAWA,GAAlF,CAIAV,aAAarC,KAAK2E,cAElB,IAAI3C,EAAQhC,KAAK+B,WAEjB,IAAK/B,KAAKD,QAAQ8E,QAAQ,cAAe,CAAE5E,QAAS0C,EAAOI,OAAQA,EAAQf,MAAOA,KAC9EhC,KAAK8C,eAAeC,EAAQJ,EAAO/D,GAAU,CAE7CoB,KAAKkF,UAAUtG,GACf,IAAIuE,EAAcnD,KAAKmF,SAASvG,GAE5BoD,EAAM4C,WACN5C,EAAM8C,OAAM,GAGhB9E,KAAK0E,SAAW,CACZ9F,QAASA,EACTuE,YAAaA,EACbR,MAAOA,EACPI,OAAQA,EACRjC,SAAUd,KAAKkD,UAAUtE,EAAQ6D,OAASE,EAAQI,EAAQnE,EAASuE,EAAaC,IAGhF6B,EACAjF,KAAK2E,aAAeS,WAAWpF,KAAKU,kBAAmB9B,EAAQuC,WAAa,GAE5EnB,KAAKW,YAEb,CA7BA,CA8BJ,EAEAA,WAAY,WACR,IACIG,EADUd,KAAK0E,SACI5D,SAEvBd,KAAK+B,WAAWsD,KAAKvE,EAAS+C,KAAM/C,EAASgD,IACjD,EAEAoB,UAAW,SAAStG,GACZA,EAAQqC,UAAYjB,KAAKsF,eACzBtF,KAAKC,QAAQsF,YAAY,sBACzBvF,KAAKsF,aAAaE,gBACXxF,KAAKsF,cAGX1G,EAAQqC,UAAajB,KAAKsF,eAC3BtF,KAAKC,QAAQwF,SAAS,sBACtBzF,KAAKsF,aAAe9G,EAAEiB,GAAwBa,SAASN,KAAKC,SAEpE,EAEAoB,WAAY,SAAS0D,GACjB,IAAIpC,EAAQ3C,KAAK0C,cAAcqC,EAAE9E,SAEjC,GAAI0C,EAAO,CACP,IAAI/D,EAAUL,EAAW,CAAC,EAAGyB,KAAKpB,QAASoB,KAAKI,gBAAgBuC,EAAM/D,QAAQgE,UAE1EhE,GAAWA,EAAQmC,QAAUgE,EAAEW,MAC/B1F,KAAKuE,MAAMQ,EAAE9E,QAAS0C,EAAO/D,EAASmG,EAAEY,eAAe,EAE/D,CACJ,EAEAR,SAAU,SAASvG,GACfoB,KAAKC,QAAQ2F,IAAI,CACbrD,MAAOrD,EAAQN,EAAQ2D,OAAS3D,EAAQ2D,MAAQ,OAChDC,OAAQtD,EAAQN,EAAQ4D,QAAU5D,EAAQ4D,OAAS,SAGvD,MAAMqD,EAAQ7F,KAAKC,QAAQ4F,QAAQvF,SAASwF,SAASC,MAAMH,IAAI,CAAEI,WAAY,WACvEzD,EAAQlD,EAAWwG,GACnBrD,EAASjD,EAAYsG,GAQ3B,OAPAA,EAAML,SAENxF,KAAKC,QAAQ2F,IAAI,CACbrD,MAAOA,EACPC,OAAQA,IAGL,CACHD,MAAOA,EACPC,OAAQA,EAEhB,EAEAf,YAAa,SAASsD,GAClB,GAAI/E,KAAKgC,QAAUhC,KAAKiG,oBAAoBlB,EAAEY,eAAgB,CAC1D,IAAI/C,EAAU5C,KACVyE,EAAU7B,EAAQ8B,SAElBD,GAAWA,EAAQ7F,QAAQqC,WAC3B2B,EAAQN,SAAW8C,YAAW,WAC1B/C,aAAaO,EAAQ+B,cACrB/B,EAAQ4B,MACZ,GAAGC,EAAQ7F,QAAQsC,WAAa,GAExC,CACJ,EAEAS,WAAY,SAASoD,GACjB,IAAIN,EAAUzE,KAAK0E,SACnB,GAAID,GAAWM,EAAE9E,QAAS,CACtB,IAAIrB,EAAU6F,EAAQ7F,QACtB,GAAwB,UAApBA,EAAQkC,SAAsB,CAC9B,IAAIA,EAAWd,KAAKkD,UAAU6B,EAAE9E,QAASrB,EAAS6F,EAAQtB,YAAa4B,EAAEY,eACzElB,EAAQ3D,SAAWA,EACnBd,KAAK+B,WAAWmE,QAAQN,IAAI,CAAE/B,KAAM/C,EAAS+C,KAAMC,IAAKhD,EAASgD,KACrE,CACJ,CACJ,EAEAvC,cAAe,SAASwD,GAChB/E,KAAKgC,QAAUhC,KAAKiG,oBAAoBlB,KACxC1C,aAAarC,KAAK2E,cAClB3E,KAAKwE,OAEb,EAEAyB,oBAAqB,SAASlB,GAC1B,OAAOA,EAAEoB,eAAiB3H,EAAEuG,EAAEoB,eAAeC,QAAQpG,KAAKgC,MAAMkE,SAASG,MAC7E,EAEAvE,cAAe,WACX,IAAIc,EAAU5C,KACVyE,EAAU7B,EAAQ8B,SAClBD,GAAWA,EAAQ7F,QAAQqC,WAC3B2B,EAAQN,SAAW8C,YAAW,WAC1BxC,EAAQ4B,MACZ,GAAGC,EAAQ7F,QAAQsC,WAAa,GAExC,IAGJ9C,EAAMT,QAAQiC,eAAiBA,EAC/BxB,EAAMW,QAAQpB,QAAQiC,eAAiBA,CAE1C,CArVD,CAqVGzB,OAAOC,MAAMC,QAEhB,WAEI,IAAID,EAAQD,OAAOC,MACfkI,EAAOlI,EAAMT,QACb4I,EAAiBD,EAAKE,QACtBC,EAASrI,EAAMsB,GAAG+G,OAClBlI,EAAaH,EAAMG,WAEvBH,EAAMsI,QAAQC,IAAMJ,EAAeG,QAAQC,IAC3CvI,EAAMsI,QAAQE,OAASL,EAAeG,QAAQE,OAE9C,IAAIJ,EAAUC,EAAO/H,OAAO,CACxBoB,KAAM,SAASG,EAASrB,GACpB6H,EAAOI,GAAG/G,KAAKgH,KAAK9G,KAAMC,EAAS,CAAC,GAEpCD,KAAKpB,QAAUL,EAAW,CAAC,EAAGyB,KAAKpB,QAASA,GAE5CoB,KAAKsD,UAAYiD,EAAeQ,OAAO/G,KAAKC,QAAQ,GAAIrB,GACpDoB,KAAKsD,UAAUU,YACfhE,KAAKgE,UAAYA,GAGrBhE,KAAKgH,wBAA0BhH,KAAKiH,sBAAsBrG,KAAKZ,MAC/DA,KAAKkH,aAAa,SAClBlH,KAAKkH,aAAa,cAClBlH,KAAKkH,aAAa,cAClBlH,KAAKkH,aAAa,aAElBlH,KAAKmH,iBACT,EAEAvI,QAAS,CACLwI,KAAM,UACNxE,QAAS,CAAC,GAGdyE,OAAQ,CACJ,QACA,aACA,aACA,YACA,SACA,cACA,gBAGJJ,sBAAuB,SAASlC,GAC5B/E,KAAK6E,QAAQE,EAAEW,KAAMX,EACzB,EAEAmC,aAAc,SAAS9D,GACnBpD,KAAKsD,UAAU1C,KAAKwC,EAAOpD,KAAKgH,wBACpC,EAEAV,KAAM,SAASrG,GACXD,KAAKsD,UAAUgD,KAAKrG,EACxB,EAEAqH,MAAO,WACCtH,KAAKsD,WACLtD,KAAKsD,UAAUgE,QAEnBtH,KAAKuH,aACT,EAEArF,QAAS,WACDlC,KAAKsD,YACLtD,KAAKsD,UAAUpB,iBACRlC,KAAKsD,WAGZtD,KAAKwH,WACLxH,KAAKwH,SAAStF,iBACPlC,KAAKwH,UAGhBf,EAAOI,GAAG3E,QAAQ4E,KAAK9G,KAC3B,EAEAyH,aAAc,WACV,OAAOzH,KAAKsD,UAAUmE,cAC1B,EAEAC,YAAa,SAAS3C,GAClB,OAAO/E,KAAKsD,UAAUoE,YAAY3C,EACtC,EAEA4C,YAAa,SAAShF,EAAO/D,GACrBoB,KAAKwH,UACLxH,KAAKwH,SAASlD,KAAK3B,EAAO/D,EAElC,EAEA2I,YAAa,WACLvH,KAAKwH,UACLxH,KAAKwH,SAAShD,MAEtB,EAEAoD,gBAAiB,WACb5H,KAAKsD,UAAUsE,kBACf5H,KAAKuH,aACT,EAEAM,eAAgB,WACZ7H,KAAKsD,UAAUuE,gBACnB,EAEApE,QAAS,WACL,MAAO,CACHlB,MAAOvC,KAAKC,QAAQsC,QACpBC,OAAQxC,KAAKC,QAAQuC,SAE7B,EAEAsF,QAAS,SAAStE,GACdxD,KAAKC,QAAQ2F,IAAI,CACbrD,MAAOiB,EAAKjB,MACZC,OAAQgB,EAAKhB,SAGjBxC,KAAK+H,MAAQvE,EACbxD,KAAKsD,UAAU0E,YAAYxE,GAC3BxD,KAAKiI,SACT,EAEAA,QAAS,WACLjI,KAAKsD,UAAU0E,YAAYhI,KAAK+H,OAChC/H,KAAKsD,UAAU2E,SACnB,EAEAd,gBAAiB,WACT/I,EAAMsB,GAAGuC,QACTjC,KAAKwH,SAAW,IAAIlB,EAAK1G,eAAeI,KAAMA,KAAKpB,QAAQgE,SAAW,CAAC,GAE/E,IAWJ,SAASoB,EAAUhD,GACfhB,KAAKsD,UAAUU,UAAUhD,EAC7B,CAVA5C,EAAMsB,GAAGwI,OAAO1B,GAEhBA,EAAQO,OAAS,SAAS9G,EAASrB,GAC/B,OAAO,IAAI4H,EAAQvG,EAASrB,EAChC,EAEAR,EAAMT,QAAQ6I,QAAUA,CAM3B,CAtJD,CAsJGrI,OAAOC,MAAMC,QAEhBF,OAAOC,MAAMT,QAAUQ,OAAOC,MAAMT,SAAW,CAAC,EAEhD,SAAUa,GAEN,IAAIJ,EAAQD,OAAOC,MACfT,EAAUS,EAAMT,QAEpBA,EAAQM,QAAU,SAASgC,EAASrB,GACC,iBAAtBA,GAASuJ,WAChBvJ,EAAQuJ,SAAW/J,EAAM+J,SAASvJ,EAAQuJ,WAG9C,IAAItJ,EAAUZ,QAAQO,EAAEyB,GAAS,GAAIrB,GACrC,OAAOR,EAAMU,yBAAyBD,EAC1C,EAGAlB,EAAQM,QAAQF,SAAWA,SAC3BJ,EAAQM,QAAQC,aAAeA,YAElC,CAlBD,CAkBGC,OAAOC,MAAMC,QAEhB,MAAM+J,SAAW,CACTC,GAAI,UACJjB,KAAM,cACNkB,SAAU,YACVC,YAAa,qCACbC,QAAS,CAAC,OAAQ,QAAS,QAAS,QAAS,6BAG5CJ","ignoreList":[],"sourcesContent":["import { E as LRUCache, F as TextMetrics, n as measureText, H as objectKey, J as hashKey, K as normalizeText, N as encodeBase64, O as pdf, Q as drawing, S as Segment, U as geometry, V as exportPDF, D as drawText, C as Color, W as drawDOM, X as getFontFaces } from './kendo.drawing.cmn.chunk.js';\nimport './kendo.color.js';\nimport './kendo.core.js';\nimport './kendo.popup.js';\nimport './kendo.icons.js';\n\n(function($) {\n\nwindow.kendo.util = window.kendo.util || {};\nkendo.deepExtend(kendo.util, {\n    LRUCache: LRUCache,\n    TextMetrics: TextMetrics,\n    measureText: measureText,\n    objectKey: objectKey,\n    hashKey: hashKey,\n    normalizeText: normalizeText,\n    encodeBase64: encodeBase64\n});\n\n})(window.kendo.jQuery);\n\n(function($) {\n\nwindow.kendo = window.kendo || {};\nlet pdfExtended = kendo.deepExtend({}, pdf);\nkendo.deepExtend(kendo, {\n    drawing: $.extend(true, {}, drawing, { Segment: Segment, pdf: pdfExtended }),\n    pdf: pdfExtended,\n    geometry: geometry\n});\n\nkendo.drawing.exportPDF = function(group, options) {\n    let promise = exportPDF(group, options);\n    return kendo.convertPromiseToDeferred(promise);\n};\n\nkendo.drawing.drawText = drawText;\nkendo.drawing.Color = Color;\nkendo.dataviz.drawing = kendo.drawing;\nkendo.dataviz.geometry = geometry;\n\n})(window.kendo.jQuery);\n\n(function($) {\n\n    var NS = \".kendo\";\n    var kendo = window.kendo;\n    var deepExtend = kendo.deepExtend;\n    var utils = kendo.drawing.util;\n    var defined = utils.defined;\n    var limitValue = utils.limitValue;\n    var eventCoordinates = utils.eventCoordinates;\n    var outerWidth = kendo._outerWidth;\n    var outerHeight = kendo._outerHeight;\n\n    var TOOLTIP_TEMPLATE = '<div class=\"k-tooltip\">' +\n            '<div class=\"k-tooltip-content\"></div>' +\n        '</div>';\n    var TOOLTIP_CLOSE_TEMPLATE = `<div class=\"k-tooltip-button\">${kendo.ui.icon($('<a href=\"#\" title=\"Close\"></a>'), { icon: \"x\" })}</div>`;\n\n    var SurfaceTooltip = kendo.Class.extend({\n        init: function(surface, options) {\n            this.element = $(TOOLTIP_TEMPLATE);\n            this.content = this.element.children(\".k-tooltip-content\");\n\n            options = options || {};\n\n            this.options = deepExtend({}, this.options, this._tooltipOptions(options));\n            this.popupOptions = {\n                appendTo: options.appendTo,\n                animation: options.animation,\n                copyAnchorStyles: false,\n                collision: \"fit fit\"\n            };\n\n            this._openPopupHandler = this._openPopup.bind(this);\n\n            this.surface = surface;\n            this._bindEvents();\n        },\n\n        options: {\n            position: \"top\",\n            showOn: \"mouseenter\",\n            offset: 7,\n            autoHide: true,\n            hideDelay: 0,\n            showAfter: 100\n        },\n\n        _bindEvents: function() {\n            this._showHandler = this._showEvent.bind(this);\n            this._surfaceLeaveHandler = this._surfaceLeave.bind(this);\n            this._mouseleaveHandler = this._mouseleave.bind(this);\n            this._mousemoveHandler = this._mousemove.bind(this);\n\n            this.surface.bind(\"click\", this._showHandler);\n            this.surface.bind(\"mouseenter\", this._showHandler);\n            this.surface.bind(\"mouseleave\", this._mouseleaveHandler);\n            this.surface.bind(\"mousemove\", this._mousemoveHandler);\n\n            this.surface.element.on(\"mouseleave\" + NS, this._surfaceLeaveHandler);\n\n            this.element.on(\"click\" + NS, \".k-tooltip-button\", this._hideClick.bind(this));\n            this.element.on(\"mouseleave\" + NS, this._tooltipLeave.bind(this));\n        },\n\n        getPopup: function() {\n            if (!this.popup) {\n                this.popup = new kendo.ui.Popup(this.element, this.popupOptions);\n            }\n\n            return this.popup;\n        },\n\n        destroy: function() {\n            var popup = this.popup;\n\n            this.surface.unbind(\"click\", this._showHandler);\n            this.surface.unbind(\"mouseenter\", this._showHandler);\n            this.surface.unbind(\"mouseleave\", this._mouseleaveHandler);\n            this.surface.unbind(\"mousemove\", this._mousemoveHandler);\n\n            this.surface.element.off(\"mouseleave\" + NS, this._surfaceLeaveHandler);\n            this.element.off(\"click\" + NS);\n            this.element.off(\"mouseleave\" + NS);\n\n            if (popup) {\n                popup.destroy();\n                delete this.popup;\n            }\n            delete this.popupOptions;\n\n            clearTimeout(this._timeout);\n\n            delete this.element;\n            delete this.content;\n            delete this.surface;\n        },\n\n        _tooltipOptions: function(options) {\n            options = options || {};\n            return {\n                position: options.position,\n                showOn: options.showOn,\n                offset: options.offset,\n                autoHide: options.autoHide,\n                width: options.width,\n                height: options.height,\n                content: options.content,\n                shared: options.shared,\n                hideDelay: options.hideDelay,\n                showAfter: options.showAfter\n            };\n        },\n\n        _tooltipShape: function(shape) {\n            while (shape && !shape.options.tooltip) {\n                shape = shape.parent;\n            }\n            return shape;\n        },\n\n        _updateContent: function(target, shape, options) {\n            var content = options.content;\n            if (kendo.isFunction(content)) {\n                content = content({\n                    element: shape,\n                    target: target\n                });\n            }\n\n            if (content) {\n                this.content.html(content);\n                return true;\n            }\n        },\n\n        _position: function(shape, options, elementSize, event) {\n            var position = options.position;\n            var tooltipOffset = options.offset || 0;\n            var surface = this.surface;\n            var offset = surface._instance._elementOffset();\n            var size = surface.getSize();\n            var surfaceOffset = surface._instance._offset;\n            var bbox = shape.bbox();\n            var width = elementSize.width;\n            var height = elementSize.height;\n            var left = 0, top = 0;\n\n            bbox.origin.translate(offset.left, offset.top);\n            if (surfaceOffset) {\n                bbox.origin.translate(-surfaceOffset.x, -surfaceOffset.y);\n            }\n\n            if (position == \"cursor\" && event) {\n                var coord = eventCoordinates(event);\n                left = coord.x - width / 2;\n                top = coord.y - height - tooltipOffset;\n            } else if (position == \"left\") {\n                left = bbox.origin.x - width - tooltipOffset;\n                top = bbox.center().y - height / 2;\n            } else if (position == \"right\") {\n                left = bbox.bottomRight().x + tooltipOffset;\n                top = bbox.center().y - height / 2;\n            } else if (position == \"bottom\") {\n                left = bbox.center().x - width / 2;\n                top = bbox.bottomRight().y + tooltipOffset;\n            } else {\n                left = bbox.center().x - width / 2;\n                top = bbox.origin.y - height - tooltipOffset;\n            }\n\n            return {\n                left: limitValue(left, offset.left, offset.left + size.width),\n                top: limitValue(top, offset.top, offset.top + size.height)\n            };\n        },\n\n        show: function(shape, options) {\n            this._show(shape, shape, deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip), options));\n        },\n\n        hide: function() {\n            var popup = this.popup;\n            var current = this._current;\n\n            delete this._current;\n            clearTimeout(this._showTimeout);\n            if (popup && popup.visible() && current &&\n                !this.surface.trigger(\"tooltipClose\", { element: current.shape, target: current.target, popup: popup })) {\n                popup.close();\n            }\n        },\n\n        _hideClick: function(e) {\n            e.preventDefault();\n            this.hide();\n        },\n\n        _show: function(target, shape, options, event, delay) {\n            var current = this._current;\n\n            clearTimeout(this._timeout);\n\n            if (current && ((current.shape === shape && options.shared) || current.target === target)) {\n                return;\n            }\n\n            clearTimeout(this._showTimeout);\n\n            var popup = this.getPopup();\n\n            if (!this.surface.trigger(\"tooltipOpen\", { element: shape, target: target, popup: popup }) &&\n                this._updateContent(target, shape, options)) {\n\n                this._autoHide(options);\n                var elementSize = this._measure(options);\n\n                if (popup.visible()) {\n                    popup.close(true);\n                }\n\n                this._current = {\n                    options: options,\n                    elementSize: elementSize,\n                    shape: shape,\n                    target: target,\n                    position: this._position(options.shared ? shape : target, options, elementSize, event)\n                };\n\n                if (delay) {\n                    this._showTimeout = setTimeout(this._openPopupHandler, options.showAfter || 0);\n                } else {\n                    this._openPopup();\n                }\n            }\n        },\n\n        _openPopup: function() {\n            var current = this._current;\n            var position = current.position;\n\n            this.getPopup().open(position.left, position.top);\n        },\n\n        _autoHide: function(options) {\n            if (options.autoHide && this._closeButton) {\n                this.element.removeClass(\"k-tooltip-closable\");\n                this._closeButton.remove();\n                delete this._closeButton;\n            }\n\n            if (!options.autoHide && !this._closeButton) {\n                this.element.addClass(\"k-tooltip-closable\");\n                this._closeButton = $(TOOLTIP_CLOSE_TEMPLATE).appendTo(this.element);\n            }\n        },\n\n        _showEvent: function(e) {\n            var shape = this._tooltipShape(e.element);\n\n            if (shape) {\n                var options = deepExtend({}, this.options, this._tooltipOptions(shape.options.tooltip));\n\n                if (options && options.showOn == e.type) {\n                    this._show(e.element, shape, options, e.originalEvent, true);\n                }\n            }\n        },\n\n        _measure: function(options) {\n            this.element.css({\n                width: defined(options.width) ? options.width : 'auto',\n                height: defined(options.height) ? options.height : 'auto'\n            });\n\n            const clone = this.element.clone().appendTo(document.body).css({ visibility: 'hidden' });\n            const width = outerWidth(clone);\n            const height = outerHeight(clone);\n            clone.remove();\n\n            this.element.css({\n                width: width,\n                height: height\n            });\n\n            return {\n                width: width,\n                height: height\n            };\n        },\n\n        _mouseleave: function(e) {\n            if (this.popup && !this._popupRelatedTarget(e.originalEvent)) {\n                var tooltip = this;\n                var current = tooltip._current;\n\n                if (current && current.options.autoHide) {\n                    tooltip._timeout = setTimeout(function() {\n                        clearTimeout(tooltip._showTimeout);\n                        tooltip.hide();\n                    }, current.options.hideDelay || 0);\n                }\n            }\n        },\n\n        _mousemove: function(e) {\n            var current = this._current;\n            if (current && e.element) {\n                var options = current.options;\n                if (options.position == \"cursor\") {\n                    var position = this._position(e.element, options, current.elementSize, e.originalEvent);\n                    current.position = position;\n                    this.getPopup().wrapper.css({ left: position.left, top: position.top });\n                }\n            }\n        },\n\n        _surfaceLeave: function(e) {\n            if (this.popup && !this._popupRelatedTarget(e)) {\n                clearTimeout(this._showTimeout);\n                this.hide();\n            }\n        },\n\n        _popupRelatedTarget: function(e) {\n            return e.relatedTarget && $(e.relatedTarget).closest(this.popup.wrapper).length;\n        },\n\n        _tooltipLeave: function() {\n            var tooltip = this;\n            var current = tooltip._current;\n            if (current && current.options.autoHide) {\n                tooltip._timeout = setTimeout(function() {\n                    tooltip.hide();\n                }, current.options.hideDelay || 0);\n            }\n        }\n    });\n\n    kendo.drawing.SurfaceTooltip = SurfaceTooltip;\n    kendo.dataviz.drawing.SurfaceTooltip = SurfaceTooltip;\n\n})(window.kendo.jQuery);\n\n(function($) {\n\n    var kendo = window.kendo;\n    var draw = kendo.drawing;\n    var DrawingSurface = draw.Surface;\n    var Widget = kendo.ui.Widget;\n    var deepExtend = kendo.deepExtend;\n\n    kendo.support.svg = DrawingSurface.support.svg;\n    kendo.support.canvas = DrawingSurface.support.canvas;\n\n    var Surface = Widget.extend({\n        init: function(element, options) {\n            Widget.fn.init.call(this, element, {});\n\n            this.options = deepExtend({}, this.options, options);\n\n            this._instance = DrawingSurface.create(this.element[0], options);\n            if (this._instance.translate) {\n                this.translate = translate;\n            }\n\n            this._triggerInstanceHandler = this._triggerInstanceEvent.bind(this);\n            this._bindHandler(\"click\");\n            this._bindHandler(\"mouseenter\");\n            this._bindHandler(\"mouseleave\");\n            this._bindHandler(\"mousemove\");\n\n            this._enableTracking();\n        },\n\n        options: {\n            name: \"Surface\",\n            tooltip: {}\n        },\n\n        events: [\n            \"click\",\n            \"mouseenter\",\n            \"mouseleave\",\n            \"mousemove\",\n            \"resize\",\n            \"tooltipOpen\",\n            \"tooltipClose\"\n        ],\n\n        _triggerInstanceEvent: function(e) {\n            this.trigger(e.type, e);\n        },\n\n        _bindHandler: function(event) {\n            this._instance.bind(event, this._triggerInstanceHandler);\n        },\n\n        draw: function(element) {\n            this._instance.draw(element);\n        },\n\n        clear: function() {\n            if (this._instance) {\n                this._instance.clear();\n            }\n            this.hideTooltip();\n        },\n\n        destroy: function() {\n            if (this._instance) {\n                this._instance.destroy();\n                delete this._instance;\n            }\n\n            if (this._tooltip) {\n                this._tooltip.destroy();\n                delete this._tooltip;\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n\n        exportVisual: function() {\n            return this._instance.exportVisual();\n        },\n\n        eventTarget: function(e) {\n            return this._instance.eventTarget(e);\n        },\n\n        showTooltip: function(shape, options) {\n            if (this._tooltip) {\n                this._tooltip.show(shape, options);\n            }\n        },\n\n        hideTooltip: function() {\n            if (this._tooltip) {\n                this._tooltip.hide();\n            }\n        },\n\n        suspendTracking: function() {\n            this._instance.suspendTracking();\n            this.hideTooltip();\n        },\n\n        resumeTracking: function() {\n            this._instance.resumeTracking();\n        },\n\n        getSize: function() {\n            return {\n                width: this.element.width(),\n                height: this.element.height()\n            };\n        },\n\n        setSize: function(size) {\n            this.element.css({\n                width: size.width,\n                height: size.height\n            });\n\n            this._size = size;\n            this._instance.currentSize(size);\n            this._resize();\n        },\n\n        _resize: function() {\n            this._instance.currentSize(this._size);\n            this._instance._resize();\n        },\n\n        _enableTracking: function() {\n            if (kendo.ui.Popup) {\n                this._tooltip = new draw.SurfaceTooltip(this, this.options.tooltip || {});\n            }\n        }\n    });\n\n    kendo.ui.plugin(Surface);\n\n    Surface.create = function(element, options) {\n        return new Surface(element, options);\n    };\n\n    kendo.drawing.Surface = Surface;\n\n    function translate(offset) {\n        this._instance.translate(offset);\n    }\n\n})(window.kendo.jQuery);\n\nwindow.kendo.drawing = window.kendo.drawing || {};\n\n(function($) {\n\n    var kendo = window.kendo;\n    var drawing = kendo.drawing;\n\n    drawing.drawDOM = function(element, options) {\n        if (typeof options?.template === \"string\") {\n            options.template = kendo.template(options.template);\n        }\n\n        let promise = drawDOM($(element)[0], options);\n        return kendo.convertPromiseToDeferred(promise);\n    };\n\n    // Aliases used by spreadsheet/print.js\n    drawing.drawDOM.drawText = drawText;\n    drawing.drawDOM.getFontFaces = getFontFaces;\n\n})(window.kendo.jQuery);\n\nconst __meta__ = {\n        id: \"drawing\",\n        name: \"Drawing API\",\n        category: \"framework\",\n        description: \"The Kendo UI low-level drawing API\",\n        depends: [\"core\", \"color\", \"popup\", \"icons\", \"drawing.cmn.chunk\"]\n    };\n\nexport { __meta__ };\n"]}
{"version":3,"file":"kendo.draggable.cmn.chunk.js","names":["__meta__","id","name","category","description","depends","hidden","chunk","proxy","a","b","e","bind","el","event","callback","addEventListener","unbind","removeEventListener","noop","preventDefault","touchRegExp","IGNORE_MOUSE_TIMEOUT","normalizeEvent","type","match","pageX","changedTouches","pageY","clientX","clientY","originalEvent","isTouch","offsetX","offsetY","ctrlKey","shiftKey","altKey","Draggable","ref","this$1$1","this","press","drag","release","mouseOnly","_pressHandler","_dragHandler","_releaseHandler","_ignoreMouse","_mouseOnly","_touchstart","touches","length","_touchmove","_touchend","setTimeout","_restoreMouse","_mousedown","which","document","_mousemove","_mouseup","_pointerdown","isPrimary","button","_pointermove","_pointerup","prototypeAccessors","configurable","supportPointerEvent","window","PointerEvent","get","_element","ownerDocument","prototype","cancelDrag","bindTo","element","_unbindFromCurrent","_bindToCurrent","_usePointers","update","destroy","Object","defineProperties","default"],"sources":["kendo.draggable.cmn.chunk.js"],"mappings":"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","ignoreList":[],"sourcesContent":["\n\nconst __meta__ = {\n    id: \"draggable.cmn.chunk\",\n    name: \"DraggableCmnChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\nvar proxy = function (a, b) { return function (e) { return b(a(e)); }; };\n\nvar bind = function (el, event, callback) { return el.addEventListener && el.addEventListener(event, callback); };\n\nvar unbind = function (el, event, callback) { return el && el.removeEventListener && el.removeEventListener(event, callback); };\n\nvar noop = function () { /* empty */ };\n\nvar preventDefault = function (e) { return e.preventDefault(); };\n\nvar touchRegExp = /touch/;\n\n// 300ms is the usual mouse interval;\n// // However, an underpowered mobile device under a heavy load may queue mouse events for a longer period.\nvar IGNORE_MOUSE_TIMEOUT = 2000;\n\nfunction normalizeEvent(e) {\n    if (e.type.match(touchRegExp)) {\n        return {\n            pageX: e.changedTouches[0].pageX,\n            pageY: e.changedTouches[0].pageY,\n            clientX: e.changedTouches[0].clientX,\n            clientY: e.changedTouches[0].clientY,\n            type: e.type,\n            originalEvent: e,\n            isTouch: true\n        };\n    }\n\n    return {\n        pageX: e.pageX,\n        pageY: e.pageY,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        offsetX: e.offsetX,\n        offsetY: e.offsetY,\n        type: e.type,\n        ctrlKey: e.ctrlKey,\n        shiftKey: e.shiftKey,\n        altKey: e.altKey,\n        originalEvent: e\n    };\n}\n\nvar Draggable = function Draggable(ref) {\n    var this$1$1 = this;\n    var press = ref.press; if ( press === void 0 ) press = noop;\n    var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n    var release = ref.release; if ( release === void 0 ) release = noop;\n    var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._ignoreMouse = false;\n    this._mouseOnly = mouseOnly;\n\n    this._touchstart = function (e) {\n        if (e.touches.length === 1) {\n            this$1$1._pressHandler(e);\n        }\n    };\n\n    this._touchmove = function (e) {\n        if (e.touches.length === 1) {\n            this$1$1._dragHandler(e);\n        }\n    };\n\n    this._touchend = function (e) {\n        // the last finger has been lifted, and the user is not doing gesture.\n        // there might be a better way to handle this.\n        if (e.touches.length === 0 && e.changedTouches.length === 1) {\n            this$1$1._releaseHandler(e);\n            this$1$1._ignoreMouse = true;\n            setTimeout(this$1$1._restoreMouse, IGNORE_MOUSE_TIMEOUT);\n        }\n    };\n\n    this._restoreMouse = function () {\n        this$1$1._ignoreMouse = false;\n    };\n\n    this._mousedown = function (e) {\n        var which = e.which;\n\n        if ((which && which > 1) || this$1$1._ignoreMouse) {\n            return;\n        }\n\n        bind(this$1$1.document, \"mousemove\", this$1$1._mousemove);\n        bind(this$1$1.document, \"mouseup\", this$1$1._mouseup);\n        this$1$1._pressHandler(e);\n    };\n\n    this._mousemove = function (e) {\n        this$1$1._dragHandler(e);\n    };\n\n    this._mouseup = function (e) {\n        unbind(this$1$1.document, \"mousemove\", this$1$1._mousemove);\n        unbind(this$1$1.document, \"mouseup\", this$1$1._mouseup);\n        this$1$1._releaseHandler(e);\n    };\n\n    this._pointerdown = function (e) {\n        if (e.isPrimary && e.button === 0) {\n            bind(this$1$1.document, \"pointermove\", this$1$1._pointermove);\n            bind(this$1$1.document, \"pointerup\", this$1$1._pointerup);\n            bind(this$1$1.document, \"pointercancel\", this$1$1._pointerup);\n            bind(this$1$1.document, \"contextmenu\", preventDefault);\n\n            this$1$1._pressHandler(e);\n        }\n    };\n\n    this._pointermove = function (e) {\n        if (e.isPrimary) {\n            this$1$1._dragHandler(e);\n        }\n    };\n\n    this._pointerup = function (e) {\n        if (e.isPrimary) {\n            unbind(this$1$1.document, \"pointermove\", this$1$1._pointermove);\n            unbind(this$1$1.document, \"pointerup\", this$1$1._pointerup);\n            unbind(this$1$1.document, \"pointercancel\", this$1$1._pointerup);\n            unbind(this$1$1.document, \"contextmenu\", preventDefault);\n\n            this$1$1._releaseHandler(e);\n        }\n    };\n};\n\nvar prototypeAccessors = { document: { configurable: true } };\n\nDraggable.supportPointerEvent = function supportPointerEvent () {\n    return (typeof window !== 'undefined') && window.PointerEvent;\n};\n\nprototypeAccessors.document.get = function () {\n    return this._element\n    ? this._element.ownerDocument\n    : document;\n};\n\nDraggable.prototype.cancelDrag = function cancelDrag () {\n    unbind(this.document, \"pointermove\", this._pointermove);\n    unbind(this.document, \"pointerup\", this._pointerup);\n    unbind(this.document, \"pointercancel\", this._pointerup);\n};\n\nDraggable.prototype.bindTo = function bindTo (element) {\n    if (element === this._element) {\n        return;\n    }\n\n    if (this._element) {\n        this._unbindFromCurrent();\n    }\n\n    this._element = element;\n    this._bindToCurrent();\n};\n\nDraggable.prototype._bindToCurrent = function _bindToCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        bind(element, \"pointerdown\", this._pointerdown);\n        return;\n    }\n\n    bind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        bind(element, \"touchstart\", this._touchstart);\n        bind(element, \"touchmove\", this._touchmove);\n        bind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._unbindFromCurrent = function _unbindFromCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        unbind(element, \"pointerdown\", this._pointerdown);\n        unbind(this.document, \"pointermove\", this._pointermove);\n        unbind(this.document, \"pointerup\", this._pointerup);\n        unbind(this.document, \"contextmenu\", preventDefault);\n        unbind(this.document, \"pointercancel\", this._pointerup);\n        return;\n    }\n\n    unbind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        unbind(element, \"touchstart\", this._touchstart);\n        unbind(element, \"touchmove\", this._touchmove);\n        unbind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._usePointers = function _usePointers () {\n    return !this._mouseOnly && Draggable.supportPointerEvent();\n};\n\nDraggable.prototype.update = function update (ref) {\n        var press = ref.press; if ( press === void 0 ) press = noop;\n        var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n        var release = ref.release; if ( release === void 0 ) release = noop;\n        var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._mouseOnly = mouseOnly;\n};\n\nDraggable.prototype.destroy = function destroy () {\n    this._unbindFromCurrent();\n    this._element = null;\n};\n\nObject.defineProperties( Draggable.prototype, prototypeAccessors );\n\n// Re-export as \"default\" field to address a bug\n// where the ES Module is imported by CommonJS code.\n//\n// See https://github.com/telerik/kendo-angular/issues/1314\nDraggable.default = Draggable;\n\nexport { Draggable as D };\nexport { __meta__ };"]}
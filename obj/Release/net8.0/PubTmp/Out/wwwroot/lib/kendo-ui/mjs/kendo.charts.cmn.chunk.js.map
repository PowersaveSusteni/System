{"version":3,"file":"kendo.charts.cmn.chunk.js","names":["defined$1","round$2","support","util","logToConsole","Matrix$2","Color","Class","Rect","Point$6","Arc$1","Path$7","Group$8","Animation$1","dotsPattern$1","verticalStripesPattern$1","crosshatchPattern$1","diagonalStripesPattern$1","gridPattern$1","Circle$1","Circle$2","MultiPath","transform","LinearGradient","RadialGradient","Text$2","measureText","Segment","AnimationFactory","Layout","parseColor","Surface$1","throttle","Arc$2","Size","Image","__meta__","id","name","category","description","depends","hidden","chunk","ARC","ARROW_UP","ARROW_DOWN","ARROW_LEFT","ARROW_RIGHT","TAB","ARIA_ACTIVE_DESCENDANT","AXIS_LABEL_CLICK","BLACK$1","BOTTOM$1","CENTER","CIRCLE","COORD_PRECISION","CROSS","DATE","DEFAULT_FONT","DEFAULT_HEIGHT$1","DEFAULT_PRECISION","DEFAULT_WIDTH$1","END$1","ENTER","ESCAPE","FORMAT_REGEX","HEIGHT","HIGHLIGHT_ZINDEX","INSIDE$2","INHERIT","LEFT","MAX_VALUE","Number","MIN_VALUE","NONE","NOTE_CLICK","NOTE_HOVER","NOTE_LEAVE","OBJECT$1","OUTSIDE$1","RIGHT","ROUNDED_RECT","START$1","STRING$1","TOP","TRIANGLE","SQUARE","RECT","VALUE","WHITE$1","WIDTH","X","Y","DEFAULT_SERIES_OPACITY","POINTER","HORIZONTAL","VERTICAL","constants$2","Object","freeze","__proto__","BLACK","BOTTOM","DEFAULT_HEIGHT","DEFAULT_WIDTH","END","INSIDE","OBJECT","OUTSIDE","START","STRING","WHITE","isArray","value","Array","addClass","element","classes","classArray","idx","length","className","indexOf","SPACE_REGEX","removeClass","replace","alignPathToPixel","path","offset","options","stroke","width","i","segments","anchor","round","translate","clockwise","angle1","angle2","x","y","isNumber","isNaN","isString$1","convertableToNumber","isFinite","cycleUp","index","count","cycleDown","result","cycleIndex","isFunction","fn","UNDEFINED","deepExtendOne","destination","source","property","propValue","propType","propInit","constructor","Date","getTime","clone","destProp","deepExtend","arguments$1","arguments","isObject","styleValue","SIZE_STYLES_REGEX","isSizeField","field","test","elementStyles","styles","stylesArray","style","window","getComputedStyle","parseFloat","field$1","getSpacing","defaultSpacing","spacing","top","right","bottom","left","current$2","compile","template","TemplateService","getTemplate$1","content","getTemplate","ariaTemplate","ariaContent","register","userImplementation","FIELD_REGEX","getterCache","getter","fields","match","indexAccessor","push","obj","grep","array","callback","hasClasses","classNames","names","split","HashMap","this","_map","Map","inArray","interpolateValue","start","end","progress","prototype","get","key","set","TRIGGER","InstanceObserver","observer","handlers","handlerMap","isPlainObject","toString","call","map","trigger","args","isDefaultPrevented","callObserver","fnName","len","apply","requiresHandlers","browser$1","browser","mousewheelDelta","e","delta","wheelDelta","webkit","Math","max","devicePixelRatio","detail","ceil","floor","ref","append","bindEvents","defined","deg","elementOffset","elementSize","eventCoordinates","eventElement","hashKey","last","limitValue","objectKey","rad","round$1","unbindEvents","valueOrDefault","FontLoader","setDefaultOptions","type","proto","fetchFonts","fonts","state","depth","document","keys","forEach","loadFonts","promises","font","load","Promise","all","then","preloadFonts","KICON","KI_PREFFIX","KFONTICON","KSVGICON","KSVG_PREFFIX","HTMLBaseIcon","wrapper","addClasses","html","outerHTML","size","themeColor","flip","iconClass","stylingOptions","HTMLFontIcon","create","currentIconClass","find","startsWith","icon","_className","HTMLSvgIcon","innerHTML","iconNameMatch","toUpperCase","svgIcons","setAttribute","svgElement","createElementNS","viewBox","appendChild","ICON_TYPES","svg","renderIcon","iconElement","iconOptions","HTMLElement","createElement","sparseArrayLimits","arr","min","undefined","predicate","item","Matrix$1","matrixRegexp","parseMatrix","matrixString","unit","members","Function","bind","concat","transformMatrix","elementScale","matrix","parent","parentElement","parentMatrix","multiplyCopy","b","c","f","autoTextColor","color","isDark","DELETED","LegacySet","values","_index","_values","slice","prototypeAccessors$2","configurable","filter","has","add","delete","clear","defineProperties","SetWrapper","_set","Set","prototypeAccessors$1$1","from","supportsSet","supported","createHashSet","defaultErrorHandler","error","INSERT","DELETE","BACKSPACE","ESC","UP","DOWN","HOME","SPACEBAR","PAGEUP","PAGEDOWN","F2","F10","F12","NUMPAD_PLUS","NUMPAD_MINUS","NUMPAD_DOT","hasOwnProperty","Matrix","height","data","argmax","pos","v","m","row","col","line","each","includeEmpty","val","el","transpose","n","a","j","multiply","s","va","vb","inverse","augment","loop","k","imax","tmp","returned","i$1","j$1","k$1","i$2","j$2","ret","eventMap","down","move","up","cancel","queryEventMap","applyEventMap","events","guid","random","elementEventHandlers","WeakMap","ID$1","Symbol","on","handler","useCapture","addEventListeners","off","removeEventListeners","isString","eventName","addEventListener","event","eventFilter","eventHandler","attachedHandler","closestMatchingTarget","target","closest","currentTarget","defineProperty","eventHandlers","Boolean","removeEventListener","handlerId","getSupportedFeatures","os","detectOS","navigator","userAgent","mobileOS","ua","agentRxs","wp","fire","android","iphone","ipad","playbook","windows","tizen","sailfish","osRxs","ios","flat","agent","device","testRegex","regexes","dflt","regex","noop","now","FUNCTION","preventDefault$2","_defaultPrevented","Observable","_events","destroy","unbind","one","original","that","eventNames","handlersIsFunction","first","eventName$1","unshift","eventArgs","sender","preventDefault","splice","_setEvents","this$1$1","extend$e","assign","preventDefault$1","DEFAULT_MIN_HOLD","CLICK_DELAY","DEFAULT_THRESHOLD","PRESS","HOLD","SELECT$1","MOVE","CANCEL","TAP","DOUBLETAP","RELEASE","GESTURESTART","GESTURECHANGE","GESTUREEND","GESTURETAP","THRESHOLD","api","touch","mouse","pointer","touchDelta","touch1","touch2","x1","location","y1","x2","y2","dx","dy","center","distance","sqrt","getTouches","touches","originalEvent","pointerId","TouchAxis","axis","invalidZeroEvents","_updateLocationData","startLocation","velocity","timeStamp","timeDelta","initialDelta","client","screen","Touch","userEvents","touchInfo","threshold","initialTouch","pressEvent","_clicks","supportDoubleTap","_moved","_finished","press","_holdTimeout","setTimeout","_hold","minHold","_trigger","_tap","_clickTimeout","preventMove","_shouldNotMove","_withinIgnoreThreshold","UserEvents","current","dispose","_start","endTime","clearTimeout","activeTouches","activeTouchIndex","skip","isMoved","startTime","notify","xDelta","yDelta","withEachUpEvent","downEvents","_maxTouches","multiTouch","allowSelection","captureUpIfMoved","surface","stopPropagation","pressed","_surfaceMoveHandler","_move","_surfaceEndHandler","_end","_elementStartHandler","touchAction","preventDragEvent","_elementDragStartHandler","_elementSelectHandler","_select","surfaceElement","preventIfMovingProxy","preventIfMoving","_isMoved","_destroyed","_disposeAll","capture","_isMultiTouch","_apiCall","_maxTouchesReached","pop","which","eventTouches","eventTouch","_eachTouch","methodName","matchingTouch","dict","hasPointerCapture","setPointerCapture","pageX","pageY","clientX","clientY","defaultThreshold","autoMajorUnit","diff","abs","scale","pow","log","relativeValue","Point$5","Point","equals","point","rotate","degrees","theta","cosT","cos","sinT","sin","cx","cy","distanceTo","onCircle","angle","radius","radians","Box","box","wrap","targetBox","wrapPoint","arrayPoint","snapTo","alignTo","targetCenter","shrink","dw","dh","expand","pad","padding","unpad","containsPoint","points","getHash","join","overlaps","rotation","r1","rotatePoint","r2","r3","r4","toRect","hasSize","align","alignment","c1","c2","sizeFunc","Ring","innerRadius","startAngle","middle","setRadius","newRadius","radianAngle","ax","ay","adjacentBox","sector","midAndle","midPoint","hw","hh","sa","ca","p","endAngle","vector","startPoint","startVector","endPoint","endVector","dist","getBBox","angles","allAngles","sort","numericComparer","startAngleIndex","endAngleIndex","Sector","DIRECTION_ANGLE","ShapeBuilder","createRing","arc","radiusX","radiusY","fromArc","close","innerEnd","pointAt","lineTo","ChartElement","children","initUserOptions","reflow","currentChild","animation","getRoot","getSender","service","getService","chartService","translateChildren","childrenCount","renderVisual","visible","createVisual","addVisual","renderChildren","createAnimation","renderComplete","visual","chartElement","appendVisual","zIndex","childVisual","noclip","clipRoot","stackRoot","stackVisual","isStackRoot","visuals","sibling","insert","traverse","child","matched","hasHighlight","highlight","createHighlight","toggleHighlight","show","opacity","customVisual","_highlight","highlightOptions","fill","highlightVisualArgs","series","dataItem","percentage","runningTotal","total","toggleFocusHighlight","accessibility","focusHighlight","_focusHighlight","highlightColor","background","focusHighlightOptions","border","createFocusHighlight","createGradientOverlay","gradientOptions","overlay","createGradient","closed","elements","supportsPointInactiveOpacity","dotsPattern","verticalStripesPattern","crosshatchPattern","diagonalStripesPattern","gridPattern","patternMap","dots","verticalStripes","crosshatch","diagonalStripes","grid","evaluatePattern","createPatternFill","patternOptions","pattern","BoxElement","margin","shrinkToFit","hasSetSize","borderWidth","reflowPaddingBox","vAlign","paddingBox","contentBox","hasBox","fromRect","visualStyle","dashType","cursor","addAccessibilityAttributesToVisual","accessibilityOptions","role","ariaLabel","ariaRoleDescription","ariaChecked","ShapeElement","pointData","getElement","halfWidth","halfHeight","fromPoints","moveTo","rect","borderRadius","setCornerRadius","visualOptions","LINEAR$1","RADIAL","GRADIENTS","glass","stops","sharpBevel","roundedBevel","roundedGlass","supportVML","sharpGlass","bubbleShadow","boxDiff","r","d","g","h","boxes","RootElement","rootOptions","parseInt","gradients","currentBox","createBackground","drawingGradient","hashCode","gradient","innerRadialStops","cleanGradients","_observers","usedSpace","currentStops","currentStop","FloatElement","_initDirection","vertical","groupAxis","elementAxis","groupSizeField","elementSizeField","groupSpacing","elementSpacing","vSpacing","reflowChildren","ref$1","groupOptions","groups","groupsSize","maxGroupElementsSize","groupsCount","groupsStart","alignStart","groupStart","groupIdx","group","groupElements","elementStart","groupElementsCount","groupElementStart","groupSize","elementBox","maxSize","groupElementsSize","DrawingText","Text$1","Text","baseline","paintOrder","topLeft","rectToBox","origin","bottomRight","ROWS_SPLIT_REGEX","TextBox","_initContainer","_autoReflow","rows","String","floatElement","textOptions","container","rowIdx","text","trim","visualFn","_boxReflow","visualBox","visualContext","clippedBBox","normalBox","rotatedBox","rotationTransform","context","getDefaultVisual","boxCenter","Title$1","Title","_textBox","position","buildTitle","defaultOptions","title","titleOptions","orderTitles","titles","items","collapseVerticalMargins","reverse","prevBox","AxisLabel","format","culture","click","widget","alignRotation","bbox","rotationMatrix","rotationOrigin","alignAxis","distanceAxis","axisAnchor","transformCopy","topRight","bottomLeft","alignEnd","distanceLeft","distanceRight","alignCenter","DEFAULT_ICON_SIZE","DEFAULT_LABEL_COLOR","Note","render","hide","label","childAlias","noteTemplate","auto","aliasFor","marker","wrapperBox","lineStart","linePoints","createLine","defaultVisual","over","out","defaultImplementation","parseDate","firstDay","current$1","IntlService","staticAccessors","implementation","FORMAT_REPLACE_REGEX","FormatService","intlService","_intlService","prototypeAccessors$1","intl","formatString","localeAuto","locale","placeholderFormat","substring","ChartService","chart","rtl","prototypeAccessors","isPannable","pannable","lock","DomEventsBuilder","services","createAxisTick","tickOptions","tickX","tickY","tick","createAxisGridLine","gridLine","lineEnd","Axis","labels","majorTickSize","minorTickSize","minorTicks","minorTickType","majorTicks","majorTickType","initFields","_deferLabels","createLabels","createTitle","createNotes","labelsRange","labelsCount","normalizeLabelRotation","labelOptions","step","clearLabels","autoRotateLabels","range","labelContext","createAxisLabel","clearTitle","lineBox","mirror","axisX","axisY","lineWidth","visualSize","notes","parseNoteValue","note","createPlotBands","gridLinesVisual","gridLines","_gridLines","createTicks","lineGroup","majorUnit","tickLineOptions","tickPositions","skipUnit","getMajorTickPositions","getMinorTickPositions","minorUnit","_alignLines","_lineGroup","getActualTickSize","tickSize","_backgroundPath","plotBands","plotArea","_plotbandGroup","altAxis","pane","axes","slotX","slotY","getSlot","to","createPlotBandLabel","bandRect","textbox","labelTemplate","createGridLines","minorGridLines","majorGridLines","axisLineVisible","linePos","lineOptions","sizeFn","titleSize","space","boxSize","maxLabelSize","labelSize","arrangeTitle","arrangeLabels","arrangeNotes","getLabelsTickPositions","labelTickIndex","labelsBetweenTicks","tickIx","firstTickPosition","nextTickPosition","positionStart","positionEnd","positionLabel","labelBox","labelOffset","labelX","labelY","autoRotateLabelAngle","slotWidth","limit","labelAngle","idx$1","slot","shouldRenderNote","noteSlot","secondAxis","axisLabelText","tmpl","defaultText","maxLabelOffset","lastLabel","offsetField","startPosition","endPosition","maxStartOffset","maxEndOffset","startTick","endTick","limitRange","rangeSize","minValue","maxValue","valueRange","seriesMin","seriesMax","lineDir","lineInfo","lineSize","axisDir","axisOrigin","pointOffset","scaleToDelta","rawScale","justified","prepareUserOptions","axisCrossingValue","MILLISECONDS","SECONDS","MINUTES","HOURS","DAYS","WEEKS","MONTHS","YEARS","TIME_PER_MILLISECOND","TIME_PER_SECOND","TIME_PER_MINUTE","TIME_PER_HOUR","TIME_PER_DAY","TIME_PER_WEEK","TIME_PER_MONTH","TIME_PER_YEAR","TIME_PER_UNIT","years","months","weeks","days","hours","minutes","seconds","milliseconds","absoluteDateDiff","getTimezoneOffset","addTicks","date","ticks","toDate","startOfWeek","weekStartDay","daysToSubtract","day","getDay","adjustDST","getHours","setHours","addHours","roundedDate","setMinutes","tzDiff","addDuration","dateValue","getFullYear","getMonth","getDate","getSeconds","setSeconds","getMilliseconds","setMilliseconds","floorDate","ceilDate","dateComparer","dateDiff","toTime","dateEquals","timeIndex","baseUnit","dateIndex","baseUnitStep","startDate","duration","lteDateIndex","sortedDates","low","high","currentDate","parseDates","dates","MIN_CATEGORY_POINTS_RANGE","MIN_CATEGORY_RANGE","CategoryAxis","_ticks","categoriesHash","copy","categories","srcCategories","definedMin","definedMax","rangeIndices","totalRange","roundedRange","_seriesMax","scaleOptions","hideOutOfRangeLabels","valueAxis","firstLabel","getTicks","labelTicks","tickIndices","stepSize","indices","getTickPositions","positions","cache","hash","_hash","hasMinor","filterOutOfRangePositions","inRange","startIndex","endIndex","slotBox","singleSlot","p1","p2","limitSlot","limittedSlot","categoryIndex","pointCategoryIndex","startValue","getCategory","totalIndex","categoryAt","categoriesCount","translateRange","scaleRange","limitedRangeIndices","minDelta","maxDelta","zoomRange","totalMin","totalMax","dataItems","hideOutOfRangeNotes","pan","pointsRange","diffStart","diffEnd","rangeMin","rangeMax","_categoriesMap","currentRangeIndices","totalCount","totalLimit","totalRangeIndices","indexCategories","COORDINATE_LIMIT","DateLabelFormats","ZERO_THRESHOLD","AUTO$1","BASE_UNITS","FIT","categoryRange","clearCache","_range","EmptyDateRange","displayIndices","displayRange","valueIndex","valuesCount","dateAt","DateRange","roundToBaseUnit","lowerEnd","roundToTotalStep","expandEnd","justifyEnd","valueStart","displayStart","next","valueEnd","displayEnd","autoBaseUnit","startUnit","startStep","unitSteps","nextStep","categoryLimits","span","autoBaseUnitSteps","maxDateGroups","autoUnit","autoUnitIx","units","totalUnits","shift","defaultBaseUnit","lastCategory","minDiff","categoryIx","initUnit","toLowerCase","_indices","minIdx","maxIdx","upper","roundedStep","DateCategoryAxis","dataRange","_parsed","panning","userSetBaseUnit","userSetBaseUnitStep","maxDivisions","safeOptions","forecast","_forecast","before","after","divisionOptions","dataRangeOptions","divisionRange","rangeLabels","isEmpty","totalLimits","panRange","datesRange","indicesRange","fit","autoBaseUnitStep","maxDiff","rangeDiff","baseUnitIndex","stepIndex","createRangeLabels","arrangeRangeLabels","position$1","autoRotateRangeLabels","hideOverlappingLabels","firstRangeLabel","clip","lastRangeLabel","rangeLabel","unitFormat","dateFormats","createLabel","rotateLabel","dateRange","autoAxisMin$1","narrow","axisMin","autoAxisMax$1","axisMax","limitCoordinate","MIN_VALUE_RANGE$2","NumericAxis","autoOptions","autoAxisOptions","totalOptions","totalAxisOptions","axisOptions","totalMajorUnit","getDivisions","stepValue","divisions","skipStep","getValue","endValue","isValidRange","narrowRange","autoMin","autoMax","roundToMajorUnit","remainderClose","clearNullValues","userOptions","userSetMin","userSetMax","userSetLimits","divisor","ratio","remainder","MIN_VALUE_RANGE$1","DateValueAxis","applyDefaults","axisCrossingValues","dir","limittedRange","timeUnits","baseUnitTime","actualUnits","unitsToAdd","head","tail","DEFAULT_MAJOR_UNIT","MIN_VALUE_RANGE","LogarithmicAxis","base","autoAxisMax","autoAxisMin","initRange","logMin","log$1","logMax","floorMax","traverseMajorTicksPositions","tickPosition","traverseMinorTicksPositions","power","minorOptions","_minorIntervalOptions","minorStep","info","throwNegativeValuesError","logMaxRemainder","Error","GridLinesMixin","majorAngles","minorAngles","skipMajor","majorGridLineAngles","renderMajorGridLines","minorGridLineAngles","renderMinorGridLines","renderGridLines","radiusCallback","circle","gridLineAngles","skipAngles","divs","intervals","altAxisVisible","alpha","intervalAngle","RadarCategoryAxis","reflowLabels","measureBox","skipOption","stepOption","divCount","divAngle","majorIntervals","minorIntervals","interval","minorAngle","minorRadius","band","plotBandSlot","ring","totalDivs","slotAngle","fromValue","slotStart","PolarAxis","instanceOptions","atan2","PI","RadarNumericAxisMixin","polarAxis","bandStyle","shape","plotBandPoints","innerPoints","outerPoints","innerCircle","outerCircle","radarMajorGridLinePositions","radarMinorGridLinePositions","tickRadius","angleIx","angularDistance","gamma","beta","axisType","RadarNumericAxis","minorSkipStep","RadarLogarithmicAxis","WEIGHT","EXTREMUM_ALLOWED_DEVIATION","CurveProcessor","process","dataPoints","removeDuplicates","initialControlPoint","lastControlPoint","p0","tangent","controlOut","firstControlPoint","secondControlPoint","controlPoints","tangent$1","cp0","controlPoints$1","cp1","controlPoints$2","tangent$2","invertAxis","lineFunction","calculateFunction","isLine","xField","yField","restrict","switchOrientation","sign","monotonic","isMonotonicByField","numberSign","oldXField","restrictControlPoint","cp","p3","t1","t2","xValue","yValue","controlPoint","coreExport","Gradients","constants","getAriaTemplate","ChartAxis","_axis","findAxisByName","ChartPane","chartsVisual","chartContainer","_pane","ChartPlotArea","_plotArea","backgroundVisual","_bgVisual","countNumbers","Aggregates","sum","sumOrNull","avg","getField","SeriesBinder","_valueFields","_otherFields","_nullValue","_undefinedValue","seriesTypes","valueFields","otherFields","_makeValue","canonicalFields","bindPoint","pointIx","fieldData","_bindFromArray","srcValueFields","sourceFields","srcPointFields","_bindFromObject","initialValue","object","srcFields","fieldName","srcFieldName","sourceFieldName","STD_ERR","STD_DEV","percentRegex","standardDeviationRegex","RegExp","ErrorRangeCalculator","errorValue","initGlobalRanges","deviationMatch","exec","valueGetter","createValueGetter","average","getAverage","deviation","getStandardDeviation","multiple","errorRange","globalRange","standardError","getStandardError","binder","getErrorRange","pointValue","percentValue","isSample","squareDifferenceSum","INITIAL_ANIMATION_DURATION","FADEIN","GLASS","BORDER_BRIGHTNESS","TOOLTIP_OFFSET","START_SCALE","msie","ERROR_LOW_FIELD","ERROR_HIGH_FIELD","X_ERROR_LOW_FIELD","X_ERROR_HIGH_FIELD","Y_ERROR_LOW_FIELD","Y_ERROR_HIGH_FIELD","LINE_MARKER_SIZE","ZERO","INTERPOLATE","GAP","ABOVE","BELOW","SMOOTH","STEP","AREA","BAR","BOX_PLOT","BUBBLE","BULLET","CANDLESTICK","COLUMN","DONUT","FUNNEL","PYRAMID","HEATMAP","HORIZONTAL_WATERFALL","LINE","OHLC","PIE","POLAR_AREA","POLAR_LINE","POLAR_SCATTER","RADAR_AREA","RADAR_COLUMN","RADAR_LINE","RANGE_AREA","RANGE_BAR","RANGE_COLUMN","SCATTER","SCATTER_LINE","VERTICAL_AREA","VERTICAL_BOX_PLOT","VERTICAL_BULLET","VERTICAL_LINE","VERTICAL_RANGE_AREA","WATERFALL","EQUALLY_SPACED_SERIES","TRENDLINE_EXPONENTIAL","TRENDLINE_LINEAR","TRENDLINE_LOGARITHMIC","TRENDLINE_MOVING_AVERAGE","TRENDLINE_POLYNOMIAL","TRENDLINE_POWER","TRENDLINE_SERIES","LEGEND_ITEM_CLICK","LEGEND_ITEM_HOVER","LEGEND_ITEM_LEAVE","SERIES_CLICK","SERIES_HOVER","SERIES_OVER","SERIES_LEAVE","PLOT_AREA_CLICK","PLOT_AREA_HOVER","PLOT_AREA_LEAVE","DRAG","DRAG_END","DRAG_START","ZOOM_START","ZOOM","ZOOM_END","SELECT_START","SELECT","SELECT_END","RENDER","SHOW_TOOLTIP$1","HIDE_TOOLTIP$1","PANE_RENDER","CHART_POINT_ROLE","CHART_POINT_CLASSNAME","CHART_POINT_ROLE_DESCRIPTION","LEGEND_ITEM_ROLE","LEGEND_ITEM_CLASSNAME","LEGEND_ITEM_ARIA_ROLE_DESCRIPTION","LOGARITHMIC","CATEGORY","INSIDE_END","INSIDE_BASE","OUTSIDE_END","MOUSEWHEEL$1","MOUSEWHEEL_DELAY","MOUSEWHEEL_ZOOM_RATE","DRILLDOWN","DRILLDOWN_FIELD","PATTERN_FIELD","MIN_MOVING_AVERAGE_PERIOD","constants$1","HIDE_TOOLTIP","MOUSEWHEEL","SHOW_TOOLTIP","DEFAULT_ERROR_BAR_WIDTH","ErrorBarBase","isVertical","endCaps","valueBox","getAxis","centerBox","capsWidth","getCapsWidth","capValue","capStart","capEnd","createDefaultVisual","delay","CategoricalErrorBar","seriesValueAxis","anyHasZIndex","appendIfNotNull","areNumbers","segmentVisible","pointVisibility","bindSegments","seriesCount","equalsIgnoreCase","MAX_EXPAND_DEPTH","evalOptions","dryRun","defaults","needsEval","excluded","filterSeriesByType","types","currentSeries","dateCache","parseDateCategory","hasGradientOverlay","hasValue$2","isDateAxis","sampleCategory","dateCategory","singleItemOrArray","AREA_REGEX","seriesMissingValues","missingValues","stack","hasValue$1","findNext","pointHasValue","outPoint","hasItem","createOutOfRangePoints","hasMinPoint","hasMaxPoint","minPoint","maxPoint","_outOfRangeMinPoint","_outOfRangeMaxPoint","CategoricalChart","categoryAxis","seriesCategoryAxis","valueAxisRanges","categoryPoints","seriesPoints","seriesOptions","_evalSeries","traverseDataPoints","addValue","pointOptions","seriesIx","pointType","invertAxes","plotValue","isStacked100","otherValues","categorySum","other","otherStack","plotRange","isStacked","positive","prevValue","isStackedBar","defaultStack","isNonGroupStack","otherValue","categoryAxisCrossingValue","stackLimits","axisName","stackName","pIx","updateStackRange","chartSeries","limitsCache","limits","errorTotals","negative","addErrorBar","errorBars","lowValue","highValue","seriesErrorRanges","addPointErrorBar","stackedErrorRange","updateRange","errorBar","createPoint","owner","noteText","evalPointOptions","_defaults","doEval","axisRange","namedValueAxes","categorySlots","chartPoints","categorySlot","valueSlot","pointSlot","aboveAxis","stackValue","reflowPoint","reflowCategories","limitPoints","limitPoint","limitedSlot","axisIndex","_outOfRangeCallback","seriesIx$1","currentCategory","seriesIx$2","outOfRangePoint","formatPointValue","PointEventsMixin","hover","NoteMixin","createNote","LinePoint","tooltipTracking","_id","markers","_rendered","createMarker","createLabelElement","getLabelText","formatValue","getAriaLabelText","markerBorder","brightness","toHex","markerBox","_childBox","childBox","reflowLabel","noteTargetBox","defaultColor","shadow","highlightVisual","halfSize","markerOptions","tooltipAnchor","clipBox","verticalAlign","horizontalAlign","horizontal","overlapsBox","unclipElements","focusVisual","clearFocusFromVisual","getIndex","tabIndex","LineSegment","toGeometryPoints","segmentVisual","coords","getNearestPoint","StepLineMixin","calculateStepPoints","stepAxis","stepDir","previousPoint","toGeometryPoint","stepPoint","lintPoint","StepLineSegment","SplineSegment","curve","LineChartMixin","renderSegments","lastSegment","_segments","sortedPoints","sortPoints","pointCount","createSegment","_addSegment","segment","nearestPoint","allPoints","nearestPointDistance","pointDistance","ClipAnimation","superclass","setup","_setEnd","suspend","setX","resume","ClipAnimationMixin","root","transitions","clipPath","_setChildrenAnimation","animationPoints","LineChart","AreaSegment","prevSegment","stackPoints","createFill","createStroke","lineCap","strokeSegments","_strokeSegments","createStrokeSegments","segmentsFromPoints","stackSegments","createStackSegments","hasStackSegment","fillSegments","hasStackSegments","fillToAxes","fillPath","crossingValue","endSlot","firstPoint","lastPoint","StepAreaSegment","SplineAreaSegment","curveProcessor","controlIn","AreaChart","previousSegment","_gapStackPoints","_stackPoints","stackPoint","startIdx","endIdx","currentSeriesIx","_previousSegmentPoint","gapStackPoint","_createGapStackPoint","segmentIx","seriesIdx","AxisGroupRangeTracker","axisRanges","update","chartAxisRanges","chartRange","reset","query","BarLabel","textBox","alignToClipBox","parentBox","AccessibilityAttributesMixin","BAR_ALIGN_MIN_WIDTH","Bar","rectVisual","createRect","strokeOpacity","getBorderColor","lineJoin","baseColor","_brightness","borderColor","forEachReverse","ClusterLayout","gap","slots","slotSize","StackWrap","positionAxis","BarChart","clusterType","stackType","stackOrDefault","negativeColor","cluster","getStackWrap","stackWrap","stackGroup","wraps","_stackGroup","zeroSlot","stackAxis","childrenLength","_setAnimationOptions","pointVisual","Candlestick","ocSlot","open","lhSlot","realBody","mid","lines","reflowNote","_mainVisual","mainVisual","createOverlay","createBody","createLines","body","drawLines","lineStyle","normalColor","meanPoints","medianPoints","whiskerPoints","tooltip","CandlestickChart","hasValue","splitValue","downColor","parts","BoxPlot","whiskerSlot","boxSlot","q1","q3","reflowBoxSlot","lower","reflowWhiskerSlot","medianSlot","median","mean","meanSlot","calcMeanPoints","calcWhiskerPoints","calcMedianPoints","renderOutliers","outliers","outerFence","outlierValue","markersBorder","extremes","reflowOutliers","whiskers","VerticalBoxPlot","BoxPlotChart","filterOutliers","ScatterErrorBar","seriesAxes","ScatterChart","_initFields","xAxisRanges","yAxisRanges","valueErrorField","lowField","highField","createMissingValue","xAxisName","xAxis","yAxisName","yAxis","xAxisRange","yAxisRange","namedXAxes","namedYAxes","Bubble","highlightGroup","BubbleChart","_maxSize","negativeValues","updateBubblesSize","pointsCount","animationOptions","minR","minSize","maxR","minArea","areaRatio","area","Target","Bullet","targetValueSlot","targetSlotX","targetSlotY","targetSlot","bodyVisual","BulletChart","wrapData","bulletOptions","bullet","seriesItem","BaseTooltip","getStyle","pointColor","backgroundColor","paddingTop","paddingBottom","paddingLeft","paddingRight","tooltipOptions","CrosshairTooltip","crosshair","formatService","initAxisName","showAt","stickyMode","formattedValue","getAnchor","ref_options","Crosshair","moveLine","getBox","dim","axisLineBox","currentAxis","ChartContainer","shouldClip","_clipBox","chartsBox","clipRect","unclipLabels","charts","Pane$1","Pane","paneID","appendAxis","appendAxisAt","appendChart","empty","removeAxis","removeChart","allAxes","vGridLines","hGridLines","refresh","notifyRender","axisValueField","length$1","axis$1","lineBox$1","paneIndex","ID","PlotAreaBase","initSeries","legend","crosshairs","originalOptions","originalSeries","_bindCache","createPanes","createCrosshairs","cached","paneDefaults","paneOptions","panes","panesLength","currentPane","crosshairOptions","currentCrosshair","removeCrosshairs","hideCrosshairs","findPane","matchingPane","findPointPane","axisToRemove","filteredAxes","chartToRemove","filteredCharts","addToLegend","inactiveItems","inactiveItemsLabels","seriesVisible","visibleInLegend","itemLabelOptions","markerColor","active","groupAxes","xAxes","yAxes","paneIx","paneAxes","axisIx","any","groupSeriesByPane","seriesByPane","seriesPaneName","filterVisibleSeries","reflowPanes","detachLabels","reflowAxes","reflowCharts","redraw","panesArray","crossingAxes","crossingValues","valuesToAdd","defaultValue","alignAxisTo","targetAxis","targetCrossingValue","slotEdge","targetEdge","axisBox","alignAxes","xAnchor","yAnchor","xAnchorCrossings","yAnchorCrossings","leftAnchors","rightAnchors","topAnchors","bottomAnchors","paneId","paneAnchor","anchorCrossings","_overlap","_mirrored","paneYAnchor","pane$1","paneId$1","visible$1","anchor$1","anchorCrossings$1","shrinkAxisWidth","axisGroupBox","overflowX","shrinkAxisHeight","shrinked","overflowY","fitAxes","offsetX","paneBox","offsetY","currentAxis$1","reflowPaneAxes","autoRotateAxisLabels","groupedAxes","rotated","allPaneAxes","chartPane","remainingHeight","autoHeightPanes","percents","currentPane$1","currentPane$2","backgroundBox","axesCount","axisA","axisB","chartsBoxes","addBackgroundPaths","multipath","paths","backgroundContainsPoint","isTransparent","bg","pointsByCategoryIndex","pointsBySeriesIndex","seriesIndex","filterPoints","pointsByPointIndex","pointIndex","pointsBySeriesName","findPoint","paneByPoint","detachAxisGroupLabels","labelAxisCount","labelAxis","createLabelAxis","onAxis","edge","isTrendline","trendlineFactory","createTrendlineSeries","modifiedSeries","forSeries","seriesByName","for","trendlineSeries","getFirstPoint","getPointBelow","_getNextPoint","_pointsByVertical","getPointAbove","getPointToTheRight","_pointsByHorizontal","getPointToTheLeft","getPointsFunc","increment","nextIndex","loopPoints","direction","at","basePoint","isSingleAxis","some","reduce","acc","PlotAreaEventsMixin","_dispatchEvent","SeriesAggregator","defaultAggregates","seriesFields","_seriesFields","rootAggregate","aggregate","_series","_binder","fieldAggregate","canonicalName","aggregatePoints","srcPoints","_bindPoints","firstDataItem","srcValues","_bindField","setValue","parentObj","DefaultAggregates","aggregates","seriesType","RangeBar","fromOptions","toOptions","labelFrom","labelTo","RangeBarChart","plotLimits","RangeLinePoint","AUTO","DEFAULT_FROM_FORMAT","DEFAULT_TO_FORMAT","RangeAreaPoint","initLabelsFormat","fromPoint","toPoint","copyFields","fromBox","toBox","positionLabels","fromLabelPosition","toLabelPosition","RangeAreaSegment","toPoints","fromSegments","toPath","fromPath","SplineRangeAreaSegment","createCurveSegments","StepRangeAreaSegment","RangeAreaChart","fromSlot","toSlot","OHLCPoint","oPoints","cPoints","lhPoints","oSlot","cSlot","OHLCChart","WaterfallSegment","WaterfallChart","createSegments","totalCategories","summary","prevPoint","registry","impl","calculateSlope","sourceValues","slope","intercept","xy","xMin","xMax","checkAllPositive","every","getTrendlineData","valueMapper","currentRange","exponentialTrendline","getData$b","seriesValues","categoryField","valueGetter$8","exp","linearTrendline","getData$a","valueGetter$7","logarithmicTrendline","getData$9","valueGetter$6","calculateMovingAverage","period","averagePoints","lastValue","movingAverageTrendline","getData$8","valueGetter$5","calculatePoints","trendline","MIN_ORDER","MAX_ORDER","calculatePolynomial","order","coefficients","linearRegression","Xt","B","polynomialTrendline","getData$7","valueGetter$4","powerTrendline","getData$6","valueGetter$3","AREA_SERIES","OUT_OF_RANGE_SERIES","CategoricalPlotArea","namedCategoryAxes","valueAxisRangeTracker","_seriesPointsCache","_currentPointsCache","stack100","createCategoryAxes","aggregateCategories","createCategoryAxesLabels","createCharts","createValueAxes","filterSeries","trendlineAggregateForecast","srcSeries","aggregateSeries","paneSeries","visibleSeries","groupSeriesByCategoryAxis","groupIx","createChartGroup","createAreaChart","createRangeAreaChart","createBarChart","createRangeBarChart","createBulletChart","createCandlestickChart","createBoxPlotChart","createOHLCChart","createWaterfallChart","createLineChart","processedSeries","axisPane","dataLength","outOfRangePoints","clearSeriesPointsCache","seriesSourcePoints","dateAxis","srcData","aggregator","categoryItem","categoryIdx","categoriesToAdd","defaultPaneName","stackableChartOptions","anyStackedSeries","categoryAxes","unique","axisSeries","groupSeries","firstSeries","barChart","rangeColumnChart","bulletChart","lineChart","areaChart","rangeAreaChart","waterfallChart","axisRequiresRounding","categoryAxisName","categoryAxisIndex","centeredSeries","seriesAxis","aggregatedAxis","definitions","isJustified","primaryAxis","tracker","defaultRange","baseOptions","defaultAxisRange","eventType","_eventCoordinates","pointPane","updateAxisOptions","updateAxisOptions$2","_siblingsBySeriesIndex","_siblingsByPointIndex","siblings","_getSeriesCompareFn","_isInStackedSeries","sortableSeries","stackableSeries","targetOptions","Highlight","_points","arrayPoints","togglePointHighlight","toggleHandler","toggle","isHighlighted","acceptKey","mouseKey","ctrlKey","shiftKey","altKey","toChartAxisRanges","ranges","Pannable","_active","_panAxes","updatedAxes","ZoomSelection","marquee","_marquee","marqueeColor","removeElement","parentNode","removeChild","setStyles","zoomPane","_zoomPane","_elementOffset","_zoomPaneClipBox","_selectionPosition","selectionPosition","_updateAxisRanges","zoom","MIN_RATE","MAX_RATE","DEFAULT_RATE","MousewheelZoom","rate","updateRanges","alignItems","LegendLayout","lineSpacing","orientation","legendItem","DEFAULT_MARKER_SIZE","DEFAULT_MARKER_BORDER_WIDTH","LegendItemMarker","markerHighlightOptions","MarkerLineArea","LegendItemLine","centerY","createHighlightLine","createHighlightMarker","highlightLine","highlightMarker","LegendItemSquare","LegendItem","createContainer","markerWrap","createMarkerArea","_marker","_createMarker","_createLine","_createMarkerLine","_createSquare","_highlightOptions","_line","_markerLineArea","_reduceSize","prop","factor","structuredClone","_square","_highlightMarkers","_toggleHighlight","_restoreMarkers","eventSink","_itemOverlay","_legendItemHover","_unsetActivePoint","CUSTOM","Legend$1","Legend","createContainers","createLegendTitle","createItems","userAlign","hasTitle","itemsContainer","innerElement","markersOptions","itemOptions","hasItems","getItems","legendBox","containerCustomReflow","containerReflow","alignTarget","containerBox","createTitleLayout","appendTitleLayoutContent","layout","PlotAreaFactory","_registry","entry","trendlines","ZOOM_ACCELERATION$1","SELECTOR_HEIGHT_ADJUST","createDiv$1","closestHandle","Selection","_dateAxis","initOptions","offsetHeight","createElements","onPane","selection","leftMask","rightMask","leftHandle","rightHandle","selectionStyles","leftHandleHeight","rightHandleHeight","borderLeftWidth","borderRightWidth","cssText","mousewheel","_mousewheelHandler","_mousewheel","_domEvents","tap","_press","gesturestart","_gesturestart","gesturechange","_gesturechange","gestureend","_gestureend","_mwTimeout","_state","_rangeEventArgs","_value","_pointInPane","modelCoords","_toModelCoordinates","handle","bodyRect","getBoundingClientRect","inBody","moveTarget","oldRange","rightClick","_slot","leftMaskWidth","rightMaskWidth","toValue","zDir","relative","Tooltip$1","Tooltip","_current","SharedTooltip$1","SharedTooltip","tooltipPoints","_slotAnchor","_defaultAnchor","shared","categoryText","categoryFormat","slotCenter","BarChartAnimation","fromScale","abort","scaleX","scaleY","BubbleAnimation","easing","FadeInAnimation","fadeTo","PieAnimation","ScatterLineChart","missingValue","getScatterTrendlineData","samplingInterval","scatterExponentialTrendline","getData$5","valueGetter$2","scatterValueGetter","scatterLinearTrendline","getData$4","xValueLimits","scatterLogarithmicTrendline","getData$3","valueGetter$1","logValueGetter","scatterMovingAverageTrendline","getData$2","scatterPolynomialTrendline","getData$1","scatterPowerTrendline","getData","scatterRegistry","XYPlotArea","xAxisRangeTracker","yAxisRangeTracker","filteredSeries","createScatterChart","createScatterLineChart","createBubbleChart","createAxes","createXYAxis","inferredDate","namedAxes","isLog","typeSamples","seriesAxisName","firstPointValue","xAxesOptions","yAxesOptions","xValues","yValues","currentValue","updateAxisOptions$1","PieSegment","labelText","themeLabels","theme","seriesDefaults","animationDelay","labelsOptions","labelsDistance","lp","labelHeight","labelWidth","createSegmentVisual","borderOptions","fallbackFill","userSpace","singleSegment","tooltipAlignment","RAD_30","RAD_60","sine","cosine","PieChartMixin","createLegendItem","legendOptions","pointVisible","legendItems","PIE_SECTOR_ANIM_DELAY","PieChart","seriesColors","colorsCount","anglePerValue","constantAngle","currentAngle","explode","evalSegmentOptions","segmentOptions","seriesConfigs","minWidth","halfMinWidth","defaultPadding","newBox","newBoxCenter","leftSideLabels","rightSideLabels","seriesConfig","labelComparator","leftLabelsReflow","rightLabelsReflow","distances","distanceBetweenLabels","distributeLabels","lr","firstBox","secondBox","remaining","_takeDistance","amount","available","boxX","labelDistance","boxY","hAlignLabel","connectors","_connectorLines","connectorsColor","connectorLine","centerPoint","sr","crossing","intersection","pointInCircle","autoFit","pieCenter","bboxBottom","reverseValue","originalX","sector_center","t","a1","a2","b1","b2","uat","ub","PiePlotArea","createPieChart","pieChart","DonutSegment","DONUT_SECTOR_ANIM_DELAY","DonutChart","holeSize","totalSize","seriesWithoutSize","currentSeries$1","DonutPlotArea","createDonutChart","donutChart","DEFAULT_PADDING","PolarPlotAreaBase","createPolarAxis","createValueAxis","axisDefaultRange","valueAxisOptions","valueAxisBox","heightDiff","PolarScatterChart","valueRadius","PolarLineChart","SplinePolarAreaSegment","_polarAxisCenter","PolarAreaSegment","centerSegment","PolarAreaChart","_hasMissingValuesGap","xComparer","PolarPlotArea","scatterChart","groupBySeriesIx","seriesSegments","RadarLineChart","isFirstDataPoint","isLastDataPoint","SplineRadarAreaSegment","RadarAreaSegment","RadarAreaChart","RadarSegment","RadarClusterLayout","slotSector","RadarStackLayout","childSector","RadarBarChart","RadarPlotArea","_hasBarCharts","_isStacked100","chartOptions","FunnelSegment","chartBox","createPath","FunnelChart","labelPadding","dynamicSlopeReflow","totalHeight","firstSegment","maxSegment","lastUpperSide","previousOffset","previousHeight","nextSegment","nextPercentage","segmentSpacing","constantSlopeReflow","decreasingWidth","neckRatio","finalNarrow","dynamicSlope","dynamicHeight","MAX_NECK_RATIO","PyramidChart","FunnelPlotArea","createChart","chartType","colorScale","minLightnessOffset","hsl","toHSL","l","toCss","HeatmapPoint","labelColor","isRoundRect","halfBorderWidth","HeatmapChart","setRange","indexX","indexY","xRange","yRange","ref$2","xIndex","yIndex","xIn","yIn","HeatmapPlotArea","bindCategories","createAxisLabels","xCategories","yCategories","createHeatmapChart","xAxisOptions","yAxisOptions","firstCategory","normalizedOffset","axisXItems","_getPointAxisXIndex","targetXValue","compareValues","_getPointAxisYIndex","axisYItems","targetYValue","_getPointAxisIndex","findIndex","axisItem","COLOR","FIRST","FROM","MAX","MIN","NOTE_TEXT","SUMMARY_FIELD","TO","errorLow","errorHigh","AXIS_NAMES","MOUSEDOWN","MOUSEMOVE","CONTEXTMENU","MOUSELEAVE","KEYDOWN","FOCUS","BLUR","MOUSEMOVE_DELAY","NO_DATA_OVERLAY_TOP_CLASS","Chart","themeOptions","observers","addObserver","_initElement","_originalOptions","_theme","_initTheme","_focusState","_initHandlers","_initSurface","fontLoaded","_redraw","_attachEvents","_restoreOverlayElement","_setElementClass","getAttribute","childNodes","overlayElement","_hasSeriesData","display","seriesCopies","resolveAxisAliases","applySeriesColors","getSize","chartArea","offsetWidth","resize","force","currentSize","_size","_resize","_selections","_destroySelections","_setupSelection","_noTransitionsRedraw","paneName","_model","findPaneByName","findPaneByIndex","seriesName","categoryName","pointByCategoryName","togglePointsHighlight","showTooltip","_sharedTooltip","_tooltip","hideTooltip","_surfaceWrap","renderAs","_destroySurface","_surfaceMouseenterHandler","_surfaceMouseleaveHandler","_kendoExportVisual","model","_getModel","_destroyView","_setElementAccessibilityAttributes","_legend","draw","play","_createTooltip","_createPannable","_createZoomSelection","_createMousewheelZoom","_setComputedStyles","triggerPaneRender","_navState","_cancelDomEvents","_redrawFocusHighlight","titleHeight","setProperty","ref_focusState","legendInFocus","preserveHighlight","_focusElement","_getFocusedLegendItem","exportOptions","exportVisual","currentOptions","clearMissingValues","_pannable","zoomable","_zoomSelection","_mousewheelZoom","_toggleDragZoomEvents","allowDrag","allowZoom","_dragZoomEnabled","_touchAction","_toggleDomEvents","drag","domEvents","toggleDrag","toggleZoom","_createSharedTooltip","applyAxisDefaults","applySeriesDefaults","colors","seriesColor","_createPlotArea","_modelOptions","subtitle","_setTitleBox","_titleBox","titlePosition","subtitlePosition","subtitleAtTop","skipSeries","selections","select","_selectStart","_selectEnd","_clickHandler","_click","_keydownHandler","_keydown","_focusHandler","_focus","_blurHandler","_blur","_mousedownHandler","_mousedown","_mouseleaveHandler","_mouseleave","_mouseover","_mouseout","_mousemove","removeObserver","_toDocumentCoordinates","_updateDrilldownPoint","_resetDrilldownPoint","_focusPoint","_startDrilldown","_focusLegendItem","obj$1","_shouldAttachMouseMove","_hoveredPoint","_plotAreaHovered","_hasInactiveOpacity","_activeChartInstance","_applySeriesOpacity","_updateSeriesOpacity","_stopChartHandlers","_gestureDistance","_clearFocusedElement","suspendTracking","_zooming","resumeTracking","mousewheelZoom","previousGestureDistance","scaleDelta","_drawingChartElement","leave","_startNavigation","_suppressHover","ranges$1","_endNavigation","_mousewheelZoomRate","totalDelta","chartEvent","_getChartElement","eventTarget","coordinates","_elementPadding","_padding","inverseTransform","invert","drawingElement","sharedTooltip","_startHover","_trackSharedTooltip","_propagateClick","handlingTap","_isLegendBeforeChart","legendPosition","_preventInitialPointFocus","_focusFirstLegendItem","_focusFirstPoint","focusedElement","isLegendBeforeChart","_navigatePoints","_navigateLegend","_hideTooltip","focusState","moveFocus","focusedPoint","_displayTooltip","itemsLength","cycleFunc","focusedLegendItemIndex","_hasFocus","ownerDocument","activeElement","_focusChart","focus","omitHighlight","_setElementActiveDescendant","_showSeriesInactiveOpacity","_showInactiveOpacity","_clearElementActiveDescendant","_pseudoFocusedElement","_createPseudoFocusedElement","remove","removeAttribute","pseudoElement","checked","_hideInactiveOpacity","activePoint","_activePoint","_updateHoveredPoint","_displayInactiveOpacity","multipleSeries","highlightPoints","chartInstance","_chartInstanceFromPoint","inactivePoints","_getInactivePoints","_getInactiveOpacityForSeries","_getAllPointsOfType","hoveredPoint","drilldown","_drilldownState","resetOpacity","currSeries","defaultOpacity","_getDefaultOpacityForSeries","inactiveOpacity","activeSeries","hasDefaultInactiveOpacity","hasInactiveOpacity","defaultInactiveOpacity","_mouseMoveTrackHandler","_mouseMoveTracking","seriesPoint","_trackCrosshairs","overPlotArea","_tooltipCategoryIx","_sharedHighlight","pointArgs","hoverArgs","hideElements","keepTooltipOpen","_deferRedraw","_clearRedrawTimeout","_redrawTimeout","clearInterval","autoBind","bindCategoryAxisFromSeries","uniqueCategories","seriesOnAxis","hasCategoryBinding","seriesWithData","categorySamples","time","_isBindable","transitionsState","updateMouseMoveHandler","applyOptions","setOptions","setDirection","setIntlService","noTransitionsRedraw","aliases","alias","axisDefaults","themeAxisDefaults","mapAxisOptions","axisColor","seriesLength","commonDefaults","themeSeriesDefaults","commonThemeDefaults","cleanupNestedSeriesDefaults","bar","column","rangeColumn","verticalLine","pie","donut","verticalArea","scatter","scatterLine","bubble","candlestick","ohlc","boxPlot","verticalBullet","polarArea","polarLine","radarArea","radarLine","waterfall","DATA_FIELDS","fieldValue","originalValue","nullValue","TOP_OFFSET","ChartSharedTooltip","DEAULT_BAR_WIDTH","DEAULT_BULLET_WIDTH","NO_CROSSHAIR","wrapNumber","Sparkline","_initialWidth","stage","displayState","_autoWidth","inline","_calculateWidth","currentChart","pointWidth","normalizeOptions","FadeOutAnimation","_initialOpacity","createDiv","div","NavigatorHint","chartPadding","scroll","scrollWidth","minPos","clearHideTimeout","_visible","visibility","tooltipStyle","marginTop","borderTopWidth","_hideTimeout","_hideAnimation","hideDelay","NAVIGATOR_PANE","NAVIGATOR_AXIS","DEFAULT_PANE","ZOOM_ACCELERATION","Navigator$1","Navigator","hint","chartObserver","clean","_redrawSelf","initSelection","mainAxis","axisClone","selectStart","selectEnd","filterAxes","silent","redrawSlaves","slavePanes","_drag","navigatorAxis","naviRange","inNavigator","liveDrag","showHint","_dragEnd","readSelection","ref_selection_options","_zoom","fromIx","toIx","_zoomEnd","__navi","naviOptions","attachAxes","attachSeries","valueAxes","justifyAxis","_collapse","autoBindElements","user","navigatorSeries","dateField","ClonedObject","AUTO_CATEGORY_WIDTH","StockChart","stockDefaults","destroyNavigator","_fullRedraw","_dirty","partialRedraw","dirty","_seriesCount","copyNavigatorCategories","ANGULAR_SPEED","LINEAR_SPEED","ARROW","ARROW_POINTER","BAR_POINTER","DEFAULT_LINE_WIDTH","DEGREE","INSIDE$1","LINEAR","RADIAL_POINTER","RADIAL_RANGE_POINTER","getOrigin","setOrigin","setSize","Group$7","Path$6","buildLabelElement","styleGeometry","styleBox","getRange","DEFAULT_MARGIN","Path$5","Surface","Gauge","contextService","pointerValue","pointers","_setValueOptions","_draw","_visuals","allValues","arrayValues","_toggleTransitions","_surfaceSize","gaugeArea","_createGaugeArea","_createModel","_gaugeAreaMargin","currentTheme","areaGeometry","_surfaceElement","_getSize","defaultSize","_defaultSize","Path$4","Group$6","Point$4","renderAxisTick","tickRenderOptions","renderTicks","tickGroup","LinearScale","renderLabels","scaleLine","renderLine","scaleTicks","renderRanges","linePath","Pointer","newValue","_oldValue","repaint","LinearPointer","track","pointerBox","pointerRangeBox","trackBox","trackSize","pointerHalfSize","getElementOptions","_margin","ArrowLinearPointerAnimation","toScale","translateX","translateY","Point$3","Path$3","ArrowLinearPointer","pointerShape","elementOptions","BarLinearPointerAnimation","newPoints","oldPoints","speed","setter","Group$5","Path$2","BarLinearPointer","minSlot","sizeAxis","p4","pointerPath","oldShape","renderTrack","trackOptions","DEFAULT_MIN_WIDTH","DEFAULT_MIN_HEIGHT","Group$4","LinearGauge","bboxX","bboxY","_shrinkScaleWidth","_getBox","_alignElements","_shrinkElements","_buildVisual","scaleElements","pointerType","plotAreaBox","scaleBox","overflow","GEO_ARC_ADJUST_ANGLE","Arc","Path$1","Group$3","drawTicks","tickAngles","getRadiusX","tickStart","tickEnd","rangeSegment","RadialScale","renderArc","labelElements","repositionRanges","hasRanges","ticksSize","labelsGroup","rangeDistance","isInside","hasLabelElements","setRadiusX","setRadiusY","paddingWidth","paddingHeight","labelPos","labelElement","prevLabelPos","labelTransform","union","rangeRadius","getRangeRadius","_geometry","rangeSegments","segmentsCount","createRange","rangeGeom","rangePlaceholderColor","tickArc","majorTickAngles","allTicks","_tickDifference","minorTickAngles","normalizeTickAngles","tickCount","repositionTicks","minor","newPoint","xDiff","yDiff","RadialPointerAnimation","newAngle","oldAngle","CAP_SIZE","Circle","Group$2","Path","RadialPointer","setAngle","_renderNeedle","_renderCap","capSize","cap","needleColor","needlePath","capColor","arrow","Group$1","RadialGauge","_initialPlotArea","fitScale","alignScale","_buildPointers","midDiff","oldDiff","getDiff","staleFlag","getPlotBox","scaleArc","plotBbox","plotBox","plotBoxCenter","paddingX","paddingY","pointersArr","ArcScale","rangeLineCap","placeholderRangeAngle","geometry","setEndAngle","setStartAngle","addRange","MAX_DURATION","RangePointerAnimation","startColor","currentColor","RangePointer","rangeColor","ArcGauge","centerLabelPosition","yLimit","defaultStartAngle","CircularGauge","DEFAULT_QUIET_ZONE_LENGTH","Encoding","initProperties","quietZoneLength","addQuietZone","encode","convertedValue","initValue","addData","invalidCharacterError","character","addCheckSum","extend$d","Code11","characterMap","cCheckSumTotal","kCheckSumTotal","kCheckSumMinLength","checkSumMod","DASH_VALUE","DASH","STOP","addPattern","addCharacter","charAt","setBaseUnit","cValue","getWeightedSum","checksum","kValue","weightedSum","weightedValue","extend$c","Code39Base","minBaseUnitLength","addStart","pushCheckSum","addStop","prepareValues","characterData","addBase","Code39","minRatio","maxRatio","gapWidth","splitCharacter","patternMappings","w","W","A","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","Z","$","patternString","minBaseUnit","minHeight","getBaseUnit","toFixed","getBaseWidth","characterLength","addCharacterGap","Code39ExtendedBase","charCodeAt","addExtended","code","patterns","extendedMappings","patternIndex","shiftCharacters","fromCharCode","dataCharacter","specialAsciiCodes","shiftValuesAsciiCodes","Code39Extended","SHIFT0","SHIFT1","SHIFT2","SHIFT3","extend$b","Code93","TERMINATION_BAR","charData","checkValues","_getCheckValues","_findCharacterByValue","wightedSum","Code93Extended","characterByValue","numberRegex$2","extend$a","Postnet","VALID_CODE_LENGTHS","DIGIT_SEPARATOR","baseHeight","validate","checkSum","numberRegex$1","alphanumericRegex","extend$9","State128","encoding","is","isCode","pushState","State128AB","states","_initMoves","FNC4","SHIFT","encodingState","_moves","maxLength","numberMatch","substr","_moveFNC","_shiftState","_moveState","fnc","previousState","shifted","states128","State128A","State128B","State128C","next4","getSubstring","State128FNC4","_initSubStates","dependentStates","subState","_getSubState","_initSubState","_pushStart","pushData","subStates","_getAll","FNC1","States128FNC1","startState","startAI","endAI","applicationIdentifiers","multiKey","ids","nextStart","separatorLength","regexSeparators","getBySeparator","getByLength","ai","applicationIdentifier","getApplicationIdentifier","unsupportedAIError","Code128Base","_initStates","getNextState","temp","Code128a","Code128b","Code128c","Code128","CodeGS1128","extend$8","MsiBase","checkSumType","checkSums","checkSumLength","MsiMod10","MsiMod11","MsiMod1010","MsiMod1110","Modulo10","evenSum","oddSum","odd","Modulo11","checkValue","Modulo11Modulo10","mod11Value","Modulo10Modulo10","mod10Value","extend$7","Ean13","keyTable","digits","valueAsString","calculateChecksum","leftKey","leftPart","rightPart","addPieces","addSide","arrToAdd","limitedHeight","even","extend$6","Ean8","Encodings","code11","code39","code39extended","code93","code93extended","code128","code128a","code128b","code128c","surfaceSize","surfaceType","clientWidth","clientHeight","msimod10","msimod11","msimod1010","msimod1110","postnet","ean8","ean13","DEFAULT_BARCODE_WIDTH","DEFAULT_BARCODE_HEIGHT","Barcode","errorHandler","onError","_setOptions","_initSurfaceElement","_createSurface","_destroySurfaceElement","_render","encodedValue","textToDisplay","textMargin","barHeight","_getBackground","_getText","_bandsGroup","_getBands","value$1","stepX","patternItem","_textbox","prefix","valid","fallbackSize","barcodeValidator","resolvedType","extend$5","splitInto","str","chunkLength","toBitsString","bitString","toDecimal","FreeCellVisitor","startColumn","getNextCell","getNextRemainderCell","EncodingResult","dataString","version","IsoEncoder","getEncodingResult","inputString","errorCorrectionLevel","modes","getModes","getVersion","getDataCodewordsCount","getDataString","QRDataMode","modeIndicator","bitsInCharacterCount","getVersionIndex","getBitsCharacterCount","getModeCountString","getStringBitsLength","NumericQRDataMode","inputLength","mod3","AlphaNumericQRDataMode","characters","ByteQRDataMode","NUMERIC$1","ALPHA_NUMERIC$1","BYTE$2","DataModeInstances","BYTE$1","Utf8Encoder","mode","encodingMode","utfBOM","initialModeCountStringLength","encodeCharacter","bytesCount","getBytesCount","bc","significantOnes","VersionsCodewordsInformation","totalDataCodewords","errorCodewordsPerBlock","terminator","NUMERIC","ALPHA_NUMERIC","BYTE","powersOfTwo","powersOfTwoResult","irregularAlignmentPatternsStartDistance","finderPattern","alignmentPattern","errorCorrectionPatterns","formatMaskPattern","formatGeneratorPolynomial","versionGeneratorPolynomial","paddingCodewords","finderPatternValue","maskPatternConditions","numberRegex","alphaPattern","alphaExclusiveSet","alphaRegex","alphaNumericRegex","byteRegex","initMinNumericBeforeAlpha","initMinNumericBeforeByte","initMinAlphaBeforeByte","minNumericBeforeAlpha","minNumericBeforeByte","minAlphaBeforeByte","generatorPolynomials","fillFunctionCell","matrices","bit","fillDataCell","fillData","blocks","block","codewordIdx","cell","cellVisitor","blockIdx","padDataString","initialDataString","dataBitsCount","terminatorIndex","paddingCodewordIndex","generatePowersOfTwo","xorPolynomials","multiplyPolynomials","generateGeneratorPolynomials","firstPolynomial","secondPolynomial","multiplyByConstant","polynomial","generateErrorCodewords","errorCodewordsCount","generator","generatorPolynomial","steps","errorCodewords","getBlocks","dataStream","versionCodewordsInformation","dataBlock","blockCodewordsCount","groupBlocksCount","messagePolynomial","codeword","codewordStart","dataBlocks","errorBlocks","versionGroups","chooseMode","previousMode","modeString","numeric","numericMatch","alphaMatch","alphaNumeric","alphaNumericMatch","nextMode","dataCodewordsCount","encodeFormatInformation","encodedString","encodeBCH","codeLength","generatorNumber","polynomialLength","valueNumber","valueString","dividePolynomials","numberX","numberY","yLength","xLength","getNumberAt","initMatrices","modules","addFormatInformation","encodeVersionInformation","addVersionInformation","quotient","mod","addCentricPattern","addFinderSeparator","nextX","nextY","addFinderPatterns","addAlignmentPatterns","startDistance","addTimingFunctions","scoreMaskMatrixes","scores","previousBits","darkModules","adjacentSameBits","modulesLength","rowIndex","columnIndex","matrixIndex","scoreFinderPatternOccurance","scoreAdjacentSameBits","calculateDarkModulesRatioScore","rowColumn","adjacentBits","percent","mod5","previous","createQRCodeDataEncoder","encodeData","encodingResult","versionInformation","optimalMatrix","crossPattern","squarePattern","QRCodeDefaults","DEFAULT_SIZE","QUIET_ZONE_LENGTH","DEFAULT_ERROR_CORRECTION_LEVEL","DEFAULT_BACKGROUND","DEFAULT_DARK_MODULE_COLOR","MIN_BASE_UNIT_SIZE","DEFAULT_LOGO_SIZE","QRCode","elementWidth","elementHeight","quietZoneSize","contentSize","errorCorrection","_calculateBaseUnit","_renderBackground","_renderMatrix","_hasCustomLogo","_renderLogo","_isSwiss","_renderSwissCode","qrSize","imageRect","logoSize","_getLogoSize","logoUrl","imageUrl","crossSize","crossOffset","_renderShape","matrixSize","newOptions","defautLogoSize","ISO","qrcodeValidator","WGS84$1","datums","WGS84","toSquare","math$4","abs$1","atan$1","atan","sin$1","tan$1","tan","Location","lat","lng","DISTANCE_ITERATIONS","DISTANCE_CONVERGENCE","DISTANCE_PRECISION","FORMAT","toArray","loc","precision","dest","datum","greatCircleTo","initialBearing","initialDatum","bearing","fromLat","fromLng","dToR","asin","initialDest","azimuthFrom","azimuthTo","prevLambda","sinLambda","cosLambda","sino","cosA2","coso","cos2om","sigma","U1","sinU1","cosU1","U2","sinU2","cosU2","lambda","converged","sinA","u2","deltao","fromLngLat","lngAndLat","fromLatLng","math$3","pow$1","Point$2","PI_DIV_2","PI_DIV_4","DEG_TO_RAD","Mercator","_initOptions","MAX_LNG","MAX_LAT","INVERSE_ITERATIONS","INVERSE_CONVERGENCE","forward","clamp","proj","lng0","centralMeridian","_projectLat","ecc","ts","con","_inverseY","ecch","phi","dphi","SphericalMercator","Equirectangular","EPSG3857","_proj","_tm","_itm","toLocation","EPSG3395","EPSG4326","extend$4","proxy","method","convertToHtml","firstChild","appendHtml","removeChildren","prepend","originElement","insertBefore","wrapInner","toHyphens","toPixels","endsWith","hasNativeScrolling","setDefaultEvents","wheelDeltaY","deltaY","VERTICAL_AXIS","renderPos","Attribution","extent","_extent","newItem","_itemText","separator","showElement","hideElement","inZoomLevel","_inZoomLevel","minZoom","maxZoom","inArea","_inArea","newMin","newMax","contains","PAN","directionsMap","createButton$1","navigateUpButton","icons","navigateRightlButton","navigateDownButton","navigateLeftButton","_keyroot","_tabindex","targetElement","TABINDEX","tabindex","_pan","panStep","button","matches","createButton","PLUS","MINUS","FF_PLUS","FF_MINUS","CHANGE$2","ZoomControl","zoomInButton","zoomOutButton","_change","zoomStep","math$2","max$1","min$2","Extent","initialNw","initialSe","nw","se","World","containsAny","locs","include","includeAll","edges","ne","sw","CENTER_CHANGE","ZOOM_CHANGE","INIT","widgetService","_anchor","documentPoint","Layer","scrollElement","_beforeReset","_reset","_panEnd","_activate","_updateAttribution","_deactivate","_applyExtent","_setVisibility","matchMinZoom","matchMaxZoom","inside","attribution","_readData","_hasData","_data","_layerIndex","layers","math$1","Point$1","compileTemplate","roundPoint","renderSize","newSize","TileLayer","subdomains","viewType","_viewType","_view","locationToLayer","viewOrigin","_updateView","TileView","view","extentToPoint","tileSize","urlTemplate","pool","TilePool","center$1","_center","extent$1","_viewOrigin","zoom$1","pointToTileIndex","tileCount","firstTileIndex","indexToPoint","subdomainText","subdomainIndex","tile","createTile","currentIndex","tileOptions","wrapIndex","subdomain","errorUrlTemplate","boundary","wrapValue","ImageTile","maxWidth","maxHeight","url","urlResult","urlOptions","errorUrl","z","quadkey","q","_items","_remove","_create","maxDist","extend$3","CHANGE$1","TapCapture","domElement","_release","attachEvent","captureNext","cancelCapture","PaneDimension","forcedEnabled","measure","scrollSize","makeVirtual","virtual","_virtualMin","_virtualMax","virtualSize","outOfBounds","forceEnabled","getTotal","rescale","scaledTotal","minScale","centerOffset","enabled","PaneDimensions","forcedMinScale","maxScale","newScale","centerCoordinates","PaneAxis","dimension","movable","dragMove","dragDelta","resistance","translateAxis","elastic","dimensions","gesture","closestAnchor","previousGesture","previousCenter","scaleWith","tagName","Movable","transformOrigin","_saveCoordinates","by","scaleTo","moveAxis","newCoordinates","Group","ShapeLayer","_initRoot","_markers","_handler","_mouseenter","_translateSurface","_load","_root","features","geometries","_clearMarkers","_loader","GeoJsonLoader","parse","shapeCreated","cancelled","renderPointsAsMarkers","layer","featureCreated","_panning","locationToView","_eventArgs","layerIndex","shapeIndex","_tooltipAnchor","_tooltipContext","eventOffset","_panHandler","panHandler","locator","defaultStyle","unwrap","_loadGeometryTo","_featureCreated","_shapeCreated","properties","_loadPolygon","_setLineFill","_loadPoint","_loadShape","rings","_buildPolygon","viewToLocation","BubbleLayer","valueField","newData","scaleType","_scaleType","getLocation","locationField","symbol","_createSymbol","_drawSymbol","Scales","Symbols","SqrtScale","domain","_domain","domainRange","outputRange","_ratio","rel","geo","square","CLICK","MOUSE_ENTER","MOUSE_LEAVE","extend$2","MARKER_CLASS_NAME","MARKER_CLASS","MarkerLayer","_markerClickHandler","_markerClick","_addOne","Marker","arg","addTo","getTitle","titleField","_kendoNode","markerIndex","_markerMouseEnter","_createMarkerEventArgs","_markerMouseLeave","_mouseEnterHandler","_mouseEnter","_mouseLeaveHandler","_mouseLeave","templateHtml","_compileTemplate","templateFn","templateElement","svgIcon","attributes","_createEventArgs","paramName","useWithBlock","extend$1","animationFrame","requestAnimationFrame","Animation","_tickProxy","_tick","_started","done","onEnd","onCancel","Transition","timePassed","initial","_easeProxy","ease","easeOutExpo","extend","SNAPBACK_DURATION","SCROLLBAR_OPACITY","FRICTION$1","VELOCITY_MULTIPLIER$1","MAX_VELOCITY","OUT_OF_BOUNDS_FRICTION","ANIMATED_SCROLLER_PRECISION","PULL","CHANGE","RESIZE","SCROLL","MOUSE_WHEEL_ID","ZoomSnapBack","tapCapture","DragInertia","transition","_moveTo","paneAxis","_snapBack","velocityMultiplier","friction","snapBack","AnimatedScroller","_updateCoordinates","setCoordinates","setCallback","ScrollBar","scrollMovable","alwaysVisible","paneSize","sizeRatio","Scroller","hasScrolling","_native","useNative","scrollHeader","fixedContainer","scrollContainer","inner","avoidScrolling","velocityX","velocityY","horizontalSwipe","verticalSwipe","zoomSnapBack","animatedScroller","scrollTo","scrollTop","scrollLeft","mousewheelScrolling","_wheelScrollHandler","_wheelScroll","pulled","_initAxis","_wheelEnd","_wheel","_wheelY","pullToRefresh","_initPullToRefresh","_wheelTimeout","scrollHeight","contentResized","_scale","zoomOut","enable","disable","animatedScrollTo","pullHandled","_paneChange","scrollBar","visibleScrollHints","pullOffset","messages","pullTemplate","releaseTemplate","refreshTemplate","MapService","math","min$1","MARKER","LOCATION","FRICTION","FRICTION_MOBILE","MOUSEWHEEL_THROTTLE","VELOCITY_MULTIPLIER","DEFAULT_ZOOM_RATE","layersMap","Map$1","_init","scroller","zoomControl","markerLayer","initObserver","initServices","_notifyObserver","crs","_getOrigin","_initScroller","_initMarkers","_initControls","_initLayers","mousewheelThrottled","level","zoomLevel","_setExtent","_getExtent","wraparound","locationObject","_layerSize","layerToLocation","pointObject","translateWith","pointResult","eventToView","eventToLayer","eventToLocation","viewSize","_setOrigin","originLocation","_origin","invalidate","newExtent","raw","layerWidth","layerHeight","_zoomAround","pivot","controls","_createAttribution","_createNavigator","_createZoomControl","_createControlElement","defaultPosition","posSelector","querySelector","div$1","_navigatorPan","_navigatorCenter","bounds","_virtualSize","_scrollEnd","_zoomControlChange","_scroll","_scaleStart","_doubleTap","defs","_createLayer","layerDefaults","layerOptions","markerDefaults","layerConstructor","_scrollOffset","_panComplete","_panEndTimestamp","_scaleToZoom","gestureCenter","centerLocation","originPoint","tiles","_resetScroller","xBounds","yBounds","_renderLayers","newZoom","toZoom","fromZoom","mapFn","curr","sortAsc","y0","sortSource","sortTarget","node","sortLinks","nodes","targetLinks","link","sourceLinks","calcLayer","maxDepth","Sankey$1","nodesOptions","links","nodeWidth","nodePadding","targetColumnIndex","loops","autoLayout","calculate","connectLinksToNodes","calculateNodeValues","circularLinks","calculateNodeHeights","columns","calculateNodeDepths","calculateNodeColumns","calculateNodeBreadths","applyNodesOffset","calculateLinkBreadths","nodesMap","sourceId","targetId","currDepth","currentNodes","nodesLength","currentHeight","eachNode","columnWidth","x0","kSize","uncurlLinksToRight","uncurlLinksToLeft","targetTopPos","arrangeNodesVertically","sourceTopPos","arrangeUp","arrangeDown","yPos","currentY","link$1","calculateSankey","crossesValue","linksLength","lNext","nextLink","intersect","rotationDirection","p1x","p1y","p2x","p2y","p3x","p3y","expression1","expression2","link1","link2","f1","f2","f3","f4","SankeyElement","Node","getRect","navigatable","blur","nodeColor","nodeColors","resolveNodeOptions","nodeOptions","distanceToLine","x3","y3","bezierPoint","t1t1","tt","angelBetweenTwoLines","line1","line2","ref$3","x4","y4","calculateControlPointsOffsetX","xC","upperCurveMiddleLine","lowerCurveMiddlePoint","upperNarrowness","Link","curveTo","resolveLinkOptions","sourceNode","targetNode","linkOptions","colorType","BEFORE","AFTER","Label","diagramMinX","diagramMaxX","nodeBox","textSizeBox","textY","labelAfterLastNode","labelBeforeFirstNode","side","textOrigin","textRect","resolveLabelOptions","drawingRect","sortData","sortDataRTL","areaBackground","areaOpacity","LINK","NODE","toRtl","sankey","startX","Sankey","_initResizeObserver","_initNavigation","_destroyResizeObserver","_onDownHandler","disableKeyboardNavigation","_onDown","firstFocusableNode","ResizeObserver","entries","contentRect","_resizeObserver","observe","mouseenter","mouseleave","mousemove","setLinksOpacity","linksVisuals","setOpacity","setLinksInactivityOpacity","linkValue","ev","targetType","isLink","isNode","isLegendItem","highlightLinks","nodeVisual","nodesVisuals","relatedTarget","nodeName","tooltipTimeOut","tooltipShown","followPointer","tooltipElType","mouseEvent","isLeft","isTop","tooltipData","popupOffset","popupAlign","nodeValue","nextDelay","sameNode","_focusNode","sameLink","_focusLink","node1","node2","_cleanFocusHighlight","nodeData","models","linkData","_focusNextNode","columnNodes","nodeIndex","nextNode","_focusNextLink","sourceLinkIndex","targetLinkIndex","nextLink$1","_focusSourceNode","_focusTargetNode","_focusSourceLink","_focusTargetLink","_skipFocusHighlight","onArrowRight","onArrowLeft","onEscape","onArrowDown","onArrowUp","disconnect","titleBox","calcOptions","sankeyOptions","disableAutoLayout","sankeyBox","legendArea","calculatedNodes","console","warn","Infinity","nodeEl","nodeOps","nodeInstance","rawBBox","labelVisual","permutation","columnsLength","results","currPerm","crosses","minCrosses","bestResult","sankeyContext","newColumn","titleVisual","visualNodes","focusHighlights","sortedLinks","resolvedOptions","linkInstance","linkVisual","textOps","legendVisual","createSankeyData","linksMap","existingValue","nodesId","nodesArray","linksArray","getWizardDataFromDataRows","dataRows","dataColumns","ActionTypes","stacked","categoryAxisX","valueAxisY","seriesChange","areaMarginLeft","areaMarginRight","areaMarginTop","areaMarginBottom","titleText","titleFontName","titleFontSize","titleColor","subtitleText","subtitleFontName","subtitleFontSize","subtitleColor","seriesLabel","legendVisible","legendFontName","legendFontSize","legendColor","categoryAxisTitleText","categoryAxisTitleFontName","categoryAxisTitleFontSize","categoryAxisTitleColor","categoryAxisLabelsFontName","categoryAxisLabelsFontSize","categoryAxisLabelsColor","categoryAxisLabelsRotation","categoryAxisReverseOrder","valueAxisTitleText","valueAxisTitleFontName","valueAxisTitleFontSize","valueAxisTitleColor","valueAxisLabelsFormat","valueAxisLabelsFontName","valueAxisLabelsFontSize","valueAxisLabelsColor","valueAxisLabelsRotation","fontSizes","titleSizeDefault","subtitleSizeDefault","labelSizeDefault","axisTitleSizeDefault","fontNames","fontFamily","fontNameDefault","columnType","barType","lineType","pieType","scatterType","categoricalTypes","scatterSeries$1","isCategorical","includes","categoryTypes","valueTypes","axesDefinitions","getFont","parseFont","spaceIndex","updateFontName","fontName","currentFont","updateFontSize","fontSize","defaultFontName","recordWithValues","getCategoryColumnIndex","categoryDef","candidates","sampleRecord","record","getValueColumnIndexes","valuesDef","def","emptyState","initialSeries","categoryValueChartState","chartDef","firstRecord","catIndex","valuesIndexes","valuesColumn","valuesResult","pieChartState","categoriesAxis","flatData","createInitialState","defaultState","createState","updateState","mergeStates","newState","currentState","action","legend$1","legend$2","rotation$1","windowTitle","exportButton","exportPDFButton","exportSVGButton","exportPNGButton","tabChart","tabData","tabFormat","barChartBar","barChartStackedBar","barChart100StackedBar","pieChartPie","columnChart","columnChartColumn","columnChartStackedColumn","columnChart100StackedColumn","lineChartLine","lineChartStackedLine","lineChart100StackedLine","scatterChartScatter","configuration","configurationCategoryAxis","configurationXAxis","configurationValueAxis","configurationSeries","configurationSeriesAdd","formatChartArea","formatChartAreaMargins","formatChartAreaMarginsAuto","formatChartAreaMarginsLeft","formatChartAreaMarginsRight","formatChartAreaMarginsTop","formatChartAreaMarginsBottom","formatChartAreaBackground","formatChartAreaBackgroundColor","formatTitle","formatTitleApplyTo","formatTitleChartTitle","formatTitleChartSubtitle","formatTitleLabel","formatTitleFont","formatTitleFontPlaceholder","formatTitleSize","formatTitleSizePlaceholder","formatTitleColor","formatSeries","formatSeriesApplyTo","formatSeriesAllSeries","formatSeriesColor","formatSeriesShowLabels","formatLegend","formatLegendShowLegend","formatLegendFont","formatLegendFontPlaceholder","formatLegendSize","formatLegendSizePlaceholder","formatLegendColor","formatLegendPosition","formatLegendPositionTop","formatLegendPositionBottom","formatLegendPositionLeft","formatLegendPositionRight","formatCategoryAxis","formatXAxis","formatCategoryAxisTitle","formatCategoryAxisTitlePlaceholder","formatCategoryAxisTitleFont","formatCategoryAxisTitleFontPlaceholder","formatCategoryAxisTitleSize","formatCategoryAxisTitleSizePlaceholder","formatCategoryAxisTitleColor","formatCategoryAxisLabels","formatCategoryAxisLabelsFont","formatCategoryAxisLabelsFontPlaceholder","formatCategoryAxisLabelsSize","formatCategoryAxisLabelsSizePlaceholder","formatCategoryAxisLabelsColor","formatCategoryAxisLabelsRotation","formatCategoryAxisLabelsRotationAuto","formatCategoryAxisLabelsReverseOrder","formatValueAxis","formatYAxis","formatValueAxisTitle","formatValueAxisTitlePlaceholder","formatValueAxisTitleFont","formatValueAxisTitleFontPlaceholder","formatValueAxisTitleSize","formatValueAxisTitleSizePlaceholder","formatValueAxisTitleColor","formatValueAxisLabels","formatValueAxisLabelsFormat","formatValueAxisLabelsFormatText","formatValueAxisLabelsFormatNumber","formatValueAxisLabelsFormatCurrency","formatValueAxisLabelsFormatPercent","formatValueAxisLabelsFont","formatValueAxisLabelsFontPlaceholder","formatValueAxisLabelsSize","formatValueAxisLabelsSizePlaceholder","formatValueAxisLabelsColor","formatValueAxisLabelsRotation","formatValueAxisLabelsRotationAuto","ChartWizardCommon","BAR_GAP","BAR_SPACING","SANS","SANS11","SANS12","SANS16","TRANSPARENT","lineSeriesLegendItem","areaSeriesLegendItem","areaNoMarkersSeriesLegendItem","areaSeries","rangeAreaSeries","barSeries","boxPlotSeries","outliersField","meanField","bubbleSeries","bulletSeries","candlestickSeries","columnSeries","radarColumnSeries","polarScatterSeries","scatterSeries","donutSeries","lineSeries","ohlcSeries","radarAreaSeries","radarLineSeries","rangeBarSeries","rangeColumnSeries","scatterLineSeries","waterfallSeries","pieSeries","funnelSeries","pyramidSeries","heatmapSeries","trendlineSeriesDefaults","rangeArea","verticalRangeArea","heatmap","funnel","pyramid","horizontalWaterfall","radarColumn","polarScatter","rangeBar","verticalBoxPlot","baseTheme","chartExport"],"sources":["kendo.charts.cmn.chunk.js"],"mappings":"YAAcA,eAAgBC,aAAcC,aAAcC,UAAWC,kBAAmBC,cAAeC,WAAYC,WAAYC,UAAWC,aAAcC,WAAYC,YAAaC,aAAcC,iBAAkBC,mBAAoBC,8BAA+BC,yBAA0BC,8BAA+BC,mBAAoBC,cAAeC,cAAeC,eAAgBC,eAAgBC,oBAAqBC,oBAAqBC,YAAaC,iBAAkBC,aAAcC,sBAAuBC,YAAaC,gBAAiBC,eAAgBC,cAAeC,WAAYC,UAAWC,UAAa,+BAE9lB,MAAMC,SAAW,CACbC,GAAI,mBACJC,KAAM,iBACNC,SAAU,MACVC,YAAa,oCACbC,QAAS,CAAC,qBACVC,QAAQ,EACRC,OAAO,GAKX,IAAIC,IAAM,MACNC,SAAW,UACXC,WAAa,YACbC,WAAa,YACbC,YAAc,aACdC,IAAM,MACNC,uBAAyB,wBACzBC,iBAAmB,iBACnBC,QAAU,OACVC,SAAW,SACXC,OAAS,SACTC,OAAS,SACTC,gBAAkB,EAClBC,MAAQ,QACRC,KAAO,OACPC,aAAe,kBACfC,iBAAmB,IACnBC,kBAAoB,GACpBC,gBAAkB,IAClBC,MAAQ,MACRC,MAAQ,QACRC,OAAS,SACTC,aAAe,UACfC,OAAS,SACTC,iBAAmB,IACnBC,SAAW,SACXC,QAAU,UACVC,KAAO,OACPC,UAAYC,OAAOD,UACnBE,WAAaD,OAAOD,UACpBG,KAAO,OACPC,WAAa,YACbC,WAAa,YACbC,WAAa,YACbC,SAAW,SACXC,UAAY,UACZC,MAAQ,QACRC,aAAe,cACfC,QAAU,QACVC,SAAW,SACXC,IAAM,MACNC,SAAW,WACXC,OAAS,SACTC,KAAO,OACPC,MAAQ,QACRC,QAAU,OACVC,MAAQ,QACRC,EAAI,IACJC,EAAI,IACJC,uBAAyB,EACzBC,QAAU,UACVC,WAAa,aACbC,SAAW,WAEXC,YAA2BC,OAAOC,OAAO,CACzCC,UAAW,KACXzD,IAAKA,IACLM,uBAAwBA,uBACxBJ,WAAYA,WACZC,WAAYA,WACZC,YAAaA,YACbH,SAAUA,SACVM,iBAAkBA,iBAClBmD,MAAOlD,QACPmD,OAAQlD,SACRC,OAAQA,OACRC,OAAQA,OACRC,gBAAiBA,gBACjBC,MAAOA,MACPC,KAAMA,KACNC,aAAcA,aACd6C,eAAgB5C,iBAChBC,kBAAmBA,kBACnBiC,uBAAwBA,uBACxBW,cAAe3C,gBACf4C,IAAK3C,MACLC,MAAOA,MACPC,OAAQA,OACRC,aAAcA,aACdC,OAAQA,OACRC,iBAAkBA,iBAClB4B,WAAYA,WACZ1B,QAASA,QACTqC,OAAQtC,SACRE,KAAMA,KACNC,UAAWA,UACXE,UAAWA,UACXC,KAAMA,KACNC,WAAYA,WACZC,WAAYA,WACZC,WAAYA,WACZ8B,OAAQ7B,SACR8B,QAAS7B,UACTe,QAASA,QACTP,KAAMA,KACNP,MAAOA,MACPC,aAAcA,aACdK,OAAQA,OACRuB,MAAO3B,QACP4B,OAAQ3B,SACRnC,IAAKA,IACLoC,IAAKA,IACLC,SAAUA,SACVG,MAAOA,MACPQ,SAAUA,SACVe,MAAOtB,QACPC,MAAOA,MACPC,EAAGA,EACHC,EAAGA,IAGP,SAASoB,QAAQC,GACb,OAAOC,MAAMF,QAAQC,EACzB,CAEA,SAASE,SAASC,EAASC,GAGvB,IAFA,IAAIC,EAAaN,QAAQK,GAAWA,EAAU,CAAEA,GAEvCE,EAAM,EAAGA,EAAMD,EAAWE,OAAQD,IAAO,CAC9C,IAAIE,EAAYH,EAAWC,IACmB,IAA1CH,EAAQK,UAAUC,QAAQD,KAC1BL,EAAQK,WAAa,IAAMA,EAEnC,CACJ,CAEA,IAAIE,YAAc,OAElB,SAASC,YAAYR,EAASK,GACtBL,GAAWA,EAAQK,YACnBL,EAAQK,UAAYL,EAAQK,UAAUI,QAAQJ,EAAW,IAAII,QAAQF,YAAa,KAE1F,CAEA,SAASG,iBAAiBC,GACtB,IAAIC,EAAS,GACTD,EAAKE,QAAQC,QAAUnI,UAAUgI,EAAKE,QAAQC,OAAOC,QACjDJ,EAAKE,QAAQC,OAAOC,MAAQ,GAAM,IAClCH,EAAS,GAIjB,IAAK,IAAII,EAAI,EAAGA,EAAIL,EAAKM,SAASb,OAAQY,IACtCL,EAAKM,SAASD,GAAGE,SAASC,MAAM,GAAGC,UAAUR,EAAQA,GAGzD,OAAOD,CACX,CAEA,SAASU,UAAUC,EAAQC,GAIvB,OAAQD,EAAOE,EAAID,EAAOE,EAAIH,EAAOG,EAAIF,EAAOC,EAAI,CACxD,CAEA,SAASE,SAAS7B,GACd,MAAwB,iBAAVA,IAAuB8B,MAAM9B,EAC/C,CAEA,SAAS+B,WAAW/B,GAChB,cAAcA,IAAU9B,QAC5B,CAEA,SAAS8D,oBAAoBhC,GACzB,OAAO6B,SAAS7B,IAAW+B,WAAW/B,IAAUiC,SAASjC,EAC7D,CAEA,SAASkC,QAAQC,EAAOC,GACpB,OAAQD,EAAQ,GAAKC,CACzB,CAEA,SAASC,UAAUF,EAAOC,GACtB,IAAIE,EAASH,EAAQ,EAErB,OAAOG,EAAS,EAAIF,EAAQ,EAAIE,CACpC,CAEA,SAASC,WAAWJ,EAAO5B,GACvB,OAAe,IAAXA,GAAiB4B,EAAQ5B,GAAY,EAC9B,EAGP4B,EAAQ,EACD5B,EAAU4B,EAAQ5B,EAClB4B,GAAS5B,EACT4B,EAAQ5B,EAGZ4B,CACX,CAEA,SAASK,WAAWC,GAChB,MAAqB,mBAAPA,CAClB,CAEA,IAAI/C,OAAS,SACTgD,UAAY,YAEhB,SAASC,cAAcC,EAAaC,GAChC,IAAK,IAAIC,KAAYD,EACjB,GAAiB,cAAbC,GAAyC,gBAAbA,EAAhC,CAIA,IAAIC,EAAYF,EAAOC,GACnBE,SAAkBD,EAElBE,OAAW,EAOf,IALIA,EADAD,IAAatD,QAAwB,OAAdqD,EACZA,EAAUG,YAEV,OAGCD,IAAahD,MACzB,GAAI8C,aAAqBI,KACrBP,EAAYE,GAAY,IAAIK,KAAKJ,EAAUK,gBACxC,GAAIZ,WAAWO,EAAUM,OAC5BT,EAAYE,GAAYC,EAAUM,YAC/B,CACH,IAAIC,EAAWV,EAAYE,GAEvBF,EAAYE,UADL,IAAepD,QACE4D,GAEA,CAAC,EAE7BX,cAAcC,EAAYE,GAAWC,EACzC,MACOC,IAAaN,YACpBE,EAAYE,GAAYC,EA3B5B,CA+BJ,OAAOH,CACX,CAEA,SAASW,WAAWX,GAKhB,IAJA,IAAIY,EAAcC,UAEdlD,EAASkD,UAAUlD,OAEdY,EAAI,EAAGA,EAAIZ,EAAQY,IACxBwB,cAAcC,EAAaY,EAAYrC,IAG3C,OAAOyB,CACX,CAEA,SAASc,SAAS1D,GACd,MAAwB,iBAAVA,CAClB,CAEA,SAAS2D,WAAW3D,GAChB,OAAI6B,SAAS7B,GACFA,EAAQ,KAEZA,CACX,CAEA,IAAI4D,kBAAoB,sCAExB,SAASC,YAAYC,GACjB,OAAOF,kBAAkBG,KAAKD,EAClC,CAEA,SAASE,cAAc7D,EAAS8D,GAC5B,IAAIC,EAAcnC,WAAWkC,GAAU,CAAEA,GAAWA,EAEpD,GAAIlE,QAAQmE,GAAc,CAItB,IAHA,IAAI5B,EAAS,CAAC,EACV6B,EAAQC,OAAOC,iBAAiBlE,GAE3BG,EAAM,EAAGA,EAAM4D,EAAY3D,OAAQD,IAAO,CAC/C,IAAIwD,EAAQI,EAAY5D,GACxBgC,EAAOwB,GAASD,YAAYC,GAASQ,WAAWH,EAAML,IAAUK,EAAML,EAC1E,CAEA,OAAOxB,CACX,CAAO,GAAIoB,SAASO,GAChB,IAAK,IAAIM,KAAWN,EAChB9D,EAAQgE,MAAMI,GAAWZ,WAAWM,EAAOM,GAGvD,CAEA,SAASC,WAAWxE,EAAOyE,QACC,IAAnBA,IAA4BA,EAAiB,GAElD,IAAIC,EAAU,CAAEC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,GAWnD,MATsB,iBAAZ,EACNJ,EAAQvG,KAAOuG,EAAQ3G,OAAS2G,EAAQvI,UAAYuI,EAAQrH,MAAQ2C,GAEpE0E,EAAQvG,KAAO6B,EAAM7B,MAAQsG,EAC7BC,EAAQ3G,OAASiC,EAAMjC,QAAU0G,EACjCC,EAAQvI,UAAY6D,EAAM7D,WAAasI,EACvCC,EAAQrH,MAAQ2C,EAAM3C,OAASoH,GAG5BC,CACX,CAEA,IAAIK,UAAY,CACZC,QAAS,SAASC,GACd,OAAOA,CACX,GAGAC,gBAAkB,WAA6B,EAUnD,SAASC,cAAcnE,GAGnB,IAAIiE,EAOJ,YATiB,IAAZjE,IAAqBA,EAAU,CAAC,GAGjCA,EAAQiE,SACRjE,EAAQiE,SAAWA,EAAWC,gBAAgBF,QAAQhE,EAAQiE,UACvDzC,WAAWxB,EAAQoE,WAC1BH,EAAWjE,EAAQoE,SAGhBH,CACX,CAEA,SAASI,YAAYrE,GAGjB,IAAIsE,EAOJ,YATiB,IAAZtE,IAAqBA,EAAU,CAAC,GAGjCA,EAAQsE,aACRtE,EAAQsE,aAAeA,EAAeJ,gBAAgBF,QAAQhE,EAAQsE,cAC/D9C,WAAWxB,EAAQuE,eAC1BD,EAAetE,EAAQuE,aAGpBD,CACX,CAhCAJ,gBAAgBM,SAAW,SAAmBC,GAC1CV,UAAYU,CAChB,EAEAP,gBAAgBF,QAAU,SAAkBC,EAAUjE,GAClD,OAAO+D,UAAUC,QAAQC,EAAUjE,EACvC,EA4BA,IAAI0E,YAAc,sDACdC,YAAc,CAAC,EAMnB,SAASC,OAAO9B,GACZ,GAAI6B,YAAY7B,GACZ,OAAO6B,YAAY7B,GAGvB,IAAI+B,EAAS,GAcb,OAbA/B,EAAMlD,QAAQ8E,aAAa,SAASI,EAAO3D,EAAO4D,EAAejC,GAC7D+B,EAAOG,KAAKlN,UAAUqJ,GAASA,EAAS4D,GAAiBjC,EAC7D,IAEA6B,YAAY7B,GAAS,SAASmC,GAE1B,IADA,IAAI3D,EAAS2D,EACJ3F,EAAM,EAAGA,EAAMuF,EAAOtF,QAAU+B,EAAQhC,IAC7CgC,EAASA,EAAOuD,EAAOvF,IAG3B,OAAOgC,CACX,EAEOqD,YAAY7B,EACvB,CAEA,SAASoC,KAAKC,EAAOC,GAGjB,IAFA,IAAI7F,EAAS4F,EAAM5F,OACf+B,EAAS,GACJhC,EAAM,EAAGA,EAAMC,EAAQD,IACxB8F,EAASD,EAAM7F,KACfgC,EAAQ0D,KAAKG,EAAM7F,IAI3B,OAAOgC,CACX,CAEA,SAAS+D,WAAWlG,EAASmG,GACzB,GAAInG,EAAQK,UAER,IADA,IAAI+F,EAAQD,EAAWE,MAAM,KACpBlG,EAAM,EAAGA,EAAMiG,EAAMhG,OAAQD,IAClC,GAAIH,EAAQK,UAAUC,UAAsD,IAA3CN,EAAQK,UAAUC,QAAQ8F,EAAMjG,IAC7D,OAAO,CAIvB,CA/CAqF,iBAAY,GAAe,SAASM,GAChC,OAAOA,CACX,EAgDA,IAAIQ,QAAU,WACVC,KAAKC,KAAO,IAAIC,GACpB,EAUA,SAASC,QAAQ7G,EAAOmG,GACpB,GAAIA,EACA,OAAiC,IAA1BA,EAAM1F,QAAQT,EAE7B,CAEA,SAAS8G,iBAAiBC,EAAOC,EAAKC,GAClC,OAAOlO,QAAQgO,GAASC,EAAMD,GAASE,EAAU3K,gBACrD,CAhBAmK,QAAQS,UAAUC,IAAM,SAAcC,GAClC,OAAOV,KAAKC,KAAKQ,IAAIC,EACzB,EAEAX,QAAQS,UAAUG,IAAM,SAAcD,EAAKpH,GACvC0G,KAAKC,KAAKU,IAAID,EAAKpH,EACvB,EAYA,IAAIsH,QAAU,UAEVC,iBAAmB,SAA0BC,EAAUC,GACvDf,KAAKc,SAAWA,EAChBd,KAAKgB,WAAanE,WAAW,CAAC,EAAGmD,KAAKgB,WAAYD,EACtD,EAqCA,SAASE,cAAc3H,GACnB,MAAiD,oBAA1Cf,OAAOiI,UAAUU,SAASC,KAAK7H,EAC1C,CAEA,SAAS8H,IAAI3B,EAAOC,GAGhB,IAFA,IAAI7F,EAAS4F,EAAM5F,OACf+B,EAAS,GACJhC,EAAM,EAAGA,EAAMC,EAAQD,IAAO,CACnC,IAAIN,EAAQoG,EAASD,EAAM7F,IACvBxH,UAAUkH,IACVsC,EAAO0D,KAAKhG,EAEpB,CACA,OAAOsC,CACX,CAjDAiF,iBAAiBL,UAAUa,QAAU,SAAkB3M,EAAM4M,GACzD,IAGIC,EAFIT,EADEd,KACac,SACfE,EAFEhB,KAEegB,WAQzB,OANIA,EAAWtM,GACX6M,EAAqBvB,KAAKwB,aAAaR,EAAWtM,GAAO4M,GAClDR,EAASF,WAChBW,EAAqBvB,KAAKwB,aAAaZ,QAASlM,EAAM4M,IAGnDC,CACX,EAEAV,iBAAiBL,UAAUgB,aAAe,SAAuBC,GAEzD,IADA,IAAIH,EAAO,GAAII,EAAM3E,UAAUlD,OAAS,EAChC6H,KAAQ,GAAIJ,EAAMI,GAAQ3E,UAAW2E,EAAM,GAEvD,OAAO1B,KAAKc,SAASW,GAAQE,MAAM3B,KAAKc,SAAUQ,EACtD,EAEAT,iBAAiBL,UAAUoB,iBAAmB,SAA2B/B,GAGrE,GAAIG,KAAKc,SAASc,iBACd,OAAO5B,KAAKc,SAASc,iBAAiB/B,GAG1C,IAAK,IAAIjG,EAAM,EAAGA,EAAMiG,EAAMhG,OAAQD,IAClC,GAPeoG,KAOFgB,WAAWnB,EAAMjG,IAC1B,OAAO,CAGnB,EAkBA,IAAIiI,UAAYvP,QAAQwP,SAAW,CAAC,EAEpC,SAASC,gBAAgBC,GACrB,IAAIC,EAAQ,EAkBZ,OAhBID,EAAEE,YACFD,GAASD,EAAEE,WAAa,IAEpBL,UAAUM,SAKVF,GAAiB,EAAIG,KAAKC,IAAI3E,OAAO4E,iBAAkB,QAEpDN,EAAEO,SACTN,EAAQD,EAAEO,OAAS,GAGvBN,EAAQA,EAAQ,EAAIG,KAAKI,KAAKP,GAASG,KAAKK,MAAMR,EAGtD,CAEA,IAAIS,IAAMnQ,KACNoQ,OAASD,IAAIC,OACbC,WAAaF,IAAIE,WACjBC,QAAUH,IAAIG,QACdC,IAAMJ,IAAII,IACVC,cAAgBL,IAAIK,cACpBC,YAAcN,IAAIM,YAClBC,iBAAmBP,IAAIO,iBACvBC,aAAeR,IAAIQ,aACnBC,QAAUT,IAAIS,QACdC,KAAOV,IAAIU,KACXC,WAAaX,IAAIW,WACjBC,UAAYZ,IAAIY,UAChBC,IAAMb,IAAIa,IACVC,QAAUd,IAAI9H,MACd6I,aAAef,IAAIe,aACnBC,eAAiBhB,IAAIgB,eAErBC,WAAa,WAAwB,EAqDzC,SAASC,kBAAkBC,EAAMvJ,GAC7B,IAAIwJ,EAAQD,EAAKrD,UACbsD,EAAMxJ,QACNwJ,EAAMxJ,QAAUuC,WAAW,CAAC,EAAGiH,EAAMxJ,QAASA,GAE9CwJ,EAAMxJ,QAAUA,CAExB,CA1DAqJ,WAAWI,WAAa,SAAqBzJ,EAAS0J,EAAOC,QACtC,IAAVA,IAAmBA,EAAQ,CAAEC,MAAO,KAIxC5J,GAAW2J,EAAMC,MAFN,IAE4BC,SAASH,OAIrDzL,OAAO6L,KAAK9J,GAAS+J,SAAQ,SAAS3D,GAClC,IAAIpH,EAAQgB,EAAQoG,GACR,eAARA,GAAmC,MAAXA,EAAI,IAAepH,IAInC,SAARoH,EACAsD,EAAM1E,KAAKhG,GACa,iBAAVA,IACd2K,EAAMC,QACNP,WAAWI,WAAWzK,EAAO0K,EAAOC,GACpCA,EAAMC,SAEd,GACJ,EAEAP,WAAWW,UAAY,SAAoBN,EAAOtE,GAC9C,IAAI6E,EAAW,GAEf,GAAIP,EAAMnK,OAAS,GAAKsK,SAASH,MAAO,CACpC,IACIO,EAAWP,EAAM5C,KAAI,SAASoD,GAC1B,OAAOL,SAASH,MAAMS,KAAKD,EAC/B,GACJ,CAAE,MAAOxC,GAELxP,aAAawP,EACjB,CAEA0C,QAAQC,IAAIJ,GAAUK,KAAKlF,EAAUA,EACzC,MACIA,GAER,EAEAiE,WAAWkB,aAAe,SAAuBvK,EAASoF,GACtD,IAAIsE,EAAQ,GACZL,WAAWI,WAAWzJ,EAAS0J,GAE/BL,WAAWW,UAAUN,EAAOtE,EAChC,EAWA,IAAIoF,MAAQ,SACRC,WAAa,OACbC,UAAY,cACZC,SAAW,aACXC,aAAe,WAEfC,aAAe,SAAsB1L,EAASa,GAC9C0F,KAAKvG,QAAUA,EACfuG,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAE5C0F,KAAKoF,SACT,EAEAD,aAAa3E,UAAU4E,QAAU,WAC7BpF,KAAKqF,YACT,EAEAF,aAAa3E,UAAU6E,WAAa,WACpC,EAEAF,aAAa3E,UAAU8E,KAAO,WAC1B,OAAOtF,KAAKvG,QAAQ8L,SACxB,EAEA3B,kBAAkBuB,aAAc,CAC5BzQ,KAAM,GACN8Q,KAAM,OACNC,WAAY,OACZC,KAAM,UACNC,UAAW,GACXC,eAAgB,CAAE,OAAQ,aAAc,UAG5C,IAAIC,aAAgB,SAAUV,GAC1B,SAASU,EAAapM,EAASa,GAC3B6K,EAAahE,KAAKnB,KAAMvG,EAASa,EACrC,CAsBA,OApBK6K,IAAeU,EAAapN,UAAY0M,GAC7CU,EAAarF,UAAYjI,OAAOuN,OAAQX,GAAgBA,EAAa3E,WACrEqF,EAAarF,UAAUhE,YAAcqJ,EAErCA,EAAarF,UAAU4E,QAAU,WAE7B,IAAIW,EAAmB/F,KAAKvG,QAAQK,UAAUgG,MAAM,KAAKkG,MAAK,SAAU/K,GAAK,OAAOA,EAAEgL,WAAWlB,WAAa,IAC1GjL,EAAYkG,KAAK1F,QAAQ4L,KAAQ,IAAMlG,KAAK1F,QAAQ4L,KAAKD,WAAWlB,YAAc,GAAKA,YAAe/E,KAAK1F,QAAY,KAAK,GAEhI0F,KAAKmG,WAAarM,EAElBN,SAASwG,KAAKvG,QAASqL,OACvBtL,SAASwG,KAAKvG,QAASuL,WACvB/K,YAAY+F,KAAKvG,QAASsM,GAC1BvM,SAASwG,KAAKvG,QAASK,GACvBN,SAASwG,KAAKvG,QAASuG,KAAK1F,QAAQqL,WAAa,IAEjDR,EAAa3E,UAAU4E,QAAQjE,KAAKnB,KACxC,EAEO6F,CACX,CA1BmB,CA0BjBV,cAEFvB,kBAAkBiC,aAAc,CAC5BnR,KAAM,eACNwR,KAAM,OAGV,IAAIE,YAAe,SAAUjB,GACzB,SAASiB,EAAY3M,EAASa,GAE1Bb,EAAQ4M,UAAY,GAEpBlB,EAAahE,KAAKnB,KAAMvG,EAASa,EACrC,CA+CA,OA7CK6K,IAAeiB,EAAY3N,UAAY0M,GAC5CiB,EAAY5F,UAAYjI,OAAOuN,OAAQX,GAAgBA,EAAa3E,WACpE4F,EAAY5F,UAAUhE,YAAc4J,EAEpCA,EAAY5F,UAAU4E,QAAU,WAC5B,IAAIc,EAAOlG,KAAK1F,QAAQ4L,KACpBP,EAAY3F,KAAK1F,QAAQqL,UACzBI,EAAmB/F,KAAKvG,QAAQK,UAAUgG,MAAM,KAAKkG,MAAK,SAAU/K,GAAK,OAAOA,EAAEgL,WAAWf,aAAe,IAEhH,IAAKgB,GAAQP,EAAW,CAEpB,IACIW,EAAgBX,EAAUvG,MADlB,sBAERkH,IACAJ,EAAOI,EAAc,GACrBX,EAAYA,EAAUzL,QAAQoM,EAAc,GAAI,IAExD,CAEIjL,WAAW6K,KACXA,EAAOA,EAAKhM,QAAQ,OAAQ,IAAIA,QAAQ,OAAO,SAAUe,GAAK,OAAOA,EAAE,GAAGsL,aAAe,IACzFL,EAAOlG,KAAK1F,QAAQkM,SAASN,IAASlG,KAAK1F,QAAQkM,SAAUN,EAAO,SAGxE,IAAIpM,EAAYoM,GAAQA,EAAKxR,KAAQ,GAAKwQ,aAAgBgB,EAAS,KAAK,GASxE,GARAlG,KAAKmG,WAAarM,EAElBN,SAASwG,KAAKvG,QAASwL,UACvBhL,YAAY+F,KAAKvG,QAASsM,GAC1BvM,SAASwG,KAAKvG,QAASK,GACvBN,SAASwG,KAAKvG,QAASkM,GAAa,IACpC3F,KAAKvG,QAAQgN,aAAa,cAAe,QAErCP,GAAQjF,cAAciF,GAAO,CAC7B,IAAIQ,EAAavC,SAASwC,gBAAgB,6BAA8B,OACxED,EAAWD,aAAa,UAAWP,EAAKU,SAAW,IACnDF,EAAWD,aAAa,YAAa,SACrCC,EAAWL,UAAYH,EAAKxH,SAAW,GAEvCsB,KAAKvG,QAAQoN,YAAYH,EAC7B,CAEAvB,EAAa3E,UAAU4E,QAAQjE,KAAKnB,KACxC,EAEOoG,CACX,CAtDkB,CAsDhBjB,cAEFvB,kBAAkBwC,YAAa,CAC3B1R,KAAM,cACNwR,KAAM,KACNM,SAAU,CAAC,IAGf,IAAIM,WAAa,CACbC,IAAOX,YACP5B,KAAQqB,cAGZ,SAASmB,WAAWC,EAAaC,GAC7B,IAAIzN,EAAUwN,EACV3M,EAAU4M,EAmBd,OAjBKzN,KACGuD,SAASvD,IAAcA,aAAmB0N,eAC3C9L,WAAW5B,KACda,EAAUb,EACVA,EAAU0K,SAASiD,cAAc,SAGjC/L,WAAWf,KACXA,EAAU,CACN4L,KAAM5L,IAITA,EAAQuJ,OACTvJ,EAAQuJ,KAAO,OAGdiD,WAAWxM,EAAQuJ,MAIhB,IAAIiD,WAAWxM,EAAQuJ,MAAMpK,EAASa,GAASgL,OAH5C,IAIf,CAEA,SAAS+B,kBAAkBC,GAIvB,IAHA,IAAIC,EAAM3Q,UACNyL,EAAMvL,UAED8C,EAAM,EAAGC,EAASyN,EAAIzN,OAAQD,EAAMC,EAAQD,IAAO,CACxD,IAAIN,EAAQgO,EAAI1N,GACF,OAAVN,GAAkBiC,SAASjC,KAC3BiO,EAAMnF,KAAKmF,IAAIA,EAAKjO,GACpB+I,EAAMD,KAAKC,IAAIA,EAAK/I,GAE5B,CAEA,MAAO,CACHiO,IAAKA,IAAQ3Q,eAAY4Q,EAAYD,EACrClF,IAAKA,IAAQvL,eAAY0Q,EAAYnF,EAE7C,CAEA,SAAS2D,KAAKvG,EAAOgI,GACjB,IAAK,IAAIhN,EAAI,EAAGA,EAAIgF,EAAM5F,OAAQY,IAAK,CACnC,IAAIiN,EAAOjI,EAAMhF,GACjB,GAAIgN,EAAUC,EAAMjN,EAAGgF,GACnB,OAAOiI,CAEf,CACJ,CAEA,IAAIC,SAAWlV,SACXmV,aAAe,iBAEnB,SAASC,YAAYC,GACjB,IAAI1I,EAAQ0I,EAAa1I,MAAMwI,cAC/B,GAAc,OAAVxI,GAAmC,IAAjBA,EAAMvF,OACxB,OAAO8N,SAASI,OAGpB,IAAIC,EAAU5I,EAAM,GAAGU,MAAM,KAAKsB,KAAI,SAAUnG,GAAK,OAAO2C,WAAW3C,EAAI,IAC3E,OAAO,IAAKgN,SAASzH,UAAU0H,KAAKvG,MAAOgG,SAAU,CAAE,MAAOQ,OAAQH,IAC1E,CAEA,SAASI,gBAAgB3O,GACrB,IAAI/F,EAAYiK,iBAAiBlE,GAAS/F,UAE1C,MAAkB,SAAdA,EACOiU,SAASI,OAGbF,YAAYnU,EACvB,CAEA,SAAS2U,aAAa5O,GAClB,IAAKA,EACD,OAAOkO,SAASI,OAKpB,IAFA,IAAIO,EAASF,gBAAgB3O,GACzB8O,EAAS9O,EAAQ+O,cACdD,GAAQ,CACX,IAAIE,EAAeL,gBAAgBG,GACnCD,EAASA,EAAOI,aAAaD,GAC7BF,EAASA,EAAOC,aACpB,CAGA,OADAF,EAAOK,EAAIL,EAAOM,EAAIN,EAAOtG,EAAIsG,EAAOO,EAAI,EACrCP,CACX,CAEA,SAASQ,cAAcC,GAEnB,OADa,IAAIrW,MAAMqW,GAAOC,SAEnBlR,QAGJtC,OACX,CAEA,IAAIyT,QAAU,CAAC,EAEXC,UAAY,SAAmBC,GAG/BnJ,KAAKoJ,OAAS,CAAC,EACfpJ,KAAKqJ,QAAUF,EAASA,EAAOG,MAAM,GAAK,GAE1C,IAAK,IAAI7O,EAAI,EAAGA,EAAIuF,KAAKqJ,QAAQxP,OAAQY,IAL1BuF,KAMFoJ,OANEpJ,KAMcqJ,QAAQ5O,IAAMA,CAE/C,EAEI8O,qBAAuB,CAAE/D,KAAM,CAAEgE,cAAc,IAEnDN,UAAU1I,UAAU2I,OAAS,WACzB,OAAOnJ,KAAKqJ,QAAQI,QAAO,SAAU/B,GAAQ,OAAOA,IAASuB,OAAS,GAC1E,EAEAC,UAAU1I,UAAUkJ,IAAM,SAAcpQ,GACpC,YAA8BkO,IAAvBxH,KAAKoJ,OAAO9P,EACvB,EAEA4P,UAAU1I,UAAUmJ,IAAM,SAAcrQ,GAC/B0G,KAAK0J,IAAIpQ,KACV0G,KAAKoJ,OAAO9P,GAAS0G,KAAKqJ,QAAQxP,OAClCmG,KAAKqJ,QAAQ/J,KAAKhG,GAE1B,EAEA4P,UAAU1I,UAAUoJ,OAAS,SAAmBtQ,GAC5C,IAAImC,EAAQuE,KAAKoJ,OAAO9P,QACVkO,IAAV/L,IACAuE,KAAKqJ,QAAQ5N,GAASwN,eACfjJ,KAAKoJ,OAAO9P,GAE3B,EAEA4P,UAAU1I,UAAUqJ,MAAQ,WACxB7J,KAAKoJ,OAAS,CAAC,EACfpJ,KAAKqJ,QAAU,EACnB,EAEAE,qBAAqB/D,KAAK/E,IAAM,WAC5B,OAAOT,KAAKqJ,QAAQxP,MACxB,EAEAtB,OAAOuR,iBAAkBZ,UAAU1I,UAAW+I,sBAE9C,IAAIQ,WAAa,SAAoBZ,GACjCnJ,KAAKgK,KAAO,IAAIC,IAAId,EACxB,EAEIe,uBAAyB,CAAE1E,KAAM,CAAEgE,cAAc,IAErDO,WAAWvJ,UAAU2I,OAAS,WAC1B,OAAO5P,MAAM4Q,KAAKnK,KAAKgK,KAC3B,EAEAD,WAAWvJ,UAAUkJ,IAAM,SAAcpQ,GACrC,OAAO0G,KAAKgK,KAAKN,IAAIpQ,EACzB,EAEAyQ,WAAWvJ,UAAUmJ,IAAM,SAAcrQ,GACrC0G,KAAKgK,KAAKL,IAAIrQ,EAClB,EAEAyQ,WAAWvJ,UAAUoJ,OAAS,SAAmBtQ,GAC7C0G,KAAKgK,KAAKJ,OAAOtQ,EACrB,EAEAyQ,WAAWvJ,UAAUqJ,MAAQ,WACzB7J,KAAKgK,KAAKH,OACd,EAEAK,uBAAuB1E,KAAK/E,IAAM,WAC9B,OAAOT,KAAKgK,KAAKxE,IACrB,EAEAjN,OAAOuR,iBAAkBC,WAAWvJ,UAAW0J,wBAG/C,IAAIE,YAAc,WACd,IAAIC,GAAY,EAEG,mBAARJ,MAEPI,EADU,IAAIJ,IAAI,CAAC,IACHP,IAAI,IAGxB,OAAOW,CACX,EAEA,SAASC,cAAcnB,GACnB,OAAIiB,cACO,IAAIL,WAAWZ,GAGnB,IAAID,UAAUC,EACzB,CAEA,SAASoB,oBAAoBC,GACzB,MAAMA,CACV,CAEA,IAAIpG,KAAO,CACPqG,OAAQ,GACRC,OAAQ,GACRC,UAAW,EACXtV,IAAK,EACLe,MAAO,GACPwU,IAAK,GACLjU,KAAM,GACNkU,GAAI,GACJxT,MAAO,GACPyT,KAAM,GACNhS,IAAK,GACLiS,KAAM,GACNC,SAAU,GACVC,OAAQ,GACRC,SAAU,GACVC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,YAAa,IACbC,aAAc,IACdC,WAAY,KAGhB,SAASC,eAAelM,EAAKnD,GACzB,OAAO7D,OAAOiI,UAAUiL,eAAetK,KAAK5B,EAAKnD,EACrD,CAGA,IAAIsP,OAAS,WACT1L,KAAK2L,OAAS,EACd3L,KAAKxF,MAAQ,EACbwF,KAAK4L,KAAO,EAChB,EA0KA,SAASC,OAAOxL,EAAOC,EAAKuI,GAExB,IADA,IAAIxG,EAAMwG,EAAExI,GAAQyL,EAAMzL,EACjB5F,EAAI4F,EAAQ,EAAG5F,EAAI6F,EAAK7F,IAAK,CAClC,IAAIsR,EAAIlD,EAAExI,GACN0L,EAAI1J,IACJA,EAAM0J,EACND,EAAMzL,EAEd,CACA,OAAOyL,CACX,CAlLAJ,OAAOlL,UAAU7D,MAAQ,WACrB,IAAIqP,EAAI,IAAIN,OAIZ,OAHAM,EAAEL,OAAS3L,KAAK2L,OAChBK,EAAExR,MAAQwF,KAAKxF,MACfwR,EAAEJ,KAAO5L,KAAK4L,KAAKxK,KAAI,SAAU6K,GAAO,OAAOA,EAAI3C,OAAS,IACrD0C,CACX,EAEAN,OAAOlL,UAAUC,IAAM,SAAcwL,EAAKC,GACtC,IAAIC,EAAOnM,KAAK4L,KAAKK,GAErB,OADUE,EAAOA,EAAKD,GAAO,IAEjC,EAEAR,OAAOlL,UAAUG,IAAM,SAAcsL,EAAKC,EAAKN,GAC3C,IAAIO,EAAOnM,KAAK4L,KAAKK,GACT,MAARE,IACAA,EAAOnM,KAAK4L,KAAKK,GAAO,IAE5BE,EAAKD,GAAON,EACRK,GAAOjM,KAAK2L,SACZ3L,KAAK2L,OAASM,EAAM,GAEpBC,GAAOlM,KAAKxF,QACZwF,KAAKxF,MAAQ0R,EAAM,EAE3B,EAEAR,OAAOlL,UAAU4L,KAAO,SAAevD,EAAGwD,GAGtC,IAFI,IAEKJ,EAAM,EAAGA,EAAMjM,KAAK2L,SAAUM,EACnC,IAAK,IAAIC,EAAM,EAAGA,EAAMlM,KAAKxF,QAAS0R,EAAK,CACvC,IAAII,EAJOtM,KAIQS,IAAIwL,EAAKC,GAC5B,IAAIG,GAAuB,MAAPC,SAEJ9E,KADZ8E,EAAMzD,EAAEyD,EAAKL,EAAKC,IAEd,OAAOI,CAGnB,CAER,EAEAZ,OAAOlL,UAAUY,IAAM,SAAcyH,EAAGwD,GACpC,IAAIL,EAAI,IAAIN,OAIZ,OAHA1L,KAAKoM,MAAK,SAASG,EAAIN,EAAKC,GACxBF,EAAErL,IAAIsL,EAAKC,EAAKrD,EAAE0D,EAAIN,EAAKC,GAC/B,GAAGG,GACIL,CACX,EAEAN,OAAOlL,UAAUgM,UAAY,WACzB,IAAIR,EAAI,IAAIN,OAIZ,OAHA1L,KAAKoM,MAAK,SAASG,EAAIN,EAAKC,GACxBF,EAAErL,IAAIuL,EAAKD,EAAKM,EACpB,IACOP,CACX,EAEAN,OAAOlL,UAAUuH,KAAO,SAAe0E,GACnCzM,KAAKxF,MAAQwF,KAAK2L,OAASc,EAE3B,IADA,IAAIC,EAAI1M,KAAK4L,KAAO,IAAIrS,MAAMkT,GACrBhS,EAAIgS,IAAKhS,GAAK,GAEnB,IADA,IAAIwR,EAAMS,EAAEjS,GAAK,IAAIlB,MAAMkT,GAClBE,EAAIF,IAAKE,GAAK,GACnBV,EAAIU,GAAKlS,IAAMkS,EAAI,EAAI,EAG/B,OAAO3M,IACX,EAEA0L,OAAOlL,UAAUoM,SAAW,SAAmBjE,GAG3C,IAFA,IAAI+D,EAAI1M,KACJgM,EAAI,IAAIN,OACHO,EAAM,EAAGA,EAAMS,EAAEf,SAAUM,EAChC,IAAK,IAAIC,EAAM,EAAGA,EAAMvD,EAAEnO,QAAS0R,EAAK,CAEpC,IADA,IAAIW,EAAI,EACCpS,EAAI,EAAGA,EAAIiS,EAAElS,QAASC,EAAG,CAC9B,IAAIqS,EAAKJ,EAAEjM,IAAIwL,EAAKxR,GAChBsS,EAAKpE,EAAElI,IAAIhG,EAAGyR,GACA,iBAAPY,GAAiC,iBAAPC,IACjCF,GAAKC,EAAKC,EAElB,CACAf,EAAErL,IAAIsL,EAAKC,EAAKW,EACpB,CAEJ,OAAOb,CACX,EAEAN,OAAOlL,UAAUwM,QAAU,WA2BnB,IA1BJ,IAAIP,EAAIzM,KAAKxF,MACTwR,EAAIhM,KAAKiN,SAAQ,IAAIvB,QAAS3D,KAAK0E,IACnCC,EAAIV,EAAEJ,KAMNsB,EAAO,SAAWC,GAClB,IAAIC,EAAOvB,OAAOsB,EAAGV,GAAG,SAAShS,GAAK,OAAOiS,EAAEjS,GAAG0S,EAAI,IACtD,IAAKT,EAAEU,GAAMD,GACT,MAAO,CAAEpB,EAAG,MAEhB,GAAIoB,IAAMC,EAAM,CACZ,IAAIC,EAAMX,EAAES,GACZT,EAAES,GAAKT,EAAEU,GACTV,EAAEU,GAAQC,CACd,CACA,IAAK,IAAI5S,EAAI0S,EAAI,EAAG1S,EAAIgS,IAAKhS,EAAG,CAC5B,IAAK,IAAIkS,EAAIQ,EAAI,EAAGR,EAAI,EAAIF,IAAKE,EAC7BD,EAAEjS,GAAGkS,IAAMD,EAAES,GAAGR,GAAKD,EAAEjS,GAAG0S,GAAKT,EAAES,GAAGA,GAExCT,EAAEjS,GAAG0S,GAAK,CACd,CACJ,EAEaA,EAAI,EAAGA,EAAIV,IAAKU,EAAG,CACxB,IAAIG,EAAWJ,EAAMC,GAErB,GAAKG,EAAW,OAAOA,EAASvB,CACpC,CAGJ,IAAK,IAAIwB,EAAM,EAAGA,EAAMd,IAAKc,EACzB,IAAK,IAAI1E,EAAI6D,EAAEa,GAAKA,GAAMC,EAAM,EAAGA,EAAM,EAAIf,IAAKe,EAC9Cd,EAAEa,GAAKC,IAAQ3E,EAOvB,IAAK,IAAI4E,EAAMhB,IAAKgB,GAAO,GACvB,IAAK,IAAIC,EAAMD,IAAOC,GAAO,GACzB,GAAIhB,EAAEgB,GAAKD,GACP,IAAK,IAAIE,EAAM,EAAIlB,IAAKkB,GAAOlB,GAC3BC,EAAEgB,GAAKC,IAAQjB,EAAEe,GAAKE,GAAOjB,EAAEgB,GAAKD,GAMpD,OAAOzB,EAAE1C,MAAM,EAAGmD,EAAGA,EAAGA,EAC5B,EAEAf,OAAOlL,UAAUyM,QAAU,SAAkBjB,GACzC,IAAI4B,EAAM5N,KAAKrD,QACX8P,EAAImB,EAAIpT,MAIZ,OAHAwR,EAAEI,MAAK,SAASE,EAAKL,EAAKC,GACtB0B,EAAIjN,IAAIsL,EAAKC,EAAMO,EAAGH,EAC1B,IACOsB,CACX,EAEAlC,OAAOlL,UAAU8I,MAAQ,SAAgB2C,EAAKC,EAAKP,EAAQnR,GAIvD,IAHI,IAEAwR,EAAI,IAAIN,OACHjR,EAAI,EAAGA,EAAIkR,IAAUlR,EAC1B,IAAK,IAAIkS,EAAI,EAAGA,EAAInS,IAASmS,EACzBX,EAAErL,IAAIlG,EAAGkS,EALE3M,KAKUS,IAAIwL,EAAMxR,EAAGyR,EAAMS,IAGhD,OAAOX,CACX,EAcA,IAAI6B,SAAW,CACXC,KAAM,cACNC,KAAM,cACNC,GAAI,YACJC,OAAQ,8BAGZ,SAASC,cAAclM,GACnB,OAAO6L,SAAS7L,IAAMA,CAC1B,CAEA,IAAImM,cAAgB,SAAUC,GAI1B,OAFoBA,EAAOlU,QADV,WAC8BgU,cAGnD,EAEA,SAASG,OACL,IACI5T,EACA6T,EAFA7Z,EAAK,GAIT,IAAKgG,EAAI,EAAGA,EAAI,GAAIA,IAChB6T,EAAyB,GAAhBlM,KAAKkM,SAAgB,EAEpB,IAAN7T,GAAiB,KAANA,GAAkB,KAANA,GAAkB,KAANA,IACnChG,GAAM,KAGVA,IAAa,KAANgG,EAAW,EAAW,KAANA,EAAqB,EAAT6T,EAAa,EAAKA,GAASpN,SAAS,IAG3E,OAAOzM,CACX,CAEA,IAAI8Z,qBAAuB,IAAIC,QAC3BC,KAAOC,OAAO,MAElB,SAASC,GAAGlV,EAAS2U,EAAQ3E,EAAQmF,EAASC,GAC1CC,kBAAkBrV,EAAS2U,EAAQ3E,EAAQmF,EAASC,EACxD,CAEA,SAASE,IAAItV,EAAS2U,EAAQ3E,EAAQmF,EAASC,GAC3CG,qBAAqBvV,EAAS2U,EAAQ3E,EAAQmF,EAASC,EAC3D,CAEA,SAASI,SAAS3V,GACd,MAAyB,iBAAZ,CACjB,CAEA,SAASwV,kBAAkBrV,EAAS2U,EAAQ3E,EAAQmF,EAASC,IACxCxV,QAAQ+U,GAAUA,GAAUA,GAAU,IAAItO,MAAM,MAEtDuE,SAAQ,SAAS6K,GACxBC,iBAAiB1V,EAASyV,EAAWzF,EAAQmF,EAASC,EAC1D,GACJ,CAEA,SAASM,iBAAiB1V,EAAS2V,EAAO3F,EAAQmF,EAASC,GACvD,IACIQ,EADAC,EAAeV,EAGfnF,GAAU3N,WAAW2N,KAAYmF,EACjCU,EAAe7F,EACRA,GAAUwF,SAASxF,IAAW3N,WAAWwT,KAChDD,EAAc5F,GAGlB,IAAI8F,EAAkB,SAASvN,GAC3B,IAAIwN,EAAwBxN,EAAEyN,OAASzN,EAAEyN,OAAOC,QAAQL,GAAe,KAEvE,IAAKA,GACAA,GAAerN,EAAEyN,QAAUD,EAAwB,CACpD,IAAIG,EAAgBN,EAAcG,EAAwBxN,EAAE2N,cAG5DpX,OAAOqX,eAAe5N,EAAG,gBAAiB,CAAE1I,MAAOqW,IAEnDpX,OAAOqX,eAAe5N,EAAG,iBAAkB,CAAE1I,MAAOG,IAEpD6V,EAAatN,EACjB,CACJ,EACAsN,EAAab,MAAQJ,OAErB,IAAIwB,EAAgBtB,qBAAqB9N,IAAIhH,GAExCoW,IACDA,EAAgB,IAAI3P,IACpBqO,qBAAqB5N,IAAIlH,EAASoW,IAGtCA,EAAclP,IAAI2O,EAAab,MAAOc,GACtC9V,EAAQ0V,iBAAiBC,EAAOG,EAAiBO,QAAQjB,GAC7D,CAEA,SAASG,qBAAqBvV,EAAS2U,EAAQQ,EAASC,IACnCxV,QAAQ+U,GAAUA,GAAUA,GAAU,IAAItO,MAAM,MAEtDuE,SAAQ,SAAS6K,GACxBa,oBAAoBtW,EAASyV,EAAWN,EAASC,EACrD,GACJ,CAEA,SAASkB,oBAAoBtW,EAAS2V,EAAOR,EAASC,GAClD,IAAIgB,EAAgBtB,qBAAqB9N,IAAIhH,GAE7C,GAAIoW,GAAiBjB,GAAWA,EAAQH,MAAO,CAC3C,IAAIuB,EAAYpB,EAAQH,MACpBc,EAAkBM,EAAcpP,IAAIuP,GAExCH,EAAcjG,OAAOoG,GAEjBT,GACA9V,EAAQsW,oBAAoBX,EAAOG,EAAiBO,QAAQjB,GAEpE,CACJ,CAEA,SAASoB,uBACL,IAAIC,EAAKC,SAASC,UAAUC,WACxB/d,EAAU,CAAC,EAIf,OAFAA,EAAQge,SAAWJ,EAEZ5d,CACX,CAEA,SAAS6d,SAASI,GACd,IAAIL,GAAK,EACLM,EAAW,CACPC,GAAI,gDACJC,KAAM,+BACNC,QAAS,qEACTC,OAAQ,2CACRC,KAAM,kCACNC,SAAU,kDACVC,QAAS,gCACTC,MAAO,2CACPC,SAAU,iDAEdC,EAAQ,CACJC,IAAK,sBACLR,QAAS,kBACTI,QAAS,UACTN,GAAI,KACJW,KAAM,wBAGd,IAAK,IAAIC,KAASb,EAAU,CAExB,GADYD,EAAGnR,MAAMoR,EAASa,IACnB,CACP,GAAc,YAAVA,GAAuB,YAAajB,UAAa,OAAO,GAE5DF,EAAK,CAAC,GACHoB,OAASD,EACZnB,EAAGxb,KAAO6c,UAAUF,EAAOH,GAC3BhB,EAAGA,EAAGxb,OAAQ,EAEd,KACJ,CACJ,CAEA,OAAOwb,CACX,CAEA,SAASqB,UAAUF,EAAOG,EAASC,GAC/B,IAAK,IAAIC,KAASF,EACd,GAAIA,EAAQE,GAAOrU,KAAKgU,GACpB,OAAOK,EAGf,YAAgBlK,IAATiK,EAAqBA,EAAOJ,CACvC,CAEA,SAASM,OAAQ,CAEjB,SAASC,MACL,OAAO,IAAInV,MAAOC,SACtB,CAEA,IAAIvD,OAAS,SACT0Y,SAAW,WAEXC,iBAAmB,WACnB9R,KAAK+R,mBAAoB,CAC7B,EAEIxQ,mBAAqB,WACrB,OAAkC,IAA3BvB,KAAK+R,iBAChB,EAEIC,WAAc,SAAUrf,GACxB,SAASqf,IACLrf,EAAMwO,KAAKnB,MACXA,KAAKiS,QAAU,CAAC,CACpB,CA0JA,OAxJKtf,IAAQqf,EAAWvZ,UAAY9F,GACpCqf,EAAWxR,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACrDwR,EAAWxR,UAAUhE,YAAcwV,EAEnCA,EAAWxR,UAAU0R,QAAU,WAC3BlS,KAAKmS,QACT,EAEAH,EAAWxR,UAAU0H,KAAO,SAAekH,EAAOrO,EAAUqR,GACxD,IACIxY,EAEAC,EACAwY,EACAzD,EALA0D,EAAOtS,KAEPuS,SAAoBnD,IAAUjW,OAAS,CAACiW,GAASA,GAAS,GAI1DoD,SAA4BzR,IAAa8Q,SAG7C,QAAiBrK,IAAbzG,EAAwB,CACxB,IAAKnH,KAAOwV,EACRkD,EAAKpK,KAAKtO,EAAKwV,EAAMxV,IAGzB,OAAO0Y,CACX,CAGA,IAAIpF,EAAO,WACP,IAAIgC,EAAYqD,EAAW3Y,IAE3BgV,EAAU4D,EAAqBzR,EAAWA,EAASmO,MAG3CkD,IACAC,EAAWzD,EACXA,EAAU,WACN0D,EAAKH,OAAOjD,EAAWN,GACvByD,EAAS1Q,MAAM2Q,EAAMvV,UACzB,EAEA6R,EAAQyD,SAAWA,IAGdC,EAAKL,QAAQ/C,GAAaoD,EAAKL,QAAQ/C,IAAc,IACvD5P,KAAKsP,GAEpB,EAEA,IAAKhV,EAAM,EAAGC,EAAS0Y,EAAW1Y,OAAQD,EAAMC,EAAQD,IAAOsT,IAG/D,OAAOoF,CACX,EAEAN,EAAWxR,UAAU4R,IAAM,SAAcG,EAAYxR,GACjD,OAAOf,KAAKkI,KAAKqK,EAAYxR,GAAU,EAC3C,EAEAiR,EAAWxR,UAAUiS,MAAQ,SAAgBvD,EAAWnO,GACpD,IACInH,EAEAC,EACA+U,EAJA0D,EAAOtS,KAEPuS,SAAoBrD,IAAc/V,OAAS,CAAC+V,GAAaA,EAGzDsD,SAA4BzR,IAAa8Q,SAG7C,IAAKjY,EAAM,EAAGC,EAAS0Y,EAAW1Y,OAAQD,EAAMC,EAAQD,IAAO,CAC3D,IAAI8Y,EAAcH,EAAW3Y,IAE7BgV,EAAU4D,EAAqBzR,EAAWA,EAAS2R,MAGtCJ,EAAKL,QAAQS,GAAeJ,EAAKL,QAAQS,IAAgB,IAC3DC,QAAQ/D,EAEvB,CAEA,OAAO0D,CACX,EAEAN,EAAWxR,UAAUa,QAAU,SAAkB6N,EAAW0D,GACxD,IAEIhZ,EACAC,EAHAyY,EAAOtS,KACPoO,EAASkE,EAAKL,QAAQ/C,GAI1B,GAAId,EAAQ,CACR,IAAIpM,EAAI4Q,GAAa,CAAC,EAYtB,IAVA5Q,EAAE6Q,OAASP,EAEXtQ,EAAE+P,mBAAoB,EAEtB/P,EAAE8Q,eAAiBhB,iBAEnB9P,EAAET,mBAAqBA,mBAIlB3H,EAAM,EAAGC,GAFduU,EAASA,EAAO9E,SAEczP,OAAQD,EAAMC,EAAQD,IAChDwU,EAAOxU,GAAKuH,KAAKmR,EAAMtQ,GAG3B,OAA+B,IAAxBA,EAAE+P,iBACb,CAEA,OAAO,CACX,EAEAC,EAAWxR,UAAU2R,OAAS,SAAiBjD,EAAWN,GACtD,IAEIhV,EAFA0Y,EAAOtS,KACPoO,EAASkE,EAAKL,QAAQ/C,GAG1B,QAAkB1H,IAAd0H,EACAoD,EAAKL,QAAU,CAAC,OACb,GAAI7D,EACP,GAAIQ,EACA,IAAKhV,EAAMwU,EAAOvU,OAAS,EAAGD,GAAO,EAAGA,IAChCwU,EAAOxU,KAASgV,GAAWR,EAAOxU,GAAKyY,WAAazD,GACpDR,EAAO2E,OAAOnZ,EAAK,QAI3B0Y,EAAKL,QAAQ/C,GAAa,GAIlC,OAAOoD,CACX,EAEAN,EAAWxR,UAAUwS,WAAa,SAAqB1Y,GAKnD,IAJA,IAAI2Y,EAAWjT,KAEXnG,GAAUmG,KAAKoO,QAAU,IAAIvU,OAExBD,EAAM,EAAGA,EAAMC,EAAQD,IAAQ,CACpC,IAAIoI,EAAIiR,EAAS7E,OAAOxU,GAEpBqZ,EAAS3Y,QAAQ0H,IAAM1H,EAAQ0H,KAC/BiR,EAASd,OAAOnQ,EAAGiR,EAAS3Y,QAAQ0H,IAEhCiR,EAAShB,SAAWgB,EAAShB,QAAQjQ,WAC9BiR,EAAShB,QAAQjQ,GAGpC,CAEAhC,KAAKkI,KAAKlI,KAAKoO,OAAQ9T,EAC3B,EAEO0X,CACX,CA/JiB,CA+Jfrf,OAEEugB,SAAW3a,OAAO4a,OAElBC,iBAAmB,SAAUpR,GAC7BA,EAAE8Q,gBACN,EAGIO,iBAAmB,IACnBC,YAAc,IACdC,kBAAoB,EACpBC,MAAQ,QACRC,KAAO,OACPC,SAAW,SACXxa,MAAQ,QACRya,KAAO,OACP7a,IAAM,MACN8a,OAAS,SACTC,IAAM,MACNC,UAAY,YACZC,QAAU,UACVC,aAAe,eACfC,cAAgB,gBAChBC,WAAa,aACbC,WAAa,aAEbC,UAAY,CACZC,IAAO,EACPC,MAAS,EACTC,MAAS,EACTC,QAAW,GAGf,SAASC,WAAWC,EAAQC,GACxB,IAAIC,EAAKF,EAAOzZ,EAAE4Z,SACdC,EAAKJ,EAAOxZ,EAAE2Z,SACdE,EAAKJ,EAAO1Z,EAAE4Z,SACdG,EAAKL,EAAOzZ,EAAE2Z,SACdI,EAAKL,EAAKG,EACVG,EAAKJ,EAAKE,EAEd,MAAO,CACHG,OAAQ,CACJla,GAAI2Z,EAAKG,GAAM,EACf7Z,GAAI4Z,EAAKE,GAAM,GAEnBI,SAAUhT,KAAKiT,KAAKJ,EAAKA,EAAKC,EAAKA,GAE3C,CAEA,SAASI,WAAWtT,GAChB,IAAIuT,EAAU,GACVC,EAAgBxT,EAAEwT,eAAiBxT,EACnC2N,EAAgB3N,EAAE2N,cAsBtB,OApBI3N,EAAEqS,IACFkB,EAAQjW,KAAK,CACT7K,GAAI,EACJ2a,MAAOpN,EACPyN,OAAQzN,EAAEyN,OACVE,cAAe3N,EAAEyN,OACjBoF,SAAU7S,EACV6B,KAAM,QAGV0R,EAAQjW,KAAK,CACTuV,SAAUW,EACVpG,MAAOpN,EACPyN,OAAQzN,EAAEyN,OACVE,cAAeA,EACflb,GAAI+gB,EAAcC,UAClB5R,KAAM,YAIP0R,CACX,CACA,IAAIG,UAAa,SAAU/iB,GACvB,SAAS+iB,EAAUC,EAAMd,GACrBliB,EAAMwO,KAAKnB,MACX,IAAIsS,EAAOtS,KAEXsS,EAAKhgB,QAAU2d,uBACfqC,EAAKsD,kBAAoB5V,KAAK1N,QAAQge,UAAYtQ,KAAK1N,QAAQge,SAASK,QACxE2B,EAAKqD,KAAOA,EACZrD,EAAKuD,oBAAoBhB,GACzBvC,EAAKwD,cAAgBxD,EAAKuC,SAC1BvC,EAAKyD,SAAWzD,EAAKrQ,MAAQ,EAC7BqQ,EAAK0D,UAAYpE,KACrB,CAgCA,OA9BKjf,IAAQ+iB,EAAUjd,UAAY9F,GACnC+iB,EAAUlV,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDkV,EAAUlV,UAAUhE,YAAckZ,EAElCA,EAAUlV,UAAUuN,KAAO,SAAe8G,GACtC,IAAIvC,EAAOtS,KACP3F,EAASwa,EAAS,OAASvC,EAAKqD,MAChCK,EAAYpE,MACZqE,EAAYD,EAAY1D,EAAK0D,WAAa,GAEzC3b,GAAU2F,KAAK4V,oBAIpBtD,EAAKrQ,MAAQ5H,EAASiY,EAAKuC,SAC3BvC,EAAKuD,oBAAoBhB,GACzBvC,EAAK4D,aAAe7b,EAASiY,EAAKwD,cAClCxD,EAAKyD,SAAWzD,EAAKrQ,MAAQgU,EAC7B3D,EAAK0D,UAAYA,EACrB,EAEAN,EAAUlV,UAAUqV,oBAAsB,SAA8BhB,GACpE,IAAIvC,EAAOtS,KACP2V,EAAOrD,EAAKqD,KAEhBrD,EAAKuC,SAAWA,EAAS,OAASc,GAClCrD,EAAK6D,OAAStB,EAAS,SAAWc,GAClCrD,EAAK8D,OAASvB,EAAS,SAAWc,EACtC,EAEOD,CACX,CA7CgB,CA6Cd/iB,OAEE0jB,MAAS,SAAU1jB,GACnB,SAAS0jB,EAAMC,EAAY7G,EAAQ8G,GAC/B5jB,EAAMwO,KAAKnB,MAEXkT,SAASlT,KAAM,CACX/E,EAAG,IAAIya,UAAU,IAAKa,EAAU1B,UAChC3Z,EAAG,IAAIwa,UAAU,IAAKa,EAAU1B,UAChChR,KAAM0S,EAAU1S,KAChB2S,UAAWF,EAAWE,WAAapC,UAAUmC,EAAU1S,MACvDyS,WAAYA,EACZ7G,OAAQA,EACRE,cAAe4G,EAAU5G,cACzB8G,aAAcF,EAAU9G,OACxBhb,GAAI8hB,EAAU9hB,GACdiiB,WAAYH,EACZI,QAASL,EAAWK,QACpBC,iBAAkBN,EAAWM,iBAC7BC,QAAQ,EACRC,WAAW,GAEnB,CA8IA,OA5IKnkB,IAAQ0jB,EAAM5d,UAAY9F,GAC/B0jB,EAAM7V,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAChD6V,EAAM7V,UAAUhE,YAAc6Z,EAE9BA,EAAM7V,UAAUuW,MAAQ,WACpB,IAAI9D,EAAWjT,KAEfA,KAAKgX,aAAeC,YAAW,WAAc,OAAOhE,EAASiE,OAAS,GAAGlX,KAAKsW,WAAWa,SACzFnX,KAAKoX,SAAS5D,MAAOxT,KAAK0W,WAC9B,EAEAL,EAAM7V,UAAU6W,KAAO,SAAed,GAClC,IAAIjE,EAAOtS,KAEXsS,EAAKgE,WAAWK,UAEgB,IAA5BrE,EAAKgE,WAAWK,UAChBrE,EAAKgF,cAAgBL,YAAW,WACI,IAA5B3E,EAAKgE,WAAWK,QAChBrE,EAAK8E,SAASvD,IAAK0C,GAEnBjE,EAAK8E,SAAStD,UAAWyC,GAG7BjE,EAAKgE,WAAWK,QAAU,CAC9B,GAAGrD,aAEX,EAEA+C,EAAM7V,UAAU0W,MAAQ,WACpBlX,KAAKoX,SAAS3D,KAAMzT,KAAK0W,WAC7B,EAGAL,EAAM7V,UAAUuN,KAAO,SAAewI,GAClC,IAAIjE,EAAOtS,KACPuX,EAAiC,QAAnBhB,EAAU1S,MAAkByO,EAAKgE,WAAWkB,eAE9D,IAAIlF,EAAKwE,YAAaS,EAAtB,CAOA,GAHAjF,EAAKrX,EAAE8S,KAAKwI,EAAU1B,UACtBvC,EAAKpX,EAAE6S,KAAKwI,EAAU1B,WAEjBvC,EAAKuE,OAAQ,CACd,GAAIvE,EAAKmF,yBACL,OAGJ,GAAKC,WAAWC,SAAWD,WAAWC,UAAYrF,EAAKgE,WAGnD,OAAOhE,EAAKsF,UAFZtF,EAAKuF,OAAOtB,EAIpB,CAEKjE,EAAKwE,WACNxE,EAAK8E,SAASzD,KAAM4C,EAlBxB,CAoBJ,EAGAF,EAAM7V,UAAUF,IAAM,SAAciW,GAChCvW,KAAK8X,QAAUlG,MAEX5R,KAAK8W,YAIT9W,KAAK8W,WAAY,EACjB9W,KAAKoX,SAASrD,QAASwC,GAEnBvW,KAAK6W,OACL7W,KAAKoX,SAASte,IAAKyd,GAEfvW,KAAK4W,iBACL5W,KAAKqX,KAAKd,GAEVvW,KAAKoX,SAASvD,IAAK0C,GAI3BwB,aAAa/X,KAAKgX,cAClBhX,KAAK4X,UACT,EAEAvB,EAAM7V,UAAUoX,QAAU,WACtB,IACII,EADahY,KAAKsW,WACSf,SAAW,GAE1CvV,KAAK8W,WAAY,EACjB9W,KAAK0W,WAAa,KAElBqB,aAAa/X,KAAKgX,cAElB,IAAIiB,EAAmBD,EAAcje,QAAQiG,MAC7CgY,EAAcjF,OAAOkF,EAAkB,EAC3C,EAEA5B,EAAM7V,UAAU0X,KAAO,WACnBlY,KAAK4X,SACT,EAEAvB,EAAM7V,UAAUyN,OAAS,WACrBjO,KAAK4X,SACT,EAEAvB,EAAM7V,UAAU2X,QAAU,WACtB,OAAOnY,KAAK6W,MAChB,EAEAR,EAAM7V,UAAUqX,OAAS,SAAiBtB,GACtCwB,aAAa/X,KAAKgX,cAClBhX,KAAKoY,UAAYxG,MACjB5R,KAAK6W,QAAS,EACd7W,KAAKoX,SAASle,MAAOqd,EACzB,EAEAF,EAAM7V,UAAU4W,SAAW,SAAmB1iB,EAAM6hB,GAChD,IAAIvU,EAAIuU,EAAUnH,MACdxD,EAAO,CACP0I,MAAOtU,KACP/E,EAAG+E,KAAK/E,EACRC,EAAG8E,KAAK9E,EACRuU,OAAQzP,KAAKyP,OACbL,MAAOpN,GAGPhC,KAAKsW,WAAW+B,OAAO3jB,EAAMkX,IAC7B5J,EAAE8Q,gBAEV,EAEAuD,EAAM7V,UAAUiX,uBAAyB,WACrC,IAAIa,EAAStY,KAAK/E,EAAEib,aAChBqC,EAASvY,KAAK9E,EAAEgb,aACpB,OAAO9T,KAAKiT,KAAKiD,EAASA,EAASC,EAASA,IAAWvY,KAAKwW,SAChE,EAEOH,CACX,CAnKY,CAmKV1jB,OAEF,SAAS6lB,gBAAgB9Y,GAKrB,IAJA,IAAI+Y,EAAa5K,SAASG,GAAGlO,MAAM,KAC/BlG,EAAM,EACNC,EAAS4e,EAAW5e,OAEjBD,EAAMC,EAAQD,IACjB8F,EAAS+Y,EAAW7e,GAE5B,CAEA,IAAI8d,WAAc,SAAU1F,GACxB,SAAS0F,EAAWje,EAASa,GACzB0X,EAAW7Q,KAAKnB,MAChB,IACIyJ,EADA6I,EAAOtS,KAGP1N,EAAU2d,uBAiDd,GAhDAjQ,KAAK1N,QAAUA,EAGfgI,EAAUA,GAAW,CAAC,EAEtB0F,KAAK1F,QAAUA,EAEfmP,EAAS6I,EAAK7I,OAASnP,EAAQmP,OAC/B6I,EAAKkE,UAAYlc,EAAQkc,WAAajD,kBACtCjB,EAAK6E,QAAU7c,EAAQ6c,SAAW9D,iBAClCf,EAAKiD,QAAU,GACfjD,EAAKoG,YAAcpe,EAAQqe,WAAa,EAAI,EAC5CrG,EAAKsG,eAAiBte,EAAQse,eAC9BtG,EAAKuG,iBAAmBve,EAAQue,iBAChCvG,EAAKqE,QAAU,EACfrE,EAAKsE,iBAAmBtc,EAAQsc,iBAEhC1D,SAASZ,EAAM,CACX7Y,QAASA,EACTqf,QAASxe,EAAQwe,SAAWrf,EAC5Bsf,gBAAiBze,EAAQye,gBACzBC,SAAS,IAGbhZ,KAAKiZ,oBAAsBjZ,KAAKkZ,MAAMhR,KAAKlI,MAC3C2O,GAAG2D,EAAKwG,QAAS3K,cAAc,QAASnO,KAAKiZ,qBAE7CjZ,KAAKmZ,mBAAqBnZ,KAAKoZ,KAAKlR,KAAKlI,MACzC2O,GAAG2D,EAAKwG,QAAS3K,cAAc,aAAcnO,KAAKmZ,oBAElDnZ,KAAKqZ,qBAAuBrZ,KAAK6X,OAAO3P,KAAKlI,MAC7C2O,GAAGlV,EAAS0U,cAAc,QAAS1E,EAAQzJ,KAAKqZ,sBAEhD5f,EAAQgE,MAAM,gBAAkBnD,EAAQgf,aAAe,OAEnDhf,EAAQif,mBACRvZ,KAAKwZ,yBAA2BpG,iBAChCzE,GAAGlV,EAAS0U,cAAc,aAAcnO,KAAKwZ,2BAQjDxZ,KAAKyZ,sBAAwBzZ,KAAK0Z,QAAQxR,KAAKlI,MAC/C2O,GAAGlV,EAAS0U,cAAc,aAAc1E,EAAQzJ,KAAKyZ,uBAEjDnH,EAAKuG,iBAAkB,CACvB,IAAIc,EAAiBrH,EAAKwG,QACtBc,EAAuBtH,EAAKuH,gBAAgB3R,KAAKoK,GAErDkG,iBAAgB,SAAStJ,GACrByK,EAAexK,iBAAiBD,EAAW0K,GAAsB,EACrE,GACJ,CAEAtH,EAAKpK,KAAK,CACNsL,MACAC,KACAI,IACAC,UACA5a,MACAya,KACA7a,IACAib,QACAH,OACAI,aACAC,cACAC,WACAC,WACAT,UACDpZ,EACP,CAsOA,OApOK0X,IAAa0F,EAAWjf,UAAYuZ,GACzC0F,EAAWlX,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC/DkX,EAAWlX,UAAUhE,YAAckb,EAEnCA,EAAWlX,UAAUqZ,gBAAkB,SAA0B7X,GACzDhC,KAAK8Z,YACL9X,EAAE8Q,gBAEV,EAEA4E,EAAWlX,UAAU0R,QAAU,WAC3B,IAAII,EAAOtS,KACP1F,EAAU0F,KAAK1F,QACfb,EAAUuG,KAAKvG,QAEnB,IAAI6Y,EAAKyH,WAAT,CAMA,GAFAzH,EAAKyH,YAAa,EAEdzH,EAAKuG,iBAAkB,CACvB,IAAIc,EAAiBrH,EAAKwG,QAC1BN,iBAAgB,SAAStJ,GACrByK,EAAe5J,oBAAoBb,EAAWoD,EAAKuH,gBACvD,GACJ,CAEA9K,IAAIuD,EAAKwG,QAAS3K,cAAc,QAASnO,KAAKiZ,qBAC9ClK,IAAIuD,EAAKwG,QAAS3K,cAAc,aAAcnO,KAAKmZ,oBAEnDpK,IAAItV,EAAS0U,cAAc,QAASnO,KAAKqZ,sBAErC/e,EAAQif,kBACRxK,IAAItV,EAAS0U,cAAc,aAAcnO,KAAKwZ,0BAGlDzK,IAAItV,EAAS0U,cAAc,aAAcnO,KAAKyZ,uBAE9CnH,EAAK0H,cACL1H,EAAKH,gBAEEG,EAAKwG,eACLxG,EAAK7Y,eACL6Y,EAAK3C,aA3BZ,CA4BJ,EAEA+H,EAAWlX,UAAUyZ,QAAU,WAC3BvC,EAAWC,QAAU3X,IACzB,EAEA0X,EAAWlX,UAAUyN,OAAS,WAC1BjO,KAAKga,cACLha,KAAKqB,QAAQuS,OACjB,EAEA8D,EAAWlX,UAAU6X,OAAS,SAAiBjJ,EAAOxD,GAClD,IACI2J,EADOvV,KACQuV,QACfrG,EAAYE,EAEhB,GAAIpP,KAAKka,gBAAiB,CACtB,OAAQhL,GACJ,KAAKyE,KACDzE,EAAY+E,cACZ,MACJ,KAAKnb,IACDoW,EAAYgF,WACZ,MACJ,KAAKL,IACD3E,EAAYiF,WAMpBjB,SAAStH,EAAM,CACX2J,QAASA,GACVd,WAAWc,EAAQ,GAAIA,EAAQ,IACtC,CAEA,OAAOvV,KAAKqB,QAAQ6N,EAAWgE,SAAStH,EAAM,CAC1C/H,KAAMqL,IAEd,EAEAwI,EAAWlX,UAAUuW,MAAQ,SAAgB9b,EAAGC,EAAGuU,GAC/CzP,KAAKma,SAAS,SAAUlf,EAAGC,EAAGuU,EAClC,EAEAiI,EAAWlX,UAAUuN,KAAO,SAAe9S,EAAGC,GAC1C8E,KAAKma,SAAS,QAASlf,EAAGC,EAC9B,EAEAwc,EAAWlX,UAAUF,IAAM,SAAcrF,EAAGC,GACxC8E,KAAKma,SAAS,OAAQlf,EAAGC,EAC7B,EAEAwc,EAAWlX,UAAU0Z,cAAgB,WACjC,OAAOla,KAAKuV,QAAQ1b,OAAS,CACjC,EAEA6d,EAAWlX,UAAU4Z,mBAAqB,WACtC,OAAOpa,KAAKuV,QAAQ1b,QAAUmG,KAAK0Y,WACvC,EAEAhB,EAAWlX,UAAUwZ,YAAc,WAE/B,IADA,IAAIzE,EAAUvV,KAAKuV,QACZA,EAAQ1b,OAAS,GACpB0b,EAAQ8E,MAAMzC,SAEtB,EAEAF,EAAWlX,UAAUsZ,SAAW,WAC5B,OAAOta,KAAKQ,KAAKuV,SAAS,SAASjB,GAC/B,OAAOA,EAAM6D,SACjB,IAAGte,MACP,EAEA6d,EAAWlX,UAAUkZ,QAAU,SAAkB1X,GACxChC,KAAK4Y,iBAAkB5Y,KAAKqB,QAAQqS,SAAU,CAAEtE,MAAOpN,KACxDA,EAAE8Q,gBAEV,EAEA4E,EAAWlX,UAAUqX,OAAS,SAAiB7V,GAC3C,IAAIiR,EAAWjT,KAEf,KAAIgC,EAAEsY,OAAStY,EAAEsY,MAAQ,GAAKta,KAAKoa,sBAAnC,CAWA,IAAI3K,EAPJiI,EAAWC,QAAU,KACrB3X,KAAK2P,cAAgB3N,EAAE2N,cAEnB3P,KAAK+Y,iBACL/W,EAAE+W,kBAKN,IADA,IAAIwB,EAAejF,WAAWtT,GACrBpI,EAAM,EAAGA,EAAM2gB,EAAa1gB,SAC7BoZ,EAASmH,qBAD4BxgB,IAAO,CAKhD,IAAI4gB,EAAaD,EAAa3gB,GAO9B,KALI6V,EADAwD,EAASxJ,OACA+Q,EAAW7K,cAEXsD,EAASxZ,UAGU,IAAlBgW,EAAO5V,OAArB,CAIA,IAAIya,EAAQ,IAAI+B,MAAMpD,EAAUxD,EAAQ+K,GACxCvH,EAASsC,QAAQjW,KAAKgV,GACtBA,EAAMyC,QAEF9D,EAASiH,iBACTjH,EAASoF,OAAO,eAAgB,CAAC,EAPrC,CASJ,CAlCA,CAmCJ,EAEAX,EAAWlX,UAAU0Y,MAAQ,SAAgBlX,GACzChC,KAAKya,WAAW,OAAQzY,EAC5B,EAEA0V,EAAWlX,UAAU4Y,KAAO,SAAepX,GACvChC,KAAKya,WAAW,MAAOzY,EAC3B,EAEA0V,EAAWlX,UAAUia,WAAa,SAAqBC,EAAY1Y,GAC/D,IAMIpI,EACA0a,EACAiC,EACAoE,EANAC,EAAO,CAAC,EACRrF,EAAUD,WAAWtT,GACrBgW,EAHOhY,KAGcuV,QAMzB,IAAK3b,EAAM,EAAGA,EAAMoe,EAAcne,OAAQD,IAEtCghB,GADAtG,EAAQ0D,EAAcpe,IACXnF,IAAM6f,EAGrB,IAAK1a,EAAM,EAAGA,EAAM2b,EAAQ1b,OAAQD,IAAO,CAIvC,GAFA+gB,EAAgBC,GADhBrE,EAAYhB,EAAQ3b,IACWnF,IAGQ,SAAfimB,GAA4C,YAAnBnE,EAAU1S,OArBhD7D,KAqBgF8Y,QAAQ+B,kBAAkBtE,EAAU9hB,KArBpHuL,KAuBM8Y,QAAQgC,kBAAkBvE,EAAU9hB,IAGjDkmB,EAAcD,GAAYnE,EAElC,CACJ,EAEAmB,EAAWlX,UAAU2Z,SAAW,SAAmBtW,EAAM5I,EAAGC,EAAGuU,GAC3DzP,KAAK6D,GAAM,CACPwQ,KAAK,EACL0G,MAAO9f,EACP+f,MAAO9f,EACP+f,QAAShgB,EACTigB,QAAShgB,EACTuU,OAAQA,GAAUzP,KAAKvG,QACvBsf,gBAAiBpH,KACjBmB,eAAgBnB,MAExB,EAEA+F,EAAWyD,iBAAmB,SAA2B7hB,GACrDia,kBAAoBja,CACxB,EAEAoe,EAAWP,QAAU,SAAkB7d,GACnC+Z,iBAAmB/Z,CACvB,EAEOoe,CACX,CAvTiB,CAuTf1F,YAEF,SAASoJ,cAAc7T,EAAKlF,GACxB,IAAIgZ,EAAO7X,QAAQnB,EAAMkF,EAAKtR,kBAAoB,GAElD,GAAa,IAATolB,EAAY,CACZ,GAAY,IAARhZ,EACA,MAAO,GAGXgZ,EAAOjZ,KAAKkZ,IAAIjZ,EACpB,CAEA,IAAIkZ,EAAQnZ,KAAKoZ,IAAI,GAAIpZ,KAAKK,MAAML,KAAKqZ,IAAIJ,GAAQjZ,KAAKqZ,IAAI,MAC1DC,EAAgBlY,QAAS6X,EAAOE,EAAQtlB,mBAa5C,OAAOuN,QAAQ+X,GAVXG,EAAgB,SACE,GACXA,EAAgB,SACL,GACXA,EAAgB,SACL,EAEA,GAGkBzlB,kBAC5C,CAEA,IAAI0lB,QAAW,SAAUhpB,GACrB,SAASipB,EAAM3gB,EAAGC,GACdvI,EAAMwO,KAAKnB,MAEXA,KAAK/E,EAAIA,GAAK,EACd+E,KAAK9E,EAAIA,GAAK,CAClB,CA6DA,OA3DKvI,IAAQipB,EAAMnjB,UAAY9F,GAC/BipB,EAAMpb,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAChDob,EAAMpb,UAAUhE,YAAcof,EAE9BA,EAAMpb,UAAU7D,MAAQ,WACpB,OAAO,IAAIif,EAAM5b,KAAK/E,EAAG+E,KAAK9E,EAClC,EAEA0gB,EAAMpb,UAAUqb,OAAS,SAAiBC,GACtC,OAAOA,GAAS9b,KAAK/E,IAAM6gB,EAAM7gB,GAAK+E,KAAK9E,IAAM4gB,EAAM5gB,CAC3D,EAEA0gB,EAAMpb,UAAUub,OAAS,SAAiB5G,EAAQ6G,GAC9C,IAAIC,EAAQ1Y,IAAIyY,GACZE,EAAO9Z,KAAK+Z,IAAIF,GAChBG,EAAOha,KAAKia,IAAIJ,GAChBK,EAAKnH,EAAOla,EACZshB,EAAKpH,EAAOja,EAEZD,EADM+E,KACE/E,EACRC,EAFM8E,KAEE9E,EAYZ,OAVA8E,KAAK/E,EAAIuI,QACL8Y,GAAMrhB,EAAIqhB,GAAMJ,GAAQhhB,EAAIqhB,GAAMH,EAClCxmB,iBAGJoK,KAAK9E,EAAIsI,QACL+Y,GAAMrhB,EAAIqhB,GAAML,GAAQjhB,EAAIqhB,GAAMF,EAClCxmB,iBAGGoK,IACX,EAEA4b,EAAMpb,UAAUoM,SAAW,SAAmBF,GAK1C,OAHA1M,KAAK/E,GAAKyR,EACV1M,KAAK9E,GAAKwR,EAEH1M,IACX,EAEA4b,EAAMpb,UAAUgc,WAAa,SAAqBV,GAC9C,IAAI7G,EAAKjV,KAAK/E,EAAI6gB,EAAM7gB,EACpBia,EAAKlV,KAAK9E,EAAI4gB,EAAM5gB,EAExB,OAAOkH,KAAKiT,KAAKJ,EAAKA,EAAKC,EAAKA,EACpC,EAEA0G,EAAMa,SAAW,SAAmBtH,EAAQuH,EAAOC,GAC/C,IAAIC,EAAUrZ,IAAImZ,GAElB,OAAO,IAAId,EACPzG,EAAOla,EAAI0hB,EAASva,KAAK+Z,IAAIS,GAC7BzH,EAAOja,EAAIyhB,EAASva,KAAKia,IAAIO,GAErC,EAEOhB,CACX,CApEc,CAoEZjpB,OAEEkqB,IAAO,SAAUlqB,GACjB,SAASkqB,EAAIjI,EAAIE,EAAIC,EAAIC,GACrBriB,EAAMwO,KAAKnB,MAEXA,KAAK4U,GAAKA,GAAM,EAChB5U,KAAK8U,GAAKA,GAAM,EAChB9U,KAAK+U,GAAKA,GAAM,EAChB/U,KAAKgV,GAAKA,GAAM,CACpB,CA0NA,OAxNKriB,IAAQkqB,EAAIpkB,UAAY9F,GAC7BkqB,EAAIrc,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC9Cqc,EAAIrc,UAAUhE,YAAcqgB,EAE5BA,EAAIrc,UAAUqb,OAAS,SAAiBiB,GACpC,OAAO9c,KAAK4U,KAAOkI,EAAIlI,IAAM5U,KAAK+U,KAAO+H,EAAI/H,IACzC/U,KAAK8U,KAAOgI,EAAIhI,IAAM9U,KAAKgV,KAAO8H,EAAI9H,EAC9C,EAEA6H,EAAIrc,UAAUhG,MAAQ,WAClB,OAAOwF,KAAK+U,GAAK/U,KAAK4U,EAC1B,EAEAiI,EAAIrc,UAAUmL,OAAS,WACnB,OAAO3L,KAAKgV,GAAKhV,KAAK8U,EAC1B,EAEA+H,EAAIrc,UAAU3F,UAAY,SAAoBoa,EAAIC,GAM9C,OALAlV,KAAK4U,IAAMK,EACXjV,KAAK+U,IAAME,EACXjV,KAAK8U,IAAMI,EACXlV,KAAKgV,IAAME,EAEJlV,IACX,EAEA6c,EAAIrc,UAAUuN,KAAO,SAAe9S,EAAGC,GACnC,IAAIyQ,EAAS3L,KAAK2L,SACdnR,EAAQwF,KAAKxF,QAYjB,OAVIqI,QAAQ5H,KACR+E,KAAK4U,GAAK3Z,EACV+E,KAAK+U,GAAK/U,KAAK4U,GAAKpa,GAGpBqI,QAAQ3H,KACR8E,KAAK8U,GAAK5Z,EACV8E,KAAKgV,GAAKhV,KAAK8U,GAAKnJ,GAGjB3L,IACX,EAEA6c,EAAIrc,UAAUuc,KAAO,SAAeC,GAMhC,OALAhd,KAAK4U,GAAKxS,KAAKmF,IAAIvH,KAAK4U,GAAIoI,EAAUpI,IACtC5U,KAAK8U,GAAK1S,KAAKmF,IAAIvH,KAAK8U,GAAIkI,EAAUlI,IACtC9U,KAAK+U,GAAK3S,KAAKC,IAAIrC,KAAK+U,GAAIiI,EAAUjI,IACtC/U,KAAKgV,GAAK5S,KAAKC,IAAIrC,KAAKgV,GAAIgI,EAAUhI,IAE/BhV,IACX,EAEA6c,EAAIrc,UAAUyc,UAAY,SAAoBnB,GAC1C,IAAIoB,EAAa7jB,QAAQyiB,GACrB7gB,EAAIiiB,EAAapB,EAAM,GAAKA,EAAM7gB,EAClCC,EAAIgiB,EAAapB,EAAM,GAAKA,EAAM5gB,EAGtC,OAFA8E,KAAK+c,KAAK,IAAIF,EAAI5hB,EAAGC,EAAGD,EAAGC,IAEpB8E,IACX,EAEA6c,EAAIrc,UAAU2c,OAAS,SAAiBH,EAAWrH,GAY/C,OAVIA,IAAS3d,GAAM2d,IACf3V,KAAK4U,GAAKoI,EAAUpI,GACpB5U,KAAK+U,GAAKiI,EAAUjI,IAGpBY,IAAS1d,GAAM0d,IACf3V,KAAK8U,GAAKkI,EAAUlI,GACpB9U,KAAKgV,GAAKgI,EAAUhI,IAGjBhV,IACX,EAEA6c,EAAIrc,UAAU4c,QAAU,SAAkBJ,EAAWriB,GACjD,IAAIgR,EAAS3L,KAAK2L,SACdnR,EAAQwF,KAAKxF,QACbmb,EAAOhb,IAAWlD,KAAOkD,IAAWlF,SAAWwC,EAAID,EACnDqC,EAASsb,IAAS1d,EAAI0T,EAASnR,EAEnC,GAAIG,IAAWjF,OAAQ,CACnB,IAAI2nB,EAAeL,EAAU7H,SACzBA,EAASnV,KAAKmV,SAElBnV,KAAK4U,IAAMyI,EAAapiB,EAAIka,EAAOla,EACnC+E,KAAK8U,IAAMuI,EAAaniB,EAAIia,EAAOja,CACvC,MACI8E,KAAK2V,EAAO,GADLhb,IAAWlD,KAAOkD,IAAWhE,KACnBqmB,EAAUrH,EAAO,GAAKtb,EAEtB2iB,EAAUrH,EAAO,GAMtC,OAHA3V,KAAK+U,GAAK/U,KAAK4U,GAAKpa,EACpBwF,KAAKgV,GAAKhV,KAAK8U,GAAKnJ,EAEb3L,IACX,EAEA6c,EAAIrc,UAAU8c,OAAS,SAAiBC,EAAIC,GAKxC,OAHAxd,KAAK+U,IAAMwI,EACXvd,KAAKgV,IAAMwI,EAEJxd,IACX,EAEA6c,EAAIrc,UAAUid,OAAS,SAAiBF,EAAIC,GAExC,OADAxd,KAAKsd,QAAQC,GAAKC,GACXxd,IACX,EAEA6c,EAAIrc,UAAUkd,IAAM,SAAcC,GAC9B,IAAI3f,EAAUF,WAAW6f,GAOzB,OALA3d,KAAK4U,IAAM5W,EAAQI,KACnB4B,KAAK+U,IAAM/W,EAAQE,MACnB8B,KAAK8U,IAAM9W,EAAQC,IACnB+B,KAAKgV,IAAMhX,EAAQG,OAEZ6B,IACX,EAEA6c,EAAIrc,UAAUod,MAAQ,SAAgBD,GAClC,IAAI3f,EAAUF,WAAW6f,GAOzB,OALA3f,EAAQI,MAAQJ,EAAQI,KACxBJ,EAAQC,KAAOD,EAAQC,IACvBD,EAAQE,OAASF,EAAQE,MACzBF,EAAQG,QAAUH,EAAQG,OAEnB6B,KAAK0d,IAAI1f,EACpB,EAEA6e,EAAIrc,UAAU7D,MAAQ,WAClB,OAAO,IAAIkgB,EAAI7c,KAAK4U,GAAI5U,KAAK8U,GAAI9U,KAAK+U,GAAI/U,KAAKgV,GACnD,EAEA6H,EAAIrc,UAAU2U,OAAS,WACnB,OAAO,IAAIwG,QACP3b,KAAK4U,GAAK5U,KAAKxF,QAAU,EACzBwF,KAAK8U,GAAK9U,KAAK2L,SAAW,EAElC,EAEAkR,EAAIrc,UAAUqd,cAAgB,SAAwB/B,GAElD,OAAOA,EAAM7gB,GAAK+E,KAAK4U,IAAMkH,EAAM7gB,GAAK+E,KAAK+U,IACtC+G,EAAM5gB,GAAK8E,KAAK8U,IAAMgH,EAAM5gB,GAAK8E,KAAKgV,EACjD,EAEA6H,EAAIrc,UAAUsd,OAAS,WACnB,MAAO,CACH,IAAInC,QAAQ3b,KAAK4U,GAAI5U,KAAK8U,IAC1B,IAAI6G,QAAQ3b,KAAK+U,GAAI/U,KAAK8U,IAC1B,IAAI6G,QAAQ3b,KAAK+U,GAAI/U,KAAKgV,IAC1B,IAAI2G,QAAQ3b,KAAK4U,GAAI5U,KAAKgV,IAElC,EAEA6H,EAAIrc,UAAUud,QAAU,WACpB,MAAO,CAAE/d,KAAK4U,GAAI5U,KAAK8U,GAAI9U,KAAK+U,GAAI/U,KAAKgV,IAAKgJ,KAAK,IACvD,EAEAnB,EAAIrc,UAAUyd,SAAW,SAAmBnB,GACxC,QAASA,EAAI9H,GAAKhV,KAAK8U,IAAM9U,KAAKgV,GAAK8H,EAAIhI,IAAMgI,EAAI/H,GAAK/U,KAAK4U,IAAM5U,KAAK+U,GAAK+H,EAAIlI,GACvF,EAEAiI,EAAIrc,UAAUub,OAAS,SAAiBmC,GACpC,IAAI1jB,EAAQwF,KAAKxF,QACbmR,EAAS3L,KAAK2L,SACdjJ,EAAM1C,KAAKmV,SACXmH,EAAK5Z,EAAIzH,EACTshB,EAAK7Z,EAAIxH,EAETijB,EAAKC,YAAY,EAAG,EAAG9B,EAAIC,EAAI2B,GAC/BG,EAAKD,YAAY5jB,EAAO,EAAG8hB,EAAIC,EAAI2B,GACnCI,EAAKF,YAAY5jB,EAAOmR,EAAQ2Q,EAAIC,EAAI2B,GACxCK,EAAKH,YAAY,EAAGzS,EAAQ2Q,EAAIC,EAAI2B,GAQxC,OANA1jB,EAAQ4H,KAAKC,IAAI8b,EAAGljB,EAAGojB,EAAGpjB,EAAGqjB,EAAGrjB,EAAGsjB,EAAGtjB,GAAKmH,KAAKmF,IAAI4W,EAAGljB,EAAGojB,EAAGpjB,EAAGqjB,EAAGrjB,EAAGsjB,EAAGtjB,GACzE0Q,EAASvJ,KAAKC,IAAI8b,EAAGjjB,EAAGmjB,EAAGnjB,EAAGojB,EAAGpjB,EAAGqjB,EAAGrjB,GAAKkH,KAAKmF,IAAI4W,EAAGjjB,EAAGmjB,EAAGnjB,EAAGojB,EAAGpjB,EAAGqjB,EAAGrjB,GAE1E8E,KAAK+U,GAAK/U,KAAK4U,GAAKpa,EACpBwF,KAAKgV,GAAKhV,KAAK8U,GAAKnJ,EAEb3L,IACX,EAEA6c,EAAIrc,UAAUge,OAAS,WACnB,OAAO,IAAI5rB,KAAK,CAAEoN,KAAK4U,GAAI5U,KAAK8U,IAAM,CAAE9U,KAAKxF,QAASwF,KAAK2L,UAC/D,EAEAkR,EAAIrc,UAAUie,QAAU,WACpB,OAAwB,IAAjBze,KAAKxF,SAAmC,IAAlBwF,KAAK2L,QACtC,EAEAkR,EAAIrc,UAAUke,MAAQ,SAAgB1B,EAAWrH,EAAMgJ,GACnD,IAAIC,EAAKjJ,EAAO,EACZkJ,EAAKlJ,EAAO,EACZmJ,EAAWnJ,IAAS3d,EAAID,MAAQxB,OAChCiP,EAAOxF,KAAK8e,KAEZ3e,QAAQwe,EAAW,CAAEhoB,KAAMc,OAC3BuI,KAAK4e,GAAM5B,EAAU4B,GACrB5e,KAAK6e,GAAM7e,KAAK4e,GAAMpZ,GACfrF,QAAQwe,EAAW,CAAEtnB,MAAO5B,YACnCuK,KAAK6e,GAAM7B,EAAU6B,GACrB7e,KAAK4e,GAAM5e,KAAK6e,GAAMrZ,GACfmZ,IAAcjpB,SACrBsK,KAAK4e,GAAM5B,EAAU4B,IAAO5B,EAAU8B,KAActZ,GAAQ,EAC5DxF,KAAK6e,GAAM7e,KAAK4e,GAAMpZ,EAE9B,EAEOqX,CACX,CAnOU,CAmORlqB,OAEF,SAASyrB,YAAYnjB,EAAGC,EAAGohB,EAAIC,EAAIG,GAC/B,IAAIT,EAAQ1Y,IAAImZ,GAEhB,OAAO,IAAIf,QACPW,GAAMrhB,EAAIqhB,GAAMla,KAAK+Z,IAAIF,IAAU/gB,EAAIqhB,GAAMna,KAAKia,IAAIJ,GACtDM,GAAMthB,EAAIqhB,GAAMla,KAAKia,IAAIJ,IAAU/gB,EAAIqhB,GAAMna,KAAK+Z,IAAIF,GAE9D,CAEA,IAAI8C,KAAQ,SAAUpsB,GAClB,SAASosB,EAAK5J,EAAQ6J,EAAarC,EAAQsC,EAAYvC,GACnD/pB,EAAMwO,KAAKnB,MAEXA,KAAKmV,OAASA,EACdnV,KAAKgf,YAAcA,EACnBhf,KAAK2c,OAASA,EACd3c,KAAKif,WAAaA,EAClBjf,KAAK0c,MAAQA,CACjB,CAyHA,OAvHK/pB,IAAQosB,EAAKtmB,UAAY9F,GAC9BosB,EAAKve,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC/Cue,EAAKve,UAAUhE,YAAcuiB,EAE7BA,EAAKve,UAAU7D,MAAQ,WACnB,OAAO,IAAIoiB,EAAK/e,KAAKmV,OAAQnV,KAAKgf,YAAahf,KAAK2c,OAAQ3c,KAAKif,WAAYjf,KAAK0c,MACtF,EAEAqC,EAAKve,UAAU0e,OAAS,WACpB,OAAOlf,KAAKif,WAAajf,KAAK0c,MAAQ,CAC1C,EAEAqC,EAAKve,UAAU2e,UAAY,SAAoBC,EAAWJ,GAOtD,OANIA,EACAhf,KAAKgf,YAAcI,EAEnBpf,KAAK2c,OAASyC,EAGXpf,IACX,EAGA+e,EAAKve,UAAUsb,MAAQ,SAAgBY,EAAOsC,GAC1C,IAAIK,EAAc9b,IAAImZ,GAClB4C,EAAKld,KAAK+Z,IAAIkD,GACdE,EAAKnd,KAAKia,IAAIgD,GACd1C,EAASqC,EAAchf,KAAKgf,YAAchf,KAAK2c,OAC/C1hB,EAAIuI,QAAQxD,KAAKmV,OAAOla,EAAKqkB,EAAK3C,EAAS/mB,iBAC3CsF,EAAIsI,QAAQxD,KAAKmV,OAAOja,EAAKqkB,EAAK5C,EAAS/mB,iBAE/C,OAAO,IAAI+lB,QAAQ1gB,EAAGC,EAC1B,EAEA6jB,EAAKve,UAAUgf,YAAc,SAAsBpK,EAAU5a,EAAOmR,GAChE,IAAI8T,EAASzf,KAAKrD,QAAQ8gB,OAAOrI,GAC7BsK,EAAWD,EAAOP,SAClBS,EAAWF,EAAO3D,MAAM4D,GACxBE,EAAKplB,EAAQ,EACbqlB,EAAKlU,EAAS,EACdmU,EAAK1d,KAAKia,IAAI9Y,IAAImc,IAClBK,EAAK3d,KAAK+Z,IAAI5Y,IAAImc,IAClBzkB,EAAI0kB,EAAS1kB,EAAI2kB,EACjB1kB,EAAIykB,EAASzkB,EAAI2kB,EAUrB,OARIzd,KAAKkZ,IAAIwE,GAAM,KACf7kB,GAAK2kB,GAAMG,EAAK3d,KAAKkZ,IAAIyE,IAGzB3d,KAAKkZ,IAAIyE,GAAM,KACf7kB,GAAK2kB,GAAMC,EAAK1d,KAAKkZ,IAAIwE,IAGtB,IAAIjD,IAAI5hB,EAAGC,EAAGD,EAAIT,EAAOU,EAAIyQ,EACxC,EAEAoT,EAAKve,UAAUqd,cAAgB,SAAwBmC,GACnD,IAAI7K,EAASnV,KAAKmV,OACd6J,EAAchf,KAAKgf,YACnBrC,EAAS3c,KAAK2c,OACdsC,EAAajf,KAAKif,WAClBgB,EAAWjgB,KAAKif,WAAajf,KAAK0c,MAClCzH,EAAK+K,EAAE/kB,EAAIka,EAAOla,EAClBia,EAAK8K,EAAE9kB,EAAIia,EAAOja,EAClBglB,EAAS,IAAIvE,QAAQ1G,EAAIC,GACzBiL,EAAangB,KAAK8b,MAAMmD,GACxBmB,EAAc,IAAIzE,QAAQwE,EAAWllB,EAAIka,EAAOla,EAAGklB,EAAWjlB,EAAIia,EAAOja,GACzEmlB,EAAWrgB,KAAK8b,MAAMmE,GACtBK,EAAY,IAAI3E,QAAQ0E,EAASplB,EAAIka,EAAOla,EAAGolB,EAASnlB,EAAIia,EAAOja,GACnEqlB,EAAO/c,QAAQyR,EAAKA,EAAKC,EAAKA,EAAItf,iBAEtC,OAAQwqB,EAAYvE,OAAOqE,IAAWplB,UAAUslB,EAAaF,MACrDplB,UAAUwlB,EAAWJ,IACtBK,GAAQvB,EAAcA,GAAeuB,GAAQ5D,EAASA,CACjE,EAEAoC,EAAKve,UAAUggB,QAAU,WACrB,IASIC,EAPA3D,EAAM,IAAID,IAAIjmB,UAAWA,UAAWE,UAAWA,WAC/CmoB,EAAazb,QAAQxD,KAAKif,WAAa,KACvCgB,EAAWzc,SAASyb,EAAajf,KAAK0c,OAAS,KAC/CsC,EAAchf,KAAKgf,YACnB0B,EAAY,CAAE,EAAG,GAAI,IAAK,IAAKzB,EAAYgB,GAAWU,KAAKC,iBAC3DC,EAAkBH,EAAU3mB,QAAQklB,GACpC6B,EAAgBJ,EAAU3mB,QAAQkmB,GAIlCQ,EADAxB,IAAegB,EACNS,EAELG,EAAkBC,EACTJ,EAAUpX,MAAMuX,EAAiBC,EAAgB,GAEjD,GAAG3Y,OACRuY,EAAUpX,MAAM,EAAGwX,EAAgB,GACnCJ,EAAUpX,MAAMuX,EAAiBH,EAAU7mB,SAKvD,IAAK,IAAIY,EAAI,EAAGA,EAAIgmB,EAAO5mB,OAAQY,IAAK,CACpC,IAAIqhB,EAzBO9b,KAyBU8b,MAAM2E,EAAOhmB,IAClCqiB,EAAIG,UAAUnB,GACdgB,EAAIG,UAAUnB,EAAOkD,EACzB,CAMA,OAJKA,GACDlC,EAAIG,UAAUjd,KAAKmV,QAGhB2H,CACX,EAEAiC,EAAKve,UAAUid,OAAS,SAAiBnkB,GAErC,OADA0G,KAAK2c,QAAUrjB,EACR0G,IACX,EAEO+e,CACX,CAnIW,CAmITpsB,OAEF,SAASiuB,gBAAgBlU,EAAG/D,GACxB,OAAO+D,EAAI/D,CACf,CAEA,IAAIoY,OAAU,SAAUhC,GACpB,SAASgC,EAAO5L,EAAQwH,EAAQsC,EAAYvC,GACxCqC,EAAK5d,KAAKnB,KAAMmV,EAAQ,EAAGwH,EAAQsC,EAAYvC,EACnD,CAoBA,OAlBKqC,IAAOgC,EAAOtoB,UAAYsmB,GAC/BgC,EAAOvgB,UAAYjI,OAAOuN,OAAQiZ,GAAQA,EAAKve,WAC/CugB,EAAOvgB,UAAUhE,YAAcukB,EAE/BA,EAAOvgB,UAAUid,OAAS,SAAiBnkB,GACvC,OAAOylB,EAAKve,UAAUid,OAAOtc,KAAKnB,KAAM1G,EAC5C,EAEAynB,EAAOvgB,UAAU7D,MAAQ,WACrB,OAAO,IAAIokB,EAAO/gB,KAAKmV,OAAQnV,KAAK2c,OAAQ3c,KAAKif,WAAYjf,KAAK0c,MACtE,EAEAqE,EAAOvgB,UAAU2e,UAAY,SAAoBC,GAG7C,OAFApf,KAAK2c,OAASyC,EAEPpf,IACX,EAEO+gB,CACX,CAxBa,CAwBXhC,MAEEiC,gBAAkB,KAElBC,aAAgB,SAAUtuB,GAC1B,SAASsuB,IACLtuB,EAAMgP,MAAM3B,KAAMjD,UACtB,CAsCA,OApCKpK,IAAQsuB,EAAaxoB,UAAY9F,GACtCsuB,EAAazgB,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACvDygB,EAAazgB,UAAUhE,YAAcykB,EAErCA,EAAazgB,UAAU0gB,WAAa,SAAqBzB,EAAQnlB,GAC7D,IAAI2kB,EAAaQ,EAAOR,WAAa,IACjCgB,EAAWR,EAAO/C,MAAQuC,GAGT,IAAjBQ,EAAO/C,OAAe+C,EAAO/C,MAAQ,GAAKuC,IAAegB,KACzDA,GAAYe,iBAGhB,IAAI7L,EAAS,IAAItiB,QAAQ4sB,EAAOtK,OAAOla,EAAGwkB,EAAOtK,OAAOja,GACpDyhB,EAASva,KAAKC,IAAIod,EAAO9C,OAAQ,GACjCqC,EAAc5c,KAAKC,IAAIod,EAAOT,YAAa,GAC3CmC,EAAM,IAAIruB,MAAMqiB,EAAQ,CACxB8J,WAAYA,EACZgB,SAAUA,EACVmB,QAASzE,EACT0E,QAAS1E,IAETviB,EAAOrH,OAAOuuB,QAAQH,EAAK7mB,GAASinB,QAExC,GAAIvC,EAAa,CACbmC,EAAIC,QAAUD,EAAIE,QAAUrC,EAC5B,IAAIwC,EAAWL,EAAIM,QAAQxB,GAC3B7lB,EAAKsnB,OAAOF,EAASvmB,EAAGumB,EAAStmB,GACjCd,EAAK+mB,IAAIlB,EAAUhB,EAAYD,EAAaA,GAAa,EAC7D,MACI5kB,EAAKsnB,OAAOvM,EAAOla,EAAGka,EAAOja,GAGjC,OAAOd,CACX,EAEO6mB,CACX,CA1CmB,CA0CjBtuB,OAEFsuB,aAAatJ,QAAU,IAAIsJ,aAE3B,IAAIU,aAAgB,SAAUhvB,GAC1B,SAASgvB,EAAarnB,GAClB3H,EAAMwO,KAAKnB,MAEXA,KAAK4hB,SAAW,GAEhB5hB,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAAS0F,KAAK6hB,gBAAgBvnB,GACrE,CAkUA,OAhUK3H,IAAQgvB,EAAalpB,UAAY9F,GACtCgvB,EAAanhB,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACvDmhB,EAAanhB,UAAUhE,YAAcmlB,EAErCA,EAAanhB,UAAUqhB,gBAAkB,SAA0BvnB,GAC/D,OAAOA,CACX,EAEAqnB,EAAanhB,UAAUshB,OAAS,SAAiB9E,GAI7C,IAHA,IACIF,EADA8E,EAAW5hB,KAAK4hB,SAGXnnB,EAAI,EAAGA,EAAImnB,EAAS/nB,OAAQY,IAAK,CACtC,IAAIsnB,EAAeH,EAASnnB,GAC5BsnB,EAAaD,OAAO9E,GAEpBF,EAAMA,EAAMA,EAAIC,KAAKgF,EAAajF,KAAOiF,EAAajF,IAAIngB,OAC9D,CAEAqD,KAAK8c,IAAMA,GAAOE,CACtB,EAEA2E,EAAanhB,UAAU0R,QAAU,WAC7B,IAAI0P,EAAW5hB,KAAK4hB,SAEhB5hB,KAAKgiB,WACLhiB,KAAKgiB,UAAU9P,UAGnB,IAAK,IAAIzX,EAAI,EAAGA,EAAImnB,EAAS/nB,OAAQY,IACjCmnB,EAASnnB,GAAGyX,SAEpB,EAEAyP,EAAanhB,UAAUyhB,QAAU,WAC7B,IAAI1Z,EAASvI,KAAKuI,OAElB,OAAOA,EAASA,EAAO0Z,UAAY,IACvC,EAEAN,EAAanhB,UAAU0hB,UAAY,WAC/B,IAAIC,EAAUniB,KAAKoiB,aACnB,GAAID,EACA,OAAOA,EAAQtP,MAEvB,EAEA8O,EAAanhB,UAAU4hB,WAAa,WAEhC,IADA,IAAI3oB,EAAUuG,KACPvG,GAAS,CACZ,GAAIA,EAAQ4oB,aACR,OAAO5oB,EAAQ4oB,aAEnB5oB,EAAUA,EAAQ8O,MACtB,CACJ,EAEAoZ,EAAanhB,UAAU8hB,kBAAoB,SAA4BrN,EAAIC,GAIvE,IAHA,IAAI0M,EAAW5hB,KAAK4hB,SAChBW,EAAgBX,EAAS/nB,OAEpBY,EAAI,EAAGA,EAAI8nB,EAAe9nB,IAC/BmnB,EAASnnB,GAAGqiB,IAAIjiB,UAAUoa,EAAIC,EAEtC,EAEAyM,EAAanhB,UAAUmC,OAAS,WAI5B,IAHA,IAAI7F,EAAcC,UAGTtC,EAAI,EAAGA,EAAIsC,UAAUlD,OAAQY,IAAK,CACvC,IAAIiN,EAAO5K,EAAYrC,GAHZuF,KAIF4hB,SAAStiB,KAAKoI,GACvBA,EAAKa,OALMvI,IAMf,CACJ,EAEA2hB,EAAanhB,UAAUgiB,aAAe,YACL,IAAzBxiB,KAAK1F,QAAQmoB,UAIjBziB,KAAK0iB,eAEL1iB,KAAK2iB,YAEL3iB,KAAK4iB,iBAEL5iB,KAAK6iB,kBACL7iB,KAAK8iB,iBACT,EAEAnB,EAAanhB,UAAUmiB,UAAY,WAC3B3iB,KAAK+iB,SACL/iB,KAAK+iB,OAAOC,aAAehjB,KAEvBA,KAAKuI,QACLvI,KAAKuI,OAAO0a,aAAajjB,KAAK+iB,QAG1C,EAEApB,EAAanhB,UAAUoiB,eAAiB,WAGpC,IAFA,IAAIhB,EAAW5hB,KAAK4hB,SAChB/nB,EAAS+nB,EAAS/nB,OACbY,EAAI,EAAGA,EAAIZ,EAAQY,IACxBmnB,EAASnnB,GAAG+nB,cAEpB,EAEAb,EAAanhB,UAAUkiB,aAAe,WAClC1iB,KAAK+iB,OAAS,IAAI/vB,QAAQ,CACtBkwB,OAAQljB,KAAK1F,QAAQ4oB,OACrBT,QAAS/e,eAAe1D,KAAK1F,QAAQmoB,SAAS,IAEtD,EAEAd,EAAanhB,UAAUqiB,gBAAkB,WACjC7iB,KAAK+iB,QAAU/iB,KAAK1F,QAAQ0nB,YAC5BhiB,KAAKgiB,UAAY/uB,YAAY6S,OACzB9F,KAAK+iB,OAAQ/iB,KAAK1F,QAAQ0nB,WAGtC,EAEAL,EAAanhB,UAAUyiB,aAAe,SAAuBE,GACpDA,EAAYH,eACbG,EAAYH,aAAehjB,MAG3BmjB,EAAY7oB,QAAQ8oB,OACpBpjB,KAAKqjB,WAAWN,OAAOpgB,OAAOwgB,GACvBtgB,QAAQsgB,EAAY7oB,QAAQ4oB,QACnCljB,KAAKsjB,YAAYC,YAAYJ,GACtBnjB,KAAKwjB,YACZxjB,KAAKujB,YAAYJ,GACVnjB,KAAK+iB,OACZ/iB,KAAK+iB,OAAOpgB,OAAOwgB,GAInBnjB,KAAKuI,OAAO0a,aAAaE,EAEjC,EAEAxB,EAAanhB,UAAU6iB,SAAW,WAC9B,OAAIrjB,KAAKuI,OACEvI,KAAKuI,OAAO8a,WAGhBrjB,IACX,EAEA2hB,EAAanhB,UAAU8iB,UAAY,WAC/B,OAAItjB,KAAKuI,OACEvI,KAAKuI,OAAO+a,YAGhBtjB,IACX,EAEA2hB,EAAanhB,UAAU+iB,YAAc,SAAsBJ,GACvD,IAGIrX,EAHAoX,EAASC,EAAY7oB,QAAQ4oB,QAAU,EACvCO,EAAUzjB,KAAK+iB,OAAOnB,SACtB/nB,EAAS4pB,EAAQ5pB,OAGrB,IAAKiS,EAAM,EAAGA,EAAMjS,EAAQiS,IAAO,CAC/B,IAAI4X,EAAUD,EAAQ3X,GAEtB,GADWpI,eAAeggB,EAAQppB,QAAQ4oB,OAAQ,GACvCA,EACP,KAER,CAEAljB,KAAK+iB,OAAOY,OAAO7X,EAAKqX,EAC5B,EAEAxB,EAAanhB,UAAUojB,SAAW,SAAmBlkB,GAIjD,IAHA,IAAIkiB,EAAW5hB,KAAK4hB,SAChB/nB,EAAS+nB,EAAS/nB,OAEbY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIopB,EAAQjC,EAASnnB,GAErBiF,EAASmkB,GACLA,EAAMD,UACNC,EAAMD,SAASlkB,EAEvB,CACJ,EAEAiiB,EAAanhB,UAAUkP,QAAU,SAAkBtQ,GAI/C,IAHA,IAAI3F,EAAUuG,KACV8jB,GAAU,EAEPrqB,IAAYqqB,IACfA,EAAU1kB,EAAM3F,MAGZA,EAAUA,EAAQ8O,QAI1B,GAAIub,EACA,OAAOrqB,CAEf,EAEAkoB,EAAanhB,UAAUsiB,eAAiB,WAA4B,EAEpEnB,EAAanhB,UAAUujB,aAAe,WAClC,IAAIzpB,GAAW0F,KAAK1F,SAAW,CAAC,GAAG0pB,UACnC,SAAUhkB,KAAKikB,iBAAoB3pB,IAA+B,IAApBA,EAAQmoB,UAAuC,IAAjBziB,KAAKyiB,QACrF,EAEAd,EAAanhB,UAAU0jB,gBAAkB,SAA0BC,EAAMC,GACrE,IAAInR,EAAWjT,KAEX1F,GAAW0F,KAAK1F,SAAW,CAAC,GAAG0pB,WAAa,CAAC,EAC7CK,EAAe/pB,EAAQyoB,OACvBiB,EAAYhkB,KAAKskB,WAErB,IAAKN,EAAW,CACZ,IAAIO,EAAmB,CACnBC,KAAM,CACFzb,MAAOjR,QACPssB,QAASA,GAAW,IAExB7pB,OAAQ,CACJwO,MAAOjR,QACP0C,MAAO,EACP4pB,QAASA,GAAW,KAI5B,GAAIC,GAeA,KAdAL,EAAYhkB,KAAKskB,WAAaD,EAC1B9rB,OAAO4a,OAAOnT,KAAKykB,sBAAuB,CACtC/B,aAAc,WAAc,OAAOzP,EAASgR,gBAAgBM,EAAmB,EAC/E1R,OAAQ7S,KAAKkiB,YACbwC,OAAQ1kB,KAAK0kB,OACbC,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf2E,MAAO0G,KAAK1G,MACZsrB,WAAY5kB,KAAK4kB,WACjBC,aAAc7kB,KAAK6kB,aACnBC,MAAO9kB,KAAK8kB,UAKhB,YAGJd,EAAYhkB,KAAKskB,WAAatkB,KAAKikB,gBAAgBM,GAGlD1hB,QAAQmhB,EAAU1pB,QAAQ4oB,UAC3Bc,EAAU1pB,QAAQ4oB,OAASxf,eAAepJ,EAAQ4oB,OAAQljB,KAAK1F,QAAQ4oB,SAG3EljB,KAAKijB,aAAae,EACtB,CAEAA,EAAUvB,QAAQ0B,EACtB,EAEAxC,EAAanhB,UAAUukB,qBAAuB,SAA+BZ,GACzE,IAAI7pB,IAAY0F,KAAK1F,SAAW,CAAC,GAAG0qB,eAAiB,CAAC,GAAGhB,WAAa,CAAC,EACnEiB,EAAiBjlB,KAAKklB,gBAE1B,GAAKf,GAASc,EAAd,CAIA,IAAKA,EAAgB,CACjB,IACIE,EAAiBrc,cADA9I,KAAKiiB,UAAU3nB,QAAQ8qB,YAExCC,EAAwB,CACxBb,KAAM,CACFJ,QAAS9pB,EAAQ8pB,QACjBrb,MAAOzO,EAAQyO,OAEnBxO,OAAQhC,OAAO4a,OAAO,CAAC,EAAG,CAACpK,MAAOoc,GAAiB7qB,EAAQgrB,QAC3DpC,OAAQ5oB,EAAQ4oB,QAGpB+B,EAAiBjlB,KAAKklB,gBAAkBllB,KAAKulB,qBAAqBF,GAElErlB,KAAKijB,aAAagC,EACtB,CAEAA,EAAexC,QAAQ0B,EAnBvB,CAoBJ,EAEAxC,EAAanhB,UAAUglB,sBAAwB,SAAgC/rB,EAASa,EAASmrB,GAC7F,IAAIC,EAAU,IAAI3yB,OAAOwF,OAAO4a,OAAO,CACnC5Y,OAAQ,CACJwO,MAAO,QAEXyb,KAAMxkB,KAAK2lB,eAAeF,GAC1BG,OAAQnsB,EAAQa,QAAQsrB,QACzBtrB,IAIH,OAFAorB,EAAQhrB,SAASmrB,SAASpsB,EAAQiB,SAASmrB,YAEpCH,CACX,EAEA/D,EAAanhB,UAAUmlB,eAAiB,SAAyBrrB,GAC7D,GAAI0F,KAAKuI,OACL,OAAOvI,KAAKuI,OAAOod,eAAerrB,EAE1C,EAEAqnB,EAAanhB,UAAUslB,6BAA+B,WAClD,OAAO,CACX,EAEOnE,CACX,CA1UmB,CA0UjBhvB,OAEFgvB,aAAanhB,UAAUlG,QAAU,CAAE,EAEnC,IAAIyrB,YAAc7yB,cACd8yB,uBAAyB7yB,yBACzB8yB,kBAAoB7yB,oBACpB8yB,uBAAyB7yB,yBACzB8yB,YAAc7yB,cAEd8yB,WAAa,CACbC,KAAMN,YACNO,gBAAiBN,uBACjBO,WAAYN,kBACZO,gBAAiBN,uBACjBO,KAAMN,aAGV,SAASO,gBAAgBpsB,EAASwhB,GAC9B,OAAOhgB,WAAWxB,GAAWA,EAAQwhB,GAASxhB,CAClD,CAEA,SAASqsB,kBAAkBrsB,EAASkqB,EAAM1I,GACtC,IAAI8K,EAAiBF,gBAAgBpsB,EAASwhB,GAC1C+K,EAAUD,GAAkBR,WAAWQ,EAAe/iB,MAE1D,OAAOgjB,EAAUA,EAAQtuB,OAAO4a,OAAO,CAAC,EAAGqR,EAAMoC,IAAmBpC,CACxE,CAEA,IAAIsC,WAAc,SAAUnF,GACxB,SAASmF,EAAWxsB,GAChBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK1F,QAAQysB,OAASjpB,WAAWkC,KAAK1F,QAAQysB,QAC9C/mB,KAAK1F,QAAQqjB,QAAU7f,WAAWkC,KAAK1F,QAAQqjB,QACnD,CAwGA,OAtGKgE,IAAemF,EAAWruB,UAAYkpB,GAC3CmF,EAAWtmB,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACnEsmB,EAAWtmB,UAAUhE,YAAcsqB,EAEnCA,EAAWtmB,UAAUshB,OAAS,SAAiB9E,GAC3C,IAUIF,EAVA7J,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACfE,EAAQF,EAAQE,MAChBmR,EAASrR,EAAQqR,OACjBqb,EAAc1sB,EAAQ0sB,YACtBC,EAAazsB,GAASmR,EACtBob,EAASzsB,EAAQysB,OACjBpJ,EAAUrjB,EAAQqjB,QAClBuJ,EAAc5sB,EAAQgrB,OAAO9qB,MAG7B2sB,EAAmB,WACnBlU,EAASyL,MAAM1B,EAAWhlB,EAAGsC,EAAQokB,OACrCzL,EAASyL,MAAM1B,EAAW/kB,EAAGqC,EAAQ8sB,QACrCnU,EAASoU,WAAavK,EAAIngB,QAAQihB,MAAMmJ,GAAQnJ,MAAMsJ,EAC1D,EAEII,EAAatK,EAAUrgB,QACvBsqB,IACAK,EAAWvS,GAAKuS,EAAW1S,GAAKpa,EAChC8sB,EAAWtS,GAAKsS,EAAWxS,GAAKnJ,GAGhCqb,GACAM,EAAW1J,MAAMmJ,GAAQnJ,MAAMsJ,GAAatJ,MAAMD,GAGtDgE,EAAanhB,UAAUshB,OAAO3gB,KAAKnB,KAAMsnB,GAGrCxK,EADAmK,EACMjnB,KAAK8c,IAAM,IAAID,IAAI,EAAG,EAAGriB,EAAOmR,GAEhC3L,KAAK8c,IAGXkK,GAAeC,GACfE,IACAG,EAAatnB,KAAKsnB,WAAatnB,KAAKqnB,WAAW1qB,QAAQihB,MAAMD,KAE7D2J,EAAatnB,KAAKsnB,WAAaxK,EAAIngB,QACnCmgB,EAAIY,IAAIC,GAASD,IAAIwJ,GAAaxJ,IAAIqJ,GACtCI,KAGJnnB,KAAKsiB,kBACDxF,EAAIlI,GAAK0S,EAAW1S,GAAKmS,EAAO3oB,KAAO8oB,EAAcvJ,EAAQvf,KAC7D0e,EAAIhI,GAAKwS,EAAWxS,GAAKiS,EAAO9oB,IAAMipB,EAAcvJ,EAAQ1f,KAIhE,IADA,IAAI2jB,EAAW5hB,KAAK4hB,SACXnnB,EAAI,EAAGA,EAAImnB,EAAS/nB,OAAQY,IAAK,CACtC,IAAIiN,EAAOka,EAASnnB,GACpBiN,EAAKoa,OAAOpa,EAAKoV,IACrB,CACJ,EAEAgK,EAAWtmB,UAAUke,MAAQ,SAAgB1B,EAAWrH,EAAMgJ,GAC1D3e,KAAK8c,IAAI4B,MAAM1B,EAAWrH,EAAMgJ,EACpC,EAEAmI,EAAWtmB,UAAU+mB,OAAS,WAC1B,IAAIjtB,EAAU0F,KAAK1F,QACnB,OAAOA,EAAQgrB,OAAO9qB,OAASF,EAAQ8qB,UAC3C,EAEA0B,EAAWtmB,UAAUkiB,aAAe,WAChCf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAE3BA,KAAK1F,QACPmoB,SAAWziB,KAAKunB,UACxBvnB,KAAK+iB,OAAOpgB,OAAO5P,OAAOy0B,SACtBxnB,KAAKqnB,WAAW7I,SAChBxe,KAAKynB,eAGjB,EAEAX,EAAWtmB,UAAUinB,YAAc,WAC/B,IAAIntB,EAAU0F,KAAK1F,QACfgrB,EAAShrB,EAAQgrB,QAAU,CAAC,EAEhC,MAAO,CACH/qB,OAAQ,CACJC,MAAO8qB,EAAO9qB,MACduO,MAAOuc,EAAOvc,MACdqb,QAAS1gB,eAAe4hB,EAAOlB,QAAS9pB,EAAQ8pB,SAChDsD,SAAUpC,EAAOoC,UAErBlD,KAAMmC,kBAAkBrsB,EAAQusB,QAAS,CACrC9d,MAAOzO,EAAQ8qB,WACfhB,QAAS9pB,EAAQ8pB,cAClB5c,GACHmgB,OAAQrtB,EAAQqtB,OAExB,EAEOb,CACX,CA/GiB,CA+GfnF,cAkBF,SAASiG,mCAAmC7E,EAAQ8E,GAC5CA,IACA9E,EAAOzoB,QAAQR,UAAY+tB,EAAqB/tB,UAChDipB,EAAOzoB,QAAQwtB,KAAOD,EAAqBC,KAC3C/E,EAAOzoB,QAAQytB,UAAYF,EAAqBE,UAChDhF,EAAOzoB,QAAQ0tB,oBAAsBH,EAAqBG,oBAC1DjF,EAAOzoB,QAAQ2tB,YAAcJ,EAAqBI,YAE1D,CAxBArkB,kBAAkBkjB,WAAY,CAC1BpI,MAAO/nB,KACPywB,OAAQ3vB,IACRsvB,OAAQ,CAAC,EACTpJ,QAAS,CAAC,EACV2H,OAAQ,CACJvc,MAAOvT,QACPgF,MAAO,GAEX4qB,WAAY,GACZ4B,aAAa,EACbxsB,MAAO,EACPmR,OAAQ,EACR8W,SAAS,IAab,IAAIyF,aAAgB,SAAUpB,GAC1B,SAASoB,EAAa5tB,EAAS6tB,GAC3BrB,EAAW3lB,KAAKnB,KAAM1F,GAEtB0F,KAAKmoB,UAAYA,CACrB,CA2GA,OAzGKrB,IAAaoB,EAAazvB,UAAYquB,GAC3CoB,EAAa1nB,UAAYjI,OAAOuN,OAAQghB,GAAcA,EAAWtmB,WACjE0nB,EAAa1nB,UAAUhE,YAAc0rB,EAErCA,EAAa1nB,UAAU4nB,WAAa,WAChC,IACI9tB,EADM0F,KACQ1F,QACdwiB,EAFM9c,KAEIqnB,WACVxjB,EAAOvJ,EAAQuJ,KACfqa,EAAW5jB,EAAQ4jB,SACnB/I,EAAS2H,EAAI3H,SACbkT,EAAYvL,EAAItiB,QAAU,EAC1B8tB,EAAaxL,EAAInR,SAAW,EAEhC,IAAKrR,EAAQmoB,UAAYziB,KAAKunB,SAC1B,OAAO,KAGX,IACI9tB,EADAgE,EAAQuC,KAAKynB,cAGjB,GAAI5jB,IAASlO,OACT8D,EAAU,IAAIlG,SACV,IAAIC,SAAS,CACTgQ,QAAQsZ,EAAIlI,GAAKyT,EAAWzyB,iBAC5B4N,QAAQsZ,EAAIhI,GAAKwT,EAAY1yB,kBAC9BwM,KAAKmF,IAAI8gB,EAAWC,IACvB7qB,QAED,GAAIoG,IAASnM,SAChB+B,EAAU1G,OAAOw1B,WAAW,CACxB,CAAEzL,EAAIlI,GAAKyT,EAAWvL,EAAIhI,IAC1B,CAAEgI,EAAIlI,GAAIkI,EAAI9H,IACd,CAAE8H,EAAI/H,GAAI+H,EAAI9H,KACfvX,GAAO8jB,aACP,GAAI1d,IAAShO,OAChB4D,EAAU,IAAIhG,UAAUgK,IAEhB+qB,OAAO1L,EAAIlI,GAAIkI,EAAIhI,IAAI4M,OAAO5E,EAAI/H,GAAI+H,EAAI9H,IAClDvb,EAAQ+uB,OAAO1L,EAAIlI,GAAIkI,EAAI9H,IAAI0M,OAAO5E,EAAI/H,GAAI+H,EAAIhI,QAC/C,CACH,IAAI2T,EAAO3L,EAAI0B,SACf,GAAI3a,IAASvM,aAAc,CACvB,IAAIoxB,EAAehlB,eAAepJ,EAAQouB,aAAcD,EAAKjuB,QAAU,GACvEiuB,EAAKE,gBAAgBD,EACzB,CAEAjvB,EAAU1G,OAAOy0B,SAASiB,EAAMhrB,EACpC,CAUA,OARIygB,GACAzkB,EAAQ/F,UAAUA,YACbqoB,QAAQmC,EAAU,CAAE/I,EAAOla,EAAGka,EAAOja,KAI9CzB,EAAQa,QAAQ4oB,OAAS5oB,EAAQ4oB,OAE1BzpB,CACX,EAEAyuB,EAAa1nB,UAAU4G,cAAgB,WACnC,IAAI6L,EAAWjT,KAEXqkB,EAAerkB,KAAK1F,QAAQyoB,OAC5BoF,EAAYnoB,KAAKmoB,WAAa,CAAC,EAkBnC,OAfI9D,EACSA,EAAa,CAClB/qB,MAAO6uB,EAAU7uB,MACjBqrB,SAAUwD,EAAUxD,SACpB9R,OAAQ7S,KAAKkiB,YACbwC,OAAQyD,EAAUzD,OAClB/vB,SAAUwzB,EAAUxzB,SACpB8zB,KAAMzoB,KAAKqnB,WAAW7I,SACtBlkB,QAAS0F,KAAK4oB,gBACdlG,aAAc,WAAc,OAAOzP,EAASmV,YAAc,IAGrDpoB,KAAKooB,YAItB,EAEAF,EAAa1nB,UAAUooB,cAAgB,WACnC,IAAItuB,EAAU0F,KAAK1F,QACnB,MAAO,CACH8qB,WAAY9qB,EAAQ8qB,WACpBE,OAAQhrB,EAAQgrB,OAChByB,OAAQzsB,EAAQysB,OAChBpJ,QAASrjB,EAAQqjB,QACjB9Z,KAAMvJ,EAAQuJ,KACd2B,KAAMlL,EAAQE,MACdioB,QAASnoB,EAAQmoB,QAEzB,EAEAyF,EAAa1nB,UAAUkiB,aAAe,WAClC1iB,KAAK+iB,OAAS/iB,KAAKoH,gBAEnBwgB,mCAAmC5nB,KAAK+iB,OAAQ/iB,KAAK1F,QAAQutB,qBACjE,EAEOK,CACX,CAjHmB,CAiHjBpB,YAEFljB,kBAAkBskB,aAAc,CAC5BrkB,KAAMlO,OACN+oB,MAAOhpB,OACP0xB,OAAQ1xB,SAGZ,IAAImzB,SAAW,SACXC,OAAS,SAETC,UAAY,CACZC,MAAO,CACHnlB,KAAMglB,SACN3K,SAAU,EACV+K,MAAO,CAAE,CACL5uB,OAAQ,EACR0O,MAAOjR,QACPssB,QAAS,GACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,IACV,CACC/pB,OAAQ,EACR0O,MAAOjR,QACPssB,QAAS,KAGjB8E,WAAY,CACRrlB,KAAMilB,OACNG,MAAO,CAAE,CACL5uB,OAAQ,EACR0O,MAAOjR,QACPssB,QAAS,KACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,GACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,OAGjB+E,aAAc,CACVtlB,KAAMilB,OACNG,MAAO,CAAE,CACL5uB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,IACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KAGjBgF,aAAc,CACVvlB,KAAMilB,OACNO,YAAY,EACZJ,MAAO,CAAE,CACL5uB,OAAQ,EACR0O,MAAOjR,QACPssB,QAAS,GACV,CACC/pB,OAAQ,GACR0O,MAAOjR,QACPssB,QAAS,IACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KAGjBkF,WAAY,CACRzlB,KAAMilB,OACNO,YAAY,EACZJ,MAAO,CAAE,CACL5uB,OAAQ,EACR0O,MAAOjR,QACPssB,QAAS,IACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KACV,CACC/pB,OAAQ,IACR0O,MAAOjR,QACPssB,QAAS,KAGjBmF,aAAc,CACV1lB,KAAMilB,OACN3T,OAAQ,CAAE,GAAK,IACfwH,OAAQ,KAIhB,SAAS6M,QAAQC,EAAG5c,GAChB,GAAI4c,EAAE7U,KAAO/H,EAAE+H,IAAM6U,EAAE3U,KAAOjI,EAAEiI,IAAM2U,EAAE1U,KAAOlI,EAAEkI,IAAM0U,EAAEzU,KAAOnI,EAAEmI,GAC9D,OAAOnI,EAGX,IAAIH,EAAItK,KAAKmF,IAAIkiB,EAAE7U,GAAI/H,EAAE+H,IACrBjM,EAAIvG,KAAKC,IAAIonB,EAAE7U,GAAI/H,EAAE+H,IACrBhM,EAAIxG,KAAKmF,IAAIkiB,EAAE1U,GAAIlI,EAAEkI,IACrB2U,EAAItnB,KAAKC,IAAIonB,EAAE1U,GAAIlI,EAAEkI,IACrB/S,EAAII,KAAKmF,IAAIkiB,EAAE3U,GAAIjI,EAAEiI,IACrBjM,EAAIzG,KAAKC,IAAIonB,EAAE3U,GAAIjI,EAAEiI,IACrB6U,EAAIvnB,KAAKmF,IAAIkiB,EAAEzU,GAAInI,EAAEmI,IACrB4U,EAAIxnB,KAAKC,IAAIonB,EAAEzU,GAAInI,EAAEmI,IACrB6U,EAAQ,GA2BZ,OAdAA,EAAM,GAAK,IAAIhN,IAAIlU,EAAG3G,EAAG4G,EAAGC,GAC5BghB,EAAM,GAAK,IAAIhN,IAAInQ,EAAG7D,EAAGF,EAAGghB,GAC5BE,EAAM,GAAK,IAAIhN,IAAIjU,EAAGC,EAAG6gB,EAAGC,GAC5BE,EAAM,GAAK,IAAIhN,IAAIlU,EAAGghB,EAAG/gB,EAAGghB,GAGxBH,EAAE7U,KAAOlI,GAAK+c,EAAE3U,KAAO9S,GAAK6K,EAAE+H,KAAOlI,GAAKG,EAAEiI,KAAO9S,GACnD6nB,EAAM,GAAK,IAAIhN,IAAInQ,EAAG1K,EAAG2G,EAAGE,GAC5BghB,EAAM,GAAK,IAAIhN,IAAIjU,EAAG+gB,EAAGD,EAAGE,KAE5BC,EAAM,GAAK,IAAIhN,IAAIjU,EAAG5G,EAAG0nB,EAAG7gB,GAC5BghB,EAAM,GAAK,IAAIhN,IAAInQ,EAAGid,EAAGhhB,EAAGihB,IAGzBpqB,KAAKqqB,GAAO,SAAS/M,GACxB,OAAOA,EAAInR,SAAW,GAAKmR,EAAItiB,QAAU,CAC7C,IAAG,EACP,CAEA,IAAIsvB,YAAe,SAAUnI,GACzB,SAASmI,EAAYxvB,GACjBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB,IAAIyvB,EAAc/pB,KAAK1F,QACvByvB,EAAYvvB,MAAQwvB,SAASD,EAAYvvB,MAAO,IAChDuvB,EAAYpe,OAASqe,SAASD,EAAYpe,OAAQ,IAElD3L,KAAKiqB,UAAY,CAAC,CACtB,CAuFA,OArFKtI,IAAemI,EAAYrxB,UAAYkpB,GAC5CmI,EAAYtpB,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACpEspB,EAAYtpB,UAAUhE,YAAcstB,EAEpCA,EAAYtpB,UAAUshB,OAAS,WAC3B,IACIxnB,EADM0F,KACQ1F,QACdsnB,EAFM5hB,KAES4hB,SACfsI,EAAa,IAAIrN,IAAI,EAAG,EAAGviB,EAAQE,MAAOF,EAAQqR,QAEtD3L,KAAK8c,IAAMoN,EAAWtM,MAAMtjB,EAAQysB,QAEpC,IAAK,IAAItsB,EAAI,EAAGA,EAAImnB,EAAS/nB,OAAQY,IACjCmnB,EAASnnB,GAAGqnB,OAAOoI,GACnBA,EAAaV,QAAQU,EAAYtI,EAASnnB,GAAGqiB,MAAQ,IAAID,GAEjE,EAEAiN,EAAYtpB,UAAUkiB,aAAe,WACjC1iB,KAAK+iB,OAAS,IAAI/vB,QAClBgN,KAAKmqB,kBACT,EAEAL,EAAYtpB,UAAU2pB,iBAAmB,WACrC,IAAI7vB,EAAU0F,KAAK1F,QACfgrB,EAAShrB,EAAQgrB,QAAU,CAAC,EAC5BxI,EAAM9c,KAAK8c,IAAIngB,QAAQ+gB,IAAIpjB,EAAQysB,QAAQnJ,MAAM0H,EAAO9qB,OAExD4qB,EAAaryB,OAAOy0B,SAAS1K,EAAI0B,SAAU,CAC3CjkB,OAAQ,CACJwO,MAAOuc,EAAO9qB,MAAQ8qB,EAAOvc,MAAQ,GACrCvO,MAAO8qB,EAAO9qB,MACdktB,SAAUpC,EAAOoC,UAErBlD,KAAM,CACFzb,MAAOzO,EAAQ8qB,WACfhB,QAAS9pB,EAAQ8pB,SAErBlB,QAAS,KAGbljB,KAAK+iB,OAAOpgB,OAAOyiB,EACvB,EAEA0E,EAAYtpB,UAAUyhB,QAAU,WAC5B,OAAOjiB,IACX,EAEA8pB,EAAYtpB,UAAUmlB,eAAiB,SAAyBrrB,GAC5D,IAGI8vB,EAHAH,EAAYjqB,KAAKiqB,UACjBI,EAAW/mB,UAAUhJ,GACrBgwB,EAAWvB,UAAUzuB,EAAQgwB,UAGjC,GAAIL,EAAUI,GACVD,EAAkBH,EAAUI,OACzB,CACH,IAAI5E,EAAkBltB,OAAO4a,OAAO,CAAC,EAAGmX,EAAUhwB,GAC5B,WAAlBgwB,EAASzmB,KACTumB,EAAkB,IAAIz2B,eAAe8xB,IAEjCnrB,EAAQ0kB,cACRyG,EAAgBwD,MAAQsB,iBAAiB9E,KAE7C2E,EAAkB,IAAIx2B,eAAe6xB,IACrB4D,YAAqC,IAAxBiB,EAASjB,YAE1CY,EAAUI,GAAYD,CAC1B,CAEA,OAAOA,CACX,EAEAN,EAAYtpB,UAAUgqB,eAAiB,WACnC,IAAIP,EAAYjqB,KAAKiqB,UACrB,IAAK,IAAII,KAAYJ,EACjBA,EAAUI,GAAUI,WAAa,EAEzC,EAEAX,EAAYtpB,UAAUgF,KAAO,WACzB,IAAIlL,EAAU0F,KAAK1F,QACnB,OAAO,IAAIuiB,IAAI,EAAG,EAAGviB,EAAQE,MAAOF,EAAQqR,OAChD,EAEOme,CACX,CAjGkB,CAiGhBnI,cAcF,SAAS4I,iBAAiBjwB,GAMtB,IALA,IAAI2uB,EAAQ3uB,EAAQ2uB,MAChByB,EAAcpwB,EAAQ0kB,YAAc1kB,EAAQqiB,OAAU,IACtD9iB,EAASovB,EAAMpvB,OACf8wB,EAAe,GAEVlwB,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAImwB,EAAcryB,OAAO4a,OAAO,CAAC,EAAG8V,EAAMxuB,IAC1CmwB,EAAYvwB,QAAUuwB,EAAYvwB,QAAU,IAAMqwB,GAAaA,GAAa,IAC5EC,EAAarrB,KAAKsrB,EACtB,CAEA,OAAOD,CACX,CAzBA/mB,kBAAkBkmB,YAAa,CAC3BtvB,MAAOtE,gBACPyV,OAAQ3V,iBACRovB,WAAYttB,QACZwtB,OAAQ,CACJvc,MAAOvT,QACPgF,MAAO,GAEXusB,OAAQjpB,WAAW,GACnBolB,QAAS,IAkBb,IAAI2H,aAAgB,SAAUlJ,GAC1B,SAASkJ,EAAavwB,GAClBqnB,EAAaxgB,KAAKnB,KAAM1F,GACxB0F,KAAK8qB,gBACT,CAgKA,OA9JKnJ,IAAekJ,EAAapyB,UAAYkpB,GAC7CkJ,EAAarqB,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrEqqB,EAAarqB,UAAUhE,YAAcquB,EAErCA,EAAarqB,UAAUsqB,eAAiB,WACpC,IAAIxwB,EAAU0F,KAAK1F,QACfA,EAAQywB,UACR/qB,KAAKgrB,UAAYhzB,EACjBgI,KAAKirB,YAAchzB,EACnB+H,KAAKkrB,eAAiBnzB,MACtBiI,KAAKmrB,iBAAmB50B,OACxByJ,KAAKorB,aAAe9wB,EAAQ0D,QAC5BgC,KAAKqrB,eAAiB/wB,EAAQgxB,WAE9BtrB,KAAKgrB,UAAY/yB,EACjB+H,KAAKirB,YAAcjzB,EACnBgI,KAAKkrB,eAAiB30B,OACtByJ,KAAKmrB,iBAAmBpzB,MACxBiI,KAAKorB,aAAe9wB,EAAQgxB,SAC5BtrB,KAAKqrB,eAAiB/wB,EAAQ0D,QAEtC,EAEA6sB,EAAarqB,UAAUshB,OAAS,SAAiB9E,GAC7Chd,KAAK8c,IAAME,EAAUrgB,QACrBqD,KAAKurB,gBACT,EAEAV,EAAarqB,UAAU+qB,eAAiB,WACpC,IAAItY,EAAWjT,KAEX0C,EAAM1C,KACN8c,EAAMpa,EAAIoa,IACVmO,EAAcvoB,EAAIuoB,YAClBD,EAAYtoB,EAAIsoB,UAChBG,EAAmBzoB,EAAIyoB,iBACvBD,EAAiBxoB,EAAIwoB,eACrBM,EAAQxrB,KAAKyrB,eACbC,EAASF,EAAME,OACfC,EAAaH,EAAMG,WACnBC,EAAuBJ,EAAMI,qBAC7BC,EAAcH,EAAO7xB,OACrBiyB,EAAchP,EAAIkO,EAAY,GAAKhrB,KAAK+rB,WAAWJ,EAAY7O,EAAIoO,MAEvE,GAAIW,EAAa,CAGb,IAFA,IAAIG,EAAaF,EAERG,EAAW,EAAGA,EAAWJ,EAAaI,IAAY,CAMvD,IALA,IAAIC,EAAQR,EAAOO,GACfE,EAAgBD,EAAMC,cACtBC,EAAetP,EAAImO,EAAc,GACjCoB,EAAqBF,EAActyB,OAE9BD,EAAM,EAAGA,EAAMyyB,EAAoBzyB,IAAO,CAC/C,IAAIH,EAAU0yB,EAAcvyB,GACxBoJ,EAAciQ,EAASjQ,YAAYvJ,GACnC6yB,EAAoBN,EAAa/Y,EAAS8Y,WAAW/oB,EAAYkoB,GAAiBgB,EAAMK,WAExFC,EAAa,IAAI3P,IACrB2P,EAAWxB,EAAY,GAAKsB,EAC5BE,EAAWxB,EAAY,GAAKsB,EAAoBtpB,EAAYkoB,GAC5DsB,EAAWvB,EAAc,GAAKmB,EAC9BI,EAAWvB,EAAc,GAAKmB,EAAeppB,EAAYmoB,GAEzD1xB,EAAQqoB,OAAO0K,GAEfJ,GAAgBppB,EAAYmoB,GAAoBlY,EAASoY,cAC7D,CACAW,GAAcE,EAAMK,UAAYtZ,EAASmY,YAC7C,CACAtO,EAAIkO,EAAY,GAAKc,EACrBhP,EAAIkO,EAAY,GAAKc,EAAcH,EACnC7O,EAAImO,EAAc,GAAKnO,EAAImO,EAAc,GAAKW,CAClD,CACJ,EAEAf,EAAarqB,UAAUurB,WAAa,SAAqBvmB,EAAMinB,GAC3D,IAAIpsB,EAAQ,EACRqe,EAAQ1e,KAAK1F,QAAQokB,MAMzB,OALIA,IAAUrnB,OAASqnB,IAAUjpB,SAC7B4K,EAAQosB,EAAUjnB,EACXkZ,IAAUhpB,SACjB2K,GAASosB,EAAUjnB,GAAQ,GAExBnF,CACX,EAEAwqB,EAAarqB,UAAUirB,aAAe,WAoBlC,IAnBA,IAEI/oB,EAAM1C,KACN8c,EAAMpa,EAAIoa,IACV8E,EAAWlf,EAAIkf,SACfuJ,EAAmBzoB,EAAIyoB,iBACvBD,EAAiBxoB,EAAIwoB,eACrBG,EAAiB3oB,EAAI2oB,eACrBD,EAAe1oB,EAAI0oB,aACnBqB,EAAUjpB,QAAQsZ,EAAIqO,MACtB5I,EAAgBX,EAAS/nB,OACzB6xB,EAAS,GAETa,EAAY,EACZG,EAAoB,EACpBf,EAAa,EACbC,EAAuB,EACvBO,EAAgB,GAEXvyB,EAAM,EAAGA,EAAM2oB,EAAe3oB,IAAO,CAC1C,IAAIH,EAAUmoB,EAAShoB,GAClBH,EAAQqjB,KACTrjB,EAAQqoB,OAAOhF,GAGnB,IAAI9Z,EAzBOhD,KAyBgBgD,YAAYvJ,GAzB5BuG,KA0BE1F,QAAQyiB,MAAQvZ,QAAQkpB,EAAoBrB,EAAiBroB,EAAYmoB,IAAqBsB,IACvGf,EAAOpsB,KAAK,CACR6sB,cAAeA,EACfI,UAAWA,EACXG,kBAAmBA,IAEvBd,EAAuBxpB,KAAKC,IAAIupB,EAAsBc,GACtDf,GAAcP,EAAemB,EAC7BA,EAAY,EACZG,EAAoB,EACpBP,EAAgB,IAEpBI,EAAYnqB,KAAKC,IAAIkqB,EAAWvpB,EAAYkoB,IACxCwB,EAAoB,IACpBA,GAAqBrB,GAEzBqB,GAAqB1pB,EAAYmoB,GACjCgB,EAAc7sB,KAAK7F,EACvB,CAUA,OARAiyB,EAAOpsB,KAAK,CACR6sB,cAAeA,EACfI,UAAWA,EACXG,kBAAmBA,IAKhB,CACHhB,OAAQA,EACRC,WAJJA,GAAcY,EAKVX,qBANJA,EAAuBxpB,KAAKC,IAAIupB,EAAsBc,GAQ1D,EAEA7B,EAAarqB,UAAUwC,YAAc,SAAsBvJ,GACvD,MAAO,CACHe,MAAOf,EAAQqjB,IAAItiB,QACnBmR,OAAQlS,EAAQqjB,IAAInR,SAE5B,EAEAkf,EAAarqB,UAAUkiB,aAAe,WAA0B,EAEzDmI,CACX,CArKmB,CAqKjBlJ,cAEF/d,kBAAkBinB,aAAc,CAC5BE,UAAU,EACVhO,MAAM,EACNuO,SAAU,EACVttB,QAAS,IAGb,IAAI2uB,YAAc94B,OAEd+4B,OAAU,SAAUjL,GACpB,SAASkL,EAAKnuB,EAASpE,GACnBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKtB,QAAUA,EAGfsB,KAAK8hB,OAAO,IAAIjF,IACpB,CAkCA,OAhCK8E,IAAekL,EAAKp0B,UAAYkpB,GACrCkL,EAAKrsB,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC7DqsB,EAAKrsB,UAAUhE,YAAcqwB,EAE7BA,EAAKrsB,UAAUshB,OAAS,SAAiB9E,GACrC,IAAI1iB,EAAU0F,KAAK1F,QACfkL,EAAOlL,EAAQkL,KAAO1R,YAAYkM,KAAKtB,QAAS,CAAE8F,KAAMlK,EAAQkK,OAEpExE,KAAK8sB,SAAWtnB,EAAKsnB,SAErB9sB,KAAK8c,IAAM,IAAID,IAAIG,EAAUpI,GAAIoI,EAAUlI,GACvCkI,EAAUpI,GAAKpP,EAAKhL,MAAOwiB,EAAUlI,GAAKtP,EAAKmG,OACvD,EAEAkhB,EAAKrsB,UAAUkiB,aAAe,WAC1B,IAAIhgB,EAAM1C,KAAK1F,QACXkK,EAAO9B,EAAI8B,KACXuE,EAAQrG,EAAIqG,MACZqb,EAAU1hB,EAAI0hB,QACduD,EAASjlB,EAAIilB,OACbptB,EAASmI,EAAInI,OACbwyB,EAAarqB,EAAIqqB,WAErB/sB,KAAK+iB,OAAS,IAAI4J,YAAY3sB,KAAKtB,QAASsB,KAAK8c,IAAI0B,SAASwO,UAAW,CACrExoB,KAAMA,EACNggB,KAAM,CAAEzb,MAAOA,EAAOqb,QAASA,GAC/BuD,OAAQA,EACRptB,OAAQA,EACRwyB,WAAYA,GAEpB,EAEOF,CACX,CA3Ca,CA2CXlL,cAOF,SAASsL,UAAUxE,GACf,IAAIyE,EAASzE,EAAKyE,OACdC,EAAc1E,EAAK0E,cAEvB,OAAO,IAAItQ,IAAIqQ,EAAOjyB,EAAGiyB,EAAOhyB,EAAGiyB,EAAYlyB,EAAGkyB,EAAYjyB,EAClE,CAVA0I,kBAAkBgpB,OAAQ,CACtBpoB,KAAMzO,aACNgT,MAAOvT,UAUX,IAAI43B,iBAAmB,MAEnBC,QAAW,SAAUvG,GACrB,SAASuG,EAAQ3uB,EAASpE,EAASsR,GAC/Bkb,EAAW3lB,KAAKnB,KAAM1F,GACtB0F,KAAKtB,QAAUA,EACfsB,KAAK4L,KAAOA,EAEZ5L,KAAKstB,kBAC4B,IAA7BttB,KAAK1F,QAAQizB,aACbvtB,KAAK8hB,OAAO,IAAIjF,IAExB,CAqJA,OAnJKiK,IAAauG,EAAQ50B,UAAYquB,GACtCuG,EAAQ7sB,UAAYjI,OAAOuN,OAAQghB,GAAcA,EAAWtmB,WAC5D6sB,EAAQ7sB,UAAUhE,YAAc6wB,EAEhCA,EAAQ7sB,UAAU8sB,eAAiB,WAC/B,IAAIhzB,EAAU0F,KAAK1F,QACfkzB,EAAOC,OAAOztB,KAAKtB,SAASoB,MAAMstB,kBAClCM,EAAe,IAAI7C,aAAa,CAAEE,UAAU,EAAMrM,MAAOpkB,EAAQokB,MAAO3B,MAAM,IAC9E4Q,EAAc9wB,WAAW,CAAE,EAAGvC,EAAS,CAAE8pB,QAAS,EAAGpC,UAAW,OAEpEhiB,KAAK4tB,UAAYF,EACjB1tB,KAAK2C,OAAO+qB,GAEZ,IAAK,IAAIG,EAAS,EAAGA,EAASL,EAAK3zB,OAAQg0B,IAAU,CACjD,IAAIC,EAAO,IAAIlB,OAAOY,EAAKK,GAAQE,OAAQJ,GAC3CD,EAAa/qB,OAAOmrB,EACxB,CACJ,EAEAT,EAAQ7sB,UAAUshB,OAAS,SAAiB9E,GACxC,IAAI1iB,EAAU0F,KAAK1F,QACf0zB,EAAW1zB,EAAQyoB,OAGvB,GAFA/iB,KAAK4tB,UAAUtzB,QAAQokB,MAAQpkB,EAAQokB,MAEnCsP,IAAahuB,KAAKiuB,WAAY,CAC9B,IAAIC,EAAYlR,EACXkR,EAAUzP,YACXze,KAAKiuB,YAAa,EAClBjuB,KAAK8hB,OAAOoM,GACZluB,KAAKiuB,YAAa,EAClBC,EAAYluB,KAAK8c,KAErB,IAAIiG,EAAS/iB,KAAK+iB,OAASiL,EAAShuB,KAAKmuB,cAAcD,IAEnDnL,IACAmL,EAAYjB,UAAUlK,EAAOqL,eAAiB,IAAIx7B,MAElDmwB,EAAOzoB,QAAQ4oB,OAAS5oB,EAAQ4oB,QAGpCljB,KAAK8c,IAAM9c,KAAKsnB,WAAatnB,KAAKqnB,WAAa6G,CACnD,MAGI,GAFApH,EAAWtmB,UAAUshB,OAAO3gB,KAAKnB,KAAMgd,GAEnC1iB,EAAQ4jB,SAAU,CAClB,IAAI6I,EAASjpB,WAAWxD,EAAQysB,QAC5BjK,EAAM9c,KAAK8c,IAAIc,MAAMmJ,GAEzB/mB,KAAKgd,UAAYA,EACjBhd,KAAKquB,UAAYvR,EAAIngB,SAErBmgB,EAAM9c,KAAK+b,UACPlhB,UAAUksB,EAAO3oB,KAAO2oB,EAAO7oB,MAAO6oB,EAAO9oB,IAAM8oB,EAAO5oB,QAE9D6B,KAAKsuB,WAAaxR,EAAIngB,QAEtBmgB,EAAIY,IAAIqJ,EACZ,CAER,EAEAsG,EAAQ7sB,UAAUkiB,aAAe,WAC7B,IAAIpoB,EAAU0F,KAAK1F,QAQnB,GANA0F,KAAK+iB,OAAS,IAAI/vB,QAAQ,CACtBU,UAAWsM,KAAKuuB,oBAChBrL,OAAQ5oB,EAAQ4oB,OAChBE,OAAQ9oB,EAAQ8oB,SAGhBpjB,KAAKunB,SAAU,CACf,IAAIzK,EAAM/pB,OAAOy0B,SAASxnB,KAAKqnB,WAAW7I,SAAUxe,KAAKynB,eACzDznB,KAAK+iB,OAAOpgB,OAAOma,EACvB,CACJ,EAEAuQ,EAAQ7sB,UAAUgiB,aAAe,WAC7B,GAAKxiB,KAAK1F,QAAQmoB,QAIlB,GAAIziB,KAAK1F,QAAQyoB,OAAQ,CACrB,IAAIA,EAAS/iB,KAAK+iB,OACdA,IAAWlgB,QAAQkgB,EAAOzoB,QAAQ8oB,UAClCL,EAAOzoB,QAAQ8oB,OAASpjB,KAAK1F,QAAQ8oB,QAEzCpjB,KAAK2iB,YACL3iB,KAAK6iB,iBACT,MACIiE,EAAWtmB,UAAUgiB,aAAarhB,KAAKnB,KAE/C,EAEAqtB,EAAQ7sB,UAAU2tB,cAAgB,SAAwBnR,GACtD,IAAI/J,EAAWjT,KAEXwuB,EAAU,CACVV,KAAM9tB,KAAKtB,QACX+pB,KAAMzL,EAAUwB,SAChB3L,OAAQ7S,KAAKkiB,YACb5nB,QAAS0F,KAAK1F,QACdooB,aAAc,WAIV,OAHAzP,EAASgb,YAAa,EACtBhb,EAAS6O,OAAO9E,GAChB/J,EAASgb,YAAa,EACfhb,EAASwb,kBACpB,GAMJ,OAJIzuB,KAAK4L,MACLrT,OAAO4a,OAAOqb,EAASxuB,KAAK4L,MAGzB4iB,CACX,EAEAnB,EAAQ7sB,UAAUiuB,iBAAmB,WACjCzuB,KAAK0iB,eACL1iB,KAAK4iB,iBACL,IAAIG,EAAS/iB,KAAK+iB,OAElB,cADO/iB,KAAK+iB,OACLA,CACX,EAEAsK,EAAQ7sB,UAAUub,OAAS,WACvB,IAAIzhB,EAAU0F,KAAK1F,QAInB,OAHA0F,KAAK8c,IAAIf,OAAOzhB,EAAQ4jB,UACxBle,KAAK0e,MAAM1e,KAAKgd,UAAWhlB,EAAGsC,EAAQokB,OACtC1e,KAAK0e,MAAM1e,KAAKgd,UAAW/kB,EAAGqC,EAAQ8sB,QAC/BpnB,KAAK8c,GAChB,EAEAuQ,EAAQ7sB,UAAU+tB,kBAAoB,WAClC,IAAIrQ,EAAWle,KAAK1F,QAAQ4jB,SAC5B,IAAKA,EACD,OAAO,KAGX,IAAIxb,EAAM1C,KAAKquB,UAAUlZ,SACrBmH,EAAK5Z,EAAIzH,EACTshB,EAAK7Z,EAAIxH,EACTwzB,EAAY1uB,KAAKsuB,WAAWnZ,SAEhC,OAAOzhB,YACFmH,UAAU6zB,EAAUzzB,EAAIqhB,EAAIoS,EAAUxzB,EAAIqhB,GAC1CR,OAAOmC,EAAU,CAAE5B,EAAIC,GAChC,EAEO8Q,CACX,CAhKc,CAgKZvG,YAEE6H,QAAW,SAAUhN,GACrB,SAASiN,EAAMt0B,GACXqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK6uB,SAAW,IAAIxB,QAAQrtB,KAAK1F,QAAQwzB,KAAMv1B,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,QAAS,CAC3E8sB,OAAQpnB,KAAK1F,QAAQw0B,YAGzB9uB,KAAK2C,OAAO3C,KAAK6uB,SACrB,CAwCA,OAtCKlN,IAAeiN,EAAMn2B,UAAYkpB,GACtCiN,EAAMpuB,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC9DouB,EAAMpuB,UAAUhE,YAAcoyB,EAE9BA,EAAMpuB,UAAUshB,OAAS,SAAiB9E,GACtC2E,EAAanhB,UAAUshB,OAAO3gB,KAAKnB,KAAMgd,GACzChd,KAAK8c,IAAIK,OAAOH,EAAWhlB,EAC/B,EAEA42B,EAAMG,WAAa,SAAqBz0B,EAAS00B,GAC7C,IAQIC,EARAC,EAAe50B,EAanB,MAXuB,iBAAZA,IACP40B,EAAe,CAAEpB,KAAMxzB,KAG3B40B,EAAe32B,OAAO4a,OAAO,CAAEsP,SAAS,GAAQuM,EAAgBE,KAG5CA,EAAazM,SAAWyM,EAAapB,OACrDmB,EAAQ,IAAIL,EAAMM,IAGfD,CACX,EAEAL,EAAMO,YAAc,SAAsBC,GACtC,IAAIC,EAAQ,GAAGlnB,OAAOinB,GAClBnxB,EAAMoxB,EAAM5lB,QAAO,SAAU/B,GAAQ,OAAOA,GAAQA,EAAKpN,QAAQw0B,WAAar5B,QAAU,IACxF0I,EAASkxB,EAAM5lB,QAAO,SAAU/B,GAAQ,OAAOA,GAAQA,EAAKpN,QAAQw0B,WAAar5B,QAAU,IAM/F,OAJA65B,wBAAwBrxB,GACxBqxB,wBAAwBnxB,GAExBA,EAAOoxB,UACAtxB,EAAIkK,OAAOhK,EACtB,EAEOywB,CACX,CAlDc,CAkDZjN,cAEF,SAAS2N,wBAAwBD,GAC7B,IAAK,IAAI50B,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IAAK,CACnC,IAAIqiB,EAAMuS,EAAM50B,GAAGo0B,SACfW,EAAUH,EAAM50B,EAAI,GAAGo0B,SAC3BW,EAAQl1B,QAAQysB,OAASxuB,OAAO4a,OAAOrV,WAAW0xB,EAAQl1B,QAAQysB,QAAS,CAAE5oB,OAAQ,IACrF2e,EAAIxiB,QAAQysB,OAASxuB,OAAO4a,OAAOrV,WAAWgf,EAAIxiB,QAAQysB,QAAS,CAAE9oB,IAAK,GAC9E,CACJ,CAEA2F,kBAAkB+qB,QAAS,CACvB5lB,MAAOvT,QACPs5B,SAAUr3B,IACVinB,MAAOhpB,OACPqxB,OAAQjpB,WAAW,GACnB6f,QAAS7f,WAAW,KAGxB,IAAI2xB,UAAa,SAAUpC,GACvB,SAASoC,EAAUn2B,EAAOw0B,EAAMryB,EAAOkpB,EAAUrqB,GAC7C+yB,EAAQlsB,KAAKnB,KAAM8tB,EAAMxzB,GAEzB0F,KAAK8tB,KAAOA,EACZ9tB,KAAK1G,MAAQA,EACb0G,KAAKvE,MAAQA,EACbuE,KAAK2kB,SAAWA,EAChB3kB,KAAK8hB,OAAO,IAAIjF,IACpB,CA+FA,OA7FKwQ,IAAUoC,EAAUh3B,UAAY40B,GACrCoC,EAAUjvB,UAAYjI,OAAOuN,OAAQunB,GAAWA,EAAQ7sB,WACxDivB,EAAUjvB,UAAUhE,YAAcizB,EAElCA,EAAUjvB,UAAU2tB,cAAgB,SAAwBnR,GACxD,IAAIwR,EAAUnB,EAAQ7sB,UAAU2tB,cAAchtB,KAAKnB,KAAMgd,GAOzD,OALAwR,EAAQl1B,MAAQ0G,KAAK1G,MACrBk1B,EAAQ7J,SAAW3kB,KAAK2kB,SACxB6J,EAAQkB,OAAS1vB,KAAK1F,QAAQo1B,OAC9BlB,EAAQmB,QAAU3vB,KAAK1F,QAAQq1B,QAExBnB,CACX,EAEAiB,EAAUjvB,UAAUovB,MAAQ,SAAgBC,EAAQ7tB,GAEhD6tB,EAAOxuB,QAAQ9L,iBAAkB,CAC7BkE,QAASyJ,aAAalB,GACtB1I,MAAO0G,KAAK1G,MACZw0B,KAAM9tB,KAAK8tB,KACXryB,MAAOuE,KAAKvE,MACZkpB,SAAU3kB,KAAK2kB,SACfhP,KAAM3V,KAAKuI,OAAOjO,SAE1B,EAEAm1B,EAAUjvB,UAAUub,OAAS,WACzB,GAAI/b,KAAK1F,QAAQw1B,gBAAkBp6B,OAAQ,CACvC,IAAIonB,EAAM9c,KAAKquB,UAAU7P,SACrB9qB,EAAYsM,KAAKuuB,oBAErBvuB,KAAK8c,IAAMmQ,UAAUnQ,EAAIiT,KAAKr8B,EAAU4U,UAC5C,MACI+kB,EAAQ7sB,UAAUub,OAAO5a,KAAKnB,MAGlC,OAAOA,KAAK8c,GAChB,EAEA2S,EAAUjvB,UAAU+tB,kBAAoB,WACpC,IAAIj0B,EAAU0F,KAAK1F,QACf4jB,EAAW5jB,EAAQ4jB,SACvB,IAAKA,EACD,OAAO,KAGX,GAAI5jB,EAAQw1B,gBAAkBp6B,OAC1B,OAAO23B,EAAQ7sB,UAAU+tB,kBAAkBptB,KAAKnB,MAGpD,IAAIgwB,EAAiBt8B,YAAYqoB,OAAOmC,GAAU5V,SAC9CwU,EAAM9c,KAAKquB,UAAU7P,SACrBiK,EAAOzoB,KAAKgd,UAAUwB,SAEtByR,EAAiB31B,EAAQ21B,gBAAkBx4B,IAC3Cy4B,EAAYD,IAAmBx4B,KAAOw4B,IAAmBx6B,SAAWuC,EAAIC,EACxEk4B,EAAeF,IAAmBx4B,KAAOw4B,IAAmBx6B,SAAWwC,EAAID,EAC3Eo4B,EAAaH,IAAmBx4B,KAAOw4B,IAAmBt5B,KAAO8xB,EAAKyE,OAASzE,EAAK0E,cAEpFH,EAAUlQ,EAAIkQ,UAAUqD,cAAcL,GACtCM,EAAWxT,EAAIwT,WAAWD,cAAcL,GACxC7C,EAAcrQ,EAAIqQ,cAAckD,cAAcL,GAC9CO,EAAazT,EAAIyT,aAAaF,cAAcL,GAC5C1B,EAAa17B,KAAK21B,WAAWyE,EAASsD,EAAUnD,EAAaoD,GAE7D11B,EAAY,CAAC,EACjBA,EAAUs1B,GAAgB1H,EAAKyE,OAAOiD,GAAgB7B,EAAWpB,OAAOiD,GAExE,IAGIpE,EAAYyE,EAHZC,EAAeruB,KAAKkZ,IAAI0R,EAAQmD,GAAgBt1B,EAAUs1B,GAAgBC,EAAWD,IACrFO,EAAgBtuB,KAAKkZ,IAAIgV,EAASH,GAAgBt1B,EAAUs1B,GAAgBC,EAAWD,IAIvF3sB,QAAQitB,EAAcx6B,qBAAuBuN,QAAQktB,EAAez6B,oBACpE81B,EAAaiB,EACbwD,EAAWF,GACJI,EAAgBD,GACvB1E,EAAauE,EACbE,EAAWrD,IAEXpB,EAAaiB,EACbwD,EAAWD,GAGf,IAAII,EAAc5E,EAAWmE,IAAcM,EAASN,GAAanE,EAAWmE,IAAc,EAG1F,OAFAr1B,EAAUq1B,GAAazH,EAAKtT,SAAS+a,GAAaS,EAE3Cj9B,YACFmH,UAAUA,EAAUI,EAAGJ,EAAUK,GACjC6gB,OAAOmC,EAChB,EAEOuR,CACX,CAzGgB,CAyGdpC,SAEFzpB,kBAAkB6rB,UAAW,CACzBlC,aAAa,IAGjB,IAAIqD,kBAAoB,EACpBC,oBAAsB,OAEtBC,KAAQ,SAAUhK,GAClB,SAASgK,EAAK3xB,EAAQ7E,EAAS+nB,GAC3ByE,EAAW3lB,KAAKnB,KAAM1F,GAEtB0F,KAAKb,OAASA,EACda,KAAKqiB,aAAeA,EAEpBriB,KAAK+wB,QACT,CAsPA,OApPKjK,IAAagK,EAAKr4B,UAAYquB,GACnCgK,EAAKtwB,UAAYjI,OAAOuN,OAAQghB,GAAcA,EAAWtmB,WACzDswB,EAAKtwB,UAAUhE,YAAcs0B,EAE7BA,EAAKtwB,UAAUwwB,KAAO,WAClBhxB,KAAK1F,QAAQmoB,SAAU,CAC3B,EAEAqO,EAAKtwB,UAAU2jB,KAAO,WAClBnkB,KAAK1F,QAAQmoB,SAAU,CAC3B,EAEAqO,EAAKtwB,UAAUuwB,OAAS,WACpB,IAAI9d,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QAEnB,GAAIA,EAAQmoB,QAAS,CACjB,IAMIjoB,EAAOmR,EANPslB,EAAQ32B,EAAQ22B,MAChB/qB,EAAO5L,EAAQ4L,KACf4W,EAAM,IAAID,IACVqU,EAAa,WAAc,OAAOje,CAAU,EAC5CzN,EAAOU,EAAKV,KACZsoB,EAAO9tB,KAAKb,OAAO2uB,KAGvB,GAAIjrB,QAAQouB,IAAUA,EAAMxO,QAAS,CACjC,IAAI0O,EAAe1yB,cAAcwyB,GAC7BE,EACArD,EAAOqD,EAAanxB,KAAKb,QAClB8xB,EAAMvB,SACb5B,EAAO9tB,KAAKqiB,aAAaqN,OAAO0B,KAAKH,EAAMvB,OAAQ5B,IAGlDmD,EAAMloB,QACPkoB,EAAMloB,MAAQkoB,EAAMnC,WAAar4B,SAAWo6B,oBAAsB3qB,EAAKkf,YAG3EplB,KAAKixB,MAAQ,IAAI5D,QAAQS,EAAMjxB,WAAW,CAAC,EAAGo0B,IAC9CjxB,KAAKixB,MAAMI,SAAWH,EAElBD,EAAMnC,WAAar4B,UAAaoM,QAAQ2C,KACpCU,EAAKrC,OAASlO,OACd6P,EAAOpD,KAAKC,IAAIrC,KAAKixB,MAAMnU,IAAItiB,QAASwF,KAAKixB,MAAMnU,IAAInR,WAEvDnR,EAAQwF,KAAKixB,MAAMnU,IAAItiB,QACvBmR,EAAS3L,KAAKixB,MAAMnU,IAAInR,UAE5BmR,EAAIC,KAAK/c,KAAKixB,MAAMnU,KAE5B,CAEA5W,EAAK1L,MAAQA,GAASgL,GAAQorB,kBAC9B1qB,EAAKyF,OAASA,GAAUnG,GAAQorB,kBAEhC,IAAIU,EAAS,IAAIpJ,aAAarrB,WAAW,CAAC,EAAGqJ,IAC7CorB,EAAOD,SAAWH,EAElBlxB,KAAKsxB,OAASA,EACdtxB,KAAK2C,OAAO2uB,GAERtxB,KAAKixB,OACLjxB,KAAK2C,OAAO3C,KAAKixB,OAGrBK,EAAOxP,OAAO,IAAIjF,KAClB7c,KAAKuxB,WAAazU,EAAIC,KAAKuU,EAAOxU,IACtC,CACJ,EAEAgU,EAAKtwB,UAAUshB,OAAS,SAAiB9E,GACrC,IAWQwU,EAAW1U,EAAKwK,EAXpB5kB,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd22B,EAAQvuB,EAAIuuB,MACZK,EAAS5uB,EAAI4uB,OACbC,EAAa7uB,EAAI6uB,WACjBpc,EAAS6H,EAAU7H,SACnBtb,EAASS,EAAQ6R,KAAKtS,OACtBi1B,EAAWx0B,EAAQw0B,SAGnBx0B,EAAQmoB,UAGJtiB,QAAQ2uB,EAAU,CAAEn4B,KAAMU,QACtBy3B,IAAan4B,MACb2wB,EAAaiK,EAAWnU,QAAQJ,EAAW8R,GAAUj0B,WAAWhB,EAAQmjB,EAAU7H,SAASja,EAAIq2B,EAAWpc,SAASja,GAE/GZ,EAAQ6R,KAAKsW,UACb+O,EAAY,CAAExU,EAAUpI,GAAIO,EAAOja,GACnC8E,KAAKyxB,WAAa,CACdD,EACA,CAAElK,EAAWvS,GAAII,EAAOja,IAE5B4hB,EAAMwK,EAAW3qB,QAAQsgB,UAAUuU,MAGvClK,EAAaiK,EAAWnU,QAAQJ,EAAW8R,GAAUj0B,UAAUhB,EAAQmjB,EAAU7H,SAASja,EAAIq2B,EAAWpc,SAASja,GAE9GZ,EAAQ6R,KAAKsW,UACb+O,EAAY,CAAExU,EAAUjI,GAAII,EAAOja,GACnC8E,KAAKyxB,WAAa,CACdD,EACA,CAAElK,EAAW1S,GAAIO,EAAOja,IAE5B4hB,EAAMwK,EAAW3qB,QAAQsgB,UAAUuU,KAIvC1C,IAAar5B,UACb6xB,EAAaiK,EAAWnU,QAAQJ,EAAW8R,GAAUj0B,UAAUmiB,EAAU7H,SAASla,EAAIs2B,EAAWpc,SAASla,EAAGpB,GAEzGS,EAAQ6R,KAAKsW,UACb+O,EAAY,CAAErc,EAAOla,EAAG+hB,EAAUhI,IAClChV,KAAKyxB,WAAa,CACdD,EACA,CAAErc,EAAOla,EAAGqsB,EAAWxS,KAE3BgI,EAAMwK,EAAW3qB,QAAQsgB,UAAUuU,MAGvClK,EAAaiK,EAAWnU,QAAQJ,EAAW8R,GAAUj0B,UAAUmiB,EAAU7H,SAASla,EAAIs2B,EAAWpc,SAASla,GAAIpB,GAE1GS,EAAQ6R,KAAKsW,UACb+O,EAAY,CAAErc,EAAOla,EAAG+hB,EAAUlI,IAClC9U,KAAKyxB,WAAa,CACdD,EACA,CAAErc,EAAOla,EAAGqsB,EAAWtS,KAE3B8H,EAAMwK,EAAW3qB,QAAQsgB,UAAUuU,KAK3CF,GACAA,EAAOxP,OAAOwF,GAGd2J,IACAA,EAAMnP,OAAOwF,GACTgK,IACIh3B,EAAQ22B,MAAMnC,WAAa13B,WAC3B65B,EAAMnU,IAAIM,QAAQkU,EAAOxU,IAAKgS,GAElCmC,EAAMnP,OAAOmP,EAAMnU,OAI3B9c,KAAKsnB,WAAaA,EAClBtnB,KAAKgd,UAAYA,EACjBhd,KAAK8c,IAAMA,GAAOwK,EAE1B,EAEAwJ,EAAKtwB,UAAUkiB,aAAe,WAC1BoE,EAAWtmB,UAAUkiB,aAAavhB,KAAKnB,MACvCA,KAAK+iB,OAAOzoB,QAAQ8oB,OAASpjB,KAAK1F,QAAQ8oB,OAEtCpjB,KAAK1F,QAAQmoB,SACbziB,KAAK0xB,YAEb,EAEAZ,EAAKtwB,UAAUgiB,aAAe,WAC1B,IAAIvP,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACf+pB,EAAe/pB,EAAQyoB,OACvBzoB,EAAQmoB,SAAW4B,GACnBrkB,KAAK+iB,OAASsB,EAAa9rB,OAAO4a,OAAOnT,KAAKb,OAAQ,CAClD0T,OAAQ7S,KAAKkiB,YACbuG,KAAMzoB,KAAKgd,UAAUwB,SACrBlkB,QAAS,CACL8qB,WAAY9qB,EAAQ8qB,WACpBE,OAAQhrB,EAAQ8qB,WAChBlf,KAAM5L,EAAQ4L,KACd+qB,MAAO32B,EAAQ22B,MACf9kB,KAAM7R,EAAQ6R,KACd2iB,SAAUx0B,EAAQw0B,SAClBrM,QAASnoB,EAAQmoB,SAErBC,aAAc,WACVzP,EAASyP,eACTzP,EAAS2P,iBACT,IAAI+O,EAAgB1e,EAAS8P,OAE7B,cADO9P,EAAS8P,OACT4O,CACX,KAEJ3xB,KAAK2iB,aAELmE,EAAWtmB,UAAUgiB,aAAarhB,KAAKnB,KAE/C,EAEA8wB,EAAKtwB,UAAUkxB,WAAa,WACxB,IAAIp3B,EAAU0F,KAAK1F,QAAQ6R,KAE3B,GAAInM,KAAKyxB,WAAY,CACjB,IAAIr3B,EAAOrH,OAAOw1B,WAAWvoB,KAAKyxB,WAAY,CAC1Cl3B,OAAQ,CACJwO,MAAOzO,EAAQyO,MACfvO,MAAOF,EAAQE,MACfktB,SAAUptB,EAAQotB,YAI1BvtB,iBAAiBC,GACjB4F,KAAK+iB,OAAOpgB,OAAOvI,EACvB,CACJ,EAEA02B,EAAKtwB,UAAUovB,MAAQ,SAAgBC,EAAQ7tB,GAC3C,IAAIV,EAAOtB,KAAK4S,UAAU5Q,GAErB6tB,EAAOxuB,QAAQrK,WAAYsK,IAC5BU,EAAE8Q,gBAEV,EAEAge,EAAKtwB,UAAUoxB,KAAO,SAAe/B,EAAQ7tB,GACzC,IAAIV,EAAOtB,KAAK4S,UAAU5Q,GAErB6tB,EAAOxuB,QAAQpK,WAAYqK,IAC5BU,EAAE8Q,gBAEV,EAEAge,EAAKtwB,UAAUqxB,IAAM,SAAchC,EAAQ7tB,GACvC,IAAIV,EAAOtB,KAAK4S,UAAU5Q,GAE1B6tB,EAAOxuB,QAAQnK,WAAYoK,EAC/B,EAEAwvB,EAAKtwB,UAAUoS,UAAY,SAAoB5Q,GAC3C,IAAI1H,EAAU0F,KAAK1F,QAEnB,OAAO/B,OAAO4a,OAAOnT,KAAKb,OAAQ,CAC9B1F,QAASyJ,aAAalB,GACtB8rB,KAAMjrB,QAAQvI,EAAQ22B,OAAS32B,EAAQ22B,MAAMnD,KAAO,GACpD/K,OAAQ/iB,KAAK+iB,QAErB,EAEO+N,CACX,CA/PW,CA+PThK,YAEFljB,kBAAkBktB,KAAM,CACpB5qB,KAAM,CACFuc,SAAS,EACT5e,KAAMlO,QAEVs7B,MAAO,CACHnC,SAAUr4B,SACVgsB,SAAS,EACT/D,MAAOhpB,OACP0xB,OAAQ1xB,QAEZyW,KAAM,CACFsW,SAAS,GAEbA,SAAS,EACTqM,SAAUr3B,IACVyrB,OAAQ,IAGZ,IAAI4O,sBAAwB,CACxBpC,OAAQ,SAAUA,EAAQp2B,GAAS,OAAOA,CAAO,EAEjD4H,SAAU,SAAU5H,GAAS,OAAOA,CAAO,EAE3Cy4B,UAAW,SAAUz4B,GAAS,OAAO,IAAImD,KAAKnD,EAAQ,EAEtD04B,SAAU,WAAc,OAAO,CAAG,GAGlCC,UAAYH,sBAEZI,YAAc,WAAyB,EAEvCC,gBAAkB,CAAEC,eAAgB,CAAE5oB,cAAc,IAExD0oB,YAAYpzB,SAAW,SAAmBC,GACtCkzB,UAAYlzB,CAChB,EAEAozB,gBAAgBC,eAAe3xB,IAAM,WACjC,OAAOwxB,SACX,EAEA15B,OAAOuR,iBAAkBooB,YAAaC,iBAGtC,IAAIE,qBAAuB,uBAEvBC,cAAgB,SAAuBC,GACvCvyB,KAAKwyB,aAAeD,CACxB,EAEIE,qBAAuB,CAAEC,KAAM,CAAElpB,cAAc,IAEnDipB,qBAAqBC,KAAKjyB,IAAM,WAC5B,OAAOT,KAAKwyB,cAAgBN,YAAYE,cAC5C,EAEAK,qBAAqBC,KAAK/xB,IAAM,SAAUrH,GACtC0G,KAAKwyB,aAAel5B,CACxB,EAEAg5B,cAAc9xB,UAAU4wB,KAAO,SAAeuB,GAEtC,IADA,IAAIxpB,EAAS,GAAIzH,EAAM3E,UAAUlD,OAAS,EAClC6H,KAAQ,GAAIyH,EAAQzH,GAAQ3E,UAAW2E,EAAM,GAEzD,IAAIgxB,EAAO1yB,KAAK0yB,KAEhB,OAAIr3B,WAAWs3B,IAAiBA,EAAavzB,MAAM9I,cACxCo8B,EAAKhD,OAAO/tB,MAAM+wB,EAAM,CAAEC,GAAexqB,OAAQgB,IAGrDupB,EAAKxxB,SAASiI,EAAO,GAAIwpB,EACpC,EAEAL,cAAc9xB,UAAUoyB,WAAa,SAAqBD,EAAcxpB,EAAQ0pB,GAC5E,IACIj3B,EADA82B,EAAO1yB,KAAK0yB,KAahB,OATI92B,EADAP,WAAWs3B,IAAiBA,EAAavzB,MAAM9I,cACtCq8B,EAAaz4B,QAAQm4B,sBAAsB,SAASjzB,EAAO3D,EAAOq3B,GACvE,IAAIx5B,EAAQ6P,EAAO6gB,SAASvuB,EAAO,KAEnC,OAAOi3B,EAAKxxB,SAAS5H,EAAOw5B,EAAoBA,EAAkBC,UAAU,GAAK,GAAIF,EACzF,IAESH,EAAKxxB,SAASiI,EAAO,GAAIwpB,EAAcE,GAG7Cj3B,CACX,EAEArD,OAAOuR,iBAAkBwoB,cAAc9xB,UAAWiyB,sBAElD,IAkCI9a,QAlCAqb,aAAe,SAAsBC,EAAOzE,QAC3B,IAAZA,IAAqBA,EAAU,CAAC,GAErCxuB,KAAKwyB,aAAehE,EAAQ+D,YAC5BvyB,KAAK6S,OAAS2b,EAAQ3b,QAAUogB,EAChCjzB,KAAK0vB,OAAS,IAAI4C,cAAc9D,EAAQ+D,aACxCvyB,KAAKizB,MAAQA,EACbjzB,KAAKkzB,IAAMpjB,QAAQ0e,EAAQ0E,IAC/B,EAEIC,mBAAqB,CAAET,KAAM,CAAElpB,cAAc,IAEjD2pB,mBAAmBT,KAAKjyB,IAAM,WAC1B,OAAOT,KAAKwyB,cAAgBN,YAAYE,cAC5C,EAEAe,mBAAmBT,KAAK/xB,IAAM,SAAUrH,GACpC0G,KAAKwyB,aAAel5B,EACpB0G,KAAK0vB,OAAOgD,KAAOp5B,CACvB,EAEA05B,aAAaxyB,UAAU6X,OAAS,SAAiB3jB,EAAM4M,GAC/CtB,KAAKizB,OACLjzB,KAAKizB,MAAM5xB,QAAQ3M,EAAM4M,EAEjC,EAEA0xB,aAAaxyB,UAAU4yB,WAAa,SAAqBzd,GACrD,IAAI0d,IAAarzB,KAAKizB,OAAS,CAAC,GAAG34B,SAAW,CAAC,GAAG+4B,SAClD,OAAOA,GAAYA,EAASC,OAAS3d,CACzC,EAEApd,OAAOuR,iBAAkBkpB,aAAaxyB,UAAW2yB,oBAIjD,IAAII,iBAAmB,WAA8B,EAErDA,iBAAiBz0B,SAAW,SAAmBC,GAC3C4Y,QAAU5Y,CACd,EAEAw0B,iBAAiBztB,OAAS,SAAiBrM,EAAS2U,GAWhD,OARIuJ,QACUA,QAAQ7R,OAAOrM,EAAS2U,GAExB,IAAIsJ,WAAWje,EAASlB,OAAO4a,OAAO,CAAC,EAAG,CAACwF,YAAY,GAE7DvK,GAIZ,EAEA,IAAIolB,SAAwBj7B,OAAOC,OAAO,CACtCC,UAAW,KACXu6B,aAAcA,aACdO,iBAAkBA,iBAClBjB,cAAeA,cACfJ,YAAaA,YACb1zB,gBAAiBA,kBAGrB,SAASi1B,eAAen5B,EAASo5B,GAC7B,IAAIC,EAAQr5B,EAAQq5B,MAChBC,EAAQt5B,EAAQs5B,MAChB9E,EAAWx0B,EAAQw0B,SAEnB+E,EAAO,IAAI9gC,OAAO,CAClBwH,OAAQ,CACJC,MAAOk5B,EAAYl5B,MACnBuO,MAAO2qB,EAAY3qB,SAc3B,OAVIzO,EAAQywB,SACR8I,EAAKrL,OAAOmL,EAAO7E,GACdpN,OAAOiS,EAAQD,EAAYluB,KAAMspB,GAEtC+E,EAAKrL,OAAOsG,EAAU8E,GACjBlS,OAAOoN,EAAU8E,EAAQF,EAAYluB,MAG9CrL,iBAAiB05B,GAEVA,CACX,CAEA,SAASC,mBAAmBx5B,EAASy5B,GACjC,IAAIvC,EAAYl3B,EAAQk3B,UACpBwC,EAAU15B,EAAQ05B,QAClBlF,EAAWx0B,EAAQw0B,SAEnB3iB,EAAO,IAAIpZ,OAAO,CAClBwH,OAAQ,CACJC,MAAOu5B,EAASv5B,MAChBuO,MAAOgrB,EAAShrB,MAChB2e,SAAUqM,EAASrM,YAc3B,OAVIptB,EAAQywB,SACR5e,EAAKqc,OAAOgJ,EAAW1C,GAClBpN,OAAOsS,EAASlF,GAErB3iB,EAAKqc,OAAOsG,EAAU0C,GACjB9P,OAAOoN,EAAUkF,GAG1B75B,iBAAiBgS,GAEVA,CACX,CAEA,IAAI8nB,KAAQ,SAAUtS,GAClB,SAASsS,EAAK35B,EAAS+nB,QACG,IAAjBA,IAA0BA,EAAe,IAAI2Q,cAElDrR,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKqiB,aAAeA,EAEfriB,KAAK1F,QAAQmoB,UACdziB,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAAS,CACxC45B,OAAQ,CACJzR,SAAS,GAEbtW,KAAM,CACFsW,SAAS,GAEbsE,OAAQ,EACRoN,cAAe,EACfC,cAAe,KAIvBp0B,KAAK1F,QAAQ+5B,WAAax3B,WAAW,CAAC,EAAG,CACrCkM,MAAO/I,KAAK1F,QAAQ6R,KAAKpD,MACzBvO,MAAOwF,KAAK1F,QAAQ6R,KAAK3R,MACzBioB,QAASziB,KAAK1F,QAAQg6B,gBAAkBv9B,MACzCiJ,KAAK1F,QAAQ+5B,WAAY,CACxB7uB,KAAMxF,KAAK1F,QAAQ85B,cACnB1V,MAAO1e,KAAK1F,QAAQg6B,gBAGxBt0B,KAAK1F,QAAQi6B,WAAa13B,WAAW,CAAC,EAAG,CACrCkM,MAAO/I,KAAK1F,QAAQ6R,KAAKpD,MACzBvO,MAAOwF,KAAK1F,QAAQ6R,KAAK3R,MACzBioB,QAASziB,KAAK1F,QAAQk6B,gBAAkBz9B,MACzCiJ,KAAK1F,QAAQi6B,WAAY,CACxB/uB,KAAMxF,KAAK1F,QAAQ65B,cACnBzV,MAAO1e,KAAK1F,QAAQk6B,gBAGxBx0B,KAAKy0B,aAEAz0B,KAAK1F,QAAQo6B,cACd10B,KAAK20B,eAGT30B,KAAK40B,cACL50B,KAAK60B,aACT,CA02BA,OAx2BKlT,IAAesS,EAAKx7B,UAAYkpB,GACrCsS,EAAKzzB,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC7DyzB,EAAKzzB,UAAUhE,YAAcy3B,EAE7BA,EAAKzzB,UAAUi0B,WAAa,WAC5B,EAKAR,EAAKzzB,UAAUs0B,YAAc,WACzB,MAAO,CACHvtB,IAAKvH,KAAK1F,QAAQ45B,OAAOhc,KACzB7V,IAAKrC,KAAK+0B,cAElB,EAEAd,EAAKzzB,UAAUw0B,uBAAyB,SAAiCC,GACrE,IAAI/W,EAAW+W,EAAa/W,SAExBlhB,SAASkhB,KACT+W,EAAanF,cAAgB5R,EAASQ,MACtCuW,EAAa/W,SAAWA,EAASxB,MAEzC,EAEAuX,EAAKzzB,UAAUm0B,aAAe,WAC1B,IAAI1hB,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACfokB,EAAQpkB,EAAQywB,SAAW1zB,MAAQ3B,OACnCu/B,EAAep4B,WAAW,CAAE,EAAGvC,EAAQ45B,OAAQ,CAC/CxV,MAAOA,EACPwE,OAAQ5oB,EAAQ4oB,SAEhBgS,EAAO9yB,KAAKC,IAAI,EAAG4yB,EAAaC,MAIpC,GAFAl1B,KAAKm1B,cAEDF,EAAaxS,QAAS,CACtBziB,KAAKg1B,uBAAuBC,GACE,SAA1BA,EAAa/W,WACb+W,EAAa/W,SAAW,EACxB5jB,EAAQ86B,kBAAmB,GAI/B,IADA,IAAIC,EAAQr1B,KAAK80B,cACRl7B,EAAMy7B,EAAM9tB,IAAK3N,EAAMy7B,EAAMhzB,IAAKzI,GAAOs7B,EAAM,CACpD,IAAII,EAAe,CAAE75B,MAAO7B,EAAK8B,MAAO25B,EAAMhzB,KAC1C4uB,EAAQhe,EAASsiB,gBAAgB37B,EAAKq7B,EAAcK,GACpDrE,IACAhe,EAAStQ,OAAOsuB,GAChBhe,EAASihB,OAAO50B,KAAK2xB,GAE7B,CACJ,CACJ,EAEAgD,EAAKzzB,UAAU20B,YAAc,WACzBn1B,KAAK4hB,SAAWpiB,KAAKQ,KAAK4hB,UAAU,SAAUiC,GAAS,QAASA,aAAiB4L,UAAY,IAC7FzvB,KAAKk0B,OAAS,EAClB,EAEAD,EAAKzzB,UAAUg1B,WAAa,WACxB,IAAIviB,EAAWjT,KAEXA,KAAKivB,QACLjvB,KAAK4hB,SAAWpiB,KAAKQ,KAAK4hB,UAAU,SAAUiC,GAAS,OAAOA,IAAU5Q,EAASgc,KAAO,IACxFjvB,KAAKivB,WAAQznB,EAErB,EAEAysB,EAAKzzB,UAAUqJ,MAAQ,WACnB7J,KAAKm1B,cACLn1B,KAAKw1B,YACT,EAEAvB,EAAKzzB,UAAUi1B,QAAU,WACrB,IACIn7B,EADM0F,KACQ1F,QACdwiB,EAFM9c,KAEI8c,IACViO,EAAWzwB,EAAQywB,SACnB2K,EAASp7B,EAAQ45B,OAAOwB,OACxBC,EAAQD,EAAS5Y,EAAIlI,GAAKkI,EAAI/H,GAC9B6gB,EAAQF,EAAS5Y,EAAI9H,GAAK8H,EAAIhI,GAC9B+gB,EAAYv7B,EAAQ6R,KAAK3R,OAAS,EAEtC,OAAOuwB,EACH,IAAIlO,IAAI8Y,EAAO7Y,EAAIhI,GAAI6gB,EAAO7Y,EAAI9H,GAAK6gB,GACvC,IAAIhZ,IAAIC,EAAIlI,GAAIghB,EAAO9Y,EAAI/H,GAAK8gB,EAAWD,EACnD,EAEA3B,EAAKzzB,UAAUo0B,YAAc,WACzB,IAAIt6B,EAAU0F,KAAK1F,QACf40B,EAAeryB,WAAW,CAC1BqhB,SAAU5jB,EAAQywB,UAAY,GAAK,EACnC+C,KAAM,GACN5K,OAAQ,EACR4S,YAAY,GACbx7B,EAAQ20B,OAEX,GAAIC,EAAazM,SAAWyM,EAAapB,KAAM,CAC3C,IAAImB,EAAQ,IAAI5B,QAAQ6B,EAAapB,KAAMoB,GAC3ClvB,KAAK2C,OAAOssB,GACZjvB,KAAKivB,MAAQA,CACjB,CACJ,EAEAgF,EAAKzzB,UAAUq0B,YAAc,WACzB,IAAI5hB,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACfy7B,EAAQz7B,EAAQy7B,MAChB1G,EAAQ0G,EAAMnqB,MAAQ,GAE1B5L,KAAK+1B,MAAQ,GAEb,IAAK,IAAIt7B,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IAAK,CACnC,IAAIiN,EAAO7K,WAAW,CAAC,EAAGk5B,EAAO1G,EAAM50B,IACvCiN,EAAKpO,MAAQ2Z,EAAS+iB,eAAetuB,EAAKpO,OAE1C,IAAI28B,EAAO,IAAInF,KAAK,CAChBx3B,MAAOoO,EAAKpO,MACZw0B,KAAMpmB,EAAKupB,MAAMnD,KACjBnJ,SAAUjd,GACXA,EAAMuL,EAASoP,cAEd4T,EAAK37B,QAAQmoB,UACT5f,QAAQozB,EAAK37B,QAAQw0B,UACjBx0B,EAAQywB,WAAa5qB,QAAQ81B,EAAK37B,QAAQw0B,SAAU,CAAEn4B,KAAMU,QAC5D4+B,EAAK37B,QAAQw0B,SAAWx0B,EAAQi1B,QAAU54B,KAAOU,MACzCiD,EAAQywB,UAAa5qB,QAAQ81B,EAAK37B,QAAQw0B,SAAU,CAAEr3B,IAAKhC,aACnEwgC,EAAK37B,QAAQw0B,SAAWx0B,EAAQi1B,QAAU95B,SAAWgC,KAGrD6C,EAAQywB,SACRkL,EAAK37B,QAAQw0B,SAAWx0B,EAAQi1B,QAAU54B,KAAOU,MAEjD4+B,EAAK37B,QAAQw0B,SAAWx0B,EAAQi1B,QAAU95B,SAAWgC,IAG7Dwb,EAAStQ,OAAOszB,GAChBhjB,EAAS8iB,MAAMz2B,KAAK22B,GAE5B,CACJ,EAEAhC,EAAKzzB,UAAUw1B,eAAiB,SAAyB18B,GACrD,OAAOA,CACX,EAEA26B,EAAKzzB,UAAUgiB,aAAe,WAC1Bb,EAAanhB,UAAUgiB,aAAarhB,KAAKnB,MAEzCA,KAAKk2B,iBACT,EAEAjC,EAAKzzB,UAAUkiB,aAAe,WAC1Bf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAKmqB,mBACLnqB,KAAK0xB,YACT,EAEAuC,EAAKzzB,UAAU21B,gBAAkB,WAC7B,IAAIC,EAAYp2B,KAAKq2B,WAQrB,OAPKD,IACDA,EAAYp2B,KAAKq2B,WAAa,IAAIrjC,QAAQ,CACtCkwB,QAAS,IAEbljB,KAAKijB,aAAajjB,KAAKq2B,aAGpBD,CACX,EAEAnC,EAAKzzB,UAAU81B,YAAc,SAAsBC,GAC/C,IAAIj8B,EAAU0F,KAAK1F,QACfm7B,EAAUz1B,KAAKy1B,UACfC,EAASp7B,EAAQ45B,OAAOwB,OACxBc,EAAYl8B,EAAQi6B,WAAW9R,QAAUnoB,EAAQk8B,UAAY,EAC7DC,EAAkB,CAGlB1L,SAAUzwB,EAAQywB,UAGtB,SAASgG,EAAO2F,EAAehD,EAAaiD,GACxC,IAAIj7B,EAAQg7B,EAAc78B,OACtBq7B,EAAO9yB,KAAKC,IAAI,EAAGqxB,EAAYwB,MAEnC,GAAIxB,EAAYjR,QACZ,IAAK,IAAIhoB,EAAIi5B,EAAYxb,KAAMzd,EAAIiB,EAAOjB,GAAKy6B,EACvCryB,QAAQ8zB,IAAcl8B,EAAIk8B,GAAa,IAI3CF,EAAgB9C,MAAQ+B,EAASD,EAAQ1gB,GAAK0gB,EAAQ1gB,GAAK2e,EAAYluB,KACvEixB,EAAgB7C,MAAQ8B,EAASD,EAAQ3gB,GAAK4e,EAAYluB,KAAOiwB,EAAQ3gB,GACzE2hB,EAAgB3H,SAAW4H,EAAcj8B,GAEzC87B,EAAU5zB,OAAO8wB,eAAegD,EAAiB/C,IAG7D,CAEA3C,EAAO/wB,KAAK42B,wBAAyBt8B,EAAQi6B,YAC7CxD,EAAO/wB,KAAK62B,wBAAyBv8B,EAAQ+5B,WAAYmC,EAAYl8B,EAAQw8B,UACjF,EAEA7C,EAAKzzB,UAAUkxB,WAAa,WACxB,IAAIp3B,EAAU0F,KAAK1F,QACf6R,EAAO7R,EAAQ6R,KACfspB,EAAUz1B,KAAKy1B,UAEnB,GAAItpB,EAAK3R,MAAQ,GAAK2R,EAAKsW,QAAS,CAChC,IAAIroB,EAAO,IAAIrH,OAAO,CAClBwH,OAAQ,CACJC,MAAO2R,EAAK3R,MACZuO,MAAOoD,EAAKpD,MACZ2e,SAAUvb,EAAKub,YAQvBttB,EAAKouB,OAAOiN,EAAQ7gB,GAAI6gB,EAAQ3gB,IAC3B4M,OAAO+T,EAAQ1gB,GAAI0gB,EAAQzgB,IAE5B1a,EAAQy8B,aACR58B,iBAAiBC,GAGrB,IAAI8xB,EAAQlsB,KAAKg3B,WAAa,IAAIhkC,QAClCk5B,EAAMvpB,OAAOvI,GAEb4F,KAAK+iB,OAAOpgB,OAAOupB,GACnBlsB,KAAKs2B,YAAYpK,EACrB,CACJ,EAEA+H,EAAKzzB,UAAUy2B,kBAAoB,WAC/B,IAAI38B,EAAU0F,KAAK1F,QACf48B,EAAW,EAUf,OARI58B,EAAQi6B,WAAW9R,SAAWnoB,EAAQ+5B,WAAW5R,QACjDyU,EAAW90B,KAAKC,IAAI/H,EAAQi6B,WAAW/uB,KAAMlL,EAAQ+5B,WAAW7uB,MACzDlL,EAAQi6B,WAAW9R,QAC1ByU,EAAW58B,EAAQi6B,WAAW/uB,KACvBlL,EAAQ+5B,WAAW5R,UAC1ByU,EAAW58B,EAAQ+5B,WAAW7uB,MAG3B0xB,CACX,EAEAjD,EAAKzzB,UAAU2pB,iBAAmB,WAC9B,IACI7vB,EADM0F,KACQ1F,QACdwiB,EAFM9c,KAEI8c,IACVsI,EAAa9qB,EAAQ8qB,WAErBA,IACAplB,KAAKm3B,gBAAkBpkC,OAAOy0B,SAAS1K,EAAI0B,SAAU,CACjDgG,KAAM,CACFzb,MAAOqc,GAEX7qB,OAAQ,OAGZyF,KAAK+iB,OAAOpgB,OAAO3C,KAAKm3B,iBAEhC,EAEAlD,EAAKzzB,UAAU01B,gBAAkB,WAC7B,IAAIjjB,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACf88B,EAAY98B,EAAQ88B,WAAa,GACjCrM,EAAWzwB,EAAQywB,SACnBsM,EAAWr3B,KAAKq3B,SAEpB,GAAyB,IAArBD,EAAUv9B,OAAd,CAUA,IANA,IAAIqyB,EAAQlsB,KAAKs3B,eAAiB,IAAItkC,QAAQ,CAC1CkwB,QAAS,IAGTqU,EAAU/3B,KAAKQ,KAAKw3B,KAAKC,MAAM,SAAU9hB,GAAQ,OAAOA,EAAKrb,QAAQywB,WAAa9X,EAAS3Y,QAAQywB,QAAU,IAAG,GAE3GnxB,EAAM,EAAGA,EAAMw9B,EAAUv9B,OAAQD,IAAO,CAC7C,IAAI8N,EAAO0vB,EAAUx9B,GACjB89B,OAAQ,EAAUC,OAAQ,EAC1B1C,EAAevtB,EAAKupB,MACpBA,OAAQ,EAyBZ,GAvBIlG,GACA2M,GAASH,GAAWF,EAAS1B,OAAOF,UACpCkC,EAAQ1kB,EAAS2kB,QAAQlwB,EAAKyC,KAAMzC,EAAKmwB,IAAI,KAE7CH,EAAQzkB,EAAS2kB,QAAQlwB,EAAKyC,KAAMzC,EAAKmwB,IAAI,GAC7CF,GAASJ,GAAWF,EAASzB,OAAOH,WAGpCR,IACAA,EAAa7N,OAAS6N,EAAanG,UAAYn4B,KAC/Cs6B,EAAQhe,EAAS6kB,oBACb7C,EACAvtB,EACA,IAAImV,IACA6a,EAAM9iB,GACN+iB,EAAM7iB,GACN4iB,EAAM3iB,GACN4iB,EAAM3iB,MAMI,IAAlB0iB,EAAMl9B,SAAoC,IAAnBm9B,EAAMhsB,SAAgB,CAC7C,IAAIosB,EAAW,IAAInlC,KACf,CAAE8kC,EAAM9iB,GAAI+iB,EAAM7iB,IAClB,CAAE4iB,EAAMl9B,QAASm9B,EAAMhsB,WAGvBvR,EAAOrH,OAAOy0B,SAASuQ,EAAU,CACjCvT,KAAM,CACFzb,MAAOrB,EAAKqB,MACZqb,QAAS1c,EAAK0c,SAElB7pB,OAAQ,OAGZ2xB,EAAMvpB,OAAOvI,GACT62B,GACA/E,EAAMvpB,OAAOsuB,EAErB,CACJ,CAEAjxB,KAAKijB,aAAaiJ,EA1DlB,CA2DJ,EAEA+H,EAAKzzB,UAAUs3B,oBAAsB,SAA8B7G,EAAOvpB,EAAMoV,GAE5E,IAAsB,IAAlBmU,EAAMxO,QACN,OAAO,KAGX,IACIuV,EADAlK,EAAOmD,EAAMnD,KAGjB,GAAIjrB,QAAQouB,IAAUA,EAAMxO,QAAS,CACjC,IAAIwV,EAAgBx5B,cAAcwyB,GAC9BgH,EACAnK,EAAOmK,EAAc,CAAEnK,KAAMA,EAAMpmB,KAAMA,IAClCupB,EAAMvB,SACb5B,EAAO9tB,KAAKqiB,aAAaqN,OAAO0B,KAAKH,EAAMvB,OAAQ5B,IAGlDmD,EAAMloB,QACPkoB,EAAMloB,MAAQ/I,KAAK1F,QAAQ45B,OAAOnrB,MAE1C,CAMA,OAJAivB,EAAU,IAAI3K,QAAQS,EAAMmD,IACpBnP,OAAOhF,GACfkb,EAAQxV,eAEDwV,EAAQjV,MACnB,EAEAkR,EAAKzzB,UAAU03B,gBAAkB,SAA0BX,GACvD,IAAIj9B,EAAU0F,KAAK1F,QACf69B,EAAiB79B,EAAQ69B,eACzBC,EAAiB99B,EAAQ89B,eACzBtB,EAAYx8B,EAAQw8B,UACpB/L,EAAWzwB,EAAQywB,SACnBsN,EAAkBd,EAAQj9B,QAAQ6R,KAAKsW,QACvC+T,EAAY4B,EAAe3V,QAAUnoB,EAAQk8B,UAAY,EACzDf,EAAU8B,EAAQ9B,UAClB6C,EAAU7C,EAAQ1K,EAAW,KAAO,MACpCwN,EAAc,CACd/G,UAAWiE,EAAQ1K,EAAW,KAAO,MACrCiJ,QAASyB,EAAQ1K,EAAW,KAAO,MACnCA,SAAUA,GAEVwJ,EAAa,GAEb3G,EAAY5tB,KAAKm2B,kBAErB,SAASpF,EAAO2F,EAAe3C,EAAU4C,GACrC,IAAIj7B,EAAQg7B,EAAc78B,OACtBq7B,EAAO9yB,KAAKC,IAAI,EAAG0xB,EAASmB,MAEhC,GAAInB,EAAStR,QACT,IAAK,IAAIhoB,EAAIs5B,EAAS7b,KAAMzd,EAAIiB,EAAOjB,GAAKy6B,EAAM,CAC9C,IAAIppB,EAAMtI,QAAQkzB,EAAcj8B,IAC3B0F,QAAQ2L,EAAKyoB,IACV95B,EAAIk8B,GAAa,GAAO0B,GAAmBC,IAAYxsB,IACvDysB,EAAYzJ,SAAWhjB,EACvB8hB,EAAUjrB,OAAOmxB,mBAAmByE,EAAaxE,IAEjDQ,EAAWj1B,KAAKwM,GAG5B,CAER,CAKA,OAHAilB,EAAO/wB,KAAK42B,wBAAyBwB,GACrCrH,EAAO/wB,KAAK62B,wBAAyBsB,EAAgB3B,EAAYM,GAE1DlJ,EAAUhM,QACrB,EAEAqS,EAAKzzB,UAAUshB,OAAS,SAAiBhF,GAcrC,IAbA,IAAIpa,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd45B,EAASxxB,EAAIwxB,OACbjF,EAAQvsB,EAAIusB,MACZlE,EAAWzwB,EAAQywB,SACnBrvB,EAAQw4B,EAAOr6B,OACf2+B,EAASzN,EAAWhzB,MAAQxB,OAC5BkiC,EAAYxJ,EAAQA,EAAMnS,IAAI0b,KAAY,EAC1CE,EAAQ14B,KAAKi3B,oBAAsB38B,EAAQysB,OAAS0R,EAEpDE,IADW34B,KAAKiiB,WAAa,CAAC,GAAGnF,KAAOA,GACtB0b,KAClBI,EAAe,EAEVn+B,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIo+B,EAAY3E,EAAOz5B,GAAGqiB,IAAI0b,KAC1BK,EAAYH,GAASC,IACrBC,EAAex2B,KAAKC,IAAIu2B,EAAcC,GAE9C,CAGI74B,KAAK8c,IADLiO,EACW,IAAIlO,IACXC,EAAIlI,GAAIkI,EAAIhI,GACZgI,EAAIlI,GAAKgkB,EAAeF,EAAO5b,EAAI9H,IAG5B,IAAI6H,IACXC,EAAIlI,GAAIkI,EAAIhI,GACZgI,EAAI/H,GAAI+H,EAAIhI,GAAK8jB,EAAeF,GAIxC14B,KAAK84B,eACL94B,KAAK+4B,gBACL/4B,KAAKg5B,cACT,EAEA/E,EAAKzzB,UAAUy4B,uBAAyB,WACpC,OAAOj5B,KAAK42B,uBAChB,EAEA3C,EAAKzzB,UAAU04B,eAAiB,SAAyBjI,GACrD,OAAOA,EAAMx1B,KACjB,EAEAw4B,EAAKzzB,UAAUu4B,cAAgB,WAW3B,IAVA,IAGIz+B,EADM0F,KACQ1F,QACd45B,EAFMl0B,KAEOk0B,OACbiF,EAAqBn5B,KAAKm5B,qBAC1BpO,EAAWzwB,EAAQywB,SACnB2K,EAASp7B,EAAQ45B,OAAOwB,OACxBgB,EAAgB12B,KAAKi5B,yBAEhBr/B,EAAM,EAAGA,EAAMs6B,EAAOr6B,OAAQD,IAAO,CAC1C,IAAIq3B,EAAQiD,EAAOt6B,GACfw/B,EAZOp5B,KAYWk5B,eAAejI,GACjC4H,EAAY9N,EAAWkG,EAAMnU,IAAInR,SAAWslB,EAAMnU,IAAItiB,QACtD6+B,EAAoB3C,EAAc0C,GAClCE,EAAmB5C,EAAc0C,EAAS,GAC1CG,OAAgB,EAAUC,OAAc,EAE5C,GAAIzO,EAAU,CACV,GAAIoO,EAEAI,EADaF,GAAqBC,EAAmBD,GAAqB,EAChDR,EAAY,OAEtCU,EAAgBF,EAAqBR,EAAY,EAGrDW,EAAcD,CAClB,MACQJ,GACAI,EAAgBF,EAChBG,EAAcF,GAGdE,GADAD,EAAgBF,EAAqBR,EAAY,GACnBA,EAjC3B74B,KAqCFy5B,cAAcxI,EAAOyE,EAAQ6D,EAAeC,EACzD,CACJ,EAEAvF,EAAKzzB,UAAUi5B,cAAgB,SAAwBxI,EAAOyE,EAAQ6D,EAAeC,QAC5D,IAAhBA,IAAyBA,EAAcD,GAE5C,IAIIG,EAJAp/B,EAAU0F,KAAK1F,QACfywB,EAAWzwB,EAAQywB,SACnB0K,EAAUz1B,KAAKy1B,UACfkE,EAAc35B,KAAKi3B,oBAAsB38B,EAAQysB,OAGrD,GAAIgE,EAAU,CACV,IAAI6O,EAASnE,EAAQ1gB,GAEjB2gB,GACAkE,GAAUD,EACV1I,EAAM32B,QAAQ21B,eAAiBt5B,OAE/BijC,GAAUD,EAAc1I,EAAMnU,IAAItiB,QAClCy2B,EAAM32B,QAAQ21B,eAAiB54B,OAGnCqiC,EAAWzI,EAAMnU,IAAI/O,KAAK6rB,EAAQL,EACtC,KAAO,CACH,IAAIM,EAASpE,EAAQ3gB,GAEjB4gB,GACAmE,GAAUF,EAAc1I,EAAMnU,IAAInR,SAClCslB,EAAM32B,QAAQ21B,eAAiBx6B,WAE/BokC,GAAUF,EACV1I,EAAM32B,QAAQ21B,eAAiBx4B,KAGnCiiC,EAAW,IAAI7c,IACX0c,EAAeM,EACfL,EAAaK,EAAS5I,EAAMnU,IAAInR,SAExC,CAEAslB,EAAMnP,OAAO4X,EACjB,EAEAzF,EAAKzzB,UAAUs5B,qBAAuB,SAA+BJ,EAAUK,GAC3E,OAAIL,EAASl/B,QAAUu/B,EACZ,EAGPL,EAAS/tB,SAAWouB,GACZ,IAGJ,EACZ,EAEA9F,EAAKzzB,UAAU40B,iBAAmB,WAG9B,IAAKp1B,KAAK1F,QAAQ86B,kBAAoBp1B,KAAK1F,QAAQywB,SAC/C,OAAO,EAQX,IALA,IAAI2L,EAAgB12B,KAAK42B,wBACrB1C,EAASl0B,KAAKk0B,OACd8F,EAAQ53B,KAAKmF,IAAI2sB,EAAOr6B,OAAQ68B,EAAc78B,OAAS,GACvD6iB,EAAQ,EAEH9iB,EAAM,EAAGA,EAAMogC,EAAOpgC,IAAO,CAClC,IAAIY,EAAQ4H,KAAKkZ,IAAIob,EAAc98B,EAAM,GAAK88B,EAAc98B,IACxD8/B,EAAWxF,EAAOt6B,GAAKkjB,IACvBmd,EAdOj6B,KAce85B,qBAAqBJ,EAAUl/B,GAMzD,GAJmB,IAAfy/B,IACAvd,EAAQud,IAGG,KAAXvd,EACA,KAER,CAEA,GAAc,IAAVA,EAAa,CACb,IAAK,IAAIwd,EAAQ,EAAGA,EAAQhG,EAAOr6B,OAAQqgC,IACvChG,EAAOgG,GAAO5/B,QAAQ4jB,SAAWxB,EACjCwX,EAAOgG,GAAOpY,OAAO,IAAIjF,KAG7B,OAAO,CACX,CACJ,EAEAoX,EAAKzzB,UAAUs4B,aAAe,WAC1B,IACIx+B,EADM0F,KACQ1F,QACd20B,EAFMjvB,KAEMivB,MACZyG,EAASp7B,EAAQ45B,OAAOwB,OACxB3K,EAAWzwB,EAAQywB,SAEnBkE,IACIlE,GACAkE,EAAM30B,QAAQokB,MAAQgX,EAASr+B,MAAQV,KACvCs4B,EAAM30B,QAAQ8sB,OAAS6H,EAAM30B,QAAQw0B,WAErCG,EAAM30B,QAAQokB,MAAQuQ,EAAM30B,QAAQw0B,SACpCG,EAAM30B,QAAQ8sB,OAASsO,EAASj+B,IAAMhC,UAG1Cw5B,EAAMnN,OAAO9hB,KAAK8c,KAE1B,EAEAmX,EAAKzzB,UAAUw4B,aAAe,WAG1B,IAFA,IAAI/lB,EAAWjT,KAENpG,EAAM,EAAGA,EAAMoG,KAAK+1B,MAAMl8B,OAAQD,IAAO,CAC9C,IAAI8N,EAAOuL,EAAS8iB,MAAMn8B,GACtBN,EAAQoO,EAAKpN,QAAQhB,MACrB6gC,OAAO,EAEPt3B,QAAQvJ,IACJ2Z,EAASmnB,iBAAiB9gC,GAC1BoO,EAAKyc,OAELzc,EAAKspB,OAGTmJ,EAAOlnB,EAASonB,SAAS/gC,IAEzBoO,EAAKspB,OAGTtpB,EAAKoa,OAAOqY,GAAQlnB,EAASwiB,UACjC,CACJ,EAEAxB,EAAKzzB,UAAU65B,SAAW,SAAmB/gC,GACzC,OAAO0G,KAAK43B,QAAQt+B,EACxB,EAEA26B,EAAKzzB,UAAU4c,QAAU,SAAkBkd,GACvC,IAAI7E,EAAU6E,EAAW7E,UACrB1K,EAAW/qB,KAAK1F,QAAQywB,SACxBjf,EAAMif,EAAW9yB,EAAID,EAEzBgI,KAAK8c,IAAIK,OAAOsY,EAAS3pB,GACrBif,EACA/qB,KAAK8c,IAAIQ,OAAO,EAAGtd,KAAKy1B,UAAU9pB,SAAW8pB,EAAQ9pB,UAErD3L,KAAK8c,IAAIQ,OAAOtd,KAAKy1B,UAAUj7B,QAAUi7B,EAAQj7B,QAAS,GAE9DwF,KAAK8c,IAAIhR,EAAM,IAAM9L,KAAKy1B,UAAU3pB,EAAM,GAAK2pB,EAAQ3pB,EAAM,GAC7D9L,KAAK8c,IAAIhR,EAAM,IAAM9L,KAAKy1B,UAAU3pB,EAAM,GAAK2pB,EAAQ3pB,EAAM,EACjE,EAEAmoB,EAAKzzB,UAAU+5B,cAAgB,SAAwBjhC,EAAOgB,EAASk0B,GACnE,IAEIV,EAFA7a,EAAWjT,KAGXw6B,EAAO/7B,cAAcnE,GACrBmgC,EAAc,WACd,OAAKngC,EAAQo1B,OAINzc,EAASoP,aAAaqN,OAAOkD,WAChCt4B,EAAQo1B,OAAQ,CAAEp2B,GAASgB,EAAQq1B,SAJ5Br2B,CAMf,EAEIkhC,EAQA1M,EAAO0M,EAPejiC,OAAO4a,OAAO,CAAC,EAAGqb,EAAS,CAC7C,QAAIV,GAAS,OAAO2M,GAAe,EACnCnhC,MAAOA,EACPo2B,OAAQp1B,EAAQo1B,OAChBC,QAASr1B,EAAQq1B,WAKrB7B,EAAO2M,IAGX,OAAO3M,CACX,EAEAmG,EAAKzzB,UAAU25B,KAAO,SAAehwB,EAAO0tB,EAAImC,GAC5C,IAAIG,EAAOn6B,KAAK43B,QAAQztB,EAAM0tB,EAAImC,GAClC,GAAIG,EACA,OAAOA,EAAK3b,QAEpB,EAEAyV,EAAKzzB,UAAU8mB,WAAa,WACxB,IAAIxK,EAAM9c,KAAK8c,IAAIngB,QACfu3B,EAASl0B,KAAKk0B,OAClB,GAAIA,EAAOr6B,OAAQ,CACf,IAAI8b,EAAO3V,KAAK1F,QAAQywB,SAAW9yB,EAAID,EACvC,GAAIgI,KAAKqiB,aAAa+Q,WAAWzd,GAAO,CACpC,IAAItb,EAAS2F,KAAK06B,iBAClB5d,EAAInH,EAAO,IAAMtb,EAAOgG,MACxByc,EAAInH,EAAO,IAAMtb,EAAOiG,GAC5B,KAAO,CACC4zB,EAAO,GAAG55B,QAAQmoB,SAClB3F,EAAIC,KAAKmX,EAAO,GAAGpX,KAEvB,IAAI6d,EAAYzG,EAAOA,EAAOr6B,OAAS,GACnC8gC,EAAUrgC,QAAQmoB,SAClB3F,EAAIC,KAAK4d,EAAU7d,IAE3B,CACJ,CAEA,OAAOA,CACX,EAEAmX,EAAKzzB,UAAUk6B,eAAiB,WAe5B,IAdA,IAEIh4B,EAAM1C,KAAK1F,QACXywB,EAAWroB,EAAIqoB,SACfwE,EAAU7sB,EAAI6sB,QACd4J,EAAqBn5B,KAAKm5B,qBAC1BzC,EAAgB12B,KAAKi5B,yBACrB2B,EAAc7P,EAAW9yB,EAAID,EAC7Bk8B,EAASl0B,KAAKk0B,OACd2G,EAAgBtL,EAAU,EAAI,EAC9BuL,EAAcvL,EAAU,EAAI,EAC5BwL,EAAiB,EACjBC,EAAe,EAEVphC,EAAM,EAAGA,EAAMs6B,EAAOr6B,OAAQD,IAAO,CAC1C,IAAIq3B,EAAQiD,EAAOt6B,GACfw/B,EAhBOp5B,KAgBWk5B,eAAejI,GACjCgK,OAAY,EAAUC,OAAU,EAEhC/B,GACA8B,EAAYvE,EAAc0C,EAASyB,GACnCK,EAAUxE,EAAc0C,EAAS0B,IAEjCG,EAAYC,EAAUxE,EAAc0C,GAGxC2B,EAAiB34B,KAAKC,IAAI04B,EAAgBE,EAAYhK,EAAMnU,IAAI8d,EAAc,IAC9EI,EAAe54B,KAAKC,IAAI24B,EAAc/J,EAAMnU,IAAI8d,EAAc,GAAKM,EACvE,CAEA,MAAO,CACH76B,MAAO06B,EACPz6B,IAAK06B,EAEb,EAEA/G,EAAKzzB,UAAU26B,WAAa,SAAqBhxB,EAAM0tB,EAAItwB,EAAKlF,EAAKhI,GACjE,IAAIC,EAAU0F,KAAK1F,QAEnB,GAAK6P,EAAO5C,GAAOlN,EAAS,KAAOwI,QAAQvI,EAAQiN,MAAQjN,EAAQiN,KAAOA,IAAUlF,EAAMw1B,GAAMx9B,EAAS,KAAOwI,QAAQvI,EAAQ+H,MAAQA,GAAO/H,EAAQ+H,KACnJ,OAAO,KAGX,GAAKw1B,EAAKtwB,GAAOlN,EAAS,GAAOgI,EAAM8H,GAAQ9P,EAAS,EACpD,MAAO,CACHkN,IAAK4C,EACL9H,IAAKw1B,GAIb,IAAIuD,EAAYvD,EAAK1tB,EACjBkxB,EAAWlxB,EACXmxB,EAAWzD,EAUf,OARI1tB,EAAO5C,GAAOlN,EAAS,GACvBghC,EAAWh4B,WAAW8G,EAAM5C,EAAKlF,GACjCi5B,EAAWj4B,WAAW8G,EAAOixB,EAAW7zB,EAAM6zB,EAAW/4B,IAClDw1B,EAAKx1B,GAAOhI,EAAS,IAC5BihC,EAAWj4B,WAAWw0B,EAAItwB,EAAKlF,GAC/Bg5B,EAAWh4B,WAAWw0B,EAAKuD,EAAW7zB,EAAKlF,EAAM+4B,IAG9C,CACH7zB,IAAK8zB,EACLh5B,IAAKi5B,EAEb,EAEArH,EAAKzzB,UAAU+6B,WAAa,WACxB,MAAO,CACHh0B,IAAKvH,KAAKw7B,UACVn5B,IAAKrC,KAAKy7B,UAElB,EAEAxH,EAAKzzB,UAAUk7B,QAAU,WAOrB,IAAIh5B,EAAM1C,KAAK1F,QAGf,OAFeoI,EAAIqoB,UAEC,EAAI,IADVroB,EAAI6sB,SACuB,EAAI,EACjD,EAEA0E,EAAKzzB,UAAUm7B,SAAW,WACtB,IACI5Q,EADM/qB,KAAK1F,QACIywB,SACf0K,EAAUz1B,KAAKy1B,UACfmG,EAAW7Q,EAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QACjDmb,EAAOoV,EAAW9yB,EAAID,EACtB6jC,EAAU77B,KAAK07B,UAEfI,EAAanmB,GADW,IAAZkmB,EAAgB,EAAI,GACF36B,WAGlC,MAAO,CACHyU,KAAMA,EACNmmB,WAAYA,EACZD,QAASA,EACTpG,QAASA,EACTmG,SAAUA,EACVpK,UARYiE,EAAQqG,GAU5B,EAEA7H,EAAKzzB,UAAUu7B,YAAc,SAAsBjgB,GAC/C,IAAIpZ,EAAM1C,KAAK27B,WACXhmB,EAAOjT,EAAIiT,KACXkmB,EAAUn5B,EAAIm5B,QACdC,EAAap5B,EAAIo5B,WACjBrG,EAAU/yB,EAAI+yB,QACdmG,EAAWl5B,EAAIk5B,SAInB,OAHeC,EAAU,EAAI/f,EAAMnG,GAAQ8f,EAAQqG,GAAcrG,EAAQqG,GAAchgB,EAAMnG,IACrEimB,CAG5B,EAMA3H,EAAKzzB,UAAUw7B,aAAe,SAAuBC,EAAU5G,GAG3D,IACI9Z,EAAQlY,WAAW44B,GADP,WAUhB,OANI1gB,EAAQ,EACA8Z,EAAQjzB,KAAKmF,IAAI,EAAGgU,GAEpB8Z,EAASA,GAAS,EAAI9Z,EAItC,EAEA0Y,EAAKzzB,UAAU24B,mBAAqB,WAChC,OAAQn5B,KAAK1F,QAAQ4hC,SACzB,EAGAjI,EAAKzzB,UAAU27B,mBAAqB,WACpC,EAEOlI,CACX,CA35BW,CA25BTtS,cAEF/d,kBAAkBqwB,KAAM,CACpBC,OAAQ,CACJzR,SAAS,EACTvE,SAAU,EACVwX,QAAQ,EACRR,KAAM,EACNhd,KAAM,GAEV/L,KAAM,CACF3R,MAAO,EACPuO,MAAOvT,QACPitB,SAAS,GAEbwM,MAAO,CACHxM,SAAS,EACTqM,SAAUp5B,QAEd6+B,WAAY,CACR7V,MAAOtnB,UACPoO,KAAM,EACN0S,KAAM,EACNgd,KAAM,GAEVb,WAAY,CACR3V,MAAOtnB,UACPoO,KAAM,EACN0S,KAAM,EACNgd,KAAM,GAEVkH,kBAAmB,EACnB5H,cAAep9B,UACfk9B,cAAev9B,KACfqhC,eAAgB,CACZlgB,KAAM,EACNgd,KAAM,GAEViD,eAAgB,CACZ1V,SAAS,EACTjoB,MAAO,EACPuO,MAAOvT,QACP0iB,KAAM,EACNgd,KAAM,GAGVnO,OAAQ,EACRtE,SAAS,EACT8M,SAAS,EACT2M,WAAW,EACXnG,MAAO,CACH9E,MAAO,CACHnD,KAAM,KAIdiJ,aAAa,EACbrC,cAAc,IAGlB,IAAI2H,aAAe,eACfC,QAAU,UACVC,QAAU,UACVC,MAAQ,QACRC,KAAO,OACPC,MAAQ,QACRC,OAAS,SACTC,MAAQ,QAERC,qBAAuB,EACvBC,gBAAkB,IAClBC,gBAAkB,GAAKD,gBACvBE,cAAgB,GAAKD,gBACrBE,aAAe,GAAKD,cACpBE,cAAgB,EAAID,aACpBE,eAAiB,GAAKF,aACtBG,cAAgB,IAAMH,aACtBI,cAAgB,CAChBC,MAASF,cACTG,OAAUJ,eACVK,MAASN,cACTO,KAAQR,aACRS,MAASV,cACTW,QAAWZ,gBACXa,QAAWd,gBACXe,aAAgBhB,sBAGpB,SAASiB,iBAAiBpxB,EAAG/D,GAIzB,OAHW+D,EAAEhQ,UAAYiM,GACR+D,EAAEqxB,oBAAsBp1B,EAAEo1B,qBAEfhB,eAChC,CAEA,SAASiB,SAASC,EAAMC,GACpB,OAAO,IAAIzhC,KAAKwhC,EAAKvhC,UAAYwhC,EACrC,CAEA,SAASC,OAAO7kC,GACZ,IAAIsC,EAQJ,OANItC,aAAiBmD,KACjBb,EAAStC,EACFA,IACPsC,EAAS,IAAIa,KAAKnD,IAGfsC,CACX,CAEA,SAASwiC,YAAYH,EAAMI,QACD,IAAjBA,IAA0BA,EAAe,GAE9C,IAAIC,EAAiB,EACjBC,EAAMN,EAAKO,SAEf,IAAKpjC,MAAMmjC,GACP,KAAOA,IAAQF,GACC,IAARE,EACAA,EAAM,EAENA,IAGJD,IAIR,OAAON,SAASC,GAAOK,EAAiBrB,aAC5C,CAEA,SAASwB,UAAUR,EAAMP,GACrB,OAAc,IAAVA,GAAmC,KAApBO,EAAKS,aACpBT,EAAKU,SAASV,EAAKS,WAAa,IACzB,EAIf,CAEA,SAASE,SAASX,EAAMP,GACpB,IAAImB,EAAc,IAAIpiC,KAAKwhC,GAE3BY,EAAYC,WAAW,EAAG,EAAG,GAE7B,IAAIC,GAAUd,EAAKF,oBAAsBc,EAAYd,qBAAuBhB,gBAE5E,OAAOiB,SAASa,EAAaE,EAASrB,EAAQV,cAClD,CAEA,SAASgC,YAAYC,EAAW3lC,EAAOyO,EAAMs2B,GACzC,IAAIziC,EAASqjC,EAEb,GAAIA,EAAW,CACX,IAAIhB,EAAOE,OAAOc,GACdvB,EAAQO,EAAKS,WAEb32B,IAAS60B,MAET6B,UADA7iC,EAAS,IAAIa,KAAKwhC,EAAKiB,cAAgB5lC,EAAO,EAAG,GAC/B,GACXyO,IAAS40B,OAEhB8B,UADA7iC,EAAS,IAAIa,KAAKwhC,EAAKiB,cAAejB,EAAKkB,WAAa7lC,EAAO,GAC7CokC,GACX31B,IAAS20B,MAEhB+B,UADA7iC,EAASojC,YAAYZ,YAAYH,EAAMI,GAAuB,EAAR/kC,EAAWmjC,MAC/CiB,GACX31B,IAAS00B,KAEhBgC,UADA7iC,EAAS,IAAIa,KAAKwhC,EAAKiB,cAAejB,EAAKkB,WAAYlB,EAAKmB,UAAY9lC,GACtDokC,GACX31B,IAASy0B,MAChB5gC,EAASgjC,SAASX,EAAM3kC,GACjByO,IAASw0B,SAChB3gC,EAASoiC,SAASC,EAAM3kC,EAAQyjC,kBAErBsC,aAAe,GACtBzjC,EAAO0jC,WAAW,GAEfv3B,IAASu0B,QAChB1gC,EAASoiC,SAASC,EAAM3kC,EAAQwjC,iBACzB/0B,IAASs0B,eAChBzgC,EAASoiC,SAASC,EAAM3kC,IAGxByO,IAASs0B,cAAgBzgC,EAAO2jC,kBAAoB,GACpD3jC,EAAO4jC,gBAAgB,EAE/B,CAEA,OAAO5jC,CACX,CAEA,SAAS6jC,UAAUxB,EAAMl2B,EAAMs2B,GAC3B,OAAOW,YAAYb,OAAOF,GAAO,EAAGl2B,EAAMs2B,EAC9C,CAEA,SAASqB,SAAST,EAAWl3B,EAAMs2B,GAC/B,IAAIJ,EAAOE,OAAOc,GAElB,OAAIhB,GAAQwB,UAAUxB,EAAMl2B,EAAMs2B,GAAc3hC,YAAcuhC,EAAKvhC,UACxDuhC,EAGJe,YAAYf,EAAM,EAAGl2B,EAAMs2B,EACtC,CAEA,SAASsB,aAAajzB,EAAG/D,GACrB,OAAI+D,GAAK/D,EACE+D,EAAEhQ,UAAYiM,EAAEjM,WAGnB,CACZ,CAEA,SAASkjC,SAASlzB,EAAG/D,GACjB,OAAO+D,EAAEhQ,UAAYiM,CACzB,CAEA,SAASk3B,OAAOvmC,GACZ,GAAID,QAAQC,GAAQ,CAEhB,IADA,IAAIsC,EAAS,GACJhC,EAAM,EAAGA,EAAMN,EAAMO,OAAQD,IAClCgC,EAAO0D,KAAKugC,OAAOvmC,EAAMM,KAG7B,OAAOgC,CACX,CAAO,GAAItC,EACP,OAAO6kC,OAAO7kC,GAAOoD,SAE7B,CAEA,SAASojC,WAAWpzB,EAAG/D,GACnB,OAAI+D,GAAK/D,EACEk3B,OAAOnzB,KAAOmzB,OAAOl3B,GAGzB+D,IAAM/D,CACjB,CAEA,SAASo3B,UAAU9B,EAAM59B,EAAO2/B,GAC5B,OAAOlC,iBAAiBG,EAAM59B,GAASg9B,cAAc2C,EACzD,CAEA,SAASC,UAAU3mC,EAAO+G,EAAO2/B,EAAUE,GACvC,IAAIjC,EAAOE,OAAO7kC,GACd6mC,EAAYhC,OAAO99B,GAcvB,OAXI2/B,IAAarD,OACJsB,EAAKkB,WAAagB,EAAUhB,WAA8D,IAAhDlB,EAAKiB,cAAgBiB,EAAUjB,eAC9Ea,UAAU9B,EAAM,IAAIxhC,KAAKwhC,EAAKiB,cAAejB,EAAKkB,YAAa1C,MAAQ,IAAIhgC,KAAKwhC,EAAKiB,cAAejB,EAAKkB,WAAa,EAAG,GAAGC,UACzHY,IAAapD,MACZqB,EAAKiB,cAAgBiB,EAAUjB,cAAgBe,UAAUhC,EAAM,IAAIxhC,KAAKwhC,EAAKiB,cAAe,GAAIvC,OAAQ,GAAK,GAC9GqD,IAAavD,MAAQuD,IAAatD,MACjCqD,UAAU9B,EAAMkC,EAAWH,GAE3BJ,SAAS3B,EAAM59B,GAASg9B,cAAc2C,IAGnCE,CACnB,CAEA,SAASE,SAAS1zB,EAAG/D,EAAGZ,GAapB,OAVIA,IAAS60B,MACFj0B,EAAEu2B,cAAgBxyB,EAAEwyB,cACpBn3B,IAAS40B,OACe,GAAxByD,SAAS1zB,EAAG/D,EAAGi0B,OAAcj0B,EAAEw2B,WAAazyB,EAAEyyB,WAC9Cp3B,IAAS00B,KACTr6B,KAAKK,MAAMm9B,SAASj3B,EAAG+D,GAAKuwB,cAE5B76B,KAAKK,MAAMm9B,SAASj3B,EAAG+D,GAAK2wB,cAAct1B,GAIzD,CAEA,SAASs4B,aAAapC,EAAMqC,GAKxB,IAJA,IAEI7kC,EAFA8kC,EAAM,EACNC,EAAOF,EAAYzmC,OAAS,EAGzB0mC,GAAOC,GAAM,CAEhB,IAAIC,EAAcH,EADlB7kC,EAAQ2G,KAAKK,OAAO89B,EAAMC,GAAQ,IAGlC,GAAIC,EAAcxC,EACdsC,EAAM9kC,EAAQ,MADlB,CAKA,KAAIglC,EAAcxC,GAAlB,CAKA,KAAO6B,WAAWQ,EAAY7kC,EAAQ,GAAIwiC,IACtCxiC,IAGJ,OAAOA,CANP,CAFI+kC,EAAO/kC,EAAQ,CAHnB,CAYJ,CAEA,OAAI6kC,EAAY7kC,IAAUwiC,EACfxiC,EAGJA,EAAQ,CACnB,CAEA,SAASs2B,UAAUQ,EAAa0L,GAO5B,OALI5iC,WAAW4iC,IACF1L,EAAYR,UAAUkM,IAEtBE,OAAOF,EAGxB,CAEA,SAASyC,WAAWnO,EAAaoO,GAC7B,GAAItnC,QAAQsnC,GAAQ,CAEhB,IADA,IAAI/kC,EAAS,GACJhC,EAAM,EAAGA,EAAM+mC,EAAM9mC,OAAQD,IAClCgC,EAAO0D,KAAKyyB,UAAUQ,EAAaoO,EAAM/mC,KAG7C,OAAOgC,CACX,CAEA,OAAOm2B,UAAUQ,EAAaoO,EAClC,CAEA,SAAS3O,SAAS13B,EAASi4B,GACvB,OAAIp3B,SAASb,EAAQ+jC,cACV/jC,EAAQ+jC,aAGf9L,GAAeA,EAAYP,SACpBO,EAAYP,WAGhB,CACX,CAEA,IAAI4O,0BAA4B,IAC5BC,mBAAqB,GAEzB,SAAS9mC,QAAQT,EAAOgO,GACpB,GAAIhO,aAAiBmD,KAAM,CAEvB,IADA,IAAI5C,EAASyN,EAAIzN,OACRD,EAAM,EAAGA,EAAMC,EAAQD,IAC5B,GAAIkmC,WAAWx4B,EAAI1N,GAAMN,GACrB,OAAOM,EAIf,OAAQ,CACZ,CAEA,OAAO0N,EAAIvN,QAAQT,EACvB,CAEA,IAAIwnC,aAAgB,SAAU7M,GAC1B,SAAS6M,IACL7M,EAAKtyB,MAAM3B,KAAMjD,UACrB,CAgnBA,OA9mBKk3B,IAAO6M,EAAaroC,UAAYw7B,GACrC6M,EAAatgC,UAAYjI,OAAOuN,OAAQmuB,GAAQA,EAAKzzB,WACrDsgC,EAAatgC,UAAUhE,YAAcskC,EAErCA,EAAatgC,UAAUi0B,WAAa,WAChCz0B,KAAK+gC,OAAS,CAAC,CACnB,EAEAD,EAAatgC,UAAUwgC,eAAiB,WACpC,MAAO,EACX,EAEAF,EAAatgC,UAAU7D,MAAQ,WAC3B,IAAIskC,EAAO,IAAIH,EAAavoC,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,QAAS,CACxD4mC,WAAYlhC,KAAK1F,QAAQ6mC,gBACzBnhC,KAAKqiB,cAGT,OAFA4e,EAAKtM,eAEEsM,CACX,EAEAH,EAAatgC,UAAUqhB,gBAAkB,SAA0BvnB,GAC/D,IAAI4mC,EAAa5mC,EAAQ4mC,YAAc,GACnCE,EAAav+B,QAAQvI,EAAQiN,KAC7B85B,EAAax+B,QAAQvI,EAAQ+H,KAGjC,GAFA/H,EAAQ6mC,cAAgB7mC,EAAQ4mC,WAAaA,GAExCE,GAAcC,IAAeH,EAAWrnC,OAAQ,CACjD,IACIwI,EADAkF,EAAM65B,EAAah/B,KAAKK,MAAMnI,EAAQiN,KAAO,EAI7ClF,EADAg/B,EACM/mC,EAAQ4hC,UAAY95B,KAAKK,MAAMnI,EAAQ+H,KAAO,EAAID,KAAKI,KAAKlI,EAAQ+H,KAEpE6+B,EAAWrnC,OAGrBS,EAAQ4mC,WAAa5mC,EAAQ4mC,WAAW53B,MAAM/B,EAAKlF,EACvD,CAEA,OAAO/H,CACX,EAEAwmC,EAAatgC,UAAU8gC,aAAe,WAClC,IAAIhnC,EAAU0F,KAAK1F,QACfT,EAASS,EAAQ4mC,WAAWrnC,QAAU,EAU1C,MAAO,CACH0N,IAVMpM,SAASb,EAAQiN,KAAOjN,EAAQiN,IAAM,EAAI,EAWhDlF,IARAlH,SAASb,EAAQ+H,MAAQ/H,EAAQ+H,IAAM,GAAM,GAAK/H,EAAQ+H,IAAMrC,KAAKuhC,aAAal/B,IAC5ExI,GAAU,EAAIS,EAAQ+H,IAAM,GAE5BxI,GAAUS,EAAQ4hC,UAAY,EAAI,GAOhD,EAEA4E,EAAatgC,UAAU60B,MAAQ,WAC3B,IAAI/6B,EAAU0F,KAAK1F,QAInB,MAAO,CACHiN,IAJMpM,SAASb,EAAQiN,KAAOjN,EAAQiN,IAAM,EAK5ClF,IAJMlH,SAASb,EAAQ+H,KAAO/H,EAAQ+H,IAAMrC,KAAKuhC,aAAal/B,IAMtE,EAEAy+B,EAAatgC,UAAUghC,aAAe,WAClC,OAAOxhC,KAAKq1B,OAChB,EAEAyL,EAAatgC,UAAU+gC,WAAa,WAChC,IAAIjnC,EAAU0F,KAAK1F,QACnB,MAAO,CAAEiN,IAAK,EAAGlF,IAAKD,KAAKC,IAAIrC,KAAKyhC,YAAc,EAAGnnC,EAAQ6mC,cAActnC,SAAWS,EAAQ4hC,UAAY,EAAI,GAClH,EAEA4E,EAAatgC,UAAUkhC,aAAe,WAClC,IAAIh/B,EAAM1C,KAAKshC,eACX/5B,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACVozB,EAAUz1B,KAAKy1B,UAInB,MAAO,CACHla,OAJOvb,KAAK1F,QAAQywB,SAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,UACzC6H,EAAMkF,GAAQ,IAGfvH,KAAK1F,QAAQi1B,SAAW,EAAI,GAC5CzS,IAAK2Y,EACLluB,IAAKA,EACLlF,IAAKA,EAEb,EAEAy+B,EAAatgC,UAAUu4B,cAAgB,WACnC9E,EAAKzzB,UAAUu4B,cAAc53B,KAAKnB,MAClCA,KAAK2hC,sBACT,EAEAb,EAAatgC,UAAUmhC,qBAAuB,WAC1C,IACI7kB,EADM9c,KACI8c,IACVoX,EAFMl0B,KAEOk0B,OAEjB,GAAIA,EAAOr6B,OAAS,EAAG,CACnB,IAAI+nC,EAAY5hC,KAAK1F,QAAQywB,SAAW9yB,EAAID,EACxCqI,EAAQyc,EAAI8kB,EAAY,GACxBthC,EAAMwc,EAAI8kB,EAAY,GACtBC,EAAa3N,EAAO,GACpByG,EAAYv3B,KAAK8wB,IAEjB2N,EAAW/kB,IAAI8kB,EAAY,GAAKthC,GAAOuhC,EAAW/kB,IAAI8kB,EAAY,GAAKvhC,KACvEwhC,EAAWvnC,QAAQmoB,SAAU,IAE7BkY,EAAU7d,IAAI8kB,EAAY,GAAKthC,GAAOq6B,EAAU7d,IAAI8kB,EAAY,GAAKvhC,KACrEs6B,EAAUrgC,QAAQmoB,SAAU,EAEpC,CACJ,EAEAqe,EAAatgC,UAAUo2B,sBAAwB,WAC3C,OAAO52B,KAAK8hC,WAAWvN,UAC3B,EAEAuM,EAAatgC,UAAUq2B,sBAAwB,WAC3C,OAAO72B,KAAK8hC,WAAWzN,UAC3B,EAEAyM,EAAatgC,UAAUy4B,uBAAyB,WAC5C,OAAOj5B,KAAK8hC,WAAWC,UAC3B,EAEAjB,EAAatgC,UAAUwhC,YAAc,SAAsBC,GAQvD,IAPA,IAAIv/B,EAAM1C,KAAKshC,eACX/5B,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACV23B,EAAQ53B,KAAKI,KAAKH,GAClBsV,EAAUvV,KAAKK,MAAM8E,GACrB26B,EAAU,GAEPvqB,GAAWqiB,GACdkI,EAAQ5iC,KAAKqY,GACbA,GAAWsqB,EAGf,OAAOC,CACX,EAEApB,EAAatgC,UAAU2hC,iBAAmB,SAA2BF,GAYjE,IAXA,IAAIv/B,EAAM1C,KAAK1F,QACXywB,EAAWroB,EAAIqoB,SACfwE,EAAU7sB,EAAI6sB,QACd/D,EAAQxrB,KAAK0hC,eACbnmB,EAAQiQ,EAAMjQ,MACduB,EAAM0O,EAAM1O,IACZvV,EAAMikB,EAAMjkB,IACZuE,EAAMgR,GAAKiO,EAAW9yB,EAAID,IAAMu3B,EAAU,EAAI,IAC9C2S,EAAUliC,KAAKgiC,YAAYC,GAC3BG,EAAY,GAEPxoC,EAAM,EAAGA,EAAMsoC,EAAQroC,OAAQD,IACpCwoC,EAAU9iC,KAAKwM,EAAMtI,QAAQ+X,GAAS2mB,EAAQtoC,GAAO2N,GAAM3R,kBAG/D,OAAOwsC,CACX,EAEAtB,EAAatgC,UAAUshC,SAAW,WAC9B,IAAIxnC,EAAU0F,KAAK1F,QACf+nC,EAAQriC,KAAK+gC,OACb1L,EAAQr1B,KAAKshC,eACb7L,EAAUz1B,KAAKy1B,UACf6M,EAAO7M,EAAQ1X,UAAYsX,EAAM9tB,IAAM,IAAM8tB,EAAMhzB,IAAM/H,EAAQi1B,QAAUj1B,EAAQ4hC,UAEvF,GAAImG,EAAME,QAAUD,EAAM,CACtB,IAAIE,EAAWloC,EAAQ+5B,WAAW5R,SAAWnoB,EAAQ69B,eAAe1V,QACpE4f,EAAME,MAAQD,EACdD,EAAMN,WAAa/hC,KAAKmiC,iBAAiB,GACzCE,EAAM9N,WAAav0B,KAAKyiC,0BAA0BJ,EAAMN,WAAYtM,GACpE4M,EAAMhO,WAAamO,EAAWxiC,KAAKyiC,0BAA0BziC,KAAKmiC,iBAAiB,IAAM1M,GAAW,EACxG,CAEA,OAAO4M,CACX,EAEAvB,EAAatgC,UAAUiiC,0BAA4B,SAAoCL,EAAW3M,GAC9F,IAAK2M,EAAUvoC,OACX,OAAOuoC,EAQX,IALA,IAAIzsB,EAAO3V,KAAK1F,QAAQywB,SAAW9yB,EAAID,EACnC0qC,EAAU,SAAU5T,GAAY,OAAO2G,EAAQ9f,EAAO,IAAMmZ,GAAYA,GAAY2G,EAAQ9f,EAAO,EAAI,EAEvGrV,EAAM8hC,EAAUvoC,OAAS,EACzB8oC,EAAa,GACTD,EAAQN,EAAUO,KAAgBA,GAAcriC,GACpDqiC,IAKJ,IAFA,IAAIC,EAAWtiC,GAEPoiC,EAAQN,EAAUQ,KAAcA,GAAY,GAChDA,IAGJ,OAAOR,EAAU94B,MAAMq5B,EAAYC,EAAW,EAClD,EAEA9B,EAAatgC,UAAUm7B,SAAW,WAC9B,IAAIj5B,EAAM1C,KAAK1F,QACXywB,EAAWroB,EAAIqoB,SACfwE,EAAU7sB,EAAI6sB,QACdkG,EAAUz1B,KAAKy1B,UACfmG,EAAW7Q,EAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QACjDmb,EAAOoV,EAAW9yB,EAAID,EACtB6jC,EAAUtM,GAAW,EAAI,EAEzBuM,EAAanmB,GADW,IAAZkmB,EAAgB,EAAI,GACF36B,WAGlC,MAAO,CACHyU,KAAMA,EACNmmB,WAAYA,EACZD,QAASA,EACTpG,QAASA,EACTmG,SAAUA,EACVpK,UARYiE,EAAQqG,GAU5B,EAEAgF,EAAatgC,UAAUk7B,QAAU,WAS7B,OAFU17B,KAAK1F,QACGi1B,SACA,EAAI,CAC1B,EAGAuR,EAAatgC,UAAUo3B,QAAU,SAAkBztB,EAAM0tB,EAAImC,GACzD,IAAI1/B,EAAU0F,KAAK1F,QACfi1B,EAAUj1B,EAAQi1B,QAClB2M,EAAY5hC,EAAQ4hC,UACpBx5B,EAAM1C,KAAK0hC,eACXnmB,EAAQ7Y,EAAI6Y,MACZuB,EAAMpa,EAAIoa,IACVvV,EAAM7E,EAAI6E,IACVikB,EAAQxrB,KAAK27B,WACbiG,EAAYpW,EAAM7V,KAClB6b,EAAYhG,EAAMgG,UAElBqR,EAAU/lB,EAAIngB,QACdmmC,GAAcjgC,QAAQg1B,GAEtBx3B,EAAQqD,eAAeyG,EAAM,GAC7B7J,EAAMoD,eAAem0B,EAAIx3B,GAC7BC,EAAM8B,KAAKC,IAAI/B,EAAM,EAAGD,GAMxB,IAAI0iC,EAAKvR,GAAanxB,EAAQkH,GAAOgU,EACjCynB,EAAKxR,IAHTlxB,EAAM8B,KAAKC,IAAIhC,EAAOC,IAGM,EAAIiH,GAAOgU,EAcvC,OAZIunB,GAAc5G,IACd8G,EAAKD,GAGL/I,IACA+I,EAAK1/B,WAAW0/B,EAAIjmB,EAAI8kB,EAAY,GAAI9kB,EAAI8kB,EAAY,IACxDoB,EAAK3/B,WAAW2/B,EAAIlmB,EAAI8kB,EAAY,GAAI9kB,EAAI8kB,EAAY,KAG5DiB,EAAQjB,EAAY,GAAKrS,EAAUyT,EAAKD,EACxCF,EAAQjB,EAAY,GAAKrS,EAAUwT,EAAKC,EAEjCH,CACX,EAEA/B,EAAatgC,UAAUyiC,UAAY,SAAoB9I,GACnD,IACIyH,EADW5hC,KAAK1F,QAAQywB,SACD9yB,EAAID,EAC3By9B,EAAUz1B,KAAKy1B,UACfyN,EAAe/I,EAAKx9B,QAKxB,OAHAumC,EAAatB,EAAY,GAAKv+B,WAAW82B,EAAKyH,EAAY,GAAInM,EAAQmM,EAAY,GAAInM,EAAQmM,EAAY,IAC1GsB,EAAatB,EAAY,GAAKv+B,WAAW82B,EAAKyH,EAAY,GAAInM,EAAQmM,EAAY,GAAInM,EAAQmM,EAAY,IAEnGsB,CACX,EAEApC,EAAatgC,UAAU25B,KAAO,SAAehwB,EAAM0tB,EAAImC,GACnD,IAAIzyB,EAAMnF,KAAKK,MAAMzC,KAAK1F,QAAQiN,KAAO,GACrClH,EAAQ8J,EACR7J,EAAMu3B,EAcV,MAZqB,iBAAVx3B,EACPA,EAAQL,KAAKmjC,cAAc9iC,GACpBlF,SAASkF,KAChBA,GAASkH,GAGM,iBAARjH,EACPA,EAAMN,KAAKmjC,cAAc7iC,GAClBnF,SAASmF,KAChBA,GAAOiH,GAGJ0sB,EAAKzzB,UAAU25B,KAAKh5B,KAAKnB,KAAMK,EAAOC,EAAK05B,EACtD,EAEA8G,EAAatgC,UAAU4iC,mBAAqB,SAA6BtnB,GACrE,IAAIpZ,EAAM1C,KAAK1F,QACXi1B,EAAU7sB,EAAI6sB,QACd2M,EAAYx5B,EAAIw5B,UAEhB0F,EADWl/B,EAAIqoB,SACQ9yB,EAAID,EAC3BwzB,EAAQxrB,KAAK0hC,eACbnmB,EAAQiQ,EAAMjQ,MACduB,EAAM0O,EAAM1O,IACZvV,EAAMikB,EAAMjkB,IACZlF,EAAMmpB,EAAMnpB,IACZghC,EAAa9T,EAAUltB,EAAMkF,EAC7BiqB,EAAY1U,EAAI8kB,EAAY,GAC5B5N,EAAUlX,EAAI8kB,EAAY,GAC1B91B,EAAMgQ,EAAM8lB,GAEhB,GAAI91B,EAAM0lB,GAAa1lB,EAAMkoB,EACzB,OAAO,KAGX,IAAI16B,EAAQ+pC,GAAcv3B,EAAM0lB,GAAajW,EACzCF,EAAO/hB,EAAQ,EAQnB,OANI4iC,EACA5iC,EAAQ8I,KAAKxH,MAAMtB,GACH,IAAT+hB,GAAc/hB,EAAQ,GAC7BA,IAGG8I,KAAKK,MAAMnJ,EACtB,EAEAwnC,EAAatgC,UAAU8iC,YAAc,SAAsBxnB,GACvD,IAAIrgB,EAAQuE,KAAKojC,mBAAmBtnB,GAEpC,OAAc,OAAVrgB,EACO,KAGJuE,KAAK1F,QAAQ4mC,WAAWzlC,EACnC,EAEAqlC,EAAatgC,UAAU2iC,cAAgB,SAAwB7pC,GAC3D,OAAO0G,KAAKujC,WAAWjqC,GAAS8I,KAAKK,MAAMzC,KAAK1F,QAAQiN,KAAO,EACnE,EAEAu5B,EAAatgC,UAAUgjC,WAAa,SAAqB/nC,EAAOqpB,GAC5D,IAAIxqB,EAAU0F,KAAK1F,QAEnB,OAAQwqB,EAAQxqB,EAAQ6mC,cAAgB7mC,EAAQ4mC,YAAYzlC,EAChE,EAEAqlC,EAAatgC,UAAUijC,gBAAkB,WACrC,OAAQzjC,KAAK1F,QAAQ4mC,YAAc,IAAIrnC,MAC3C,EAEAinC,EAAatgC,UAAUkjC,eAAiB,SAAyBzhC,GAC7D,IAAI3H,EAAU0F,KAAK1F,QACfm7B,EAAUz1B,KAAKy1B,UACfjwB,EAAOlL,EAAQywB,SAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QACrD66B,EAAQ/6B,EAAQ4mC,WAAWrnC,OAE3BQ,EAASmJ,QAAQvB,GADTuD,EAAO6vB,GACiBp/B,mBAEpC,MAAO,CACHsR,IAAKlN,EACLgI,IAAKgzB,EAAQh7B,EAErB,EAEAymC,EAAatgC,UAAUmjC,WAAa,SAAqBpoB,EAAOoM,GAC5D,IAAImH,EAAW1sB,KAAKkZ,IAAItb,KAAK+7B,YAAYpU,IACrC2Z,EAAethC,KAAK4jC,sBACpBvO,EAAQiM,EAAaj/B,IAAMi/B,EAAa/5B,IACxCtF,EAAQjC,KAAKg8B,aAAazgB,EAAO8Z,GACjCwO,EAAW/U,EAAW7sB,EACtB6hC,GAAY,EAAIhV,GAAY7sB,EAC5BsF,EAAM+5B,EAAa/5B,IAAMs8B,EACzBxhC,EAAMi/B,EAAaj/B,IAAMyhC,EAM7B,OAJIzhC,EAAMkF,EAAMs5B,qBACZx+B,EAAMkF,EAAMs5B,oBAGT,CACHt5B,IAAKA,EACLlF,IAAKA,EAEb,EAEAy+B,EAAatgC,UAAUujC,UAAY,SAAoBxoB,EAAOoM,GAC1D,IAAIjlB,EAAM1C,KAAKuhC,aACXyC,EAAWthC,EAAI6E,IACf08B,EAAWvhC,EAAIL,IACfgzB,EAAQr1B,KAAK2jC,WAAWpoB,EAAOoM,GAEnC,MAAO,CACHpgB,IAAKlE,WAAWgyB,EAAM9tB,IAAKy8B,EAAUC,GACrC5hC,IAAKgB,WAAWgyB,EAAMhzB,IAAK2hC,EAAUC,GAE7C,EAEAnD,EAAatgC,UAAUu0B,YAAc,WACjC,IAAID,EAAc90B,KAAK80B,cAEvB,OAAOA,EAAYzyB,IAAMyyB,EAAYvtB,GACzC,EAEAu5B,EAAatgC,UAAUs0B,YAAc,WACjC,IAAIx6B,EAAU0F,KAAK1F,QACf4hC,EAAY5hC,EAAQ4hC,UACpBjH,EAAe36B,EAAQ45B,OACvBxxB,EAAM1C,KAAK4jC,qBAAoB,GAC/Br8B,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACVhC,EAAQ+B,KAAKK,MAAM8E,GAkBvB,OAhBK20B,GAID30B,EAAMnF,KAAKI,KAAK+E,GAChBlF,EAAMD,KAAKK,MAAMJ,KAJjBkF,EAAMnF,KAAKK,MAAM8E,GACjBlF,EAAMD,KAAKI,KAAKH,IAcb,CACHkF,KAPAA,EAAM0tB,EAAa/c,KACZ+c,EAAa/c,KAAO+c,EAAaC,KAAO9yB,KAAKI,MAAM+E,EAAM0tB,EAAa/c,MAAQ+c,EAAaC,MAE3FD,EAAa/c,MAIR7X,EACZgC,KAAM/H,EAAQ4mC,WAAWrnC,OAASwI,GAAO65B,EAAY,EAAI,GAAK,GAAK77B,EAE3E,EAEAygC,EAAatgC,UAAU+0B,gBAAkB,SAA0B95B,EAAOw5B,EAAcK,GACpF,IAAIh7B,EAAU0F,KAAK1F,QACfqqB,EAAWrqB,EAAQ4pC,UAAY5pC,EAAQ4pC,UAAUzoC,GAAS,KAC1D9G,EAAW+O,eAAepJ,EAAQ4mC,WAAWzlC,GAAQ,IAEzD65B,EAAa3Q,SAAWA,EACxB,IAAImJ,EAAO9tB,KAAKu6B,cAAc5lC,EAAUsgC,EAAcK,GAEtD,OAAO,IAAI7F,UAAU96B,EAAUm5B,EAAMryB,EAAOkpB,EAAUsQ,EAC1D,EAEA6L,EAAatgC,UAAU45B,iBAAmB,SAA2B9gC,GACjE,IAAI+7B,EAAQr1B,KAAK4jC,sBAEjB,OAAOxhC,KAAKK,MAAM4yB,EAAM9tB,MAAQjO,GAASA,GAAS8I,KAAKI,KAAK6yB,EAAMhzB,IACtE,EAEAy+B,EAAatgC,UAAU65B,SAAW,SAAmB/gC,GACjD,IAAIgB,EAAU0F,KAAK1F,QACfmB,EAAQnC,EAAQ8I,KAAKK,MAAMnI,EAAQiN,KAAO,GAC9C,OAAOvH,KAAK43B,QAAQn8B,EACxB,EAEAqlC,EAAatgC,UAAUw4B,aAAe,WAClC/E,EAAKzzB,UAAUw4B,aAAa73B,KAAKnB,MACjCA,KAAKmkC,qBACT,EAEArD,EAAatgC,UAAU2jC,oBAAsB,WACzC,IACIpO,EADM/1B,KACM+1B,MACZjZ,EAFM9c,KAEI8c,IACd,GAAIiZ,GAASA,EAAMl8B,OAKf,IAJA,IAAI+nC,EAAY5hC,KAAK1F,QAAQywB,SAAW9yB,EAAID,EACxCqI,EAAQyc,EAAI8kB,EAAY,GACxBthC,EAAMwc,EAAI8kB,EAAY,GAEjBhoC,EAAM,EAAGA,EAAMm8B,EAAMl8B,OAAQD,IAAO,CACzC,IAAIq8B,EAAOF,EAAMn8B,GACbq8B,EAAKnZ,MAAQxc,EAAM21B,EAAKnZ,IAAI8kB,EAAY,IAAM3L,EAAKnZ,IAAI8kB,EAAY,GAAKvhC,IACxE41B,EAAKjF,MAEb,CAER,EAEA8P,EAAatgC,UAAU4jC,IAAM,SAAcniC,GACvC,IAAIozB,EAAQr1B,KAAK4jC,qBAAoB,GAEjCroB,EADMvb,KAAK0hC,eACCnmB,MACZlhB,EAASmJ,QAAQvB,EAAQsZ,EAAOtlB,mBAChCsrC,EAAavhC,KAAKuhC,aAClBh6B,EAAM8tB,EAAM9tB,IAAMlN,EAClBgI,EAAMgzB,EAAMhzB,IAAMhI,EAEtB,OAAO2F,KAAKm7B,WAAW5zB,EAAKlF,EAAK,EAAGk/B,EAAWl/B,IAAKhI,EACxD,EAEAymC,EAAatgC,UAAU6jC,YAAc,SAAsBhkC,EAAOC,GAC9D,IAAIoC,EAAM1C,KAAK1F,QACXi1B,EAAU7sB,EAAI6sB,QAEdqS,EADWl/B,EAAIqoB,SACQ9yB,EAAID,EAC3Bq9B,EAAQr1B,KAAK4jC,qBAAoB,GACjCpY,EAAQxrB,KAAK0hC,eACbnmB,EAAQiQ,EAAMjQ,MAEdiW,EADMhG,EAAM1O,IACI8kB,GAAarS,EAAU,EAAI,IAE3C+U,EAAYjkC,EAAMuhC,GAAapQ,EAC/B+S,EAAUjkC,EAAIshC,GAAapQ,EAE3BjqB,EAAM8tB,EAAM9tB,IAAM+8B,EAAY/oB,EAC9BlZ,EAAMgzB,EAAM9tB,IAAMg9B,EAAUhpB,EAC5BipB,EAAWpiC,KAAKmF,IAAIA,EAAKlF,GACzBoiC,EAAWriC,KAAKC,IAAIkF,EAAKlF,GAE7B,GAAIoiC,EAAWD,GAAY5D,0BACvB,MAAO,CACHr5B,IAAKi9B,EACLniC,IAAKoiC,EAGjB,EAEA3D,EAAatgC,UAAU+6B,WAAa,WAChC,OAAOv7B,KAAKq1B,OAChB,EAEAyL,EAAatgC,UAAU+iC,WAAa,SAAqBjqC,GACrD,IAAIgB,EAAU0F,KAAK1F,QAInB,OAHY0F,KAAK0kC,eACb1kC,KAAK0kC,eAAejkC,IAAInH,GAASS,QAAQT,EAAOgB,EAAQ6mC,cAGhE,EAEAL,EAAatgC,UAAUmkC,oBAAsB,WACzC,IAAIrqC,EAAU0F,KAAK1F,QACfiN,EAAM,EAaV,OAXIpM,SAASb,EAAQiN,OACjBA,EAAMnF,KAAKK,MAAMnI,EAAQiN,MAUtB,CACHA,IAAKA,EACLlF,IARAlH,SAASb,EAAQ+H,KACX/H,EAAQ4hC,UAAY95B,KAAKK,MAAMnI,EAAQ+H,KAAOD,KAAKI,KAAKlI,EAAQ+H,KAAO,EAEvErC,KAAK4kC,aAAe,EAOlC,EAEA9D,EAAatgC,UAAUojC,oBAAsB,SAA8BiB,GACvE,IAEIxiC,EAFA/H,EAAU0F,KAAK1F,QACfiN,EAAMpM,SAASb,EAAQiN,KAAOjN,EAAQiN,IAAM,EAWhD,GAPIlF,EADAlH,SAASb,EAAQ+H,KACX/H,EAAQ+H,IACPlH,SAASb,EAAQiN,KAClBA,EAAMjN,EAAQ4mC,WAAWrnC,OAEzBmG,KAAKuhC,aAAal/B,KAAO,EAG/BwiC,EAAY,CACZ,IAAItD,EAAavhC,KAAKuhC,aACtBh6B,EAAMlE,WAAWkE,EAAK,EAAGg6B,EAAWl/B,KACpCA,EAAMgB,WAAWhB,EAAK,EAAGk/B,EAAWl/B,IACxC,CAEA,MAAO,CACHkF,IAAKA,EACLlF,IAAKA,EAEb,EAEAy+B,EAAatgC,UAAUskC,kBAAoB,WACvC,MAAO,CACHv9B,IAAK,EACLlF,IAAKrC,KAAKuhC,aAAal/B,KAAO,EAEtC,EAEAy+B,EAAatgC,UAAUukC,gBAAkB,WACrC,IAAK/kC,KAAK0kC,eAGN,IAFA,IAAItjC,EAAMpB,KAAK0kC,eAAiB,IAAI3kC,QAChCohC,EAAgBnhC,KAAK1F,QAAQ6mC,cACxBvnC,EAAM,EAAGA,EAAMunC,EAActnC,OAAQD,IAC1CwH,EAAIT,IAAIwgC,EAAcvnC,GAAMA,EAGxC,EAEAknC,EAAatgC,UAAUokC,WAAa,WAChC,OAAOxiC,KAAKC,IAAIrC,KAAK1F,QAAQ6mC,cAActnC,OAAQmG,KAAKyhC,YAAc,EAC1E,EAEOX,CACX,CApnBmB,CAonBjB7M,MAEFrwB,kBAAkBk9B,aAAc,CAC5Bj9B,KAAM,WACNknB,UAAU,EACVqN,eAAgB,CACZ3V,SAAS,EACTjoB,MAAO,EACPuO,MAAOvT,SAEX0+B,OAAQ,CACJhR,OAAQ,GAEZgZ,WAAW,EACXxH,cAAc,IAGlB,IAAIsQ,iBAAmB,IAEnBC,iBAAmB,CACnBpH,aAAc,eACdD,QAAS,WACTD,QAAS,QACTD,MAAO,QACPD,KAAM,MACND,MAAO,MACPD,OAAQ,UACRD,MAAO,QAGP4H,eAAiB,GAEjBC,OAAS,OACTC,WAAa,CACb/I,aAAcC,QAASC,QAASC,MAAOC,KAAMC,MAAOC,OAAQC,OAE5DyI,IAAM,MAGV,SAASC,cAAcpE,EAAYqE,GAC3BA,IACArE,EAAWsE,YAASh+B,GAGxB,IAAI6tB,EAAQ6L,EAAWsE,OAOvB,OANKnQ,KACDA,EAAQ6L,EAAWsE,OAASn+B,kBAAkB65B,IACxC35B,IAAM42B,OAAO9I,EAAM9tB,KACzB8tB,EAAMhzB,IAAM87B,OAAO9I,EAAMhzB,MAGtBgzB,CACX,CAEA,IAAIoQ,eAAiB,SAAwBnrC,GACzC0F,KAAK1F,QAAUA,CACnB,EAEAmrC,eAAejlC,UAAUklC,eAAiB,WACtC,MAAO,CACHn+B,IAAK,EACLlF,IAAK,EAEb,EAEAojC,eAAejlC,UAAUmlC,aAAe,WACpC,MAAO,CAAC,CACZ,EAEAF,eAAejlC,UAAUskB,MAAQ,WAC7B,MAAO,CAAC,CACZ,EAEA2gB,eAAejlC,UAAU+6B,WAAa,WAClC,MAAO,CAAC,CACZ,EAEAkK,eAAejlC,UAAUolC,WAAa,WAClC,OAAQ,CACZ,EAEAH,eAAejlC,UAAU2I,OAAS,WAC9B,MAAO,EACX,EAEAs8B,eAAejlC,UAAU+iC,WAAa,WAClC,OAAQ,CACZ,EAEAkC,eAAejlC,UAAUqlC,YAAc,WACnC,OAAO,CACX,EAEAJ,eAAejlC,UAAUokC,WAAa,WAClC,OAAO,CACX,EAEAa,eAAejlC,UAAUslC,OAAS,WAC9B,OAAO,IACX,EAEA,IAAIC,UAAY,SAAmB1lC,EAAOC,EAAKhG,GAC3C0F,KAAK1F,QAAUA,EACfA,EAAQ4lC,aAAe5lC,EAAQ4lC,cAAgB,EAE/C,IAAI8F,EAAkB1rC,EAAQ0rC,gBAC1B9J,EAAY5hC,EAAQ4hC,UAExBl8B,KAAKK,MAAQ2+B,YAAY3+B,EAAO,EAAG/F,EAAQ0lC,SAAU1lC,EAAQ+jC,cAC7D,IAAI4H,EAAWjmC,KAAKkmC,iBAAiB5lC,GACjC6lC,GAAajK,GAAa4D,WAAWx/B,EAAK2lC,KAAc3rC,EAAQ8rC,WAEpEpmC,KAAKM,IAAMN,KAAKkmC,iBAAiB5lC,GAAM47B,EAAWiK,EAAY,EAAI,GAElE,IAAI5+B,EAAMjN,EAAQiN,KAAOlH,EACzBL,KAAKqmC,WAAarmC,KAAKkmC,iBAAiB3+B,GACxCvH,KAAKsmC,aAAeN,EAAkBhmC,KAAKqmC,WAAa9+B,EAExD,IAAIlF,EAAM/H,EAAQ+H,IAClB,GAAKA,EAGE,CACH,IAAIkkC,GAAQrK,GAAa4D,WAAWz9B,EAAKrC,KAAKkmC,iBAAiB7jC,KAAS,EAAI,EAC5ErC,KAAKwmC,SAAWxmC,KAAKkmC,iBAAiB7jC,GAAK,EAAOkkC,GAClDvmC,KAAKymC,WAAaT,EAAkBhmC,KAAKkmC,iBAAiB7jC,GAAM65B,GAAa5hC,EAAQ+H,GACzF,MANIrC,KAAKwmC,SAAWP,EAChBjmC,KAAKymC,WAAaT,GAAmBG,EAAYnmC,KAAKM,IAAMA,EAO5DN,KAAKwmC,SAAWxmC,KAAKqmC,aACrBrmC,KAAKwmC,SAAWxmC,KAAKqmC,YAErBrmC,KAAKymC,YAAczmC,KAAKsmC,eACxBtmC,KAAKymC,WAAazmC,KAAKkmC,iBAAiBlmC,KAAKsmC,cAAc,EAAO,GAE1E,EAyGA,SAASI,aAAapsC,EAASqsC,EAAWC,GAYtC,IAXA,IASIC,EAAW3R,EAAM4R,EATjBC,EAAiBzB,cAAchrC,EAAQ4mC,YACvC8F,GAAQ1sC,EAAQ+H,KAAO0kC,EAAe1kC,MAAQ/H,EAAQiN,KAAOw/B,EAAex/B,KAC5E0/B,EAAoB3sC,EAAQ2sC,kBAC5BC,EAAgB5sC,EAAQ4sC,cACxBC,EAAW7sC,EAAQ0lC,WAAaqF,IAChC+B,EAAaT,EAAYvB,WAAWrrC,QAAQ4sC,GAAa,EACzD3G,EAAWmH,EAAW/B,WAAWgC,KAAgB9sC,EAAQ0lC,SACzDqH,EAAQL,EAAO3J,cAAc2C,GAC7BsH,EAAaD,GAGTnS,GAAQmS,GAASH,GAAe,CACpCL,EAAYA,GAAaI,EAAkBjH,GAAU12B,MAAM,GAE3D,GACIw9B,EAAWD,EAAUU,cAChBT,GAAYH,IAAc3G,GAAY8G,EAAWF,GAE1D,GAAIE,EAEAO,EAAQC,GADRpS,EAAO4R,OAEJ,IAAI9G,IAAa58B,KAAKgiC,YAAa,CACtClQ,EAAO9yB,KAAKI,KAAK8kC,EAAaJ,GAC9B,KACJ,CAAO,IAAIC,EAIJ,CACCE,EAAQH,IACRhS,EAAO9yB,KAAKI,KAAK8kC,EAAaJ,IAElC,KACJ,CARIlH,EAAWoF,WAAWgC,MAAiBhkC,KAAKgiC,YAC5CkC,EAAaN,EAAO3J,cAAc2C,GAClC6G,EAAY,IAMhB,CACJ,CAEAvsC,EAAQ4lC,aAAehL,EACvB56B,EAAQ0lC,SAAWA,CACvB,CAEA,SAASwH,gBAAgBltC,GAMrB,IALA,IAGImtC,EAAc1/B,EAHdm5B,EAAa5mC,EAAQ4mC,WACrBxlC,EAAQmH,QAAQq+B,GAAcA,EAAWrnC,OAAS,EAClD6tC,EAAU9wC,UAGL+wC,EAAa,EAAGA,EAAajsC,EAAOisC,IAAc,CACvD,IAAIhzC,EAAWusC,EAAWyG,GAE1B,GAAIhzC,GAAY8yC,EAAc,CAC1B,IAAIpsB,EAAOjZ,KAAKkZ,IAAIwiB,iBAAiBnpC,EAAU8yC,IAElC,IAATpsB,IAIItT,GAHJ2/B,EAAUtlC,KAAKmF,IAAImgC,EAASrsB,KAEb+hB,cACJR,MACA8K,GAAWvK,eAAgC,EAAfF,aAC5BN,OACA+K,GAAWxK,cACXR,MACAgL,GAAWzK,aACXR,KACAiL,GAAW1K,cACXR,MACAkL,GAAW3K,gBACXR,QAEAD,QAGnB,CAEAmL,EAAe9yC,CACnB,CAEA2F,EAAQ0lC,SAAWj4B,GAAQ00B,IAC/B,CAEA,SAASmL,SAASttC,GACd,IAAI0lC,GAAY1lC,EAAQ0lC,UAAY,IAAI6H,cAWxC,OAViB7H,IAAaqF,MAAQllC,QAAQ6/B,EAAUoF,aAGpDoC,gBAAgBltC,GAGhB0lC,IAAaqF,KAAO/qC,EAAQ4lC,eAAiBiF,QAC7CuB,aAAapsC,GAGVA,CACX,CApMAyrC,UAAUvlC,UAAUmlC,aAAe,WAC/B,MAAO,CACHp+B,IAAKvH,KAAKsmC,aACVjkC,IAAKrC,KAAKymC,WAElB,EAEAV,UAAUvlC,UAAUklC,eAAiB,WACjC,IAAK1lC,KAAK8nC,SAAU,CAChB,IAAIxtC,EAAU0F,KAAK1F,QAEf0lC,EAAW1lC,EAAQ0lC,SACfE,EAAe5lC,EAAQ4lC,aAE3B6H,EAAS9H,UAAUjgC,KAAKsmC,aAActmC,KAAKqmC,WAAYrG,EAAUE,GACjE8H,EAAS/H,UAAUjgC,KAAKymC,WAAYzmC,KAAKqmC,WAAYrG,EAAUE,GAEnElgC,KAAK8nC,SAAW,CAAEvgC,IAAKwgC,EAAQ1lC,IAAK2lC,EACxC,CAEA,OAAOhoC,KAAK8nC,QAChB,EAEA/B,UAAUvlC,UAAUskB,MAAQ,WACxB,MAAO,CACHvd,IAAKvH,KAAKK,MACVgC,IAAKrC,KAAKM,IAElB,EAEAylC,UAAUvlC,UAAUokC,WAAa,WAG7B,OAFW5kC,KAAKujC,WAAWvjC,KAAKM,MAEjBN,KAAK1F,QAAQ4hC,UAAY,EAAI,EAChD,EAEA6J,UAAUvlC,UAAU+6B,WAAa,WAC7B,MAAO,CACHh0B,IAAKvH,KAAKqmC,WACVhkC,IAAKrC,KAAKwmC,SAElB,EAEAT,UAAUvlC,UAAUolC,WAAa,SAAqBtsC,GAClD,IAAIgB,EAAU0F,KAAK1F,QACnB,OAAO8H,KAAKK,MAAMw9B,UAAU3mC,EAAO0G,KAAKqmC,WAAY/rC,EAAQ0lC,SAAU1lC,EAAQ4lC,cAClF,EAEA6F,UAAUvlC,UAAU+iC,WAAa,SAAqBjqC,GAClD,IAAIgB,EAAU0F,KAAK1F,QACnB,OAAO8H,KAAKK,MAAMw9B,UAAU3mC,EAAO0G,KAAKK,MAAO/F,EAAQ0lC,SAAU1lC,EAAQ4lC,cAC7E,EAEA6F,UAAUvlC,UAAUy/B,UAAY,SAAsB3mC,GAClD,IAAIgB,EAAU0F,KAAK1F,QACnB,OAAO2lC,UAAU3mC,EAAO0G,KAAKqmC,WAAY/rC,EAAQ0lC,SAAU1lC,EAAQ4lC,aACvE,EAEA6F,UAAUvlC,UAAUqlC,YAAc,WAG9B,OAFa7lC,KAAK4lC,WAAW5lC,KAAKwmC,UAElB,CACpB,EAEAT,UAAUvlC,UAAU2I,OAAS,WACzB,IAAIA,EAASnJ,KAAKqJ,QAClB,IAAKF,EAAQ,CACT,IAAI7O,EAAU0F,KAAK1F,QACf+6B,EAAQr1B,KAAKu7B,aACjBv7B,KAAKqJ,QAAUF,EAAS,GAExB,IAAK,IAAI80B,EAAO5I,EAAM9tB,IAAK02B,GAAQ5I,EAAMhzB,KACrC8G,EAAO7J,KAAK2+B,GACZA,EAAOe,YAAYf,EAAM3jC,EAAQ4lC,aAAc5lC,EAAQ0lC,SAAU1lC,EAAQ+jC,aAEjF,CAEA,OAAOl1B,CACX,EAEA48B,UAAUvlC,UAAUslC,OAAS,SAAiBrqC,EAAOqpB,GACjD,IAAIxqB,EAAU0F,KAAK1F,QAEnB,OAAO0kC,YAAYla,EAAQ9kB,KAAKK,MAAQL,KAAKqmC,WAAY/rC,EAAQ4lC,aAAezkC,EAAOnB,EAAQ0lC,SAAU1lC,EAAQ+jC,aACrH,EAEA0H,UAAUvlC,UAAU0lC,iBAAmB,SAA2B5sC,EAAO2uC,EAAO1B,GAC5E,IAAI7jC,EAAM1C,KAAK1F,QACP0lC,EAAWt9B,EAAIs9B,SACfE,EAAex9B,EAAIw9B,aACnB7B,EAAe37B,EAAI27B,aACvBh+B,EAAQL,KAAKK,MAEb60B,EAAO+K,UAAU3mC,EAAO+G,EAAO2/B,EAAUE,GACzCgI,EAAcD,EAAQ7lC,KAAKI,KAAK0yB,GAAQ9yB,KAAKK,MAAMyyB,GAMvD,OAJIqR,IACA2B,GAAe3B,GAGZvH,YAAY3+B,EAAO6nC,EAAchI,EAAcF,EAAU3B,EACpE,EAiGA,IAAI8J,iBAAoB,SAAUrH,GAC9B,SAASqH,IACLrH,EAAan/B,MAAM3B,KAAMjD,UAC7B,CA8nBA,OA5nBK+jC,IAAeqH,EAAiB1vC,UAAYqoC,GACjDqH,EAAiB3nC,UAAYjI,OAAOuN,OAAQg7B,GAAgBA,EAAatgC,WACzE2nC,EAAiB3nC,UAAUhE,YAAc2rC,EAEzCA,EAAiB3nC,UAAU7D,MAAQ,WAC/B,IAAIskC,EAAO,IAAIkH,EAAiB5vC,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,SAAU0F,KAAKqiB,cAGtE,OAFA4e,EAAKtM,eAEEsM,CACX,EAEAkH,EAAiB3nC,UAAUwgC,eAAiB,WACxC,IAAI3gC,EAAQL,KAAKooC,UAAUtjB,QAAQvd,IACnC,OAAOvH,KAAK1F,QAAQ0lC,SAAWhgC,KAAK1F,QAAQ4lC,aAAe7/B,CAC/D,EAEA8nC,EAAiB3nC,UAAUqhB,gBAAkB,SAA0BvnB,GACnE,OAAOA,CACX,EAEA6tC,EAAiB3nC,UAAUi0B,WAAa,WACpCqM,EAAatgC,UAAUi0B,WAAWtzB,KAAKnB,MAEvC,IAAIqiB,EAAeriB,KAAKqiB,aACpBkQ,EAAclQ,EAAaqQ,KAC3Bp4B,EAAU0F,KAAK1F,QAEf4mC,EAAa5mC,EAAQ4mC,YAAc,GAyBvC,GAxBKA,EAAWmH,WACZnH,EAAaR,WAAWnO,EAAa2O,IAC1BmH,SAAU,GAGzB/tC,EAAUuC,WAAW,CACjBmpC,iBAAiB,GAClB1rC,EAAS,CACR4mC,WAAYA,EACZ35B,IAAKwqB,UAAUQ,EAAaj4B,EAAQiN,KACpClF,IAAK0vB,UAAUQ,EAAaj4B,EAAQ+H,KACpCg8B,aAAcrM,SAAS13B,EAASi4B,KAGhClQ,EAAaimB,SAAWjmB,EAAa+Q,WAAW94B,EAAQywB,SAAW9yB,EAAID,KACvEsC,EAAQ0rC,iBAAkB,GAG9B1rC,EAAQiuC,gBAAkBjuC,EAAQiuC,iBAAmBjuC,EAAQ0lC,SAC7D1lC,EAAQkuC,oBAAsBluC,EAAQkuC,qBAAuBluC,EAAQ4lC,aAErElgC,KAAK1F,QAAUA,EACfA,EAAQ6mC,cAAgBD,EAEpBA,EAAWrnC,OAAS,EAAG,CACvB,IAAIw7B,EAAQiQ,cAAcpE,GAAY,GAClCuH,EAAenuC,EAAQmuC,aACvBC,EAAcd,SAASttC,GAEvBquC,EAAWruC,EAAQsuC,UAavB,GAZID,IACIA,EAASE,OAAS,IAClBxT,EAAM9tB,IAAMy3B,YAAY3J,EAAM9tB,KAAMohC,EAASE,OAAQH,EAAY1I,SAAU0I,EAAYrK,eAGvFsK,EAASG,MAAQ,IACjBzT,EAAMhzB,IAAM28B,YAAY3J,EAAMhzB,IAAKsmC,EAASG,MAAOJ,EAAY1I,SAAU0I,EAAYrK,gBAI7Fr+B,KAAKooC,UAAY,IAAIrC,UAAU1Q,EAAM9tB,IAAK8tB,EAAMhzB,IAAKqmC,GAEjDD,EAAc,CACd,IAAIL,EAAYpoC,KAAKooC,UAAUzC,eAE3BoD,EAAkBxwC,OAAO4a,OAAO,CAAC,EAAG7Y,EAAS,CAC7C4hC,WAAW,EACX8J,iBAAiB,EACjBhG,SAAU,MACVz4B,IAAK6gC,EAAU7gC,IACflF,IAAK+lC,EAAU/lC,IACf6kC,cAAeuB,IAGfO,EAAmBhpC,KAAKooC,UAAU9tC,QAEtCosC,aAAaqC,EAAiBC,EAAiBhJ,SAAUgJ,EAAiB9I,cAE1ElgC,KAAKipC,cAAgB,IAAIlD,UAAU1Q,EAAM9tB,IAAK8tB,EAAMhzB,IAAK0mC,EAC7D,MACI/oC,KAAKipC,cAAgBjpC,KAAKooC,SAGlC,MACI9tC,EAAQ0lC,SAAW1lC,EAAQ0lC,UAAYvD,KACvCz8B,KAAKooC,UAAYpoC,KAAKipC,cAAgB,IAAIxD,eAAenrC,GAG7D0F,KAAKkpC,YAAc,EACvB,EAEAf,EAAiB3nC,UAAUwhC,YAAc,SAAsBC,GAC3D,IACImG,EADMpoC,KACUooC,UAChBa,EAFMjpC,KAEcipC,cACpBpD,EAAcoD,EAAcpD,cAEhC,IAAK7lC,KAAK1F,QAAQmuC,eAAiB5C,EAC/B,OAAO/E,EAAatgC,UAAUwhC,YAAY7gC,KAAKnB,KAAMiiC,GAGzD,IAAIC,EAAU,GACV/4B,EAAS8/B,EAAc9/B,SACvB9O,EAAS,EAER2F,KAAK1F,QAAQ4hC,YACd/yB,EAASA,EAAOhB,OAAO8gC,EAAcnD,OAAOD,IAC5CxrC,EAAS,IAGb,IAAK,IAAIT,EAAM,EAAGA,EAAMuP,EAAOtP,OAAQD,IAEnC,GADAsoC,EAAQ5iC,KAAK8oC,EAAUnI,UAAU92B,EAAOvP,IAAQS,GAC/B,IAAb4nC,GAAkBroC,GAAO,EAAG,CAC5B,IAAIwJ,EAAO8+B,EAAQroC,OAAS,EAC5BqoC,EAAQnvB,OAAOnZ,EAAK,EAAGsoC,EAAQ9+B,EAAO,IAAM8+B,EAAQ9+B,GAAQ8+B,EAAQ9+B,EAAO,IAAM6+B,EACrF,CAGJ,OAAOC,CACX,EAEAiG,EAAiB3nC,UAAU45B,iBAAmB,SAA2B9gC,GACrE,IAAI+7B,EAAQr1B,KAAKq1B,QACb6L,EAAalhC,KAAK1F,QAAQ4mC,YAAc,GAE5C,OAAOvB,aAAarmC,EAAO+7B,EAAM9tB,MAAQ,GAAKo4B,aAAarmC,EAAO+7B,EAAMhzB,MAAQ,GAAK6+B,EAAWrnC,MACpG,EAEAsuC,EAAiB3nC,UAAUw1B,eAAiB,SAAyB18B,GACjE,OAAOy4B,UAAU/xB,KAAKqiB,aAAaqQ,KAAMp5B,EAC7C,EAEA6uC,EAAiB3nC,UAAU65B,SAAW,SAAmB/gC,GACrD,OAAO0G,KAAK43B,QAAQt+B,EACxB,EAEA6uC,EAAiB3nC,UAAUkjC,eAAiB,SAAyBzhC,GACjE,IAAI3H,EAAU0F,KAAK1F,QACf0lC,EAAW1lC,EAAQ0lC,SACnB3B,EAAe/jC,EAAQ+jC,aACvBtT,EAAWzwB,EAAQywB,SACnB0K,EAAUz1B,KAAKy1B,UACfjwB,EAAOulB,EAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QAC7C66B,EAAQr1B,KAAKq1B,QACb9Z,EAAQ/V,GAAQ6vB,EAAMhzB,IAAMgzB,EAAM9tB,KAClClN,EAASmJ,QAAQvB,EAAQsZ,EAAOtlB,mBAEpC,GAAIo/B,EAAM9tB,KAAO8tB,EAAMhzB,IAAK,CACxB,IAAI8H,EAAO6zB,SAAS1jC,EAAQiN,KAAO8tB,EAAM9tB,IAAKlN,GAC1Cw9B,EAAKmG,SAAS1jC,EAAQ+H,KAAOgzB,EAAMhzB,IAAKhI,GAE5Cg7B,EAAQ,CACJ9tB,IAAKy3B,YAAY70B,EAAM,EAAG61B,EAAU3B,GACpCh8B,IAAK28B,YAAYnH,EAAI,EAAGmI,EAAU3B,GAE1C,CAEA,OAAOhJ,CACX,EAEA8S,EAAiB3nC,UAAUs0B,YAAc,WACrC,MAAO,CACHvtB,IAAKvH,KAAK1F,QAAQ45B,OAAOhc,KACzB7V,IAAKrC,KAAKipC,cAAcpD,cAEhC,EAEAsC,EAAiB3nC,UAAU4jC,IAAM,SAAcniC,GAC3C,GAAIjC,KAAKmpC,UACL,OAAO,KAGX,IAAI7uC,EAAU0F,KAAK1F,QACfm7B,EAAUz1B,KAAKy1B,UACfjwB,EAAOlL,EAAQywB,SAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QACrDkI,EAAM1C,KAAKooC,UAAUzC,eACrBp+B,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACV+mC,EAAcppC,KAAKooC,UAAUtjB,QAE7BzqB,EAASmJ,QAAQvB,GADTuD,GAAQnD,EAAMkF,IACUtR,oBAAsBqE,EAAQi1B,SAAW,EAAI,GAC7EplB,EAAO6zB,SAASz2B,EAAKlN,GACrBw9B,EAAKmG,SAAS37B,EAAKhI,GAEnBgvC,EAAWrpC,KAAKm7B,WAAW0E,OAAO11B,GAAO01B,OAAOhI,GAAKgI,OAAOuJ,EAAY7hC,KAAMs4B,OAAOuJ,EAAY/mC,KAAMhI,GAE3G,OAAIgvC,GACAA,EAAS9hC,IAAM42B,OAAOkL,EAAS9hC,KAC/B8hC,EAAShnC,IAAM87B,OAAOkL,EAAShnC,KAC/BgnC,EAASrJ,SAAW1lC,EAAQ0lC,SAC5BqJ,EAASnJ,aAAe5lC,EAAQ4lC,cAAgB,EAChDmJ,EAASd,gBAAkBjuC,EAAQiuC,gBACnCc,EAASb,oBAAsBluC,EAAQkuC,oBAEhCa,QARX,CAUJ,EAEAlB,EAAiB3nC,UAAU6jC,YAAc,SAAsBhkC,EAAOC,GAClE,GAAIN,KAAKmpC,UACL,OAAO,KAGX,IAAI9E,EAAcvD,EAAatgC,UAAU6jC,YAAYljC,KAAKnB,KAAMK,EAAOC,GACnEgpC,EAAatpC,KAAKooC,UAAUzC,eAC5B4D,EAAevpC,KAAKooC,UAAU1C,iBAC9BnqB,EAAQqkB,SAAS0J,EAAWjnC,IAAKinC,EAAW/hC,MAAQgiC,EAAalnC,IAAMknC,EAAahiC,KACpFjN,EAAU0F,KAAK1F,QAKnB,MAAO,CACHiN,IAJMy2B,SAASsL,EAAW/hC,IAAK88B,EAAY98B,IAAMgU,GAKjDlZ,IAJM27B,SAASsL,EAAW/hC,IAAK88B,EAAYhiC,IAAMkZ,GAKjDykB,SAAU1lC,EAAQiuC,iBAAmBjuC,EAAQ0lC,SAC7CE,aAAc5lC,EAAQkuC,qBAAuBluC,EAAQ4lC,aAE7D,EAEAiI,EAAiB3nC,UAAUmjC,WAAa,SAAqBpoB,EAAOoM,GAChE,GAAI3nB,KAAKmpC,UACL,MAAO,CAAC,EAGZ,IAAI7uC,EAAU0F,KAAK1F,QACfkvC,EAAMlvC,EAAQiuC,kBAAoBlD,IAClC+D,EAAcppC,KAAKooC,UAAUtjB,QAC7BpiB,EAAM1C,KAAKooC,UAAUzC,eACrBnB,EAAW9hC,EAAI6E,IACfk9B,EAAW/hC,EAAIL,IAEfysB,EAAW1sB,KAAKkZ,IAAItb,KAAK+7B,YAAYpU,IACrC0N,EAAQoP,EAAWD,EACnBviC,EAAQjC,KAAKg8B,aAAazgB,EAAO8Z,GACjCwO,EAAWzhC,KAAKxH,MAAMk0B,EAAW7sB,GACjC6hC,EAAW1hC,KAAKxH,OAAO,EAAIk0B,GAAY7sB,GAGvC+9B,EADQhgC,KAAKooC,UAAU9tC,QACN0lC,SACjBz4B,EAAM,IAAI9K,KAAK+nC,EAAS9nC,UAAYmnC,GACpCxhC,EAAM,IAAI5F,KAAKgoC,EAAS/nC,UAAYonC,GAExC,GAAI0F,EAAK,CACL,IAOIC,EAAkBvL,EAPlB+I,EAAoB3sC,EAAQ2sC,kBAC5BC,EAAgB5sC,EAAQ4sC,cAExBwC,EAAUtmC,KAAK6jC,EAAkBjH,IAAakH,EAAgB7J,cAAc2C,GAC5E2J,EAAY/J,SAAS6E,EAAUD,GAC/BnpB,EAAOukB,SAASv9B,EAAKkF,GACrBqiC,EAAgBxE,WAAWrrC,QAAQimC,GAGvC,GAAI3kB,EAAOgiB,cAAc2C,IAAaA,IAAa3D,aAC/C2D,EAAWoF,WAAWwE,EAAgB,GAGtCriC,EAAMy2B,SAASwG,EADftG,GAASyL,GAAazC,EAAgB,IADtCuC,EAAmBrmC,KAAK6jC,EAAkBjH,KACoB3C,cAAc2C,IAAa,GAEzF39B,EAAM27B,SAASyG,GAAWvG,QAEvB,GAAI7iB,EAAOquB,GAAW1J,IAAapD,MAAO,CAC7C,IAAIiN,EAAY,EAEhB,EAAG,CACCD,IACA5J,EAAWoF,WAAWwE,GACtBC,EAAY,EACZ3L,EAAQ,EAAIb,cAAc2C,GAC1B,GACIyJ,EAAmBxC,EAAkBjH,GAAU6J,GAC/CA,UACKA,EAAY5C,EAAkBjH,GAAUnmC,QAAUqkC,EAAQuL,EAAmBE,EAC1F,OAAS3J,IAAapD,OAASsB,EAAQuL,EAAmBE,IAE1DzL,GAASA,EAAQuL,EAAmBE,GAAa,GACrC,IACRpiC,EAAMy2B,SAASwG,GAAWtG,GAC1B77B,EAAM27B,SAASyG,EAAUvG,GACzB32B,EAAMy2B,SAASz2B,EAAKlE,WAAWhB,EAAK+mC,EAAY7hC,IAAK6hC,EAAY/mC,KAAOA,GACxEA,EAAM27B,SAAS37B,EAAKgB,WAAWkE,EAAK6hC,EAAY7hC,IAAK6hC,EAAY/mC,KAAOkF,GAEhF,CACJ,CAEA,OAAIA,GAAOlF,GAAOu9B,SAASv9B,EAAKkF,GAAO,EAC5B,CACHA,IAAKA,EACLlF,IAAKA,EACL29B,SAAU1lC,EAAQiuC,iBAAmBjuC,EAAQ0lC,SAC7CE,aAAc5lC,EAAQkuC,qBAAuBluC,EAAQ4lC,mBAL7D,CAQJ,EAEAiI,EAAiB3nC,UAAUujC,UAAY,SAAoBxoB,EAAOoM,GAC9D,IAAIyhB,EAAcppC,KAAKooC,UAAUtjB,QAC7BuQ,EAAQr1B,KAAK2jC,WAAWpoB,EAAOoM,GAWnC,OATI0N,IACIA,EAAM9tB,IAAM6hC,EAAY7hC,MACxB8tB,EAAM9tB,IAAM6hC,EAAY7hC,KAExB8tB,EAAMhzB,IAAM+mC,EAAY/mC,MACxBgzB,EAAMhzB,IAAM+mC,EAAY/mC,MAIzBgzB,CACX,EAEA8S,EAAiB3nC,UAAU60B,MAAQ,WAC/B,OAAOr1B,KAAKooC,UAAUzC,cAC1B,EAEAwC,EAAiB3nC,UAAUm0B,aAAe,WACtCmM,EAAatgC,UAAUm0B,aAAaxzB,KAAKnB,MACzCA,KAAK8pC,mBACT,EAEA3B,EAAiB3nC,UAAU20B,YAAc,WACrC2L,EAAatgC,UAAU20B,YAAYh0B,KAAKnB,MACxCA,KAAKkpC,YAAc,EACvB,EAEAf,EAAiB3nC,UAAUu4B,cAAgB,WACvC/4B,KAAK+pC,qBACLjJ,EAAatgC,UAAUu4B,cAAc53B,KAAKnB,KAC9C,EAEAmoC,EAAiB3nC,UAAUupC,mBAAqB,WAC5C,IACIzvC,EADM0F,KACQ1F,QACd4uC,EAFMlpC,KAEYkpC,YACtB,GAA2B,IAAvBA,EAAYrvC,OAAhB,CAIA,IAAI47B,EAAUz1B,KAAKy1B,UACf1K,EAAWzwB,EAAQywB,SACnB2K,EAASp7B,EAAQ4uC,YAAYxT,QAAUp7B,EAAQ45B,OAAOwB,OAEtDmM,EAAaqH,EAAY,GAC7B,GAAIrH,EAAY,CACZ,IAAI/S,EAAW/D,EAAW0K,EAAQ3gB,GAAM+sB,EAAW/kB,IAAInR,SAAW,EAAK8pB,EAAQ7gB,GAC/E5U,KAAKy5B,cAAcoI,EAAYnM,EAAQ5G,EAC3C,CAEA,IAAI6L,EAAYuO,EAAY,GAC5B,GAAIvO,EAAW,CACX,IAAIqP,EAAajf,EAAW0K,EAAQzgB,GAAM2lB,EAAU7d,IAAInR,SAAW,EAAK8pB,EAAQ1gB,GAChF/U,KAAKy5B,cAAckB,EAAWjF,EAAQsU,EAC1C,CAhBA,CAiBJ,EAEA7B,EAAiB3nC,UAAU40B,iBAAmB,WAC1C0L,EAAatgC,UAAU40B,iBAAiBj0B,KAAKnB,MAC7CA,KAAKiqC,uBACT,EAEA9B,EAAiB3nC,UAAUmhC,qBAAuB,WAC9Cb,EAAatgC,UAAUmhC,qBAAqBxgC,KAAKnB,MACjDA,KAAKkqC,uBACT,EAEA/B,EAAiB3nC,UAAU0pC,sBAAwB,WAC/C,IACIhB,EADMlpC,KACYkpC,YAClBhV,EAFMl0B,KAEOk0B,OACjB,GAA2B,IAAvBgV,EAAYrvC,OAAhB,CAaA,IAAIswC,EAAkBjB,EAAY,GAClC,GAAIiB,GAAmBA,EAAgB7vC,QAAQmoB,QAC3C,IAAK,IAAIhoB,EAAI,EAAGA,EAAIy5B,EAAOr6B,OAAQY,IAAK,CAEpC,IADe2vC,EAAKD,EAAiBjW,EAAOz5B,IAExC,KAER,CAGJ,IAAI4vC,EAAiBnB,EAAY,GACjC,GAAImB,GAAkBA,EAAe/vC,QAAQmoB,QACzC,IAAK,IAAIlV,EAAM2mB,EAAOr6B,OAAS,EAAG0T,EAAM,IAAKA,EAAK,CAE9C,IADiB68B,EAAKC,EAAgBnW,EAAO3mB,IAEzC,KAER,CA5BJ,CAEA,SAAS68B,EAAKE,EAAYrZ,GACtB,QAAKA,EAAM32B,QAAQmoB,UAAWwO,EAAMnU,IAAImB,SAASqsB,EAAWxtB,QACxDmU,EAAM32B,QAAQmoB,SAAU,GACjB,EAIf,CAqBJ,EAEA0lB,EAAiB3nC,UAAU8mB,WAAa,WAIpC,IAHA,IAAIxK,EAAMgkB,EAAatgC,UAAU8mB,WAAWnmB,KAAKnB,MAC7CkpC,EAAclpC,KAAKkpC,YAEdzuC,EAAI,EAAGA,EAAIyuC,EAAYrvC,OAAQY,IAAK,CACzC,IAAIw2B,EAAQiY,EAAYzuC,GACpBw2B,EAAM32B,QAAQmoB,SACd3F,EAAIC,KAAKkU,EAAMnU,IAEvB,CAEA,OAAOA,CACX,EAEAqrB,EAAiB3nC,UAAU+0B,gBAAkB,SAA0B95B,EAAOw5B,EAAcK,QAClE,IAAjBA,IAA0BA,EAAe,CAAC,GAE/C,IAAIh7B,EAAU0F,KAAK1F,QACfqqB,EAAWrqB,EAAQ4pC,YAAc5pC,EAAQmuC,aAAenuC,EAAQ4pC,UAAUzoC,GAAS,KACnFwiC,EAAOj+B,KAAKipC,cAAcnD,OAAOrqC,GACjC8uC,EAAatV,EAAauV,YAAYxqC,KAAKipC,cAAc3uC,QAAQ0lC,UAErE/K,EAAavF,OAASuF,EAAavF,QAAU6a,EAC7CjV,EAAa3Q,SAAWA,EAExB,IAAImJ,EAAO9tB,KAAKu6B,cAAc0D,EAAMhJ,EAAcK,GAClD,GAAIxH,EACA,OAAO,IAAI2B,UAAUwO,EAAMnQ,EAAMryB,EAAOkpB,EAAUsQ,EAE1D,EAEAkT,EAAiB3nC,UAAUspC,kBAAoB,WAC3C,IAAI72B,EAAWjT,KAEX0C,EAAM1C,KAAKipC,cACX3C,EAAe5jC,EAAI4jC,aACnBG,EAAa/jC,EAAI+jC,WACjBnsC,EAAU0F,KAAK1F,QACf26B,EAAe18B,OAAO4a,OAAO,CAAC,EAAG7Y,EAAQ45B,OAAQ55B,EAAQ4uC,YAAa,CACtExqB,MAAOhpB,OACPwtB,OAAQ5oB,EAAQ4oB,SAGpB,IAA6B,IAAzB+R,EAAaxS,QAAjB,CAIAziB,KAAKg1B,uBAAuBC,GAC5BA,EAAanF,cAAgBp6B,OAEC,SAA1Bu/B,EAAa/W,WACb+W,EAAa/W,SAAW,EACxB5jB,EAAQ2vC,uBAAwB,GAGpC,IAAIM,EAAatV,EAAauV,YAAYxqC,KAAKipC,cAAc3uC,QAAQ0lC,UACrE/K,EAAavF,OAASuF,EAAavF,QAAU6a,EAE7C,IAAIE,EAAc,SAAUhvC,EAAOwiC,EAAMnQ,GACrC,GAAIA,EAAM,CACN,IAAImD,EAAQ,IAAIxB,UAAUwO,EAAMnQ,EAAMryB,EAAO,KAAMw5B,GACnDhiB,EAAStQ,OAAOsuB,GAChBhe,EAASi2B,YAAY5pC,KAAK2xB,EAC9B,CACJ,EAGAwZ,EAAY,EAAGnE,EADCtmC,KAAKu6B,cAAc+L,EAAcrR,EAAc,CAAEx5B,MAAO,EAAGC,MAAO,KAIlF+uC,EAAY,EAAGhE,EADDzmC,KAAKu6B,cAAckM,EAAYxR,EAAc,CAAEx5B,MAAO,EAAGC,MAAO,IAxB9E,CA0BJ,EAEAysC,EAAiB3nC,UAAUypC,sBAAwB,WAC/C,IAAIh3B,EAAWjT,KAEXk0B,EAASl0B,KAAKkpC,YAClB,GAAKlpC,KAAK1F,QAAQ2vC,wBAAyBjqC,KAAK1F,QAAQywB,UAA8B,IAAlBmJ,EAAOr6B,OAA3E,CAIA,IAAI6wC,EAAc,SAAUzZ,EAAOyF,EAAej7B,GAC9C,IAAIjB,EAAoE,EAA5D4H,KAAKkZ,IAAIob,EAAcj7B,EAAQ,GAAKi7B,EAAcj7B,IAC1DihB,EAAQzJ,EAAS6mB,qBAAqB7I,EAAMnU,IAAKtiB,GACvC,IAAVkiB,IACAuU,EAAM32B,QAAQ4jB,SAAWxB,EACzBuU,EAAMnP,OAAO,IAAIjF,KAEzB,EAEI6Z,EAAgB12B,KAAK42B,wBACzB8T,EAAYxW,EAAO,GAAIwC,EAAe,GACtCgU,EAAYxW,EAAO,GAAIwC,EAAeA,EAAc78B,OAAS,EAb7D,CAcJ,EAEAsuC,EAAiB3nC,UAAU2iC,cAAgB,SAAwB7pC,GAC/D,OAAO0G,KAAKooC,UAAUxC,WAAWtsC,EACrC,EAEA6uC,EAAiB3nC,UAAU25B,KAAO,SAAehwB,EAAM0tB,EAAImC,GACvD,IAAI2Q,EAAY3qC,KAAKooC,UACjB/nC,EAAQ8J,EACR7J,EAAMu3B,EAENx3B,aAAiB5D,OACjB4D,EAAQsqC,EAAU1K,UAAU5/B,IAG5BC,aAAe7D,OACf6D,EAAMqqC,EAAU1K,UAAU3/B,IAG9B,IAAI65B,EAAOn6B,KAAK43B,QAAQv3B,EAAOC,EAAK05B,GACpC,GAAIG,EACA,OAAOA,EAAK3b,QAEpB,EAEA2pB,EAAiB3nC,UAAUo3B,QAAU,SAAkBlrB,EAAG/D,EAAGqxB,GACzD,IAAI35B,EAAQqM,EACRpM,EAAMqI,EAUV,cARWtI,IAAUlJ,WACjBkJ,EAAQL,KAAKmjC,cAAc9iC,WAGpBC,IAAQnJ,WACfmJ,EAAMN,KAAKmjC,cAAc7iC,IAGtBwgC,EAAatgC,UAAUo3B,QAAQz2B,KAAKnB,KAAMK,EAAOC,EAAK05B,EACjE,EAEAmO,EAAiB3nC,UAAU+6B,WAAa,WACpC,IACIlG,EAAQiQ,cADEtlC,KAAK1F,QACe6mC,eAElC,MAAO,CACH55B,IAAK42B,OAAO9I,EAAM9tB,KAClBlF,IAAK87B,OAAO9I,EAAMhzB,KAE1B,EAEA8lC,EAAiB3nC,UAAUgjC,WAAa,SAAqB/nC,EAAOqpB,GAChE,OAAO9kB,KAAKooC,UAAUtC,OAAOrqC,EAAOqpB,EACxC,EAEAqjB,EAAiB3nC,UAAUijC,gBAAkB,WACzC,OAAOzjC,KAAKooC,UAAUvC,aAC1B,EAEAsC,EAAiB3nC,UAAU8gC,aAAe,WACtC,OAAOthC,KAAKooC,UAAU1C,gBAC1B,EAEAyC,EAAiB3nC,UAAU24B,mBAAqB,WAC5C,OAAQn5B,KAAKipC,cAAc3uC,QAAQ4hC,SACvC,EAEAiM,EAAiB3nC,UAAU27B,mBAAqB,WACxCn8B,KAAKmpC,YAITnpC,KAAK1F,QAAQ4mC,WAAalhC,KAAKooC,UAAUj/B,SAC7C,EAEAg/B,EAAiB3nC,UAAU8iC,YAAc,SAAsBxnB,GAC3D,IAAIrgB,EAAQuE,KAAKojC,mBAAmBtnB,GAEpC,OAAc,OAAVrgB,EACO,KAGJuE,KAAKooC,UAAUtC,OAAOrqC,EACjC,EAEA0sC,EAAiB3nC,UAAU+iC,WAAa,SAAqBjqC,GACzD,OAAO0G,KAAKooC,UAAU7E,WAAWjqC,EACrC,EAEA6uC,EAAiB3nC,UAAUmkC,oBAAsB,WAC7C,IAAItP,EAAQr1B,KAAKooC,UAAU7M,aAC3B,MAAO,CACHh0B,IAAKvH,KAAKooC,UAAU7E,WAAWlO,EAAM9tB,KACrClF,IAAKrC,KAAKooC,UAAU7E,WAAWlO,EAAMhzB,KAE7C,EAEA8lC,EAAiB3nC,UAAU+gC,WAAa,WACpC,OAAOvhC,KAAKooC,UAAUtjB,OAC1B,EAEAqjB,EAAiB3nC,UAAUskC,kBAAoB,WAC3C,IAAIzP,EAAQr1B,KAAKooC,UAAUtjB,QAC3B,MAAO,CACHvd,IAAKvH,KAAKooC,UAAU7E,WAAWlO,EAAM9tB,KACrClF,IAAKrC,KAAKooC,UAAU7E,WAAWlO,EAAMhzB,KAE7C,EAEA8lC,EAAiB3nC,UAAUokC,WAAa,WACpC,OAAO5kC,KAAKooC,UAAUxD,YAC1B,EAEAuD,EAAiB3nC,UAAU2oC,QAAU,WACjC,OAAQnpC,KAAK1F,QAAQ6mC,cAActnC,MACvC,EAEAsuC,EAAiB3nC,UAAUghC,aAAe,WACtC,IAAqC,IAAjCxhC,KAAK1F,QAAQ0rC,iBAA6BhmC,KAAKmpC,UAC/C,OAAOnpC,KAAKq1B,QAGhB,IAAI/6B,EAAU0F,KAAK1F,QACfgvC,EAAahE,cAAchrC,EAAQ6mC,eAQvC,OANgB,IAAI4E,UAAUuD,EAAW/hC,IAAK+hC,EAAWjnC,IAAK9J,OAAO4a,OAAO,CAAC,EAAG7Y,EAAS,CACrF4hC,WAAW,EACX8J,iBAAiB,EACjBI,YAAY,KAGCT,cACrB,EAEOwC,CACX,CAloBuB,CAkoBrBrH,cAuBF,SAAS8J,cAAcrjC,EAAKlF,EAAKwoC,GAC7B,IAAKtjC,IAAQlF,EACT,OAAO,EAGX,IAAIyoC,EAEJ,GAAIvjC,GAAO,GAAKlF,GAAO,EAAG,CACtB,IAAIg5B,EAAW9zB,IAAQlF,EAAM,EAAIkF,EAGjC,IAAe,IAAXsjC,IAAsBA,IADdxoC,EAAMg5B,GAAYh5B,EACa6iC,eACvC,OAAO,EAGX4F,EAAU1oC,KAAKC,IAAI,EAAGg5B,GAAah5B,EAAMg5B,GAAY,EACzD,MACIyP,EAAUvjC,EAGd,OAAOujC,CACX,CAEA,SAASC,cAAcxjC,EAAKlF,EAAKwoC,GAC7B,IAAKtjC,IAAQlF,EACT,OAAO,EAGX,IAAI2oC,EAEJ,GAAIzjC,GAAO,GAAKlF,GAAO,EAAG,CACtB,IAAIi5B,EAAW/zB,IAAQlF,EAAM,EAAIA,EAE7BgZ,EAAOjZ,KAAKkZ,KAAKggB,EAAW/zB,GAAO+zB,GACvC,IAAe,IAAXuP,IAAsBA,GAAUxvB,EAAO6pB,eACvC,OAAO,EAGX8F,EAAU5oC,KAAKmF,IAAI,EAAG+zB,GAAa/zB,EAAM+zB,GAAY,EACzD,MACI0P,EAAU3oC,EAGd,OAAO2oC,CACX,CAEA,SAASvoC,MAAMnJ,EAAO47B,GAClB,OAAO1xB,QAAQpB,KAAKK,MAAMnJ,EAAQ47B,GAAQA,EAAMj/B,kBACpD,CAEA,SAASuM,KAAKlJ,EAAO47B,GACjB,OAAO1xB,QAAQpB,KAAKI,KAAKlJ,EAAQ47B,GAAQA,EAAMj/B,kBACnD,CAEA,SAASg1C,gBAAgB3xC,GACrB,OAAO8I,KAAKC,IAAID,KAAKmF,IAAIjO,EAAO0rC,mBAAoBA,iBACxD,CA7EAphC,kBAAkBukC,iBAAkB,CAChCtkC,KAAM/N,KACNo+B,OAAQ,CACJsW,YAAavF,kBAEjBiE,YAAa,CACTzmB,SAAS,GAEbwkB,kBAAmB,CACfpJ,aAAc,CAAE,EAAG,GAAI,KACvBD,QAAS,CAAE,EAAG,EAAG,EAAG,GAAI,IACxBD,QAAS,CAAE,EAAG,EAAG,EAAG,GAAI,IACxBD,MAAO,CAAE,EAAG,EAAG,GACfD,KAAM,CAAE,EAAG,EAAG,GACdD,MAAO,CAAE,EAAG,GACZD,OAAQ,CAAE,EAAG,EAAG,EAAG,GACnBD,MAAO,CAAE,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,KAEjC4J,cAAe,KA6DnB,IAAIgE,kBAAoB9oC,KAAKoZ,IAAI,GAAyB,EAApBvlB,mBAElCk1C,YAAe,SAAUlX,GACzB,SAASkX,EAAY3P,EAAWC,EAAWnhC,EAAS+nB,GAChD4R,EAAK9yB,KAAKnB,KAAMzH,OAAO4a,OAAO,CAAC,EAAG7Y,EAAS,CACvCkhC,UAAWA,EACXC,UAAWA,IACXpZ,EACR,CAoOA,OAlOK4R,IAAOkX,EAAY1yC,UAAYw7B,GACpCkX,EAAY3qC,UAAYjI,OAAOuN,OAAQmuB,GAAQA,EAAKzzB,WACpD2qC,EAAY3qC,UAAUhE,YAAc2uC,EAEpCA,EAAY3qC,UAAUqhB,gBAAkB,SAA0BvnB,GAC9D,IAAI8wC,EAAcC,gBAAgB/wC,EAAQkhC,UAAWlhC,EAAQmhC,UAAWnhC,GAGxE,OAFA0F,KAAKsrC,aAAeC,iBAAiBH,EAAa9wC,GAE3CkxC,YAAYJ,EAAa9wC,EACpC,EAEA6wC,EAAY3qC,UAAUi0B,WAAa,WAC/Bz0B,KAAKgkC,SAAWhkC,KAAKsrC,aAAa/jC,IAClCvH,KAAKikC,SAAWjkC,KAAKsrC,aAAajpC,IAClCrC,KAAKyrC,eAAiBzrC,KAAKsrC,aAAa9U,UACxCx2B,KAAKw7B,UAAYx7B,KAAK1F,QAAQkhC,UAC9Bx7B,KAAKy7B,UAAYz7B,KAAK1F,QAAQmhC,SAClC,EAEA0P,EAAY3qC,UAAU7D,MAAQ,WAC1B,OAAO,IAAIwuC,EACPnrC,KAAKw7B,UACLx7B,KAAKy7B,UACLljC,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,SACvB0F,KAAKqiB,aAEb,EAEA8oB,EAAY3qC,UAAU6iC,WAAa,WAC/B,OAAO,CACX,EAEA8H,EAAY3qC,UAAU60B,MAAQ,WAC1B,IAAI/6B,EAAU0F,KAAK1F,QACnB,MAAO,CAAEiN,IAAKjN,EAAQiN,IAAKlF,IAAK/H,EAAQ+H,IAC5C,EAEA8oC,EAAY3qC,UAAUkrC,aAAe,SAAuBC,GACxD,GAAkB,IAAdA,EACA,OAAO,EAGX,IAAIrxC,EAAU0F,KAAK1F,QACf+6B,EAAQ/6B,EAAQ+H,IAAM/H,EAAQiN,IAElC,OAAOnF,KAAKK,MAAMe,QAAQ6xB,EAAQsW,EAAW/1C,kBAAoB,CACrE,EAEAu1C,EAAY3qC,UAAU2hC,iBAAmB,SAA2Bp6B,EAAM4uB,GACtE,IAAIr8B,EAAU0F,KAAK1F,QACfoI,EAAM1C,KAAK27B,WACXE,EAAUn5B,EAAIm5B,QACdC,EAAap5B,EAAIo5B,WACjBrG,EAAU/yB,EAAI+yB,QAIdP,EAAOntB,GAHIrF,EAAIk5B,UACPthC,EAAQ+H,IAAM/H,EAAQiN,MAG9BqkC,EAAY5rC,KAAK0rC,aAAa3jC,GAC9Bq6B,EAAY,GACZt2B,EAAM2pB,EAAQqG,GACd+P,EAAW,EAEXlV,IACAkV,EAAWlV,EAAW5uB,GAG1B,IAAK,IAAInO,EAAM,EAAGA,EAAMgyC,EAAWhyC,IAC3BA,EAAMiyC,GAAa,GACnBzJ,EAAU9iC,KAAKkE,QAAQsI,EAAKlW,kBAGhCkW,GAAYopB,EAAO2G,EAGvB,OAAOuG,CACX,EAEA+I,EAAY3qC,UAAUo2B,sBAAwB,WAC1C,OAAO52B,KAAKmiC,iBAAiBniC,KAAK1F,QAAQk8B,UAC9C,EAEA2U,EAAY3qC,UAAUq2B,sBAAwB,WAC1C,OAAO72B,KAAKmiC,iBAAiBniC,KAAK1F,QAAQw8B,UAC9C,EAEAqU,EAAY3qC,UAAUo3B,QAAU,SAAkBlrB,EAAG/D,EAAGqxB,QACrC,IAAVA,IAAmBA,GAAQ,GAEhC,IAAI1/B,EAAU0F,KAAK1F,QACfoI,EAAM1C,KAAK27B,WACXhmB,EAAOjT,EAAIiT,KACXkmB,EAAUn5B,EAAIm5B,QACdpG,EAAU/yB,EAAI+yB,QACdmG,EAAWl5B,EAAIk5B,SACfpK,EAAY9uB,EAAI8uB,UAChB0D,EAAO2G,GAAWD,GAAYthC,EAAQ+H,IAAM/H,EAAQiN,MAEpDlH,EAAQqD,eAAegJ,EAAG/D,GAAK,GAC/BrI,EAAMoD,eAAeiF,EAAG+D,GAAK,GAE7BstB,IACA35B,EAAQgD,WAAWhD,EAAO/F,EAAQiN,IAAKjN,EAAQ+H,KAC/C/B,EAAM+C,WAAW/C,EAAKhG,EAAQiN,IAAKjN,EAAQ+H,MAG/C,IAAI0gC,EAAK3gC,KAAKmF,IAAIlH,EAAOC,GAAOhG,EAAQiN,IACpCy7B,EAAK5gC,KAAKC,IAAIhC,EAAOC,GAAOhG,EAAQiN,IAEpCs7B,EAAU,IAAIhmB,IAAI4Y,EAAQ7gB,GAAI6gB,EAAQ3gB,GAAI2gB,EAAQ7gB,GAAI6gB,EAAQ3gB,IAIlE,OAHA+tB,EAAQltB,EAAO,GAAKs1B,gBAAgBzZ,EAAY0D,GAAQ2G,EAAU,EAAIkH,EAAKC,IAC3EH,EAAQltB,EAAO,GAAKs1B,gBAAgBzZ,EAAY0D,GAAQ2G,EAAU,EAAImH,EAAKD,IAEpEF,CACX,EAEAsI,EAAY3qC,UAAUsrC,SAAW,SAAmBhwB,GAChD,IAAIxhB,EAAU0F,KAAK1F,QACf+H,EAAMxL,OAAOyD,EAAQ+H,KACrBkF,EAAM1Q,OAAOyD,EAAQiN,KACrBlN,EAAS2F,KAAK+7B,YAAYjgB,GAG9B,OAAIzhB,EAAS,GAAKA,EAAS,EAChB,KAIJmJ,QADK+D,EANMlN,GAAUgI,EAAMkF,GAOZtR,kBAC1B,EAEAk1C,EAAY3qC,UAAUkjC,eAAiB,SAAyBzhC,GAC5D,IAAI3H,EAAU0F,KAAK1F,QACfywB,EAAWzwB,EAAQywB,SACnBwE,EAAUj1B,EAAQi1B,QAClBltB,EAAM/H,EAAQ+H,IACdkF,EAAMjN,EAAQiN,IAEdq0B,EADM57B,KAAK27B,WACIC,SAGfvhC,EAASmJ,QAAQvB,GADT25B,GADAv5B,EAAMkF,IAEkBtR,mBAMpC,OAJK80B,IAAYwE,GAAcxE,GAAYwE,IACvCl1B,GAAUA,GAGP,CACHkN,IAAKA,EAAMlN,EACXgI,IAAKA,EAAMhI,EACXA,OAAQA,EAEhB,EAEA8wC,EAAY3qC,UAAUu0B,YAAc,WAChC,OAAO/0B,KAAK0rC,aAAa1rC,KAAK1F,QAAQk8B,UAC1C,EAEA2U,EAAY3qC,UAAU+0B,gBAAkB,SAA0B95B,EAAOw5B,EAAcK,GACnF,IAAIh7B,EAAU0F,KAAK1F,QACfhB,EAAQkK,QAAQlJ,EAAQiN,IAAO9L,EAAQnB,EAAQk8B,UAAYvgC,mBAC3D63B,EAAO9tB,KAAKu6B,cAAcjhC,EAAO27B,EAAcK,GAEnD,OAAO,IAAI7F,UAAUn2B,EAAOw0B,EAAMryB,EAAO,KAAMw5B,EACnD,EAEAkW,EAAY3qC,UAAU45B,iBAAmB,SAA2B9gC,GAChE,IAAI+7B,EAAQr1B,KAAKq1B,QACjB,OAAOA,EAAM9tB,KAAOjO,GAASA,GAAS+7B,EAAMhzB,GAChD,EAEA8oC,EAAY3qC,UAAU4jC,IAAM,SAAcniC,GACtC,IAAIozB,EAAQr1B,KAAK0jC,eAAezhC,GAChC,OAAOjC,KAAKm7B,WAAW9F,EAAM9tB,IAAK8tB,EAAMhzB,IAAKrC,KAAKgkC,SAAUhkC,KAAKikC,SAAU5O,EAAMh7B,OACrF,EAEA8wC,EAAY3qC,UAAU6jC,YAAc,SAAsBhkC,EAAOC,GAC7D,IAAI+iC,EAAarjC,KAAK8rC,SAASzrC,GAC3B0rC,EAAW/rC,KAAK8rC,SAASxrC,GACzBiH,EAAMnF,KAAKmF,IAAI87B,EAAY0I,GAC3B1pC,EAAMD,KAAKC,IAAIghC,EAAY0I,GAE/B,GAAI/rC,KAAKgsC,aAAazkC,EAAKlF,GACvB,MAAO,CACHkF,IAAKA,EACLlF,IAAKA,EAGjB,EAEA8oC,EAAY3qC,UAAUmjC,WAAa,SAAqBpoB,EAAOoM,GAC3D,IAAImH,EAAW1sB,KAAKkZ,IAAItb,KAAK+7B,YAAYpU,IACrC0N,EAAQr1B,KAAK1F,QAAQ+H,IAAMrC,KAAK1F,QAAQiN,IACxCtF,EAAQjC,KAAKg8B,aAAazgB,EAAO8Z,GACjCwO,EAAW/U,EAAW7sB,EACtB6hC,GAAY,EAAIhV,GAAY7sB,EAC5BsF,EAAM/D,QAAQxD,KAAK1F,QAAQiN,IAAMs8B,EAAU5tC,mBAC3CoM,EAAMmB,QAAQxD,KAAK1F,QAAQ+H,IAAMyhC,EAAU7tC,mBAM/C,OAJIoM,EAAMkF,EAAM2jC,oBACZ7oC,EAAMkF,EAAM2jC,mBAGT,CACH3jC,IAAKA,EACLlF,IAAKA,EAEb,EAEA8oC,EAAY3qC,UAAUujC,UAAY,SAAoBxoB,EAAOoM,GACzD,IACIqc,EADMhkC,KACSgkC,SACfC,EAFMjkC,KAESikC,SACf5O,EAAQr1B,KAAK2jC,WAAWpoB,EAAOoM,GAEnC,MAAO,CACHpgB,IAAKlE,WAAWgyB,EAAM9tB,IAAKy8B,EAAUC,GACrC5hC,IAAKgB,WAAWgyB,EAAMhzB,IAAK2hC,EAAUC,GACrCgI,aAAa,EAErB,EAEAd,EAAY3qC,UAAUwrC,aAAe,SAAuBzkC,EAAKlF,GAC7D,OAAOA,EAAMkF,EAAM2jC,iBACvB,EAEOC,CACX,CA3OkB,CA2OhBlX,MAEF,SAASoX,gBAAgB7P,EAAWC,EAAWnhC,GAC3C,IAAI2xC,EAAc3xC,EAAQ2xC,YAEtBC,EAAUtB,cAAcpP,EAAWC,EAAWwQ,GAC9CE,EAAUpB,cAAcvP,EAAWC,EAAWwQ,GAE9CzV,EAAYpb,cAAc8wB,EAASC,GACnCf,EAAc,CACd5U,UAAWA,GAgBf,OAbiC,IAA7Bl8B,EAAQ8xC,mBACJF,EAAU,GAAKG,eAAeH,EAAS1V,EAAW,EAAI,KACtD0V,GAAW1V,GAGX2V,EAAU,GAAKE,eAAeF,EAAS3V,EAAW,EAAI,KACtD2V,GAAW3V,IAInB4U,EAAY7jC,IAAM9E,MAAMypC,EAAS1V,GACjC4U,EAAY/oC,IAAMG,KAAK2pC,EAAS3V,GAEzB4U,CACX,CAEA,SAASG,iBAAiBH,EAAa9wC,GACnC,MAAO,CACHiN,IAAK1E,QAAQvI,EAAQiN,KAAOnF,KAAKmF,IAAI6jC,EAAY7jC,IAAKjN,EAAQiN,KAAO6jC,EAAY7jC,IACjFlF,IAAKQ,QAAQvI,EAAQ+H,KAAOD,KAAKC,IAAI+oC,EAAY/oC,IAAK/H,EAAQ+H,KAAO+oC,EAAY/oC,IACjFm0B,UAAW4U,EAAY5U,UAE/B,CAEA,SAAS8V,gBAAgBhyC,EAAS6E,GAC9B,IAAK,IAAIvF,EAAM,EAAGA,EAAMuF,EAAOtF,OAAQD,IAAO,CAC1C,IAAIwD,EAAQ+B,EAAOvF,GACI,OAAnBU,EAAQ8C,KACR9C,EAAQ8C,QAASoK,EAEzB,CACJ,CAEA,SAASgkC,YAAYJ,EAAamB,GAC9B,IACIC,EAAYC,EADZnyC,EAAUiyC,EAGd,GAAIA,EAAa,CACbD,gBAAgBC,EAAa,CAAE,MAAO,QAEtCC,EAAa3pC,QAAQ0pC,EAAYhlC,KACjCklC,EAAa5pC,QAAQ0pC,EAAYlqC,KAEjC,IAAIqqC,EAAgBF,GAAcC,EAE9BC,GACIH,EAAYhlC,MAAQglC,EAAYlqC,MAC5BkqC,EAAYhlC,IAAM,EAClBglC,EAAYhlC,IAAM,EAElBglC,EAAYlqC,IAAM,GAK1BkqC,EAAY/V,WACZ4U,EAAY7jC,IAAM9E,MAAM2oC,EAAY7jC,IAAKglC,EAAY/V,WACrD4U,EAAY/oC,IAAMG,KAAK4oC,EAAY/oC,IAAKkqC,EAAY/V,YAC7CkW,IACPpyC,EAAUuC,WAAWuuC,EAAamB,GAGlCnB,EAAY5U,UAAYpb,cAAc9gB,EAAQiN,IAAKjN,EAAQ+H,KAEnE,CAEA+oC,EAAYtU,WAAax8B,EAAQk8B,WAAa4U,EAAY5U,WAAa,EAEvE,IAAI56B,EAASiB,WAAWuuC,EAAa9wC,GASrC,OARIsB,EAAO2L,KAAO3L,EAAOyG,MACjBmqC,IAAeC,EACf7wC,EAAOyG,IAAMzG,EAAO2L,IAAM3L,EAAO46B,WACzBgW,GAAcC,IACtB7wC,EAAO2L,IAAM3L,EAAOyG,IAAMzG,EAAO46B,YAIlC56B,CACX,CAEA,SAASywC,eAAe/yC,EAAOqzC,EAASC,GACpC,IAAIC,EAAYrpC,QAAQpB,KAAKkZ,IAAIhiB,EAAQqzC,GAAU12C,mBAGnD,OAAqB,IAAd42C,GAAmBA,EAFVF,GAAW,EAAIC,EAGnC,CAEAhpC,kBAAkBunC,YAAa,CAC3BtnC,KAAM,UACN0D,IAAK,EACLlF,IAAK,EACL0oB,UAAU,EACVqN,eAAgB,CACZ3V,SAAS,EACTjoB,MAAO,EACPuO,MAAOvT,SAEX0+B,OAAQ,CACJxE,OAAQ,0BAEZxM,OAAQ,IAGZ,IAAI4pB,kBAAoB,IAEpBC,cAAiB,SAAU9Y,GAC3B,SAAS8Y,EAAcvR,EAAWC,EAAW+P,EAAanpB,GACtD,IAAI9a,EAAM42B,OAAO3C,GACbn5B,EAAM87B,OAAO1C,GAEblJ,EAAclQ,EAAaqQ,KAC3Bp4B,EAAUkxC,GAAe,CAAC,EAO9BlxC,EAAU0yC,cAAczlC,EAAKlF,EAN7B/H,EAAUuC,WAAWvC,GAAW,CAAC,EAAG,CAChCiN,IAAKwqB,UAAUQ,EAAaj4B,EAAQiN,KACpClF,IAAK0vB,UAAUQ,EAAaj4B,EAAQ+H,KACpC+5B,kBAAmBsE,WAAWnO,EAAaj4B,EAAQ2yC,oBAAsB3yC,EAAQ8hC,mBACjFiC,aAAcrM,SAAS13B,EAASi4B,MAIpC0B,EAAK9yB,KAAKnB,KAAM1F,EAAS+nB,GAEzBriB,KAAKuyB,YAAcA,EACnBvyB,KAAKw7B,UAAYj0B,EACjBvH,KAAKy7B,UAAYp5B,EAEjB,IAAIg8B,EAAe/jC,EAAQ+jC,cAAgB,EAC3Cr+B,KAAKgkC,SAAWnE,OAAOJ,UAAUI,OAAOt4B,GAAO,EAAGjN,EAAQ0lC,SAAU3B,IACpEr+B,KAAKikC,SAAWpE,OAAOH,SAASG,OAAOx9B,GAAO,EAAG/H,EAAQ0lC,SAAU3B,GACvE,CA0KA,OAxKKpK,IAAO8Y,EAAct0C,UAAYw7B,GACtC8Y,EAAcvsC,UAAYjI,OAAOuN,OAAQmuB,GAAQA,EAAKzzB,WACtDusC,EAAcvsC,UAAUhE,YAAcuwC,EAEtCA,EAAcvsC,UAAU7D,MAAQ,WAC5B,OAAO,IAAIowC,EAAc/sC,KAAKw7B,UAAWx7B,KAAKy7B,UAAWljC,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,SAAU0F,KAAKqiB,aACnG,EAEA0qB,EAAcvsC,UAAU60B,MAAQ,WAC5B,IAAI/6B,EAAU0F,KAAK1F,QACnB,MAAO,CAAEiN,IAAKjN,EAAQiN,IAAKlF,IAAK/H,EAAQ+H,IAC5C,EAEA0qC,EAAcvsC,UAAUkrC,aAAe,SAAuBC,GAC1D,IAAIrxC,EAAU0F,KAAK1F,QAEnB,OAAO8H,KAAKK,MACR29B,SAAS9lC,EAAQiN,IAAKjN,EAAQ+H,IAAK/H,EAAQ0lC,UAAY2L,EAAY,EAE3E,EAEAoB,EAAcvsC,UAAU2hC,iBAAmB,SAA2BjN,GAYlE,IAXA,IAAI56B,EAAU0F,KAAK1F,QACfoI,EAAM1C,KAAK27B,WACXuR,EAAMxqC,EAAIm5B,QACVD,EAAWl5B,EAAIk5B,SACfv7B,EAAQqC,EAAI8uB,UACZoa,EAAY5rC,KAAK0rC,aAAaxW,GAE9B3Z,EAAQqgB,EADIgE,SAAStlC,EAAQ+H,IAAK/H,EAAQiN,KAE1C82B,EAAe/jC,EAAQ+jC,cAAgB,EAEvC+D,EAAY,CAAE/hC,GACT5F,EAAI,EAAGA,EAAImxC,EAAWnxC,IAAK,CAChC,IACIqR,EAAMzL,EAAQu/B,SADPZ,YAAY1kC,EAAQiN,IAAK9M,EAAIy6B,EAAM56B,EAAQ0lC,SAAU3B,GAC/B/jC,EAAQiN,KAAOgU,EAAQ2xB,EAExD9K,EAAU9iC,KAAKkE,QAAQsI,EAAKlW,iBAChC,CAEA,OAAOwsC,CACX,EAEA2K,EAAcvsC,UAAUo2B,sBAAwB,WAC5C,OAAO52B,KAAKmiC,iBAAiBniC,KAAK1F,QAAQk8B,UAC9C,EAEAuW,EAAcvsC,UAAUq2B,sBAAwB,WAC5C,OAAO72B,KAAKmiC,iBAAiBniC,KAAK1F,QAAQw8B,UAC9C,EAEAiW,EAAcvsC,UAAUo3B,QAAU,SAAkBlrB,EAAG/D,EAAGqxB,GACtD,OAAOmR,YAAY3qC,UAAUo3B,QAAQz2B,KACjCnB,KAAM+xB,UAAU/xB,KAAKuyB,YAAa7lB,GAAIqlB,UAAU/xB,KAAKuyB,YAAa5pB,GAAIqxB,EAE9E,EAEA+S,EAAcvsC,UAAUsrC,SAAW,SAAmBhwB,GAClD,IAAIxiB,EAAQ6xC,YAAY3qC,UAAUsrC,SAAS3qC,KAAKnB,KAAM8b,GAEtD,OAAiB,OAAVxiB,EAAiB6kC,OAAO7kC,GAAS,IAC5C,EAEAyzC,EAAcvsC,UAAUu0B,YAAc,WAClC,OAAO/0B,KAAK0rC,aAAa1rC,KAAK1F,QAAQk8B,UAC1C,EAEAuW,EAAcvsC,UAAU+0B,gBAAkB,SAA0B95B,EAAOw5B,EAAcK,GACrF,IAAIh7B,EAAU0F,KAAK1F,QACfD,EAASoB,EAAQnB,EAAQk8B,UACzB6H,EAAe/jC,EAAQ+jC,cAAgB,EACvCJ,EAAO3jC,EAAQiN,IAEflN,EAAS,IACT4jC,EAAOe,YAAYf,EAAM5jC,EAAQC,EAAQ0lC,SAAU3B,IAGvD,IAAIkM,EAAatV,EAAauV,YAAYlwC,EAAQ0lC,UAClD/K,EAAavF,OAASuF,EAAavF,QAAU6a,EAE7C,IAAIzc,EAAO9tB,KAAKu6B,cAAc0D,EAAMhJ,EAAcK,GAClD,OAAO,IAAI7F,UAAUwO,EAAMnQ,EAAMryB,EAAO,KAAMw5B,EAClD,EAEA8X,EAAcvsC,UAAUkjC,eAAiB,SAAyBzhC,GAC9D,IAAI3H,EAAU0F,KAAK1F,QACfm7B,EAAUz1B,KAAKy1B,UACf1K,EAAWzwB,EAAQywB,SACnBwE,EAAUj1B,EAAQi1B,QAClB/pB,EAAOulB,EAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QAC7C66B,EAAQr1B,KAAKq1B,QACb9Z,EAAQ/V,EAAOo6B,SAASvK,EAAMhzB,IAAKgzB,EAAM9tB,KAEzClN,EAASmJ,QAAQvB,EAAQsZ,EAAOtlB,mBAQpC,OAPK80B,IAAYwE,GAAcxE,GAAYwE,IACvCl1B,GAAUA,GAMP,CACHkN,IAJOy2B,SAAS1jC,EAAQiN,IAAKlN,GAK7BgI,IAJK27B,SAAS1jC,EAAQ+H,IAAKhI,GAK3BA,OAAQA,EAEhB,EAEA0yC,EAAcvsC,UAAU45B,iBAAmB,SAA2B9gC,GAClE,IAAI+7B,EAAQr1B,KAAKq1B,QAEjB,OAAOsK,aAAarmC,EAAO+7B,EAAM9tB,MAAQ,GAAKo4B,aAAarmC,EAAO+7B,EAAMhzB,MAAQ,CACpF,EAEA0qC,EAAcvsC,UAAU4jC,IAAM,SAAcniC,GACxC,IAAIozB,EAAQr1B,KAAK0jC,eAAezhC,GAAO,GACnCkrC,EAAgBntC,KAAKm7B,WAAW0E,OAAOxK,EAAM9tB,KAAMs4B,OAAOxK,EAAMhzB,KAAMrC,KAAKgkC,SAAUhkC,KAAKikC,SAAU5O,EAAMh7B,QAE9G,GAAI8yC,EACA,MAAO,CACH5lC,IAAK42B,OAAOgP,EAAc5lC,KAC1BlF,IAAK87B,OAAOgP,EAAc9qC,KAGtC,EAEA0qC,EAAcvsC,UAAU6jC,YAAc,SAAsBhkC,EAAOC,GAC/D,IAAI+iC,EAAarjC,KAAK8rC,SAASzrC,GAC3B0rC,EAAW/rC,KAAK8rC,SAASxrC,GACzBiH,EAAMnF,KAAKmF,IAAI87B,EAAY0I,GAC3B1pC,EAAMD,KAAKC,IAAIghC,EAAY0I,GAE/B,MAAO,CACHxkC,IAAK42B,OAAO52B,GACZlF,IAAK87B,OAAO97B,GAEpB,EAEA0qC,EAAcvsC,UAAUmjC,WAAa,SAAqBpoB,EAAOoM,GAC7D,IAAImH,EAAW1sB,KAAKkZ,IAAItb,KAAK+7B,YAAYpU,IACrC0N,EAAQr1B,KAAK1F,QAAQ+H,IAAMrC,KAAK1F,QAAQiN,IACxCtF,EAAQjC,KAAKg8B,aAAazgB,EAAO8Z,GACjCwO,EAAW/U,EAAW7sB,EACtB6hC,GAAY,EAAIhV,GAAY7sB,EAC5BsF,EAAM42B,OAAO0B,OAAO7/B,KAAK1F,QAAQiN,KAAOs8B,GACxCxhC,EAAM87B,OAAO0B,OAAO7/B,KAAK1F,QAAQ+H,KAAOyhC,GAM5C,OAJIzhC,EAAMkF,EAAMulC,oBACZzqC,EAAM87B,OAAO0B,OAAOt4B,GAAOulC,oBAGxB,CACHvlC,IAAKA,EACLlF,IAAKA,EAEb,EAEA0qC,EAAcvsC,UAAUujC,UAAY,SAAoBxoB,EAAOoM,GAC3D,IAAI0N,EAAQr1B,KAAK2jC,WAAWpoB,EAAOoM,GAInC,MAAO,CACHpgB,IAJM42B,OAAO96B,WAAWw8B,OAAOxK,EAAM9tB,KAAMvH,KAAKgkC,SAAUhkC,KAAKikC,WAK/D5hC,IAJM87B,OAAO96B,WAAWw8B,OAAOxK,EAAMhzB,KAAMrC,KAAKgkC,SAAUhkC,KAAKikC,WAMvE,EAEO8I,CACX,CAnMoB,CAmMlB9Y,MAEF,SAASmZ,UAAUnrC,GACf,IAAI8F,EAAOy0B,MAYX,OAVIv6B,GAASm7B,cACTr1B,EAAO60B,MACA36B,GAASk7B,eAChBp1B,EAAO40B,OACA16B,GAASi7B,cAChBn1B,EAAO20B,MACAz6B,GAASg7B,eAChBl1B,EAAO00B,MAGJ10B,CACX,CAEA,SAASilC,cAAcxR,EAAWC,EAAWnhC,GACzC,IAAIiN,EAAMjN,EAAQiN,KAAOi0B,EACrBn5B,EAAM/H,EAAQ+H,KAAOo5B,EACrBuE,EAAW1lC,EAAQ0lC,WAAa39B,GAAOkF,EAAM6lC,UAAUtP,iBAAiBz7B,EAAKkF,IAAQi1B,OACrF6Q,EAAehQ,cAAc2C,GAC7B3B,EAAe/jC,EAAQ+jC,cAAgB,EACvC6N,EAAUzM,UAAUI,OAAOt4B,GAAO,EAAGy4B,EAAU3B,IAAiBF,OAAO97B,GACvE8pC,EAAUzM,SAASG,OAAOx9B,GAAO,EAAG29B,EAAU3B,GAE9C7H,GADgBl8B,EAAQk8B,UAAYl8B,EAAQk8B,eAAYhvB,IAC3BhF,KAC7B4Y,cAAc8wB,EAAQxvC,UAAWyvC,EAAQzvC,WACzC2wC,GACAA,EACAC,EAAclN,SAAS8L,EAASC,EAASnM,GAEzCuN,EADa/qC,KAAK8qC,EAAa9W,GACL8W,EAC1BE,EAAOprC,KAAKK,MAAM8qC,EAAa,GAC/BE,EAAOF,EAAaC,EAYxB,OAVKlzC,EAAQ0lC,iBACF1lC,EAAQ0lC,SAGnB1lC,EAAQ0lC,SAAW1lC,EAAQ0lC,UAAYA,EACvC1lC,EAAQiN,IAAMjN,EAAQiN,KAAOy3B,YAAYkN,GAAUsB,EAAMxN,EAAU3B,GACnE/jC,EAAQ+H,IAAM/H,EAAQ+H,KAAO28B,YAAYmN,EAASsB,EAAMzN,EAAU3B,GAClE/jC,EAAQw8B,UAAYx8B,EAAQw8B,WAAaN,EAAY,EACrDl8B,EAAQk8B,UAAYA,EAEbl8B,CACX,CAEAsJ,kBAAkBmpC,cAAe,CAC7BlpC,KAAM/N,KACNsiC,eAAgB,CACZ3V,SAAS,EACTjoB,MAAO,EACPuO,MAAOvT,SAEX0+B,OAAQ,CACJsW,YAAavF,oBAIrB,IAAIyI,mBAAqB,GACrBC,gBAAkB,KAElBC,gBAAmB,SAAU3Z,GAC7B,SAAS2Z,EAAgBpS,EAAWC,EAAWnhC,EAAS+nB,GAEpD,IAAImpB,EAAc3uC,WAAW,CAAE25B,UAAWkX,mBAAoBnmC,IAAKi0B,EAAWn5B,IAAKo5B,GAAanhC,GAC5FuzC,EAAOrC,EAAYhV,UACnB2V,EAAU2B,YAAYrS,EAAWoS,GACjC3B,EAAU6B,YAAYvS,EAAWC,EAAW+P,GAC5CnW,EAAQ2Y,UAAU9B,EAASC,EAASX,EAAalxC,GAErDkxC,EAAYnpC,IAAMgzB,EAAMhzB,IACxBmpC,EAAYjkC,IAAM8tB,EAAM9tB,IACxBikC,EAAY1U,UAAYx8B,EAAQw8B,WAAatzB,QAAQqqC,EAAO,EAAG53C,mBAE/Dg+B,EAAK9yB,KAAKnB,KAAMwrC,EAAanpB,GAE7BriB,KAAKgkC,SAAWnhC,QAAQvI,EAAQiN,KAAOnF,KAAKmF,IAAI2kC,EAAS5xC,EAAQiN,KAAO2kC,EACxElsC,KAAKikC,SAAWphC,QAAQvI,EAAQ+H,KAAOD,KAAKC,IAAI8pC,EAAS7xC,EAAQ+H,KAAO8pC,EACxEnsC,KAAKiuC,OAASzqC,QAAQ0qC,MAAM7Y,EAAM9tB,IAAKsmC,GAAO53C,mBAC9C+J,KAAKmuC,OAAS3qC,QAAQ0qC,MAAM7Y,EAAMhzB,IAAKwrC,GAAO53C,mBAC9C+J,KAAKw7B,UAAYA,EACjBx7B,KAAKy7B,UAAYA,EAEjBz7B,KAAK20B,cACT,CAsUA,OApUKV,IAAO2Z,EAAgBn1C,UAAYw7B,GACxC2Z,EAAgBptC,UAAYjI,OAAOuN,OAAQmuB,GAAQA,EAAKzzB,WACxDotC,EAAgBptC,UAAUhE,YAAcoxC,EAExCA,EAAgBptC,UAAU7D,MAAQ,WAC9B,OAAO,IAAIixC,EACP5tC,KAAKw7B,UACLx7B,KAAKy7B,UACLljC,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,SACvB0F,KAAKqiB,aAEb,EAEAurB,EAAgBptC,UAAU6iC,WAAa,WACnC,OAAOrjC,KAAK1F,QAAQiN,GACxB,EAEAqmC,EAAgBptC,UAAUo3B,QAAU,SAAkBlrB,EAAG/D,EAAGqxB,GACxD,IAAIt3B,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd2zC,EAASvrC,EAAIurC,OACbE,EAASzrC,EAAIyrC,OACbN,EAAOvzC,EAAQk8B,UACfjvB,EAAMjN,EAAQiN,IACdlF,EAAM/H,EAAQ+H,IACdmpB,EAAQxrB,KAAK27B,WACbhmB,EAAO6V,EAAM7V,KACbkmB,EAAUrQ,EAAMqQ,QAChBpG,EAAUjK,EAAMiK,QAChBmG,EAAWpQ,EAAMoQ,SACjBpK,EAAYhG,EAAMgG,UAClB0D,EAAO2G,GAAWD,GAAYuS,EAASF,IACvC5tC,EAAQqD,eAAegJ,EAAG/D,GAAK,GAC/BrI,EAAMoD,eAAeiF,EAAG+D,GAAK,GAEjC,GAAIrM,GAAS,GAAKC,GAAO,EACrB,OAAO,KAGP05B,IACA35B,EAAQgD,WAAWhD,EAAOkH,EAAKlF,GAC/B/B,EAAM+C,WAAW/C,EAAKiH,EAAKlF,IAG/BhC,EAAQ6tC,MAAM7tC,EAAOwtC,GACrBvtC,EAAM4tC,MAAM5tC,EAAKutC,GAEjB,IAAI9K,EAAK3gC,KAAKmF,IAAIlH,EAAOC,GAAO2tC,EAC5BjL,EAAK5gC,KAAKC,IAAIhC,EAAOC,GAAO2tC,EAE5BpL,EAAU,IAAIhmB,IAAI4Y,EAAQ7gB,GAAI6gB,EAAQ3gB,GAAI2gB,EAAQ7gB,GAAI6gB,EAAQ3gB,IAIlE,OAHA+tB,EAAQltB,EAAO,GAAKs1B,gBAAgBzZ,EAAY0D,GAAQ2G,EAAU,EAAIkH,EAAKC,IAC3EH,EAAQltB,EAAO,GAAKs1B,gBAAgBzZ,EAAY0D,GAAQ2G,EAAU,EAAImH,EAAKD,IAEpEF,CACX,EAEA+K,EAAgBptC,UAAUsrC,SAAW,SAAmBhwB,GACpD,IAAIpZ,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd2zC,EAASvrC,EAAIurC,OACbE,EAASzrC,EAAIyrC,OACbN,EAAOvzC,EAAQk8B,UACfhL,EAAQxrB,KAAK27B,WACbhmB,EAAO6V,EAAM7V,KACbkmB,EAAUrQ,EAAMqQ,QAChBrK,EAAYhG,EAAMgG,UAClBoK,EAAWpQ,EAAMoQ,SACjB1G,GAASiZ,EAASF,GAAUrS,EAC5BvhC,EAASwhC,GAAW/f,EAAMnG,GAAQ6b,GAGtC,GAAIn3B,EAAS,GAAKA,EAASuhC,EACvB,OAAO,KAGX,IAAItiC,EAAQ20C,EANM5zC,EAAS66B,EAQ3B,OAAO1xB,QAAQpB,KAAKoZ,IAAIqyB,EAAMv0C,GAAQrD,kBAC1C,EAEA23C,EAAgBptC,UAAU60B,MAAQ,WAC9B,IAAI/6B,EAAU0F,KAAK1F,QACnB,MAAO,CAAEiN,IAAKjN,EAAQiN,IAAKlF,IAAK/H,EAAQ+H,IAC5C,EAEAurC,EAAgBptC,UAAUkjC,eAAiB,SAAyBzhC,GAChE,IAAIS,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd2zC,EAASvrC,EAAIurC,OACbE,EAASzrC,EAAIyrC,OACb5e,EAAUj1B,EAAQi1B,QAClBxE,EAAWzwB,EAAQywB,SACnB8iB,EAAOvzC,EAAQk8B,UACff,EAAUz1B,KAAKy1B,UACfjwB,EAAOulB,EAAW0K,EAAQ9pB,SAAW8pB,EAAQj7B,QAE7CH,EAASmJ,QAAQvB,GADTuD,GAAQ2oC,EAASF,IACOh4C,mBAMpC,OAJK80B,IAAYwE,GAAcxE,GAAYwE,IACvCl1B,GAAUA,GAGP,CACHkN,IAAKnF,KAAKoZ,IAAIqyB,EAAMI,EAAS5zC,GAC7BgI,IAAKD,KAAKoZ,IAAIqyB,EAAMM,EAAS9zC,GAC7BA,OAAQA,EAEhB,EAEAuzC,EAAgBptC,UAAUu0B,YAAc,WACpC,IAAIqZ,EAAWhsC,KAAKK,MAAMzC,KAAKmuC,QAG/B,OAFY/rC,KAAKK,MAAM2rC,EAAWpuC,KAAKiuC,QAAU,CAGrD,EAEAL,EAAgBptC,UAAUo2B,sBAAwB,WAC9C,IAAIsH,EAAQ,GAMZ,OAJAl+B,KAAKquC,6BAA4B,SAAUvf,GACvCoP,EAAM5+B,KAAKwvB,EACf,GAAG,CAAEoG,KAAM,EAAGhd,KAAM,IAEbgmB,CACX,EAEA0P,EAAgBptC,UAAU81B,YAAc,SAAsBC,GAC1D,IAAIj8B,EAAU0F,KAAK1F,QACfi6B,EAAaj6B,EAAQi6B,WACrBF,EAAa/5B,EAAQ+5B,WACrBtJ,EAAWzwB,EAAQywB,SACnB2K,EAASp7B,EAAQ45B,OAAOwB,OACxBD,EAAUz1B,KAAKy1B,UAEfgB,EAAkB,CAGlB1L,SAAUA,GAGd,SAASgG,EAAOud,EAAc5a,GAC1B+C,EAAgB9C,MAAQ+B,EAASD,EAAQ1gB,GAAK0gB,EAAQ1gB,GAAK2e,EAAYluB,KACvEixB,EAAgB7C,MAAQ8B,EAASD,EAAQ3gB,GAAK4e,EAAYluB,KAAOiwB,EAAQ3gB,GACzE2hB,EAAgB3H,SAAWwf,EAE3B/X,EAAU5zB,OAAO8wB,eAAegD,EAAiB/C,GACrD,CAUA,OARIa,EAAW9R,SACXziB,KAAKquC,4BAA4Btd,EAAQwD,GAGzCF,EAAW5R,SACXziB,KAAKuuC,4BAA4Bxd,EAAQsD,GApBjC,EAwBhB,EAEAuZ,EAAgBptC,UAAU03B,gBAAkB,SAA0BX,GAClE,IAAIj9B,EAAU0F,KAAK1F,QACf69B,EAAiB79B,EAAQ69B,eACzBC,EAAiB99B,EAAQ89B,eACzBrN,EAAWzwB,EAAQywB,SACnB0K,EAAU8B,EAAQ9B,UAClB8C,EAAc,CACd/G,UAAWiE,EAAQ1K,EAAW,KAAO,MACrCiJ,QAASyB,EAAQ1K,EAAW,KAAO,MACnCA,SAAUA,GAEVwJ,EAAa,GAEb3G,EAAY5tB,KAAKm2B,kBACrB,SAASpF,EAAOud,EAAcva,GACrB5zB,QAAQmuC,EAAc/Z,KACvBgE,EAAYzJ,SAAWwf,EACvB1gB,EAAUjrB,OAAOmxB,mBAAmByE,EAAaxE,IAEjDQ,EAAWj1B,KAAKgvC,GAExB,CAUA,OARIlW,EAAe3V,SACfziB,KAAKquC,4BAA4Btd,EAAQqH,GAGzCD,EAAe1V,SACfziB,KAAKuuC,4BAA4Bxd,EAAQoH,GAGtCvK,EAAUhM,QACrB,EAEAgsB,EAAgBptC,UAAU6tC,4BAA8B,SAAsC3uC,EAAUg0B,GAQpG,IAPA,IAAIhxB,EAAM1C,KAAK27B,WACXnK,EAAY9uB,EAAI8uB,UAChB0D,EAAOxyB,EAAIwyB,KAEX+Y,EADQjuC,KACOiuC,OACfE,EAFQnuC,KAEOmuC,OAEVK,EAAQpsC,KAAKI,KAAKyrC,GAAUva,EAAYxb,KAAMs2B,GAASL,EAAQK,GAAS9a,EAAYwB,KAAM,CAE/Fx1B,EADe8D,QAAQguB,EAAY0D,GAAQsZ,EAAQP,GAASh4C,mBACzCy9B,EACvB,CACJ,EAEAka,EAAgBptC,UAAU+tC,4BAA8B,SAAsC7uC,EAAUg0B,GAgBpG,IAfA,IAEIhxB,EAAM1C,KAAK1F,QACXiN,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACVy0B,EAAYp0B,EAAIo0B,UAChB+W,EAAOnrC,EAAI8zB,UACXhL,EAAQxrB,KAAK27B,WACbnK,EAAYhG,EAAMgG,UAClB0D,EAAO1J,EAAM0J,KAEb+Y,EADQjuC,KACOiuC,OACfE,EAFQnuC,KAEOmuC,OAGVK,EAFGpsC,KAAKK,MAAMwrC,GAECO,EAAQL,EAAQK,IAEpC,IADA,IAAIC,EAhBOzuC,KAgBiB0uC,sBAAsBF,GACzC50C,EAAM85B,EAAYxb,KAAMte,EAAMk9B,EAAWl9B,GAAO85B,EAAYwB,KAAM,CACvE,IAAI57B,EAAQm1C,EAAan1C,MAAQM,EAAM60C,EAAaE,UACpD,GAAIr1C,EAAQ+I,EACR,MAEJ,GAAI/I,GAASiO,EAET7H,EADe8D,QAAQguB,EAAY0D,GAAQgZ,MAAM50C,EAAOu0C,GAAQI,GAASh4C,mBACtDy9B,EAE3B,CAER,EAEAka,EAAgBptC,UAAU+0B,gBAAkB,SAA0B95B,EAAOw5B,EAAcK,GACvF,IAAIkZ,EAAQpsC,KAAKI,KAAKxC,KAAKiuC,OAASxyC,GAChCnC,EAAQ8I,KAAKoZ,IAAIxb,KAAK1F,QAAQk8B,UAAWgY,GACzC1gB,EAAO9tB,KAAKu6B,cAAcjhC,EAAO27B,EAAcK,GAEnD,OAAO,IAAI7F,UAAUn2B,EAAOw0B,EAAMryB,EAAO,KAAMw5B,EACnD,EAEA2Y,EAAgBptC,UAAU45B,iBAAmB,SAA2B9gC,GACpE,IAAI+7B,EAAQr1B,KAAKq1B,QACjB,OAAOA,EAAM9tB,KAAOjO,GAASA,GAAS+7B,EAAMhzB,GAChD,EAEAurC,EAAgBptC,UAAU4jC,IAAM,SAAcniC,GAC1C,IAAIozB,EAAQr1B,KAAK0jC,eAAezhC,GAChC,OAAOjC,KAAKm7B,WAAW9F,EAAM9tB,IAAK8tB,EAAMhzB,IAAKrC,KAAKgkC,SAAUhkC,KAAKikC,SAAU5O,EAAMh7B,OACrF,EAEAuzC,EAAgBptC,UAAU6jC,YAAc,SAAsBhkC,EAAOC,GACjE,IAAI+iC,EAAarjC,KAAK8rC,SAASzrC,GAC3B0rC,EAAW/rC,KAAK8rC,SAASxrC,GAI7B,MAAO,CACHiH,IAJMnF,KAAKmF,IAAI87B,EAAY0I,GAK3B1pC,IAJMD,KAAKC,IAAIghC,EAAY0I,GAMnC,EAEA6B,EAAgBptC,UAAUmjC,WAAa,SAAqBpoB,EAAOoM,GAC/D,IACIkmB,EADM7tC,KAAK1F,QACAk8B,UACXyX,EAASC,MAAMluC,KAAK1F,QAAQiN,IAAKsmC,GACjCM,EAASD,MAAMluC,KAAK1F,QAAQ+H,IAAKwrC,GACjC/e,EAAW1sB,KAAKkZ,IAAItb,KAAK+7B,YAAYpU,IACrC0N,EAAQ8Y,EAASF,EACjBhsC,EAAQjC,KAAKg8B,aAAazgB,EAAO8Z,GACjC9tB,EAAMnF,KAAKoZ,IAAIqyB,EAAMI,EAASnf,EAAW7sB,GACzCI,EAAMD,KAAKoZ,IAAIqyB,EAAMM,GAAU,EAAIrf,GAAY7sB,GAMnD,OAJII,EAAMkF,EAAMomC,kBACZtrC,EAAMkF,EAAMomC,iBAGT,CACHpmC,IAAKA,EACLlF,IAAKA,EAEb,EAEAurC,EAAgBptC,UAAUujC,UAAY,SAAoBxoB,EAAOoM,GAC7D,IAAI0N,EAAQr1B,KAAK2jC,WAAWpoB,EAAOoM,GAE/Bqc,EADMhkC,KACSgkC,SACfC,EAFMjkC,KAESikC,SAEnB,MAAO,CACH18B,IAAKlE,WAAWgyB,EAAM9tB,IAAKy8B,EAAUC,GACrC5hC,IAAKgB,WAAWgyB,EAAMhzB,IAAK2hC,EAAUC,GAE7C,EAEA2J,EAAgBptC,UAAUkuC,sBAAwB,SAAgCF,GAC9E,IAAI9rC,EAAM1C,KAAK1F,QACXw8B,EAAYp0B,EAAIo0B,UAChB+W,EAAOnrC,EAAI8zB,UACXl9B,EAAQ8I,KAAKoZ,IAAIqyB,EAAMW,GAK3B,MAAO,CACHl1C,MAAOA,EACPq1C,WANYvsC,KAAKoZ,IAAIqyB,EAAMW,EAAQ,GACVl1C,GACAw9B,EAMjC,EAEA8W,EAAgBptC,UAAUm7B,SAAW,WACjC,IAAIiT,EAAO3a,EAAKzzB,UAAUm7B,SAASx6B,KAAKnB,MAGxC,OAFA4uC,EAAK1Z,KAAO0Z,EAAK/S,SAAW+S,EAAKhT,UAAY57B,KAAKmuC,OAASnuC,KAAKiuC,SAEzDW,CACX,EAEOhB,CACX,CA9VsB,CA8VpB3Z,MAEF,SAAS+Z,UAAU9B,EAASC,EAASX,EAAalxC,GAC9C,IAAIiN,EAAMikC,EAAYjkC,IAClBlF,EAAMmpC,EAAYnpC,IAkBtB,OAhBIQ,QAAQ2oC,EAAYpP,oBAAsBoP,EAAYpP,mBAAqB,GAC3EyS,2BAGChsC,QAAQvI,EAAQ+H,KAEV/H,EAAQ+H,KAAO,GACtBwsC,2BAFAxsC,EAAM8pC,EAKLtpC,QAAQvI,EAAQiN,KAEVjN,EAAQiN,KAAO,GACtBsnC,2BAFAtnC,EAAM2kC,EAKH,CACH3kC,IAAKA,EACLlF,IAAKA,EAEb,CAEA,SAAS0rC,YAAYxmC,EAAKlF,EAAK/H,GAC3B,IAAIuzC,EAAOvzC,EAAQk8B,UACf0V,EAAU3kC,EAMd,OALIA,GAAO,EACP2kC,EAAU7pC,GAAO,EAAID,KAAKoZ,IAAIqyB,GAAO,GAAK,EAClCvzC,EAAQ2xC,cAChBC,EAAU9pC,KAAKoZ,IAAIqyB,EAAMzrC,KAAKK,MAAMyrC,MAAM3mC,EAAKsmC,MAE5C3B,CACX,CAEA,SAAS4B,YAAYzrC,EAAKwrC,GACtB,IAAIiB,EAAkBtrC,QAAQ0qC,MAAM7rC,EAAKwrC,GAAO53C,mBAAqB,EAUrE,OARIoM,GAAO,EACGwrC,EACiB,IAApBiB,IAA0BA,EAAkB,IAAOA,EAAkB,IAClE1sC,KAAKoZ,IAAIqyB,EAAMK,MAAM7rC,EAAKwrC,GAAQ,IAElCzrC,KAAKoZ,IAAIqyB,EAAMzrC,KAAKI,KAAK0rC,MAAM7rC,EAAKwrC,IAItD,CAEA,SAASgB,2BACL,MAAM,IAAIE,MAAM,4DACpB,CAEA,SAASb,MAAMjzC,EAAG4yC,GACd,OAAOzrC,KAAKqZ,IAAIxgB,GAAKmH,KAAKqZ,IAAIoyB,EAClC,CAEAjqC,kBAAkBgqC,gBAAiB,CAC/B/pC,KAAM,MACN2yB,UAAWkX,mBACX5W,UAAW,EACXsF,kBAAmB,EACnBrR,UAAU,EACVqN,eAAgB,CACZ3V,SAAS,EACTjoB,MAAO,EACPuO,MAAOvT,SAEX0tB,OAAQ,EACRwR,cAAc,IAGlB,IAAIsa,eAAiB,CACjB9W,gBAAiB,SAASX,GACtB,IAII0X,EAAaC,EAJb50C,EAAU0F,KAAK1F,QACfqiB,EAASva,KAAKkZ,IAAItb,KAAK8c,IAAI3H,SAASja,EAAIq8B,EAAQ9B,UAAU3gB,IAC1DshB,EAAY,GACZ+Y,GAAY,EAoBhB,OAjBI70C,EAAQ89B,eAAe3V,UACvBwsB,EAAcjvC,KAAKovC,oBAAoB7X,GACvC4X,GAAY,EAEZ/Y,EAAYp2B,KAAKqvC,qBACbJ,EAAatyB,EAAQriB,EAAQ89B,iBAIjC99B,EAAQ69B,eAAe1V,UACvBysB,EAAclvC,KAAKsvC,oBAAoB/X,EAAS4X,GAEhDxsC,OAAOyzB,EAAWp2B,KAAKuvC,qBACnBL,EAAavyB,EAAQriB,EAAQ69B,eAAgBZ,EAAS4X,KAIvD/Y,CACX,EAEAiZ,qBAAsB,SAAS5uB,EAAQ9D,EAAQriB,GAC3C,OAAO0F,KAAKwvC,gBAAgB/uB,EAAQ9D,EAAQriB,EAChD,EAEAi1C,qBAAsB,SAAS9uB,EAAQ9D,EAAQriB,EAASi9B,EAAS4X,GAC7D,IAAIM,EAAiBzvC,KAAKyvC,gBAAkBzvC,KAAKyvC,eAAe9yB,EAAQ4a,EAAS4X,GACjF,OAAOnvC,KAAKwvC,gBAAgB/uB,EAAQ9D,EAAQriB,EAASm1C,EACzD,EAEAD,gBAAiB,SAAS/uB,EAAQ9D,EAAQriB,EAASm1C,GAa/C,IAZA,IAAIhyC,EAAQ,CACRlD,OAAQ,CACJC,MAAOF,EAAQE,MACfuO,MAAOzO,EAAQyO,MACf2e,SAAUptB,EAAQotB,WAItBvS,EAASnV,KAAK8c,IAAI3H,SAClBu6B,EAAS,IAAIl8C,SAAS,CAAE2hB,EAAOla,EAAGka,EAAOja,GAAKyhB,GAC9CiR,EAAY5tB,KAAKm2B,kBAEZ17B,EAAI,EAAGA,EAAIgmB,EAAO5mB,OAAQY,IAAK,CACpC,IAAI0R,EAAO,IAAIpZ,OAAO0K,GAClBgyC,IACAC,EAAO/yB,OAAS8yB,EAAehvB,EAAOhmB,KAG1C0R,EAAKqc,OAAOknB,EAAOv6B,QACduM,OAAOguB,EAAOjuB,QAAQhB,EAAOhmB,GAAK,MAEvCmzB,EAAUjrB,OAAOwJ,EACrB,CAEA,OAAOyhB,EAAUhM,QACrB,EAEA+tB,eAAgB,SAASpY,EAAS/xB,EAAM0S,EAAMgd,EAAM0a,GAChD,IAAI38B,EAAWjT,KAEX6vC,EAAO7vC,KAAK8vC,UAAUtqC,EAAM0S,EAAMgd,EAAM0a,GACxCt1C,EAAUi9B,EAAQj9B,QAClBy1C,EAAiBz1C,EAAQmoB,UAA4C,KAAhCnoB,EAAQ6R,MAAQ,CAAC,GAAGsW,QAE7D,OAAOrhB,IAAIyuC,GAAM,SAAUnmB,GACvB,IAAIsmB,EAAQ/8B,EAASg9B,cAAcvmB,GAEnC,IAAKqmB,GAA4B,KAAVC,EACnB,OAAOA,CAEf,GACJ,GAGAE,kBAAqB,SAAUpP,GAC/B,SAASoP,IACLpP,EAAan/B,MAAM3B,KAAMjD,UAC7B,CA6NA,OA3NK+jC,IAAeoP,EAAkBz3C,UAAYqoC,GAClDoP,EAAkB1vC,UAAYjI,OAAOuN,OAAQg7B,GAAgBA,EAAatgC,WAC1E0vC,EAAkB1vC,UAAUhE,YAAc0zC,EAE1CA,EAAkB1vC,UAAU60B,MAAQ,WAChC,MAAO,CAAE9tB,IAAK,EAAGlF,IAAKrC,KAAK1F,QAAQ4mC,WAAWrnC,OAClD,EAEAq2C,EAAkB1vC,UAAUshB,OAAS,SAAiBhF,GAClD9c,KAAK8c,IAAMA,EACX9c,KAAKmwC,cACT,EAEAD,EAAkB1vC,UAAUi1B,QAAU,WAClC,OAAOz1B,KAAK8c,GAChB,EAEAozB,EAAkB1vC,UAAU2vC,aAAe,WAUvC,IATA,IAGIjc,EADMl0B,KACOk0B,OACbe,EAFMj1B,KAEa1F,QAAQ45B,OAC3Bhc,EAAO+c,EAAa/c,MAAQ,EAC5Bgd,EAAOD,EAAaC,MAAQ,EAC5Bkb,EAAa,IAAIvzB,IAEZpiB,EAAI,EAAGA,EAAIy5B,EAAOr6B,OAAQY,IAAK,CACpCy5B,EAAOz5B,GAAGqnB,OAAOsuB,GACjB,IAAI1W,EAAWxF,EAAOz5B,GAAGqiB,IAEzBoX,EAAOz5B,GAAGqnB,OAbC9hB,KAae43B,QAAQ1f,EAAOzd,EAAIy6B,GAAM1V,YAC/C,EAAGka,EAASl/B,QAASk/B,EAAS/tB,UAEtC,CACJ,EAEAukC,EAAkB1vC,UAAUsvC,UAAY,SAAoBtqC,EAAM6qC,EAAYC,EAAYV,QAClE,IAAfA,IAAwBA,GAAa,GAW1C,IATA,IAAIt1C,EAAU0F,KAAK1F,QAEfi2C,EADaj2C,EAAQ4mC,WAAWrnC,OACR2L,GAAQ,EAChCgrC,EAAW,IAAMD,EAEjBrb,EAAOob,GAAc,EACrBT,EAAO,GACPnzB,EAAQ,EAEHjiB,EALE41C,GAAc,EAKN51C,EAAI81C,EAAU91C,GAAKy6B,EAE9BxY,EADApiB,EAAQi1B,QACA,IAAM90B,EAAI+1C,EAEV/1C,EAAI+1C,EAGhB9zB,EAAQlZ,QAAQkZ,EAAO9mB,iBAAmB,IAEpCg6C,GAAczvC,QAAQuc,EAAOkzB,IAC/BC,EAAKvwC,KAAKod,GAIlB,OAAOmzB,CACX,EAEAK,EAAkB1vC,UAAUiwC,eAAiB,WACzC,OAAOzwC,KAAK8vC,UAAU,EAC1B,EAEAI,EAAkB1vC,UAAUkwC,eAAiB,WACzC,OAAO1wC,KAAK8vC,UAAU,GAC1B,EAEAI,EAAkB1vC,UAAUyvC,cAAgB,SAAwBU,GAChE,OAAQ,IAAMA,EAAW3wC,KAAK1F,QAAQ2kB,YAAc,GACxD,EAEAixB,EAAkB1vC,UAAUyuC,YAAc,WACtC,IAAIh8B,EAAWjT,KAEf,OAAOoB,IAAIpB,KAAKywC,kBAAkB,SAAUE,GAAY,OAAO19B,EAASg9B,cAAcU,EAAW,GACrG,EAEAT,EAAkB1vC,UAAUkxB,WAAa,WACrC,MAAO,EACX,EAEAwe,EAAkB1vC,UAAU4uC,oBAAsB,SAA8B7X,GAC5E,IAAIa,EAAiBp4B,KAAK1F,QAAQ89B,eAClC,OAAOp4B,KAAK2vC,eAAepY,EAAS,EAAGa,EAAelgB,KAAMkgB,EAAelD,KAC/E,EAEAgb,EAAkB1vC,UAAU8uC,oBAAsB,SAA8B/X,EAAS4X,GACrF,IAAIzsC,EAAM1C,KAAK1F,QACX69B,EAAiBz1B,EAAIy1B,eACrBC,EAAiB11B,EAAI01B,eACrBgX,EAAsBD,EAAYnvC,KAAK8vC,UAAU,EAAG1X,EAAelgB,KAAMkgB,EAAelD,MAAQ,KAEpG,OAAOl1B,KAAK2vC,eAAepY,EAAS,GAAKY,EAAejgB,KAAMigB,EAAejD,KAAMka,EACvF,EAEAc,EAAkB1vC,UAAUivC,eAAiB,SAAyB9yB,EAAQ4a,EAAS4X,GACnF,GAAI5X,EAAQj9B,QAAQuJ,OAAS7O,IAAK,CAC9B,IAAI47C,EAAartC,IAAI,KAAwC,EAAjCvD,KAAK1F,QAAQ4mC,WAAWrnC,SAChDg3C,EAAczuC,KAAK+Z,IAAIy0B,GAAcj0B,EACrCsyB,EAAcjvC,KAAKivC,cAEnBQ,EAAiB,SAAS/yB,GAC1B,OAAKyyB,GAAahvC,QAAQuc,EAAOuyB,GACtBtyB,EAGJk0B,CACX,EACA,OAAOpB,CACX,CACJ,EAEAS,EAAkB1vC,UAAU01B,gBAAkB,WAS1C,IARA,IAEIkB,EAAYp3B,KAAK1F,QAAQ88B,WAAa,GAEtClL,EAAQlsB,KAAKs3B,eAAiB,IAAItkC,QAAQ,CAC1CkwB,QAAS,IAGJzoB,EAAI,EAAGA,EAAI28B,EAAUv9B,OAAQY,IAAK,CACvC,IAAIq2C,EAAO1Z,EAAU38B,GACjB0/B,EAVOn6B,KAUS+wC,aAAaD,GAC7BhO,EAXO9iC,KAWe43B,QAAQkZ,EAAK3mC,MAEnCqjC,EAAOsD,EAAK3mC,KAAO/H,KAAKK,MAAMquC,EAAK3mC,MACvCgwB,EAAKlb,YAAcuuB,EAAO1K,EAAWpmB,MAErC,IAAI+wB,EAAOrrC,KAAKI,KAAKsuC,EAAKjZ,IAAMiZ,EAAKjZ,GACrCsC,EAAKzd,QAAU+wB,EAAOD,GAAQ1K,EAAWpmB,MAEzC,IAAIs0B,EAAO/vB,aAAatJ,QAAQuJ,WAAWiZ,EAAM,CAC7C3V,KAAM,CACFzb,MAAO+nC,EAAK/nC,MACZqb,QAAS0sB,EAAK1sB,SAElB7pB,OAAQ,CACJ6pB,QAAS0sB,EAAK1sB,WAGtB8H,EAAMvpB,OAAOquC,EACjB,CAEAhxC,KAAKijB,aAAaiJ,EACtB,EAEAgkB,EAAkB1vC,UAAUuwC,aAAe,SAAuBD,GAC9D,OAAO9wC,KAAK43B,QAAQkZ,EAAK3mC,KAAM2mC,EAAKjZ,GAAK,EAC7C,EAEAqY,EAAkB1vC,UAAUo3B,QAAU,SAAkBztB,EAAM0tB,GAC1D,IAAIv9B,EAAU0F,KAAK1F,QACf4hC,EAAY5hC,EAAQ4hC,UACpBpf,EAAM9c,KAAK8c,IACX+yB,EAAO7vC,KAAKivC,cACZgC,EAAYpB,EAAKh2C,OACjBq3C,EAAY,IAAMD,EAClBE,EAAYhnC,EAEZ7P,EAAQi1B,UAAY2M,IACpBiV,GAAaA,EAAY,GAAKF,GAIlC,IAAIG,EAAYvB,EADhBsB,EAAY9tC,WAAWjB,KAAKK,MAAM0uC,GAAY,EAAGF,EAAY,IAGzD/U,IACAkV,GAAwBF,EAAY,GAEpB,IACZE,GAAa,KAIrB,IAEI10B,EAAQw0B,GAFE7tC,WAAWjB,KAAKI,KAAKq1B,GAAMsZ,GAAYA,EAAWF,EAAY,GACtDE,EAAY,GAGlC,OAAO,IAAIpyB,KAAKjC,EAAI3H,SAAU,EAAG2H,EAAInR,SAAW,EAAGylC,EAAW10B,EAClE,EAEAwzB,EAAkB1vC,UAAU25B,KAAO,SAAehwB,EAAM0tB,GACpD,IAAIsC,EAAOn6B,KAAK43B,QAAQztB,EAAM0tB,GAC1B5Y,EAAakb,EAAKlb,WAAa,IAC/BgB,EAAWhB,EAAakb,EAAKzd,MAEjC,OAAO,IAAI5pB,MAAM,CAAEqnC,EAAKhlB,OAAOla,EAAGk/B,EAAKhlB,OAAOja,GAAK,CAC/C+jB,WAAYA,EACZgB,SAAUA,EACVmB,QAAS+Y,EAAKxd,OACd0E,QAAS8Y,EAAKxd,QAEtB,EAEAuzB,EAAkB1vC,UAAU4iC,mBAAqB,SAA6BtnB,GAM1E,IALA,IAEIjiB,EAASmG,KAAK1F,QAAQ4mC,WAAWrnC,OACjC4B,EAAQ,KAEHhB,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAE7B,GAPWuF,KAMS43B,QAAQn9B,GACnBojB,cAAc/B,GAAQ,CAC3BrgB,EAAQhB,EACR,KACJ,CACJ,CAEA,OAAOgB,CACX,EAEOy0C,CACX,CAjOwB,CAiOtBpP,cAEFl9B,kBAAkBssC,kBAAmB,CACjCjxB,WAAY,GACZiV,OAAQ,CACJnN,OAAQjpB,WAAW,KAEvBs6B,eAAgB,CACZ3V,SAAS,GAEbyZ,WAAW,IAEfr/B,WAAWqzC,kBAAkB1vC,UAAWwuC,gBAExC,IAAIqC,UAAa,SAAUpd,GACvB,SAASod,EAAU/2C,EAAS+nB,GACxB4R,EAAK9yB,KAAKnB,KAAM1F,EAAS+nB,GAEzB,IAAIivB,EAAkBtxC,KAAK1F,QAE3Bg3C,EAAgBxa,UAAYwa,EAAgBxa,WAAawa,EAAgB9a,UAAY,CACzF,CA0KA,OAxKKvC,IAAOod,EAAU54C,UAAYw7B,GAClCod,EAAU7wC,UAAYjI,OAAOuN,OAAQmuB,GAAQA,EAAKzzB,WAClD6wC,EAAU7wC,UAAUhE,YAAc60C,EAElCA,EAAU7wC,UAAUkrC,aAAe,SAAuBC,GACtD,OAAOR,YAAY3qC,UAAUkrC,aAAavqC,KAAKnB,KAAM2rC,GAAa,CACtE,EAEA0F,EAAU7wC,UAAUshB,OAAS,SAAiBhF,GAC1C9c,KAAK8c,IAAMA,EACX9c,KAAKmwC,cACT,EAEAkB,EAAU7wC,UAAU2vC,aAAe,WAa/B,IAZA,IAEIztC,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd45B,EAASxxB,EAAIwxB,OACbe,EAAevyB,EAAIpI,QAAQ45B,OAC3Bhc,EAAO+c,EAAa/c,MAAQ,EAC5Bgd,EAAOD,EAAaC,MAAQ,EAE5Bkb,EAAa,IAAIvzB,IACjBgzB,EAAO7vC,KAAK8vC,UAAUx1C,EAAQk8B,UAAWte,EAAMgd,GAE1Cz6B,EAAI,EAAGA,EAAIy5B,EAAOr6B,OAAQY,IAAK,CACpCy5B,EAAOz5B,GAAGqnB,OAAOsuB,GACjB,IAAI1W,EAAWxF,EAAOz5B,GAAGqiB,IAEzBoX,EAAOz5B,GAAGqnB,OAhBC9hB,KAgBe43B,QAAQiY,EAAKp1C,IAAI+kB,YAAY,EAAGka,EAASl/B,QAASk/B,EAAS/tB,UACzF,CACJ,EAEA0lC,EAAU7wC,UAAUi1B,QAAU,WAC1B,OAAOz1B,KAAK8c,GAChB,EAEAu0B,EAAU7wC,UAAUsvC,UAAY,SAAoBtqC,EAAM6qC,EAAYC,EAAYV,QAC1D,IAAfA,IAAwBA,GAAa,GAQ1C,IANA,IAAIroC,EAAMvH,KAAK1F,QAAQiN,IACnBqkC,EAAY5rC,KAAK0rC,aAAalmC,GAC9BqqC,EAAO,GAEP3a,EAAOob,GAAc,EAEhB71C,EAHE41C,GAAc,EAGN51C,EAAImxC,EAAWnxC,GAAKy6B,EAAM,CACzC,IAAIvd,GAAW,IAAMpQ,EAAM9M,EAAI+K,GAAQ,IACjCoqC,GAAczvC,QAAQwX,EAASi4B,IACjCC,EAAKvwC,KAAKqY,EAElB,CAEA,OAAOk4B,CACX,EAEAwB,EAAU7wC,UAAUiwC,eAAiB,WACjC,OAAOzwC,KAAK8vC,UAAU9vC,KAAK1F,QAAQk8B,UACvC,EAEA6a,EAAU7wC,UAAUkwC,eAAiB,WACjC,OAAO1wC,KAAK8vC,UAAU9vC,KAAK1F,QAAQw8B,UACvC,EAEAua,EAAU7wC,UAAUyvC,cAAgB,SAAwBx1C,GACxD,OAAQ,IAAMA,EAAIuF,KAAK1F,QAAQ2kB,YAAc,GACjD,EAEAoyB,EAAU7wC,UAAUkxB,WAAa,WAC7B,MAAO,EACX,EAEA2f,EAAU7wC,UAAU4uC,oBAAsB,SAA8B7X,GACpE,IAAIa,EAAiBp4B,KAAK1F,QAAQ89B,eAClC,OAAOp4B,KAAK2vC,eAAepY,EAASv3B,KAAK1F,QAAQk8B,UAAW4B,EAAelgB,KAAMkgB,EAAelD,KACpG,EAEAmc,EAAU7wC,UAAU8uC,oBAAsB,SAA8B/X,EAAS4X,GAC7E,IAAI70C,EAAU0F,KAAK1F,QACf69B,EAAiB79B,EAAQ69B,eACzBC,EAAiB99B,EAAQ89B,eACzBgX,EAAsBD,EAAYnvC,KAAK8vC,UAAUx1C,EAAQk8B,UAAW4B,EAAelgB,KAAMkgB,EAAelD,MAAQ,KAEpH,OAAOl1B,KAAK2vC,eAAepY,EAASj9B,EAAQw8B,UAAWqB,EAAejgB,KAAMigB,EAAejD,KAAMka,EACrG,EAEAiC,EAAU7wC,UAAUuwC,aAAe,SAAuBD,GACtD,OAAO9wC,KAAK43B,QAAQkZ,EAAK3mC,KAAM2mC,EAAKjZ,GACxC,EAEAwZ,EAAU7wC,UAAUo3B,QAAU,SAAkBlrB,EAAG/D,GAC/C,IACIrO,EADM0F,KACQ1F,QACdwiB,EAFM9c,KAEI8c,IACVmC,EAAa3kB,EAAQ2kB,WACrB5e,EAAQgD,WAAWqJ,EAAGpS,EAAQiN,IAAKjN,EAAQ+H,KAC3C/B,EAAM+C,WAAWsF,GAAKtI,EAAOA,EAAO/F,EAAQ+H,KAUhD,GARI/H,EAAQi1B,UACRlvB,IAAU,EACVC,IAAQ,IAIZA,GAAO,IAAMA,EAAM2e,GAAc,MADjC5e,GAAS,IAAMA,EAAQ4e,GAAc,KAGpB,CACb,IAAI5R,EAAMhN,EACVA,EAAQC,EACRA,EAAM+M,CACV,CAEA,OAAO,IAAI0R,KAAKjC,EAAI3H,SAAU,EAAG2H,EAAInR,SAAW,EAAGtL,EAAOC,EAAMD,EACpE,EAEAgxC,EAAU7wC,UAAU25B,KAAO,SAAehwB,EAAM0tB,QAChC,IAAPA,IAAgBA,EAAK1tB,GAE1B,IAKI8U,EAAYgB,EALZ3lB,EAAU0F,KAAK1F,QACf+F,EAAQ,IAAM/F,EAAQ2kB,WACtBkb,EAAOn6B,KAAK43B,QAAQztB,EAAM0tB,GAC1BtwB,EAAMnF,KAAKmF,IAAI4C,EAAM0tB,GACrBx1B,EAAMD,KAAKC,IAAI8H,EAAM0tB,GAczB,OAXIv9B,EAAQi1B,SACRtQ,EAAa1X,EACb0Y,EAAW5d,IAEX4c,EAAa,IAAM5c,EACnB4d,EAAW,IAAM1Y,GAGrB0X,GAAcA,EAAa5e,GAAS,IACpC4f,GAAYA,EAAW5f,GAAS,IAEzB,IAAIvN,MAAM,CAAEqnC,EAAKhlB,OAAOla,EAAGk/B,EAAKhlB,OAAOja,GAAK,CAC/C+jB,WAAYA,EACZgB,SAAUA,EACVmB,QAAS+Y,EAAKxd,OACd0E,QAAS8Y,EAAKxd,QAEtB,EAEA00B,EAAU7wC,UAAUsrC,SAAW,SAAmBhwB,GAC9C,IAAIxhB,EAAU0F,KAAK1F,QACf6a,EAASnV,KAAK8c,IAAI3H,SAClBF,EAAK6G,EAAM7gB,EAAIka,EAAOla,EACtBia,EAAK4G,EAAM5gB,EAAIia,EAAOja,EACtB+gB,EAAQ7Z,KAAKxH,MAAMkI,IAAIV,KAAKmvC,MAAMr8B,EAAID,KACtC5U,EAAQ/F,EAAQ2kB,WAOpB,OALK3kB,EAAQi1B,UACTtT,IAAU,EACV5b,IAAU,IAGN4b,EAAQ5b,EAAQ,KAAO,GACnC,EAEAgxC,EAAU7wC,UAAU+6B,WAAa,WAC7B,MAAO,CACHh0B,IAAK,EACLlF,IAAe,EAAVD,KAAKovC,GAElB,EAEOH,CACX,CAlLgB,CAkLdpd,MAEFrwB,kBAAkBytC,UAAW,CACzBxtC,KAAM,QACNob,WAAY,EACZsQ,SAAS,EACTiH,UAAW,GACXjvB,IAAK,EACLlF,IAAK,IACL6xB,OAAQ,CACJnN,OAAQjpB,WAAW,KAEvBs6B,eAAgB,CACZrvB,MAAOvT,QACPitB,SAAS,EACTjoB,MAAO,GAEX29B,eAAgB,CACZpvB,MAAO,UAIflM,WAAWw0C,UAAU7wC,UAAWwuC,eAAgB,CAC5C9Y,gBAAiBga,kBAAkB1vC,UAAU01B,gBAC7C+Y,YAAaiB,kBAAkB1vC,UAAUyuC,YACzC5Z,MAAO8V,YAAY3qC,UAAU60B,MAC7BN,YAAaoW,YAAY3qC,UAAUu0B,YACnCQ,gBAAiB4V,YAAY3qC,UAAU+0B,kBAG3C,IAAIkc,sBAAwB,CACxBn3C,QAAS,CACL89B,eAAgB,CACZ3V,SAAS,IAIjByT,gBAAiB,WACb,IAEIxzB,EAAM1C,KAAK1F,QACXuJ,EAAOnB,EAAI01B,eAAev0B,KAC1BuzB,EAAY10B,EAAI00B,eAA8B,IAAdA,IAAuBA,EAAY,IAQvE,IAPA,IAAIG,EAAUv3B,KAAKq3B,SAASqa,UACxBzC,EAAc1X,EAAQ0X,cACtB95B,EAASoiB,EAAQza,IAAI3H,SACrB+W,EAAQlsB,KAAKs3B,eAAiB,IAAItkC,QAAQ,CAC1CkwB,QAAS,IAGJzoB,EAAI,EAAGA,EAAI28B,EAAUv9B,OAAQY,IAAK,CACvC,IAAIq2C,EAAO1Z,EAAU38B,GACjBk3C,EAAY,CACZntB,KAAM,CACFzb,MAAO+nC,EAAK/nC,MACZqb,QAAS0sB,EAAK1sB,SAElB7pB,OAAQ,CACJ6pB,QAAS0sB,EAAK1sB,UAIlB+V,EAxBOn6B,KAwBS43B,QAAQkZ,EAAK3mC,KAAM2mC,EAAKjZ,IAAI,GAC5CmZ,EAAO,IAAIjyB,KAAK5J,EAAQA,EAAOja,EAAIi/B,EAAKnlB,GAAIG,EAAOja,EAAIi/B,EAAKrlB,GAAI,EAAG,KAEnE88B,OAAQ,EAERA,EADA/tC,IAAS7O,IACDisB,aAAatJ,QAAQuJ,WAAW8vB,EAAMW,GAEtC5+C,OAAOw1B,WA/BRvoB,KA+B4B6xC,eAAeb,EAAM/B,GAAc0C,GAAWpwB,QAGrF2K,EAAMvpB,OAAOivC,EACjB,CAEA5xC,KAAKijB,aAAaiJ,EACtB,EAEA2lB,eAAgB,SAASb,EAAMvwB,GAO3B,IANA,IAAIqxB,EAAc,GACdC,EAAc,GACd58B,EAAS,CAAE67B,EAAK77B,OAAOla,EAAG+1C,EAAK77B,OAAOja,GACtC82C,EAAc,IAAIx+C,SAAS2hB,EAAQ67B,EAAKhyB,aACxCizB,EAAc,IAAIz+C,SAAS2hB,EAAQ67B,EAAKr0B,QAEnCliB,EAAI,EAAGA,EAAIgmB,EAAO5mB,OAAQY,IAC/Bq3C,EAAYxyC,KAAK0yC,EAAYvwB,QAAQhB,EAAOhmB,GAAK,MACjDs3C,EAAYzyC,KAAK2yC,EAAYxwB,QAAQhB,EAAOhmB,GAAK,MAOrD,OAJAq3C,EAAYviB,UACZuiB,EAAYxyC,KAAKwyC,EAAY,IAC7BC,EAAYzyC,KAAKyyC,EAAY,IAEtBA,EAAY5pC,OAAO2pC,EAC9B,EAEA5Z,gBAAiB,SAASX,GACtB,IAAIj9B,EAAU0F,KAAK1F,QACfi6B,EAAav0B,KAAKkyC,8BAClBjD,EAAc1X,EAAQ0X,cACtB95B,EAASoiB,EAAQza,IAAI3H,SACrBihB,EAAY,GAQhB,GANI97B,EAAQ89B,eAAe3V,UACvB2T,EAAYp2B,KAAKwvC,gBACbr6B,EAAQof,EAAY0a,EAAa30C,EAAQ89B,iBAI7C99B,EAAQ69B,eAAe1V,QAAS,CAChC,IAAI4R,EAAar0B,KAAKmyC,8BACtBxvC,OAAOyzB,EAAWp2B,KAAKwvC,gBACnBr6B,EAAQkf,EAAY4a,EAAa30C,EAAQ69B,gBAEjD,CAEA,OAAO/B,CACX,EAEAoZ,gBAAiB,SAASr6B,EAAQ+oB,EAAOzd,EAAQnmB,GAC7C,IAAImD,EAAQ,CACRlD,OAAQ,CACJC,MAAOF,EAAQE,MACfuO,MAAOzO,EAAQyO,MACf2e,SAAUptB,EAAQotB,WAGtBxP,EAAO5d,EAAQ4d,UAAoB,IAATA,IAAkBA,EAAO,GACvD,IAAIgd,EAAO56B,EAAQ46B,UAAoB,IAATA,IAAkBA,EAAO,GAGvD,IAFA,IAAItH,EAAY5tB,KAAKm2B,kBAEZiD,EAASlhB,EAAMkhB,EAAS8E,EAAMrkC,OAAQu/B,GAAUlE,EAAM,CAC3D,IAAIkd,EAAaj9B,EAAOja,EAAIgjC,EAAM9E,GAClC,GAAIgZ,EAAa,EAAG,CAChB,IAAI1C,EAAS,IAAIl8C,SAAS,CAAE2hB,EAAOla,EAAGka,EAAOja,GAAKk3C,GAClD,GAAI93C,EAAQuJ,OAAS7O,IACjB44B,EAAUjrB,OAAO,IAAIpP,SAASm8C,EAAQjyC,QACnC,CAEH,IADA,IAAI0O,EAAO,IAAIpZ,OAAO0K,GACb40C,EAAU,EAAGA,EAAU5xB,EAAO5mB,OAAQw4C,IAC3ClmC,EAAKuV,OAAOguB,EAAOjuB,QAAQhB,EAAO4xB,GAAW,MAGjDlmC,EAAKoV,QACLqM,EAAUjrB,OAAOwJ,EACrB,CACJ,CACJ,CAEA,OAAOyhB,EAAUhM,QACrB,EAEAkqB,SAAU,SAAShwB,GACf,IAAI2Z,EAAUz1B,KAAKy1B,UACf8B,EAAUv3B,KAAKq3B,SAASqa,UACxBzC,EAAc1X,EAAQ0X,cACtB95B,EAASoiB,EAAQza,IAAI3H,SACrBwH,EAASb,EAAMU,WAAWrH,GAC1BC,EAAWuH,EAEf,GAAI3c,KAAK1F,QAAQ89B,eAAev0B,OAAS7O,KAAOi6C,EAAYp1C,OAAS,EAAG,CACpE,IAAIob,EAAK6G,EAAM7gB,EAAIka,EAAOla,EACtBia,EAAK4G,EAAM5gB,EAAIia,EAAOja,EACtB+gB,GAASnZ,IAAIV,KAAKmvC,MAAMr8B,EAAID,IAAO,KAAO,IAE9Cg6B,EAAYtuB,MAAK,SAASjU,EAAG/D,GACzB,OAAO2pC,gBAAgB5lC,EAAGuP,GAASq2B,gBAAgB3pC,EAAGsT,EAC1D,IAIA,IAEIs2B,EAAQ,GAFGD,gBAAgBrD,EAAY,GAAIA,EAAY,IAAM,EAG7DuD,EAAO,IAFCF,gBAAgBr2B,EAAOgzB,EAAY,IAEtBsD,EAEzBn9B,EAAWuH,GAAUva,KAAKia,IAAI9Y,IAAIivC,IAASpwC,KAAKia,IAAI9Y,IAAIgvC,IAC5D,CAEA,OAAOvyC,KAAKyyC,WAAWjyC,UAAUsrC,SAAS3qC,KACtCnB,KAAM,IAAI2b,QAAQ8Z,EAAQ7gB,GAAI6gB,EAAQzgB,GAAKI,GAEnD,GAGJ,SAASk9B,gBAAgB5lC,EAAG/D,GACxB,OAAO,IAAMvG,KAAKkZ,IAAIlZ,KAAKkZ,IAAI5O,EAAI/D,GAAK,IAC5C,CAEA,IAAI+pC,iBAAoB,SAAUvH,GAC9B,SAASuH,IACLvH,EAAYxpC,MAAM3B,KAAMjD,UAC5B,CAwBA,OAtBKouC,IAAcuH,EAAiBj6C,UAAY0yC,GAChDuH,EAAiBlyC,UAAYjI,OAAOuN,OAAQqlC,GAAeA,EAAY3qC,WACvEkyC,EAAiBlyC,UAAUhE,YAAck2C,EAEzCA,EAAiBlyC,UAAU0xC,4BAA8B,WACrD,OAAOlyC,KAAKmiC,iBAAiBniC,KAAK1F,QAAQk8B,UAC9C,EAEAkc,EAAiBlyC,UAAU2xC,4BAA8B,WACrD,IAAI73C,EAAU0F,KAAK1F,QACfq4C,EAAgB,EAKpB,OAHIr4C,EAAQ89B,eAAe3V,UACvBkwB,EAAgBr4C,EAAQk8B,WAErBx2B,KAAKmiC,iBAAiB7nC,EAAQw8B,UAAW6b,EACpD,EAEAD,EAAiBlyC,UAAUiyC,SAAW,WAClC,OAAOtH,CACX,EAEOuH,CACX,CA5BuB,CA4BrBvH,aAEFtuC,WAAW61C,iBAAiBlyC,UAAWixC,uBAEvC,IAAImB,qBAAwB,SAAUhF,GAClC,SAASgF,IACLhF,EAAgBjsC,MAAM3B,KAAMjD,UAChC,CA8BA,OA5BK6wC,IAAkBgF,EAAqBn6C,UAAYm1C,GACxDgF,EAAqBpyC,UAAYjI,OAAOuN,OAAQ8nC,GAAmBA,EAAgBptC,WACnFoyC,EAAqBpyC,UAAUhE,YAAco2C,EAE7CA,EAAqBpyC,UAAU0xC,4BAA8B,WACzD,IAAI9P,EAAY,GAMhB,OAJApiC,KAAKquC,6BAA4B,SAASvf,GACtCsT,EAAU9iC,KAAKwvB,EACnB,GAAG9uB,KAAK1F,QAAQ89B,gBAETgK,CACX,EAEAwQ,EAAqBpyC,UAAU2xC,4BAA8B,WACzD,IAAI/P,EAAY,GAMhB,OAJApiC,KAAKuuC,6BAA4B,SAASzf,GACtCsT,EAAU9iC,KAAKwvB,EACnB,GAAG9uB,KAAK1F,QAAQ69B,gBAETiK,CACX,EAEAwQ,EAAqBpyC,UAAUiyC,SAAW,WACtC,OAAO7E,CACX,EAEOgF,CACX,CAlC2B,CAkCzBhF,iBAEF/wC,WAAW+1C,qBAAqBpyC,UAAWixC,uBAE3C,IAAIoB,OAAS,KACTC,2BAA6B,IAE7BC,eAAkB,SAAUpgD,GAC5B,SAASogD,EAAentB,GACpBjzB,EAAMwO,KAAKnB,MAEXA,KAAK4lB,OAASA,CAClB,CAuRA,OArRKjzB,IAAQogD,EAAet6C,UAAY9F,GACxCogD,EAAevyC,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACzDuyC,EAAevyC,UAAUhE,YAAcu2C,EAEvCA,EAAevyC,UAAUwyC,QAAU,SAAkBC,GACjD,IAEIn1B,EAASm1B,EAAW3pC,MAAM,GAC1B5O,EAAW,GACXkrB,EAAS5lB,KAAK4lB,OACd/rB,EAASikB,EAAOjkB,OAOpB,GALIA,EAAS,IACTmG,KAAKkzC,iBAAiB,EAAGp1B,GACzBjkB,EAASikB,EAAOjkB,QAGhBA,EAAS,GAAiB,IAAXA,GAAgBikB,EAAO,GAAGjC,OAAOiC,EAAO,IACvD,OAAOpjB,EAGX,IA2BIy4C,EAAqBC,EA3BrBC,EAAKv1B,EAAO,GACZilB,EAAKjlB,EAAO,GACZklB,EAAKllB,EAAO,GAIhB,IAFApjB,EAAS4E,KAAK,IAAIvL,QAAQs/C,IAEnBA,EAAGx3B,OAAOiC,EAAOjkB,EAAS,KAC7B+rB,GAAS,EACT9H,EAAOzD,MACPxgB,IAGJ,GAAe,IAAXA,EAAc,CACd,IAAIy5C,EAAUtzC,KAAKszC,QAAQD,EAAGtQ,EAAI/qC,EAAGC,GAWrC,OATAmL,KAAK1I,GAAU64C,WACXvzC,KAAKwzC,kBAAkBF,EAASD,EAAItQ,EAAI/qC,EAAGC,IAG/CyC,EAAS4E,KAAK,IAAIvL,QACdgvC,EACA/iC,KAAKyzC,mBAAmBH,EAASD,EAAItQ,EAAI/qC,EAAGC,KAGzCyC,CACX,CAIA,GAAIkrB,EAAQ,CACRytB,EAAKv1B,EAAOjkB,EAAS,GAAIkpC,EAAKjlB,EAAO,GAAIklB,EAAKllB,EAAO,GACrD,IAAI41B,EAAgB1zC,KAAK0zC,cAAcL,EAAItQ,EAAIC,GAC/CmQ,EAAsBO,EAAc,GACpCN,EAAmBM,EAAc,EACrC,KAAO,CACH,IAAIC,EAAY3zC,KAAKszC,QAAQD,EAAItQ,EAAI/qC,EAAEC,GACvCk7C,EAAsBnzC,KAAKwzC,kBAAkBG,EAAWN,EAAItQ,EAAI/qC,EAAGC,EACvE,CAGA,IADA,IAAI27C,EAAMT,EACDv5C,EAAM,EAAGA,GAAOC,EAAS,EAAGD,IAGjC,GA3DWoG,KAyDFkzC,iBAAiBt5C,EAAKkkB,GAE3BlkB,EAAM,IADVC,EAASikB,EAAOjkB,QACO,CACnBw5C,EAAKv1B,EAAOlkB,GAAMmpC,EAAKjlB,EAAOlkB,EAAM,GAAIopC,EAAKllB,EAAOlkB,EAAM,GAC1D,IAAIi6C,EA7DG7zC,KA6DwB0zC,cAAcL,EAAGtQ,EAAGC,GAEnD5/B,KAAK1I,GAAU64C,WAAWK,GAC1BA,EAAMC,EAAgB,GAEtB,IAAIC,EAAMD,EAAgB,GAC1Bn5C,EAAS4E,KAAK,IAAIvL,QAAQgvC,EAAI+Q,GAClC,CAGJ,GAAIluB,EAAQ,CACRytB,EAAKv1B,EAAOjkB,EAAS,GAAIkpC,EAAKjlB,EAAOjkB,EAAS,GAAImpC,EAAKllB,EAAO,GAC9D,IAAIi2B,EAAkB/zC,KAAK0zC,cAAcL,EAAItQ,EAAIC,GAEjD5/B,KAAK1I,GAAU64C,WAAWK,GAC1Bl5C,EAAS4E,KAAK,IAAIvL,QACdgvC,EACAgR,EAAgB,KAGpB3wC,KAAK1I,GAAU64C,WAAWQ,EAAgB,IAC1Cr5C,EAAS4E,KAAK,IAAIvL,QACdivC,EACAoQ,GAER,KAAO,CACH,IAAIY,EAAYh0C,KAAKszC,QAAQvQ,EAAIC,EAAIhrC,EAAGC,GAExCmL,KAAK1I,GAAU64C,WAAWK,GAC1Bl5C,EAAS4E,KAAK,IAAIvL,QACdivC,EACAhjC,KAAKyzC,mBAAmBO,EAAWjR,EAAIC,EAAIhrC,EAAGC,IAEtD,CAEA,OAAOyC,CACX,EAEAq4C,EAAevyC,UAAU0yC,iBAAmB,SAA2Bt5C,EAAKkkB,GACxE,KAAOA,EAAOlkB,EAAM,KAAOkkB,EAAOlkB,GAAKiiB,OAAOiC,EAAOlkB,EAAM,KAAOkkB,EAAOlkB,EAAM,GAAGiiB,OAAOiC,EAAOlkB,EAAM,MAClGkkB,EAAO/K,OAAOnZ,EAAM,EAAG,EAE/B,EAEAm5C,EAAevyC,UAAUyzC,WAAa,SAAqBZ,EAAItQ,EAAIC,GAC/D,IAAIiR,GAAa,EAEjB,GAAIZ,EAAGp4C,IAAM8nC,EAAG9nC,EACZg5C,GAAa,OACV,GAAIlR,EAAG9nC,IAAM+nC,EAAG/nC,GACd8nC,EAAG7nC,EAAI8nC,EAAG9nC,GAAKm4C,EAAGn4C,GAAK6nC,EAAG7nC,GAAO8nC,EAAG9nC,EAAI6nC,EAAG7nC,GAAK6nC,EAAG7nC,GAAKm4C,EAAGn4C,KAC5D+4C,GAAa,OAEd,CACH,IAAIl4C,EAAKiE,KAAKk0C,aAAab,EAAGtQ,GAC1B/tB,EAAKhV,KAAKm0C,kBAAkBp4C,EAAIinC,EAAG/nC,GACjCo4C,EAAGn4C,GAAK6nC,EAAG7nC,GAAK8nC,EAAG9nC,GAAK8Z,GACxB+tB,EAAG7nC,GAAKm4C,EAAGn4C,GAAK8nC,EAAG9nC,GAAK8Z,IAC1Bi/B,GAAa,EAErB,CAEA,OAAOA,CACX,EAEAlB,EAAevyC,UAAU4zC,OAAS,SAAiBf,EAAItQ,EAAIC,GACvD,IAAIjnC,EAAKiE,KAAKk0C,aAAab,EAAItQ,GAC3B/tB,EAAKhV,KAAKm0C,kBAAkBp4C,EAAIinC,EAAG/nC,GAEvC,OAAQo4C,EAAGp4C,IAAM8nC,EAAG9nC,GAAK8nC,EAAG9nC,IAAM+nC,EAAG/nC,GAAMuI,QAAQwR,EAAI,KAAOxR,QAAQw/B,EAAG9nC,EAAG,EAChF,EAEA63C,EAAevyC,UAAU0zC,aAAe,SAAuBnR,EAAIC,GAC/D,IAAIt2B,GAAKs2B,EAAG9nC,EAAI6nC,EAAG7nC,IAAM8nC,EAAG/nC,EAAI8nC,EAAG9nC,GAGnC,MAAO,CAFC8nC,EAAG7nC,EAAIwR,EAAIq2B,EAAG9nC,EAEVyR,EAChB,EAEAqmC,EAAevyC,UAAUkzC,cAAgB,SAAwBL,EAAItQ,EAAIC,GACrE,IAIIsQ,EAJAe,EAASr8C,EACTs8C,EAASr8C,EACTs8C,GAAW,EACXC,GAAoB,EAGxB,GAAIx0C,KAAKo0C,OAAOf,EAAItQ,EAAIC,GACpBsQ,EAAUtzC,KAAKszC,QAAQD,EAAItQ,EAAI/qC,EAAGC,OAC/B,CACH,IAiBYw8C,EAjBRC,EAAY,CACZz5C,EAAG+E,KAAK20C,mBAAmBtB,EAAItQ,EAAIC,EAAIhrC,GACvCkD,EAAG8E,KAAK20C,mBAAmBtB,EAAItQ,EAAIC,EAAI/qC,IAG3C,GAAIy8C,EAAUz5C,GAAKy5C,EAAUx5C,EACzBo4C,EAAUtzC,KAAKszC,QAAQD,EAAIrQ,EAAIhrC,EAAGC,GAClCs8C,GAAW,OAOX,GALIv0C,KAAKi0C,WAAWZ,EAAItQ,EAAIC,KACxBqR,EAASp8C,EACTq8C,EAASt8C,GAGT08C,EAAUL,GACVf,EAAU,OAKNmB,EAFCzR,EAAGsR,GAAUjB,EAAGiB,IAAWjB,EAAGiB,IAAWvR,EAAGuR,IAC5CjB,EAAGiB,GAAUtR,EAAGsR,IAAWvR,EAAGuR,IAAWjB,EAAGiB,GACtCM,YAAY5R,EAAGsR,GAAUjB,EAAGiB,KAAYvR,EAAGsR,GAAUhB,EAAGgB,MAEvDO,YAAY5R,EAAGqR,GAAUhB,EAAGgB,KAAYtR,EAAGuR,GAAUjB,EAAGiB,KAGpEhB,EAAUR,2BAA6B2B,EACvCD,GAAoB,CAGhC,CAEA,IAAIf,EAAqBzzC,KAAKyzC,mBAAmBH,EAASD,EAAItQ,EAAIsR,EAAQC,GAE1E,GAAIE,EAAmB,CACnB,IAAIK,EAAYR,EAChBA,EAASC,EACTA,EAASO,CACb,CAEA,IAAIrB,EAAoBxzC,KAAKwzC,kBAAkBF,EAASvQ,EAAIC,EAAIqR,EAAQC,GAOxE,OALIC,IACAv0C,KAAK80C,qBAAqBzB,EAAItQ,EAAI0Q,EAAoBH,GACtDtzC,KAAK80C,qBAAqB/R,EAAIC,EAAIwQ,EAAmBF,IAGlD,CAAEG,EAAoBD,EACjC,EAEAT,EAAevyC,UAAUs0C,qBAAuB,SAA+B/R,EAAIC,EAAI+R,EAAIzB,GACnFvQ,EAAG7nC,EAAI8nC,EAAG9nC,EACN8nC,EAAG9nC,EAAI65C,EAAG75C,GACV65C,EAAG95C,EAAI8nC,EAAG9nC,GAAK+nC,EAAG9nC,EAAI6nC,EAAG7nC,GAAKo4C,EAC9ByB,EAAG75C,EAAI8nC,EAAG9nC,GACH65C,EAAG75C,EAAI6nC,EAAG7nC,IACjB65C,EAAG95C,EAAI+nC,EAAG/nC,GAAK+nC,EAAG9nC,EAAI6nC,EAAG7nC,GAAKo4C,EAC9ByB,EAAG75C,EAAI6nC,EAAG7nC,GAGV65C,EAAG75C,EAAI8nC,EAAG9nC,GACV65C,EAAG95C,EAAI8nC,EAAG9nC,GAAK8nC,EAAG7nC,EAAI8nC,EAAG9nC,GAAKo4C,EAC9ByB,EAAG75C,EAAI8nC,EAAG9nC,GACH6nC,EAAG7nC,EAAI65C,EAAG75C,IACjB65C,EAAG95C,EAAI+nC,EAAG/nC,GAAK8nC,EAAG7nC,EAAI8nC,EAAG9nC,GAAKo4C,EAC9ByB,EAAG75C,EAAI6nC,EAAG7nC,EAGtB,EAEA63C,EAAevyC,UAAU8yC,QAAU,SAAkBD,EAAItQ,EAAIsR,EAAQC,GACjE,IAEIhB,EAFAr4C,EAAI8nC,EAAGsR,GAAUhB,EAAGgB,GACpBn5C,EAAI6nC,EAAGuR,GAAUjB,EAAGiB,GASxB,OALIhB,EADM,IAANr4C,EACU,EAEAC,EAAID,EAGXq4C,CACX,EAEAP,EAAevyC,UAAUm0C,mBAAqB,SAA6BtB,EAAItQ,EAAIC,EAAI5lC,GACnF,OAAQ4lC,EAAG5lC,GAAS2lC,EAAG3lC,IAAU2lC,EAAG3lC,GAASi2C,EAAGj2C,IACnC4lC,EAAG5lC,GAAS2lC,EAAG3lC,IAAU2lC,EAAG3lC,GAASi2C,EAAGj2C,EACzD,EAEA21C,EAAevyC,UAAUgzC,kBAAoB,SAA4BF,EAASD,EAAI2B,EAAIX,EAAQC,GAC9F,IAAIW,EAAK5B,EAAGgB,GAERj/B,GADK4/B,EAAGX,GACSY,GAAMpC,OAE3B,OAAO7yC,KAAK8b,MAAMm5B,EAAK7/B,EAAUi+B,EAAGiB,GAAUl/B,EAAWk+B,EAASe,EAAQC,EAC9E,EAEAvB,EAAevyC,UAAUizC,mBAAqB,SAA6BH,EAASD,EAAI2B,EAAIX,EAAQC,GAChG,IAAIW,EAAK5B,EAAGgB,GACRa,EAAKF,EAAGX,GACRj/B,GAAY8/B,EAAKD,GAAMpC,OAE3B,OAAO7yC,KAAK8b,MAAMo5B,EAAK9/B,EAAU4/B,EAAGV,GAAUl/B,EAAWk+B,EAASe,EAAQC,EAC9E,EAEAvB,EAAevyC,UAAUsb,MAAQ,SAAgBq5B,EAAQC,EAAQf,EAAQC,GACrE,IAAIe,EAAe,IAAIxiD,QAIvB,OAHAwiD,EAAahB,GAAUc,EACvBE,EAAaf,GAAUc,EAEhBC,CACX,EAEAtC,EAAevyC,UAAU2zC,kBAAoB,SAA4Bp4C,EAAId,GAIzE,IAHA,IAAIpB,EAASkC,EAAGlC,OACZ+B,EAAS,EAEJnB,EAAI,EAAGA,EAAIZ,EAAQY,IACxBmB,GAAUwG,KAAKoZ,IAAIvgB,EAAER,GAAKsB,EAAGtB,GAEjC,OAAOmB,CACX,EAEOm3C,CACX,CA7RqB,CA6RnBpgD,OAEF,SAASiiD,WAAWt7C,GAChB,OAAOA,GAAS,GAAK,EAAI,CAC7B,CAEA,IAAIg8C,WAA0B/8C,OAAOC,OAAO,CACxCC,UAAW,KACXw7B,KAAMA,KACNxE,UAAWA,UACX5S,IAAKA,IACLiK,WAAYA,WACZga,aAAcA,aACdnf,aAAcA,aACdhvB,MAAOA,MACPogD,eAAgBA,eAChB5K,iBAAkBA,iBAClB4E,cAAeA,cACfliB,aAAcA,aACdlnB,WAAYA,WACZ4xC,UAAWxsB,UACXhpB,QAASA,QACTc,iBAAkBA,iBAClB+sC,gBAAiBA,gBACjBliC,OAAQA,OACRolB,KAAMA,KACNqa,YAAaA,YACbn5B,WAAYA,WACZ4J,MAAOD,QACP01B,UAAWA,UACXnB,kBAAmBA,kBACnB0C,qBAAsBA,qBACtBF,iBAAkBA,iBAClB3zB,KAAMA,KACN+K,YAAaA,YACb/I,OAAQA,OACRE,aAAcA,aACdiH,aAAcA,aACd2E,KAAMD,OACNS,QAASA,QACTuB,MAAOD,QACPjX,WAAYA,WACZomB,iBAAkBA,iBAClBtkC,SAAUA,SACVwlC,YAAaA,YACbhB,SAAUA,SACV7jC,iBAAkBA,iBAClBwI,OAAQA,OACRwL,cAAeA,cACfiN,cAAeA,cACftS,cAAeA,cACflG,WAAYA,WACZ88B,SAAUA,SACV5kC,UAAWA,UACX06C,UAAWl9C,YACXgD,oBAAqBA,oBACrBgP,cAAeA,cACfqc,kBAAmBA,kBACnBhrB,UAAWA,UACXE,WAAYA,WACZL,QAASA,QACTmkC,aAAcA,aACdC,SAAUA,SACVE,WAAYA,WACZG,UAAWA,UACXpjC,WAAYA,WACZ0N,oBAAqBA,oBACrB1H,QAASA,QACTC,IAAKA,IACLs9B,SAAUA,SACVr9B,cAAeA,cACfsF,aAAcA,aACdrF,YAAaA,YACb1F,cAAeA,cACf2F,iBAAkBA,iBAClBC,aAAcA,aACd2K,SAAUA,SACV7H,KAAMA,KACNgsB,SAAUA,SACVyN,UAAWA,UACXgW,gBAAiB92C,YACjBb,WAAYA,WACZmS,qBAAsBA,qBACtBtR,YAAaF,cACbS,OAAQA,OACRM,KAAMA,KACNG,WAAYA,WACZ8L,eAAgBA,eAChBtI,QAASA,QACThD,QAASA,QACTC,iBAAkBA,iBAClB/G,QAASA,QACTyC,WAAYA,WACZX,SAAUA,SACV6B,SAAUA,SACViE,cAAeA,cACfgO,SAAU5T,WACV+I,KAAMA,KACNhB,KAAMA,KACNC,WAAYA,WACZ7Q,aAAcA,aACd6tC,aAAcA,aACdj/B,IAAKA,IACLW,gBAAiBA,gBACjB4P,KAAMA,KACNC,IAAKA,IACLtO,UAAWA,UACXyL,IAAKA,IACLJ,GAAIA,GACJojB,UAAWA,UACX2O,WAAYA,WACZn9B,IAAKA,IACL0pB,UAAWA,UACXhzB,YAAaA,YACb+M,WAAYA,WACZpM,MAAO4I,QACPgwB,SAAUA,SACV5vB,kBAAmBA,kBACnByD,kBAAmBA,kBACnB+2B,YAAaA,YACbnhC,WAAYA,WACZkhC,OAAQA,OACR0B,OAAQA,OACRp8B,aAAcA,aACdC,eAAgBA,iBAGhBgyC,UAAa,SAAU/iD,GACvB,SAAS+iD,EAAU//B,GACfhjB,EAAMwO,KAAKnB,MAEXA,KAAK21C,MAAQhgC,EACb3V,KAAK1F,QAAUqb,EAAKrb,OACxB,CA2BA,OAzBK3H,IAAQ+iD,EAAUj9C,UAAY9F,GACnC+iD,EAAUl1C,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDk1C,EAAUl1C,UAAUhE,YAAck5C,EAElCA,EAAUl1C,UAAUlH,MAAQ,SAAgBwiB,GACxC,IAAInG,EAAO3V,KAAK21C,MACZr8C,EAAQqc,EAAK2tB,YAAc3tB,EAAK2tB,YAAYxnB,GAASnG,EAAKm2B,SAAShwB,GAEvE,OAAOxiB,CACX,EAEAo8C,EAAUl1C,UAAU25B,KAAO,SAAehwB,EAAM0tB,EAAImC,GAGhD,YAFe,IAAVA,IAAmBA,GAAQ,GAEzBh6B,KAAK21C,MAAMxb,KAAKhwB,EAAM0tB,EAAImC,EACrC,EAEA0b,EAAUl1C,UAAU60B,MAAQ,WACxB,OAAOr1B,KAAK21C,MAAMtgB,OACtB,EAEAqgB,EAAUl1C,UAAU+6B,WAAa,WAC7B,OAAOv7B,KAAK21C,MAAMpa,YACtB,EAEOma,CACX,CAlCgB,CAkCd/iD,OAEF,SAASijD,eAAelhD,EAAM+iC,GAC1B,IAAK,IAAI79B,EAAM,EAAGA,EAAM69B,EAAK59B,OAAQD,IACjC,GAAI69B,EAAK79B,GAAKU,QAAQ5F,OAASA,EAE3B,OADA+iC,EAAK79B,GAAKuiC,qBACH,IAAIuZ,UAAUje,EAAK79B,GAGtC,CAEA,IAAIi8C,UAAY,SAAmBre,GAC/Bx3B,KAAK+iB,OAASyU,EAAKzU,OACnB/iB,KAAK81C,aAAete,EAAKue,eAAehzB,OACxC/iB,KAAKg2C,MAAQxe,CACjB,EAEAqe,UAAUr1C,UAAUo1C,eAAiB,SAA2BlhD,GAC5D,OAAOkhD,eAAelhD,EAAMsL,KAAKg2C,MAAMve,KAC3C,EAEA,IAAIwe,cAAiB,SAAUtjD,GAC3B,SAASsjD,EAAc5e,GACnB1kC,EAAMwO,KAAKnB,MAEXA,KAAKk2C,UAAY7e,EACjBr3B,KAAK+iB,OAASsU,EAAStU,OACvB/iB,KAAKm2C,iBAAmB9e,EAAS+e,SACrC,CAMA,OAJKzjD,IAAQsjD,EAAcx9C,UAAY9F,GACvCsjD,EAAcz1C,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACxDy1C,EAAcz1C,UAAUhE,YAAcy5C,EAE/BA,CACX,CAdoB,CAclBtjD,OAEF,SAAS0jD,aAAaltC,GAIlB,IAHA,IAAItP,EAASsP,EAAOtP,OAChB6B,EAAQ,EAEHjB,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAEzBU,SADMgO,EAAO1O,KAEbiB,GAER,CAEA,OAAOA,CACX,CAEA,IAAI46C,WAAa,CACb/uC,IAAK,SAAS4B,GAIV,IAHA,IAAItP,EAASsP,EAAOtP,OAChB0N,EAAM3Q,UAED6D,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAInB,EAAQ6P,EAAO1O,GACfU,SAAS7B,KACTiO,EAAMnF,KAAKmF,IAAIA,EAAKjO,GAE5B,CAEA,OAAOiO,IAAQ3Q,UAAYuS,EAAO,GAAK5B,CAC3C,EAEAlF,IAAK,SAAS8G,GAIV,IAHA,IAAItP,EAASsP,EAAOtP,OAChBwI,EAAMvL,UAED2D,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAInB,EAAQ6P,EAAO1O,GACfU,SAAS7B,KACT+I,EAAMD,KAAKC,IAAIA,EAAK/I,GAE5B,CAEA,OAAO+I,IAAQvL,UAAYqS,EAAO,GAAK9G,CAC3C,EAEAk0C,IAAK,SAASptC,GAIV,IAHA,IAAItP,EAASsP,EAAOtP,OAChB08C,EAAM,EAED97C,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAInB,EAAQ6P,EAAO1O,GACfU,SAAS7B,KACTi9C,GAAOj9C,EAEf,CAEA,OAAOi9C,CACX,EAEAC,UAAW,SAASrtC,GAChB,IAAIvN,EAAS,KAMb,OAJIy6C,aAAaltC,KACbvN,EAAS06C,WAAWC,IAAIptC,IAGrBvN,CACX,EAEAF,MAAO,SAASyN,GAIZ,IAHA,IAAItP,EAASsP,EAAOtP,OAChB6B,EAAQ,EAEHjB,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAInB,EAAQ6P,EAAO1O,GACL,OAAVnB,GAAkBuJ,QAAQvJ,IAC1BoC,GAER,CAEA,OAAOA,CACX,EAEA+6C,IAAK,SAASttC,GACV,IAAIzN,EAAQ26C,aAAaltC,GACrBvN,EAASuN,EAAO,GAMpB,OAJIzN,EAAQ,IACRE,EAAS06C,WAAWC,IAAIptC,GAAUzN,GAG/BE,CACX,EAEA6W,MAAO,SAAStJ,GAGZ,IAFA,IAAItP,EAASsP,EAAOtP,OAEXY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAInB,EAAQ6P,EAAO1O,GACnB,GAAc,OAAVnB,GAAkBuJ,QAAQvJ,GAC1B,OAAOA,CAEf,CAEA,OAAO6P,EAAO,EAClB,GAGJ,SAASutC,SAASt5C,EAAO6O,GACrB,OAAY,OAARA,EACOA,EAGD/M,OAAO9B,GAAO,EACjBqD,CAAIwL,EACf,CAEA,IAAI0qC,aAAgB,SAAUhkD,GAC1B,SAASgkD,IACLhkD,EAAMwO,KAAKnB,MAEXA,KAAK42C,aAAe,CAAC,EACrB52C,KAAK62C,aAAe,CAAC,EACrB72C,KAAK82C,WAAa,CAAC,EACnB92C,KAAK+2C,gBAAkB,CAAC,CAC5B,CAsIA,OApIKpkD,IAAQgkD,EAAal+C,UAAY9F,GACtCgkD,EAAan2C,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACvDm2C,EAAan2C,UAAUhE,YAAcm6C,EAErCA,EAAan2C,UAAU1B,SAAW,SAAmBk4C,EAAaC,EAAaC,GAC3E,IAAIjkC,EAAWjT,UACM,IAAhBi3C,IAAyBA,EAAc,CAAEp/C,aACzB,IAAhBq/C,IAAyBA,EAAc,CAAC,GAG7C,IAAK,IAAIz8C,EAAI,EAAGA,EAAIu8C,EAAYn9C,OAAQY,IAAK,CACzC,IAAIoJ,EAAOmzC,EAAYv8C,GAEvBwY,EAAS2jC,aAAa/yC,GAAQozC,EAC9BhkC,EAAS4jC,aAAahzC,GAAQqzC,EAC9BjkC,EAAS6jC,WAAWjzC,GAAQoP,EAASkkC,WAAWF,EAAa,MAC7DhkC,EAAS8jC,gBAAgBlzC,GAAQoP,EAASkkC,WAAWF,OAAazvC,EACtE,CACJ,EAEAmvC,EAAan2C,UAAU42C,gBAAkB,SAA0B1yB,GAC/D,OAAO1kB,KAAKi3C,YAAYvyB,GAAQvc,OAAOnI,KAAKk3C,YAAYxyB,GAC5D,EAEAiyB,EAAan2C,UAAUy2C,YAAc,SAAsBvyB,GACvD,OAAO1kB,KAAK42C,aAAalyB,EAAO7gB,OAAS,CAAEhM,MAC/C,EAEA8+C,EAAan2C,UAAU02C,YAAc,SAAsBxyB,GACvD,OAAO1kB,KAAK62C,aAAanyB,EAAO7gB,OAAS,CAAEhM,MAC/C,EAEA8+C,EAAan2C,UAAU62C,UAAY,SAAoB3yB,EAAQ4yB,EAAS5vC,GACpE,IAKIvI,EAAQ7F,EALRsS,EAAO8Y,EAAO9Y,KACduc,EAAYtlB,QAAQ6E,GAAQA,EAAOkE,EAAK0rC,GACxC17C,EAAS,CAAEq7C,YAAa,CAAE39C,MAAO6uB,IACjC8uB,EAAcj3C,KAAKi3C,YAAYvyB,GAC/BwyB,EAAcl3C,KAAK62C,aAAanyB,EAAO7gB,MAG3C,GAAkB,OAAdskB,EACA7uB,EAAQ0G,KAAK82C,WAAWpyB,EAAO7gB,WAC5B,GAAKhB,QAAQslB,IAEb,GAAI5uB,MAAMF,QAAQ8uB,GAAY,CACjC,IAAIovB,EAAYpvB,EAAU7e,MAAM2tC,EAAYp9C,QAC5CP,EAAQ0G,KAAKw3C,eAAervB,EAAW8uB,GACvC93C,EAASa,KAAKw3C,eAAeD,EAAWL,EAC5C,MAAO,GAAyB,iBAAd/uB,EAAwB,CACtC,IAAIsvB,EAAiBz3C,KAAK03C,aAAahzB,EAAQuyB,GAC3CU,EAAiB33C,KAAK03C,aAAahzB,EAAQwyB,GAE/C59C,EAAQ0G,KAAK43C,gBAAgBzvB,EAAW8uB,EAAaQ,GACrDt4C,EAASa,KAAK43C,gBAAgBzvB,EAAW+uB,EAAaS,EAC1D,OAXIr+C,EAAQ0G,KAAK+2C,gBAAgBryB,EAAO7gB,MAuBxC,OAVIhB,QAAQvJ,KACmB,IAAvB29C,EAAYp9C,OACZ+B,EAAOq7C,YAAY39C,MAAQA,EAAM29C,EAAY,IAE7Cr7C,EAAOq7C,YAAc39C,GAI7BsC,EAAOuD,OAASA,GAAU,CAAC,EAEpBvD,CACX,EAEA+6C,EAAan2C,UAAU22C,WAAa,SAAqBh4C,EAAQ04C,GAI7D,IAHA,IAAIv+C,EAAQ,CAAC,EACTO,EAASsF,EAAOtF,OAEXY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAE7BnB,EADgB6F,EAAO1E,IACJo9C,CACvB,CAEA,OAAOv+C,CACX,EAEAq9C,EAAan2C,UAAUg3C,eAAiB,SAAyB/3C,EAAON,GACpE,IAAI7F,EAAQ,CAAC,EAEb,GAAI6F,EAGA,IAFA,IAAItF,EAASuI,KAAKmF,IAAIpI,EAAOtF,OAAQ4F,EAAM5F,QAElCY,EAAI,EAAGA,EAAIZ,EAAQY,IACxBnB,EAAM6F,EAAO1E,IAAMgF,EAAMhF,GAIjC,OAAOnB,CACX,EAEAq9C,EAAan2C,UAAUo3C,gBAAkB,SAA0BE,EAAQ34C,EAAQ44C,QAC5D,IAAdA,IAAuBA,EAAY54C,GAExC,IAAI7F,EAAQ,CAAC,EAEb,GAAI6F,EAGA,IAFA,IAAItF,EAASsF,EAAOtF,OAEXY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIu9C,EAAY74C,EAAO1E,GACnBw9C,EAAeF,EAAUt9C,GACR,OAAjBw9C,IACA3+C,EAAM0+C,GAAatB,SAASuB,EAAcH,GAElD,CAGJ,OAAOx+C,CACX,EAEAq9C,EAAan2C,UAAUk3C,aAAe,SAAuBhzB,EAAQ0yB,GACjE,IAAIM,EAAe,GAEnB,GAAIN,EAGA,IAFA,IAAIv9C,EAASu9C,EAAgBv9C,OAEpBY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIu9C,EAAYZ,EAAgB38C,GAC5By9C,EAAkBF,IAAcngD,MAAQ,QAAUmgD,EAAY,QAElEN,EAAap4C,KAAiC,OAA5BolB,EAAOwzB,GAA6BxzB,EAAOwzB,IAAoBF,EAAa,KAClG,CAGJ,OAAON,CACX,EAEOf,CACX,CA/ImB,CA+IjBhkD,OAEFgkD,aAAah/B,QAAU,IAAIg/B,aAE3B,IAAIwB,QAAU,SACVC,QAAU,SACVC,aAAe,0BACfC,uBAAyB,IAAIC,OAAO,IAAMH,QAAU,kCAEpDI,qBAAwB,SAAU7lD,GAClC,SAAS6lD,EAAqBC,EAAY/zB,EAAQtnB,GAC9CzK,EAAMwO,KAAKnB,MAEXA,KAAK04C,iBAAiBD,EAAY/zB,EAAQtnB,EAC9C,CAyHA,OAvHKzK,IAAQ6lD,EAAqB//C,UAAY9F,GAC9C6lD,EAAqBh4C,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC/Dg4C,EAAqBh4C,UAAUhE,YAAcg8C,EAE7CA,EAAqBh4C,UAAUk4C,iBAAmB,SAA2BD,EAAY/zB,EAAQtnB,GAC7F,IAAIwO,EAAO8Y,EAAO9Y,KACd+sC,EAAiBL,uBAAuBM,KAAKH,GAEjD,GAAIE,EAAgB,CAChB34C,KAAK64C,YAAc74C,KAAK84C,kBAAkBp0B,EAAQtnB,GAElD,IAAI27C,EAAU/4C,KAAKg5C,WAAWptC,GAC1BqtC,EAAYj5C,KAAKk5C,qBAAqBttC,EAAMmtC,GAAS,GACrDI,EAAWR,EAAe,GAAK/6C,WAAW+6C,EAAe,IAAM,EAC/DS,EAAa,CAAE7Y,IAAKwY,EAAQz/C,MAAQ2/C,EAAYE,EAAU3Y,KAAMuY,EAAQz/C,MAAQ2/C,EAAYE,GAEhGn5C,KAAKq5C,YAAc,WACf,OAAOD,CACX,CACJ,MAAO,GAAIX,EAAW1+C,SAAW0+C,EAAW1+C,QAAQo+C,UAAY,EAAG,CAC/Dn4C,KAAK64C,YAAc74C,KAAK84C,kBAAkBp0B,EAAQtnB,GAClD,IAAIk8C,EAAgBt5C,KAAKu5C,iBAAiB3tC,EAAM5L,KAAKg5C,WAAWptC,IAEhE5L,KAAKq5C,YAAc,SAAS//C,GACxB,MAAO,CAAEinC,IAAKjnC,EAAQggD,EAAe9Y,KAAMlnC,EAAQggD,EACvD,CACJ,CACJ,EAEAd,EAAqBh4C,UAAUs4C,kBAAoB,SAA4Bp0B,EAAQtnB,GACnF,IAIIy7C,EAJAjtC,EAAO8Y,EAAO9Y,KACd4tC,EAAS7C,aAAah/B,QACtBs/B,EAAcuC,EAAOvC,YAAYvyB,GACjChd,EAAO7E,QAAQ+I,EAAK,IAAMA,EAAK,GAAK,CAAC,EAGzC,GAAIvS,QAAQqO,GAERmxC,EAAc35C,OAAO,KADT9B,EAAQ65C,EAAYl9C,QAAQqD,GAAS,GACd,UAChC,GAAIjC,SAASuM,GAChBmxC,EAAc35C,cACX,UAAWwI,IAASvQ,SAAU,CAEjC0hD,EAAc35C,OADOs6C,EAAO9B,aAAahzB,EAAQuyB,GACbA,EAAYl9C,QAAQqD,IAC5D,CAEA,OAAOy7C,CACX,EAEAL,EAAqBh4C,UAAUi5C,cAAgB,SAAwBC,EAAYjB,GAC/E,IAAIlY,EAAKC,EAAMlnC,EAEf,IAAKuJ,QAAQ41C,GACT,OAAO,KAGX,GAAIz4C,KAAKq5C,YACL,OAAOr5C,KAAKq5C,YAAYK,GAG5B,GAAIrgD,QAAQo/C,GACRlY,EAAMmZ,EAAajB,EAAW,GAC9BjY,EAAOkZ,EAAajB,EAAW,QAC5B,GAAIt9C,SAAS7B,EAAQsE,WAAW66C,IACnClY,EAAMmZ,EAAapgD,EACnBknC,EAAOkZ,EAAapgD,MACjB,MAAKA,EAAQ++C,aAAaO,KAAKH,IAKlC,MAAM,IAAI1J,MAAM,2BAA6B0J,GAJ7C,IAAIkB,EAAeD,GAAc97C,WAAWtE,EAAM,IAAM,KACxDinC,EAAMmZ,EAAat3C,KAAKkZ,IAAIq+B,GAC5BnZ,EAAOkZ,EAAat3C,KAAKkZ,IAAIq+B,EAGjC,CAEA,MAAO,CAAEpZ,IAAKA,EAAKC,KAAMA,EAC7B,EAEAgY,EAAqBh4C,UAAU+4C,iBAAmB,SAA2B3tC,EAAMmtC,GAC/E,OAAO/4C,KAAKk5C,qBAAqBttC,EAAMmtC,GAAS,GAAQ32C,KAAKiT,KAAK0jC,EAAQr9C,MAC9E,EAEA88C,EAAqBh4C,UAAU04C,qBAAuB,SAA+BttC,EAAMmtC,EAASa,GAOhG,IANA,IAEI//C,EAAS+R,EAAK/R,OACdirB,EAAQ80B,EAAWb,EAAQr9C,MAAQ,EAAIq9C,EAAQr9C,MAC/Cm+C,EAAsB,EAEjBjgD,EAAM,EAAGA,EAAMC,EAAQD,IAAO,CACnC,IAAIN,EAPO0G,KAOU64C,YAAYjtC,EAAKhS,IAClCuB,SAAS7B,KACTugD,GAAuBz3C,KAAKoZ,IAAIliB,EAAQy/C,EAAQz/C,MAAO,GAE/D,CAEA,OAAO8I,KAAKiT,KAAKwkC,EAAsB/0B,EAC3C,EAEA0zB,EAAqBh4C,UAAUw4C,WAAa,SAAqBptC,GAO7D,IANA,IAEI/R,EAAS+R,EAAK/R,OACd08C,EAAM,EACN76C,EAAQ,EAEH9B,EAAM,EAAGA,EAAMC,EAAQD,IAAO,CACnC,IAAIN,EAPO0G,KAOU64C,YAAYjtC,EAAKhS,IAClCuB,SAAS7B,KACTi9C,GAAOj9C,EACPoC,IAER,CAEA,MAAO,CACHpC,MAAOi9C,EAAM76C,EACbA,MAAOA,EAEf,EAEO88C,CACX,CA/H2B,CA+HzB7lD,OAEEmP,QAAUxP,QAAQwP,SAAW,CAAC,EAE9Bg4C,2BAA6B,IAC7BC,OAAS,SAETC,MAAQ,QACRC,kBAAoB,GACpBC,eAAiB,EACjBC,YAAcr4C,QAAQs4C,KAAO,KAAQ,EACrCC,gBAAkB,WAClBC,iBAAmB,YACnBC,kBAAoB,YACpBC,mBAAqB,aACrBC,kBAAoB,YACpBC,mBAAqB,aACrBC,iBAAmB,EACnBC,KAAO,OACPC,YAAc,cACdC,IAAM,MACNC,MAAQ,QACRC,MAAQ,QACRriD,OAAS,SAETsiD,OAAS,SACTC,KAAO,OAEPC,KAAO,OACPC,IAAM,MACNC,SAAW,UACXC,OAAS,SACTC,OAAS,SACTC,YAAc,cACdC,OAAS,SACTC,MAAQ,QACRC,OAAS,SACTC,QAAU,UACVC,QAAU,UACVC,qBAAuB,sBACvBC,KAAO,OACPC,KAAO,OACPC,IAAM,MACNC,WAAa,YACbC,WAAa,YACbC,cAAgB,eAChBC,WAAa,YACbC,aAAe,cACfC,WAAa,YACbC,WAAa,YACbC,UAAY,WACZC,aAAe,cACfC,QAAU,UACVC,aAAe,cACfC,cAAgB,eAChBC,kBAAoB,kBACpBC,gBAAkB,iBAClBC,cAAgB,eAChBC,oBAAsB,oBACtBC,UAAY,YACZC,sBAAwB,CACxB/B,IAAKK,OAAQO,KAAMR,YAAaH,SAAUyB,kBAC1CvB,OAAQmB,aAAcD,UAAWS,UAAWpB,sBAG5CsB,sBAAwB,uBACxBC,iBAAmB,kBACnBC,sBAAwB,uBACxBC,yBAA2B,yBAC3BC,qBAAuB,sBACvBC,gBAAkB,iBAClBC,iBAAmB,CACnBN,sBACAC,iBACAC,sBACAC,yBACAC,qBACAC,iBAGAE,kBAAoB,kBACpBC,kBAAoB,kBACpBC,kBAAoB,kBACpBC,aAAe,cACfC,aAAe,cACfC,YAAc,aACdC,aAAe,cACfC,gBAAkB,gBAClBC,gBAAkB,gBAClBC,gBAAkB,gBAClBC,KAAO,OACPC,SAAW,UACXC,WAAa,YACbC,WAAa,YACbC,KAAO,OACPC,SAAW,UACXC,aAAe,cACfC,OAAS,SACTC,WAAa,YACbC,OAAS,SACTC,eAAiB,cACjBC,eAAiB,cACjBC,YAAc,aAGdC,iBAAmB,kBACnBC,sBAAwB,gBACxBC,6BAA+B,QAC/BC,iBAAmB,WACnBC,sBAAwB,sBACxBC,kCAAoC,cAEpCC,YAAc,MACdC,SAAW,WAEXC,WAAa,YACbC,YAAc,aACdC,YAAc,aAEdC,aAAe,QACfC,iBAAmB,IACnBC,qBAAuB,GAEvBC,UAAY,YACZC,gBAAkB,YAClBC,cAAgB,UAEhBC,0BAA4B,EAE5BC,YAA2B7nD,OAAOC,OAAO,CACzCC,UAAW,KACXsiD,MAAOA,MACPI,KAAMA,KACNC,IAAKA,IACLJ,MAAOA,MACPf,kBAAmBA,kBACnBthD,OAAQA,OACR0iD,SAAUA,SACVC,OAAQA,OACRC,OAAQA,OACRC,YAAaA,YACbiE,SAAUA,SACVN,sBAAuBA,sBACvBD,iBAAkBA,iBAClBE,6BAA8BA,6BAC9B3D,OAAQA,OACRC,MAAOA,MACP2C,KAAMA,KACNC,SAAUA,SACVC,WAAYA,WACZyB,UAAWA,UACXC,gBAAiBA,gBACjB9C,sBAAuBA,sBACvB7C,iBAAkBA,iBAClBD,gBAAiBA,gBACjBN,OAAQA,OACR4B,OAAQA,OACRb,IAAKA,IACLd,MAAOA,MACP6B,QAASA,QACTwE,aAAcrB,eACdlD,qBAAsBA,qBACtBhC,2BAA4BA,2BAC5B6F,YAAaA,YACbD,WAAYA,WACZ7E,YAAaA,YACb0E,kCAAmCA,kCACnCD,sBAAuBA,sBACvB3B,kBAAmBA,kBACnBC,kBAAmBA,kBACnBC,kBAAmBA,kBACnBwB,iBAAkBA,iBAClBtD,KAAMA,KACNpB,iBAAkBA,iBAClB6E,YAAaA,YACbW,0BAA2BA,0BAC3BG,WAAYT,aACZC,iBAAkBA,iBAClBC,qBAAsBA,qBACtB/D,KAAMA,KACN4D,YAAaA,YACbX,YAAaA,YACbiB,cAAeA,cACfjE,IAAKA,IACLiC,gBAAiBA,gBACjBC,gBAAiBA,gBACjBC,gBAAiBA,gBACjBlC,WAAYA,WACZC,WAAYA,WACZC,cAAeA,cACfR,QAASA,QACTS,WAAYA,WACZC,aAAcA,aACdC,WAAYA,WACZC,WAAYA,WACZC,UAAWA,UACXC,aAAcA,aACdoC,OAAQA,OACRnC,QAASA,QACTC,aAAcA,aACdgC,OAAQA,OACRC,WAAYA,WACZF,aAAcA,aACdb,aAAcA,aACdC,aAAcA,aACdE,aAAcA,aACdD,YAAaA,YACbuC,aAAcxB,eACd9D,OAAQA,OACRd,YAAaA,YACbe,KAAMA,KACNhB,eAAgBA,eAChBkD,sBAAuBA,sBACvBC,iBAAkBA,iBAClBC,sBAAuBA,sBACvBC,yBAA0BA,yBAC1BC,qBAAsBA,qBACtBC,gBAAiBA,gBACjBC,iBAAkBA,iBAClBb,cAAeA,cACfC,kBAAmBA,kBACnBC,gBAAiBA,gBACjBC,cAAeA,cACfC,oBAAqBA,oBACrBC,UAAWA,UACX1C,mBAAoBA,mBACpBD,kBAAmBA,kBACnBG,mBAAoBA,mBACpBD,kBAAmBA,kBACnBG,KAAMA,KACN6D,KAAMA,KACNC,SAAUA,SACVF,WAAYA,aAGZgC,wBAA0B,EAE1BC,aAAgB,SAAU9+B,GAC1B,SAAS8+B,EAAalgB,EAAKC,EAAMkgB,EAAYztB,EAAOvO,EAAQpqB,GACxDqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKugC,IAAMA,EACXvgC,KAAKwgC,KAAOA,EACZxgC,KAAK0gD,WAAaA,EAClB1gD,KAAKizB,MAAQA,EACbjzB,KAAK0kB,OAASA,CAClB,CA6GA,OA3GK/C,IAAe8+B,EAAahoD,UAAYkpB,GAC7C8+B,EAAajgD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrEigD,EAAajgD,UAAUhE,YAAcikD,EAErCA,EAAajgD,UAAUshB,OAAS,SAAiB9E,GAC7C,IASIyU,EATAkvB,EAAU3gD,KAAK1F,QAAQqmD,QACvBD,EAAa1gD,KAAK0gD,WAElBE,EADO5gD,KAAK6gD,UACIjpB,QAAQ53B,KAAKugC,IAAKvgC,KAAKwgC,MACvCsgB,EAAY9jC,EAAU7H,SACtB4rC,EAAY/gD,KAAKghD,aAAahkC,EAAW0jC,GACzCO,EAAWP,EAAaI,EAAU7lD,EAAI6lD,EAAU5lD,EAChDgmD,EAAWD,EAAWF,EACtBI,EAASF,EAAWF,EAGpBL,GACAjvB,EAAa,CACT,IAAI9V,QAAQmlC,EAAU7lD,EAAG2lD,EAAS9rC,IAClC,IAAI6G,QAAQmlC,EAAU7lD,EAAG2lD,EAAS5rC,KAElC2rC,GACAlvB,EAAWnyB,KAAK,IAAIqc,QAAQulC,EAAUN,EAAS9rC,IAC3C,IAAI6G,QAAQwlC,EAAQP,EAAS9rC,IAC7B,IAAI6G,QAAQulC,EAAUN,EAAS5rC,IAC/B,IAAI2G,QAAQwlC,EAAQP,EAAS5rC,KAErChV,KAAK8c,IAAM,IAAID,IAAIqkC,EAAUN,EAAS9rC,GAAIqsC,EAAQP,EAAS5rC,MAE3Dyc,EAAa,CACT,IAAI9V,QAAQilC,EAAShsC,GAAIksC,EAAU5lD,GACnC,IAAIygB,QAAQilC,EAAS7rC,GAAI+rC,EAAU5lD,IAEnCylD,GACAlvB,EAAWnyB,KAAK,IAAIqc,QAAQilC,EAAShsC,GAAIssC,GACrC,IAAIvlC,QAAQilC,EAAShsC,GAAIusC,GACzB,IAAIxlC,QAAQilC,EAAS7rC,GAAImsC,GACzB,IAAIvlC,QAAQilC,EAAS7rC,GAAIosC,IAEjCnhD,KAAK8c,IAAM,IAAID,IAAI+jC,EAAShsC,GAAIssC,EAAUN,EAAS7rC,GAAIosC,IAG3DnhD,KAAKyxB,WAAaA,CACtB,EAEAgvB,EAAajgD,UAAUwgD,aAAe,SAAuBlkC,EAAK4jC,GAC9D,IAAI/nB,EAAU+nB,EAAa5jC,EAAItiB,QAAUsiB,EAAInR,SAG7C,OAFgBvJ,KAAKmF,IAAInF,KAAKK,MAAMk2B,EAAU,GAAI6nB,0BAA4BA,uBAGlF,EAEAC,EAAajgD,UAAUkiB,aAAe,WAClC,IAAIzP,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACfyoB,EAASzoB,EAAQyoB,OAEjBA,EACA/iB,KAAK+iB,OAASA,EAAO,CACjBwd,IAAKvgC,KAAKugC,IACVC,KAAMxgC,KAAKwgC,KACX/X,KAAMzoB,KAAK8c,IAAI0B,SACf3L,OAAQ7S,KAAKkiB,YACb5nB,QAAS,CACLqmD,QAASrmD,EAAQqmD,QACjB53C,MAAOzO,EAAQyO,MACfoD,KAAM7R,EAAQ6R,MAElBuW,aAAc,WACVzP,EAASmuC,sBACT,IAAIzvB,EAAgB1e,EAAS8P,OAE7B,cADO9P,EAAS8P,OACT4O,CACX,IAGJ3xB,KAAKohD,qBAEb,EAEAX,EAAajgD,UAAU4gD,oBAAsB,WACzC,IAGI9mD,EADM0F,KACQ1F,QACdm3B,EAFMzxB,KAEWyxB,WACjB8G,EAAc,CACdh+B,OAAQ,CACJwO,MAAOzO,EAAQyO,MACfvO,MAAOF,EAAQ6R,KAAK3R,MACpBktB,SAAUptB,EAAQ6R,KAAKub,WAI/B/F,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzC,IAAK,IAAIpG,EAAM,EAAGA,EAAM63B,EAAW53B,OAAQD,GAAO,EAAG,CACjD,IAAIuS,EAAO,IAAIpZ,OAAOwlC,GACjB/P,OAAOiJ,EAAW73B,GAAKqB,EAAGw2B,EAAW73B,GAAKsB,GAC1CwmB,OAAO+P,EAAW73B,EAAM,GAAGqB,EAAGw2B,EAAW73B,EAAM,GAAGsB,GAEvDf,iBAAiBgS,GApBNnM,KAqBF+iB,OAAOpgB,OAAOwJ,EAC3B,CACJ,EAEOs0C,CACX,CAvHmB,CAuHjB9+B,cAEF/d,kBAAkB68C,aAAc,CAC5Bz+B,UAAW,CACPne,KAAMk2C,OACNsH,MAAOvH,4BAEX6G,SAAS,EACTx0C,KAAM,CACF3R,MAAO,GAEX0oB,OAAQ,IAGZ,IAAIo+B,oBAAuB,SAAUb,GACjC,SAASa,IACLb,EAAa9+C,MAAM3B,KAAMjD,UAC7B,CAYA,OAVK0jD,IAAea,EAAoB7oD,UAAYgoD,GACpDa,EAAoB9gD,UAAYjI,OAAOuN,OAAQ26C,GAAgBA,EAAajgD,WAC5E8gD,EAAoB9gD,UAAUhE,YAAc8kD,EAE5CA,EAAoB9gD,UAAUqgD,QAAU,WAGpC,OAFW7gD,KAAKizB,MAAMsuB,gBAAgBvhD,KAAK0kB,OAG/C,EAEO48B,CACX,CAhB0B,CAgBxBb,cAEF,SAASe,aAAa37B,GAClB,IAAK,IAAIjsB,EAAM,EAAGA,EAAMisB,EAAShsB,OAAQD,IACrC,GAAIiJ,QAAQgjB,EAASjsB,GAAKspB,QACtB,OAAO,CAGnB,CAEA,SAASu+B,gBAAgBhiD,EAAOhG,GACZ,OAAZA,GACAgG,EAAMH,KAAK7F,EAEnB,CAEA,SAASioD,WAAWv4C,GAChB,OAAOktC,aAAaltC,KAAYA,EAAOtP,MAC3C,CAEA,SAAS8nD,eAAej9B,EAAQvlB,EAAQ1D,GACpC,IAAIgnB,EAAUtjB,EAAOsjB,QACrB,GAAI5f,QAAQ4f,GACR,OAAOA,EAGX,IAAIm/B,EAAkBl9B,EAAOk9B,gBAC7B,OAAIA,EACOA,EAAgBnmD,QAD3B,CAGJ,CAEA,SAASomD,aAAan9B,GAMlB,IALA,IAAI9Y,EAAO8Y,EAAO9Y,KACdkS,EAAS,GACTy4B,EAAM,EACN76C,EAAQ,EAEH9B,EAAM,EAAGA,EAAMgS,EAAK/R,OAAQD,IAAO,CACxC,IAAIuuB,EAAYwuB,aAAah/B,QAAQ0/B,UAAU3yB,EAAQ9qB,GACnDN,EAAQ6uB,EAAU8uB,YAAY39C,MAG9B+B,WAAW/B,KACXA,EAAQsE,WAAWtE,IAGnB6B,SAAS7B,IACT6uB,EAAU1F,SAA4D,IAAlDk/B,eAAej9B,EAAQyD,EAAUhpB,OAAQvF,GAE7DuuB,EAAU7uB,MAAQ8I,KAAKkZ,IAAIhiB,GAC3BwkB,EAAOxe,KAAK6oB,GAERA,EAAU1F,UACV8zB,GAAOpuB,EAAU7uB,OAGP,IAAVA,GACAoC,KAGJoiB,EAAOxe,KAAK,KAEpB,CAEA,MAAO,CACHwlB,MAAOyxB,EACPz4B,OAAQA,EACRpiB,MAAOA,EAEf,CAEA,SAAS+nC,gBAAgB/e,GAIrB,IAHA,IAAIo9B,EAAcp9B,EAAO7qB,OACrBqnC,EAAa,EAERzmC,EAAI,EAAGA,EAAIqnD,EAAarnD,IAC7BymC,EAAa9+B,KAAKC,IAAI6+B,EAAYxc,EAAOjqB,GAAGmR,KAAK/R,QAGrD,OAAOqnC,CACX,CAEA,SAAS6gB,iBAAiBr1C,EAAG/D,GACzB,OAAI+D,GAAK/D,EACE+D,EAAEm7B,gBAAkBl/B,EAAEk/B,cAG1Bn7B,IAAM/D,CACjB,CAEA,IAAIq5C,iBAAmB,EAEvB,SAASC,YAAY3nD,EAASk0B,EAASvqB,EAAOi+C,QAC3B,IAAVj+C,IAAmBA,EAAQ,CAAC,QACjB,IAAXi+C,IAAoBA,GAAS,GAElC,IAAIC,EAAWl+C,EAAMk+C,SAAWl+C,EAAMk+C,UAAY,CAAC,EAC/Cj+C,EAAQD,EAAMC,MAAQD,EAAMC,OAAS,EACrCk+C,GAAY,EAIhB,GAFAn+C,EAAMo+C,SAAWp+C,EAAMo+C,UAAY,GAE/Bn+C,EAAQ89C,iBACR,OAAO,KAGX,IAAK,IAAI5lD,KAAY9B,EACjB,IAAK6F,QAAQ/D,EAAU6H,EAAMo+C,WAAa52C,eAAenR,EAAS8B,GAAW,CACzE,IAAIC,EAAY/B,EAAQ8B,GACpBN,WAAWO,IACX+lD,GAAY,EACPF,IACD5nD,EAAQ8B,GAAYsH,eAAerH,EAAUmyB,GAAU2zB,EAAS/lD,MAE7DY,SAASX,KACX6lD,IACDj+C,EAAMk+C,SAAWA,EAAS/lD,IAE9B6H,EAAMC,QACNk+C,EAAYH,YAAY5lD,EAAWmyB,EAASvqB,EAAOi+C,IAAWE,EAC9Dn+C,EAAMC,QAEd,CAGJ,OAAOk+C,CACX,CAEA,SAASE,mBAAmB59B,EAAQ69B,GAIhC,IAHA,IAAI3mD,EAAS,GAETo7C,EAAc,GAAG7uC,OAAOo6C,GACnB3oD,EAAM,EAAGA,EAAM8qB,EAAO7qB,OAAQD,IAAO,CAC1C,IAAI4oD,EAAgB99B,EAAO9qB,GACvBuG,QAAQqiD,EAAc3+C,KAAMmzC,IAC5Bp7C,EAAO0D,KAAKkjD,EAEpB,CAEA,OAAO5mD,CACX,CAEA,IAAI6mD,UAAY,IAAIj0C,QAEpB,SAASk0C,kBAAkB/tD,EAAUsX,EAAKsmB,GACtC,GAAY,OAARtmB,GAA+B,iBAARA,EACvB,OAAO8lB,UAAUQ,EAAa59B,GAGlC,IAAIspC,EAAOwkB,UAAUhiD,IAAIwL,GAMzB,OALKgyB,IACDA,EAAOlM,UAAUQ,EAAa59B,GAC9B8tD,UAAU9hD,IAAIsL,EAAKgyB,IAGhBA,CACX,CAEA,SAAS0kB,mBAAmBroD,GACxB,IAAIorB,EAAUprB,EAAQorB,QAEtB,OAAOA,GAAWA,EAAQ4E,UAAiC,SAArB5E,EAAQ4E,QAClD,CAEA,SAASs4B,WAAWtpD,GAChB,OAAOuJ,QAAQvJ,IAAoB,OAAVA,CAC7B,CAEA,SAASupD,WAAWrX,EAAasX,GAC7B,IAAIj/C,EAAO2nC,EAAY3nC,KACnBk/C,EAAeD,aAA0BrmD,KAE7C,OAASoH,GAAQk/C,GAAiBhB,iBAAiBl+C,EAAM/N,KAC7D,CAEA,SAASktD,kBAAkBvjD,GACvB,OAAwB,IAAjBA,EAAM5F,OAAe4F,EAAM,GAAKA,CAC3C,CAEA,IAAIwjD,WAAa,QAEjB,SAASC,oBAAoBx+B,GACzB,OAAIA,EAAOy+B,cACAz+B,EAAOy+B,cAGXF,WAAW5lD,KAAKqnB,EAAO7gB,OAAS6gB,EAAO0+B,MAAQxI,KAAOC,WACjE,CAEA,SAASwI,WAAW3+B,EAAQhd,GACxB,IACIuvC,EADSN,aAAah/B,QAAQ0/B,UAAU3yB,EAAQ,KAAMhd,GACjCuvC,YAEzB,IAAK,IAAI75C,KAAS65C,EACd,GAAI37C,oBAAoB27C,EAAY75C,IAChC,OAAO,CAGnB,CAEA,SAASkmD,SAAS5gD,GACd,IAQI6gD,EAAeC,EARfnjD,EAAQqC,EAAIrC,MACZ6sC,EAAMxqC,EAAIwqC,IACV3lC,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACVnD,EAASwD,EAAIxD,OACbukD,EAAU/gD,EAAI+gD,QACd/+B,EAAShiB,EAAIgiB,OAGb9qB,EAAMyG,EACV,GAIQojD,EAHJ7pD,GAAOszC,KAKHqW,EAAgBF,WAAW3+B,GAD3B8+B,EAAWtkD,EAAOtF,IAC0B8N,aAE3CH,GAAO3N,GAAOA,GAAOyI,IAAQkhD,GAEtC,GAAIA,EACA,OAAOC,CAEf,CAEA,SAASE,uBAAuBh/B,EAAQ2Q,EAAO35B,EAAOwD,EAAQukD,GAC1D,IAAIl8C,EAAM8tB,EAAM9tB,IACZlF,EAAMgzB,EAAMhzB,IACZshD,EAAcp8C,EAAM,GAAKA,EAAM7L,EAC/BkoD,EAAcvhD,EAAM,EAAI3G,EAE5B,GAAIioD,GAAeC,EAAa,CAC5B,IACIC,EAAUC,EAUNN,EATR,GAFoBN,oBAAoBx+B,KAElBm2B,YACd8I,IACAE,EAAW3kD,EAAOqI,EAAM,IAGxBq8C,IACAE,EAAW5kD,EAAOmD,EAAM,SAIxBshD,IAcIE,EAZYR,WAAW3+B,GAD3B8+B,EAAWtkD,EAAOqI,EAAM,IACoBG,MAY7B87C,EAVAF,SAAS,CAChBjjD,MAAOkH,EACP2lC,KAAM,EACN3lC,IAAK,EACLlF,IAAK3G,EAAQ,EACbwD,OAAQA,EACRukD,QAASA,EACT/+B,OAAQA,KAOhBk/B,IAcIE,EAZYT,WAAW3+B,GAD3B8+B,EAAWtkD,EAAOmD,EAAM,IACoBqF,MAY7B87C,EAVAF,SAAS,CAChBjjD,MAAOgC,EACP6qC,IAAK,EACL3lC,IAAK,EACLlF,IAAK3G,EAAQ,EACbwD,OAAQA,EACRukD,QAASA,EACT/+B,OAAQA,KAQpBm/B,IACAn/B,EAAOq/B,oBAAsBF,GAG7BC,IACAp/B,EAAOs/B,oBAAsBF,EAErC,CACJ,CAEA,IAAIG,iBAAoB,SAAUtiC,GAC9B,SAASsiC,EAAiB5sB,EAAU/8B,GAChCqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKq3B,SAAWA,EAChBr3B,KAAKqiB,aAAegV,EAAShV,aAC7BriB,KAAKkkD,aAAe7sB,EAAS8sB,mBAAmB7pD,EAAQoqB,OAAO,IAI/D1kB,KAAKokD,gBAAkB,CAAC,EAExBpkD,KAAK8d,OAAS,GACd9d,KAAKqkD,eAAiB,GACtBrkD,KAAKskD,aAAe,GACpBtkD,KAAKukD,cAAgB,GACrBvkD,KAAKwkD,YAAc,GAEnBxkD,KAAK+wB,QACT,CAihBA,OA/gBKpP,IAAesiC,EAAiBxrD,UAAYkpB,GACjDsiC,EAAiBzjD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACzEyjD,EAAiBzjD,UAAUhE,YAAcynD,EAEzCA,EAAiBzjD,UAAUuwB,OAAS,WAChC/wB,KAAKykD,mBAAmBzkD,KAAK0kD,SAASx8C,KAAKlI,MAC/C,EAEAikD,EAAiBzjD,UAAUmkD,aAAe,SAAuBjgC,EAAQkgC,GACrE,IAAItqD,EAAU0F,KAAKukD,cAAcK,GACjC,IAAKtqD,EAAS,CACV,IAAI6nD,EAAWniD,KAAK6kD,YAAYrkD,UAAU2hD,SAC1CniD,KAAKukD,cAAcK,GAAYtqD,EAAUuC,WAAW,CAAE,EAAGslD,EAAU,CAC/Dp3B,UAAW/qB,KAAK1F,QAAQwqD,YACzBpgC,EACP,CAEA,OAAOpqB,CACX,EAEA2pD,EAAiBzjD,UAAUukD,UAAY,SAAoBjpC,GACvD,IAAKA,EACD,OAAO,EAGX,GAAI9b,KAAK1F,QAAQ0qD,cAAgB7pD,SAAS2gB,EAAMxiB,OAAQ,CAMpD,IALA,IAAIquC,EAAa7rB,EAAM6rB,WACnB0c,EAAiBrkD,KAAKqkD,eAAe1c,GACrCsd,EAAc,GACdC,EAAc,EAETzqD,EAAI,EAAGA,EAAI4pD,EAAexqD,OAAQY,IAAK,CAC5C,IAAI0qD,EAAQd,EAAe5pD,GAC3B,GAAI0qD,EAAO,CACP,IAAI/B,EAAQtnC,EAAM4I,OAAO0+B,MACrBgC,EAAaD,EAAMzgC,OAAO0+B,MAE9B,GAAKA,GAASgC,GAAehC,EAAMl3B,QAAUk5B,EAAWl5B,MACpD,SAGA/wB,SAASgqD,EAAM7rD,SACf4rD,GAAe9iD,KAAKkZ,IAAI6pC,EAAM7rD,OAC9B2rD,EAAY3lD,KAAK8C,KAAKkZ,IAAI6pC,EAAM7rD,QAExC,CACJ,CAEA,GAAI4rD,EAAc,EACd,OAAOppC,EAAMxiB,MAAQ4rD,CAE7B,CAEA,OAAOppC,EAAMxiB,KACjB,EAEA2qD,EAAiBzjD,UAAU6kD,UAAY,SAAoBvpC,EAAOunB,GAC9D,IAAIpwB,EAAWjT,UACK,IAAfqjC,IAAwBA,EAAa,GAE1C,IAAIghB,EAAiBrkD,KAAKqkD,eAAevoC,EAAM6rB,YAE/C,GAAI3nC,KAAK1F,QAAQgrD,UAAW,CACxB,IAAIP,EAAY/kD,KAAK+kD,UAAUjpC,GAC3BypC,EAAWR,GAAa,EACxBS,EAAYniB,EACZoiB,GAAe,EACfrC,EAAQvgD,QAAQiZ,EAAM4I,OAAO0+B,OAAStnC,EAAM4I,OAAO0+B,MAAQpjD,KAAK1F,QAAQorD,aACxEC,EAAkB,SAAUvC,GAAS,OAAiB,IAAVA,UAAyBA,IAAUjsD,WAAaisD,EAAMl3B,KAAO,EAE7G,GAAIk3B,EACA,IAAK,IAAI3oD,EAAI,EAAGA,EAAI4pD,EAAexqD,OAAQY,IAAK,CAC5C,IAAI0qD,EAAQd,EAAe5pD,GAE3B,GAAIqhB,IAAUqpC,EACV,MAGJ,IAAIC,EAAaviD,QAAQsiD,EAAMzgC,OAAO0+B,OAAS+B,EAAMzgC,OAAO0+B,MAAQnwC,EAAS3Y,QAAQorD,aAErF,GAAKN,YAIMhC,IAAU5rD,UAAY4rD,IAAUgC,MAIvCO,EAAgBvC,IAAWuC,EAAgBP,OAI3ChC,EAAMl3B,OAASk3B,EAAMl3B,QAAUk5B,EAAWl5B,QAA9C,CAIA,IAAI05B,EAAa3yC,EAAS8xC,UAAUI,IAC/BS,GAAc,GAAKL,GACnBK,EAAa,IAAML,KAED,IAAfliB,GAAmC,IAAfuiB,IACpBJ,GAAaI,EACbb,GAAaa,EACbH,GAAe,EAEXxyC,EAAS3Y,QAAQ0qD,eACjBD,EAAY3iD,KAAKmF,IAAIw9C,EAAW,KAZ5C,CAgBJ,CAOJ,OAJIU,IACAD,GAAaniB,GAGV,CAAEmiB,EAAWT,EACxB,CAEA,IAAIrgC,EAAS5I,EAAM4I,OACfkd,EAAY5hC,KAAKuhD,gBAAgB78B,GACjC0X,EAAoBp8B,KAAK6lD,0BAA0BjkB,GAEvD,MAAO,CAAExF,EAAmB9gC,oBAAoBwgB,EAAMxiB,OAASwiB,EAAMxiB,MAAQ8iC,EACjF,EAEA6nB,EAAiBzjD,UAAUslD,YAAc,SAAsBC,EAAUC,GAMrE,IALA,IAEIz+C,EAAM3Q,UACNyL,EAAMvL,UAED2D,EAAI,EAAGA,EAAIuF,KAAKqkD,eAAexqD,OAAQY,IAAK,CACjD,IAAI4pD,EANOrkD,KAMmBqkD,eAAe5pD,GAC7C,GAAK4pD,EAIL,IAAK,IAAI4B,EAAM,EAAGA,EAAM5B,EAAexqD,OAAQosD,IAAO,CAClD,IAAInqC,EAAQuoC,EAAe4B,GAC3B,GAAInqC,IACIA,EAAM4I,OAAO0+B,QAAU4C,GAAalqC,EAAM4I,OAAO/O,OAASowC,GAAU,CACpE,IAAIluB,EAfL73B,KAemBqlD,UAAUvpC,EAAO,GAAG,GAClCjZ,QAAQg1B,IAAOt8B,SAASs8B,KACxBx1B,EAAMD,KAAKC,IAAIA,EAAKw1B,GACpBtwB,EAAMnF,KAAKmF,IAAIA,EAAKswB,GAE5B,CAER,CACJ,CAEA,MAAO,CAAEtwB,IAAKA,EAAKlF,IAAKA,EAC5B,EAEA4hD,EAAiBzjD,UAAU0lD,iBAAmB,WAC1C,IAAIjzC,EAAWjT,KAEX0C,EAAM1C,KAAK1F,QACXgrD,EAAY5iD,EAAI4iD,UAChBa,EAAczjD,EAAIgiB,OAClB0hC,EAAc,CAAC,EAEnB,GAAId,EACA,IAAK,IAAI7qD,EAAI,EAAGA,EAAI0rD,EAAYtsD,OAAQY,IAAK,CACzC,IAAIiqB,EAASyhC,EAAY1rD,GACrBsrD,EAAWrhC,EAAO/O,KAClBjV,EAAMqlD,EAAWrhC,EAAO0+B,MAExBiD,EAASD,EAAY1lD,GACzB,IAAK2lD,EAAQ,CACTA,EAASpzC,EAAS6yC,YAAYC,EAAUrhC,EAAO0+B,OAE/C,IAAIkD,EAAcrzC,EAASqzC,YACvBA,IACIA,EAAYC,SAAS1sD,SACrBwsD,EAAO9+C,IAAMnF,KAAKmF,IAAI8+C,EAAO9+C,IAAKF,kBAAkBi/C,EAAYC,UAAUh/C,MAE1E++C,EAAYf,SAAS1rD,SACrBwsD,EAAOhkD,IAAMD,KAAKC,IAAIgkD,EAAOhkD,IAAKgF,kBAAkBi/C,EAAYf,UAAUljD,OAI9EgkD,EAAO9+C,MAAQ3Q,WAAayvD,EAAOhkD,MAAQvL,UAC3CsvD,EAAY1lD,GAAO2lD,EAEnBA,EAAS,IAEjB,CAEIA,IACApzC,EAASmxC,gBAAgB2B,GAAYM,EAE7C,CAER,EAEApC,EAAiBzjD,UAAUgmD,YAAc,SAAsB1qC,EAAOlQ,EAAM+7B,GACxE,IAMIyR,EANA9/C,EAAQwiB,EAAMxiB,MACdorB,EAAS5I,EAAM4I,OACfkgC,EAAW9oC,EAAM8oC,SACjB6B,EAAY3qC,EAAMxhB,QAAQmsD,UAC1BC,EAAW96C,EAAKzM,OAAOk7C,iBACvBsM,EAAY/6C,EAAKzM,OAAOm7C,kBAGxBn/C,SAASurD,IAAavrD,SAASwrD,GAC/BvN,EAAa,CAAE7Y,IAAKmmB,EAAUlmB,KAAMmmB,GAC7BF,GAAa5jD,QAAQ4jD,EAAUntD,SACtC0G,KAAK4mD,kBAAoB5mD,KAAK4mD,mBAAqB,GACnD5mD,KAAK4mD,kBAAkBhC,GAAY5kD,KAAK4mD,kBAAkBhC,IACtD,IAAIpM,qBAAqBiO,EAAUntD,MAAOorB,EAAQ7sB,OAEtDuhD,EAAap5C,KAAK4mD,kBAAkBhC,GAAUnL,cAAcngD,EAAOmtD,EAAUntD,QAG7E8/C,IACAt9B,EAAMykB,IAAM6Y,EAAW7Y,IACvBzkB,EAAM0kB,KAAO4Y,EAAW5Y,KACxBxgC,KAAK6mD,iBAAiB/qC,EAAO6rB,GAErC,EAEAsc,EAAiBzjD,UAAUqmD,iBAAmB,SAA2B/qC,EAAO6rB,GAC5E,IAAI+Y,GAAc1gD,KAAK1F,QAAQwqD,WAC3BxqD,EAAUwhB,EAAMxhB,QAAQmsD,UACxB/hC,EAAS5I,EAAM4I,OACf6b,EAAMzkB,EAAMykB,IACZC,EAAO1kB,EAAM0kB,KAEjB,GAAIxgC,KAAK1F,QAAQgrD,UAAW,CACxB,IAAIwB,EAAoB9mD,KAAK8mD,kBAAkBhrC,EAAO6rB,GACtDpH,EAAMumB,EAAkBvmB,IACxBC,EAAOsmB,EAAkBtmB,IAC7B,KAAO,CACH,IAAIrhC,EAAS,CAAEwoC,WAAYA,EAAYjjB,OAAQA,GAC/C1kB,KAAK+mD,YAAY,CAAEztD,MAAOinC,GAAOphC,GACjCa,KAAK+mD,YAAY,CAAEztD,MAAOknC,GAAQrhC,EACtC,CAEA,IAAI6nD,EAAW,IAAI1F,oBAAoB/gB,EAAKC,EAAMkgB,EAAY1gD,KAAM0kB,EAAQpqB,GAC5EwhB,EAAM2qC,UAAY,CAAEO,GACpBlrC,EAAMnZ,OAAOqkD,EACjB,EAEA/C,EAAiBzjD,UAAUsmD,kBAAoB,SAA4BhrC,EAAO6rB,GAC9E,IAAIod,EAAY/kD,KAAKqlD,UAAUvpC,EAAO,GAAG,GAAKA,EAAMxiB,MAChDinC,EAAMzkB,EAAMykB,IAAMwkB,EAClBvkB,EAAO1kB,EAAM0kB,KAAOukB,EAYxB,OAVA/kD,KAAKsmD,YAActmD,KAAKsmD,aAAe,CAAEf,SAAU,GAAIgB,SAAU,IAE7DhmB,EAAM,IACNvgC,KAAKsmD,YAAYC,SAAS5e,GAAcvlC,KAAKmF,IAAIvH,KAAKsmD,YAAYC,SAAS5e,IAAe,EAAGpH,IAG7FC,EAAO,IACPxgC,KAAKsmD,YAAYf,SAAS5d,GAAcvlC,KAAKC,IAAIrC,KAAKsmD,YAAYf,SAAS5d,IAAe,EAAGnH,IAG1F,CAAED,IAAKA,EAAKC,KAAMA,EAC7B,EAEAyjB,EAAiBzjD,UAAUkkD,SAAW,SAAmB94C,EAAMzM,GAC3D,IAAIwoC,EAAaxoC,EAAOwoC,WACpBjjB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAElBP,EAAiBrkD,KAAKqkD,eAAe1c,GACpC0c,IACDrkD,KAAKqkD,eAAe1c,GAAc0c,EAAiB,IAGvD,IAAIC,EAAetkD,KAAKskD,aAAaM,GAChCN,IACDtkD,KAAKskD,aAAaM,GAAYN,EAAe,IAGjD,IAAIxoC,EAAQ9b,KAAKinD,YAAYr7C,EAAMzM,GAC/B2c,IACAvjB,OAAO4a,OAAO2I,EAAO3c,GAErB2c,EAAMorC,MAAQlnD,KACd8b,EAAMqrC,SAAWv7C,EAAKzM,OAAOgoD,SACxBtkD,QAAQiZ,EAAM6I,YACf7I,EAAM6I,SAAWD,EAAO9Y,KAAK+7B,IAEjC3nC,KAAKwmD,YAAY1qC,EAAOlQ,EAAM+7B,IAGlC3nC,KAAK8d,OAAOxe,KAAKwc,GACjBwoC,EAAahlD,KAAKwc,GAClBuoC,EAAe/kD,KAAKwc,GAEpB9b,KAAK+mD,YAAYn7C,EAAKqrC,YAAa93C,EACvC,EAEA8kD,EAAiBzjD,UAAU4mD,iBAAmB,SAA2B9sD,EAAShB,EAAO6F,GACrF,IAAIwoC,EAAaxoC,EAAOwoC,WACpBhzC,EAAWwK,EAAOxK,SAClB+vB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAClB3gD,EAAQ,CACRk+C,SAAUz9B,EAAO2iC,UACjBhF,SAAU,CACN,OAAQ,YAAa,UAAW,UAAW,UAAW,WACtD,SAAU,SAAU,sBAAuB,sBAC3C,yBAA0B,eAAgB,gBAI9CiF,EAAStnD,KAAKwkD,YAAYI,GACzB/hD,QAAQykD,KACTtnD,KAAKwkD,YAAYI,GAAY0C,EAASrF,YAAY3nD,EAAS,CAAC,EAAG2J,GAAO,IAG1E,IAAI0gD,EAAerqD,EAYnB,OAXIgtD,GAEArF,YADA0C,EAAe9nD,WAAW,CAAC,EAAG8nD,GACJ,CACtBrrD,MAAOA,EACP3E,SAAUA,EACV8G,MAAOksC,EACPjjB,OAAQA,EACRC,SAAUD,EAAO9Y,KAAK+7B,IACvB1jC,GAGA0gD,CACX,EAEAV,EAAiBzjD,UAAUumD,YAAc,SAAsBn7C,EAAMzM,GACjE,IAAI4mD,EAAW5mD,EAAOulB,OAAO/O,KACzBrc,EAAQsS,EAAKtS,MACbiuD,EAAYvnD,KAAKokD,gBAAgB2B,GAEjCxqD,SAASjC,IAAoB,OAAVA,KACnBiuD,EAAYvnD,KAAKokD,gBAAgB2B,GAC7BwB,GAAa,CAAEhgD,IAAK3Q,UAAWyL,IAAKvL,YAE9ByQ,IAAMnF,KAAKmF,IAAIggD,EAAUhgD,IAAKjO,GACxCiuD,EAAUllD,IAAMD,KAAKC,IAAIklD,EAAUllD,IAAK/I,GAEhD,EAEA2qD,EAAiBzjD,UAAU+gD,gBAAkB,SAA0B78B,GACnE,IAAI2S,EAAWr3B,KAAKq3B,SAChB0uB,EAAWrhC,EAAO/O,KAClBA,EAAOowC,EAAW1uB,EAASmwB,eAAezB,GAAY1uB,EAASuK,UAEnE,IAAKjsB,EACD,MAAM,IAAIo5B,MAAM,yCAA2CgX,GAG/D,OAAOpwC,CACX,EAEAsuC,EAAiBzjD,UAAUshB,OAAS,SAAiB9E,GACjD,IAAI/J,EAAWjT,KAEXynD,EAAgBznD,KAAKynD,cAAgB,GACrCC,EAAc1nD,KAAK8d,OACnBomC,EAAelkD,KAAKkkD,aACpB5M,EAAU,EAEdt3C,KAAKykD,oBAAmB,SAAU74C,EAAMzM,GACpC,IAAIwoC,EAAaxoC,EAAOwoC,WACpB6a,EAAgBrjD,EAAOulB,OAEvBkd,EAAY3uB,EAASsuC,gBAAgBiB,GACrC1mC,EAAQ4rC,EAAYpQ,KAEpBqQ,EAAeF,EAAc9f,GAMjC,GALKggB,IACDF,EAAc9f,GAAcggB,EACxB10C,EAAS00C,aAAazD,EAAcvc,EAAY/F,IAGpD9lB,EAAO,CACP,IAAIupC,EAAYpyC,EAASoyC,UAAUvpC,EAAO8lB,EAAUyB,cAChDukB,EAAY30C,EAAS20C,UAAUhmB,EAAWyjB,GAC9C,GAAIuC,EAAW,CACX,IAAIC,EAAY50C,EAAS40C,UAAUF,EAAcC,GAEjD9rC,EAAMgsC,UAAY70C,EAAS60C,UAAUhsC,EAAO8lB,GAC5C9lB,EAAMisC,WAAa1C,EAAU,GAEzBpyC,EAAS3Y,QAAQ0qD,eACjBlpC,EAAM8I,WAAa3R,EAAS8xC,UAAUjpC,IAG1C7I,EAAS+0C,YAAYlsC,EAAO+rC,EAChC,MACI/rC,EAAM2G,SAAU,CAExB,CACJ,IAEAziB,KAAKioD,iBAAiBR,IACjBznD,KAAK1F,QAAQ8vC,MAAQpqC,KAAK1F,QAAQ4tD,aAAeloD,KAAK8d,OAAOjkB,QAC9DmG,KAAKkoD,cAGTloD,KAAK8c,IAAME,CACf,EAEAinC,EAAiBzjD,UAAUonD,UAAY,SAAoBhmB,EAAWyjB,GAClE,OAAOzjB,EAAUhK,QAAQytB,EAAU,GAAIA,EAAU,IAAKrlD,KAAK1F,QAAQ8vC,KACvE,EAEA6Z,EAAiBzjD,UAAU0nD,YAAc,WAKrC,IAJA,IAEI7D,EAAiBrkD,KAAKqkD,eACtBvmC,EAASumC,EAAe,GAAGl8C,OAAO/E,KAAKihD,IAClCzqD,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAC/BkkB,EAAOlkB,IALAoG,KAMEmoD,WAAWrqC,EAAOlkB,GAGvC,EAEAqqD,EAAiBzjD,UAAU2nD,WAAa,SAAqBrsC,GACzD,IAAIssC,EAAcpoD,KAAKkkD,aAAajhB,UAAUnnB,EAAMgB,KAC/CsrC,EAAYvsC,OAAOC,EAAMgB,MAC1BhB,EAAMgG,OAAOsmC,EAErB,EAEAnE,EAAiBzjD,UAAUsnD,UAAY,SAAoBhsC,EAAO8lB,GAC9D,IAAIxF,EAAoBp8B,KAAK6lD,0BAA0BjkB,GACnDtoC,EAAQwiB,EAAMxiB,MAElB,OAAOsoC,EAAUtnC,QAAQi1B,QACrBj2B,EAAQ8iC,EAAoB9iC,GAAS8iC,CAC7C,EAEA6nB,EAAiBzjD,UAAUqlD,0BAA4B,SAAoCjkB,GACvF,IAAIsiB,EAAelkD,KAAKkkD,aACpB5pD,EAAUsnC,EAAUtnC,QAKxB,MAJqB,GAAG6N,OACpB7N,EAAQ2yC,oBAAsB3yC,EAAQ8hC,mBAGpB8nB,EAAamE,WAAa,IAAM,CAC1D,EAEApE,EAAiBzjD,UAAUwnD,YAAc,SAAsBlsC,EAAO+rC,GAClE/rC,EAAMgG,OAAO+lC,EACjB,EAEA5D,EAAiBzjD,UAAUynD,iBAAmB,WAA+B,EAE7EhE,EAAiBzjD,UAAUqnD,UAAY,SAAoBF,EAAcC,GACrE,IACI9C,EADU9kD,KAAK1F,QACMwqD,WACrBptB,EAAQotB,EAAa8C,EAAYD,EACjChwB,EAAQmtB,EAAa6C,EAAeC,EAExC,OAAO,IAAI/qC,IAAI6a,EAAM9iB,GAAI+iB,EAAM7iB,GAAI4iB,EAAM3iB,GAAI4iB,EAAM3iB,GACvD,EAEAivC,EAAiBzjD,UAAUmnD,aAAe,SAAuBzD,EAAcvc,GAC3E,OAAOuc,EAAatsB,QAAQ+P,EAChC,EAEAsc,EAAiBzjD,UAAUikD,mBAAqB,SAA6B/kD,GAOzE,IANA,IAAIuT,EAAWjT,KAEX0kB,EAAS1kB,KAAK1F,QAAQoqB,OACtBhpB,EAAQ+nC,gBAAgB/e,GACxBo9B,EAAcp9B,EAAO7qB,OAEhB+qD,EAAW,EAAGA,EAAW9C,EAAa8C,IAC3C3xC,EAASq1C,oBAAoB5jC,EAAOkgC,GAAW,sBAAuBA,EAAUllD,GAGpF,IAAK,IAAIioC,EAAa,EAAGA,EAAajsC,EAAOisC,IACzC,IAAK,IAAI4gB,EAAa,EAAGA,EAAazG,EAAayG,IAAc,CAC7D,IAAI/F,EAAgB99B,EAAO6jC,GACvBC,EAAkBv1C,EAASixC,aAAa1gB,WAAWmE,GAGvDjoC,EAFgBuT,EAASokB,SAASggB,UAAUmL,EAAe7a,GAEvC,CAChBhzC,SAAU6zD,EACV7gB,WAAYA,EACZlE,gBAAiB/nC,EACjBgpB,OAAQ89B,EACRoC,SAAU2D,GAElB,CAGJ,IAAK,IAAIE,EAAa,EAAGA,EAAa3G,EAAa2G,IAC/Cx1C,EAASq1C,oBAAoB5jC,EAAO+jC,GAAa,sBAAuBA,EAAY/oD,EAE5F,EAEAukD,EAAiBzjD,UAAU8nD,oBAAsB,SAA8B5jC,EAAQtnB,EAAOwnD,EAAUllD,GACpG,IAAIgpD,EAAkBhkC,EAAOtnB,GAC7B,GAAIsrD,EAAiB,CACjB,IAAI/gB,EAAa+gB,EAAgB/gB,WAGjCjoC,EAFgBM,KAAKq3B,SAASggB,UAAU3yB,EAAQijB,EAAY+gB,EAAgBhhD,MAExD,CAChB/S,SAAU+zD,EAAgB/zD,SAC1BgzC,WAAYA,EACZjjB,OAAQA,EACRkgC,SAAUA,EACVjgC,SAAU+jC,EAAgBhhD,MAElC,CACJ,EAEAu8C,EAAiBzjD,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GAC5E,OAAoB,OAAhB5T,EAAMxiB,MACC,GAGJ0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQ5T,EAAMxiB,MACvD,EAEA2qD,EAAiBzjD,UAAUk5C,WAAa,SAAqB9tC,GACzD,OAAOA,EAAKqrC,YAAY39C,KAC5B,EAEO2qD,CACX,CAriBuB,CAqiBrBtiC,cAEF/d,kBAAkBqgD,iBAAkB,CAChCv/B,OAAQ,GACRogC,YAAY,EACZQ,WAAW,EACXlb,MAAM,EACN8d,aAAa,IAGjB,IAAIU,iBAAmB,CACnBh5B,MAAO,SAASqD,EAAOjxB,GACnB,OAAOixB,EAAM5xB,QACTy8C,aACA99C,KAAK4S,UAAU5Q,GAEvB,EAEA6mD,MAAO,SAAS51B,EAAOjxB,GACnB,OAAOixB,EAAM5xB,QACT08C,aACA/9C,KAAK4S,UAAU5Q,GAEvB,EAEA4vB,KAAM,SAASqB,EAAOjxB,GAClB,OAAOixB,EAAM5xB,QACT28C,YACAh+C,KAAK4S,UAAU5Q,GAEvB,EAEA6vB,IAAK,SAASoB,EAAOjxB,GACjB,OAAOixB,EAAM5xB,QACT48C,aACAj+C,KAAK4S,UAAU5Q,GAEvB,EAEA4Q,UAAW,SAAS5Q,GAChB,MAAO,CACH1I,MAAO0G,KAAK1G,MACZsrB,WAAY5kB,KAAK4kB,WACjBmjC,WAAY/nD,KAAK+nD,WACjBpzD,SAAUqL,KAAKrL,SACf+vB,OAAQ1kB,KAAK0kB,OACbC,SAAU3kB,KAAK2kB,SACfE,aAAc7kB,KAAK6kB,aACnBC,MAAO9kB,KAAK8kB,MACZrrB,QAASyJ,aAAalB,GACtBwT,cAAexT,EACf8Z,MAAO9b,KAEf,GAGA8oD,UAAY,CACZC,WAAY,WACR,IAAIzuD,EAAU0F,KAAK1F,QAAQy7B,MACvBjI,EAAO9tB,KAAKmnD,UAAY7sD,EAAQ22B,MAAMnD,MAElB,IAApBxzB,EAAQmoB,SAAqB5f,QAAQirB,IAAkB,OAATA,IAC9C9tB,KAAKi2B,KAAO,IAAInF,KAAK,CACjBx3B,MAAO0G,KAAK1G,MACZw0B,KAAMA,EACNnJ,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf+vB,OAAQ1kB,KAAK0kB,QACd1kB,KAAK1F,QAAQy7B,MAAO/1B,KAAKknD,MAAM7kC,cAElCriB,KAAK2C,OAAO3C,KAAKi2B,MAEzB,GAGA+yB,UAAa,SAAUrnC,GACvB,SAASqnC,EAAU1vD,EAAOgB,GACtBqnB,EAAaxgB,KAAKnB,MAElBA,KAAK1G,MAAQA,EACb0G,KAAK1F,QAAUA,EACf0F,KAAK8nD,UAAYpkD,eAAe1D,KAAK1F,QAAQwtD,WAAW,GACxD9nD,KAAKipD,iBAAkB,EACvBjpD,KAAKkpD,IAAM76C,MACf,CA4VA,OA1VKsT,IAAeqnC,EAAUvwD,UAAYkpB,GAC1CqnC,EAAUxoD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAClEwoD,EAAUxoD,UAAUhE,YAAcwsD,EAElCA,EAAUxoD,UAAUuwB,OAAS,WACzB,IACIo4B,EADMnpD,KAAK1F,QACG6uD,QAEdnpD,KAAKopD,YAITppD,KAAKopD,WAAY,EAEbD,EAAQ1mC,SAAW0mC,EAAQ3jD,OAC3BxF,KAAKsxB,OAAStxB,KAAKqpD,eACnBrpD,KAAK2C,OAAO3C,KAAKsxB,SAGrBtxB,KAAKyqC,cACLzqC,KAAK+oD,aAED/oD,KAAKgnD,UACLhnD,KAAK2C,OAAO3C,KAAKgnD,UAEzB,EAEAgC,EAAUxoD,UAAUiqC,YAAc,WAC9B,IACIvW,EADUl0B,KAAK1F,QACE45B,OAEjBA,EAAOzR,UACPziB,KAAKixB,MAAQjxB,KAAKspD,mBAAmBp1B,GACrCl0B,KAAK2C,OAAO3C,KAAKixB,OAEzB,EAEA+3B,EAAUxoD,UAAU8oD,mBAAqB,SAA6BhvD,GAClE,OAAO,IAAI+yB,QAAQrtB,KAAKupD,aAAajvD,GACjCuC,WAAW,CACP6hB,MAAOhpB,OACP0xB,OAAQ1xB,OACRqxB,OAAQ,CACJ3oB,KAAM,EACNF,MAAO,GAEXglB,OAAQxf,eAAepJ,EAAQ4oB,OAAQljB,KAAK0kB,OAAOxB,SACpD5oB,GACH0F,KAAKmoB,YAEb,EAEA6gC,EAAUxoD,UAAU+oD,aAAe,SAAuBjvD,GACtD,IAAI29B,EAAgBx5B,cAAcnE,GAElC,OAAI29B,EACOA,EAAcj4B,KAAKmoB,aACnB7tB,EAAQo1B,OACR1vB,KAAKwpD,YAAYlvD,EAAQo1B,QAG7B1vB,KAAK1G,KAChB,EAEA0vD,EAAUxoD,UAAUipD,iBAAmB,WACnC,IAAIv1B,EAASl0B,KAAK1F,QAAQ45B,OACtBt1B,EAAeD,YAAYu1B,GAE/B,OAAIt1B,EACOA,EAAaoB,KAAKmoB,aAGtBnoB,KAAKupD,aAAar1B,EAC7B,EAEA80B,EAAUxoD,UAAUkpD,aAAe,WAC/B,IAAIpvD,EAAU0F,KAAK1F,QAAQ6uD,QACvB/jC,EAAa9qB,EAAQ8qB,WACrBE,EAASzoB,WAAW,CAAEkM,MAAO/I,KAAK+I,OAASzO,EAAQgrB,QAMvD,OAJKziB,QAAQyiB,EAAOvc,SAChBuc,EAAOvc,MAAQ,IAAIrW,MAAM0yB,GAAYukC,WAAW1P,mBAAmB2P,SAGhEtkC,CACX,EAEA0jC,EAAUxoD,UAAUkiB,aAAe,WAA0B,EAE7DsmC,EAAUxoD,UAAU6oD,aAAe,WAC/B,IAAI/uD,EAAU0F,KAAK1F,QAAQ6uD,QAuB3B,OAtBa,IAAIjhC,aAAa,CAC1BrkB,KAAMvJ,EAAQuJ,KACdrJ,MAAOF,EAAQkL,KACfmG,OAAQrR,EAAQkL,KAChB0Y,SAAU5jB,EAAQ4jB,SAClBkH,WAAY9qB,EAAQ8qB,WACpBE,OAAQtlB,KAAK0pD,eACbtlC,QAAS9pB,EAAQ8pB,QACjByC,QAAS7mB,KAAK1F,QAAQusB,QACtB3D,OAAQxf,eAAepJ,EAAQ4oB,OAAQljB,KAAK0kB,OAAOxB,QACnDlB,UAAW1nB,EAAQ0nB,UACnBe,OAAQzoB,EAAQyoB,OAChB8E,qBAAsBhrB,WAAW,CAC7BkrB,UAAW/nB,KAAKypD,iBAAiBzpD,KAAK1F,QAAQ45B,SAC/Cl0B,KAAK1F,QAAQ0qB,gBACjB,CACCL,SAAU3kB,KAAK2kB,SACfrrB,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OACb/vB,SAAUqL,KAAKrL,UAIvB,EAEAq0D,EAAUxoD,UAAUqpD,UAAY,WAM5B,OALK7pD,KAAKsxB,SACNtxB,KAAKsxB,OAAStxB,KAAKqpD,eACnBrpD,KAAKsxB,OAAOxP,OAAO9hB,KAAK8pD,YAGrB9pD,KAAKsxB,OAAOxU,GACvB,EAEAksC,EAAUxoD,UAAUshB,OAAS,SAAiB9E,GAC1C,IAGI1iB,EADM0F,KACQ1F,QACdwtD,EAFM9nD,KAEU8nD,UAChB/8B,EAAWzwB,EAAQywB,SAEvB/qB,KAAK+wB,SAEL/wB,KAAK8c,IAAME,EACX,IAAI+sC,EAAW/sC,EAAUrgB,QAuBzB,GArBIouB,EACI+8B,EACAiC,EAASj1C,IAAMi1C,EAASp+C,SAExBo+C,EAAS/0C,IAAM+0C,EAASp+C,SAGxBm8C,EACAiC,EAASn1C,IAAMm1C,EAASvvD,QAExBuvD,EAASh1C,IAAMg1C,EAASvvD,QAIhCwF,KAAK8pD,UAAYC,EACb/pD,KAAKsxB,QACLtxB,KAAKsxB,OAAOxP,OAAOioC,GAGvB/pD,KAAKgqD,YAAYD,GAEb/pD,KAAKymD,UACL,IAAK,IAAIhsD,EAAI,EAAGA,EAAIuF,KAAKymD,UAAU5sD,OAAQY,IAlChCuF,KAmCEymD,UAAUhsD,GAAGqnB,OAAOioC,GAIrC,GAAI/pD,KAAKi2B,KAAM,CACX,IAAIg0B,EAAgBjqD,KAAK6pD,YAEzB,IAAMvvD,EAAQ6uD,QAAQ1mC,UAAWnoB,EAAQ6uD,QAAQ3jD,KAAO,CACpD,IAAI2P,EAAS80C,EAAc90C,SAC3B80C,EAAgB,IAAIptC,IAAI1H,EAAOla,EAAGka,EAAOja,EAAGia,EAAOla,EAAGka,EAAOja,EACjE,CAEA8E,KAAKi2B,KAAKnU,OAAOmoC,EACrB,CACJ,EAEAjB,EAAUxoD,UAAUwpD,YAAc,SAAsBltC,GACpD,IACIxiB,EADM0F,KACQ1F,QACd22B,EAFMjxB,KAEMixB,MACZt2B,EAASL,EAAQ45B,OAAOpF,SAExBmC,IAEAt2B,GADAA,EAASA,IAAWogD,MAAQtjD,IAAMkD,KACdqgD,MAAQvlD,SAAWkF,EAEvCs2B,EAAMnP,OAAOhF,GACbmU,EAAMnU,IAAIM,QAAQpd,KAAK6pD,YAAalvD,GACpCs2B,EAAMnP,OAAOmP,EAAMnU,KAE3B,EAEAksC,EAAUxoD,UAAUyjB,gBAAkB,WAClC,IAAIklC,EAAUnpD,KAAK1F,QAAQ0pB,UAAUmlC,QACjCe,EAAelqD,KAAK0pD,eAAe3gD,MACnCzO,EAAU0F,KAAK1F,QAAQ6uD,QACvB3jD,EAAOlL,EAAQkL,MAAQlL,EAAQgrB,OAAO9qB,OAAS,IAAM2uD,EAAQ7jC,OAAO9qB,OAAS,GAE7E2vD,EAAS,IAAIjiC,aAAa,CAC1BrkB,KAAMvJ,EAAQuJ,KACdrJ,MAAOgL,EACPmG,OAAQnG,EACR0Y,SAAU5jB,EAAQ4jB,SAClBkH,WAAY+jC,EAAQpgD,OAASmhD,EAC7B5kC,OAAQ,CACJvc,MAAOogD,EAAQ7jC,OAAOvc,MACtBvO,MAAO2uD,EAAQ7jC,OAAO9qB,MACtB4pB,QAAS1gB,eAAeylD,EAAQ7jC,OAAOlB,QAAS,IAEpDA,QAAS1gB,eAAeylD,EAAQ/kC,QAAS,KAI7C,OAFA+lC,EAAOroC,OAAO9hB,KAAK8pD,WAEZK,EAAO/hC,YAClB,EAEA4gC,EAAUxoD,UAAU4pD,gBAAkB,WAClC,OAAQpqD,KAAKsxB,QAAU,CAAC,GAAGvO,MAC/B,EAEAimC,EAAUxoD,UAAUikB,oBAAsB,WACtC,IACI1B,EAAQ0F,EADR6I,EAAStxB,KAAKsxB,OAGlB,GAAIA,EACA7I,EAAO6I,EAAOjK,WAAW7I,SACzBuE,EAASuO,EAAOvO,WACb,CACH,IAAIvd,EAAOxF,KAAK1F,QAAQ6uD,QAAQ3jD,KAC5B6kD,EAAW7kD,EAAO,EAClB2P,EAASnV,KAAK8c,IAAI3H,SACtBsT,EAAO,IAAI71B,KAAK,CAAEuiB,EAAOla,EAAIovD,EAAUl1C,EAAOja,EAAImvD,GAAY,CAAE7kD,EAAMA,GAC1E,CAEA,MAAO,CACHlL,QAAS0F,KAAK1F,QACdmuB,KAAMA,EACN1F,OAAQA,EAEhB,EAEAimC,EAAUxoD,UAAU+kB,qBAAuB,WACvC,IAAI+kC,EAAgBtqD,KAAK1F,QAAQ6uD,QAC7B5kC,EAAmBvkB,KAAK1F,QAAQ0qB,cAAchB,UAC9Cxe,EAAO8kD,EAAc9kD,MAAQ8kD,EAAchlC,OAAO9qB,OAAS,GAE3DwpB,EAAY,IAAIkE,aAAa,CAC7BrkB,KAAMymD,EAAczmD,KACpBrJ,MAAOgL,EACPmG,OAAQnG,EACR0Y,SAAUosC,EAAcpsC,SACxBkH,WAAYb,EAAiBxb,MAC7Buc,OAAQf,EAAiBe,OACzBlB,QAASG,EAAiBH,QAC1BzG,QAAS4G,EAAiBe,OAAO9qB,MAAQ,EACzC0oB,OAAQqB,EAAiBrB,SAK7B,OAFAc,EAAUlC,OAAO9hB,KAAK8pD,WAEf9lC,EAAUoE,YACrB,EAEA4gC,EAAUxoD,UAAU+pD,cAAgB,WAChC,IAAIV,EAAY7pD,KAAK6pD,YACjBW,EAAUxqD,KAAKknD,MAAM1vB,KAAKgzB,UAG9B,IAFmBA,GAAWA,EAAQvsC,SAAS4rC,GAE9B,CACb,IAEI3uD,EAAGuvD,EAFHxvD,EAAI4uD,EAAU90C,GAAKmlC,eACnBwQ,EAAkB/zD,KAWtB,OARIqJ,KAAK8nD,WACL5sD,EAAI2uD,EAAU/0C,GACd21C,EAAgBh1D,WAEhByF,EAAI2uD,EAAU70C,GACdy1C,EAAgBhzD,KAGb,CACHqkB,MAAO,IAAIH,QAAQ1gB,EAAGC,GACtBwjB,MAAO,CACHisC,WAAYD,EACZ3/B,SAAU0/B,GAGtB,CACJ,EAEAzB,EAAUxoD,UAAUgpD,YAAc,SAAsB95B,GACpD,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEAs5B,EAAUxoD,UAAUoqD,YAAc,SAAsB9tC,GAEpD,OADgB9c,KAAK6pD,YACJ5rC,SAASnB,EAC9B,EAEAksC,EAAUxoD,UAAUqqD,eAAiB,WAC7B7qD,KAAKixB,QACLjxB,KAAKixB,MAAM32B,QAAQ8oB,QAAS,GAG5BpjB,KAAKi2B,OACLj2B,KAAKi2B,KAAK37B,QAAQ8oB,QAAS,EAEnC,EAEA4lC,EAAUxoD,UAAU2nB,UAAY,WAC5B,MAAO,CACHxD,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf2E,MAAO0G,KAAK1G,MACZsrB,WAAY5kB,KAAK4kB,WACjBmjC,WAAY/nD,KAAK+nD,WACjBrjC,OAAQ1kB,KAAK0kB,OAErB,EAEAskC,EAAUxoD,UAAUsqD,YAAc,WAC1B9qD,KAAKsxB,SACDtxB,KAAKsxB,OAAOvO,QACZ/iB,KAAKsxB,OAAOvO,OAAOzoB,QAAQqG,IAAI,KAAMX,KAAKkpD,KAG9ClpD,KAAK+kB,sBAAqB,GAElC,EAEAikC,EAAUxoD,UAAUuqD,qBAAuB,WACnC/qD,KAAKsxB,SACDtxB,KAAKsxB,OAAOvO,QACZ/iB,KAAKsxB,OAAOvO,OAAOzoB,QAAQqG,IAAI,KAAM,IAGzCX,KAAK+kB,sBAAqB,GAElC,EAEAikC,EAAUxoD,UAAUwqD,SAAW,WAC3B,OAAOnoD,QAAQ7C,KAAK2nC,YAAc3nC,KAAK2nC,WAAa3nC,KAAKs3C,OAC7D,EAEO0R,CACX,CAtWgB,CAsWdrnC,cAEFqnC,UAAUxoD,UAAU2hD,SAAW,CAC3Bp3B,UAAU,EACVo+B,QAAS,CACL1mC,SAAS,EACT2C,WAAYttB,QACZ0N,KAAMm1C,iBACN92C,KAAMlO,OACN2vB,OAAQ,CACJ9qB,MAAO,GAEX4pB,QAAS,GAEb8P,OAAQ,CACJzR,SAAS,EACTqM,SAAUisB,MACVh0B,OAAQjpB,WAAW,GACnB6f,QAAS7f,WAAW,GACpBkkB,UAAW,CACPne,KAAMk2C,OACNsH,MAAOvH,6BAGf/jB,MAAO,CACH9E,MAAO,CAAC,GAEZjN,UAAW,CACPmlC,QAAS,CACL7jC,OAAQ,CACJvc,MAAO,OACPvO,MAAO,IAGf0oB,OAAQ1sB,kBAEZiwD,UAAW,CACPt6C,KAAM,CACF3R,MAAO,IAGfwqB,cAAe,CACXimC,SAAU,EACVnjC,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,+BAI7BviD,WAAWmsD,UAAUxoD,UAAWooD,kBAChC/rD,WAAWmsD,UAAUxoD,UAAWsoD,WAEhC,IAAIoC,YAAe,SAAUvpC,GACzB,SAASupC,EAAYz5B,EAAY/M,EAAQkgC,GACrCjjC,EAAaxgB,KAAKnB,MAElBA,KAAKyxB,WAAaA,EAClBzxB,KAAK0kB,OAASA,EACd1kB,KAAK4kD,SAAWA,CACpB,CA4EA,OA1EKjjC,IAAeupC,EAAYzyD,UAAYkpB,GAC5CupC,EAAY1qD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACpE0qD,EAAY1qD,UAAUhE,YAAc0uD,EAEpCA,EAAY1qD,UAAUsd,OAAS,WAC3B,OAAO9d,KAAKmrD,iBAAiBnrD,KAAKyxB,WACtC,EAEAy5B,EAAY1qD,UAAU2qD,iBAAmB,SAA2BrtC,GAEhE,IADA,IAAIliB,EAAS,GACJnB,EAAI,EAAGZ,EAASikB,EAAOjkB,OAAQY,EAAIZ,EAAQY,IAC5CqjB,EAAOrjB,KAA4B,IAAtBqjB,EAAOrjB,GAAGgoB,SACvB7mB,EAAO0D,KAAKwe,EAAOrjB,GAAGqvD,UAAUtrC,SAASrJ,UAIjD,OAAOvZ,CACX,EAEAsvD,EAAY1qD,UAAUkiB,aAAe,WACjC,IAAIzP,EAAWjT,KAEXqkB,EAAerkB,KAAK0kB,OAAO3B,OAC3BsB,GACArkB,KAAK+iB,OAASsB,EAAa,CACvBvG,OAAQ9d,KAAKmrD,iBAAiBnrD,KAAKyxB,YACnC/M,OAAQ1kB,KAAK0kB,OACb7R,OAAQ7S,KAAKkiB,YACbQ,aAAc,WAGV,OAFAzP,EAASm4C,gBAEFn4C,EAAS8P,MACpB,IAEA/iB,KAAK+iB,SAAWlgB,QAAQ7C,KAAK+iB,OAAOzoB,QAAQ4oB,UAC5CljB,KAAK+iB,OAAOzoB,QAAQ4oB,OAASljB,KAAK0kB,OAAOxB,SAG7CljB,KAAKorD,eAEb,EAEAF,EAAY1qD,UAAU4qD,cAAgB,WAClC,IACI9wD,EADM0F,KACQ1F,QACdoqB,EAFM1kB,KAEO0kB,OACb3b,EAAQ2b,EAAO3b,MACfo5C,EAAWz9B,EAAO2iC,UAElBvrD,WAAWiN,IAAUo5C,IACrBp5C,EAAQo5C,EAASp5C,OAGrB,IAAIoD,EAAOpZ,OAAOw1B,WAAWvoB,KAAK8d,SAAU,CACxCvjB,OAAQ,CACJwO,MAAOA,EACPvO,MAAOkqB,EAAOlqB,MACd4pB,QAASM,EAAON,QAChBsD,SAAUhD,EAAOgD,UAErBxE,OAAQwB,EAAOxB,SAGf5oB,EAAQsrB,QACRzZ,EAAKoV,QAGTvhB,KAAK+iB,OAAS5W,CAClB,EAEA++C,EAAY1qD,UAAU6wB,SAAW,SAAmBrvB,EAAGqpD,GACnD,OAAOrrD,KAAKuI,OAAO+iD,gBAAgBD,EAAOpwD,EAAGowD,EAAOnwD,EAAG8E,KAAK4kD,SAChE,EAEOsG,CACX,CApFkB,CAoFhBvpC,cAEF/d,kBAAkBsnD,YAAa,CAC3BtlC,QAAQ,IAGZ,IAAI2lC,cAAgB,CAChBC,oBAAqB,SAAS1tC,GAe1B,IAdA,IACIpb,EADe1C,KAAKuI,OAAO8uB,SAAS8sB,mBAAmBnkD,KAAK0kB,QACzCpqB,QACnB4hC,EAAYx5B,EAAIw5B,UAChBnR,EAAWroB,EAAIqoB,SACfwE,EAAU7sB,EAAI6sB,QAEdk8B,EAAW1gC,EAAW/yB,EAAIC,EAC1B0d,EAAOoV,EAAW9yB,EAAID,EACtB0zD,EAAUn8B,EAAU,EAAI,EACxB2d,EAAMwe,EAENC,EAAgBC,gBAAgB9tC,EAAO,GAAI2tC,EAAUC,EAAS/1C,EAAMu3B,GACpEtxC,EAAS,CAAE+vD,GAEN/xD,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAAO,CAC1C,IAAIkiB,EAAQ8vC,gBAAgB9tC,EAAOlkB,GAAM6xD,EAAUC,EAAS/1C,EAAMu3B,GAElE,GAAIye,EAAcF,KAAc3vC,EAAM2vC,GAAW,CAC7C,IAAII,EAAY,IAAIh5D,QACpBg5D,EAAUJ,GAAYE,EAAcF,GACpCI,EAAUl2C,GAAQmG,EAAMnG,GAExB/Z,EAAO0D,KAAKusD,EAAW/vC,EAC3B,CAEA6vC,EAAgB7vC,CACpB,CAQA,OANKogB,EAEMyvB,IAAkBvoD,KAAKxH,IAC9BA,EAAO0D,KAAKqsD,GAFZ/vD,EAAO0D,KAAKssD,gBAAgBxoD,KAAK0a,GAAS2tC,EAAUC,EAAS/1C,EAAM4Z,EAAU,EAAI,IAK9E3zB,CAEX,GAGJ,SAASgwD,gBAAgBE,EAAWL,EAAUC,EAAS/1C,EAAMu3B,GACzD,IAAIpwB,EAAMgvC,EAAUhvC,IAChBlhB,EAAS,IAAI/I,QAKjB,OAHA+I,EAAO6vD,GAAY3uC,EAAI2uC,EAAWC,GAClC9vD,EAAO+Z,GAAQmH,EAAInH,EAAOu3B,GAEnBtxC,CACX,CAEA,IAAImwD,gBAAmB,SAAUb,GAC7B,SAASa,IACLb,EAAYvpD,MAAM3B,KAAMjD,UAC5B,CAUA,OARKmuD,IAAca,EAAgBtzD,UAAYyyD,GAC/Ca,EAAgBvrD,UAAYjI,OAAOuN,OAAQolD,GAAeA,EAAY1qD,WACtEurD,EAAgBvrD,UAAUhE,YAAcuvD,EAExCA,EAAgBvrD,UAAUsd,OAAS,WAC/B,OAAO9d,KAAKwrD,oBAAoBxrD,KAAKyxB,WACzC,EAEOs6B,CACX,CAdsB,CAcpBb,aAEFruD,WAAWkvD,gBAAgBvrD,UAAW+qD,eAEtC,IAAIS,cAAiB,SAAUd,GAC3B,SAASc,IACLd,EAAYvpD,MAAM3B,KAAMjD,UAC5B,CAgCA,OA9BKmuD,IAAcc,EAAcvzD,UAAYyyD,GAC7Cc,EAAcxrD,UAAYjI,OAAOuN,OAAQolD,GAAeA,EAAY1qD,WACpEwrD,EAAcxrD,UAAUhE,YAAcwvD,EAEtCA,EAAcxrD,UAAU4qD,cAAgB,WACpC,IAAI1mC,EAAS1kB,KAAK0kB,OACdy9B,EAAWz9B,EAAO2iC,UAClBt+C,EAAQ2b,EAAO3b,MAEfjN,WAAWiN,IAAUo5C,IACrBp5C,EAAQo5C,EAASp5C,OAGrB,IACIrO,EADiB,IAAIq4C,eAAe/yC,KAAK1F,QAAQsrB,QACvBotB,QAAQhzC,KAAK8d,UACvCmuC,EAAQ,IAAIl5D,OAAO,CACnBwH,OAAQ,CACJwO,MAAOA,EACPvO,MAAOkqB,EAAOlqB,MACd4pB,QAASM,EAAON,QAChBsD,SAAUhD,EAAOgD,UAErBxE,OAAQwB,EAAOxB,SAGnB+oC,EAAMvxD,SAAS4E,KAAKqC,MAAMsqD,EAAMvxD,SAAUA,GAE1CsF,KAAK+iB,OAASkpC,CAClB,EAEOD,CACX,CApCoB,CAoClBd,aAEEgB,eAAiB,CACjBC,eAAgB,WACZ,IAOIC,EAPAn5C,EAAWjT,KAGX1F,EADM0F,KACQ1F,QACdgqD,EAFMtkD,KAEaskD,aACnB5/B,EAASpqB,EAAQoqB,OACjBo9B,EAAcwC,EAAazqD,OAG/BmG,KAAKqsD,UAAY,GAEjB,IAAK,IAAIzH,EAAW,EAAGA,EAAW9C,EAAa8C,IAAY,CAMvD,IALA,IAAIpC,EAAgB99B,EAAOkgC,GACvB0H,EAAer5C,EAASs5C,WAAWjI,EAAaM,IAChD4H,EAAaF,EAAazyD,OAC1B43B,EAAa,GAER6lB,EAAU,EAAGA,EAAUkV,EAAYlV,IAAW,CACnD,IAAIx7B,EAAQwwC,EAAahV,GACrBx7B,EACA2V,EAAWnyB,KAAKwc,GACT7I,EAASiwC,oBAAoBV,KAAmB3H,cACnDppB,EAAW53B,OAAS,IACpBuyD,EAAcn5C,EAASw5C,cACnBh7B,EAAY+wB,EAAeoC,EAAUwH,GAEzCn5C,EAASy5C,YAAYN,IAEzB36B,EAAa,GAErB,CAEIA,EAAW53B,OAAS,IACpBuyD,EAAcn5C,EAASw5C,cACnBh7B,EAAY+wB,EAAeoC,EAAUwH,GAEzCn5C,EAASy5C,YAAYN,GAE7B,CAEApsD,KAAK4hB,SAASjP,QAAQhR,MAAM3B,KAAK4hB,SAAU5hB,KAAKqsD,UACpD,EAEAK,YAAa,SAASC,GAClB3sD,KAAKqsD,UAAU/sD,KAAKqtD,GACpBA,EAAQpkD,OAASvI,IACrB,EAEAusD,WAAY,SAASzuC,GACjB,OAAOA,CACX,EAEAolC,oBAAqB,SAASx+B,GAC1B,IAAIy+B,EAAgBz+B,EAAOy+B,cAG3B,OAFkBA,GAAiBnjD,KAAK1F,QAAQgrD,UAE5B1K,KAAOuI,GAAiBtI,WAChD,EAEAyQ,gBAAiB,SAASrwD,EAAGC,EAAG0pD,GAM5B,IALA,IAGIgI,EAHAn9C,EAAS,IAAIkM,QAAQ1gB,EAAGC,GACxB2xD,EAAY7sD,KAAKskD,aAAaM,GAC9BkI,EAAuBl2D,UAGlB6D,EAAI,EAAGA,EAAIoyD,EAAUhzD,OAAQY,IAAK,CACvC,IAAIqhB,EAAQ+wC,EAAUpyD,GAEtB,GAAIqhB,GAASjZ,QAAQiZ,EAAMxiB,QAA0B,OAAhBwiB,EAAMxiB,QAAoC,IAAlBwiB,EAAM2G,QAAmB,CAClF,IACIsqC,EADWjxC,EAAMgB,IACQ3H,SAASqH,WAAW/M,GAE7Cs9C,EAAgBD,IAChBF,EAAe9wC,EACfgxC,EAAuBC,EAE/B,CACJ,CAEA,OAAOH,CACX,GAGAI,cAAiB,SAAUC,GAC3B,SAASD,IACLC,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CA2BA,OAzBKkwD,IAAaD,EAAcv0D,UAAYw0D,GAC5CD,EAAcxsD,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WAClEwsD,EAAcxsD,UAAUhE,YAAcwwD,EAEtCA,EAAcxsD,UAAU0sD,MAAQ,WAC5BltD,KAAKmtD,QAAQntD,KAAK1F,QAAQwiB,IAAIlI,GAClC,EAEAo4C,EAAcxsD,UAAU00B,KAAO,SAAeppB,GAC1C,IAAIgR,EAAM9c,KAAK1F,QAAQwiB,IACvB9c,KAAKmtD,QAAQ/sD,iBAAiB0c,EAAIlI,GAAIkI,EAAI/H,GAAIjJ,GAClD,EAEAkhD,EAAcxsD,UAAU2sD,QAAU,SAAkBlyD,GAChD,IAAIxB,EAAUuG,KAAKvG,QACfiB,EAAWjB,EAAQiB,SACnB41B,EAAW51B,EAAS,GAAGC,SACvBwyB,EAAczyB,EAAS,GAAGC,SAE9BlB,EAAQ2zD,UACR98B,EAAS+8B,KAAKpyD,GACdxB,EAAQ6zD,SACRngC,EAAYkgC,KAAKpyD,EACrB,EAEO+xD,CACX,CA/BoB,CA+BlB/5D,aAEF2Q,kBAAkBopD,cAAe,CAC7B5sB,SAAU0Z,6BAGd9lD,iBAAiB2jB,QAAQ7Y,SAAS,OAAQkuD,eAE1C,IAAIO,mBAAqB,CACrB1qC,gBAAiB,WACb,IAAI2qC,EAAOxtD,KAAKiiB,UAChB,GAAIurC,IAA6C,KAApCA,EAAKlzD,SAAW,CAAC,GAAGmzD,YAAuB,CACpD,IAAI3wC,EAAM0wC,EAAKhoD,OACXkoD,EAAW36D,OAAOy0B,SAAS1K,EAAI0B,UACnCxe,KAAK+iB,OAAOqnB,KAAKsjB,GACjB1tD,KAAKgiB,UAAY,IAAIgrC,cAAcU,EAAU,CACzC5wC,IAAKA,IAEL0kC,aAAaxhD,KAAK1F,QAAQoqB,SAC1B1kB,KAAK2tD,sBAAsBD,EAEnC,CACJ,EAEAC,sBAAuB,SAASD,GAG5B,IAFA,IAAI5vC,EAAS9d,KAAK4tD,kBAETh0D,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAAO,CAC1C,IAAIkiB,EAAQgC,EAAOlkB,GACfkiB,GAASA,EAAMiH,QAAUlgB,QAAQiZ,EAAMiH,OAAOzoB,QAAQ4oB,SACtDpH,EAAMiH,OAAOqnB,KAAKsjB,EAE1B,CACJ,GAGAG,UAAa,SAAU5J,GACvB,SAAS4J,IACL5J,EAAiBtiD,MAAM3B,KAAMjD,UACjC,CAwGA,OAtGKknD,IAAmB4J,EAAUp1D,UAAYwrD,GAC9C4J,EAAUrtD,UAAYjI,OAAOuN,OAAQm+C,GAAoBA,EAAiBzjD,WAC1EqtD,EAAUrtD,UAAUhE,YAAcqxD,EAElCA,EAAUrtD,UAAUuwB,OAAS,WAEzBkzB,EAAiBzjD,UAAUuwB,OAAO5vB,KAAKnB,MAEvCA,KAAKkmD,mBACLlmD,KAAKmsD,gBACT,EAEA0B,EAAUrtD,UAAUqkD,UAAY,WAC5B,OAAOmE,SACX,EAEA6E,EAAUrtD,UAAUymD,YAAc,SAAsBr7C,EAAMzM,GAC1D,IAAIulB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAClBzB,EAAgBnjD,KAAKkjD,oBAAoBx+B,GACzCprB,EAAQsS,EAAKqrC,YAAY39C,MAE7B,IAAKuJ,QAAQvJ,IAAoB,OAAVA,EAAgB,CACnC,GAAI6pD,IAAkBvI,KAGlB,OAAO,KAFPthD,EAAQ,CAIhB,CAEA,IAAIqrD,EAAe3kD,KAAK2kD,aAAajgC,EAAQkgC,GAC7CD,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GAE1D,IAAI4J,EAAQ6C,EAAKzM,OAAO4J,OAAS2b,EAAO3b,MACpCjN,WAAW4oB,EAAO3b,SAClBA,EAAQ47C,EAAa57C,OAGzB,IAAI+S,EAAQ,IAAIktC,UAAU1vD,EAAOqrD,GAKjC,OAJA7oC,EAAM/S,MAAQA,EAEd/I,KAAK2C,OAAOmZ,GAELA,CACX,EAEA+xC,EAAUrtD,UAAU6kD,UAAY,SAAoBvpC,GAChD,IAEIipC,EAAY/kD,KAAK+kD,UAAUjpC,GAE/B,GAAI9b,KAAK1F,QAAQgrD,UAIb,IAHA,IAAI3d,EAAa7rB,EAAM6rB,WACnB0c,EAAiBrkD,KAAKqkD,eAAe1c,GAEhCltC,EAAI,EAAGA,EAAI4pD,EAAexqD,OAAQY,IAAK,CAC5C,IAAI0qD,EAAQd,EAAe5pD,GAE3B,GAAIqhB,IAAUqpC,EACV,MAGJJ,GAfO/kD,KAee+kD,UAAUI,GAfzBnlD,KAiBM1F,QAAQ0qD,eACjBD,EAAY3iD,KAAKmF,IAAIw9C,EAAW,GAExC,CAIJ,MAAO,CAAEA,EAAWA,EACxB,EAEA8I,EAAUrtD,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,GACnF,IAAInnD,EAAQ+kD,EAAc/kD,MAW1B,OAAO,IARHA,IAAUy9C,KACE6Q,gBACLtuD,IAAUw9C,OACL+Q,cAEAd,aAGKz5B,EAAY+wB,EAAeoC,EACpD,EAEAiJ,EAAUrtD,UAAUotD,gBAAkB,WAGlC,IAFA,IAAI9vC,EAAS9d,KAAK8d,OACdliB,EAAS,GACJhC,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IACnCgC,EAAO0D,MAAMwe,EAAOlkB,IAAQ,CAAC,GAAG03B,QAEpC,OAAO11B,EAAOuM,OAAOnI,KAAKqsD,UAC9B,EAEAwB,EAAUrtD,UAAUslB,6BAA+B,WAC/C,OAAO,CACX,EAEO+nC,CACX,CA5GgB,CA4Gd5J,kBAEFpnD,WAAWgxD,UAAUrtD,UAAW0rD,eAAgBqB,oBAEhD,IAAIO,YAAe,SAAU5C,GACzB,SAAS4C,EAAYr8B,EAAY+wB,EAAeoC,EAAUmJ,EAAaC,GACnE9C,EAAY/pD,KAAKnB,KAAMyxB,EAAY+wB,EAAeoC,GAElD5kD,KAAK+tD,YAAcA,EACnB/tD,KAAKguD,YAAcA,CACvB,CAyHA,OAvHK9C,IAAc4C,EAAYr1D,UAAYyyD,GAC3C4C,EAAYttD,UAAYjI,OAAOuN,OAAQolD,GAAeA,EAAY1qD,WAClEstD,EAAYttD,UAAUhE,YAAcsxD,EAEpCA,EAAYttD,UAAUkiB,aAAe,WACjC,IAAIgC,EAAS1kB,KAAK0kB,OACdy9B,EAAWz9B,EAAO2iC,UAClB9uB,EAAc7T,EAAOvY,MAAQ,CAAC,EAC9BpD,EAAQ2b,EAAO3b,MAEfjN,WAAWiN,IAAUo5C,IACrBp5C,EAAQo5C,EAASp5C,OAGrB/I,KAAK+iB,OAAS,IAAI/vB,QAAQ,CACtBkwB,OAAQwB,EAAOxB,SAGnBljB,KAAKiuD,WAAW,CACZzpC,KAAMmC,kBAAkBjC,EAAOmC,QAAS,CACpC9d,MAAOA,EACPqb,QAASM,EAAON,UAEpB7pB,OAAQ,OAGRg+B,EAAY/9B,MAAQ,IAA6B,IAAxB+9B,EAAY9V,SACrCziB,KAAKkuD,aAAa,CACd3zD,OAAQsC,WAAW,CACfkM,MAAOA,EACPqb,QAASM,EAAON,QAChB+pC,QAAS,QACV51B,IAGf,EAEAu1B,EAAYttD,UAAU4tD,eAAiB,WACnC,IAAI1zD,EAAWsF,KAAKquD,gBAMpB,OAJK3zD,IACDA,EAAWsF,KAAKquD,gBAAkBruD,KAAKsuD,wBAGpC5zD,CACX,EAEAozD,EAAYttD,UAAU8tD,qBAAuB,WACzC,OAAOtuD,KAAKuuD,mBAAmBvuD,KAAK8d,SACxC,EAEAgwC,EAAYttD,UAAUguD,cAAgB,WAClC,OAAIxuD,KAAK+tD,YACE/tD,KAAK+tD,YAAYU,oBAAoBzuD,KAAKguD,aAG9ChuD,KAAKyuD,oBAAoBzuD,KAAKguD,YACzC,EAEAF,EAAYttD,UAAUiuD,oBAAsB,SAA8BT,GACtE,OAAOhuD,KAAKuuD,mBAAmBvuD,KAAKmrD,iBAAiB6C,IAAcz+B,SACvE,EAEAu+B,EAAYttD,UAAU+tD,mBAAqB,SAA6BzwC,GACpE,OAAOA,EAAO1c,KAAI,SAAU0a,GAAS,OAAO,IAAI/nB,QAAQ+nB,EAAQ,GACpE,EAEAgyC,EAAYttD,UAAU0tD,aAAe,SAAuBzwD,GACxD,IAAIlD,EAAS,IAAIxH,OAAO0K,GACxBlD,EAAOG,SAAS4E,KAAKqC,MAAMpH,EAAOG,SAAUsF,KAAKouD,kBAEjDpuD,KAAK+iB,OAAOpgB,OAAOpI,EACvB,EAEAuzD,EAAYttD,UAAUkuD,gBAAkB,WACpC,OAAO1uD,KAAK+tD,aAAgB/tD,KAAKguD,aAAehuD,KAAKguD,YAAYn0D,MACrE,EAEAi0D,EAAYttD,UAAUytD,WAAa,SAAqBxwD,GACpD,IAAI2wD,EAAiBpuD,KAAKouD,iBACtBO,EAAeP,EAAe9kD,MAAM,GACpCslD,EAAmB5uD,KAAK0uD,kBAE5B,GAAIE,EAAkB,CAClB,IAAIJ,EAAgBxuD,KAAKwuD,gBAEzB7rD,OAAOgsD,EAAcH,EACzB,CAEA,IAAIhqC,EAAO,IAAIzxB,OAAO0K,GACtB+mB,EAAK9pB,SAAS4E,KAAKqC,MAAM6iB,EAAK9pB,SAAUi0D,IAEnCC,GAAoBR,EAAev0D,OAAS,GAC7CmG,KAAK6uD,WAAWrqC,GAGpBxkB,KAAK+iB,OAAOpgB,OAAO6hB,EACvB,EAEAspC,EAAYttD,UAAUquD,WAAa,SAAqBC,GACpD,IAAI77B,EAAQjzB,KAAKuI,OACbu8C,EAAa7xB,EAAM34B,QAAQwqD,WAC3BljB,EAAY3O,EAAMsuB,gBAAgBvhD,KAAK0kB,QACvCqqC,EAAgB97B,EAAM4yB,0BAA0BjkB,GAChDotB,EAAUptB,EAAUhK,QAAQm3B,EAAeA,GAAe,GAC1Dr0D,EAAWsF,KAAKouD,iBAChBa,EAAav0D,EAAS,GAAGC,SACzBu0D,EAAY9rD,KAAK1I,GAAUC,SAC3B2F,EAAMwkD,EAAakK,EAAQp6C,GAAKo6C,EAAQl6C,GAExCgwC,EACAgK,EAASptC,OAAOphB,EAAK4uD,EAAUh0D,GAC1BwmB,OAAOphB,EAAK2uD,EAAW/zD,GAE5B4zD,EAASptC,OAAOwtC,EAAUj0D,EAAGqF,GACxBohB,OAAOutC,EAAWh0D,EAAGqF,EAElC,EAEOwtD,CACX,CAhIkB,CAgIhB5C,aAEEiE,gBAAmB,SAAUrB,GAC7B,SAASqB,IACLrB,EAAYnsD,MAAM3B,KAAMjD,UAC5B,CAcA,OAZK+wD,IAAcqB,EAAgB12D,UAAYq1D,GAC/CqB,EAAgB3uD,UAAYjI,OAAOuN,OAAQgoD,GAAeA,EAAYttD,WACtE2uD,EAAgB3uD,UAAUhE,YAAc2yD,EAExCA,EAAgB3uD,UAAU8tD,qBAAuB,WAC7C,OAAOtuD,KAAKuuD,mBAAmBvuD,KAAKwrD,oBAAoBxrD,KAAKyxB,YACjE,EAEA09B,EAAgB3uD,UAAUiuD,oBAAsB,SAA8BT,GAC1E,OAAOhuD,KAAKuuD,mBAAmBvuD,KAAKwrD,oBAAoBwC,IAAcz+B,SAC1E,EAEO4/B,CACX,CAlBsB,CAkBpBrB,aAEFjxD,WAAWsyD,gBAAgB3uD,UAAW+qD,eAEtC,IAAI6D,kBAAqB,SAAUtB,GAC/B,SAASsB,IACLtB,EAAYnsD,MAAM3B,KAAMjD,UAC5B,CA4BA,OA1BK+wD,IAAcsB,EAAkB32D,UAAYq1D,GACjDsB,EAAkB5uD,UAAYjI,OAAOuN,OAAQgoD,GAAeA,EAAYttD,WACxE4uD,EAAkB5uD,UAAUhE,YAAc4yD,EAE1CA,EAAkB5uD,UAAU8tD,qBAAuB,WAC/C,IAAIe,EAAiB,IAAItc,eAAe/yC,KAAK1F,QAAQsrB,QACjD6L,EAAazxB,KAAK8d,SAEtB,OAAOuxC,EAAerc,QAAQvhB,EAClC,EAEA29B,EAAkB5uD,UAAUiuD,oBAAsB,WAG9C,IAFA,IAAIL,EAAiBpuD,KAAKouD,iBACtBI,EAAgB,GACX50D,EAAMw0D,EAAev0D,OAAS,EAAGD,GAAO,EAAGA,IAAO,CACvD,IAAI+yD,EAAUyB,EAAex0D,GAC7B40D,EAAclvD,KAAK,IAAIvL,QACnB44D,EAAQhyD,SACRgyD,EAAQpZ,aACRoZ,EAAQ2C,aAEhB,CAEA,OAAOd,CACX,EAEOY,CACX,CAhCwB,CAgCtBtB,aAEEyB,UAAa,SAAU1B,GACvB,SAAS0B,IACL1B,EAAUlsD,MAAM3B,KAAMjD,UAC1B,CAoIA,OAlIK8wD,IAAY0B,EAAU92D,UAAYo1D,GACvC0B,EAAU/uD,UAAYjI,OAAOuN,OAAQ+nD,GAAaA,EAAUrtD,WAC5D+uD,EAAU/uD,UAAUhE,YAAc+yD,EAElCA,EAAU/uD,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,EAAUmJ,GAC7F,IAEIyB,EAEAxB,EAJA1I,EAAYtlD,KAAK1F,QAAQgrD,UACzB7nD,GAAS+kD,EAAcr2C,MAAQ,CAAC,GAAG1O,MAInC6nD,GAAaV,EAAW,GAAKmJ,IAEP,QADF/tD,KAAKkjD,oBAAoBV,IAEzCwL,EAAcD,EAAYt8B,WAC1B+9B,EAAkBzB,GAElBC,EAAchuD,KAAKyvD,gBAAgBh+B,EAAYmzB,EAAUnnD,IAajE,OAAO,IARHA,IAAUy9C,KACEiU,gBACL1xD,IAAUw9C,OACLmU,kBAEAtB,aAGKr8B,EAAY+wB,EAAeoC,EAAU4K,EAAiBxB,EAC/E,EAEAuB,EAAU/uD,UAAUshB,OAAS,SAAiB9E,GAG1C6wC,EAAUrtD,UAAUshB,OAAO3gB,KAAKnB,KAAMgd,GAEtC,IAAIgxC,EAAchuD,KAAK0vD,aACvB,GAAI1B,EACA,IAAK,IAAIp0D,EAAM,EAAGA,EAAMo0D,EAAYn0D,OAAQD,IAAO,CAC/C,IAAI+1D,EAAa3B,EAAYp0D,GACzBiuD,EARG7nD,KAQkBkkD,aAAatsB,QAAQ+3B,EAAWhoB,YACzDgoB,EAAW7tC,OAAO+lC,EACtB,CAER,EAEA0H,EAAU/uD,UAAUivD,gBAAkB,SAA0Bh+B,EAAYmzB,EAAUnnD,GAClF,IAAIwV,EAAWjT,KAEXskD,EAAetkD,KAAKskD,aACpBsL,EAAWn+B,EAAW,GAAGkW,WACzB9tC,EAAS43B,EAAW53B,OACpB+1D,EAAW,IACXA,EAAW,EACX/1D,KAGJ,IAAIg2D,EAASD,EAAW/1D,EACpBkiC,EAAc/7B,KAAKukD,cAAc,GAAGR,oBAAsB,EAAI,EAC9DiK,EAAc,GAElBhuD,KAAK0vD,aAAe1vD,KAAK0vD,cAAgB,GACzC,IAAK,IAAI/nB,EAAaioB,EAAUjoB,EAAakoB,EAAQloB,IAAc,CAC/D,IAAI2P,EAAU3P,EAAa5L,EACvB+zB,EAAkBlL,EAClB9oC,OAAQ,EAEZ,GAEIA,EAAQwoC,IADRwL,GACsCxY,SACjCwY,EAAkB,IAAMh0C,GAEjC,GAAIA,EACIre,IAAUy9C,MAAQvT,EAAaioB,IAAatL,EAAawL,GAAiBxY,EAAU,IACpF0W,EAAY1uD,KAAK2T,EAAS88C,sBAAsBpoB,EAAY2P,EAASA,EAAU,EAAGwY,IAGtF9B,EAAY1uD,KAAKwc,GAEbre,IAAUy9C,MAAQvT,EAAa,EAAIkoB,IAAWvL,EAAawL,GAAiBxY,EAAU,IACtF0W,EAAY1uD,KAAK2T,EAAS88C,sBAAsBpoB,EAAY2P,EAASA,EAAU,EAAGwY,QAEnF,CACH,IAAIE,EAAgB/8C,EAASg9C,qBAAqBtoB,GAClD10B,EAASy8C,aAAapwD,KAAK0wD,GAC3BhC,EAAY1uD,KAAK0wD,EACrB,CACJ,CAEA,OAAOhC,CACX,EAEAuB,EAAU/uD,UAAUuvD,sBAAwB,SAAgCpoB,EAAY2P,EAAS4Y,EAAWC,GAKxG,IAJA,IAEIr0C,EAFAwoC,EAAetkD,KAAKskD,aACpB7oD,EAAQ00D,EAGL10D,EAAQ,IAAMqgB,GAEjBA,EAAQwoC,IADR7oD,GAC4By0D,GAUhC,OAPKp0C,EAIDA,EAAQwoC,EAAa7oD,GAAO67C,IAH5Bx7B,EAAQ9b,KAAKiwD,qBAAqBtoB,GAClC3nC,KAAK0vD,aAAapwD,KAAKwc,IAKpBA,CACX,EAEAyzC,EAAU/uD,UAAUyvD,qBAAuB,SAA+BtoB,GACtE,IAAIrtC,EAAU0F,KAAK2kD,aAAa,CAAC,EAAG,GAChC7oC,EAAQ,IAAIktC,UAAU,EAAG1uD,GAI7B,OAHAwhB,EAAM6rB,WAAaA,EACnB7rB,EAAM4I,OAAS,CAAC,EAET5I,CACX,EAEAyzC,EAAU/uD,UAAU0iD,oBAAsB,SAA8Bx+B,GACpE,OAAOA,EAAOy+B,eAAiBvI,IACnC,EAEA2U,EAAU/uD,UAAUslB,6BAA+B,WAC/C,OAAO,CACX,EAEOypC,CACX,CAxIgB,CAwId1B,WAEEuC,sBAAyB,SAAUz9D,GACnC,SAASy9D,IACLz9D,EAAMwO,KAAKnB,MAEXA,KAAKqwD,WAAa,CAAC,CACvB,CA2BA,OAzBK19D,IAAQy9D,EAAsB33D,UAAY9F,GAC/Cy9D,EAAsB5vD,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAChE4vD,EAAsB5vD,UAAUhE,YAAc4zD,EAE9CA,EAAsB5vD,UAAU8vD,OAAS,SAAiBC,GACtD,IAAIF,EAAarwD,KAAKqwD,WAEtB,IAAK,IAAItK,KAAYwK,EAAiB,CAClC,IAAIC,EAAaD,EAAgBxK,GAC7B1wB,EAAQg7B,EAAWtK,GACvBsK,EAAWtK,GAAY1wB,EAAQA,GAAS,CAAE9tB,IAAK3Q,UAAWyL,IAAKvL,WAE/Du+B,EAAM9tB,IAAMnF,KAAKmF,IAAI8tB,EAAM9tB,IAAKipD,EAAWjpD,KAC3C8tB,EAAMhzB,IAAMD,KAAKC,IAAIgzB,EAAMhzB,IAAKmuD,EAAWnuD,IAC/C,CACJ,EAEA+tD,EAAsB5vD,UAAUiwD,MAAQ,SAAgB1K,GACpD/lD,KAAKqwD,WAAWtK,QAAYv+C,CAChC,EAEA4oD,EAAsB5vD,UAAUkwD,MAAQ,SAAgB3K,GACpD,OAAO/lD,KAAKqwD,WAAWtK,EAC3B,EAEOqK,CACX,CAjC4B,CAiC1Bz9D,OAEEg+D,SAAY,SAAUhvC,GACtB,SAASgvC,EAASjyD,EAASpE,EAAS6tB,GAChCxG,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK4wD,QAAU,IAAIvjC,QAAQ3uB,EAASsB,KAAK1F,QAAS6tB,GAClDnoB,KAAK2C,OAAO3C,KAAK4wD,QACrB,CAqGA,OAnGKjvC,IAAegvC,EAASl4D,UAAYkpB,GACzCgvC,EAASnwD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACjEmwD,EAASnwD,UAAUhE,YAAcm0D,EAEjCA,EAASnwD,UAAUkiB,aAAe,WAC9B1iB,KAAK4wD,QAAQt2D,QAAQ8oB,OAASpjB,KAAK1F,QAAQ8oB,MAC/C,EAEAutC,EAASnwD,UAAUshB,OAAS,SAAiB9E,GACzC,IAAI1iB,EAAU0F,KAAK1F,QACfywB,EAAWzwB,EAAQywB,SACnB+8B,EAAYxtD,EAAQwtD,UACpBh6B,EAAO9tB,KAAK4hB,SAAS,GACrB+L,EAAcG,EAAKxzB,QACnBwiB,EAAMgR,EAAKhR,IACXa,EAAUmQ,EAAKxzB,QAAQqjB,QACvB+b,EAAW1c,EAEf2Q,EAAYjP,MAAQqM,EAAWr1B,OAASiB,KACxCg3B,EAAYvG,OAAS2D,EAAWtzB,IAAM/B,OAElC4E,EAAQw0B,WAAa4wB,WACjB30B,GACA4C,EAAYvG,OAAS3vB,KAEhBqwD,GAAahrC,EAAInR,SAAWqR,EAAUrR,WACvCgiB,EAAYvG,OAAS3xB,WAGzBk4B,EAAYjP,MAAQopC,EAAYzwD,MAAQV,KAErC2D,EAAQw0B,WAAap5B,QAC5Bi4B,EAAYvG,OAAS1xB,OACrBi4B,EAAYjP,MAAQhpB,QACb4E,EAAQw0B,WAAa6wB,YACxB50B,EACA4C,EAAYvG,OAAS0gC,EAAYryD,SAAWgC,IAE5Ck2B,EAAYjP,MAAQopC,EAAYnxD,KAAOU,MAEpCiD,EAAQw0B,WAAa8wB,cACxB70B,EAEI2O,EADAouB,EACW,IAAIjrC,IACXG,EAAUpI,GAAIoI,EAAUlI,GAAKgI,EAAInR,SACjCqR,EAAUjI,GAAIiI,EAAUlI,IAGjB,IAAI+H,IACXG,EAAUpI,GAAIoI,EAAUhI,GACxBgI,EAAUjI,GAAIiI,EAAUhI,GAAK8H,EAAInR,WAIzCgiB,EAAYjP,MAAQhpB,OAEhBgkC,EADAouB,EACW,IAAIjrC,IACXG,EAAUjI,GAAIiI,EAAUlI,GACxBkI,EAAUjI,GAAK+H,EAAItiB,QAASwiB,EAAUhI,IAG/B,IAAI6H,IACXG,EAAUpI,GAAKkI,EAAItiB,QAASwiB,EAAUlI,GACtCkI,EAAUpI,GAAIoI,EAAUhI,MAMnC1a,EAAQ4jB,WACL6M,EACApN,EAAQvf,KAAOuf,EAAQzf,OAClBw7B,EAASl/B,QAAUszB,EAAKxG,WAAW9sB,SAAW,EAEnDmjB,EAAQ1f,IAAM0f,EAAQxf,QACjBu7B,EAAS/tB,SAAWmiB,EAAKxG,WAAW3b,UAAY,GAI7DmiB,EAAKhM,OAAO4X,EAChB,EAEAi3B,EAASnwD,UAAUqwD,eAAiB,SAAyBrG,GACzD,IACIptD,EADW4C,KAAK1F,QAAQywB,SACL9yB,EAAID,EACvBqI,EAAQjD,EAAQ,IAChBkD,EAAMlD,EAAQ,IACd0wB,EAAO9tB,KAAK4hB,SAAS,GACrBkvC,EAAY9wD,KAAKuI,OAAOuU,IAE5B,GAAIg0C,EAAUzwD,GAASmqD,EAAQnqD,IAAUmqD,EAAQlqD,GAAOwwD,EAAUxwD,GAAM,CACpE,IAAI0c,EAAY8Q,EAAKzG,WAAW1qB,QAChCqgB,EAAU3c,GAAS+B,KAAKC,IAAIyuD,EAAUzwD,GAAQmqD,EAAQnqD,IACtD2c,EAAU1c,GAAO8B,KAAKmF,IAAIupD,EAAUxwD,GAAMkqD,EAAQlqD,IAElDN,KAAK8hB,OAAO9E,EAChB,CACJ,EAEO2zC,CACX,CA5Ge,CA4GbhvC,cAEF/d,kBAAkB+sD,SAAU,CACxB7hC,SAAU8wB,YACV74B,OAAQjpB,WAAW,GACnB6f,QAAS7f,WAAW,GACpBiL,MAAOvT,QACP4vB,WAAY,GACZE,OAAQ,CACJ9qB,MAAO,EACPuO,MAAO,IAEX++C,WAAW,EACX/8B,UAAU,EACV/I,UAAW,CACPne,KAAMk2C,OACNsH,MAAOvH,4BAEX52B,OAAQ,IAGZ,IAAI6tC,6BAA+B,CAC/BnpC,mCAAoC,WAChC5nB,KAAKkpD,IAAMlpD,KAAKkpD,KAAO76C,OAEvB,IAAIwZ,EAAuBhrB,WAAW,CAClCkrB,UAAW/nB,KAAKypD,oBACjBzpD,KAAK1F,QAAQ0qB,eAEhB4C,mCAAmC5nB,KAAK+iB,OAAQ8E,EACpD,EAEA4hC,iBAAkB,WACd,IAAIv1B,EAASl0B,KAAK1F,QAAQ45B,OACtBt1B,EAAeD,YAAYu1B,GAE/B,OAAIt1B,EACOA,EAAaoB,KAAKmoB,aAGtBnoB,KAAKupD,aAAar1B,EAC7B,EAEA42B,YAAa,WACT9qD,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAMX,KAAKkpD,KACnClpD,KAAK+kB,sBAAqB,EAC9B,EAEAgmC,qBAAsB,WAClB/qD,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAM,IAC9BX,KAAK+kB,sBAAqB,EAC9B,GAGAisC,oBAAsB,EAEtBC,IAAO,SAAUtvC,GACjB,SAASsvC,EAAI33D,EAAOgB,GAChBqnB,EAAaxgB,KAAKnB,MAElBA,KAAK1F,QAAUA,EACf0F,KAAK+I,MAAQzO,EAAQyO,OAASjR,QAC9BkI,KAAK8nD,UAAYpkD,eAAe1D,KAAK1F,QAAQwtD,WAAW,GACxD9nD,KAAK1G,MAAQA,CACjB,CAqRA,OAnRKqoB,IAAesvC,EAAIx4D,UAAYkpB,GACpCsvC,EAAIzwD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC5DywD,EAAIzwD,UAAUhE,YAAcy0D,EAE5BA,EAAIzwD,UAAUuwB,OAAS,WACf/wB,KAAKopD,YAITppD,KAAKopD,WAAY,EAEjBppD,KAAKyqC,cACLzqC,KAAK+oD,aAED/oD,KAAKgnD,UACLhnD,KAAK2C,OAAO3C,KAAKgnD,UAEzB,EAEAiK,EAAIzwD,UAAUiqC,YAAc,WACxB,IACIvW,EADUl0B,KAAK1F,QACE45B,OAEjBA,EAAOzR,UACPziB,KAAKixB,MAAQjxB,KAAKspD,mBAAmBp1B,GACrCl0B,KAAK2C,OAAO3C,KAAKixB,OAEzB,EAEAggC,EAAIzwD,UAAU8oD,mBAAqB,SAA6BhvD,GAC5D,OAAO,IAAIq2D,SAAS3wD,KAAKupD,aAAajvD,GAClCuC,WAAW,CACPkuB,SAAU/qB,KAAK1F,QAAQywB,UAE3BzwB,GACG0F,KAAKmoB,YAChB,EAEA8oC,EAAIzwD,UAAU+oD,aAAe,SAAuBjvD,GAChD,IAAI29B,EAAgBx5B,cAAcnE,GAElC,OAAI29B,EACOA,EAAcj4B,KAAKmoB,aAGvBnoB,KAAKwpD,YAAYlvD,EAAQo1B,OACpC,EAEAuhC,EAAIzwD,UAAUgpD,YAAc,SAAsB95B,GAC9C,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEAuhC,EAAIzwD,UAAUshB,OAAS,SAAiB9E,GAGpChd,KAAK+wB,SAEL,IAAIE,EAAQjxB,KAAKixB,MAajB,GAXAjxB,KAAK8c,IAAME,EAEPiU,IACAA,EAAM32B,QAAQwtD,UAAY9nD,KAAK8nD,UAC/B72B,EAAMnP,OAAO9E,IAGbhd,KAAKi2B,MACLj2B,KAAKi2B,KAAKnU,OAAO9E,GAGjBhd,KAAKymD,UACL,IAAK,IAAIhsD,EAAI,EAAGA,EAAIuF,KAAKymD,UAAU5sD,OAAQY,IAlBhCuF,KAmBEymD,UAAUhsD,GAAGqnB,OAAO9E,EAGzC,EAEAi0C,EAAIzwD,UAAUkiB,aAAe,WACzB,IAAIzP,EAAWjT,KAGX8c,EADM9c,KACI8c,IACVxiB,EAFM0F,KAEQ1F,QACd+pB,EAAe/pB,EAAQyoB,OAE3B,IAAqB,IAAjB/iB,KAAKyiB,QAKL,GAJAd,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK4nB,qCAEDvD,EAAc,CACd,IAAItB,EAAS/iB,KAAKkxD,WAAa7sC,EAAa,CACxC1vB,SAAUqL,KAAKrL,SACfgwB,SAAU3kB,KAAK2kB,SACfrrB,MAAO0G,KAAK1G,MACZuZ,OAAQ7S,KAAKkiB,YACbwC,OAAQ1kB,KAAK0kB,OACbE,WAAY5kB,KAAK4kB,WACjBmjC,WAAY/nD,KAAK+nD,WACjBljC,aAAc7kB,KAAK6kB,aACnBC,MAAO9kB,KAAK8kB,MACZ2D,KAAM3L,EAAI0B,SACVkE,aAAc,WACV,IAAIwJ,EAAQ,IAAIl5B,QAEhB,OADAigB,EAASk+C,WAAWjlC,GACbA,CACX,EACA5xB,QAASA,IAGTyoB,GACA/iB,KAAK+iB,OAAOpgB,OAAOogB,EAE3B,MAAWjG,EAAItiB,QAAU,GAAKsiB,EAAInR,SAAW,GACzC3L,KAAKmxD,WAAWnxD,KAAK+iB,OAGjC,EAEAkuC,EAAIzwD,UAAU2wD,WAAa,SAAqBpuC,GAC5C,IAAIzoB,EAAU0F,KAAK1F,QACfgrB,EAAShrB,EAAQgrB,OACjB8rC,EAAgBvuD,QAAQyiB,EAAOlB,SAAWkB,EAAOlB,QAAU9pB,EAAQ8pB,QACnEqE,EAAOzoB,KAAK8c,IAAI0B,SAEpBiK,EAAKjjB,KAAKhL,MAAQ4H,KAAKxH,MAAM6tB,EAAKjjB,KAAKhL,OAEvC,IAAIJ,EAAO4F,KAAKkxD,WAAan+D,OAAOy0B,SAASiB,EAAM,CAC/CjE,KAAMmC,kBAAkBrsB,EAAQusB,QAAS,CACrC9d,MAAO/I,KAAK+I,MACZqb,QAAS9pB,EAAQ8pB,UAErB7pB,OAAQ,CACJwO,MAAO/I,KAAKqxD,iBACZ72D,MAAO8qB,EAAO9qB,MACd4pB,QAASgtC,EACT1pC,SAAUpC,EAAOoC,YAIrBltB,EAAQwF,KAAK8c,IAAItiB,QACjBmR,EAAS3L,KAAK8c,IAAInR,SAetB,IAbWrR,EAAQywB,SAAWvwB,EAAQmR,GAE3BqlD,sBACP72D,iBAAiBC,IAGbI,EAAQ,GAAKmR,EAAS,KACtBvR,EAAKE,QAAQC,OAAO+2D,SAAW,UAIvCvuC,EAAOpgB,OAAOvI,GAEVuoD,mBAAmBroD,GAAU,CAC7B,IAAIorB,EAAU1lB,KAAKwlB,sBAAsBprB,EAAM,CAAEm3D,UAAWvxD,KAAK+I,OAASlM,WAAW,CACjFyD,IAAMhG,EAAQywB,cAAsBvjB,EAAX,CAAE,EAAG,IAC/BlN,EAAQorB,UAEX3C,EAAOpgB,OAAO+iB,EAClB,CACJ,EAEAurC,EAAIzwD,UAAUyjB,gBAAkB,SAA0BxmB,GAGtD,OAAOtD,iBAFSpH,OAAOy0B,SAASxnB,KAAK8c,IAAI0B,SAAU/gB,GAGvD,EAEAwzD,EAAIzwD,UAAU4pD,gBAAkB,WAC5B,OAAOpqD,KAAKkxD,UAChB,EAEAD,EAAIzwD,UAAUikB,oBAAsB,WAChC,MAAO,CACHnqB,QAAS0F,KAAK1F,QACdmuB,KAAMzoB,KAAK8c,IAAI0B,SACfuE,OAAQ/iB,KAAKkxD,WAErB,EAEAD,EAAIzwD,UAAU+kB,qBAAuB,SAA+B9nB,GAChE,IAAIypB,EAAclnB,KAAK1F,QAAQ0qB,cAAchB,UAAUsB,OAAO9qB,MAG9D,OAAOL,iBAFSpH,OAAOy0B,SAASxnB,KAAK8c,IAAIY,IAAIwJ,EAAc,GAAG1I,SAAU/gB,GAG5E,EAEAwzD,EAAIzwD,UAAU6wD,eAAiB,WAC3B,IAAItoD,EAAQ/I,KAAK+I,MACbuc,EAAStlB,KAAK1F,QAAQgrB,OACtBqkC,EAAarkC,EAAOksC,aAAevX,kBACnCwX,EAAcnsC,EAAOvc,MAMzB,OAJKlG,QAAQ4uD,KACTA,EAAc,IAAI/+D,MAAMqW,GAAO4gD,WAAWA,GAAYC,SAGnD6H,CACX,EAEAR,EAAIzwD,UAAU+pD,cAAgB,WAC1B,IAOItvD,EAAGC,EAPHwH,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdwiB,EAAMpa,EAAIoa,IACVgrC,EAAYplD,EAAIolD,UAChB0C,EAAUxqD,KAAKknD,MAAM1vB,KAAKgzB,WAAa1tC,EACvC4tC,EAAkB/zD,KAClB8zD,EAAgBhzD,IAGpB,GAAI6C,EAAQywB,SACR9vB,EAAImH,KAAKmF,IAAIuV,EAAI/H,GAAIy1C,EAAQz1C,IAAMmlC,eAC/B4N,EACA5sD,EAAIkH,KAAKC,IAAIya,EAAIhI,GAAI01C,EAAQ11C,KAE7B5Z,EAAIkH,KAAKmF,IAAIuV,EAAI9H,GAAIw1C,EAAQx1C,IAC7By1C,EAAgBh1D,cAEjB,CACH,IAAImf,EAAKxS,KAAKC,IAAIya,EAAIlI,GAAI41C,EAAQ51C,IAC9BG,EAAK3S,KAAKmF,IAAIuV,EAAI/H,GAAIy1C,EAAQz1C,IAE9Bza,EAAQgrD,WACRmF,EAAgBh1D,SACZqyD,GACA4C,EAAkBrzD,MAClB4D,EAAI8Z,GAEJ9Z,EAAI2Z,EAER1Z,EAAIkH,KAAKC,IAAIya,EAAIhI,GAAI01C,EAAQ11C,IAAMolC,iBAE/B4N,EACA7sD,EAAI8Z,EAAKmlC,gBAETj/C,EAAI2Z,EAAKslC,eACTwQ,EAAkBrzD,OAEtB6D,EAAIkH,KAAKC,IAAIya,EAAIhI,GAAI01C,EAAQ11C,IAErC,CAEA,MAAO,CACHgH,MAAO,IAAIH,QAAQ1gB,EAAGC,GACtBwjB,MAAO,CACHisC,WAAYD,EACZ3/B,SAAU0/B,GAGtB,EAEAwG,EAAIzwD,UAAUoqD,YAAc,SAAsB9tC,GAC9C,OAAO9c,KAAK8c,IAAImB,SAASnB,EAC7B,EAEAm0C,EAAIzwD,UAAU2nB,UAAY,WACtB,MAAO,CACHxD,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf2E,MAAO0G,KAAK1G,MACZsrB,WAAY5kB,KAAK4kB,WACjBmjC,WAAY/nD,KAAK+nD,WACjBljC,aAAc7kB,KAAK6kB,aACnBC,MAAO9kB,KAAK8kB,MACZJ,OAAQ1kB,KAAK0kB,OAErB,EAEAusC,EAAIzwD,UAAUwqD,SAAW,WACrB,OAAOhrD,KAAK2nC,UAChB,EAEOspB,CACX,CA9RU,CA8RRtvC,cA6BF,SAAStd,QAAQwhB,EAAUnmB,GACvBmmB,EAASxhB,QAAQ3E,EACrB,CAEA,SAASgyD,eAAe7rC,EAAUnmB,GAG9B,IAFA,IAAI7F,EAASgsB,EAAShsB,OAEbD,EAAMC,EAAS,EAAGD,GAAO,EAAGA,IACjC8F,EAASmmB,EAASjsB,GAAMA,EAAMC,EAAS,EAE/C,CArCAgD,WAAWo0D,IAAIzwD,UAAWooD,kBAC1B/rD,WAAWo0D,IAAIzwD,UAAWsoD,WAC1BjsD,WAAWo0D,IAAIzwD,UAAWuwD,8BAE1BE,IAAIzwD,UAAU2hD,SAAW,CACrB78B,OAAQ,CACJ9qB,MAAO,GAEXuwB,UAAU,EACVrF,QAAS,CACL4E,SAAU,SAEd4J,OAAQ,CACJzR,SAAS,EACTiN,OAAQ,OAEZtL,QAAS,EACT2R,MAAO,CACH9E,MAAO,CAAC,GAEZjM,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,+BAgB7B,IAAIuS,cAAiB,SAAUhwC,GAC3B,SAASgwC,EAAcr3D,GACnBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKqE,QAAU/J,EAAQ44B,IAAMw+B,eAAiBrtD,OAClD,CAiCA,OA/BKsd,IAAegwC,EAAcl5D,UAAYkpB,GAC9CgwC,EAAcnxD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACtEmxD,EAAcnxD,UAAUhE,YAAcm1D,EAEtCA,EAAcnxD,UAAUshB,OAAS,SAAiBhF,GAC9C,IAAIpa,EAAM1C,KAAK1F,QACXywB,EAAWroB,EAAIqoB,SACf6mC,EAAMlvD,EAAIkvD,IACV5zD,EAAU0E,EAAI1E,QACd4jB,EAAW5hB,KAAK4hB,SAChBlmB,EAAQkmB,EAAS/nB,OACjB8b,EAAOoV,EAAW9yB,EAAID,EACtB65D,EAAQn2D,EAAQk2D,EAAO5zD,GAAWtC,EAAQ,GAC1Co2D,GAAY/mC,EAAWjO,EAAInR,SAAWmR,EAAItiB,SAAWq3D,EACrD/iC,EAAWhS,EAAInH,EAAO,GAAKm8C,GAAYF,EAAM,GAEjD5xD,KAAKqE,QAAQud,GAAU,SAAUiC,EAAOjqB,GACpC,IAAImwD,GAAYlmC,EAAM/G,KAAOA,GAAKngB,QAElCotD,EAASp0C,EAAO,GAAKmZ,EACrBi7B,EAASp0C,EAAO,GAAKmZ,EAAWgjC,EAEhCjuC,EAAM/B,OAAOioC,GACTnwD,EAAM8B,EAAQ,IACdozB,GAAagjC,EAAW9zD,GAG5B8wB,GAAYgjC,CAChB,GACJ,EAEOH,CACX,CAvCoB,CAuClBhwC,cAEF/d,kBAAkB+tD,cAAe,CAC7B5mC,UAAU,EACV6mC,IAAK,EACL5zD,QAAS,IAGb,IAAI+zD,UAAa,SAAUpwC,GACvB,SAASowC,IACLpwC,EAAahgB,MAAM3B,KAAMjD,UAC7B,CA+BA,OA7BK4kB,IAAeowC,EAAUt5D,UAAYkpB,GAC1CowC,EAAUvxD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAClEuxD,EAAUvxD,UAAUhE,YAAcu1D,EAElCA,EAAUvxD,UAAUshB,OAAS,SAAiB9E,GAQ1C,IAPA,IAEIg1C,EAAehyD,KAAK1F,QAAQywB,SAAW/yB,EAAIC,EAC3C2pB,EAAW5hB,KAAK4hB,SAChBW,EAAgBX,EAAS/nB,OACzBijB,EAAM9c,KAAK8c,IAAM,IAAID,IAEhBpiB,EAAI,EAAGA,EAAI8nB,EAAe9nB,IAAK,CACpC,IAAIsnB,EAAeH,EAASnnB,GAE5B,IAA6B,IAAzBsnB,EAAaU,QAAmB,CAChC,IAAIsnC,EAAWhoC,EAAajF,IAAIngB,QAChCotD,EAAS5sC,OAAOH,EAAWg1C,GAEjB,IAANv3D,IACAqiB,EAfG9c,KAeY8c,IAAMitC,EAASptD,SAGlColB,EAAaD,OAAOioC,GACpBjtC,EAAIC,KAAKgtC,EACb,CACJ,CACJ,EAEOgI,CACX,CAnCgB,CAmCdpwC,cAEF/d,kBAAkBmuD,UAAW,CACzBhnC,UAAU,IAGd,IAAIknC,SAAY,SAAUhO,GACtB,SAASgO,IACLhO,EAAiBtiD,MAAM3B,KAAMjD,UACjC,CA8KA,OA5KKknD,IAAmBgO,EAASx5D,UAAYwrD,GAC7CgO,EAASzxD,UAAYjI,OAAOuN,OAAQm+C,GAAoBA,EAAiBzjD,WACzEyxD,EAASzxD,UAAUhE,YAAcy1D,EAEjCA,EAASzxD,UAAUuwB,OAAS,WACxBkzB,EAAiBzjD,UAAUuwB,OAAO5vB,KAAKnB,MACvCA,KAAKkmD,kBACT,EAEA+L,EAASzxD,UAAUqkD,UAAY,WAC3B,OAAOoM,GACX,EAEAgB,EAASzxD,UAAU0xD,YAAc,WAC7B,OAAOP,aACX,EAEAM,EAASzxD,UAAU2xD,UAAY,WAC3B,OAAOJ,SACX,EAEAE,EAASzxD,UAAUslD,YAAc,SAAsBC,EAAUC,GAG7D,OAFa/B,EAAiBzjD,UAAUslD,YAAY3kD,KAAKnB,KAAM+lD,EAAUC,EAG7E,EAEAiM,EAASzxD,UAAUymD,YAAc,SAAsBr7C,EAAMzM,GACzD,IAAIwoC,EAAaxoC,EAAOwoC,WACpBjjB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAElBtqD,EADM0F,KACQ1F,QACdsnB,EAFM5hB,KAES4hB,SACfwwC,EAAiBvvD,QAAQ6hB,EAAO0+B,OAAS1+B,EAAO0+B,MAAQ9oD,EAAQorD,aAChEpsD,EAAQ0G,KAAK05C,WAAW9tC,GACxB+4C,EAAe3kD,KAAK2kD,aAAajgC,EAAQkgC,GAEzC3vB,EAAe0vB,EAAazwB,OAC5Bk+B,GACIn9B,EAAanG,WAAa8wB,cAC1B3qB,EAAanG,SAAW4wB,YAIhCiF,EAAaW,UAAY8M,EAEzB,IAAIrpD,EAAQ6C,EAAKzM,OAAO4J,OAAS2b,EAAO3b,MACpCzP,EAAQ,GAAKqrD,EAAa0N,gBAC1BtpD,EAAQ47C,EAAa0N,eAGzB1N,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GACtDrD,WAAW4oB,EAAO3b,SAClBA,EAAQ47C,EAAa57C,OAGzB,IACI+S,EAAQ,IADI9b,KAAK6kD,YACT,CAAcvrD,EAAOqrD,GACjC7oC,EAAM/S,MAAQA,EAEd,IAAIupD,EAAU1wC,EAAS+lB,GAClB2qB,IAEDA,EAAU,IADQtyD,KAAKkyD,cACb,CAAgB,CACtBnnC,SAAUzwB,EAAQwqD,WAClB8M,IAAKt3D,EAAQs3D,IACb5zD,QAAS1D,EAAQ0D,QACjBk1B,KAAM54B,EAAQwqD,aAAe9kD,KAAKqiB,cAAgB,CAAC,GAAG6Q,MAE1DlzB,KAAK2C,OAAO2vD,IAGZh4D,EAAQgrD,UACQtlD,KAAKuyD,aAAaH,EAAgBE,GACxC3vD,OAAOmZ,GAEjBw2C,EAAQ3vD,OAAOmZ,GAGnB,OAAOA,CACX,EAEAm2C,EAASzxD,UAAU+xD,aAAe,SAAuBnP,EAAOkP,GAC5D,IAEIE,EAFAC,SAAqBrP,IAAUjsD,SAAaisD,EAAMl3B,QAAS,EAAQk3B,EACnEsP,EAAQJ,EAAQ1wC,SAGpB,UAAW6wC,IAAej7D,WAA2B,IAAfi7D,EAClC,IAAK,IAAIh4D,EAAI,EAAGA,EAAIi4D,EAAM74D,OAAQY,IAC9B,GAAIi4D,EAAMj4D,GAAGk4D,cAAgBF,EAAY,CACrCD,EAAYE,EAAMj4D,GAClB,KACJ,CAIH+3D,KAEDA,EAAY,IADIxyD,KAAKmyD,YACT,CAAc,CACtBpnC,UAAW/qB,KAAK1F,QAAQwqD,cAElB6N,YAAcF,EACxBH,EAAQ3vD,OAAO6vD,IAGnB,OAAOA,CACX,EAEAP,EAASzxD,UAAUmnD,aAAe,SAAuBzD,EAAcvc,EAAY/F,GAC/E,IAAItnC,EAAU0F,KAAK1F,QACfqtD,EAAezD,EAAatsB,QAAQ+P,GACpCtE,EAAazB,EAAUyB,aAE3B,GAAI/oC,EAAQgrD,UAAW,CACnB,IAAIsN,EAAWhxB,EAAUhK,QAAQyL,EAAYA,GAAY,GACrDwvB,EAAYv4D,EAAQwqD,WAAa9sD,EAAIC,EACzC0vD,EAAakL,EAAY,GAAKlL,EAAakL,EAAY,GAAKD,EAASC,EAAY,EACrF,CAEA,OAAOlL,CACX,EAEAsK,EAASzxD,UAAUynD,iBAAmB,SAA2BR,GAI7D,IAHA,IAAI7lC,EAAW5hB,KAAK4hB,SAChBkxC,EAAiBlxC,EAAS/nB,OAErBY,EAAI,EAAGA,EAAIq4D,EAAgBr4D,IAChCmnB,EAASnnB,GAAGqnB,OAAO2lC,EAAchtD,GAEzC,EAEAw3D,EAASzxD,UAAUqiB,gBAAkB,WACjC7iB,KAAK+yD,uBACL9O,EAAiBzjD,UAAUqiB,gBAAgB1hB,KAAKnB,MAE5CwhD,aAAaxhD,KAAK1F,QAAQoqB,SAC1B1kB,KAAK2tD,uBAEb,EAEAsE,EAASzxD,UAAUmtD,sBAAwB,WAKvC,IAJA,IAEI7vC,EAAS9d,KAAK8d,OAETlkB,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAAO,CAC1C,IAAIkiB,EAAQgC,EAAOlkB,GACfo5D,EAAcl3C,EAAMiH,OACpBiwC,GAAenwD,QAAQmwD,EAAY14D,QAAQ4oB,UAC3CpH,EAAMxhB,QAAQ0nB,UARPhiB,KAQ4B1F,QAAQ0nB,UAC3ClG,EAAM+G,kBAEd,CACJ,EAEAovC,EAASzxD,UAAUuyD,qBAAuB,WACtC,IAEI7lC,EAFA5yB,EAAU0F,KAAK1F,QACf0nB,EAAY1nB,EAAQ0nB,WAAa,CAAC,EAGtC,GAAI1nB,EAAQgrD,UAAW,CACnB,IAAI1jB,EAAY5hC,KAAKuhD,gBAAgBjnD,EAAQoqB,OAAO,IACpDwI,EAAS0U,EAAUhK,QAAQgK,EAAUyB,aACzC,MACInW,EAASltB,KAAKkkD,aAAatsB,QAAQ,GAGvC5V,EAAUkL,OAAS,IAAIr6B,QAAQq6B,EAAOtY,GAAIsY,EAAOpY,IACjDkN,EAAU+I,UAAYzwB,EAAQwqD,UAClC,EAEOmN,CACX,CAlLe,CAkLbhO,kBAEFrgD,kBAAkBquD,SAAU,CACxBjwC,UAAW,CACPne,KAAMu3C,OAId,IAAI6X,YAAe,SAAUtxC,GACzB,SAASsxC,EAAY35D,EAAOgB,GACxBqnB,EAAaxgB,KAAKnB,KAAM1F,GACxB0F,KAAK1G,MAAQA,CACjB,CAqNA,OAnNKqoB,IAAesxC,EAAYx6D,UAAYkpB,GAC5CsxC,EAAYzyD,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACpEyyD,EAAYzyD,UAAUhE,YAAcy2D,EAEpCA,EAAYzyD,UAAU+oD,aAAe,SAAuBjvD,GACxD,OAAO0F,KAAKwpD,YAAYlvD,EAAQo1B,OACpC,EAEAujC,EAAYzyD,UAAUshB,OAAS,SAAiBhF,GAC5C,IAAIpa,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdhB,EAAQoJ,EAAIpJ,MAEZsoC,EADQl/B,EAAIwkD,MACM3F,gBAAgBjnD,GAClC44D,EAAStxB,EAAUhK,QAAQt+B,EAAM65D,KAAM75D,EAAMioB,OAC7C6xC,EAASxxB,EAAUhK,QAAQt+B,EAAMinC,IAAKjnC,EAAMknC,MAEhD0yB,EAAOt+C,GAAKw+C,EAAOx+C,GAAKkI,EAAIlI,GAC5Bs+C,EAAOn+C,GAAKq+C,EAAOr+C,GAAK+H,EAAI/H,GAE5B/U,KAAKqzD,SAAWH,EAEhB,IAAII,EAAMF,EAAOj+C,SAASla,EACtB6iB,EAAS,GAEbA,EAAOxe,KAAK,CAAE,CAAEg0D,EAAKF,EAAOt+C,IAAM,CAAEw+C,EAAKJ,EAAOp+C,MAChDgJ,EAAOxe,KAAK,CAAE,CAAEg0D,EAAKJ,EAAOl+C,IAAM,CAAEs+C,EAAKF,EAAOp+C,MAEhDhV,KAAKuzD,MAAQz1C,EAEb9d,KAAK8c,IAAMs2C,EAAOz2D,QAAQogB,KAAKm2C,GAE1BlzD,KAAKopD,YACNppD,KAAKopD,WAAY,EACjBppD,KAAK+oD,cAGT/oD,KAAKwzD,YACT,EAEAP,EAAYzyD,UAAUgzD,WAAa,WAC3BxzD,KAAKi2B,MACLj2B,KAAKi2B,KAAKnU,OAAO9hB,KAAK8c,IAE9B,EAEAm2C,EAAYzyD,UAAUkiB,aAAe,WACjCf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK4nB,qCAEL5nB,KAAKyzD,YAAczzD,KAAK0zD,WAAW1zD,KAAK1F,SACxC0F,KAAK+iB,OAAOpgB,OACR3C,KAAKyzD,aAGTzzD,KAAK2zD,eACT,EAEAV,EAAYzyD,UAAUkzD,WAAa,SAAqBp5D,GACpD,IAAI4xB,EAAQ,IAAIl5B,QAKhB,OAHAgN,KAAK4zD,WAAW1nC,EAAO5xB,GACvB0F,KAAK6zD,YAAY3nC,EAAO5xB,GAEjB4xB,CACX,EAEA+mC,EAAYzyD,UAAUozD,WAAa,SAAqBhmC,EAAWtzB,GAC/D,IAAIw5D,EAAO/gE,OAAOy0B,SAASxnB,KAAKqzD,SAAS70C,SAAU,CAC/CgG,KAAMmC,kBAAkBrsB,EAAQusB,QAAS,CACrC9d,MAAO/I,KAAK+I,MACZqb,QAAS9pB,EAAQ8pB,UAErB7pB,OAAQ,OAGRD,EAAQgrB,OAAO9qB,MAAQ,GACvBs5D,EAAKx5D,QAAQqG,IAAI,SAAU,CACvBoI,MAAO/I,KAAKqxD,iBACZ72D,MAAOF,EAAQgrB,OAAO9qB,MACtBktB,SAAUptB,EAAQgrB,OAAOoC,SACzBtD,QAAS1gB,eAAepJ,EAAQgrB,OAAOlB,QAAS9pB,EAAQ8pB,WAIhEjqB,iBAAiB25D,GACjBlmC,EAAUjrB,OAAOmxD,GAEbnR,mBAAmBroD,IACnBszB,EAAUjrB,OAAO3C,KAAKwlB,sBAAsBsuC,EAAM,CAAEvC,UAAWvxD,KAAK+I,OAASlM,WAAW,CACpFyD,IAAMhG,EAAQywB,cAAsBvjB,EAAX,CAAE,EAAG,IAC/BlN,EAAQorB,UAEnB,EAEAutC,EAAYzyD,UAAUqzD,YAAc,SAAsBjmC,EAAWtzB,GACjE0F,KAAK+zD,UAAUnmC,EAAWtzB,EAAS0F,KAAKuzD,MAAOj5D,EAAQ6R,KAC3D,EAEA8mD,EAAYzyD,UAAUuzD,UAAY,SAAoBnmC,EAAWtzB,EAASi5D,EAAOh7B,GAC7E,GAAKg7B,EAcL,IAVA,IAAIS,EAAY,CACZz5D,OAAQ,CACJwO,MAAOwvB,EAAYxvB,OAAS/I,KAAK+I,MACjCqb,QAAS1gB,eAAe60B,EAAYnU,QAAS9pB,EAAQ8pB,SACrD5pB,MAAO+9B,EAAY/9B,MACnBktB,SAAU6Q,EAAY7Q,SACtBymC,QAAS,SAIR1zD,EAAI,EAAGA,EAAI84D,EAAM15D,OAAQY,IAAK,CACnC,IAAI0R,EAAOpZ,OAAOw1B,WAAWgrC,EAAM94D,GAAIu5D,GACvC75D,iBAAiBgS,GACjByhB,EAAUjrB,OAAOwJ,EACrB,CACJ,EAEA8mD,EAAYzyD,UAAU6wD,eAAiB,WACnC,IAAI/rC,EAAStlB,KAAK1F,QAAQgrB,OACtBmsC,EAAcnsC,EAAOvc,MAMzB,OAJKlG,QAAQ4uD,KACTA,EAAc,IAAI/+D,MAAMsN,KAAK+I,OAAO4gD,WAAWrkC,EAAOksC,aAAa5H,SAGhE6H,CACX,EAEAwB,EAAYzyD,UAAUmzD,cAAgB,WAClC,IAAIjuC,EAAU3yB,OAAOy0B,SAASxnB,KAAK8c,IAAI0B,SAAU,CAC7CgG,KAAM,CACFzb,MAAOjR,QACPssB,QAAS,GAEb7pB,OAAQ,OAGZyF,KAAK+iB,OAAOpgB,OAAO+iB,EACvB,EAEAutC,EAAYzyD,UAAUyjB,gBAAkB,WACpC,IAAID,EAAYhkB,KAAK1F,QAAQ0pB,UACzBiwC,EAAcj0D,KAAK+I,MAEvB/I,KAAK+I,MAAQib,EAAUjb,OAAS/I,KAAK+I,MACrC,IAAI2c,EAAU1lB,KAAK0zD,WACf72D,WAAW,CAAC,EAAGmD,KAAK1F,QAAS,CACzB6R,KAAM,CACFpD,MAAO/I,KAAKqxD,mBAEjBrtC,IAIP,OAFAhkB,KAAK+I,MAAQkrD,EAENvuC,CACX,EAEAutC,EAAYzyD,UAAU4pD,gBAAkB,WACpC,OAAOpqD,KAAKyzD,WAChB,EAEAR,EAAYzyD,UAAUikB,oBAAsB,WACxC,MAAO,CACHnqB,QAAS0F,KAAK1F,QACdmuB,KAAMzoB,KAAK8c,IAAI0B,SACfuE,OAAQ/iB,KAAKyzD,YAErB,EAEAR,EAAYzyD,UAAU+pD,cAAgB,WAClC,IAAIztC,EAAM9c,KAAK8c,IACX0tC,EAAUxqD,KAAKknD,MAAM1vB,KAAKgzB,WAAa1tC,EAE3C,MAAO,CACHhB,MAAO,IAAIH,QAAQmB,EAAI/H,GAAKmlC,eAAgB93C,KAAKC,IAAIya,EAAIhI,GAAI01C,EAAQ11C,IAAMolC,gBAC3Ex7B,MAAO,CACHisC,WAAYh0D,KACZo0B,SAAUtzB,KAGtB,EAEAw7D,EAAYzyD,UAAUgpD,YAAc,SAAsB95B,GACtD,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEAujC,EAAYzyD,UAAUoqD,YAAc,SAAsB9tC,GACtD,OAAO9c,KAAK8c,IAAImB,SAASnB,EAC7B,EAEAm2C,EAAYzyD,UAAU2nB,UAAY,WAC9B,MAAO,CACHxD,SAAU3kB,KAAK2kB,SACfrrB,MAAO0G,KAAK1G,MACZ46D,WAAYl0D,KAAKk0D,WACjBC,aAAcn0D,KAAKm0D,aACnBC,cAAep0D,KAAKo0D,cACpBrM,WAAY/nD,KAAK+nD,WACjBrjC,OAAQ1kB,KAAK0kB,OAErB,EAEAuuC,EAAYzyD,UAAUwqD,SAAW,WAC7B,OAAOhrD,KAAK2nC,UAChB,EAEOsrB,CACX,CA1NkB,CA0NhBtxC,cAEFsxC,YAAYzyD,UAAU+kB,qBAAuB0rC,IAAIzwD,UAAU+kB,qBAE3D3hB,kBAAkBqvD,YAAa,CAC3BloC,UAAU,EACVzF,OAAQ,CACJksC,YAAa,IAEjBrlD,KAAM,CACF3R,MAAO,GAEXkrB,QAAS,CACL4E,SAAU,SAEd+pC,QAAS,CACL3kC,OAAQ,0MAQZwE,OAAQ,CACJxE,OAAQ,IAEZ1L,UAAW,CACPI,QAAS,EACTkB,OAAQ,CACJ9qB,MAAO,EACP4pB,QAAS,GAEbjY,KAAM,CACF3R,MAAO,EACP4pB,QAAS,IAGjB2R,MAAO,CACHtT,SAAS,EACTwO,MAAO,CAAC,GAEZjM,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,gCAI7BviD,WAAWo2D,YAAYzyD,UAAWooD,kBAClC/rD,WAAWo2D,YAAYzyD,UAAWsoD,WAClCjsD,WAAWo2D,YAAYzyD,UAAWuwD,8BAElC,IAAIuD,iBAAoB,SAAUrQ,GAC9B,SAASqQ,IACLrQ,EAAiBtiD,MAAM3B,KAAMjD,UACjC,CA8HA,OA5HKknD,IAAmBqQ,EAAiB77D,UAAYwrD,GACrDqQ,EAAiB9zD,UAAYjI,OAAOuN,OAAQm+C,GAAoBA,EAAiBzjD,WACjF8zD,EAAiB9zD,UAAUhE,YAAc83D,EAEzCA,EAAiB9zD,UAAUynD,iBAAmB,SAA2BR,GAIrE,IAHA,IAAI7lC,EAAW5hB,KAAK4hB,SAChBkxC,EAAiBlxC,EAAS/nB,OAErBY,EAAI,EAAGA,EAAIq4D,EAAgBr4D,IAChCmnB,EAASnnB,GAAGqnB,OAAO2lC,EAAchtD,GAEzC,EAEA65D,EAAiB9zD,UAAUkkD,SAAW,SAAmB94C,EAAMzM,GAC3D,IAYI2c,EAZA6rB,EAAaxoC,EAAOwoC,WACpBhzC,EAAWwK,EAAOxK,SAClB+vB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAElBhjC,EADM5hB,KACS4hB,SACftnB,EAFM0F,KAEQ1F,QACdhB,EAAQsS,EAAKqrC,YAEbsd,EAAW7S,WADE1hD,KAAKw0D,WAAWl7D,IAE7BqrB,EAAWD,EAAO9Y,KAAK+7B,GACvB0c,EAAiBrkD,KAAKqkD,eAAe1c,GAGpC0c,IACDrkD,KAAKqkD,eAAe1c,GAAc0c,EAAiB,IAGnDkQ,IACAz4C,EAAQ9b,KAAKinD,YAAYr7C,EAAMzM,IAGnC,IAAImzD,EAAU1wC,EAAS+lB,GAClB2qB,IACDA,EAAU,IAAIX,cAAc,CACxB5mC,SAAUzwB,EAAQwqD,WAClB8M,IAAKt3D,EAAQs3D,IACb5zD,QAAS1D,EAAQ0D,QACjBk1B,KAAM54B,EAAQwqD,aAAe9kD,KAAKqiB,cAAgB,CAAC,GAAG6Q,MAE1DlzB,KAAK2C,OAAO2vD,IAGZx2C,IACA9b,KAAK+mD,YAAYztD,EAAO6F,GAExBmzD,EAAQ3vD,OAAOmZ,GAEfA,EAAM6rB,WAAaA,EACnB7rB,EAAMnnB,SAAWA,EACjBmnB,EAAM4I,OAASA,EACf5I,EAAM8oC,SAAWA,EACjB9oC,EAAMorC,MAAQlnD,KACd8b,EAAM6I,SAAWA,EACjB7I,EAAMqrC,SAAWv7C,EAAKzM,OAAOgoD,UAGjCnnD,KAAK8d,OAAOxe,KAAKwc,GACjBuoC,EAAe/kD,KAAKwc,EACxB,EAEAw4C,EAAiB9zD,UAAUqkD,UAAY,WACnC,OAAOoO,WACX,EAEAqB,EAAiB9zD,UAAUymD,YAAc,SAAsBr7C,EAAMzM,GACjE,IAAIulB,EAASvlB,EAAOulB,OAChBmgC,EAAY7kD,KAAK6kD,YACjBvrD,EAAQsS,EAAKqrC,YACb0N,EAAe9nD,WAAW,CAAC,EAAG6nB,GAC9B3b,EAAQ6C,EAAKzM,OAAO4J,OAAS2b,EAAO3b,MAExC47C,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GAEtDulB,EAAO7gB,OAAS23C,aAAe92B,EAAO7gB,OAASm4C,MAC3C1iD,EAAM65D,KAAO75D,EAAMioB,QACnBxY,EAAQ6C,EAAKzM,OAAOs1D,WAAa/vC,EAAO+vC,WAAa/vC,EAAO3b,OAIhEjN,WAAW4oB,EAAO3b,SAClBA,EAAQ47C,EAAa57C,OAGzB47C,EAAa55B,UAAY/qB,KAAK1F,QAAQwqD,WAEtC,IAAIhpC,EAAQ,IAAI+oC,EAAUvrD,EAAOqrD,GAGjC,OAFA7oC,EAAM/S,MAAQA,EAEP+S,CACX,EAEAw4C,EAAiB9zD,UAAUg0D,WAAa,SAAqBl7D,GACzD,MAAO,CAAEA,EAAMinC,IAAKjnC,EAAM65D,KAAM75D,EAAMioB,MAAOjoB,EAAMknC,KACvD,EAEA8zB,EAAiB9zD,UAAUumD,YAAc,SAAsBztD,EAAO6F,GAClE,IAAI4mD,EAAW5mD,EAAOulB,OAAO/O,KACzB++C,EAAQ10D,KAAKw0D,WAAWl7D,GACxBiuD,EAAYvnD,KAAKokD,gBAAgB2B,IAAa,CAAEx+C,IAAK3Q,UAAWyL,IAAKvL,WAEzEkJ,KAAKokD,gBAAgB2B,GAAY,CAC7Bx+C,IAAKnF,KAAKmF,IAAI5F,MAAMS,KAAMsyD,EAAMvsD,OAAO,CAAEo/C,EAAUhgD,OACnDlF,IAAKD,KAAKC,IAAIV,MAAMS,KAAMsyD,EAAMvsD,OAAO,CAAEo/C,EAAUllD,OAE3D,EAEAiyD,EAAiB9zD,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GAC5E,IAAIp2B,EAAQwiB,EAAMxiB,MAElB,OAAO0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EACjCp2B,EAAM65D,KAAM75D,EAAMknC,KAClBlnC,EAAMinC,IAAKjnC,EAAMioB,MAAOzF,EAAMnnB,SAEtC,EAEA2/D,EAAiB9zD,UAAUotD,gBAAkB,WACzC,OAAO5tD,KAAK8d,MAChB,EAEOw2C,CACX,CAlIuB,CAkIrBrQ,kBAEFpnD,WAAWy3D,iBAAiB9zD,UAAW+sD,oBAEvC,IAAIoH,QAAW,SAAU1B,GACrB,SAAS0B,EAAQr7D,EAAOgB,GACpB24D,EAAY9xD,KAAKnB,KAAM1G,EAAOgB,GAE9B0F,KAAK+oD,YACT,CAuKA,OArKKkK,IAAc0B,EAAQl8D,UAAYw6D,GACvC0B,EAAQn0D,UAAYjI,OAAOuN,OAAQmtD,GAAeA,EAAYzyD,WAC9Dm0D,EAAQn0D,UAAUhE,YAAcm4D,EAEhCA,EAAQn0D,UAAUshB,OAAS,SAAiBhF,GACxC,IAKI83C,EAAaC,EALbnyD,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdhB,EAAQoJ,EAAIpJ,MAEZsoC,EADQl/B,EAAIwkD,MACM3F,gBAAgBjnD,GAGtC0F,KAAK60D,QAAUA,EAAUjzB,EAAUhK,QAAQt+B,EAAMw7D,GAAIx7D,EAAMy7D,IAC3D/0D,KAAKqzD,SAAWwB,EAChB70D,KAAKg1D,cAAcl4C,GAEnB9c,KAAK40D,YAAcA,EAAchzB,EAAUhK,QAAQt+B,EAAM27D,MAAO37D,EAAM2uC,OACtEjoC,KAAKk1D,kBAAkBp4C,GAEvB,IAAIq4C,EAAavzB,EAAUhK,QAAQt+B,EAAM87D,QAEzC,GAAI97D,EAAM+7D,KAAM,CACZ,IAAIC,EAAW1zB,EAAUhK,QAAQt+B,EAAM+7D,MACvCr1D,KAAKk0D,WAAal0D,KAAKu1D,eAAez4C,EAAKw4C,EAC/C,CAEAt1D,KAAKo0D,cAAgBp0D,KAAKw1D,kBAAkBX,EAASD,GACrD50D,KAAKm0D,aAAen0D,KAAKy1D,iBAAiB34C,EAAKq4C,GAE/Cn1D,KAAK8c,IAAM83C,EAAYj4D,QAAQogB,KAAK83C,GACpC70D,KAAKwzD,YACT,EAEAmB,EAAQn0D,UAAUw0D,cAAgB,SAAwBl4C,GACtD9c,KAAK60D,QAAQjgD,GAAKkI,EAAIlI,GACtB5U,KAAK60D,QAAQ9/C,GAAK+H,EAAI/H,EAC1B,EAEA4/C,EAAQn0D,UAAU00D,kBAAoB,SAA4Bp4C,GAC9D9c,KAAK40D,YAAYhgD,GAAKkI,EAAIlI,GAC1B5U,KAAK40D,YAAY7/C,GAAK+H,EAAI/H,EAC9B,EAEA4/C,EAAQn0D,UAAU+0D,eAAiB,SAAyBz4C,EAAKw4C,GAC7D,MAAO,CACH,CAAE,CAAEx4C,EAAIlI,GAAI0gD,EAASxgD,IAAM,CAAEgI,EAAI/H,GAAIugD,EAASxgD,KAEtD,EAEA6/C,EAAQn0D,UAAUg1D,kBAAoB,SAA4BX,EAASD,GACvE,IAAItB,EAAMsB,EAAYz/C,SAASla,EAC/B,MAAO,CAAE,CACL,CAAEq4D,EAAM,EAAGsB,EAAY9/C,IAAM,CAAEw+C,EAAM,EAAGsB,EAAY9/C,IACpD,CAAEw+C,EAAKsB,EAAY9/C,IAAM,CAAEw+C,EAAKuB,EAAQ//C,KACzC,CACC,CAAEw+C,EAAM,EAAGsB,EAAY5/C,IAAM,CAAEs+C,EAAM,EAAGsB,EAAY5/C,IACpD,CAAEs+C,EAAKsB,EAAY5/C,IAAM,CAAEs+C,EAAKuB,EAAQ7/C,KAEhD,EAEA2/C,EAAQn0D,UAAUi1D,iBAAmB,SAA2B34C,EAAKq4C,GACjE,MAAO,CACH,CAAE,CAAEr4C,EAAIlI,GAAIugD,EAAWrgD,IAAM,CAAEgI,EAAI/H,GAAIogD,EAAWrgD,KAE1D,EAEA6/C,EAAQn0D,UAAUk1D,eAAiB,SAAyBp7D,GASxD,IARA,IAEIhB,EAAQ0G,KAAK1G,MACbq8D,EAAWr8D,EAAMq8D,UAAY,GAC7BC,EAA6C,EAAhCxzD,KAAKkZ,IAAIhiB,EAAMy7D,GAAKz7D,EAAMw7D,IACvCjvC,EAAW,GACXsjC,EAAU7uD,EAAQ6uD,SAAW,CAAC,EAEzB1uD,EAAI,EAAGA,EAAIk7D,EAAS97D,OAAQY,IAAK,CACtC,IAAIo7D,EAAeF,EAASl7D,GAMxBq7D,EAAgBj5D,WAAW,CAAC,GAJ5BssD,EADA0M,EAAev8D,EAAMy7D,GAAKa,GAAcC,EAAev8D,EAAMw7D,GAAKc,EACxDt7D,EAAQq7D,SAERr7D,EAAQy7D,UAEqBzwC,QAEtCziB,QAAQizD,EAAc/sD,SACnBlG,QAlBG7C,KAkBc+I,OACjB+sD,EAAc/sD,MAnBX/I,KAmB4B+I,MAE/B+sD,EAAc/sD,MACV,IAAIrW,MAAMy2D,EAAQ/jC,YAAYukC,WAAW1P,mBAAmB2P,SAIxE,IAAIhY,EAAQ,IAAI1pB,aAAa,CACzBrkB,KAAMslD,EAAQtlD,KACdrJ,MAAO2uD,EAAQ3jD,KACfmG,OAAQw9C,EAAQ3jD,KAChB0Y,SAAUirC,EAAQjrC,SAClBkH,WAAY+jC,EAAQ/jC,WACpBE,OAAQwwC,EACR1xC,QAAS+kC,EAAQ/kC,UAGrBwtB,EAAMt4C,MAAQu8D,EAEdhwC,EAASvmB,KAAKsyC,EAClB,CAGA,OADA5xC,KAAKg2D,eAAenwC,GACbA,CACX,EAEA8uC,EAAQn0D,UAAUw1D,eAAiB,SAAyBL,GAMxD,IALA,IAAI1iD,EAAWjT,KAEX4hC,EAAY5hC,KAAKknD,MAAM3F,gBAAgBvhD,KAAK1F,SAC5C6a,EAASnV,KAAK8c,IAAI3H,SAEb1a,EAAI,EAAGA,EAAIk7D,EAAS97D,OAAQY,IAAK,CACtC,IAAIo7D,EAAeF,EAASl7D,GAAGnB,MAC3BuwD,EAAYjoB,EAAUhK,QAAQi+B,GAE9B5iD,EAAS3Y,QAAQywB,SACjB8+B,EAAU97C,KAAKoH,EAAOla,GAEtB4uD,EAAU97C,UAAKvG,EAAW2N,EAAOja,GAGrC+X,EAAS6J,IAAM7J,EAAS6J,IAAIC,KAAK8sC,GACjC8L,EAASl7D,GAAGqnB,OAAO+nC,EACvB,CACJ,EAEA8K,EAAQn0D,UAAUkzD,WAAa,SAAqBp5D,GAIhD,IAHA,IAAI4xB,EAAQ+mC,EAAYzyD,UAAUkzD,WAAWvyD,KAAKnB,KAAM1F,GACpDq7D,EAAW31D,KAAK01D,eAAep7D,GAE1BG,EAAI,EAAGA,EAAIk7D,EAAS97D,OAAQY,IAAK,CACtC,IAAIhB,EAAUk8D,EAASl7D,GAAG2tB,aACtB3uB,GACAyyB,EAAMvpB,OAAOlJ,EAErB,CAEA,OAAOyyB,CACX,EAEAyoC,EAAQn0D,UAAUqzD,YAAc,SAAsBjmC,EAAWtzB,GAC7D0F,KAAK+zD,UAAUnmC,EAAWtzB,EAAS0F,KAAKo0D,cAAe95D,EAAQ27D,UAC/Dj2D,KAAK+zD,UAAUnmC,EAAWtzB,EAAS0F,KAAKm0D,aAAc75D,EAAQ86D,QAC9Dp1D,KAAK+zD,UAAUnmC,EAAWtzB,EAAS0F,KAAKk0D,WAAY55D,EAAQ+6D,KAChE,EAEAV,EAAQn0D,UAAU6wD,eAAiB,WAC/B,OAAKrxD,KAAK1F,QAAQgrB,QAAU,CAAC,GAAGvc,MACrB/I,KAAK1F,QAAQgrB,OAAOvc,MAG3B/I,KAAK+I,MACE/I,KAAK+I,MAGTkqD,EAAYzyD,UAAU6wD,eAAelwD,KAAKnB,KACrD,EAEO20D,CACX,CA7Kc,CA6KZ1B,aAEFrvD,kBAAkB+wD,QAAS,CACvBrvC,OAAQ,CACJksC,YAAa,IAEjBrlD,KAAM,CACF3R,MAAO,GAEX46D,OAAQ,CACJrsD,MAAO,WAEXssD,KAAM,CACF76D,MAAO,EACPktB,SAAU,OACV3e,MAAO,WAEX2c,QAAS,CACL4E,SAAU,SAEd+pC,QAAS,CACL3kC,OAAQ,oRAUZ1L,UAAW,CACPI,QAAS,EACTkB,OAAQ,CACJ9qB,MAAO,EACP4pB,QAAS,GAEbjY,KAAM,CACF3R,MAAO,EACP4pB,QAAS,IAGjB2R,MAAO,CACHtT,SAAS,EACTwO,MAAO,CAAC,GAEZ0kC,SAAU,CACNlzC,SAAS,EACTjd,KAAMm1C,iBACN92C,KAAMhO,MACNuvB,WAAYttB,QACZwtB,OAAQ,CACJ9qB,MAAO,EACP4pB,QAAS,GAEbA,QAAS,GAEb2xC,SAAU,CACNtzC,SAAS,EACTjd,KAAMm1C,iBACN92C,KAAMlO,OACNyvB,WAAYttB,QACZwtB,OAAQ,CACJ9qB,MAAO,EACP4pB,QAAS,GAEbA,QAAS,KAIjBvnB,WAAW83D,QAAQn0D,UAAWooD,kBAE9B,IAAIsN,gBAAmB,SAAUvB,GAC7B,SAASuB,IACLvB,EAAQhzD,MAAM3B,KAAMjD,UACxB,CAuCA,OArCK43D,IAAUuB,EAAgBz9D,UAAYk8D,GAC3CuB,EAAgB11D,UAAYjI,OAAOuN,OAAQ6uD,GAAWA,EAAQn0D,WAC9D01D,EAAgB11D,UAAUhE,YAAc05D,EAExCA,EAAgB11D,UAAUw0D,cAAgB,SAAwBl4C,GAC9D9c,KAAK60D,QAAQ//C,GAAKgI,EAAIhI,GACtB9U,KAAK60D,QAAQ7/C,GAAK8H,EAAI9H,EAC1B,EAEAkhD,EAAgB11D,UAAU00D,kBAAoB,SAA4Bp4C,GACtE9c,KAAK40D,YAAY9/C,GAAKgI,EAAIhI,GAC1B9U,KAAK40D,YAAY5/C,GAAK8H,EAAI9H,EAC9B,EAEAkhD,EAAgB11D,UAAU+0D,eAAiB,SAAyBz4C,EAAKw4C,GACrE,MAAO,CACH,CAAE,CAAEA,EAAS1gD,GAAIkI,EAAIhI,IAAM,CAAEwgD,EAAS1gD,GAAIkI,EAAI9H,KAEtD,EAEAkhD,EAAgB11D,UAAUg1D,kBAAoB,SAA4BX,EAASD,GAC/E,IAAItB,EAAMsB,EAAYz/C,SAASja,EAC/B,MAAO,CAAE,CACL,CAAE05D,EAAYhgD,GAAI0+C,EAAM,GAAK,CAAEsB,EAAYhgD,GAAI0+C,EAAM,GACrD,CAAEsB,EAAYhgD,GAAI0+C,GAAO,CAAEuB,EAAQjgD,GAAI0+C,IACxC,CACC,CAAEsB,EAAY7/C,GAAIu+C,EAAM,GAAK,CAAEsB,EAAY7/C,GAAIu+C,EAAM,GACrD,CAAEsB,EAAY7/C,GAAIu+C,GAAO,CAAEuB,EAAQ9/C,GAAIu+C,IAE/C,EAEA4C,EAAgB11D,UAAUi1D,iBAAmB,SAA2B34C,EAAKq4C,GACzE,MAAO,CACH,CAAE,CAAEA,EAAWvgD,GAAIkI,EAAIhI,IAAM,CAAEqgD,EAAWvgD,GAAIkI,EAAI9H,KAE1D,EAEOkhD,CACX,CA3CsB,CA2CpBvB,SAEEwB,aAAgB,SAAU7B,GAC1B,SAAS6B,IACL7B,EAAiB3yD,MAAM3B,KAAMjD,UACjC,CAmHA,OAjHKu3D,IAAmB6B,EAAa19D,UAAY67D,GACjD6B,EAAa31D,UAAYjI,OAAOuN,OAAQwuD,GAAoBA,EAAiB9zD,WAC7E21D,EAAa31D,UAAUhE,YAAc25D,EAErCA,EAAa31D,UAAUkkD,SAAW,SAAmB94C,EAAMzM,GACvD,IAYI2c,EAZA6rB,EAAaxoC,EAAOwoC,WACpBhzC,EAAWwK,EAAOxK,SAClB+vB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAElBhjC,EADM5hB,KACS4hB,SACftnB,EAFM0F,KAEQ1F,QACdhB,EAAQsS,EAAKqrC,YAEbsd,EAAW7S,WADE1hD,KAAKw0D,WAAWl7D,IAE7BqrB,EAAWD,EAAO9Y,KAAK+7B,GACvB0c,EAAiBrkD,KAAKqkD,eAAe1c,GAGpC0c,IACDrkD,KAAKqkD,eAAe1c,GAAc0c,EAAiB,IAGnDkQ,IACAz4C,EAAQ9b,KAAKinD,YAAYr7C,EAAMzM,IAGnC,IAAImzD,EAAU1wC,EAAS+lB,GAClB2qB,IACDA,EAAU,IAAIX,cAAc,CACxB5mC,SAAUzwB,EAAQwqD,WAClB8M,IAAKt3D,EAAQs3D,IACb5zD,QAAS1D,EAAQ0D,QACjBk1B,KAAM54B,EAAQwqD,aAAe9kD,KAAKqiB,cAAgB,CAAC,GAAG6Q,MAE1DlzB,KAAK2C,OAAO2vD,IAGZx2C,IACA9b,KAAK+mD,YAAYztD,EAAO6F,GAExBmzD,EAAQ3vD,OAAOmZ,GAEfA,EAAM6rB,WAAaA,EACnB7rB,EAAMnnB,SAAWA,EACjBmnB,EAAM4I,OAASA,EACf5I,EAAM8oC,SAAWA,EACjB9oC,EAAMorC,MAAQlnD,KACd8b,EAAM6I,SAAWA,GAGrB3kB,KAAK8d,OAAOxe,KAAKwc,GACjBuoC,EAAe/kD,KAAKwc,EACxB,EAEAq6C,EAAa31D,UAAUqkD,UAAY,WAC/B,OAAI7kD,KAAK1F,QAAQwqD,WACNoR,gBAGJvB,OACX,EAEAwB,EAAa31D,UAAUg0D,WAAa,SAAqBl7D,GACrD,MAAO,CACHA,EAAM27D,MAAO37D,EAAMw7D,GAAIx7D,EAAM87D,OAC7B97D,EAAMy7D,GAAIz7D,EAAM2uC,MAExB,EAEAkuB,EAAa31D,UAAUumD,YAAc,SAAsBztD,EAAO6F,GAC9D,IAAI4mD,EAAW5mD,EAAOulB,OAAO/O,KACzB++C,EAAQ10D,KAAKw0D,WAAWl7D,GAAO6O,OAAOnI,KAAKo2D,eAAe98D,EAAMq8D,WAEhE9yD,QAAQvJ,EAAM+7D,QACdX,EAAQA,EAAMvsD,OAAO7O,EAAM+7D,OAG/B,IAAI9N,EAAYvnD,KAAKokD,gBAAgB2B,IAAa,CAAEx+C,IAAK3Q,UAAWyL,IAAKvL,WAEzEkJ,KAAKokD,gBAAgB2B,GAAY,CAC7Bx+C,IAAKnF,KAAKmF,IAAI5F,MAAMS,KAAMsyD,EAAMvsD,OAAO,CAAEo/C,EAAUhgD,OACnDlF,IAAKD,KAAKC,IAAIV,MAAMS,KAAMsyD,EAAMvsD,OAAO,CAAEo/C,EAAUllD,OAE3D,EAEA8zD,EAAa31D,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACxE,IAAIp2B,EAAQwiB,EAAMxiB,MAElB,OAAO0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EACjCp2B,EAAM27D,MAAO37D,EAAMw7D,GAAIx7D,EAAM87D,OAC7B97D,EAAMy7D,GAAIz7D,EAAM2uC,MAAO3uC,EAAM+7D,KAAMv5C,EAAMnnB,SAEjD,EAEAwhE,EAAa31D,UAAU41D,eAAiB,SAAyB/mC,GAI7D,IAHA,IAAIx1B,GAAUw1B,GAAS,IAAIx1B,OACvB+B,EAAS,GAEJnB,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIiN,EAAO2nB,EAAM50B,GACboI,QAAQ6E,IAAkB,OAATA,GACjB9L,EAAO0D,KAAKoI,EAEpB,CAEA,OAAO9L,CACX,EAEAu6D,EAAa31D,UAAUslB,6BAA+B,WAClD,OAAO,CACX,EAEOqwC,CACX,CAvHmB,CAuHjB7B,kBAEE+B,gBAAmB,SAAU5V,GAC7B,SAAS4V,IACL5V,EAAa9+C,MAAM3B,KAAMjD,UAC7B,CAaA,OAXK0jD,IAAe4V,EAAgB59D,UAAYgoD,GAChD4V,EAAgB71D,UAAYjI,OAAOuN,OAAQ26C,GAAgBA,EAAajgD,WACxE61D,EAAgB71D,UAAUhE,YAAc65D,EAExCA,EAAgB71D,UAAUqgD,QAAU,WAChC,IAAIppB,EAAOz3B,KAAKizB,MAAMqjC,WAAWt2D,KAAK0kB,QAGtC,OAFW1kB,KAAK0gD,WAAajpB,EAAKv8B,EAAIu8B,EAAKx8B,CAG/C,EAEOo7D,CACX,CAjBsB,CAiBpB5V,cAEE8V,aAAgB,SAAU50C,GAC1B,SAAS40C,EAAal/B,EAAU/8B,GAE5BqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKq3B,SAAWA,EAChBr3B,KAAKqiB,aAAegV,EAAShV,aAC7BriB,KAAKw2D,cAELx2D,KAAK+wB,QACT,CAwTA,OAtTKpP,IAAe40C,EAAa99D,UAAYkpB,GAC7C40C,EAAa/1D,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrE+1D,EAAa/1D,UAAUhE,YAAc+5D,EAErCA,EAAa/1D,UAAUg2D,YAAc,WAGjCx2D,KAAKy2D,YAAc,CAAC,EACpBz2D,KAAK02D,YAAc,CAAC,EAEpB12D,KAAK8d,OAAS,GACd9d,KAAKskD,aAAe,GACpBtkD,KAAKukD,cAAgB,GACrBvkD,KAAKwkD,YAAc,EACvB,EAEA+R,EAAa/1D,UAAUuwB,OAAS,WAC5B/wB,KAAKykD,mBAAmBzkD,KAAK0kD,SAASx8C,KAAKlI,MAC/C,EAEAu2D,EAAa/1D,UAAUgmD,YAAc,SAAsB1qC,EAAO1e,EAAO+B,GACrE,IAWQi6C,EAXJ9/C,EAAQwiB,EAAMxiB,MAAM8D,GACpBu5D,EAAkBv5D,EAAQ,QAC1Bw5D,EAAWx5D,EAAQ,WACnBy5D,EAAYz5D,EAAQ,YACpBwnD,EAAWzlD,EAAOylD,SAClBlgC,EAASvlB,EAAOulB,OAChB+hC,EAAY3qC,EAAMxhB,QAAQmsD,UAC1BC,EAAWvnD,EAAOy3D,GAClBjQ,EAAYxnD,EAAO03D,GAEnB17D,SAAS7B,KAEL6B,SAASurD,IAAavrD,SAASwrD,KAC/BvN,EAAa,CAAE7Y,IAAKmmB,EAAUlmB,KAAMmmB,IAGpCF,GAAa5jD,QAAQ4jD,EAAUkQ,MAC/B32D,KAAK4mD,kBAAoB5mD,KAAK4mD,mBAAqB,CAAE3rD,EAAG,GAAIC,EAAG,IAC/D8E,KAAK4mD,kBAAkBxpD,GAAOwnD,GAAY5kD,KAAK4mD,kBAAkBxpD,GAAOwnD,IACpE,IAAIpM,qBAAqBiO,EAAUkQ,GAAkBjyC,EAAQtnB,GAEjEg8C,EAAap5C,KAAK4mD,kBAAkBxpD,GAAOwnD,GAAUnL,cAAcngD,EAAOmtD,EAAUkQ,KAGpFvd,GACAp5C,KAAK6mD,iBAAiBzN,EAAYt9B,EAAO1e,GAGrD,EAEAm5D,EAAa/1D,UAAUqmD,iBAAmB,SAA2BzN,EAAYt9B,EAAO1e,GACpF,IAAImjC,EAAM6Y,EAAW7Y,IACjBC,EAAO4Y,EAAW5Y,KAClB9b,EAAS5I,EAAM4I,OACfpqB,EAAUwhB,EAAMxhB,QAAQmsD,UACxB/F,EAAatjD,IAAUnF,EACvByP,EAAO,CAAC,EAEZoU,EAAM1e,EAAQ,OAASmjC,EACvBzkB,EAAM1e,EAAQ,QAAUojC,EAExB1kB,EAAM2qC,UAAY3qC,EAAM2qC,WAAa,GACrC,IAAIO,EAAW,IAAIqP,gBAAgB91B,EAAKC,EAAMkgB,EAAY1gD,KAAM0kB,EAAQpqB,GACxEwhB,EAAM2qC,UAAUnnD,KAAK0nD,GACrBlrC,EAAMnZ,OAAOqkD,GAEbt/C,EAAKtK,GAASmjC,EACdvgC,KAAK+mD,YAAYr/C,EAAMgd,GACvBhd,EAAKtK,GAASojC,EACdxgC,KAAK+mD,YAAYr/C,EAAMgd,EAC3B,EAEA6xC,EAAa/1D,UAAUkkD,SAAW,SAAmBprD,EAAO6F,GACxD,IAYI2c,EAZA7gB,EAAI3B,EAAM2B,EACVC,EAAI5B,EAAM4B,EACV0pD,EAAWzlD,EAAOylD,SAClBlgC,EAAS1kB,KAAK1F,QAAQoqB,OAAOkgC,GAC7BzB,EAAgBnjD,KAAKkjD,oBAAoBx+B,GACzC4/B,EAAetkD,KAAKskD,aAAaM,GAEjClL,EAAapgD,EACXspD,WAAW3nD,IAAM2nD,WAAW1nD,KAC9Bw+C,EAAa15C,KAAK82D,mBAAmBpd,EAAYyJ,IAIjDzJ,KACA59B,EAAQ9b,KAAKinD,YAAYvN,EAAYv6C,MAEjC5G,OAAO4a,OAAO2I,EAAO3c,GACrBa,KAAKwmD,YAAY1qC,EAAO9jB,EAAGmH,GAC3Ba,KAAKwmD,YAAY1qC,EAAO7jB,EAAGkH,IAE/Ba,KAAK+mD,YAAYrN,EAAYv6C,EAAOulB,SAGxC1kB,KAAK8d,OAAOxe,KAAKwc,GACjBwoC,EAAahlD,KAAKwc,EACtB,EAEAy6C,EAAa/1D,UAAU0iD,oBAAsB,SAA8Bx+B,GACvE,OAAOA,EAAOy+B,aAClB,EAEAoT,EAAa/1D,UAAUs2D,mBAAqB,WAAgC,EAE5EP,EAAa/1D,UAAUumD,YAAc,SAAsBztD,EAAOorB,GAC9D,IAAI6N,EAAcvyB,KAAKqiB,aAAaqQ,KAChCqkC,EAAYryC,EAAOsyC,MACnBC,EAAYvyC,EAAOwyC,MACnBj8D,EAAI3B,EAAM2B,EACVC,EAAI5B,EAAM4B,EACVi8D,EAAan3D,KAAKy2D,YAAYM,GAC9BK,EAAap3D,KAAK02D,YAAYO,GAE9BrU,WAAW3nD,KACXk8D,EAAan3D,KAAKy2D,YAAYM,GAC1BI,GAAc,CAAE5vD,IAAK3Q,UAAWyL,IAAKvL,WAErCuE,WAAWJ,KACXA,EAAI82B,UAAUQ,EAAat3B,IAG/Bk8D,EAAW5vD,IAAMnF,KAAKmF,IAAI4vD,EAAW5vD,IAAKtM,GAC1Ck8D,EAAW90D,IAAMD,KAAKC,IAAI80D,EAAW90D,IAAKpH,IAG1C2nD,WAAW1nD,KACXk8D,EAAap3D,KAAK02D,YAAYO,GAC1BG,GAAc,CAAE7vD,IAAK3Q,UAAWyL,IAAKvL,WAErCuE,WAAWH,KACXA,EAAI62B,UAAUQ,EAAar3B,IAG/Bk8D,EAAW7vD,IAAMnF,KAAKmF,IAAI6vD,EAAW7vD,IAAKrM,GAC1Ck8D,EAAW/0D,IAAMD,KAAKC,IAAI+0D,EAAW/0D,IAAKnH,GAElD,EAEAq7D,EAAa/1D,UAAU4mD,iBAAmB,SAA2B9sD,EAAShB,EAAO6F,GACjF,IAAIulB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAClB3gD,EAAQ,CACRk+C,SAAUz9B,EAAO2iC,UACjBhF,SAAU,CACN,OAAQ,UAAW,UAAW,WAAY,SAAU,SACpD,sBAAuB,sBACvB,yBAA0B,eAAgB,gBAI9CiF,EAAStnD,KAAKwkD,YAAYI,GACzB/hD,QAAQykD,KACTtnD,KAAKwkD,YAAYI,GAAY0C,EAASrF,YAAY3nD,EAAS,CAAC,EAAG2J,GAAO,IAG1E,IAAI0gD,EAAerqD,EAUnB,OATIgtD,GAEArF,YADA0C,EAAe9nD,WAAW,CAAC,EAAGvC,GACJ,CACtBhB,MAAOA,EACPorB,OAAQA,EACRC,SAAUxlB,EAAOwlB,UAClB1gB,GAGA0gD,CACX,EAEA4R,EAAa/1D,UAAUqkD,UAAY,WAC/B,OAAOmE,SACX,EAEAuN,EAAa/1D,UAAUmkD,aAAe,SAAuBjgC,EAAQkgC,GACjE,IAAItqD,EAAU0F,KAAKukD,cAAcK,GACjC,IAAKtqD,EAAS,CACV,IAAI6nD,EAAWniD,KAAK6kD,YAAYrkD,UAAU2hD,SAC1CniD,KAAKukD,cAAcK,GAAYtqD,EAAUuC,WAAW,CAAC,EAAGslD,EAAU,CAC9DgH,QAAS,CACL/kC,QAASM,EAAON,SAEpBiwC,QAAS,CACL3kC,OAAQ1vB,KAAK1F,QAAQ+5D,QAAQ3kC,QAEjCwE,OAAQ,CACJxE,OAAQ1vB,KAAK1F,QAAQ45B,OAAOxE,SAEjChL,EACP,CAEA,OAAOpqB,CACX,EAEAi8D,EAAa/1D,UAAUymD,YAAc,SAAsB3tD,EAAO6F,GAC9D,IAAIulB,EAASvlB,EAAOulB,OAChBigC,EAAe3kD,KAAK2kD,aAAajgC,EAAQvlB,EAAOylD,UAChD77C,EAAQ5J,EAAO4J,OAAS2b,EAAO3b,MAEnC47C,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GAEtDrD,WAAW4oB,EAAO3b,SAClBA,EAAQ47C,EAAa57C,OAGzB,IAAI+S,EAAQ,IAAIktC,UAAU1vD,EAAOqrD,GAKjC,OAJA7oC,EAAM/S,MAAQA,EAEd/I,KAAK2C,OAAOmZ,GAELA,CACX,EAEAy6C,EAAa/1D,UAAU81D,WAAa,SAAqB5xC,GACrD,IAAIqyC,EAAYryC,EAAOsyC,MACnBC,EAAYvyC,EAAOwyC,MACnB7/B,EAAWr3B,KAAKq3B,SAChB2/B,EAAQD,EAAY1/B,EAASggC,WAAWN,GAAa1/B,EAAS1B,MAC9DuhC,EAAQD,EAAY5/B,EAASigC,WAAWL,GAAa5/B,EAASzB,MAElE,IAAKohC,EACD,MAAM,IAAIjoB,MAAM,qCAAuCgoB,GAG3D,IAAKG,EACD,MAAM,IAAInoB,MAAM,qCAAuCkoB,GAG3D,MAAO,CACHh8D,EAAG+7D,EACH97D,EAAGg8D,EAEX,EAEAX,EAAa/1D,UAAUshB,OAAS,SAAiB9E,GAC7C,IAAI/J,EAAWjT,KAEX0nD,EAAc1nD,KAAK8d,OACnBkc,GAASh6B,KAAK1F,QAAQ8vC,KACtBkN,EAAU,EAGdt3C,KAAKykD,oBAAmB,SAAUnrD,EAAO6F,GACrC,IAAI2c,EAAQ4rC,EAAYpQ,KACpBgf,EAAarjD,EAASqjD,WAAWn3D,EAAOulB,QACxCgT,EAAQ4+B,EAAWr7D,EAAE28B,QAAQt+B,EAAM2B,EAAG3B,EAAM2B,EAAG++B,GAC/CrC,EAAQ2+B,EAAWp7D,EAAE08B,QAAQt+B,EAAM4B,EAAG5B,EAAM4B,EAAG8+B,GAEnD,GAAIle,EACA,GAAI4b,GAASC,EAAO,CAChB,IAAIkwB,EAAY50C,EAAS40C,UAAUnwB,EAAOC,GAC1C7b,EAAMgG,OAAO+lC,EACjB,MACI/rC,EAAM2G,SAAU,CAG5B,IAEAziB,KAAK8c,IAAME,CACf,EAEAu5C,EAAa/1D,UAAUqnD,UAAY,SAAoBnwB,EAAOC,GAC1D,OAAO,IAAI9a,IAAI6a,EAAM9iB,GAAI+iB,EAAM7iB,GAAI4iB,EAAM3iB,GAAI4iB,EAAM3iB,GACvD,EAEAuhD,EAAa/1D,UAAUikD,mBAAqB,SAA6B/kD,GAOrE,IANA,IAGIglB,EADM1kB,KACO1F,QAAQoqB,OACrB4/B,EAFMtkD,KAEaskD,aAEdM,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAAY,CACzD,IAAIpC,EAAgB99B,EAAOkgC,GACDN,EAAaM,KAEnCN,EAAaM,GAAY,IAG7B,IAAK,IAAItN,EAAU,EAAGA,EAAUkL,EAAc52C,KAAK/R,OAAQy9C,IAAW,CAClE,IAAI9rB,EAdGxrB,KAccq3B,SAASggB,UAAUmL,EAAelL,GACnDh+C,EAAQkyB,EAAMyrB,YACd93C,EAASqsB,EAAMrsB,OAEnBO,EAASpG,EAAOuD,WAAW,CACvBy6C,QAASA,EACT5yB,OAAQ89B,EACRoC,SAAUA,EACVjgC,SAAU69B,EAAc52C,KAAK0rC,GAC7B4P,MAvBGlnD,MAwBJb,GACP,CACJ,CACJ,EAEAo3D,EAAa/1D,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACxE,IAAIp2B,EAAQwiB,EAAMxiB,MAClB,OAAO0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQp2B,EAAM2B,EAAG3B,EAAM4B,EAChE,EAEAq7D,EAAa/1D,UAAUotD,gBAAkB,WAGrC,IAFA,IAAI9vC,EAAS9d,KAAK8d,OACdliB,EAAS,GACJhC,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IACnCgC,EAAO0D,MAAMwe,EAAOlkB,IAAQ,CAAC,GAAG03B,QAEpC,OAAO11B,CACX,EAEO26D,CACX,CAnUmB,CAmUjB50C,cACF/d,kBAAkB2yD,aAAc,CAC5B7xC,OAAQ,GACR2vC,QAAS,CACL3kC,OAAQ,YAEZwE,OAAQ,CACJxE,OAAQ,YAEZ0a,MAAM,IAEVvtC,WAAW05D,aAAa/1D,UAAW+sD,oBAEnC,IAAIgK,OAAU,SAAUvO,GACpB,SAASuO,EAAOj+D,EAAOgB,GACnB0uD,EAAU7nD,KAAKnB,KAAM1G,EAAOgB,GAE5B0F,KAAKrL,SAAW2E,EAAM3E,QAC1B,CA2DA,OAzDKq0D,IAAYuO,EAAO9+D,UAAYuwD,GACpCuO,EAAO/2D,UAAYjI,OAAOuN,OAAQkjD,GAAaA,EAAUxoD,WACzD+2D,EAAO/2D,UAAUhE,YAAc+6D,EAE/BA,EAAO/2D,UAAUyjB,gBAAkB,WAC/B,IAAID,EAAYhkB,KAAK1F,QAAQ0pB,UACzBsB,EAAStB,EAAUsB,OACnB6jC,EAAUnpD,KAAK1F,QAAQ6uD,QACvBh0C,EAASnV,KAAK8c,IAAI3H,SAClBwH,GAAUwsC,EAAQ3jD,KAAO2jD,EAAQ7jC,OAAO9qB,MAAQ8qB,EAAO9qB,OAAS,EAChEg9D,EAAiB,IAAIxkE,QACrBm3D,EAAS,IAAI52D,SAAS,IAAIC,SAAS,CAAE2hB,EAAOla,EAAGka,EAAOja,EAAIyhB,EAAS,EAAI2I,EAAO9qB,MAAQ,GAAKmiB,EAAS2I,EAAO9qB,MAAQ,GAAI,CACvHD,OAAQ,CACJwO,MAAO,QAEXyb,KAAMxkB,KAAK2lB,eAAe,CACtB2E,SAAU,eACVvhB,MAAOogD,EAAQ/jC,WACf6D,MAAO,CAAE,CACL5uB,OAAQ,EACR0O,MAAOogD,EAAQ/jC,WACfhB,QAAS,IACV,CACC/pB,OAAQ,EACR0O,MAAOogD,EAAQ/jC,WACfhB,QAAS,QAIjBsB,EAAU,IAAInyB,SAAS,IAAIC,SAAS,CAAE2hB,EAAOla,EAAGka,EAAOja,GAAKyhB,GAAS,CACrEpiB,OAAQ,CACJwO,MAAOuc,EAAOvc,OACV,IAAIrW,MAAMy2D,EAAQ/jC,YAAYukC,WAAW1P,mBAAmB2P,QAChEpvD,MAAO8qB,EAAO9qB,MACd4pB,QAASkB,EAAOlB,SAEpBI,KAAMmC,kBAAkB3mB,KAAK1F,QAAQusB,QAAS,CAC1C9d,MAAOogD,EAAQ/jC,WACfhB,QAASJ,EAAUI,YAM3B,OAFAozC,EAAe70D,OAAOwnD,EAAQzkC,GAEvB8xC,CACX,EAEAD,EAAO/2D,UAAU+kB,qBAAuB,SAA+B9nB,GACnE,IAAI8mB,EAAmBvkB,KAAK1F,QAAQ0qB,cAAchB,UAC9CmlC,EAAUnpD,KAAK1F,QAAQ6uD,QACvBh0C,EAASnV,KAAK8c,IAAI3H,SAClBwH,GAAUwsC,EAAQ3jD,KAAO2jD,EAAQ7jC,OAAO9qB,OAAS,EAAI+pB,EAAiBe,OAAO9qB,MAAQ,EAGzF,OAFgB,IAAIjH,SAAS,IAAIC,SAAS,CAAE2hB,EAAOla,EAAGka,EAAOja,GAAKyhB,GAASlf,EAG/E,EAEO85D,CACX,CAjEa,CAiEXvO,WAEFuO,OAAO/2D,UAAU2hD,SAAWtlD,WAAW,CAAC,EAAG06D,OAAO/2D,UAAU2hD,SAAU,CAClEjuB,OAAQ,CACJpF,SAAUp5B,QAEdsuB,UAAW,CACPI,QAAS,EACTkB,OAAQ,CACJvc,MAAO,OACPvO,MAAO,EACP4pB,QAAS,MAKrBmzC,OAAO/2D,UAAU2hD,SAASn+B,UAAUd,YAAS1b,EAE7C,IAAIiwD,YAAe,SAAUlB,GACzB,SAASkB,IACLlB,EAAa50D,MAAM3B,KAAMjD,UAC7B,CAgIA,OA9HKw5D,IAAekB,EAAYh/D,UAAY89D,GAC5CkB,EAAYj3D,UAAYjI,OAAOuN,OAAQywD,GAAgBA,EAAa/1D,WACpEi3D,EAAYj3D,UAAUhE,YAAci7D,EAEpCA,EAAYj3D,UAAUg2D,YAAc,WAChCx2D,KAAK03D,SAAW5gE,UAChBy/D,EAAa/1D,UAAUg2D,YAAYr1D,KAAKnB,KAC5C,EAEAy3D,EAAYj3D,UAAUkkD,SAAW,SAAmBprD,EAAO6F,GACpC,OAAf7F,EAAMkM,OAAkBlM,EAAMkM,KAAO,GAAMlM,EAAMkM,KAAO,GAAKrG,EAAOulB,OAAOizC,eAAel1C,UAC1FziB,KAAK03D,SAAWt1D,KAAKC,IAAIrC,KAAK03D,SAAUt1D,KAAKkZ,IAAIhiB,EAAMkM,OACvD+wD,EAAa/1D,UAAUkkD,SAASvjD,KAAKnB,KAAM1G,EAAO6F,KAElDa,KAAK8d,OAAOxe,KAAK,MACjBU,KAAKskD,aAAanlD,EAAOylD,UAAUtlD,KAAK,MAEhD,EAEAm4D,EAAYj3D,UAAUshB,OAAS,SAAiBhF,GAC5C9c,KAAK43D,kBAAkB96C,GACvBy5C,EAAa/1D,UAAUshB,OAAO3gB,KAAKnB,KAAM8c,EAC7C,EAEA26C,EAAYj3D,UAAUqkD,UAAY,WAC9B,OAAO0S,MACX,EAEAE,EAAYj3D,UAAUymD,YAAc,SAAsB3tD,EAAO6F,GAC7D,IAAIulB,EAASvlB,EAAOulB,OAChBmzC,EAAcnzC,EAAO9Y,KAAK/R,OAC1BwnD,EAAQliD,EAAOm4C,SAAWwC,2BAA6B+d,GACvDC,EAAmB,CACnBzW,MAAOA,EACPjhB,SAAU0Z,2BAA6BuH,EACvCx9C,KAAMy3C,QAGNvyC,EAAQ5J,EAAO4J,OAAS2b,EAAO3b,MAC/BzP,EAAMkM,KAAO,GAAKkf,EAAOizC,eAAel1C,UACxC1Z,EAAQrF,eACJghB,EAAOizC,eAAe5uD,MAAOA,IAIrC,IAAI47C,EAAe9nD,WAAW,CAC1Bq3B,OAAQ,CACJlS,UAAW,CACPq/B,MAAOA,EACPjhB,SAAU0Z,2BAA6BuH,KAGhDrhD,KAAK2kD,aAAajgC,EAAQvlB,EAAOylD,UAAW,CAC3CuE,QAAS,CACLtlD,KAAMlO,OACN2vB,OAAQZ,EAAOY,OACflB,QAASM,EAAON,QAChBpC,UAAW81C,KAInBnT,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GACtDrD,WAAW4oB,EAAO3b,SAClBA,EAAQ47C,EAAa57C,OAGzB47C,EAAawE,QAAQ/jC,WAAarc,EAElC,IAAI+S,EAAQ,IAAIy7C,OAAOj+D,EAAOqrD,GAK9B,OAJA7oC,EAAM/S,MAAQA,EAEd/I,KAAK2C,OAAOmZ,GAELA,CACX,EAEA27C,EAAYj3D,UAAUo3D,kBAAoB,SAA4B96C,GAOlE,IANA,IAGI4H,EADM1kB,KACO1F,QAAQoqB,OACrBiU,EAAUv2B,KAAKmF,IAAIuV,EAAItiB,QAASsiB,EAAInR,UAE/Bi5C,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAY7C,IAXA,IAAIpC,EAAgB99B,EAAOkgC,GACvBN,EAROtkD,KAQiBskD,aAAaM,GAGrCmT,GAFUvV,EAAcwV,SAAW51D,KAAKC,IAAc,IAAVs2B,EAAgB,KAE3C,EACjBs/B,GAFUzV,EAAc/1B,SAAqB,GAAVkM,GAElB,EACjBu/B,EAAU91D,KAAKovC,GAAKumB,EAAOA,EAG3BI,GAFU/1D,KAAKovC,GAAKymB,EAAOA,EACLC,GAffl4D,KAgB0B03D,SAE5BpgB,EAAU,EAAGA,EAAUgN,EAAazqD,OAAQy9C,IAAW,CAC5D,IAAIx7B,EAAQwoC,EAAahN,GACzB,GAAIx7B,EAAO,CACP,IAAIs8C,EAAOh2D,KAAKkZ,IAAIQ,EAAMxiB,MAAMkM,MAAQ2yD,EACpCx7C,EAASva,KAAKiT,MAAM6iD,EAAUE,GAAQh2D,KAAKovC,IAE3CtuB,EADaxf,eAAeoY,EAAMxhB,QAAQ4oB,OAAQ,IAC3B,EAAIvG,EAASs7C,GAExCp7D,WAAWif,EAAMxhB,QAAS,CACtB4oB,OAAQA,EACRimC,QAAS,CACL3jD,KAAe,EAATmX,EACNuG,OAAQA,GAEZgR,OAAQ,CACJhR,OAAQA,EAAS,IAG7B,CACJ,CAER,EAEAu0C,EAAYj3D,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACvE,IAAIp2B,EAAQwiB,EAAMxiB,MAClB,OAAO0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQp2B,EAAM2B,EAAG3B,EAAM4B,EAAG5B,EAAMkM,KAAMsW,EAAMnnB,SACrF,EAEA8iE,EAAYj3D,UAAUqiB,gBAAkB,WAA6B,EACrE40C,EAAYj3D,UAAUkiB,aAAe,WAA0B,EAExD+0C,CACX,CApIkB,CAoIhBlB,cAEF3yD,kBAAkB6zD,YAAa,CAC3BpD,QAAS,CACL3kC,OAAQ,OAEZwE,OAAQ,CACJxE,OAAQ,SAIhB,IAAI2oC,OAAU,SAAUnwC,GACvB,SAASmwC,IACRnwC,EAAavmB,MAAM3B,KAAMjD,UAC1B,CAMA,OANMmrB,IAAemwC,EAAO5/D,UAAYyvB,GACxCmwC,EAAO73D,UAAYjI,OAAOuN,OAAQoiB,GAAgBA,EAAa1nB,WAC/D63D,EAAO73D,UAAUhE,YAAc67D,EAIxBA,CACR,CAVa,CAUXnwC,cAEFrrB,WAAWw7D,OAAO73D,UAAWooD,kBAE7B,IAAI0P,OAAU,SAAU32C,GACpB,SAAS22C,EAAOh/D,EAAOgB,GACnBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK8nD,UAAY9nD,KAAK1F,QAAQwtD,UAC9B9nD,KAAK+I,MAAQzO,EAAQyO,OAASjR,QAC9BkI,KAAK1G,MAAQA,CACjB,CA4KA,OA1KKqoB,IAAe22C,EAAO7/D,UAAYkpB,GACvC22C,EAAO93D,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC/D83D,EAAO93D,UAAUhE,YAAc87D,EAE/BA,EAAO93D,UAAUuwB,OAAS,WACtB,IAAIz2B,EAAU0F,KAAK1F,QAEd0F,KAAKopD,YACNppD,KAAKopD,WAAY,EAEbvmD,QAAQ7C,KAAK1G,MAAMmW,UACnBzP,KAAKyP,OAAS,IAAI4oD,OAAO,CACrBx0D,KAAMvJ,EAAQmV,OAAOmiC,MACrBxsB,WAAY9qB,EAAQmV,OAAO1G,OAAS/I,KAAK+I,MACzCqb,QAAS9pB,EAAQ8pB,QACjBlB,OAAQ5oB,EAAQ4oB,OAChBoC,OAAQhrB,EAAQmV,OAAO6V,OACvB8B,OAAQ3vB,IACRinB,MAAOrnB,QAGX2I,KAAKyP,OAAOnW,MAAQ0G,KAAK1G,MACzB0G,KAAKyP,OAAOkV,SAAW3kB,KAAK2kB,SAC5B3kB,KAAKyP,OAAOiV,OAAS1kB,KAAK0kB,OAE1B1kB,KAAK2C,OAAO3C,KAAKyP,SAGrBzP,KAAKyqC,cACLzqC,KAAK+oD,aAEb,EAEAuP,EAAO93D,UAAUiqC,YAAc,WAC3B,IACIvW,EADUl0B,KAAK1F,QACE45B,OAEjBA,EAAOzR,UACPziB,KAAKixB,MAAQjxB,KAAKspD,mBAAmBp1B,GACrCl0B,KAAK2C,OAAO3C,KAAKixB,OAEzB,EAEAqnC,EAAO93D,UAAU8oD,mBAAqB,SAA6BhvD,GAC/D,OAAO,IAAIq2D,SAAS3wD,KAAKupD,aAAajvD,GAClCA,EACA0F,KAAKmoB,YACb,EAEAmwC,EAAO93D,UAAU+oD,aAAe,SAAuBjvD,GACnD,IAAI29B,EAAgBx5B,cAAcnE,GAElC,OAAI29B,EACOA,EAAcj4B,KAAKmoB,aAGvBnoB,KAAKwpD,YAAYlvD,EAAQo1B,OACpC,EAEA4oC,EAAO93D,UAAUshB,OAAS,SAAiBhF,GACvC9c,KAAK+wB,SAEL,IAAIruB,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdmV,EAAS/M,EAAI+M,OACbwjB,EAAQvwB,EAAIwkD,MACZpC,EAAaxqD,EAAQwqD,WACrBljB,EAAY3O,EAAMsuB,gBAAgBvhD,KAAK1F,SACvCqtD,EAAe10B,EAAM00B,aAAa10B,EAAMixB,aAAc5pD,EAAQqtC,WAAY/F,GAC1E22B,EAAkB32B,EAAUhK,QAAQ53B,KAAK1G,MAAMmW,QAC/C+oD,EAAc1T,EAAayT,EAAkB5Q,EAC7C8Q,EAAc3T,EAAa6C,EAAe4Q,EAE9C,GAAI9oD,EAAQ,CACR,IAAIipD,EAAa,IAAI77C,IACjB27C,EAAY5jD,GAAI6jD,EAAY3jD,GAC5B0jD,EAAYzjD,GAAI0jD,EAAYzjD,IAEhCvF,EAAOnV,QAAQqR,OAASm5C,EAAa4T,EAAW/sD,SAAWrR,EAAQmV,OAAOtD,KAAK3R,MAC/EiV,EAAOnV,QAAQE,MAAQsqD,EAAaxqD,EAAQmV,OAAOtD,KAAK3R,MAAQk+D,EAAWl+D,QAC3EiV,EAAOqS,OAAO42C,EAClB,CAEA,IAAIznC,EAAQjxB,KAAKixB,MACbA,IACAA,EAAM32B,QAAQwtD,UAAY9nD,KAAK8nD,UAC/B72B,EAAMnP,OAAOhF,IAGb9c,KAAKi2B,MACLj2B,KAAKi2B,KAAKnU,OAAOhF,GAGrB9c,KAAK8c,IAAMA,CACf,EAEAw7C,EAAO93D,UAAUkiB,aAAe,WAC5Bf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK4nB,qCAEL,IAAIttB,EAAU0F,KAAK1F,QACfw5D,EAAO/gE,OAAOy0B,SAASxnB,KAAK8c,IAAI0B,SAAU,CAC1CgG,KAAMmC,kBAAkBrsB,EAAQusB,QAAS,CACrC9d,MAAO/I,KAAK+I,MACZqb,QAAS9pB,EAAQ8pB,UAErB7pB,OAAQ,OAGRD,EAAQgrB,OAAO9qB,MAAQ,GACvBs5D,EAAKx5D,QAAQqG,IAAI,SAAU,CACvBoI,MAAOzO,EAAQgrB,OAAOvc,OAAS/I,KAAK+I,MACpCvO,MAAOF,EAAQgrB,OAAO9qB,MACtBktB,SAAUptB,EAAQgrB,OAAOoC,SACzBtD,QAAS1gB,eAAepJ,EAAQgrB,OAAOlB,QAAS9pB,EAAQ8pB,WAIhEpkB,KAAK24D,WAAa7E,EAElB35D,iBAAiB25D,GACjB9zD,KAAK+iB,OAAOpgB,OAAOmxD,EACvB,EAEAwE,EAAO93D,UAAUqiB,gBAAkB,WAC3B7iB,KAAK24D,aACL34D,KAAKgiB,UAAY/uB,YAAY6S,OACzB9F,KAAK24D,WAAY34D,KAAK1F,QAAQ0nB,WAG1C,EAEAs2C,EAAO93D,UAAUyjB,gBAAkB,SAA0BxmB,GACzD,OAAO1K,OAAOy0B,SAASxnB,KAAK8c,IAAI0B,SAAU/gB,EAC9C,EAEA66D,EAAO93D,UAAU4pD,gBAAkB,WAC/B,OAAOpqD,KAAK24D,UAChB,EAEAL,EAAO93D,UAAUikB,oBAAsB,WACnC,MAAO,CACHgE,KAAMzoB,KAAK8c,IAAI0B,SACfuE,OAAQ/iB,KAAK24D,WACbr+D,QAAS0F,KAAK1F,QAEtB,EAEAg+D,EAAO93D,UAAUgpD,YAAc,SAAsB95B,GACjD,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEA4oC,EAAO93D,UAAU2nB,UAAY,WACzB,MAAO,CACHxD,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf2E,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OAErB,EAEA4zC,EAAO93D,UAAUoqD,YAAc,SAAsB9tC,GACjD,OAAO9c,KAAK8c,IAAImB,SAASnB,EAC7B,EAEAw7C,EAAO93D,UAAUwqD,SAAW,WACxB,OAAOhrD,KAAK2nC,UAChB,EAEO2wB,CACX,CApLa,CAoLX32C,cAEF22C,OAAO93D,UAAU+pD,cAAgB0G,IAAIzwD,UAAU+pD,cAC/C+N,OAAO93D,UAAU+kB,qBAAuB0rC,IAAIzwD,UAAU+kB,qBAEtD3hB,kBAAkB00D,OAAQ,CACtBhzC,OAAQ,CACJ9qB,MAAO,GAEXuwB,UAAU,EACV3G,QAAS,EACT3U,OAAQ,CACJmiC,MAAO,GACPtsB,OAAQ,CACJ9qB,MAAO,EACPuO,MAAO,SAEXoD,KAAM,CACF3R,MAAO,IAGf05B,OAAQ,CACJzR,SAAS,GAEb4xC,QAAS,CACL3kC,OAAQ,iCAEZqG,MAAO,CACH9E,MAAO,CAAC,GAEZjM,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,gCAI7BviD,WAAWy7D,OAAO93D,UAAWooD,kBAC7B/rD,WAAWy7D,OAAO93D,UAAWsoD,WAC7BjsD,WAAWy7D,OAAO93D,UAAWuwD,8BAE7B,IAAI6H,YAAe,SAAU3U,GACzB,SAAS2U,EAAYvhC,EAAU/8B,GAE3Bu+D,SAASv+D,GAET2pD,EAAiB9iD,KAAKnB,KAAMq3B,EAAU/8B,EAC1C,CA0GA,OAxGK2pD,IAAmB2U,EAAYngE,UAAYwrD,GAChD2U,EAAYp4D,UAAYjI,OAAOuN,OAAQm+C,GAAoBA,EAAiBzjD,WAC5Eo4D,EAAYp4D,UAAUhE,YAAco8D,EAEpCA,EAAYp4D,UAAUynD,iBAAmB,SAA2BR,GAIhE,IAHA,IAAI7lC,EAAW5hB,KAAK4hB,SAChBkxC,EAAiBlxC,EAAS/nB,OAErBY,EAAI,EAAGA,EAAIq4D,EAAgBr4D,IAChCmnB,EAASnnB,GAAGqnB,OAAO2lC,EAAchtD,GAEzC,EAEAm+D,EAAYp4D,UAAU6kD,UAAY,SAAoBvpC,GAClD,IAAI4I,EAAS5I,EAAM4I,OACfkd,EAAY5hC,KAAKuhD,gBAAgB78B,GACjC0X,EAAoBp8B,KAAK6lD,0BAA0BjkB,GAEvD,MAAO,CAAExF,EAAmBtgB,EAAMxiB,MAAMqe,SAAWykB,EACvD,EAEAw8B,EAAYp4D,UAAUymD,YAAc,SAAsBr7C,EAAMzM,GAC5D,IAAIwoC,EAAaxoC,EAAOwoC,WACpBjjB,EAASvlB,EAAOulB,OAEhBpqB,EADM0F,KACQ1F,QACdsnB,EAFM5hB,KAES4hB,SACftoB,EAAQsS,EAAKqrC,YAEb6hB,EAAgBj8D,WAAW,CAC3BkuB,UAAWzwB,EAAQwqD,WACnBp/B,QAAShB,EAAOgB,QAChBiiB,WAAYA,EACZmd,WAAYxqD,EAAQwqD,YACrBpgC,GAEC3b,EAAQ6C,EAAKzM,OAAO4J,OAAS2b,EAAO3b,MACxC+vD,EAAgB94D,KAAKonD,iBAAiB0R,EAAex/D,EAAO6F,GACxDrD,WAAW4oB,EAAO3b,SAClBA,EAAQ+vD,EAAc/vD,OAG1B,IAAIgwD,EAAS,IAAIT,OAAOh/D,EAAOw/D,GAC/BC,EAAOhwD,MAAQA,EAEf,IAAIupD,EAAU1wC,EAAS+lB,GAavB,OAZK2qB,IACDA,EAAU,IAAIX,cAAc,CACxB5mC,SAAUzwB,EAAQwqD,WAClB8M,IAAKt3D,EAAQs3D,IACb5zD,QAAS1D,EAAQ0D,QACjBk1B,KAAM54B,EAAQwqD,aAAe9kD,KAAKqiB,cAAgB,CAAC,GAAG6Q,MAE1DlzB,KAAK2C,OAAO2vD,IAGhBA,EAAQ3vD,OAAOo2D,GAERA,CACX,EAEAH,EAAYp4D,UAAUumD,YAAc,SAAsBztD,EAAO6F,GAC7D,IAAIwY,EAAUre,EAAMqe,QAChBlI,EAASnW,EAAMmW,OACfs2C,EAAW5mD,EAAOulB,OAAO/O,KACzB4xC,EAAYvnD,KAAKokD,gBAAgB2B,GAEjCljD,QAAQ8U,KAAavc,MAAMuc,IAAY9U,QAAQ4M,IAAWrU,MAAMqU,OAChE83C,EAAYvnD,KAAKokD,gBAAgB2B,GAC7BwB,GAAa,CAAEhgD,IAAK3Q,UAAWyL,IAAKvL,YAE9ByQ,IAAMnF,KAAKmF,IAAIggD,EAAUhgD,IAAKoQ,EAASlI,GACjD83C,EAAUllD,IAAMD,KAAKC,IAAIklD,EAAUllD,IAAKsV,EAASlI,GAEzD,EAEAmpD,EAAYp4D,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACvE,OAAO1vB,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQ5T,EAAMxiB,MAAMqe,QAASmE,EAAMxiB,MAAMmW,OAClF,EAEAmpD,EAAYp4D,UAAUk5C,WAAa,SAAqB9tC,GACpD,OAAOA,EAAKqrC,YAAYt/B,OAC5B,EAEAihD,EAAYp4D,UAAUsnD,UAAY,SAAoBhsC,GAGlD,OAFYA,EAAMxiB,MAAMqe,QAET,CACnB,EAEAihD,EAAYp4D,UAAUqiB,gBAAkB,WACpC,IAEI/E,EAAS9d,KAAK8d,OAElB9d,KAAK+yD,uBAEL,IAAK,IAAIn5D,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAAO,CAC1C,IAAIkiB,EAAQgC,EAAOlkB,GACnBkiB,EAAMxhB,QAAQ0nB,UARHhiB,KAQwB1F,QAAQ0nB,UAC3ClG,EAAM+G,iBACV,CACJ,EAEO+1C,CACX,CAjHkB,CAiHhB3U,kBAUF,SAAS4U,SAASv+D,GAGd,IAFA,IAAIoqB,EAASpqB,EAAQoqB,OAEZjqB,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CACpC,IAAIu+D,EAAat0C,EAAOjqB,GACpBmR,EAAOotD,EAAWptD,MAClBA,GAASvS,QAAQuS,EAAK,KAAQ5O,SAAS4O,EAAK,MAC5CotD,EAAWptD,KAAO,CAAEA,GAE5B,CACJ,CAlBAgtD,YAAYp4D,UAAUuyD,qBAAuBd,SAASzxD,UAAUuyD,qBAEhEnvD,kBAAkBg1D,YAAa,CAC3B52C,UAAW,CACPne,KAAMu3C,OAgBd,IAAI6d,YAAe,SAAUtmE,GACzB,SAASsmE,EAAY52C,EAAc/nB,GAC/B3H,EAAMwO,KAAKnB,MAEXA,KAAKqiB,aAAeA,EACpBriB,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,CA4DA,OA1DK3H,IAAQsmE,EAAYxgE,UAAY9F,GACrCsmE,EAAYz4D,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACtDy4D,EAAYz4D,UAAUhE,YAAcy8D,EAEpCA,EAAYz4D,UAAU04D,SAAW,SAAmB5+D,EAASwhB,GACzD,IAAIsJ,EAAa9qB,EAAQ8qB,WACrBE,EAAShrB,EAAQgrB,OAAOvc,MAE5B,GAAI+S,EAAO,CACP,IAAIq9C,EAAar9C,EAAM/S,OAAS+S,EAAMxhB,QAAQyO,MAC9Cqc,EAAa1hB,eAAe0hB,EAAY+zC,GACxC7zC,EAAS5hB,eAAe4hB,EAAQ6zC,EACpC,CAEA,IAAIx7C,EAAU7f,WAAWxD,EAAQqjB,SAAW,CAAC,EAAG,QAEhD,MAAO,CACHy7C,gBAAiBh0C,EACjBqsC,YAAansC,EACb9gB,KAAMlK,EAAQkK,KACduE,MAAOzO,EAAQyO,MACfqb,QAAS9pB,EAAQ8pB,QACjB8C,YAAajqB,WAAW3C,EAAQgrB,OAAO9qB,OACvC6+D,WAAYp8D,WAAW0gB,EAAQ1f,KAC/Bq7D,cAAer8D,WAAW0gB,EAAQxf,QAClCo7D,YAAat8D,WAAW0gB,EAAQvf,MAChCo7D,aAAcv8D,WAAW0gB,EAAQzf,OAEzC,EAEA+6D,EAAYz4D,UAAU2jB,KAAO,SAAe7pB,EAASm/D,EAAgB39C,GACjExhB,EAAQo1B,OAAS+pC,EAAe/pC,OAEhC,IAAIjyB,EAAQuC,KAAKk5D,SAASO,EAAgB39C,GAC1CxhB,EAAQmD,MAAQA,EAEhB,IAAI2nB,EAAa,IAAI1yB,MAAM+K,EAAM27D,iBAC5Bv2D,QAAQ42D,EAAe1wD,QAAWqc,EAAWpc,WAC9C1O,EAAQR,UAAY,2BAGxBkG,KAAKqiB,aAAahK,OAAO0mC,eAAgBzkD,GAEzC0F,KAAKyiB,SAAU,CACnB,EAEAw2C,EAAYz4D,UAAUwwB,KAAO,WACrBhxB,KAAKqiB,cACLriB,KAAKqiB,aAAahK,OAAO2mC,gBAG7Bh/C,KAAKyiB,SAAU,CACnB,EAEAw2C,EAAYz4D,UAAU0R,QAAU,kBACrBlS,KAAKqiB,YAChB,EAEO42C,CACX,CAnEkB,CAmEhBtmE,OAEFiR,kBAAkBq1D,YAAa,CAC3B3zC,OAAQ,CACJ9qB,MAAO,GAEX4pB,QAAS,IAGb,IAAIs1C,iBAAoB,SAAUT,GAC9B,SAASS,EAAiBr3C,EAAcs3C,EAAWr/D,GAC/C2+D,EAAY93D,KAAKnB,KAAMqiB,EAAc/nB,GAErC0F,KAAK25D,UAAYA,EACjB35D,KAAK45D,cAAgBv3C,EAAaqN,OAClC1vB,KAAK65D,cACT,CAwFA,OAtFKZ,IAAcS,EAAiBjhE,UAAYwgE,GAChDS,EAAiBl5D,UAAYjI,OAAOuN,OAAQmzD,GAAeA,EAAYz4D,WACvEk5D,EAAiBl5D,UAAUhE,YAAck9D,EAEzCA,EAAiBl5D,UAAUq5D,aAAe,WACtC,IAEInlE,EAFAihB,EAAO3V,KAAK25D,UAAUhkD,KAItBjhB,EAHWihB,EAAK0hB,SAEP6sB,aACFvuC,EAAK2tB,YAAc,eAAiB,YAEpC3tB,EAAKrb,QAAQywB,SAAW,QAAU,QAE7C/qB,KAAK+lD,SAAWrxD,CACpB,EAEAglE,EAAiBl5D,UAAUs5D,OAAS,SAAiBh+C,GACjD,IACInG,EADM3V,KACK25D,UAAUhkD,KACrBrb,EAFM0F,KAEQ1F,QACdhB,EAAQqc,EAAKrb,EAAQy/D,WAAa,cAAgB,YAAYj+C,GAC9Dk+C,EAAiB1gE,EAEjBgB,EAAQo1B,OACRsqC,EAAiBh6D,KAAK45D,cAAcxoC,KAAK92B,EAAQo1B,OAAQp2B,GAClDqc,EAAKrb,QAAQuJ,OAAS/N,OAC7BkkE,EAAiBh6D,KAAK45D,cAAcxoC,KAAKzb,EAAKrb,QAAQ45B,OAAOsW,YAAY70B,EAAKrb,QAAQ0lC,UAAW1mC,IAGrG0G,KAAKmkB,KAAK,CACNrI,MAAOA,EACPnhB,OAAQqF,KAAKi6D,YACbN,UAAW35D,KAAK25D,UAChBrgE,MAAO0gE,EACPjU,SAAU/lD,KAAK+lD,SACfsC,UAAWroD,KAAK25D,UAAUhkD,KAAK0yC,WAChCroD,KAAK1F,QACZ,EAEAo/D,EAAiBl5D,UAAUwwB,KAAO,WAC9BhxB,KAAKqiB,aAAahK,OAAO2mC,eAAgB,CACrC2a,UAAW35D,KAAK25D,UAChB5T,SAAU/lD,KAAK+lD,SACfsC,UAAWroD,KAAK25D,UAAUhkD,KAAK0yC,WAEvC,EAEAqR,EAAiBl5D,UAAUy5D,UAAY,WACnC,IAOIvP,EAAiBD,EAAe3uC,EANhC69C,EADM35D,KACU25D,UAChBO,EAFMl6D,KAEY1F,QAClBw0B,EAAWorC,EAAYprC,SACvBnR,EAAUu8C,EAAYv8C,QACtBoN,GAAY4uC,EAAUhkD,KAAKrb,QAAQywB,SACnC0K,EAAUkkC,EAAUxtD,KAAK4jB,OAuB7B,OApBIhF,GACA2/B,EAAkBh1D,OACdo5B,IAAar5B,UACbg1D,EAAgBhzD,IAChBqkB,EAAQ2Z,EAAQlF,aAAa11B,UAAU,EAAG8iB,KAE1C8sC,EAAgBh1D,SAChBqmB,EAAQ2Z,EAAQzI,UAAUnyB,UAAU,GAAI8iB,MAG5C8sC,EAAgB/0D,OACZo5B,IAAan4B,MACb+zD,EAAkBrzD,MAClBykB,EAAQ2Z,EAAQzI,UAAUnyB,WAAW8iB,EAAS,KAE9C+sC,EAAkB/zD,KAClBmlB,EAAQ2Z,EAAQnF,WAAWz1B,UAAU8iB,EAAS,KAI/C,CACH7B,MAAOA,EACP4C,MAAO,CACHisC,WAAYD,EACZ3/B,SAAU0/B,GAGtB,EAEOiP,CACX,CAhGuB,CAgGrBT,aAEFr1D,kBAAkB81D,iBAAkB,CAChC/7C,QAAS,KAGb,IAAIw8C,UAAa,SAAUx4C,GACvB,SAASw4C,EAAU93C,EAAc1M,EAAMrb,GACnCqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK2V,KAAOA,EACZ3V,KAAK+5D,WAAapkD,aAAgBmrB,aAElC,IAAI24B,EAAiBz5D,KAAK1F,QAAQ+5D,QAE9BoF,EAAeh3C,UACfziB,KAAKq0D,QAAU,IAAIqF,iBAAiBr3C,EAAcriB,KAC9CnD,WAAW,CAAC,EAAG48D,EAAgB,CAAEM,WAAY/5D,KAAK+5D,cAG9D,CA0GA,OAxGKp4C,IAAew4C,EAAU1hE,UAAYkpB,GAC1Cw4C,EAAU35D,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAClE25D,EAAU35D,UAAUhE,YAAc29D,EAElCA,EAAU35D,UAAUs5D,OAAS,SAAiBh+C,GAC1C9b,KAAK8b,MAAQA,EACb9b,KAAKo6D,WACLp6D,KAAKmM,KAAKsW,SAAQ,GAEdziB,KAAKq0D,SACLr0D,KAAKq0D,QAAQyF,OAAOh+C,EAE5B,EAEAq+C,EAAU35D,UAAUwwB,KAAO,WACvBhxB,KAAKmM,KAAKsW,SAAQ,GAEdziB,KAAKq0D,SACLr0D,KAAKq0D,QAAQrjC,MAErB,EAEAmpC,EAAU35D,UAAU45D,SAAW,WAC3B,IAOIpmC,EANAre,EADM3V,KACK2V,KACXmG,EAFM9b,KAEM8b,MACZiP,EAAWpV,EAAKrb,QAAQywB,SACxBjO,EAAM9c,KAAKq6D,SACXC,EAAMvvC,EAAW9yB,EAAID,EACrBw5B,EAAY,IAAI3+B,QAAQiqB,EAAIlI,GAAIkI,EAAIhI,IASxC,GALIkf,EADAjJ,EACU,IAAIl4B,QAAQiqB,EAAI/H,GAAI+H,EAAIhI,IAExB,IAAIjiB,QAAQiqB,EAAIlI,GAAIkI,EAAI9H,IAGlC8G,EACA,GAAI9b,KAAK+5D,WAAY,CACjB,IAAI5/B,EAAOxkB,EAAKiiB,QAAQjiB,EAAKytB,mBAAmBtnB,IAChD0V,EAAU8oC,GAAOtmC,EAAQsmC,GAAOngC,EAAKhlB,SAASmlD,EAClD,MACI9oC,EAAU8oC,GAAOtmC,EAAQsmC,GAAOx+C,EAAMw+C,GAI9Ct6D,KAAK8c,IAAMA,EAEX9c,KAAKmM,KAAKqc,OAAOgJ,GAAW9P,OAAOsS,EACvC,EAEAmmC,EAAU35D,UAAU65D,OAAS,WASzB,IARA,IAMIE,EANA5kD,EAAO3V,KAAK2V,KACZ8hB,EAAO9hB,EAAK6hB,KAAKC,KACjB59B,EAAS49B,EAAK59B,OACdkxB,EAAWpV,EAAKrb,QAAQywB,SACxBjO,EAAMnH,EAAK8f,UAAU94B,QACrB29D,EAAMvvC,EAAW/yB,EAAIC,EAGhBwC,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAI+/D,EAAc/iC,EAAKh9B,GACnB+/D,EAAYlgE,QAAQywB,WAAaA,IAC5BwvC,EAGDA,EAAYx9C,KAAKy9C,EAAY/kC,WAF7B8kC,EAAcC,EAAY/kC,UAAU94B,QAKhD,CAKA,OAHAmgB,EAAIw9C,EAAM,GAAKC,EAAYD,EAAM,GACjCx9C,EAAIw9C,EAAM,GAAKC,EAAYD,EAAM,GAE1Bx9C,CACX,EAEAq9C,EAAU35D,UAAUkiB,aAAe,WAC/Bf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzC,IAAI1F,EAAU0F,KAAK1F,QACnB0F,KAAKmM,KAAO,IAAIpZ,OAAO,CACnBwH,OAAQ,CACJwO,MAAOzO,EAAQyO,MACfvO,MAAOF,EAAQE,MACf4pB,QAAS9pB,EAAQ8pB,QACjBsD,SAAUptB,EAAQotB,UAEtBjF,SAAS,IAGbziB,KAAKo6D,WACLp6D,KAAK+iB,OAAOpgB,OAAO3C,KAAKmM,KAC5B,EAEAguD,EAAU35D,UAAU0R,QAAU,WACtBlS,KAAKq0D,SACLr0D,KAAKq0D,QAAQniD,UAGjByP,EAAanhB,UAAU0R,QAAQ/Q,KAAKnB,KACxC,EAEOm6D,CACX,CAzHgB,CAyHdx4C,cAEF/d,kBAAkBu2D,UAAW,CACzBpxD,MAAOvT,QACPgF,MAAO,EACP0oB,QAAS,EACTmxC,QAAS,CACL5xC,SAAS,KAIjB,IAAIg4C,eAAkB,SAAU94C,GAC5B,SAAS84C,EAAengE,EAASk9B,GAC7B7V,EAAaxgB,KAAKnB,KAAM1F,GACxB0F,KAAKw3B,KAAOA,CAChB,CAkFA,OAhFK7V,IAAe84C,EAAehiE,UAAYkpB,GAC/C84C,EAAej6D,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACvEi6D,EAAej6D,UAAUhE,YAAci+D,EAEvCA,EAAej6D,UAAUk6D,WAAa,WAIlC,IAHA,IAAI94C,EAAW5hB,KAAK4hB,SAChB/nB,EAAS+nB,EAAS/nB,OAEbY,EAAI,EAAGA,EAAIZ,EAAQY,IACxB,IAAiC,IAA7BmnB,EAASnnB,GAAGH,QAAQ8vC,KACpB,OAAO,EAGf,OAAO,CACX,EAEAqwB,EAAej6D,UAAUm6D,SAAW,WAChC,OAAO36D,KAAKw3B,KAAKojC,WACrB,EAEAH,EAAej6D,UAAUkiB,aAAe,WAKpC,GAJA1iB,KAAK+iB,OAAS,IAAI/vB,QAAQ,CACtBkwB,OAAQ,IAGRljB,KAAK06D,aAAc,CACnB,IACIG,GADU76D,KAAKwqD,QAAUxqD,KAAK26D,YACXn8C,SACnBkvC,EAAW36D,OAAOy0B,SAASqzC,GAC/B1gE,iBAAiBuzD,GAEjB1tD,KAAK+iB,OAAOqnB,KAAKsjB,GACjB1tD,KAAK86D,cACT,CACJ,EAEAL,EAAej6D,UAAU8iB,UAAY,WACjC,OAAOtjB,IACX,EAEAy6D,EAAej6D,UAAUs6D,aAAe,WAKpC,IAJA,IACIC,EADM/6D,KACO4hB,SACb4oC,EAFMxqD,KAEQwqD,QAET/vD,EAAI,EAAGA,EAAIsgE,EAAOlhE,OAAQY,IAI/B,IAHA,IAAIqjB,EAASi9C,EAAOtgE,GAAGqjB,QAAU,CAAC,EAC9BjkB,EAASikB,EAAOjkB,OAEX8S,EAAI,EAAGA,EAAI9S,EAAQ8S,IAAK,CAC7B,IAAImP,EAAQgC,EAAOnR,GACnB,GAAImP,IAA2B,IAAlBA,EAAM2G,SAAqB3G,EAAM8uC,aAAe9uC,EAAM8uC,YAAYJ,GAC3E,GAAI1uC,EAAM+uC,eACN/uC,EAAM+uC,qBACH,CACH,IAAI55B,EAAQnV,EAAMmV,MACdgF,EAAOna,EAAMma,KAEbhF,GAASA,EAAM32B,QAAQmoB,UACnBwO,EAAM4/B,gBACN5/B,EAAM4/B,eAAerG,GAEzBv5B,EAAM32B,QAAQ8oB,QAAS,GAGvB6S,GAAQA,EAAK37B,QAAQmoB,UACrBwT,EAAK37B,QAAQ8oB,QAAS,EAE9B,CAER,CAER,EAEAq3C,EAAej6D,UAAU0R,QAAU,WAC/ByP,EAAanhB,UAAU0R,QAAQ/Q,KAAKnB,aAE7BA,KAAKuI,MAChB,EAEOkyD,CACX,CAvFqB,CAuFnB94C,cAEF84C,eAAej6D,UAAUgjB,aAAc,EAEvC,IAAIw3C,OAAU,SAAUl0C,GACpB,SAASm0C,EAAK3gE,GACVwsB,EAAW3lB,KAAKnB,KAAM1F,GAEtB0F,KAAKvL,GAAKymE,SAEVl7D,KAAK40B,cAEL50B,KAAKtB,QAAU,IAAIijB,aAEnB3hB,KAAK+1C,eAAiB,IAAI0kB,eAAe,CAAC,EAAGz6D,MAC7CA,KAAK2C,OAAO3C,KAAKtB,SAEjBsB,KAAKy3B,KAAO,GACZz3B,KAAK+6D,OAAS,EAClB,CA8LA,OA5LKj0C,IAAam0C,EAAKxiE,UAAYquB,GACnCm0C,EAAKz6D,UAAYjI,OAAOuN,OAAQghB,GAAcA,EAAWtmB,WACzDy6D,EAAKz6D,UAAUhE,YAAcy+D,EAE7BA,EAAKz6D,UAAUo0B,YAAc,WACzB,IAAI1F,EAAelvB,KAAK1F,QAAQ20B,MAC5BjyB,SAASkyB,KACTA,EAAeryB,WAAW,CAAC,EAAGqyB,EAAc,CACxCxQ,MAAOwQ,EAAaJ,SACpBA,SAAUr3B,OAIlBuI,KAAKivB,MAAQN,QAAQI,WAAWG,EAAc+rC,EAAKz6D,UAAUlG,QAAQ20B,OACjEjvB,KAAKivB,OACLjvB,KAAK2C,OAAO3C,KAAKivB,MAEzB,EAEAgsC,EAAKz6D,UAAU26D,WAAa,SAAqBxlD,GAC7C3V,KAAKtB,QAAQiE,OAAOgT,GACpB3V,KAAKy3B,KAAKn4B,KAAKqW,GACfA,EAAK6hB,KAAOx3B,IAChB,EAEAi7D,EAAKz6D,UAAU46D,aAAe,SAAuBzlD,EAAM7J,GACvD9L,KAAKtB,QAAQiE,OAAOgT,GACpB3V,KAAKy3B,KAAK1kB,OAAOjH,EAAK,EAAG6J,GACzBA,EAAK6hB,KAAOx3B,IAChB,EAEAi7D,EAAKz6D,UAAU66D,YAAc,SAAsBpoC,GAC3CjzB,KAAK+1C,eAAextC,SAAWvI,KAAKtB,SACpCsB,KAAKtB,QAAQiE,OAAO3C,KAAK+1C,gBAG7B/1C,KAAK+6D,OAAOz7D,KAAK2zB,GACjBjzB,KAAK+1C,eAAepzC,OAAOswB,GAC3BA,EAAMuE,KAAOx3B,IACjB,EAEAi7D,EAAKz6D,UAAU86D,MAAQ,WACnB,IAEIjkC,EAAWr3B,KAAKuI,OAEpB,GAAI8uB,EAAU,CACV,IAAK,IAAI58B,EAAI,EAAGA,EAAIuF,KAAKy3B,KAAK59B,OAAQY,IAClC48B,EAASkkC,WANFv7D,KAMsBy3B,KAAKh9B,IAGtC,IAAK,IAAI8S,EAAM,EAAGA,EAAMvN,KAAK+6D,OAAOlhE,OAAQ0T,IACxC8pB,EAASmkC,YAVFx7D,KAUuB+6D,OAAOxtD,GAE7C,CAEAvN,KAAKy3B,KAAO,GACZz3B,KAAK+6D,OAAS,GAEd/6D,KAAKtB,QAAQwT,UACblS,KAAKtB,QAAQkjB,SAAW,GACxB5hB,KAAK+1C,eAAen0B,SAAW,EACnC,EAEAq5C,EAAKz6D,UAAUshB,OAAS,SAAiB9E,GAErC,IAAIte,EACA0E,KAAKpD,KAAK4hB,YAAc5hB,KAAKtB,UAC7BA,EAAUsB,KAAK4hB,SAASvH,OAG5ByM,EAAWtmB,UAAUshB,OAAO3gB,KAAKnB,KAAMgd,GAEnCte,GACAsB,KAAK4hB,SAAStiB,KAAKZ,GAGnBsB,KAAKivB,QACLjvB,KAAKsnB,WAAWxS,IAAM9U,KAAKivB,MAAMnS,IAAInR,SAE7C,EAEAsvD,EAAKz6D,UAAUinB,YAAc,WACzB,IAAIhqB,EAAQqpB,EAAWtmB,UAAUinB,YAAYtmB,KAAKnB,MAGlD,OAFAvC,EAAMylB,QAAU,GAETzlB,CACX,EAEAw9D,EAAKz6D,UAAUsiB,eAAiB,WACxB9iB,KAAK1F,QAAQmoB,SACbziB,KAAKk4B,iBAEb,EAEA+iC,EAAKz6D,UAAU8iB,UAAY,WACvB,OAAOtjB,IACX,EAEAi7D,EAAKz6D,UAAU6iB,SAAW,WACtB,OAAOrjB,IACX,EAEAi7D,EAAKz6D,UAAU03B,gBAAkB,WAQ7B,IAPA,IAAIT,EAAOz3B,KAAKy3B,KACZgkC,EAAUhkC,EAAKtvB,OAAOnI,KAAKuI,OAAOkvB,MAClCikC,EAAa,GACbC,EAAa,GAIRlhE,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAI7B,IAHA,IAAIkb,EAAO8hB,EAAKh9B,GACZswB,EAAWpV,EAAKrb,QAAQywB,SACxBqL,EAAYrL,EAAW2wC,EAAaC,EAC/BhvD,EAAI,EAAGA,EAAI8uD,EAAQ5hE,OAAQ8S,IAChC,GAAyB,IAArBypB,EAAUv8B,OAAc,CACxB,IAAI09B,EAAUkkC,EAAQ9uD,GAClBoe,IAAawM,EAAQj9B,QAAQywB,UAC7BpoB,OAAOyzB,EAAWzgB,EAAKuiB,gBAAgBX,GAE/C,CAGZ,EAEA0jC,EAAKz6D,UAAUo7D,QAAU,WACrB57D,KAAK+iB,OAAOlZ,QAEZ7J,KAAKtB,QAAQ6J,OAAS,KACtBvI,KAAKtB,QAAQinB,eAAiB3lB,KAAK2lB,eAAezd,KAAKlI,MACvDA,KAAKtB,QAAQ8jB,eACbxiB,KAAKtB,QAAQ6J,OAASvI,KAElBA,KAAKivB,OACLjvB,KAAK+iB,OAAOpgB,OAAO3C,KAAKivB,MAAMlM,QAGlC/iB,KAAK+iB,OAAOpgB,OAAO3C,KAAKtB,QAAQqkB,QAEhC/iB,KAAK8iB,iBACL9iB,KAAK67D,cACT,EAEAZ,EAAKz6D,UAAUo6D,UAAY,WAKvB,IAJA,IAAInjC,EAAOz3B,KAAKy3B,KACZ59B,EAAS49B,EAAK59B,OACd+gE,EAAY,IAAI/9C,IAEXjjB,EAAM,EAAGA,EAAMC,EAAQD,IAAO,CACnC,IAAI+b,EAAO8hB,EAAK79B,GACZkiE,EAAiBnmD,EAAKrb,QAAQywB,SAAW9yB,EAAID,EAC7Cy9B,EAAU9f,EAAK8f,UACnBmlC,EAAUkB,EAAiB,GAAKrmC,EAAQqmC,EAAiB,GACzDlB,EAAUkB,EAAiB,GAAKrmC,EAAQqmC,EAAiB,EAC7D,CAEA,GAAqB,IAAjBlB,EAAU7lD,GAIV,IAHA,IAAI0mD,EAAUz7D,KAAKuI,OAAOkvB,KACtBskC,EAAWN,EAAQ5hE,OAEdqgC,EAAQ,EAAGA,EAAQ6hC,EAAU7hC,IAAS,CAC3C,IAAI8hC,EAASP,EAAQvhC,GACrB,IAAK8hC,EAAO1hE,QAAQywB,SAAU,CAC1B,IAAIkxC,EAAYD,EAAOvmC,UACvBmlC,EAAUhmD,GAAKqnD,EAAUrnD,GACzBgmD,EAAU7lD,GAAKknD,EAAUlnD,EAC7B,CACJ,CAEJ,OAAO6lD,CACX,EAEAK,EAAKz6D,UAAUgqD,QAAU,WACrB,OAAOxqD,KAAK+1C,eAAeyU,OAC/B,EAEAyQ,EAAKz6D,UAAUq7D,aAAe,WAC1B,IAAI15C,EAAUniB,KAAKoiB,aACfD,GACAA,EAAQ9J,OAAO4mC,YAAa,CACxBznB,KAAM,IAAIqe,UAAU71C,MACpBvE,MAAOuE,KAAKk8D,UACZxnE,KAAMsL,KAAK1F,QAAQ5F,MAG/B,EAEOumE,CACX,CA9Ma,CA8MXn0C,YAEEq1C,GAAK,EAET,SAASjB,SACL,MAAO,OAASiB,IACpB,CAEAnB,OAAOx6D,UAAUgjB,aAAc,EAE/B5f,kBAAkBo3D,OAAQ,CACtB93C,QAAS,EACT8D,aAAa,EACbiI,MAAO,CACHvQ,MAAO/nB,MAEX8rB,SAAS,IAGb,IAAI25C,aAAgB,SAAUz6C,GAC1B,SAASy6C,EAAa13C,EAAQpqB,EAAS+nB,GACnCV,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKy0B,WAAW/P,EAAQpqB,GACxB0F,KAAK0kB,OAASA,EACd1kB,KAAKq8D,aACLr8D,KAAK+6D,OAAS,GACd/6D,KAAK1F,QAAQgiE,OAASt8D,KAAK1F,QAAQgiE,QAAU,CAAC,EAC9Ct8D,KAAK1F,QAAQgiE,OAAO1wD,KAAO,GAC3B5L,KAAKy3B,KAAO,GACZz3B,KAAKu8D,WAAa,GAClBv8D,KAAKqiB,aAAeA,EACpBriB,KAAKw8D,gBAAkBliE,EACvB0F,KAAKy8D,eAAiB/3C,EACtB1kB,KAAK08D,WAAa,IAAIluD,QAEtBxO,KAAK28D,cACL38D,KAAK+wB,SACL/wB,KAAK48D,kBACT,CAojCA,OAljCKj7C,IAAey6C,EAAa3jE,UAAYkpB,GAC7Cy6C,EAAa57D,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrE47D,EAAa57D,UAAUhE,YAAc4/D,EAErCA,EAAa57D,UAAUi0B,WAAa,WAAyB,EAE7D2nC,EAAa57D,UAAU67D,WAAa,WAGhC,IAFA,IAAI33C,EAAS1kB,KAAK0kB,OAETjqB,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAC/BiqB,EAAOjqB,GAAGgB,MAAQhB,CAE1B,EAEA2hE,EAAa57D,UAAU62C,UAAY,SAAoB3yB,EAAQ4yB,EAAS5vC,GACpE,IAAIm1D,EAAS78D,KAAK08D,WAAWj8D,IAAIikB,GAC5Bm4C,IACDA,EAAS,GACT78D,KAAK08D,WAAW/7D,IAAI+jB,EAAQm4C,IAGhC,IAAIjxD,EAAOixD,EAAOvlB,GAKlB,OAJK1rC,IACDA,EAAOixD,EAAOvlB,GAAWX,aAAah/B,QAAQ0/B,UAAU3yB,EAAQ4yB,EAAS5vC,IAGtEkE,CACX,EAEAwwD,EAAa57D,UAAUm8D,YAAc,WAejC,IAdA,IAEIztC,EAAelvB,KAAK1F,QAAQ20B,OAAS,CAAC,EACtC6tC,EAAe98D,KAAK1F,QAAQwiE,aAC5BC,EAAc/8D,KAAK1F,QAAQ0iE,OAAS,GACpCC,EAAc76D,KAAKC,IAAI06D,EAAYljE,OAAQ,GAC3CmjE,EAAQ,GAER7a,EAAWtlD,WAAW,CACtBoyB,MAAO,CACHlmB,MAAOmmB,EAAanmB,QAEzB+zD,GAEMriE,EAAI,EAAGA,EAAIwiE,EAAaxiE,IAAK,CAClC,IAAIH,EAAUuC,WAAW,CAAC,EAAGslD,EAAU4a,EAAYtiE,IAC/CY,WAAWf,EAAQ20B,SACnB30B,EAAQ20B,MAAQpyB,WAAW,CAAEixB,KAAMxzB,EAAQ20B,OAASkzB,EAASlzB,QAGjE,IAAIiuC,EAAc,IAAIlC,OAAO1gE,GAC7B4iE,EAAYhB,UAAYzhE,EAExBuiE,EAAM19D,KAAK49D,GAvBAl9D,KAwBF2C,OAAOu6D,EACpB,CAEAl9D,KAAKg9D,MAAQA,CACjB,EAEAZ,EAAa57D,UAAU28D,iBAAmB,SAA2BxnD,GACjE,OAAOA,EAAKrb,QAAQq/D,SACxB,EAEAyC,EAAa57D,UAAUo8D,iBAAmB,SAA2BI,GACjE,IAAI/pD,EAAWjT,UACA,IAAVg9D,IAAmBA,EAAQh9D,KAAKg9D,OAErC,IAAK,IAAIviE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAE9B,IADA,IAAI+8B,EAAOwlC,EAAMviE,GACRkS,EAAI,EAAGA,EAAI6qB,EAAKC,KAAK59B,OAAQ8S,IAAK,CACvC,IAAIgJ,EAAO6hB,EAAKC,KAAK9qB,GACjBrS,EAAU2Y,EAASkqD,iBAAiBxnD,GACxC,GAAIrb,GAAWA,EAAQmoB,QAAS,CAC5B,IAAI26C,EAAmB,IAAIjD,UAAUlnD,EAASoP,aAAc1M,EAAMrb,GAElE2Y,EAASspD,WAAWj9D,KAAK89D,GACzB5lC,EAAK94B,QAAQiE,OAAOy6D,EACxB,CACJ,CAER,EAEAhB,EAAa57D,UAAU68D,iBAAmB,SAA2B7lC,GAIjE,IAHA,IAAI+kC,EAAav8D,KAAKu8D,WAClB9kC,EAAOD,EAAKC,KAEPh9B,EAAI8hE,EAAW1iE,OAAS,EAAGY,GAAK,EAAGA,IACxC,IAAK,IAAIkS,EAAI,EAAGA,EAAI8qB,EAAK59B,OAAQ8S,IAC7B,GAAI4vD,EAAW9hE,GAAGkb,OAAS8hB,EAAK9qB,GAAI,CAChC4vD,EAAWxpD,OAAOtY,EAAG,GACrB,KACJ,CAGZ,EAEA2hE,EAAa57D,UAAU88D,eAAiB,WAEpC,IADA,IAAIf,EAAav8D,KAAKu8D,WACb3iE,EAAM,EAAGA,EAAM2iE,EAAW1iE,OAAQD,IACvC2iE,EAAW3iE,GAAKo3B,MAExB,EAEAorC,EAAa57D,UAAU+8D,SAAW,SAAmB7oE,GAIjD,IAHA,IACI8oE,EADAR,EAAQh9D,KAAKg9D,MAGRviE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAC9B,GAAIuiE,EAAMviE,GAAGH,QAAQ5F,OAASA,EAAM,CAChC8oE,EAAeR,EAAMviE,GACrB,KACJ,CAGJ,OAAO+iE,GAAgBR,EAAM,EACjC,EAEAZ,EAAa57D,UAAUi9D,cAAgB,SAAwB3hD,GAI3D,IAHA,IACI0hD,EADAR,EAAQh9D,KAAKg9D,MAGRviE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAC9B,GAAIuiE,EAAMviE,GAAGqiB,IAAIe,cAAc/B,GAAQ,CACnC0hD,EAAeR,EAAMviE,GACrB,KACJ,CAGJ,OAAO+iE,CACX,EAEApB,EAAa57D,UAAU26D,WAAa,SAAqBxlD,GAC1C3V,KAAKu9D,SAAS5nD,EAAKrb,QAAQk9B,MAEjC2jC,WAAWxlD,GAChB3V,KAAKy3B,KAAKn4B,KAAKqW,GACfA,EAAK0hB,SAAWr3B,IACpB,EAEAo8D,EAAa57D,UAAU+6D,WAAa,SAAqBmC,GAKrD,IAJA,IAEIC,EAAe,GAEVljE,EAAI,EAAGA,EAAIuF,KAAKy3B,KAAK59B,OAAQY,IAAK,CACvC,IAAIkb,EALO3V,KAKSy3B,KAAKh9B,GACrBijE,IAAiB/nD,EACjBgoD,EAAar+D,KAAKqW,GAElBA,EAAKzD,SAEb,CAEAlS,KAAKy3B,KAAOkmC,CAChB,EAEAvB,EAAa57D,UAAU66D,YAAc,SAAsBpoC,EAAOuE,GAC9Dx3B,KAAK+6D,OAAOz7D,KAAK2zB,GACbuE,EACAA,EAAK6jC,YAAYpoC,GAEjBjzB,KAAK2C,OAAOswB,EAEpB,EAEAmpC,EAAa57D,UAAUg7D,YAAc,SAAsBoC,GAKvD,IAJA,IAEIC,EAAiB,GAEZpjE,EAAI,EAAGA,EAAIuF,KAAK+6D,OAAOlhE,OAAQY,IAAK,CACzC,IAAIw4B,EALOjzB,KAKU+6D,OAAOtgE,GACxBw4B,IAAU2qC,EACVC,EAAev+D,KAAK2zB,GAEpBA,EAAM/gB,SAEd,CAEAlS,KAAK+6D,OAAS8C,CAClB,EAEAzB,EAAa57D,UAAUs9D,YAAc,SAAsBp5C,GAQvD,IAPA,IAAIhpB,EAAQgpB,EAAO7qB,OACfyiE,EAASt8D,KAAK1F,QAAQgiE,OACtBpoC,EAASooC,EAAOpoC,QAAU,CAAC,EAC3B6pC,EAAgBzB,EAAOyB,eAAiB,CAAC,EACzCC,EAAsBD,EAAc7pC,QAAU,CAAC,EAC/CtoB,EAAO,GAEFnR,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAI+nD,EAAgB99B,EAAOjqB,GACvBwjE,GAA0C,IAA1Bzb,EAAc//B,QAClC,IAAsC,IAAlC+/B,EAAc0b,gBAAlB,CAIA,IAAIpwC,EAAO00B,EAAc9tD,KACrBujC,EAAgBgmC,EAAgBx/D,cAAcy1B,GAAUz1B,cAAcu/D,IAAwBv/D,cAAcy1B,GAC5G+D,IACAnK,EAAOmK,EAAc,CACjBnK,KAAM80B,WAAW90B,GAAQA,EAAO,GAChCpJ,OAAQ89B,KAIhB,IAAIL,EAAWK,EAAc6E,UACzBt+C,EAAQy5C,EAAcz5C,MACtBjN,WAAWiN,IAAUo5C,IACrBp5C,EAAQo5C,EAASp5C,OAGrB,IAAIo1D,OAAmB,EAAUC,OAAc,EAC3CH,GACAE,EAAmB,CAAC,EACpBC,EAAcr1D,IAEdo1D,EAAmB,CACfp1D,MAAOi1D,EAAoBj1D,MAC3BvE,KAAMw5D,EAAoBx5D,MAE9B45D,EAAcL,EAAc5U,QAAQpgD,OAGpC65C,WAAW90B,IAAkB,KAATA,GACpBliB,EAAKtM,KAAK,CACNwuB,KAAMA,EACNoG,OAAQiqC,EACRC,YAAaA,EACb15C,OAAQ89B,EACR6b,OAAQJ,GAnChB,CAsCJ,CAEAt7D,OAAO25D,EAAO1wD,KAAMA,EACxB,EAEAwwD,EAAa57D,UAAU89D,UAAY,SAAoBtB,GAInD,IAHA,IAAIuB,EAAQ,GACRC,EAAQ,GAEHC,EAAS,EAAGA,EAASzB,EAAMnjE,OAAQ4kE,IAExC,IADA,IAAIC,EAAW1B,EAAMyB,GAAQhnC,KACpBknC,EAAS,EAAGA,EAASD,EAAS7kE,OAAQ8kE,IAAU,CACrD,IAAIhpD,EAAO+oD,EAASC,GAChBhpD,EAAKrb,QAAQywB,SACbyzC,EAAMl/D,KAAKqW,GAEX4oD,EAAMj/D,KAAKqW,EAEnB,CAGJ,MAAO,CAAE1a,EAAGsjE,EAAOrjE,EAAGsjE,EAAOI,IAAKL,EAAMp2D,OAAOq2D,GACnD,EAEApC,EAAa57D,UAAUq+D,kBAAoB,WAMvC,IALA,IAEIn6C,EAAS1kB,KAAK0kB,OACdo6C,EAAe,CAAC,EAEXrkE,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CACpC,IAAI+nD,EAAgB99B,EAAOjqB,GACvB+8B,EAPOx3B,KAOS++D,eAAevc,GAE/Bsc,EAAatnC,GACbsnC,EAAatnC,GAAMl4B,KAAKkjD,GAExBsc,EAAatnC,GAAQ,CAAEgrB,EAE/B,CAEA,OAAOsc,CACX,EAEA1C,EAAa57D,UAAUw+D,oBAAsB,SAA8Bt6C,GAGvE,IAFA,IAAI9oB,EAAS,GAEJnB,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CACpC,IAAI+nD,EAAgB99B,EAAOjqB,IACG,IAA1B+nD,EAAc//B,SACd7mB,EAAO0D,KAAKkjD,EAEpB,CAEA,OAAO5mD,CACX,EAEAwgE,EAAa57D,UAAUshB,OAAS,SAAiB9E,GAC7C,IAAI1iB,EAAU0F,KAAK1F,QAAQ+8B,SACvB2lC,EAAQh9D,KAAKg9D,MACbj2C,EAASjpB,WAAWxD,EAAQysB,QAEhC/mB,KAAK8c,IAAME,EAAUrgB,QAAQihB,MAAMmJ,GACnC/mB,KAAKi/D,cAELj/D,KAAKk/D,eACLl/D,KAAKm/D,WAAWnC,GAChBh9D,KAAKo/D,aAAapC,EACtB,EAEAZ,EAAa57D,UAAU6+D,OAAS,SAAiBrC,GAC7C,IAEIsC,EAAa,GAAGn3D,OAAO60D,GAC3Bh9D,KAAKq8D,aAGL,IAAI7O,EAAOxtD,KAAKiiB,UACZurC,GACAA,EAAKhjC,iBAGT,IAAK,IAAI/vB,EAAI,EAAGA,EAAI6kE,EAAWzlE,OAAQY,IAXxBuF,KAYFq9D,iBAAiBiC,EAAW7kE,IACrC6kE,EAAW7kE,GAAG6gE,QAGlBt7D,KAAK08D,WAAa,IAAIluD,QAEtBxO,KAAK+wB,OAAOuuC,GACZt/D,KAAKk/D,eACLl/D,KAAKm/D,WAAWn/D,KAAKg9D,OACrBh9D,KAAKo/D,aAAaE,GAElBt/D,KAAK48D,iBAAiB0C,GAEtB,IAAK,IAAI/xD,EAAM,EAAGA,EAAM+xD,EAAWzlE,OAAQ0T,IACvC+xD,EAAW/xD,GAAKquD,SAExB,EAEAQ,EAAa57D,UAAUysC,mBAAqB,SAA6Bt3B,EAAM4pD,GAQ3E,IAPA,IAAIjlE,EAAUqb,EAAKrb,QACfklE,EAAiB,GAAGr3D,OACpB7N,EAAQ2yC,oBAAsB3yC,EAAQ8hC,mBAEtCqjC,EAAcF,EAAa1lE,OAAS2lE,EAAe3lE,OACnD6lE,EAAeF,EAAe,IAAM,EAE/B/kE,EAAI,EAAGA,EAAIglE,EAAahlE,IAC7B+kE,EAAelgE,KAAKogE,GAGxB,OAAOF,CACX,EAEApD,EAAa57D,UAAUm/D,YAAc,SAAsBhqD,EAAMiqD,EAAY7Q,EAAe8Q,GACxF,IAAI1lC,EAAOxkB,EAAKiiB,QAAQm3B,EAAeA,GAAe,GAClD+Q,EAAWnqD,EAAKrb,QAAQi1B,QAAU,EAAI,EACtCmpC,EAAakH,EAAWhoC,QAAQioC,EAAqBA,GAAqB,GAC1EE,EAAaH,EAAWtlE,QAAQi1B,QAAU,EAAI,EAC9CywC,EAAUrqD,EAAKmH,IAAIjiB,UACnB69D,EAAW1gE,EAAI+nE,GAAc5lC,EAAKniC,EAAI8nE,GACtCpH,EAAWzgE,EAAI8nE,GAAc5lC,EAAKliC,EAAI6nE,IAGtCnqD,EAAK6hB,OAASooC,EAAWpoC,MACzBwoC,EAAQnlE,UAAU,EAAG8a,EAAK6hB,KAAK1a,IAAIhI,GAAK8qD,EAAWpoC,KAAK1a,IAAIhI,IAGhEa,EAAKmM,OAAOk+C,EAChB,EAEA5D,EAAa57D,UAAUy/D,UAAY,SAAoB1B,EAAOC,GAY1D,IAXA,IAAIvrD,EAAWjT,KAEXkgE,EAAU3B,EAAM,GAChB4B,EAAU3B,EAAM,GAChB4B,EAAmBpgE,KAAKitC,mBAAmBizB,EAAS1B,GACpD6B,EAAmBrgE,KAAKitC,mBAAmBkzB,EAAS5B,GACpD+B,EAAc,CAAC,EACfC,EAAe,CAAC,EAChBC,EAAa,CAAC,EACdC,EAAgB,CAAC,EAEZhmE,EAAI,EAAGA,EAAI+jE,EAAM3kE,OAAQY,IAAK,CACnC,IAAIkb,EAAO6oD,EAAM/jE,GACb+8B,EAAO7hB,EAAK6hB,KACZkpC,EAASlpC,EAAK/iC,GACdguB,GAAmC,IAAzB9M,EAAKrb,QAAQmoB,QAGvB9nB,EAASgmE,WAAWpC,EAAO/mC,IAAS0oC,EACpCU,EAAkBR,EAQtB,GANIzlE,IAAWulE,IACXU,EAAkB3tD,EAASg6B,mBAAmBtyC,EAAQ6jE,IAG1DvrD,EAAS0sD,YAAYhqD,EAAMhb,EAAQ0lE,EAAiB5lE,GAAImmE,EAAgBnmE,KAEpEkb,EAAKrb,QAAQumE,SAAjB,CAIIr9D,QAAQmS,EAAK8f,UAAU7gB,MAAQpR,QAAQ7I,EAAO86B,UAAU7gB,MAEpD0rD,EAAYI,IACZ/qD,EAAKmM,OAAOnM,EAAKmH,IACZM,QAAQkjD,EAAYI,GAAQ5jD,IAAKnmB,MACjCkE,WAAW8a,EAAKrb,QAAQysB,OAAQ,IAIrCtE,IACA69C,EAAYI,GAAU/qD,IAI1BnS,QAAQmS,EAAK8f,UAAU1gB,MAAQvR,QAAQ7I,EAAO86B,UAAU1gB,MAEnDY,EAAKmrD,YACNnrD,EAAKrb,QAAQ45B,OAAOwB,QAAU/f,EAAKrb,QAAQ45B,OAAOwB,OAClD/f,EAAKmrD,WAAY,GAGrB7tD,EAAS0sD,YAAYhqD,EAAMhb,EAAQ0lE,EAAiB5lE,GAAImmE,EAAgBnmE,IAGpE8lE,EAAaG,IACb/qD,EAAKmM,OAAOnM,EAAKmH,IACZM,QAAQmjD,EAAaG,GAAQ5jD,IAAKzlB,OAClCwD,UAAU8a,EAAKrb,QAAQysB,OAAQ,IAIpCtE,IACA89C,EAAaG,GAAU/qD,IAK/B,IAAIorD,EAAcJ,WAAWnC,EAAOhnC,IAAS2oC,EACzCY,IAAgBprD,IAChBA,EAAKyH,QAAQ2jD,GACbprD,EAAKmM,OAAOnM,EAAKmH,KA1CrB,CA4CJ,CAEA,IAAK,IAAIvP,EAAM,EAAGA,EAAMgxD,EAAM1kE,OAAQ0T,IAAO,CACzC,IAAIyuD,EAASuC,EAAMhxD,GACfyzD,EAAShF,EAAOxkC,KAChBypC,EAAWD,EAAOvsE,GAClBysE,GAAuC,IAA3BlF,EAAO1hE,QAAQmoB,QAG3B0+C,EAAWR,WAAWnC,EAAOwC,IAAWb,EACxCiB,EAAoBf,EACpBc,IAAahB,IACbiB,EAAoBnuD,EAASg6B,mBAAmBk0B,EAAU5C,IAG9DtrD,EAAS0sD,YAAY3D,EAAQmF,EAAUf,EAAiB7yD,GAAM6zD,EAAkB7zD,IAE5EyuD,EAAO1hE,QAAQumE,WAIfr9D,QAAQw4D,EAAOvmC,UAAU3gB,MAAQtR,QAAQ29D,EAAS1rC,UAAU3gB,MAEvDknD,EAAO8E,YACR9E,EAAO1hE,QAAQ45B,OAAOwB,QAAUsmC,EAAO1hE,QAAQ45B,OAAOwB,OACtDsmC,EAAO8E,WAAY,GAEvB7tD,EAAS0sD,YAAY3D,EAAQmF,EAAUf,EAAiB7yD,GAAM6zD,EAAkB7zD,IAG5EizD,EAAWS,IACXjF,EAAOl6C,OAAOk6C,EAAOl/C,IAChBM,QAAQojD,EAAWS,GAAUnkD,IAAKrlB,KAClCoD,UAAU,GAAImhE,EAAO1hE,QAAQysB,SAIlCm6C,IACAV,EAAWS,GAAYjF,IAI3Bx4D,QAAQw4D,EAAOvmC,UAAUzgB,GAAIpf,mBAAqB4N,QAAQ29D,EAAS1rC,UAAUzgB,GAAIpf,mBAE7E6qE,EAAcQ,IACdjF,EAAOl6C,OAAOk6C,EAAOl/C,IAChBM,QAAQqjD,EAAcQ,GAAUnkD,IAAKrnB,UACrCoF,UAAU,EAAGmhE,EAAO1hE,QAAQysB,SAIjCm6C,IACAT,EAAcQ,GAAYjF,IAItB,IAARzuD,IACAyuD,EAAO5+C,QAAQ8iD,GACflE,EAAOl6C,OAAOk6C,EAAOl/C,MAE7B,CACJ,EAEAs/C,EAAa57D,UAAU6gE,gBAAkB,SAA0BrE,GAK/D,IAJA,IAAIvlC,EAAOz3B,KAAKs+D,UAAUtB,GAAO4B,IAC7BoB,EAAUsB,aAAa7pC,GACvB8pC,EAAY,EAEP9mE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAIyiE,EAAcF,EAAMviE,GAEpByiE,EAAYzlC,KAAK59B,OAAS,IAC1B0nE,EAAYn/D,KAAKC,IACbk/D,EACAvB,EAAQxlE,QAAU0iE,EAAY51C,WAAW9sB,SAGrD,CAEA,GAAkB,IAAd+mE,EACA,IAAK,IAAIh0D,EAAM,EAAGA,EAAMkqB,EAAK59B,OAAQ0T,IAAO,CACxC,IAAIitD,EAAc/iC,EAAKlqB,GAElBitD,EAAYlgE,QAAQywB,UACrByvC,EAAY14C,OAAO04C,EAAY19C,IAAIQ,OAAOikD,EAAW,GAE7D,CAER,EAEAnF,EAAa57D,UAAUghE,iBAAmB,SAA2BxE,GAGjE,IAFA,IAAIyE,EAEKhnE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAIyiE,EAAcF,EAAMviE,GACpBg9B,EAAOylC,EAAYzlC,KACnBiqC,EAAYt/D,KAAKC,IAAI,EAAGi/D,aAAa7pC,GAAM9rB,SAAWuxD,EAAY51C,WAAW3b,UAEjF,GAAkB,IAAd+1D,EAAiB,CACjB,IAAK,IAAI/0D,EAAI,EAAGA,EAAI8qB,EAAK59B,OAAQ8S,IAAK,CAClC,IAAI6tD,EAAc/iC,EAAK9qB,GAEnB6tD,EAAYlgE,QAAQywB,UACpByvC,EAAY14C,OACR04C,EAAY19C,IAAIQ,OAAO,EAAGokD,GAGtC,CACAD,GAAW,CACf,CACJ,CAEA,OAAOA,CACX,EAEArF,EAAa57D,UAAUmhE,QAAU,SAAkB3E,GAI/C,IAHA,IAAIvlC,EAAOz3B,KAAKs+D,UAAUtB,GAAO4B,IAC7BgD,EAAU,EAELnnE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAIyiE,EAAcF,EAAMviE,GACpBikE,EAAWxB,EAAYzlC,KACvBoqC,EAAU3E,EAAY51C,WAE1B,GAAIo3C,EAAS7kE,OAAS,EAAG,CACrB,IAAImmE,EAAUsB,aAAa5C,GAEvBoD,EAAU1/D,KAAKC,IAAIw/D,EAAQ/sD,GAAKkrD,EAAQlrD,GAAI+sD,EAAQ7sD,GAAKgrD,EAAQhrD,IAGrE4sD,EAAUx/D,KAAKC,IAAIu/D,EAASC,EAAQjtD,GAAKorD,EAAQprD,IAGjD,IAAK,IAAIjI,EAAI,EAAGA,EAAI+xD,EAAS7kE,OAAQ8S,IAAK,CACtC,IAAI6tD,EAAckE,EAAS/xD,GAE3B6tD,EAAY14C,OACR04C,EAAY19C,IAAIjiB,UAAU,EAAGinE,GAErC,CACJ,CACJ,CAEA,IAAK,IAAIv0D,EAAM,EAAGA,EAAMkqB,EAAK59B,OAAQ0T,IAAO,CACxC,IAAIw0D,EAAgBtqC,EAAKlqB,GAEzBw0D,EAAcjgD,OACVigD,EAAcjlD,IAAIjiB,UAAU+mE,EAAS,GAE7C,CACJ,EAEAxF,EAAa57D,UAAU2+D,WAAa,SAAqBnC,GAKrD,IAJA,IAEIvlC,EAAOz3B,KAAKs+D,UAAUtB,GAEjBviE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAJnBuF,KAKFgiE,eAAehF,EAAMviE,IAG9Bg9B,EAAKx8B,EAAEpB,OAAS,GAAK49B,EAAKv8B,EAAErB,OAAS,IACrCmG,KAAKigE,UAAUxoC,EAAKx8B,EAAGw8B,EAAKv8B,GAC5B8E,KAAKqhE,gBAAgBrE,GAErBh9D,KAAKiiE,qBAAqBxqC,GAE1Bz3B,KAAKigE,UAAUxoC,EAAKx8B,EAAGw8B,EAAKv8B,GACxB8E,KAAKqhE,gBAAgBrE,IACrBh9D,KAAKigE,UAAUxoC,EAAKx8B,EAAGw8B,EAAKv8B,GAGhC8E,KAAKwhE,iBAAiBxE,GACtBh9D,KAAKigE,UAAUxoC,EAAKx8B,EAAGw8B,EAAKv8B,GAExB8E,KAAKwhE,iBAAiBxE,IACtBh9D,KAAKigE,UAAUxoC,EAAKx8B,EAAGw8B,EAAKv8B,GAGhC8E,KAAK2hE,QAAQ3E,GAErB,EAEAZ,EAAa57D,UAAUyhE,qBAAuB,SAA+BC,GAQzE,IAPA,IAKIC,EAFAnF,EADMh9D,KACMg9D,MACZvlC,EAAO2qC,YAAYpF,GAGdpjE,EAAM,EAAGA,EAAM69B,EAAK59B,OAAQD,IAAO,CAC7B69B,EAAK79B,GACPw7B,qBACL+sC,GAAU,EAElB,CAEA,GAAIA,EAAS,CACT,IAAK,IAAIjoC,EAAQ,EAAGA,EAAQ8iC,EAAMnjE,OAAQqgC,IAf/Bl6B,KAgBEgiE,eAAehF,EAAM9iC,IAG9BgoC,EAAYjnE,EAAEpB,OAAS,GAAKqoE,EAAYhnE,EAAErB,OAAS,IACnDmG,KAAKigE,UAAUiC,EAAYjnE,EAAGinE,EAAYhnE,GAC1C8E,KAAKqhE,gBAAgBrE,GAE7B,CACJ,EAEAZ,EAAa57D,UAAUwhE,eAAiB,SAAyBxqC,GAC7D,IAAIC,EAAOD,EAAKC,KACZ59B,EAAS49B,EAAK59B,OAElB,GAAIA,EAAS,EACT,IAAK,IAAIY,EAAI,EAAGA,EAAIZ,EAAQY,IACxBg9B,EAAKh9B,GAAGqnB,OAAO0V,EAAKlQ,WAGhC,EAEA80C,EAAa57D,UAAU4+D,aAAe,SAAuBpC,GAKzD,IAJA,IAAIjC,EAAS/6D,KAAK+6D,OACdr/D,EAAQq/D,EAAOlhE,OACfijB,EAAM9c,KAAK8c,IAENriB,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAI4nE,EAAYtH,EAAOtgE,GAAG+8B,KACrB6qC,IAAaliE,QAAQkiE,EAAWrF,IACjCjC,EAAOtgE,GAAGqnB,OAAOhF,EAEzB,CACJ,EAEAs/C,EAAa57D,UAAUy+D,YAAc,WASjC,IARA,IACIniD,EADM9c,KACI8c,IACVkgD,EAFMh9D,KAEMg9D,MACZC,EAAcD,EAAMnjE,OACpByoE,EAAkBxlD,EAAInR,SACtB42D,EAAkB,EAClBtkE,EAAM6e,EAAIhI,GAELra,EAAI,EAAGA,EAAIwiE,EAAaxiE,IAAK,CAClC,IAAIyiE,EAAcF,EAAMviE,GACpBkR,EAASuxD,EAAY5iE,QAAQqR,OAIjC,GAFAuxD,EAAY5iE,QAAQE,MAAQsiB,EAAItiB,QAE3B0iE,EAAY5iE,QAAQqR,OAElB,CACH,GAAIA,EAAO5R,SAAW4R,EAAO5R,QAAQ,KAAM,CACvC,IAAIyoE,EAAWx4C,SAASre,EAAQ,IAAM,IACtCuxD,EAAY5iE,QAAQqR,OAAS62D,EAAW1lD,EAAInR,QAChD,CAEAuxD,EAAYp7C,OAAOhF,EAAIngB,SAEvB2lE,GAAmBpF,EAAY5iE,QAAQqR,MAC3C,MAVI42D,GAWR,CAEA,IAAK,IAAIh1D,EAAM,EAAGA,EAAM0vD,EAAa1vD,IAAO,CACxC,IAAIk1D,EAAgBzF,EAAMzvD,GAErBk1D,EAAcnoE,QAAQqR,SACvB82D,EAAcnoE,QAAQqR,OAAS22D,EAAkBC,EAEzD,CAEA,IAAK,IAAI70D,EAAM,EAAGA,EAAMuvD,EAAavvD,IAAO,CACxC,IAAIg1D,EAAgB1F,EAAMtvD,GACtBm0D,EAAU/kD,EACTngB,QACAoR,KAAK+O,EAAIlI,GAAI3W,GAElBykE,EAAc5gD,OAAO+/C,GAErB5jE,GAAOykE,EAAcpoE,QAAQqR,MACjC,CACJ,EAEAywD,EAAa57D,UAAUmiE,cAAgB,WAKnC,IAJA,IAEI7lD,EAFA2a,EAAOz3B,KAAKy3B,KACZmrC,EAAYnrC,EAAK59B,OAGZY,EAAI,EAAGA,EAAImoE,EAAWnoE,IAG3B,IAFA,IAAIooE,EAAQprC,EAAKh9B,GAERkS,EAAI,EAAGA,EAAIi2D,EAAWj2D,IAAK,CAChC,IAAIm2D,EAAQrrC,EAAK9qB,GAEjB,GAAIk2D,EAAMvoE,QAAQywB,WAAa+3C,EAAMxoE,QAAQywB,SAAU,CACnD,IAAI0K,EAAUotC,EAAMptC,UAAU94B,QAAQogB,KAAK+lD,EAAMrtC,WAK7C3Y,EAHCA,EAGKA,EAAIC,KAAK0Y,GAFTA,CAId,CACJ,CAGJ,OAAO3Y,GAAO9c,KAAK8c,GACvB,EAEAs/C,EAAa57D,UAAUuiE,YAAc,WAIjC,IAHA,IAAI/F,EAAQh9D,KAAKg9D,MACbnzC,EAAQ,GAEHjwB,EAAM,EAAGA,EAAMojE,EAAMnjE,OAAQD,IAClCiwB,EAAMvqB,KAAK09D,EAAMpjE,GAAKghE,aAG1B,OAAO/wC,CACX,EAEAuyC,EAAa57D,UAAUwiE,mBAAqB,SAA6BC,GAErE,IADA,IAAIp5C,EAAQ7pB,KAAK+iE,cACRnpE,EAAM,EAAGA,EAAMiwB,EAAMhwB,OAAQD,IAClCqpE,EAAUC,MAAM5jE,KAAKvM,OAAOy0B,SAASqC,EAAMjwB,GAAK4kB,UAExD,EAEA49C,EAAa57D,UAAU2iE,wBAA0B,SAAkCrnD,GAE/E,IADA,IAAI+N,EAAQ7pB,KAAK+iE,cACRnpE,EAAM,EAAGA,EAAMiwB,EAAMhwB,OAAQD,IAClC,GAAIiwB,EAAMjwB,GAAKikB,cAAc/B,GACzB,OAAO,CAGnB,EAEAsgD,EAAa57D,UAAUkiB,aAAe,WAClCf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzC,IAAI1F,EAAU0F,KAAK1F,QAAQ+8B,SACvBjT,EAAU9pB,EAAQ8pB,QAClBgB,EAAa9qB,EAAQ8qB,WACrBE,EAAShrB,EAAQgrB,YAAwB,IAAXA,IAAoBA,EAAS,CAAC,GAC5D89C,cAAch+C,KACdA,EAAattB,QACbssB,EAAU,GAGd,IAAIi/C,EAAKrjE,KAAKo2C,UAAY,IAAI3iD,UAAU,CACpC+wB,KAAM,CACFzb,MAAOqc,EACPhB,QAASA,GAEb7pB,OAAQ,CACJwO,MAAOuc,EAAO9qB,MAAQ8qB,EAAOvc,MAAQ,GACrCvO,MAAO8qB,EAAO9qB,MACdktB,SAAUpC,EAAOoC,UAErBxE,QAAS,IAGbljB,KAAKgjE,mBAAmBK,GAExBrjE,KAAKijB,aAAaogD,EACtB,EAEAjH,EAAa57D,UAAU8iE,sBAAwB,SAAgCngC,GAC3E,IAAI43B,EAAS/6D,KAAK+6D,OACdn/D,EAAS,GAEb,GAAsB,OAAlBunC,EACA,IAAK,IAAI1oC,EAAI,EAAGA,EAAIsgE,EAAOlhE,OAAQY,IAAK,CAGpC,GAAgC,eAFpBsgE,EAAOtgE,GAET+8B,KAAKl9B,QAAQ5F,KAAvB,CAIA,IAAIopB,EAASi9C,EAAOtgE,GAAG4pD,eAAelhB,GACtC,GAAIrlB,GAAUA,EAAOjkB,OACjB,IAAK,IAAI8S,EAAI,EAAGA,EAAImR,EAAOjkB,OAAQ8S,IAAK,CACpC,IAAImP,EAAQgC,EAAOnR,GACfmP,GAASjZ,QAAQiZ,EAAMxiB,QAA0B,OAAhBwiB,EAAMxiB,OACvCsC,EAAO0D,KAAKwc,EAEpB,CATJ,CAWJ,CAGJ,OAAOlgB,CACX,EAEAwgE,EAAa57D,UAAU+iE,oBAAsB,SAA8BC,GACvE,OAAOxjE,KAAKyjE,cAAa,SAAS3nD,GAC9B,OAAOA,EAAM4I,OAAOjpB,QAAU+nE,CAClC,GACJ,EAEApH,EAAa57D,UAAUkjE,mBAAqB,SAA6BC,GACrE,OAAO3jE,KAAKyjE,cAAa,SAAS3nD,GAC9B,OAAOA,EAAMkvC,aAAe2Y,CAChC,GACJ,EAEAvH,EAAa57D,UAAUojE,mBAAqB,SAA6BlvE,GACrE,OAAOsL,KAAKyjE,cAAa,SAAS3nD,GAC9B,OAAOA,EAAM4I,OAAOhwB,OAASA,CACjC,GACJ,EAEA0nE,EAAa57D,UAAUijE,aAAe,SAAuB/jE,GAIzD,IAHA,IAAIq7D,EAAS/6D,KAAK+6D,OACdn/D,EAAS,GAEJnB,EAAI,EAAGA,EAAIsgE,EAAOlhE,OAAQY,IAG/B,IAFA,IACIqjB,EADQi9C,EAAOtgE,GACAqjB,OACVnR,EAAI,EAAGA,EAAImR,EAAOjkB,OAAQ8S,IAAK,CACpC,IAAImP,EAAQgC,EAAOnR,GACfmP,IAA2B,IAAlBA,EAAM2G,SAAqB/iB,EAASoc,IAC7ClgB,EAAO0D,KAAKwc,EAEpB,CAGJ,OAAOlgB,CACX,EAEAwgE,EAAa57D,UAAUqjE,UAAY,SAAoBnkE,GAGnD,IAFA,IAAIq7D,EAAS/6D,KAAK+6D,OAETtgE,EAAI,EAAGA,EAAIsgE,EAAOlhE,OAAQY,IAG/B,IAFA,IACIqjB,EADQi9C,EAAOtgE,GACAqjB,OACVnR,EAAI,EAAGA,EAAImR,EAAOjkB,OAAQ8S,IAAK,CACpC,IAAImP,EAAQgC,EAAOnR,GACnB,GAAImP,IAA2B,IAAlBA,EAAM2G,SAAqB/iB,EAASoc,GAC7C,OAAOA,CAEf,CAER,EAEAsgD,EAAa57D,UAAUsjE,YAAc,SAAsBhoD,GAGvD,IAFA,IAAIkhD,EAAQh9D,KAAKg9D,MAERviE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAI+8B,EAAOwlC,EAAMviE,GACjB,GAAI+8B,EAAK1a,IAAIe,cAAc/B,GACvB,OAAO0b,CAEf,CACJ,EAEA4kC,EAAa57D,UAAU0+D,aAAe,WAClC,IAAIznC,EAAOz3B,KAAKs+D,UAAUt+D,KAAKg9D,OAC3BuB,EAAQ9mC,EAAKx8B,EACbujE,EAAQ/mC,EAAKv8B,EAEjB8E,KAAK+jE,sBAAsBvF,EAAOD,GAClCv+D,KAAK+jE,sBAAsBxF,EAAOC,EACtC,EAEApC,EAAa57D,UAAUujE,sBAAwB,SAAgCtsC,EAAM8nC,GAKjF,IAJA,IAEIyE,EAAiB,EAEZvpE,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAAK,CAClC,IAAIkb,EAAO8hB,EAAKh9B,GACZ+8B,EAAO7hB,EAAK6hB,KACZ78B,EAASgmE,WAAWpB,EAAc/nC,IAAS+nC,EAAa,GACxDlX,EAAY5tD,EAAIupE,EAChBC,EATOjkE,KASckkE,gBAAgBvuD,EAAM0yC,EAAW1tD,GAE1D,GAAIspE,EAAW,CACXD,IAEA,IAAIl4D,EAAM0rB,EAAKC,KAAK19B,QAAQ4b,GAAQquD,EACpCxsC,EAAK4jC,aAAa6I,EAAWn4D,EACjC,CACJ,CACJ,EAEAswD,EAAa57D,UAAU0jE,gBAAkB,SAA0BvuD,EAAM0yC,EAAW1tD,GAChF,IAAIs6B,EAAetf,EAAKrb,QAAQ45B,OAC5BpF,EAAWmG,EAAanG,SACxBq1C,EAASr1C,IAAa34B,OAAS24B,IAAav3B,QAC5CkrB,EAAUwS,EAAaxS,QAE3B,GAAI0hD,IAAsB,IAAZ1hD,EACV,OAAO,KAGX,IAAIg5C,EAAUz7D,KAAKs+D,UAAUt+D,KAAKg9D,OAC9BuC,EAAe5kE,EAAOL,QAAQywB,SAAW0wC,EAAQxgE,EAAIwgE,EAAQvgE,EAC7D0lE,EAAkB5gE,KAAKitC,mBAAmBtyC,EAAQ4kE,GAClDj/D,EAAMwuB,IAAa34B,MACnBk/B,EAAQ16B,EAAO06B,QACf+uC,EAAO9jE,EAAM+0B,EAAMhzB,IAAMgzB,EAAM9tB,IAGnC,GAFoBlE,WAAWu9D,EAAgBvY,GAAYhzB,EAAM9tB,IAAK8tB,EAAMhzB,KAExD+hE,GAAS,EACzB,OAAO,KAGXxD,EAAgB7tD,OAAOs1C,EAAY,EAAG,EAAG+b,GACzCzpE,EAAOL,QAAQ2yC,mBAAqB2zB,EAEpC,IAAIqD,EAAYtuD,EAAKhZ,QAUrB,OATAgZ,EAAK9L,QAELo6D,EAAU3pE,QAAQ5F,UAAO8S,EACzBy8D,EAAU3pE,QAAQ6R,KAAKsW,SAAU,EAEjCwhD,EAAU3pE,QAAQq/D,eAAYnyD,EAC9By8D,EAAU3pE,QAAQy7B,WAAQvuB,EAC1By8D,EAAU3pE,QAAQ88B,eAAY5vB,EAEvBy8D,CACX,EAEA7H,EAAa57D,UAAU6jE,YAAc,SAAsB3/C,GACvD,OAAOA,GAAUvkB,QAAQukB,EAAO7gB,KAAM65C,iBAC1C,EAEA0e,EAAa57D,UAAU8jE,iBAAmB,WAA8C,EAExFlI,EAAa57D,UAAU+jE,sBAAwB,WAC3C,IAAItxD,EAAWjT,KAEXwkE,EAAiB,GAgCrB,OA9BAxkE,KAAK0kB,OAAS1kB,KAAK0kB,OAAOtjB,KAAI,SAAUsjB,GACpC,IAAKzR,EAASoxD,YAAY3/C,GACtB,OAAOA,EAGX,IAAI+/C,EAAYxxD,EAASyxD,aAAahgD,EAAOigD,KAC7C,IAAKF,EACD,MAAM,IAAI11B,MAAM,0DACJrqB,EAAU,IAAI,oBAAyBA,EAAW,KAAI,MAGtE,IAAIuyB,EAAcN,aAAah/B,QAAQs/B,YAAYwtB,GAC/CrnE,EAAQgG,KAAK6zC,GAEb2tB,EAAkB3xD,EAASqxD,iBAAiB/rE,OAAO4a,OAAO,CAAC,EAAG,CAAC/V,MAAOA,GAAQsnB,GAAS+/C,GAa3F,OAZIG,KAC0B,IAAtBH,EAAUhiD,UACVmiD,EAAgBniD,SAAU,GAG1BmiD,EAAgB77D,QAAUrS,UAC1BkuE,EAAgB77D,MAAQ07D,EAAU17D,OAGtCy7D,EAAellE,KAAKslE,IAGjBA,CACX,IAAGn7D,QAAO,SAAUib,GAAU,OAAkB,OAAXA,CAAiB,IAE/C8/C,CACX,EAEApI,EAAa57D,UAAUkkE,aAAe,SAAuBhwE,GACzD,OAAOsL,KAAK0kB,OAAO1e,MAAK,SAAU0e,GAAU,OAAOA,EAAOhwB,OAASA,CAAM,GAC7E,EAEA0nE,EAAa57D,UAAUqkE,cAAgB,WACnC,OAAO7kE,KAAKujE,oBAAoB,GAAG,EACvC,EAEAnH,EAAa57D,UAAUskE,cAAgB,SAAwBhpD,GAC3D,OAAO9b,KAAK+kE,cAAcjpD,EAAO9b,KAAKglE,kBAAmB,EAC7D,EAEA5I,EAAa57D,UAAUykE,cAAgB,SAAwBnpD,GAC3D,OAAO9b,KAAK+kE,cAAcjpD,EAAO9b,KAAKglE,mBAAoB,EAC9D,EAEA5I,EAAa57D,UAAU0kE,mBAAqB,SAA6BppD,GACrE,OAAO9b,KAAK+kE,cAAcjpD,EAAO9b,KAAKmlE,oBAAqB,EAC/D,EAEA/I,EAAa57D,UAAU4kE,kBAAoB,SAA4BtpD,GACnE,OAAO9b,KAAK+kE,cAAcjpD,EAAO9b,KAAKmlE,qBAAsB,EAChE,EAEA/I,EAAa57D,UAAUukE,cAAgB,SAAwBjpD,EAAOupD,EAAeC,GACjF,IAAIryD,EAAWjT,KAEX8d,EAASunD,EAAclkE,KAAKnB,KAAM8b,GAElCypD,EADaznD,EAAO/jB,QAAQ+hB,GACHwpD,EACzBE,EAAa,SAAUC,GAEvB,IAAI7pE,EACAvB,EAAS,EACb,GACIA,GAAUorE,EACV7pE,EAASypE,EAAclkE,KAAK8R,EAAU6I,EAAOzhB,SACtB,IAAlBuB,EAAO/B,QAEhB,OAAO+B,CACX,EAEA,OAAI2pE,EAAY,GACZznD,EAAS0nD,GAAY,IAEPE,IAAI,GACXH,GAAaznD,EAAOjkB,QAC3BikB,EAAS0nD,EAAW,IAENE,GAAG,GAGd5nD,EAAOynD,EAClB,EAEAnJ,EAAa57D,UAAUwkE,kBAAoB,SAA4BW,GACnE,OAAO3lE,KAAK0jE,mBAAmBiC,EAAU3a,WAC7C,EAEAoR,EAAa57D,UAAU2kE,oBAAsB,SAA8BQ,EAAWtrE,QAClE,IAAXA,IAAoBA,EAAS,GAElC,IAAIoB,EAAQI,WAAW8pE,EAAUjhD,OAAOjpB,MAAQpB,EAAQ2F,KAAK0kB,OAAO7qB,QACpE,OAAOmG,KAAKujE,oBAAoB9nE,EACpC,EAEO2gE,CACX,CAzkCmB,CAykCjBz6C,cAEF,SAASikD,aAAajwD,GAClB,OAAQA,EAAK6hB,KAAKC,KAAKouC,MAAK,SAAUn5D,GAAK,OAAOA,EAAEpS,QAAQywB,WAAapV,EAAKrb,QAAQywB,UAAYre,IAAMiJ,IAA8B,IAAtBjJ,EAAEpS,QAAQmoB,OAAmB,GAEjJ,CAEA,SAAS6+C,aAAa7pC,GAIlB,IAHA,IACI3a,EADAjjB,EAAS49B,EAAK59B,OAGTY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIkb,EAAO8hB,EAAKh9B,GACZgoB,GAAmC,IAAzB9M,EAAKrb,QAAQmoB,QAC3B,GAAIA,GAAWmjD,aAAajwD,GAAO,CAC/B,IAAIqqD,EAAUv9C,EAAU9M,EAAK2R,aAAe3R,EAAK8f,UAE5C3Y,EAGDA,EAAIC,KAAKijD,GAFTljD,EAAMkjD,EAAQrjE,OAItB,CACJ,CAEA,OAAOmgB,GAAO,IAAID,GACtB,CAEA,SAAS8jD,WAAWlpC,EAAMD,GACtB,IAAK,IAAI/8B,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAAK,CAClC,IAAIE,EAAS88B,EAAKh9B,GAClB,GAAIE,GAAUA,EAAO68B,OAASA,EAC1B,OAAO78B,CAEf,CACJ,CAEA,SAASyoE,cAAcr6D,GACnB,MAAiB,KAAVA,GAA0B,OAAVA,GAA4B,SAAVA,GAA8B,gBAAVA,IAA4BlG,QAAQkG,EACrG,CAEA,IAAIq5D,YAAc,SAAUpF,GAAS,OAAOA,EAAM8I,QAAO,SAAUC,EAAKvuC,GAAQ,OAAOuuC,EAAI59D,OAAOqvB,EAAKC,KAAO,GAAG,GAAK,EAEtH7zB,kBAAkBw4D,aAAc,CAC5B13C,OAAQ,GACR2S,SAAU,CACNtQ,OAAQ,CAAC,GAEb3B,WAAY,GACZE,OAAQ,CACJvc,MAAOvT,QACPgF,MAAO,GAEXsiE,aAAc,CACV7tC,MAAO,CAAC,GAEZqtC,OAAQ,CACJyB,cAAe,CACX7pC,OAAQ,CACJnrB,MAAO,WAEXogD,QAAS,CACLpgD,MAAO,eAMvB,IAAIi9D,oBAAsB,CACtBnd,MAAO,SAAS51B,EAAOjxB,GACnBhC,KAAKimE,eAAehzC,EAAOjxB,EAAGm8C,gBAClC,EAEAvuB,MAAO,SAASqD,EAAOjxB,GACnBhC,KAAKimE,eAAehzC,EAAOjxB,EAAGk8C,gBAClC,GAGAgoB,iBAAoB,SAAUvzE,GAC9B,SAASuzE,EAAiBxhD,EAAQ80B,EAAQ2sB,GACtCxzE,EAAMwO,KAAKnB,MAEX,IAAIo3C,EAAkBoC,EAAOpC,gBAAgB1yB,GACzCuyB,EAAcuC,EAAOvC,YAAYvyB,GACjCgzB,EAAe8B,EAAO9B,aAAahzB,EAAQ0yB,GAC3CgvB,EAAepmE,KAAKqmE,cAAgB,GACpClkB,EAAWgkB,EAAkBzV,MAAMhsC,EAAO7gB,MAC1CyiE,EAAgB5hD,EAAO6hD,WAAapkB,EAExCniD,KAAKwmE,QAAU9hD,EACf1kB,KAAKymE,QAAUjtB,EAEf,IAAK,IAAI/+C,EAAI,EAAGA,EAAI28C,EAAgBv9C,OAAQY,IAAK,CAC7C,IAAI2C,EAAQg6C,EAAgB38C,GACxBisE,OAAiB,EAErB,GAAI1pE,SAASspE,GACTI,EAAiBJ,EAAclpE,OAC5B,IAAU,IAAN3C,IAAW0F,QAAQ/C,EAAO65C,GAGjC,MAFAyvB,EAAiBJ,CAGrB,CAEII,GACAN,EAAa9mE,KAAK,CACdqnE,cAAevpE,EACf1I,KAAMgjD,EAAaj9C,GACnB/G,UAAWoI,WAAW4qE,GAAkBA,EAAiBpwB,WAAWowB,IAGhF,CACJ,CAiFA,OA/EK/zE,IAAQuzE,EAAiBztE,UAAY9F,GAC1CuzE,EAAiB1lE,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC3D0lE,EAAiB1lE,UAAUhE,YAAc0pE,EAEzCA,EAAiB1lE,UAAUomE,gBAAkB,SAA0BC,EAAW36C,GAC9E,IAGIxH,EADM1kB,KACOwmE,QACbJ,EAFMpmE,KAEaqmE,cACnBz6D,EAAO5L,KAAK8mE,YAAYD,GAAa,IACrCE,EAAgBn7D,EAAKs4B,UAAU,GAC/BtoC,EAAS,CAAC,EAEd,GAAImrE,IAAkB5rE,SAAS4rE,KAAmB1tE,QAAQ0tE,GAAgB,CACtE,IAAIhrE,EAAK,WAAY,EACrBA,EAAGyE,UAAYumE,EACfnrE,EAAS,IAAIG,CACjB,CAEA,IAAK,IAAItB,EAAI,EAAGA,EAAI2rE,EAAavsE,OAAQY,IAAK,CAC1C,IAAI2C,EAAQgpE,EAAa3rE,GACrBusE,EAjBOhnE,KAiBcinE,WAAWr7D,EAAKzC,OAAQ/L,EAAMupE,eACnDrtE,EAAQ8D,EAAM1J,UAAUszE,EAAWtiD,EAAQ9Y,EAAKs4B,UAAWhY,GAE/D,KAAc,OAAV5yB,IAAkB0D,SAAS1D,IAAWuJ,QAAQvJ,EAAMO,SAAaP,aAAiBmD,MAAO,CACzFb,EAAStC,EACT,KACJ,CACQuJ,QAAQvJ,IACR4tE,SAAS9pE,EAAM1I,KAAMkH,EAAQtC,EAGzC,CAEA,OAAOsC,CACX,EAEAsqE,EAAiB1lE,UAAUsmE,YAAc,SAAsBhpD,GAO3D,IANA,IACI07B,EADMx5C,KACOymE,QACb/hD,EAFM1kB,KAEOwmE,QACbr9D,EAAS,GACT+6B,EAAY,GAEPzpC,EAAI,EAAGA,EAAIqjB,EAAOjkB,OAAQY,IAAK,CACpC,IAAI68C,EAAUx5B,EAAOrjB,GAErB0O,EAAO7J,KAAKk6C,EAAOnC,UAAU3yB,EAAQ4yB,IACrCpT,EAAU5kC,KAAKolB,EAAO9Y,KAAK0rC,GAC/B,CAEA,MAAO,CACHnuC,OAAQA,EACR+6B,UAAWA,EAEnB,EAEAgiC,EAAiB1lE,UAAUymE,WAAa,SAAqBr7D,EAAMxO,GAI/D,IAHA,IAAI+L,EAAS,GACTzN,EAAQkQ,EAAK/R,OAERY,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIiN,EAAOkE,EAAKnR,GACZw8C,EAAcvvC,EAAKuvC,YACnB39C,OAAQ,EAGRA,EADAuJ,QAAQo0C,EAAY75C,IACZ65C,EAAY75C,GAEZsK,EAAKvI,OAAO/B,GAGxB+L,EAAO7J,KAAKhG,EAChB,CAEA,OAAO6P,CACX,EAEO+8D,CACX,CApHuB,CAoHrBvzE,OAEF,SAASu0E,SAASlvB,EAAWvoC,EAAQnW,GACjC,IAAI6tE,EAAY13D,EACZrS,EAAQ46C,EAEZ,GAAIA,EAAUj+C,QAAQ,MAAQ,EAAG,CAG7B,IAFA,IAAI26D,EAAQ1c,EAAUl4C,MAAM,KAErB40D,EAAM76D,OAAS,GAClBuD,EAAQs3D,EAAMntB,QACT1kC,QAAQskE,EAAU/pE,MACnB+pE,EAAU/pE,GAAS,CAAC,GAExB+pE,EAAYA,EAAU/pE,GAE1BA,EAAQs3D,EAAMntB,OAClB,CAEA4/B,EAAU/pE,GAAS9D,CACvB,CAEA,IAAI8tE,kBAAqB,SAAUz0E,GAC/B,SAASy0E,IACLz0E,EAAMwO,KAAKnB,MAEXA,KAAKqnD,UAAY,CAAC,CACtB,CAkBA,OAhBK10D,IAAQy0E,EAAkB3uE,UAAY9F,GAC3Cy0E,EAAkB5mE,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC5D4mE,EAAkB5mE,UAAUhE,YAAc4qE,EAE1CA,EAAkB5mE,UAAU1B,SAAW,SAAmBk4C,EAAaqwB,GAGnE,IAFA,IAES5sE,EAAI,EAAGA,EAAIu8C,EAAYn9C,OAAQY,IAFzBuF,KAGFqnD,UAAUrQ,EAAYv8C,IAAM4sE,CAE7C,EAEAD,EAAkB5mE,UAAUkwD,MAAQ,SAAgB4W,GAChD,OAAOtnE,KAAKqnD,UAAUigB,EAC1B,EAEOF,CACX,CAxBwB,CAwBtBz0E,OAEFy0E,kBAAkBzvD,QAAU,IAAIyvD,kBAEhC,IAAIG,SAAY,SAAUtW,GACtB,SAASsW,IACLtW,EAAItvD,MAAM3B,KAAMjD,UACpB,CA+CA,OA7CKk0D,IAAMsW,EAAS9uE,UAAYw4D,GAChCsW,EAAS/mE,UAAYjI,OAAOuN,OAAQmrD,GAAOA,EAAIzwD,WAC/C+mE,EAAS/mE,UAAUhE,YAAc+qE,EAEjCA,EAAS/mE,UAAUiqC,YAAc,WAC7B,IAAIvW,EAASl0B,KAAK1F,QAAQ45B,OACtBszC,EAAc3qE,WAAW,CAAC,EAAGq3B,EAAQA,EAAO/pB,MAC5Cs9D,EAAY5qE,WAAW,CAAC,EAAGq3B,EAAQA,EAAO2D,IAE1C2vC,EAAY/kD,UACZziB,KAAK0nE,UAAY1nE,KAAKspD,mBAAmBke,GACzCxnE,KAAK2C,OAAO3C,KAAK0nE,YAGjBD,EAAUhlD,UACVziB,KAAK2nE,QAAU3nE,KAAKspD,mBAAmBme,GACvCznE,KAAK2C,OAAO3C,KAAK2nE,SAEzB,EAEAJ,EAAS/mE,UAAUshB,OAAS,SAAiB9E,GACzChd,KAAK+wB,SAEL,IAAIruB,EAAM1C,KACN0nE,EAAYhlE,EAAIglE,UAChBC,EAAUjlE,EAAIilE,QACdruE,EAAQoJ,EAAIpJ,MAEhB0G,KAAK8c,IAAME,EAEP0qD,IACAA,EAAUptE,QAAQwtD,UAAYxuD,EAAM6Q,KAAO7Q,EAAMu+B,GACjD6vC,EAAU5lD,OAAO9E,IAGjB2qD,IACAA,EAAQrtE,QAAQwtD,UAAYxuD,EAAMu+B,GAAKv+B,EAAM6Q,KAC7Cw9D,EAAQ7lD,OAAO9E,IAGfhd,KAAKi2B,MACLj2B,KAAKi2B,KAAKnU,OAAO9E,EAEzB,EAEOuqD,CACX,CAnDe,CAmDbtW,KAEFsW,SAAS/mE,UAAU2hD,SAAWtlD,WAAW,CAAC,EAAG0qE,SAAS/mE,UAAU2hD,SAAU,CACtEjuB,OAAQ,CACJxE,OAAQ,aAEZ2kC,QAAS,CACL3kC,OAAQ,SAIhB,IAAIk4C,cAAiB,SAAU3V,GAC3B,SAAS2V,IACL3V,EAAStwD,MAAM3B,KAAMjD,UACzB,CAoDA,OAlDKk1D,IAAW2V,EAAcnvE,UAAYw5D,GAC1C2V,EAAcpnE,UAAYjI,OAAOuN,OAAQmsD,GAAYA,EAASzxD,WAC9DonE,EAAcpnE,UAAUhE,YAAcorE,EAEtCA,EAAcpnE,UAAUqkD,UAAY,WAChC,OAAO0iB,QACX,EAEAK,EAAcpnE,UAAUk5C,WAAa,SAAqB9tC,GACtD,OAAOA,EAAKqrC,WAChB,EAEA2wB,EAAcpnE,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACzE,OAAyB,OAArB5T,EAAMxiB,MAAM6Q,MAAoC,OAAnB2R,EAAMxiB,MAAMu+B,GAClC,GAGJ73B,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQ5T,EAAMxiB,MAAM6Q,KAAM2R,EAAMxiB,MAAMu+B,GAC/E,EAEA+vC,EAAcpnE,UAAU6kD,UAAY,SAAoBvpC,GACpD,OAAKA,EAIE,CAAEA,EAAMxiB,MAAM6Q,KAAM2R,EAAMxiB,MAAMu+B,IAH5B,CAIf,EAEA+vC,EAAcpnE,UAAUumD,YAAc,SAAsBztD,EAAO6F,GAC/D,IAAI4mD,EAAW5mD,EAAOulB,OAAO/O,KACzBxL,EAAO7Q,EAAM6Q,KACb0tB,EAAKv+B,EAAMu+B,GACX0vB,EAAYvnD,KAAKokD,gBAAgB2B,GAEvB,OAAVzsD,GAAkB6B,SAASgP,IAAShP,SAAS08B,MAC7C0vB,EAAYvnD,KAAKokD,gBAAgB2B,GAAYwB,GAAa,CAAEhgD,IAAK3Q,UAAWyL,IAAKvL,YAEvEyQ,IAAMnF,KAAKmF,IAAIggD,EAAUhgD,IAAK4C,GACxCo9C,EAAUllD,IAAMD,KAAKC,IAAIklD,EAAUllD,IAAK8H,GAExCo9C,EAAUhgD,IAAMnF,KAAKmF,IAAIggD,EAAUhgD,IAAKswB,GACxC0vB,EAAUllD,IAAMD,KAAKC,IAAIklD,EAAUllD,IAAKw1B,GAEhD,EAEA+vC,EAAcpnE,UAAUsnD,UAAY,SAAoBhsC,GACpD,IAAIxiB,EAAQwiB,EAAMxiB,MAClB,OAAOA,EAAM6Q,KAAO7Q,EAAMu+B,EAC9B,EAEO+vC,CACX,CAxDoB,CAwDlB3V,UAEF2V,cAAcpnE,UAAUqnE,WAAa5jB,iBAAiBzjD,UAAUqnE,WAEhE,IAAIC,eAAkB,SAAU9e,GAC5B,SAAS8e,IACL9e,EAAUrnD,MAAM3B,KAAMjD,UAC1B,CAUA,OARKisD,IAAY8e,EAAervE,UAAYuwD,GAC5C8e,EAAetnE,UAAYjI,OAAOuN,OAAQkjD,GAAaA,EAAUxoD,WACjEsnE,EAAetnE,UAAUhE,YAAcsrE,EAEvCA,EAAetnE,UAAU6wB,SAAW,WAChC,OAAOrxB,KAAKuI,MAChB,EAEOu/D,CACX,CAdqB,CAcnB9e,WAEE+e,KAAO,OACPC,oBAAsB,MACtBC,kBAAoB,MAEpBC,eAAkB,SAAUvmD,GAC5B,SAASumD,EAAe5uE,EAAOgB,GAC3BqnB,EAAaxgB,KAAKnB,MAElBA,KAAK1G,MAAQA,EACb0G,KAAK1F,QAAUA,EACf0F,KAAK8nD,UAAYpkD,eAAe1D,KAAK1F,QAAQwtD,WAAW,GACxD9nD,KAAKipD,iBAAkB,EACvBjpD,KAAKkpD,IAAM76C,OACXrO,KAAKmoE,kBACT,CAgMA,OA9LKxmD,IAAeumD,EAAezvE,UAAYkpB,GAC/CumD,EAAe1nE,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACvE0nE,EAAe1nE,UAAUhE,YAAc0rE,EAEvCA,EAAe1nE,UAAUuwB,OAAS,WAC9B,IAAI/wB,KAAKopD,UAAT,CAIAppD,KAAKopD,WAAY,EAEjB,IAAI1mD,EAAM1C,KAAK1F,QACX6uD,EAAUzmD,EAAIymD,QACdj1B,EAASxxB,EAAIwxB,OACb56B,EAAQ0G,KAAK1G,MAEb8uE,EAAYpoE,KAAKooE,UAAY,IAAIN,eAAexuE,EAAOuD,WAAW,CAAC,EAAGmD,KAAK1F,QAAS,CACpF45B,OAAQA,EAAO/pB,KACfg/C,QAASA,EAAQh/C,QAGjBk+D,EAAUroE,KAAKqoE,QAAU,IAAIP,eAAexuE,EAAOuD,WAAW,CAAC,EAAGmD,KAAK1F,QAAS,CAChF45B,OAAQA,EAAO2D,GACfsxB,QAASA,EAAQtxB,MAGrB73B,KAAKsoE,WAAWF,GAChBpoE,KAAKsoE,WAAWD,GAEhBroE,KAAK2C,OAAOylE,GACZpoE,KAAK2C,OAAO0lE,EAvBZ,CAwBJ,EAEAH,EAAe1nE,UAAUshB,OAAS,SAAiB9E,GAC/Chd,KAAK+wB,SAEL,IAAIw3C,EAAUvrD,EAAU7S,KACpBq+D,EAAQxrD,EAAU6a,GAEtB73B,KAAKyoE,eAAeF,EAASC,GAE7BxoE,KAAKooE,UAAUtmD,OAAOymD,GACtBvoE,KAAKqoE,QAAQvmD,OAAO0mD,GAEpBxoE,KAAK8c,IAAM9c,KAAKooE,UAAUve,YAAYltD,QAAQogB,KAAK/c,KAAKqoE,QAAQxe,YACpE,EAEAqe,EAAe1nE,UAAUyjB,gBAAkB,WACvC,IAAIiI,EAAQ,IAAIl5B,QAIhB,OAHAk5B,EAAMvpB,OAAO3C,KAAKooE,UAAUnkD,mBAC5BiI,EAAMvpB,OAAO3C,KAAKqoE,QAAQpkD,mBAEnBiI,CACX,EAEAg8C,EAAe1nE,UAAU4pD,gBAAkB,WACvC,OAAOpqD,KAAK+iB,MAChB,EAEAmlD,EAAe1nE,UAAUikB,oBAAsB,WAC3C,MAAO,CACHnqB,QAAS0F,KAAK1F,QACd6P,KAAMnK,KAAKooE,UAAU3jD,sBACrBoT,GAAI73B,KAAKqoE,QAAQ5jD,sBAEzB,EAEAyjD,EAAe1nE,UAAU+kB,qBAAuB,WAC5C,IAAI2G,EAAQ,IAAIl5B,QAIhB,OAHAk5B,EAAMvpB,OAAO3C,KAAKooE,UAAU7iD,wBAC5B2G,EAAMvpB,OAAO3C,KAAKqoE,QAAQ9iD,wBAEnB2G,CACX,EAEAg8C,EAAe1nE,UAAU+pD,cAAgB,WACrC,IAAIC,EAAUxqD,KAAKknD,MAAM1vB,KAAKgzB,UAG9B,IAFmBA,GAAWA,EAAQvsC,SAASje,KAAK8c,KAEnC,CACb,IAGI7hB,EAAGC,EAAGuvD,EAHN3tC,EAAM9c,KAAK8c,IACX3H,EAAS2H,EAAI3H,SACbu1C,EAAkB/zD,KAatB,OAVIqJ,KAAK1F,QAAQywB,UACb9vB,EAAIka,EAAOla,EACXC,EAAI4hB,EAAIhI,GAAKolC,eACbuQ,EAAgBh1D,WAEhBwF,EAAI6hB,EAAI/H,GAAKmlC,eACbh/C,EAAIia,EAAOja,EACXuvD,EAAgB/0D,QAGb,CACHomB,MAAO,IAAIH,QAAQ1gB,EAAGC,GACtBwjB,MAAO,CACHisC,WAAYD,EACZ3/B,SAAU0/B,GAGtB,CACJ,EAEAyd,EAAe1nE,UAAUgpD,YAAc,SAAsB95B,GACzD,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEAw4C,EAAe1nE,UAAUoqD,YAAc,SAAsB9tC,GACzD,OAAO9c,KAAK8c,IAAImB,SAASnB,EAC7B,EAEAorD,EAAe1nE,UAAUqqD,eAAiB,WACtC7qD,KAAKooE,UAAUvd,iBACf7qD,KAAKqoE,QAAQxd,gBACjB,EAEAqd,EAAe1nE,UAAU2nE,iBAAmB,WACxC,IAAIj0C,EAASl0B,KAAK1F,QAAQ45B,OACrBA,EAAOxE,SACHwE,EAAO/pB,MAAS+pB,EAAO/pB,KAAKulB,SAC7BwE,EAAO/pB,KAAO5R,OAAO4a,OAAO,CAAC,EAAG+gB,EAAO/pB,KAAM,CACzCulB,OAAQs4C,uBAIX9zC,EAAO2D,IAAO3D,EAAO2D,GAAGnI,SACzBwE,EAAO2D,GAAKt/B,OAAO4a,OAAO,CAAC,EAAG+gB,EAAO2D,GAAI,CACrCnI,OAAQu4C,qBAIxB,EAEAC,EAAe1nE,UAAUioE,eAAiB,SAAyBF,EAASC,GACxE,IAKQE,EAAmBC,EALvBjmE,EAAM1C,KAAK1F,QACX45B,EAASxxB,EAAIwxB,OACbnJ,EAAWroB,EAAIqoB,SAEfmJ,EAAOpF,WAAai5C,OAEhBh9C,EACIy9C,EAAM1zD,IAAMyzD,EAAQzzD,IACpB6zD,EAAkB5tB,MAClB2tB,EAAoB1tB,QAEpB2tB,EAAkB3tB,MAClB0tB,EAAoB3tB,OAGpBytB,EAAM5zD,IAAM2zD,EAAQ3zD,IACpB+zD,EAAkBhyE,KAClB+xE,EAAoBrxE,QAEpBsxE,EAAkBtxE,MAClBqxE,EAAoB/xE,MAIvBu9B,EAAO/pB,MAAS+pB,EAAO/pB,KAAK2kB,WAC7B9uB,KAAKooE,UAAU9tE,QAAQ45B,OAAOpF,SAAW45C,GAGxCx0C,EAAO2D,IAAO3D,EAAO2D,GAAG/I,WACzB9uB,KAAKqoE,QAAQ/tE,QAAQ45B,OAAOpF,SAAW65C,GAGnD,EAEAT,EAAe1nE,UAAU8nE,WAAa,SAAqBxsD,GACvDA,EAAM6I,SAAW3kB,KAAK2kB,SACtB7I,EAAMnnB,SAAWqL,KAAKrL,SACtBmnB,EAAM4I,OAAS1kB,KAAK0kB,OACpB5I,EAAM/S,MAAQ/I,KAAK+I,MACnB+S,EAAMorC,MAAQlnD,KAAKknD,KACvB,EAEAghB,EAAe1nE,UAAUsqD,YAAc,WACnC9qD,KAAKooE,UAAUtd,aACnB,EAEAod,EAAe1nE,UAAUuqD,qBAAuB,WAC5C/qD,KAAKqoE,QAAQtd,sBACjB,EAEAmd,EAAe1nE,UAAUwqD,SAAW,WAChC,OAAOhrD,KAAK2nC,UAChB,EAEOugC,CACX,CA3MqB,CA2MnBvmD,cAEF9kB,WAAWqrE,eAAe1nE,UAAWooD,kBACrC/rD,WAAWqrE,eAAe1nE,UAAWsoD,WAErCof,eAAe1nE,UAAU2hD,SAAW,CAChCgH,QAAS,CACL1mC,SAAS,EACT2C,WAAYttB,QACZ0N,KAAMm1C,iBACN92C,KAAMlO,OACN2vB,OAAQ,CACJ9qB,MAAO,GAEX4pB,QAAS,GAEb8P,OAAQ,CACJzR,SAAS,EACTsE,OAAQjpB,WAAW,GACnB6f,QAAS7f,WAAW,GACpBkkB,UAAW,CACPne,KAAMk2C,OACNsH,MAAOvH,4BAEXhrB,SAAUi5C,MAEdhyC,MAAO,CACH9E,MAAO,CAAC,GAEZjN,UAAW,CACPmlC,QAAS,CACL7jC,OAAQ,CACJvc,MAAOjR,QACP0C,MAAO,IAGf0oB,OAAQ1sB,kBAEZ69D,QAAS,CACL3kC,OAAQ,aAEZ1K,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,+BAI7B,IAAIwpB,iBAAoB,SAAU9a,GAC9B,SAAS8a,IACL9a,EAAYnsD,MAAM3B,KAAMjD,UAC5B,CA0CA,OAxCK+wD,IAAc8a,EAAiBnwE,UAAYq1D,GAChD8a,EAAiBpoE,UAAYjI,OAAOuN,OAAQgoD,GAAeA,EAAYttD,WACvEooE,EAAiBpoE,UAAUhE,YAAcosE,EAEzCA,EAAiBpoE,UAAU8tD,qBAAuB,WAC9C,OAAOtuD,KAAKuuD,mBAAmBvuD,KAAKmrD,iBAAiBnrD,KAAK6oE,YAC9D,EAEAD,EAAiBpoE,UAAUguD,cAAgB,WACvC,IAAIsa,EAAe9oE,KAAK8oE,aAKxB,OAJK9oE,KAAK8oE,eACNA,EAAe9oE,KAAK8oE,aAAe9oE,KAAKuuD,mBAAmBvuD,KAAKmrD,iBAAiBnrD,KAAKuoB,aAAagH,aAGhGu5C,CACX,EAEAF,EAAiBpoE,UAAU0tD,aAAe,SAAuBzwD,GAC7D,IAAIsrE,EAAS,IAAIh2E,OAAO0K,GACpBurE,EAAW,IAAIj2E,OAAO0K,GAE1BsrE,EAAOruE,SAAS4E,KAAKqC,MAAMonE,EAAOruE,SAAUsF,KAAKouD,kBACjD4a,EAAStuE,SAAS4E,KAAKqC,MAAMqnE,EAAStuE,SAAUsF,KAAKwuD,iBAErDxuD,KAAK+iB,OAAOpgB,OAAOomE,GACnB/oE,KAAK+iB,OAAOpgB,OAAOqmE,EACvB,EAEAJ,EAAiBpoE,UAAUkuD,gBAAkB,WACzC,OAAO,CACX,EAEAka,EAAiBpoE,UAAU+nB,WAAa,WACpC,OAAOvoB,KAAKyxB,WAAWrwB,KAAI,SAAU0a,GAAS,OAAOA,EAAMssD,SAAW,GAC1E,EAEAQ,EAAiBpoE,UAAUqoE,SAAW,WAClC,OAAO7oE,KAAKyxB,WAAWrwB,KAAI,SAAU0a,GAAS,OAAOA,EAAMusD,OAAS,GACxE,EAEOO,CACX,CA9CuB,CA8CrB9a,aAEEmb,uBAA0B,SAAUL,GACpC,SAASK,IACLL,EAAiBjnE,MAAM3B,KAAMjD,UACjC,CAyBA,OAvBK6rE,IAAmBK,EAAuBxwE,UAAYmwE,GAC3DK,EAAuBzoE,UAAYjI,OAAOuN,OAAQ8iE,GAAoBA,EAAiBpoE,WACvFyoE,EAAuBzoE,UAAUhE,YAAcysE,EAE/CA,EAAuBzoE,UAAU8tD,qBAAuB,WACpD,OAAOtuD,KAAKkpE,oBAAoBlpE,KAAK6oE,WACzC,EAEAI,EAAuBzoE,UAAUguD,cAAgB,WAC7C,IAAIsa,EAAe9oE,KAAK8oE,aAKxB,OAJK9oE,KAAK8oE,eACNA,EAAe9oE,KAAK8oE,aAAe9oE,KAAKkpE,oBAAoBlpE,KAAKuoB,aAAagH,YAG3Eu5C,CACX,EAEAG,EAAuBzoE,UAAU0oE,oBAAsB,SAA8BprD,GAGjF,OAFqB,IAAIi1B,gBAEHC,QAAQhzC,KAAKmrD,iBAAiBrtC,GACxD,EAEOmrD,CACX,CA7B6B,CA6B3BL,kBAEEO,qBAAwB,SAAUP,GAClC,SAASO,IACLP,EAAiBjnE,MAAM3B,KAAMjD,UACjC,CAoBA,OAlBK6rE,IAAmBO,EAAqB1wE,UAAYmwE,GACzDO,EAAqB3oE,UAAYjI,OAAOuN,OAAQ8iE,GAAoBA,EAAiBpoE,WACrF2oE,EAAqB3oE,UAAUhE,YAAc2sE,EAE7CA,EAAqB3oE,UAAU8tD,qBAAuB,WAClD,OAAOtuD,KAAKuuD,mBAAmBvuD,KAAKwrD,oBAAoBxrD,KAAK6oE,YACjE,EAEAM,EAAqB3oE,UAAUguD,cAAgB,WAC3C,IAAIsa,EAAe9oE,KAAK8oE,aAMxB,OALK9oE,KAAK8oE,eACNA,EAAe9oE,KAAK8oE,aAAe9oE,KAAKuuD,mBAAmBvuD,KAAKwrD,oBAAoBxrD,KAAKuoB,gBAC5EgH,UAGVu5C,CACX,EAEOK,CACX,CAxB2B,CAwBzBP,kBAEF/rE,WAAWssE,qBAAqB3oE,UAAW+qD,eAE3C,IAAI6d,eAAkB,SAAUnlB,GAC5B,SAASmlB,IACLnlB,EAAiBtiD,MAAM3B,KAAMjD,UACjC,CAiJA,OA/IKknD,IAAmBmlB,EAAe3wE,UAAYwrD,GACnDmlB,EAAe5oE,UAAYjI,OAAOuN,OAAQm+C,GAAoBA,EAAiBzjD,WAC/E4oE,EAAe5oE,UAAUhE,YAAc4sE,EAEvCA,EAAe5oE,UAAUuwB,OAAS,WAC9BkzB,EAAiBzjD,UAAUuwB,OAAO5vB,KAAKnB,MAEvCA,KAAKmsD,gBACT,EAEAid,EAAe5oE,UAAUqkD,UAAY,WACjC,OAAOqjB,cACX,EAEAkB,EAAe5oE,UAAUymD,YAAc,SAAsBr7C,EAAMzM,GAC/D,IAAIulB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAClBtrD,EAAQsS,EAAKqrC,YAEjB,IAAK2L,WAAWtpD,EAAM6Q,QAAUy4C,WAAWtpD,EAAMu+B,IAAK,CAClD,GAAI73B,KAAKkjD,oBAAoBx+B,KAAYk2B,KAMrC,OAAO,KALPthD,EAAQ,CACJ6Q,KAAM,EACN0tB,GAAI,EAKhB,CAEA,IAAI8sB,EAAe3kD,KAAK2kD,aAAajgC,EAAQkgC,GAC7CD,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GAE1D,IAAI4J,EAAQ6C,EAAKzM,OAAO4J,OAAS2b,EAAO3b,MACpCjN,WAAW4oB,EAAO3b,SAClBA,EAAQ47C,EAAa57C,OAGzB,IAAI+S,EAAQ,IAAIosD,eAAe5uE,EAAOqrD,GAKtC,OAJA7oC,EAAM/S,MAAQA,EAEd/I,KAAK2C,OAAOmZ,GAELA,CACX,EAEAstD,EAAe5oE,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,GACxF,IAAInnD,GAAS+kD,EAAcr2C,MAAQ,CAAC,GAAG1O,MAUvC,OAAO,IARO,WAAVA,EACcwrE,uBACG,SAAVxrE,EACO0rE,qBAEAP,kBAGKn3C,EAAY+wB,EAAeoC,EACtD,EAEAwkB,EAAe5oE,UAAU6kD,UAAY,SAAoBvpC,EAAOunB,GAC5D,OAAKvnB,EAIE,CAAEA,EAAMxiB,MAAM6Q,KAAM2R,EAAMxiB,MAAMu+B,IAH5B,CAAEwL,EAAYA,EAI7B,EAEA+lC,EAAe5oE,UAAUonD,UAAY,SAAoBhmB,EAAWyjB,GAChE,IAAIgkB,EAAWznC,EAAUhK,QAAQytB,EAAU,GAAIA,EAAU,IAAKrlD,KAAK1F,QAAQ8vC,MACvEk/B,EAAS1nC,EAAUhK,QAAQytB,EAAU,GAAIA,EAAU,IAAKrlD,KAAK1F,QAAQ8vC,MACzE,GAAIi/B,GAAYC,EACZ,MAAO,CACHn/D,KAAMk/D,EACNxxC,GAAIyxC,EAGhB,EAEAF,EAAe5oE,UAAUqnD,UAAY,SAAoBF,EAAcC,GACnE,IAEIyhB,EAAUC,EAFVn/D,EAAOy9C,EAAUz9C,KACjB0tB,EAAK+vB,EAAU/vB,GAWnB,OARI73B,KAAK1F,QAAQwqD,YACbukB,EAAW,IAAIxsD,IAAI1S,EAAKyK,GAAI+yC,EAAa7yC,GAAI3K,EAAK4K,GAAI4yC,EAAa3yC,IACnEs0D,EAAS,IAAIzsD,IAAIgb,EAAGjjB,GAAI+yC,EAAa7yC,GAAI+iB,EAAG9iB,GAAI4yC,EAAa3yC,MAE7Dq0D,EAAW,IAAIxsD,IAAI8qC,EAAa/yC,GAAIzK,EAAK2K,GAAI6yC,EAAa5yC,GAAI5K,EAAK6K,IACnEs0D,EAAS,IAAIzsD,IAAI8qC,EAAa/yC,GAAIijB,EAAG/iB,GAAI6yC,EAAa5yC,GAAI8iB,EAAG7iB,KAG1D,CACH7K,KAAMk/D,EACNxxC,GAAIyxC,EAEZ,EAEAF,EAAe5oE,UAAUkkD,SAAW,SAAmB94C,EAAMzM,GACzD,IAAI83C,EAAcrrC,EAAKqrC,YAClB97C,SAAS87C,EAAY9sC,QACtB8sC,EAAY9sC,KAAO8sC,EAAYpf,IAG9B18B,SAAS87C,EAAYpf,MACtBof,EAAYpf,GAAKof,EAAY9sC,MAGjC85C,EAAiBzjD,UAAUkkD,SAASvjD,KAAKnB,KAAM4L,EAAMzM,EACzD,EAEAiqE,EAAe5oE,UAAUumD,YAAc,SAAsBztD,EAAO6F,GAChE,GAAc,OAAV7F,GAAkB6B,SAAS7B,EAAM6Q,OAAShP,SAAS7B,EAAMu+B,IAAK,CAC9D,IAAIkuB,EAAW5mD,EAAOulB,OAAO/O,KACzB4xC,EAAYvnD,KAAKokD,gBAAgB2B,GAAY/lD,KAAKokD,gBAAgB2B,IAAa,CAAEx+C,IAAK3Q,UAAWyL,IAAKvL,WACtGqT,EAAO7Q,EAAM6Q,KACb0tB,EAAKv+B,EAAMu+B,GAEf0vB,EAAUhgD,IAAMnF,KAAKmF,IAAIggD,EAAUhgD,IAAK4C,EAAM0tB,GAC9C0vB,EAAUllD,IAAMD,KAAKC,IAAIklD,EAAUllD,IAAK8H,EAAM0tB,EAClD,CACJ,EAEAuxC,EAAe5oE,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GAC1E,IAAIp2B,EAAQwiB,EAAMxiB,MAElB,OAAO0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQp2B,EAAM6Q,KAAM7Q,EAAMu+B,GACnE,EAEAuxC,EAAe5oE,UAAUotD,gBAAkB,WAGvC,IAFA,IAAI9vC,EAAS9d,KAAK8d,OACdliB,EAAS,GACJhC,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAAO,CAC1C,IAAIkiB,EAAQgC,EAAOlkB,GACfkiB,IACAlgB,EAAO0D,MAAMwc,EAAMssD,WAAa,CAAC,GAAG92C,QACpC11B,EAAO0D,MAAMwc,EAAMusD,SAAW,CAAC,GAAG/2C,QAE1C,CAEA,OAAO11B,EAAOuM,OAAOnI,KAAKqsD,UAC9B,EAEO+c,CACX,CArJqB,CAqJnBnlB,kBAEFpnD,WAAWusE,eAAe5oE,UAAW0rD,eAAgBqB,oBAErD,IAAIgc,UAAa,SAAUtW,GACvB,SAASsW,IACLtW,EAAYtxD,MAAM3B,KAAMjD,UAC5B,CA2CA,OAzCKk2D,IAAcsW,EAAU9wE,UAAYw6D,GACzCsW,EAAU/oE,UAAYjI,OAAOuN,OAAQmtD,GAAeA,EAAYzyD,WAChE+oE,EAAU/oE,UAAUhE,YAAc+sE,EAElCA,EAAU/oE,UAAUshB,OAAS,SAAiBhF,GAC1C,IAAIpa,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdhB,EAAQoJ,EAAIpJ,MAEZsoC,EADQl/B,EAAIwkD,MACM3F,gBAAgBjnD,GAClCkvE,EAAU,GACVC,EAAU,GACVC,EAAW,GAEXtW,EAASxxB,EAAUhK,QAAQt+B,EAAMinC,IAAKjnC,EAAMknC,MAC5CmpC,EAAQ/nC,EAAUhK,QAAQt+B,EAAM65D,KAAM75D,EAAM65D,MAC5CyW,EAAQhoC,EAAUhK,QAAQt+B,EAAMioB,MAAOjoB,EAAMioB,OAEjDooD,EAAM/0D,GAAKg1D,EAAMh1D,GAAKw+C,EAAOx+C,GAAKkI,EAAIlI,GACtC+0D,EAAM50D,GAAK60D,EAAM70D,GAAKq+C,EAAOr+C,GAAK+H,EAAI/H,GAEtC,IAAIu+C,EAAMF,EAAOj+C,SAASla,EAE1BuuE,EAAQlqE,KAAK,CAAEqqE,EAAM/0D,GAAI+0D,EAAM70D,KAC/B00D,EAAQlqE,KAAK,CAAEg0D,EAAKqW,EAAM70D,KAC1B20D,EAAQnqE,KAAK,CAAEg0D,EAAKsW,EAAM90D,KAC1B20D,EAAQnqE,KAAK,CAAEsqE,EAAM70D,GAAI60D,EAAM90D,KAC/B40D,EAASpqE,KAAK,CAAEg0D,EAAKF,EAAOt+C,KAC5B40D,EAASpqE,KAAK,CAAEg0D,EAAKF,EAAOp+C,KAE5BhV,KAAKuzD,MAAQ,CACTiW,EAASC,EAASC,GAGtB1pE,KAAK8c,IAAMs2C,EAAOz2D,QAAQogB,KAAK4sD,EAAMhtE,QAAQogB,KAAK6sD,IAElD5pE,KAAKwzD,YACT,EAEA+V,EAAU/oE,UAAUozD,WAAa,WAAwB,EAElD2V,CACX,CA/CgB,CA+CdtW,aAEE4W,UAAa,SAAUvV,GACvB,SAASuV,IACLvV,EAAiB3yD,MAAM3B,KAAMjD,UACjC,CAUA,OARKu3D,IAAmBuV,EAAUpxE,UAAY67D,GAC9CuV,EAAUrpE,UAAYjI,OAAOuN,OAAQwuD,GAAoBA,EAAiB9zD,WAC1EqpE,EAAUrpE,UAAUhE,YAAcqtE,EAElCA,EAAUrpE,UAAUqkD,UAAY,WAC5B,OAAO0kB,SACX,EAEOM,CACX,CAdgB,CAcdvV,kBAEEwV,iBAAoB,SAAUnoD,GAC9B,SAASmoD,EAAiB3/D,EAAM0tB,EAAInT,GAChC/C,EAAaxgB,KAAKnB,MAElBA,KAAKmK,KAAOA,EACZnK,KAAK63B,GAAKA,EACV73B,KAAK0kB,OAASA,CAClB,CAgDA,OA9CK/C,IAAemoD,EAAiBrxE,UAAYkpB,GACjDmoD,EAAiBtpE,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACzEspE,EAAiBtpE,UAAUhE,YAAcstE,EAEzCA,EAAiBtpE,UAAUixB,WAAa,WACpC,IAAItnB,EAAOnK,KAAKmK,KAEZo+D,EADMvoE,KACQmK,KAAK2S,IACnB0rD,EAFMxoE,KAEM63B,GAAG/a,IACfgB,EAAS,GAEb,GAAI3T,EAAKu2C,WAAY,CACjB,IAAIxlD,EAAIiP,EAAK29C,UAAYygB,EAAQzzD,GAAKyzD,EAAQvzD,GAC9C8I,EAAOxe,KACH,CAAEipE,EAAQ3zD,GAAI1Z,GACd,CAAEstE,EAAMzzD,GAAI7Z,GAEpB,KAAO,CACH,IAAID,EAAIkP,EAAK29C,UAAYygB,EAAQxzD,GAAKwzD,EAAQ3zD,GAC9CkJ,EAAOxe,KACH,CAAErE,EAAGstE,EAAQzzD,IACb,CAAE7Z,EAAGutE,EAAMxzD,IAEnB,CAEA,OAAO8I,CACX,EAEAgsD,EAAiBtpE,UAAUkiB,aAAe,WACtCf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzC,IAAImM,EAAOnM,KAAK0kB,OAAOvY,MAAQ,CAAC,EAE5B/R,EAAOrH,OAAOw1B,WAAWvoB,KAAKyxB,aAAc,CAC5Cl3B,OAAQ,CACJwO,MAAOoD,EAAKpD,MACZvO,MAAO2R,EAAK3R,MACZ4pB,QAASjY,EAAKiY,QACdsD,SAAUvb,EAAKub,YAIvBvtB,iBAAiBC,GACjB4F,KAAK+iB,OAAOpgB,OAAOvI,EACvB,EAEO0vE,CACX,CAxDuB,CAwDrBnoD,cAEF/d,kBAAkBkmE,iBAAkB,CAChC9nD,UAAW,CACPne,KAAMk2C,OACNsH,MAAOvH,8BAIf,IAAIiwB,eAAkB,SAAU9X,GAC5B,SAAS8X,IACL9X,EAAStwD,MAAM3B,KAAMjD,UACzB,CAqGA,OAnGKk1D,IAAW8X,EAAetxE,UAAYw5D,GAC3C8X,EAAevpE,UAAYjI,OAAOuN,OAAQmsD,GAAYA,EAASzxD,WAC/DupE,EAAevpE,UAAUhE,YAAcutE,EAEvCA,EAAevpE,UAAUuwB,OAAS,WAC9BkhC,EAASzxD,UAAUuwB,OAAO5vB,KAAKnB,MAC/BA,KAAKgqE,gBACT,EAEAD,EAAevpE,UAAUikD,mBAAqB,SAA6B/kD,GAOvE,IANA,IAEIglB,EAAS1kB,KAAK1F,QAAQoqB,OACtBulD,EAAkBxmC,gBAAgB/e,GAClCg8B,GAAc1gD,KAAK1F,QAAQwqD,WAEtBF,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAK7C,IAJA,IAAIpC,EAAgB99B,EAAOkgC,GACvB9/B,EAAQ,EACRD,EAAe,EAEV8iB,EAAa,EAAGA,EAAasiC,EAAiBtiC,IAAc,CACjE,IAAI/7B,EAAO+qC,aAAah/B,QAAQ0/B,UAAUmL,EAAe7a,GACrDruC,EAAQsS,EAAKqrC,YAAY39C,MACzB4wE,EAAUt+D,EAAKzM,OAAO+qE,QACtB//D,EAAO2a,EACP+S,OAAK,EAELqyC,EAC8B,UAA1BA,EAAQriC,eACRj8B,EAAKqrC,YAAY39C,MAAQwrB,EACzB3a,EAAO,EACP0tB,EAAK/S,IAELlZ,EAAKqrC,YAAY39C,MAAQurB,EACzBgT,EAAK1tB,EAAO0a,EACZA,EAAe,GAEZ1pB,SAAS7B,KAChBurB,GAAgBvrB,EAEhBu+B,EADA/S,GAASxrB,GAIboG,EAASkM,EAAM,CACXjX,SAnCGqL,KAmCgBkkD,aAAa1gB,WAAWmE,GAC3CA,WAAYA,EACZjjB,OAAQ89B,EACRoC,SAAUA,EACV9/B,MAAOA,EACPD,aAAcA,EACd1a,KAAMA,EACN0tB,GAAIA,EACJ6oB,WAAYA,GAEpB,CAER,EAEAqpB,EAAevpE,UAAUumD,YAAc,SAAsBztD,EAAO6F,GAChE8yD,EAASzxD,UAAUumD,YAAY5lD,KAAKnB,KAAM,CAAE1G,MAAO6F,EAAO04B,IAAM14B,EACpE,EAEA4qE,EAAevpE,UAAUsnD,UAAY,SAAoBhsC,GACrD,OAAOA,EAAMxiB,OAAS,CAC1B,EAEAywE,EAAevpE,UAAU6kD,UAAY,SAAoBvpC,GACrD,MAAO,CAAEA,EAAM3R,KAAM2R,EAAM+b,GAC/B,EAEAkyC,EAAevpE,UAAUwpE,eAAiB,WAOtC,IANA,IAEItlD,EAAS1kB,KAAK1F,QAAQoqB,OACtB4/B,EAAetkD,KAAKskD,aACpB5pD,EAAWsF,KAAKtF,SAAW,GAEtBkqD,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAAY,CACzD,IAAIpC,EAAgB99B,EAAOkgC,GACvB9mC,EAASwmC,EAAaM,GAE1B,GAAI9mC,EAEA,IADA,IAAIqsD,OAAY,EACP7yB,EAAU,EAAGA,EAAUx5B,EAAOjkB,OAAQy9C,IAAW,CACtD,IAAIx7B,EAAQgC,EAAOw5B,GAEnB,GAAIx7B,GAASquD,EAAW,CACpB,IAAIxd,EAAU,IAAImd,iBAAiBK,EAAWruD,EAAO0mC,GACrD9nD,EAAS4E,KAAKqtD,GAjBf3sD,KAkBU2C,OAAOgqD,EACpB,CAEAwd,EAAYruD,CAChB,CAER,CACJ,EAEOiuD,CACX,CAzGqB,CAyGnB9X,UAEF,SAASqS,iBAAiB8F,EAAUvmE,EAAM2qB,GACtC,IAAI67C,EAAOD,EAAS38C,OAAO5pB,IAC3B,OAAIwmE,EACOA,EAAK77C,GAGT,IACX,CAGA,SAAS87C,eAAeC,EAAc1xB,GAUlC,IATA,IAKI2xB,EAAOC,EALPxvE,EAAI,EACJC,EAAI,EACJ6Z,EAAK,EACL21D,EAAK,EACLhvE,EAAQ,EAERivE,EAAO9zE,OAAOD,UACdg0E,EAAO/zE,OAAOC,UAET2D,EAAI,EAAGA,EAAI8vE,EAAa1wE,OAAQY,IAAK,CAC1C,IACIiI,EAAMm2C,EADE0xB,EAAa9vE,IAErB06C,EAASzyC,EAAIyyC,OACbC,EAAS1yC,EAAI0yC,OAEb75C,SAAS45C,IAAsB,OAAXA,GAAmB55C,SAAS65C,IAAsB,OAAXA,IAC3Du1B,EAAOvoE,KAAKmF,IAAI4tC,EAAQw1B,GACxBC,EAAOxoE,KAAKC,IAAI8yC,EAAQy1B,GAExBlvE,IACAT,GAAKk6C,EACLj6C,GAAKk6C,EACLrgC,GAAM3S,KAAKoZ,IAAI25B,EAAQ,GACvBu1B,GAAMv1B,EAASC,EAEvB,CAOA,OALI15C,EAAQ,IAER+uE,GAAavvE,GADbsvE,GAAS9uE,EAAQgvE,EAAKzvE,EAAIC,IAAMQ,EAAQqZ,EAAK3S,KAAKoZ,IAAIvgB,EAAG,KAChCA,GAAKS,GAG3B,CAAE8uE,MAAOA,EAAOC,UAAWA,EAAW/uE,MAAOA,EAAOivE,KAAMA,EAAMC,KAAMA,EACjF,CAEA,IAAIC,iBAAmB,SAAUN,EAAcvyB,GAAa,OAAOuyB,EAAaO,OAAM,SAAUpoE,GACxF,IAAIu0C,EAAcv0C,EAAIu0C,YAEtB,OAAQ2L,WAAW3L,EAAYe,KAAef,EAAYe,GAAa,CACvE,GAAI,EAEZ,SAAS+yB,iBAAiBC,EAAa9mB,GASnC,IARA,IAAIt4C,EAAO,GACP21B,EAAa2iB,EAAapf,oBAC1BmmC,EAAe/mB,EAAavf,sBAC5BtP,EAAQ,CACR9tB,IAAKnF,KAAKK,MAAML,KAAKC,IAAI4oE,EAAa1jE,IAAM,EAAGg6B,EAAWh6B,MAC1DlF,IAAKD,KAAKI,KAAKJ,KAAKmF,IAAI0jE,EAAa5oE,IAAM,EAAGk/B,EAAWl/B,OAGpD5H,EAAI46B,EAAM9tB,IAAK9M,EAAI46B,EAAMhzB,IAAK5H,IAAK,CACxC,IAAIQ,EAAKR,EAAI,EACbmR,EAAKnR,GAAK,CACN9F,SAAUuvD,EAAa1gB,WAAW/oC,GAAG,GACrCnB,MAAO0xE,EAAY/vE,GAE3B,CAEA,OAAO2Q,CACX,CAEA,SAASs/D,qBAAqB18C,GAC1B,IAAIl0B,EAAUk0B,EAAQl0B,QAClB4pD,EAAe11B,EAAQ01B,aAGvBt4C,EAAOu/D,UAAU,CAAEC,aAFJ58C,EAAQ48C,aAEwBlnB,aAAcA,EAAc5pD,QAASA,IACxF,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,OACP+H,KAAMA,EACNy/D,cAAe,WACfjuE,MAAO,UAGR,IACX,CAEA,IAAIkuE,cAAgB,SAAUtzB,GAAa,OAAO,SAAUt1C,GACpD,IAAIilC,EAAajlC,EAAIilC,WACjBsP,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQxN,EAAa,EAAGyN,OAAQhzC,KAAKqZ,IAAIw7B,EAAYe,IACrE,CAAK,EAEP,SAASmzB,UAAUzoE,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnBlnB,EAAexhD,EAAIwhD,aACnB5pD,EAAUoI,EAAIpI,QAEdiwE,EAAea,IACnB,IAAKP,iBAAiBN,EAAcjwE,EAAQ8C,OACxC,OAAO,KAGX,IAAIouB,EAAQ8+C,eAAeC,EAAce,cAAchxE,EAAQ8C,QAC3DotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAEtB,GADYj/C,EAAM9vB,MACN,EAAG,CAGX,IAAIgR,EAAItK,KAAKmpE,IAAId,GACb9hE,EAAI6hE,EAER,OAAOO,kBAAiB,SAAU9vE,GAAK,OAAOyR,EAAItK,KAAKmpE,IAAI5iE,EAAI1N,EAAI,GAAGipD,EAC1E,CAEA,OAAO,IACX,CAEA,SAASsnB,gBAAgBh9C,GACrB,IAAIl0B,EAAUk0B,EAAQl0B,QAClB4pD,EAAe11B,EAAQ01B,aAGvBt4C,EAAO6/D,UAAU,CAAEL,aAFJ58C,EAAQ48C,aAEwBlnB,aAAcA,EAAc5pD,QAASA,IACxF,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,OACP+H,KAAMA,EACNy/D,cAAe,WACfjuE,MAAO,UAGR,IACX,CAEA,IAAIsuE,cAAgB,SAAU1zB,GAAa,OAAO,SAAUt1C,GAIpD,MAAO,CAAGyyC,OAHOzyC,EAAIilC,WAGU,EAAGyN,OAFhB1yC,EAAIu0C,YAEgCe,GAC5D,CAAK,EAEP,SAASyzB,UAAU/oE,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnBlnB,EAAexhD,EAAIwhD,aACnB5pD,EAAUoI,EAAIpI,QAEdkxB,EAAQ8+C,eAAec,IAAgBM,cAAcpxE,EAAQ8C,QAC7DotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAGtB,OAFYj/C,EAAM9vB,MAEN,EACDqvE,kBAAiB,SAAU9vE,GAAK,OAAOuvE,EAAQvvE,EAAIwvE,CAAW,GAAGvmB,GAGrE,IACX,CAEA,SAASynB,qBAAqBn9C,GAC1B,IAAIl0B,EAAUk0B,EAAQl0B,QAClB4pD,EAAe11B,EAAQ01B,aAGvBt4C,EAAOggE,UAAU,CAAER,aAFJ58C,EAAQ48C,aAEwBlnB,aAAcA,EAAc5pD,QAASA,IACxF,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,OACP+H,KAAMA,EACNy/D,cAAe,WACfjuE,MAAO,UAGR,IACX,CAEA,IAAIyuE,cAAgB,SAAU7zB,GAAa,OAAO,SAAUt1C,GACpD,IAAIilC,EAAajlC,EAAIilC,WACjBsP,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ/yC,KAAKqZ,IAAIksB,EAAa,GAAIyN,OAAQ6B,EAAYe,GACtE,CAAK,EAEP,SAAS4zB,UAAUlpE,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnBlnB,EAAexhD,EAAIwhD,aACnB5pD,EAAUoI,EAAIpI,QAEdkxB,EAAQ8+C,eAAec,IAAgBS,cAAcvxE,EAAQ8C,QAC7DotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAEtB,GADYj/C,EAAM9vB,MACN,EAAG,CAGX,IAAIgR,EAAI89D,EACJ7hE,EAAI8hE,EACR,OAAOM,kBAAiB,SAAU9vE,GAAK,OAAOyR,EAAItK,KAAKqZ,IAAIxgB,GAAK0N,CAAG,GAAGu7C,EAC1E,CAEA,OAAO,IACX,CAEA,SAAS4nB,uBAAuBvB,EAAc1xB,EAAakzB,GAQvD,IAPA,IAAIC,EAAgB,GAChB7iE,EAAS,GACT9I,EAAQ+B,KAAKC,IAAI89C,0BAA2B4rB,GAAU,EAEtDzrE,EAAM,EACNi2C,EAAM,EAED97C,EAAI,EAAGA,EAAI8vE,EAAa1wE,OAAQY,IAAK,CAC1C,IACIiI,EAAMm2C,EADE0xB,EAAa9vE,IAErB06C,EAASzyC,EAAIyyC,OACbC,EAAS1yC,EAAI0yC,OAUjB,GARI75C,SAAS65C,IAAsB,OAAXA,GACpBjsC,EAAO7J,KAAK81C,GACZmB,GAAOnB,EACP90C,EAAM8B,KAAKC,IAAI5H,EAAG6F,IAElB6I,EAAO7J,KAAK,MAGZ7E,GAAK4F,EAAO,CACZ,IAAI3E,EAAQyN,EAAOM,QAAO,SAAUnQ,GAAS,OAAiB,OAAVA,CAAgB,IAAGO,OACnEoyE,EAAY9iE,EAAOo+B,SAAW,EAElC,GAAI7rC,EAAQ,EAAG,CACX,IAAIq9C,EAAUxC,EAAM76C,EACpBswE,EAAc1sE,KAAK,CAAC61C,EAAQ4D,IAE5BxC,GAAO01B,EACP,QACJ,CACJ,CAEAD,EAAc1sE,KAAK,CAAC61C,EAAQ,MAChC,CAEA,OAAO62B,EAAc1iE,MAAM,EAAGhJ,EAAM,EACxC,CAEA,SAAS4rE,uBAAuB19C,GAC5B,IAAIl0B,EAAUk0B,EAAQl0B,QAElBsR,EAAOugE,UAAU39C,GACrB,OAAI5iB,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,OACP+H,KAAMA,EACNy/D,cAAe,WACfjuE,MAAO,UAGR,IACX,CAEA,IAAIgvE,cAAgB,SAAUp0B,GAAa,OAAO,SAAUt1C,GAIpD,MAAO,CAAGyyC,OAHOzyC,EAAIilC,WAGSyN,OAFZ1yC,EAAIu0C,YAE4Be,GACxD,CAAK,EAEP,SAASq0B,gBAAgB3pE,GACrB,IAAIpI,EAAUoI,EAAIpI,QACd4pD,EAAexhD,EAAIwhD,aACnBknB,EAAe1oE,EAAI0oE,aAEnBW,GAAUzxE,EAAQgyE,WAAa,CAAC,GAAGP,QAAU5rB,0BAC7C5e,EAAa2iB,EAAapf,oBAC1BmmC,EAAe/mB,EAAavf,sBAMhC,OAAOmnC,uBAAuBV,EALlB,CACR7jE,IAAKnF,KAAKK,MAAML,KAAKC,IAAI4oE,EAAa1jE,IAAMwkE,EAAQxqC,EAAWh6B,MAC/DlF,IAAKD,KAAKI,KAAKJ,KAAKmF,IAAI0jE,EAAa5oE,IAAM0pE,EAAS,EAAGxqC,EAAWl/B,QAGnB+pE,cAAc9xE,EAAQ8C,OAAQ2uE,EACrF,CAEA,SAASI,UAAU39C,GACf,IAAI01B,EAAe11B,EAAQ01B,aACvBpmC,EAASuuD,gBAAgB79C,GACzB5iB,EAAO,GAWX,OAVAkS,EAAOzZ,SAAQ,SAAU3B,GACrB,IAAIilC,EAAajlC,EAAI,GACjBpJ,EAAQoJ,EAAI,GAEhBkJ,EAAK+7B,GAAc,CACfhzC,SAAUuvD,EAAa1gB,WAAWmE,GAAY,GAC9CruC,MAAOA,EAEf,IAEIsS,EAAK/R,OAAS,EACP+R,EAGJ,IACX,CAEA,IAAI2gE,UAAY,EACZC,UAAY,EAEhB,SAASC,oBAAoBlC,EAAc1xB,EAAa6zB,GAUpD,IATA,IAAIv/D,EAAI/K,KAAKmF,IAAInF,KAAKC,IAAIqqE,GAASH,UAAWA,WAAYC,WAAa,EACnEx0E,EAAI,IAAI0T,OACRzT,EAAI,IAAIyT,OACRhQ,EAAQ,EACRivE,EAAO9zE,OAAOD,UACdg0E,EAAO/zE,OAAOC,UACdk0E,EAAc,SAAU/vE,GAAK,OAAOA,CAAG,EACvC0xE,EAAe,GAEVlyE,EAAI,EAAGA,EAAI8vE,EAAa1wE,OAAQY,IAAK,CAC1C,IACIiI,EAAMm2C,EADE0xB,EAAa9vE,IAErB06C,EAASzyC,EAAIyyC,OACbC,EAAS1yC,EAAI0yC,OAEjB,GAAI75C,SAAS45C,IAAsB,OAAXA,GAAmB55C,SAAS65C,IAAsB,OAAXA,EAAiB,CAC5Eu1B,EAAOvoE,KAAKmF,IAAI4tC,EAAQw1B,GACxBC,EAAOxoE,KAAKC,IAAI8yC,EAAQy1B,GACxBlvE,IAGAzD,EAAE0I,IAAIlG,EAAG,EAAG26C,GAGZp9C,EAAE2I,IAAIlG,EAAG,EAAG,GACZzC,EAAE2I,IAAIlG,EAAG,EAAG06C,GACZ,IAAK,IAAI35B,EAAM,EAAGA,GAAOrO,EAAGqO,IACxBxjB,EAAE2I,IAAIlG,EAAG+gB,EAAKpZ,KAAKoZ,IAAIxjB,EAAEyI,IAAIhG,EAAG,GAAI+gB,GAE5C,MAEIxjB,EAAE2I,IAAIlG,EAAG,EAAG,EAEpB,CAYA,OATAzC,EAAEwC,MAAQ4H,KAAKmF,IAAI4F,EAAGzR,GAElBA,EAAQ,IAGRixE,EAAeC,iBAAiB50E,EAAGC,GACnC+yE,EAAc,SAAU/vE,GAAK,OAAO0xE,EAAa7G,QAAO,SAAU5qE,EAAGwR,EAAGD,GAAK,OAAOvR,EAAIwR,EAAItK,KAAKoZ,IAAIvgB,EAAGwR,EAAI,GAAG,EAAI,GAGhH,CACHkgE,aAAcA,EACdjxE,MAAOA,EACPsvE,YAAaA,EACbL,KAAMA,EACNC,KAAMA,EAEd,CAEA,SAASgC,iBAAiB50E,EAAGC,GAKzB,IAJA,IAAI40E,EAAK70E,EAAEwU,YACPsgE,EAAID,EAAGjgE,SAAS5U,GAAGgV,UAAUJ,SAASigE,GAAIjgE,SAAS3U,GAEnD00E,EAAe,GACVlyE,EAAI,EAAGA,EAAIqyE,EAAEnhE,OAAQlR,IAC1BkyE,EAAartE,KAAKwtE,EAAErsE,IAAIhG,EAAG,IAI/B,OAAOkyE,CAYX,CAEA,SAASI,oBAAoBv+C,GACzB,IAAIl0B,EAAUk0B,EAAQl0B,QAClB4pD,EAAe11B,EAAQ01B,aAGvBt4C,EAAOohE,UAAU,CAAE5B,aAFJ58C,EAAQ48C,aAEwBlnB,aAAcA,EAAc5pD,QAASA,IACxF,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,OACP+H,KAAMA,EACNy/D,cAAe,WACfjuE,MAAO,UAGR,IACX,CAEA,IAAI6vE,cAAgB,SAAUj1B,GAAa,OAAO,SAAUt1C,GAIpD,MAAO,CAAGyyC,OAHOzyC,EAAIilC,WAGU,EAAGyN,OAFhB1yC,EAAIu0C,YAEgCe,GAC5D,CAAK,EAEP,SAASg1B,UAAUtqE,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnBlnB,EAAexhD,EAAIwhD,aACnB5pD,EAAUoI,EAAIpI,QAEdoyE,GAASpyE,EAAQgyE,WAAa,CAAC,GAAGI,MAClClhD,EAAQihD,oBAAoBrB,IAAgB6B,cAAc3yE,EAAQ8C,OAAQsvE,GAC1EhxE,EAAQ8vB,EAAM9vB,MACdsvE,EAAcx/C,EAAMw/C,YAExB,OAAItvE,EAAQ,EAIDqvE,kBAAiB,SAAU9vE,GAAK,OAAO+vE,EAAY/vE,EAAI,GAAGipD,GAG9D,IACX,CAEA,SAASgpB,eAAe1+C,GACpB,IAAIl0B,EAAUk0B,EAAQl0B,QAClB4pD,EAAe11B,EAAQ01B,aAGvBt4C,EAAOuhE,UAAU,CAAE/B,aAFJ58C,EAAQ48C,aAEwBlnB,aAAcA,EAAc5pD,QAASA,IACxF,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,OACP+H,KAAMA,EACNy/D,cAAe,WACfjuE,MAAO,UAGR,IACX,CAEA,IAAIgwE,cAAgB,SAAUp1B,GAAa,OAAO,SAAUt1C,GACpD,IAAIilC,EAAajlC,EAAIilC,WACjBsP,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ/yC,KAAKqZ,IAAIksB,EAAa,GAAIyN,OAAQhzC,KAAKqZ,IAAIw7B,EAAYe,IAC/E,CAAK,EAEP,SAASm1B,UAAUzqE,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnBlnB,EAAexhD,EAAIwhD,aACnB5pD,EAAUoI,EAAIpI,QAEdiwE,EAAea,IACnB,IAAKP,iBAAiBN,EAAcjwE,EAAQ8C,OACxC,OAAO,KAGX,IAAIouB,EAAQ8+C,eAAeC,EAAc6C,cAAc9yE,EAAQ8C,QAC3DotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAEtB,GADYj/C,EAAM9vB,MACN,EAAG,CAGX,IAAIgR,EAAItK,KAAKmpE,IAAId,GACb9hE,EAAI6hE,EAER,OAAOO,kBAAiB,SAAU9vE,GAAK,OAAOyR,EAAItK,KAAKoZ,IAAIvgB,EAAG0N,EAAI,GAAGu7C,EACzE,CAEA,OAAO,IACX,CAEA,IAAIkmB,SAAW,CAAC,EAChBA,SAAShtB,uBAAyB8tB,qBAClCd,SAAS/sB,kBAAoBmuB,gBAC7BpB,SAAS9sB,uBAAyBquB,qBAClCvB,SAAS7sB,0BAA4B2uB,uBACrC9B,SAAS5sB,sBAAwBuvB,oBACjC3C,SAAS3sB,iBAAmByvB,eAE5B,IAAIG,YAAc,CAAElyB,KAAM0B,cAAeL,WAAYS,qBACjDqwB,oBAAsB,CAAEvxB,KAAMiB,eAAgB70C,OAAOklE,aAErDE,oBAAuB,SAAUnR,GACjC,SAASmR,IACLnR,EAAaz6D,MAAM3B,KAAMjD,UAC7B,CAg3BA,OA92BKq/D,IAAemR,EAAoB90E,UAAY2jE,GACpDmR,EAAoB/sE,UAAYjI,OAAOuN,OAAQs2D,GAAgBA,EAAa57D,WAC5E+sE,EAAoB/sE,UAAUhE,YAAc+wE,EAE5CA,EAAoB/sE,UAAUi0B,WAAa,SAAqB/P,GAS5D,GANA1kB,KAAKwtE,kBAAoB,CAAC,EAC1BxtE,KAAKwnD,eAAiB,CAAC,EACvBxnD,KAAKytE,sBAAwB,IAAIrd,sBACjCpwD,KAAK0tE,mBAAqB,CAAC,EAC3B1tE,KAAK2tE,oBAAsB,CAAC,EAExBjpD,EAAO7qB,OAAS,EAAG,CACnBmG,KAAK8kD,WAAa3kD,QACdukB,EAAO,GAAG7gB,KAAM,CAAEu3C,IAAKG,OAAQyB,cAAeH,cAAeI,oBACzDR,UAAWX,qBAAsBgB,oBAGzC,IAAK,IAAIriD,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CACpC,IAAI2oD,EAAQ1+B,EAAOjqB,GAAG2oD,MACtB,GAAIA,GAAwB,SAAfA,EAAMv/C,KAAiB,CAhB7B7D,KAiBM4tE,UAAW,EACpB,KACJ,CACJ,CACJ,CACJ,EAEAL,EAAoB/sE,UAAUuwB,OAAS,SAAiBisC,QACrC,IAAVA,IAAmBA,EAAQh9D,KAAKg9D,OAErCh9D,KAAK0kB,OAAS,GAAGvc,OAAQnI,KAAKy8D,gBAC9Bz8D,KAAK6tE,mBAAmB7Q,GAExBh9D,KAAK8tE,oBAAoB9Q,GACzBh9D,KAAKukE,sBAAsBvH,GAE3Bh9D,KAAK+tE,yBAAyB/Q,GAC9Bh9D,KAAKguE,aAAahR,GAClBh9D,KAAKiuE,gBAAgBjR,EACzB,EAEAuQ,EAAoB/sE,UAAU+6D,WAAa,SAAqB5lD,GAC5D,IAAIowC,EAAWpwC,EAAKrb,QAAQ5F,KAE5B0nE,EAAa57D,UAAU+6D,WAAWp6D,KAAKnB,KAAM2V,GAEzCA,aAAgBmrB,oBACT9gC,KAAKwtE,kBAAkBznB,IAE9B/lD,KAAKytE,sBAAsBhd,MAAM1K,UAC1B/lD,KAAKwnD,eAAezB,IAG3BpwC,IAAS3V,KAAKkkD,qBACPlkD,KAAKkkD,aAGZvuC,IAAS3V,KAAK4hC,kBACP5hC,KAAK4hC,SAEpB,EAEA2rC,EAAoB/sE,UAAU8jE,iBAAmB,SAA6BhqE,EAASoqB,GACnF,IAAIw/B,EAAelkD,KAAKmkD,mBAAmB7pD,GACvC8wE,EAAeprE,KAAKorE,aAAaljE,KAAKlI,KAAM0kB,EAAOjpB,OAEnD6wE,EAAYhI,iBAAiB8F,SAAU9vE,EAAQuJ,KAAM,CACrDvJ,QAASA,EACT4pD,aAAcA,EACdknB,aAAcA,IAGlB,OAAIkB,GAEAA,EAAUpoB,aAAex/B,EAAOw/B,aAChCooB,EAAU1qC,UAAYld,EAAOkd,UAEtB5hC,KAAKkuE,aAAa5B,EAAWpoB,IAGjCooB,CACX,EAEAiB,EAAoB/sE,UAAU2tE,2BAA6B,WACvD,OAAOnuE,KAAK0kB,OACPtjB,KAAI,SAAUsjB,GAAU,OAAQA,EAAO4nD,WAAa,CAAC,GAAG3jC,QAAU,IAClEl/B,QAAO,SAAUk/B,GAAY,YAAoBnhC,IAAbmhC,CAAwB,IAC5Dm9B,QAAO,SAAUlqE,EAAQ+sC,GAAY,MAAO,CACzCE,OAAQzmC,KAAKC,IAAIzG,EAAOitC,OAAQF,EAASE,QAAU,GACnDC,MAAO1mC,KAAKC,IAAIzG,EAAOktC,MAAOH,EAASG,OAAS,GAChD,GAAG,CAAED,OAAQ,EAAGC,MAAO,GACnC,EAEAykC,EAAoB/sE,UAAU4qE,aAAe,SAAuBxmB,EAAUvvB,GAC1E,IAEIz5B,EAAS,GAET8oB,EAAS1kB,KAAKouE,UAAUxpB,GACxBV,EAAelkD,KAAKmkD,mBAAmBz/B,GAC5Bq9B,iBAAiBmC,EAAa5pD,QAAQuJ,KAAM/N,QAEvDkK,KAAK0tE,mBAAqB,CAAC,EAC3B1tE,KAAK2tE,oBAAsB,CAAC,EAC5BzpB,EAAa5pD,QAAQ4pC,UAAY,GACjCxf,EAAS1kB,KAAKquE,gBAAgB3pD,EAAQw/B,EAAcA,EAAapf,sBAKrE,IAFA,IAAIv9B,EAAM8tB,EAAQA,EAAM9tB,IAAM,EAC1BlF,EAAMgzB,EAAQA,EAAMhzB,IAAMqiB,EAAO9Y,KAAK/R,OACjC8tC,EAAapgC,EAAKogC,EAAatlC,EAAKslC,IAAc,CACvD,IAAI/7B,EAjBO5L,KAiBSq3C,UAAU3yB,EAAQijB,GACtC/rC,EAAO0D,KAAK,CAAEqoC,WAAYA,EAAYhzC,SAAUiX,EAAKzM,OAAOxK,SAAUsiD,YAAarrC,EAAKqrC,aAC5F,CAEA,OAAOr7C,CACX,EAEA2xE,EAAoB/sE,UAAUwtE,aAAe,SAAuBhR,GAKhE,IAJA,IAAI/pD,EAAWjT,KAEX8+D,EAAe9+D,KAAK6+D,oBAEfpkE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAI+8B,EAAOwlC,EAAMviE,GACb6zE,EAAaxP,EAAatnC,EAAKl9B,QAAQ5F,MAAQ,YAAc,GACjEue,EAAS6qD,YAAYwQ,GAErB,IAAIC,EAAgBt7D,EAAS+rD,oBAAoBsP,GACjD,GAAKC,EAKL,IADA,IAAI7iD,EAASzY,EAASu7D,0BAA0BD,GACvCE,EAAU,EAAGA,EAAU/iD,EAAO7xB,OAAQ40E,IAC3Cx7D,EAASy7D,iBAAiBhjD,EAAO+iD,GAAUj3C,EAEnD,CACJ,EAEA+1C,EAAoB/sE,UAAUkuE,iBAAmB,SAA2BhqD,EAAQ8S,GAChFx3B,KAAK2uE,gBACDrsB,mBAAmB59B,EAAQ,CAAEy2B,KAAM0B,gBAAkBrlB,GAGzDx3B,KAAK4uE,qBACDtsB,mBAAmB59B,EAAQ,CAAE83B,WAAYS,sBAAwBzlB,GAGrEx3B,KAAK6uE,eACDvsB,mBAAmB59B,EAAQ,CAAE+2B,OAAQL,MAAQ5jB,GAGjDx3B,KAAK8uE,oBACDxsB,mBAAmB59B,EAAQ,CAAEg4B,aAAcD,YAAcjlB,GAG7Dx3B,KAAK+uE,kBACDzsB,mBAAmB59B,EAAQ,CAAE62B,OAAQwB,kBAAoBvlB,GAG7Dx3B,KAAKgvE,uBACD1sB,mBAAmB59B,EAAQ82B,aAAchkB,GAG7Cx3B,KAAKivE,mBACD3sB,mBAAmB59B,EAAQ,CAAE22B,SAAUyB,oBAAsBtlB,GAGjEx3B,KAAKkvE,gBACD5sB,mBAAmB59B,EAAQs3B,MAAOxkB,GAGtCx3B,KAAKmvE,qBACD7sB,mBAAmB59B,EAAQ,CAAEw4B,UAAWpB,uBAAyBtkB,GAGrEx3B,KAAKovE,gBACD9sB,mBAAmB59B,EAAQ,CAAEq3B,KAAMiB,gBAAkBxlB,EAE7D,EAEA+1C,EAAoB/sE,UAAUstE,oBAAsB,SAA8B9Q,GAC9E,IAAI/pD,EAAWjT,KAEX0kB,EAAS,GAAGvc,OAAQnI,KAAK0kB,QACzB2qD,EAAkB,GACtBrvE,KAAK2tE,oBAAsB,CAAC,EAC5B3tE,KAAK0tE,mBAAqB1tE,KAAK0tE,oBAAsB,CAAC,EAEtD,IAAK,IAAIjzE,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CACpC,IAAI+nD,EAAgB99B,EAAOjqB,GAE3B,IAAKwY,EAASoxD,YAAY7hB,GAAgB,CACtC,IAAI0B,EAAejxC,EAASkxC,mBAAmB3B,GAC3C8sB,EAAWr8D,EAASsqD,SAASrZ,EAAa5pD,QAAQk9B,MAIlDgrB,GAHWT,iBAAiBmC,EAAa5pD,QAAQuJ,KAAM/N,OAE1C0sD,EAAc6oB,gBAAkBlrE,QAAQmvE,EAAUtS,GAC/C/pD,EAASo7D,gBAAgB7rB,EAAe0B,EAAcA,EAAavf,uBAEnE1xB,EAASi7D,aAAa1rB,EAAe0B,EAE7D,CAEAmrB,EAAgB/vE,KAAKkjD,EACzB,CAEAxiD,KAAK0tE,mBAAqB1tE,KAAK2tE,oBAC/B3tE,KAAK2tE,oBAAsB,KAE3B3tE,KAAKouE,UAAY1pD,EACjB1kB,KAAK0kB,OAAS2qD,CAClB,EAEA9B,EAAoB/sE,UAAU0tE,aAAe,SAAuBxpD,EAAQw/B,GACxE,IAAIqrB,GAAc7qD,EAAO9Y,MAAQ,CAAC,GAAG/R,OAGrC,GAFAqqD,EAAaziB,WAAar/B,KAAKC,IAAI6hD,EAAaziB,YAAc,EAAG8tC,IAE3D1sE,QAAQqhD,EAAa5pD,QAAQiN,OAAQ1E,QAAQqhD,EAAa5pD,QAAQ+H,KACpE,OAAOqiB,EAGX,IAAI2Q,EAAQ6uB,EAAavf,sBACrB6qC,EAAmBrvE,QAAQukB,EAAO7gB,KAAMypE,qBACxC9qB,EAAgB3lD,WAAW,CAAC,EAAG6nB,GAYnC,OAVA89B,EAAc52C,MAAQ42C,EAAc52C,MAAQ,IAAItC,MAAM+rB,EAAM9tB,IAAK8tB,EAAMhzB,IAAM,GAEzEmtE,GACA9rB,uBAAuBlB,EAAentB,EAAOk6C,GAAY,SAAU31E,GAAO,MAAO,CAC7E8N,KAAMgd,EAAO9Y,KAAKhS,GAClBjF,SAAUuvD,EAAa1gB,WAAW5pC,GAAK,GACvC+tC,WAAY/tC,EAAMy7B,EAAM9tB,IACxB,IAAG,SAAU3N,GAAO,OAAOiJ,QAAQ6hB,EAAO9Y,KAAKhS,GAAO,IAGvD4oD,CACX,EAEA+qB,EAAoB/sE,UAAUivE,uBAAyB,WACnDzvE,KAAK0tE,mBAAqB,CAAC,CAC/B,EAEAH,EAAoB/sE,UAAUkvE,mBAAqB,SAA6BhrD,EAAQw/B,GACpF,IAEIxjD,EAAOgkB,EAAY,MAAI,IAAOw/B,EAAaljB,iBAC/C,GAAIhhC,KAAK0tE,oBAAsB1tE,KAAK0tE,mBAAmBhtE,GAEnD,OADAV,KAAK2tE,oBAAoBjtE,GAAOV,KAAK0tE,mBAAmBhtE,GACjDV,KAAK0tE,mBAAmBhtE,GAGnC,IAAI8qC,EAAc0Y,EAAa5pD,QAC3B6mC,EAAgBqK,EAAYrK,cAC5BwuC,EAAW5tB,iBAAiBvW,EAAY3nC,KAAM/N,MAC9C85E,EAAUlrD,EAAO9Y,KACjBhQ,EAAS,GACR+zE,GACDzrB,EAAanf,kBAGjB,IAAK,IAAInrC,EAAM,EAAGA,EAAMg2E,EAAQ/1E,OAAQD,IAAO,CAC3C,IAAIjF,EAAWgiD,aAAah/B,QAAQ0/B,UAAU3yB,EAAQ9qB,GAAKuF,OAAOxK,SASlE,GARIg7E,IACAh7E,EAAW+tD,kBAAkB/tD,EAAUi7E,EAAQh2E,GApBxCoG,KAoBuDqiB,aAAaqQ,OAG1E7vB,QAAQlO,KACTA,EAAWwsC,EAAcvnC,IAGzBiJ,QAAQlO,IAA0B,OAAbA,EAAmB,CACxC,IAAIgzC,EAAauc,EAAa3gB,WAAW5uC,GACzCiH,EAAO+rC,GAAc/rC,EAAO+rC,IAAe,CAAEtY,MAAO,GAAI16B,SAAUA,GAClEiH,EAAO+rC,GAAYtY,MAAM/vB,KAAK1F,EAClC,CACJ,CAIA,OAFAoG,KAAK2tE,oBAAoBjtE,GAAO9E,EAEzBA,CACX,EAEA2xE,EAAoB/sE,UAAU6tE,gBAAkB,SAA0B3pD,EAAQw/B,EAAc7uB,GAE5F,IADc3Q,EAAO9Y,KACR/R,OACT,OAAO6qB,EA4BX,IAzBA,IAAImiD,EAAY7mE,KAAK0vE,mBAAmBhrD,EAAQw/B,GAC5CtoD,EAASiB,WAAW,CAAC,EAAG6nB,GACxBmrD,EAAa,IAAI3J,iBAAiBrpE,WAAW,CAAC,EAAG6nB,GAASiyB,aAAah/B,QAASyvD,kBAAkBzvD,SAClG/L,EAAOhQ,EAAOgQ,KAAO,GAErBs4B,EAAYggB,EAAa5pD,QAAQ4pC,WAAa,GAE9C4rC,EAAe,SAAUl2E,GACzB,IAAIm2E,EAAcn2E,EAAMy7B,EAAM9tB,IAC1BuU,EAAQ+qD,EAAUjtE,GAOtB,GANKkiB,IACDA,EAAQ+qD,EAAUjtE,GAAO,CAAC,GAG9BkiB,EAAM6rB,WAAaooC,GAEdj0D,EAAMpU,KAAM,CACb,IAAI/S,EAAWuvD,EAAa1gB,WAAW5pC,GAAK,GAC5CkiB,EAAMnnB,SAAWA,EACjBmnB,EAAMpU,KAAOmoE,EAAWjJ,gBAAgB9qD,EAAMuT,MAAO16B,EACzD,CAEA,OAAOmnB,CACX,EAESliB,EAAMy7B,EAAM9tB,IAAK3N,GAAOy7B,EAAMhzB,IAAKzI,IAAO,CAC/C,IAAIkiB,EAAQg0D,EAAal2E,GACzBgS,EAAKkQ,EAAM6rB,YAAc7rB,EAAMpU,KAE3BoU,EAAMuT,OAASvT,EAAMuT,MAAMx1B,SAC3BqqC,EAAUpoB,EAAM6rB,YAAc7rB,EAAMpU,KAE5C,CAQA,OANIvH,QAAQvE,EAAOiI,KAAMypE,sBACrB5pB,uBAAuB9nD,EAAQy5B,EAAO6uB,EAAatf,aAAckrC,GAAc,SAAUl2E,GAAO,OAAOitE,EAAUjtE,EAAM,IAG3HsqD,EAAa5pD,QAAQ4pC,UAAYA,EAE1BtoC,CACX,EAEA2xE,EAAoB/sE,UAAU66D,YAAc,SAAsBpoC,EAAOuE,GACrE,IAAI9S,EAASuO,EAAM34B,QAAQoqB,OACvBw/B,EAAelkD,KAAKmkD,mBAAmBz/B,EAAO,IAC9Cwc,EAAagjB,EAAa5pD,QAAQ4mC,WAClC8uC,EAAkB5tE,KAAKC,IAAI,EAAGohC,gBAAgB/e,GAAUwc,EAAWrnC,QAEvE,GAAIm2E,EAAkB,EAElB,IADA9uC,EAAagjB,EAAa5pD,QAAQ4mC,WAAagjB,EAAa5pD,QAAQ4mC,WAAW53B,MAAM,GAC9E0mE,KACH9uC,EAAW5hC,KAAK,IAIxBU,KAAKytE,sBAAsBnd,OAAOr9B,EAAMmxB,iBAExCgY,EAAa57D,UAAU66D,YAAYl6D,KAAKnB,KAAMizB,EAAOuE,EACzD,EAGA+1C,EAAoB/sE,UAAUu+D,eAAiB,SAAyBr6C,GACpE,IAAIpqB,EAAU0F,KAAK1F,QACfyrD,EAAWrhC,EAAO/O,KAElBA,EAAOnW,KADO,GAAG2I,OAAO7N,EAAQsnC,YACP,SAASl1B,GAAK,OAAOA,EAAEhY,OAASqxD,CAAU,IAAG,GAEtEkqB,IADQ31E,EAAQ0iE,OAAS,CAAE,CAAC,IACH,IAAM,CAAC,GAAGtoE,MAAQ,UAG/C,OAFgBihB,GAAQ,CAAC,GAAG6hB,MAAQy4C,CAGxC,EAEA1C,EAAoB/sE,UAAU2jD,mBAAqB,SAA6Bz/B,GAC5E,IAAIqhC,EAAWrhC,EAAOw/B,aAClBvuC,EAAOowC,EAAW/lD,KAAKwtE,kBAAkBznB,GAAY/lD,KAAKkkD,aAE9D,IAAKvuC,EACD,MAAM,IAAIo5B,MAAM,4CAA8CgX,GAGlE,OAAOpwC,CACX,EAEA43D,EAAoB/sE,UAAU0vE,sBAAwB,SAAgCxrD,EAAQ8S,GAC1F,IAAI24C,EAAmBzrD,EAAOmhD,MAAK,SAAUh5D,GAAK,OAAOA,EAAEu2C,KAAO,IAC9D4B,EAAetgC,EAAOmhD,MAAK,SAAUh5D,GAAK,OAAOA,EAAEu2C,OAA0B,SAAjBv2C,EAAEu2C,MAAMv/C,IAAiB,IACrFumC,EAAO5S,EAAKl9B,QAAQ8vC,KAExB,MAAO,CACHsb,aAAchhC,EAAO,GAAG0+B,MACxBkC,UAAW6qB,EACXnrB,aAAcA,EACd5a,KAAMA,EAEd,EAEAmjC,EAAoB/sE,UAAUguE,0BAA4B,SAAoC9pD,GAG1F,IAFA,IAAI0rD,EAAe,GACfC,EAAS,CAAC,EACLz2E,EAAM,EAAGA,EAAM8qB,EAAO7qB,OAAQD,IAAO,CAC1C,IAAIlF,EAAOgwB,EAAO9qB,GAAKsqD,cAAgB,cAClCz4C,eAAe4kE,EAAQ37E,KACxB27E,EAAO37E,IAAQ,EACf07E,EAAa9wE,KAAK5K,GAE1B,CAGA,IADA,IAAIg3B,EAAS,GACJizC,EAAS,EAAGA,EAASyR,EAAav2E,OAAQ8kE,IAAU,CACzD,IACI2R,EAAaC,YAAY7rD,EADlB0rD,EAAazR,GACmBA,GACjB,IAAtB2R,EAAWz2E,QAIf6xB,EAAOpsB,KAAKgxE,EAChB,CAEA,OAAO5kD,CACX,EAEA6hD,EAAoB/sE,UAAUquE,eAAiB,SAAyBnqD,EAAQ8S,GAC5E,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrB+rD,EAAW,IAAIxe,SAASjyD,KAAMzH,OAAO4a,OAAO,CAC5CuR,OAAQA,EACRogC,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjB5zD,QAASwyE,EAAYxyE,SACtBgC,KAAKkwE,sBAAsBxrD,EAAQ8S,KAEtCx3B,KAAKq7D,YAAYoV,EAAUj5C,EAV3B,CAWJ,EAEA+1C,EAAoB/sE,UAAUsuE,oBAAsB,SAA8BpqD,EAAQ8S,GACtF,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBgsD,EAAmB,IAAI9I,cAAc5nE,KAAM,CAC3C0kB,OAAQA,EACRogC,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjB5zD,QAASwyE,EAAYxyE,UAGzBgC,KAAKq7D,YAAYqV,EAAkBl5C,EAVnC,CAWJ,EAEA+1C,EAAoB/sE,UAAUuuE,kBAAoB,SAA4BrqD,EAAQ8S,GAClF,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBisD,EAAc,IAAI/X,YAAY54D,KAAM,CACpC0kB,OAAQA,EACRogC,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjB5zD,QAASwyE,EAAYxyE,QACrBosC,KAAM5S,EAAKl9B,QAAQ8vC,OAGvBpqC,KAAKq7D,YAAYsV,EAAan5C,EAX9B,CAYJ,EAEA+1C,EAAoB/sE,UAAU4uE,gBAAkB,SAA0B1qD,EAAQ8S,GAC9E,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI+2E,EAAY,IAAI/iB,UAAU7tD,KAAMzH,OAAO4a,OAAO,CAC9C2xC,WAAY9kD,KAAK8kD,WACjBpgC,OAAQA,GACT1kB,KAAKkwE,sBAAsBxrD,EAAQ8S,KAEtCx3B,KAAKq7D,YAAYuV,EAAWp5C,EAP5B,CAQJ,EAEA+1C,EAAoB/sE,UAAUmuE,gBAAkB,SAA0BjqD,EAAQ8S,GAC9E,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAIg3E,EAAY,IAAIthB,UAAUvvD,KAAMzH,OAAO4a,OAAO,CAC9C2xC,WAAY9kD,KAAK8kD,WACjBpgC,OAAQA,GACT1kB,KAAKkwE,sBAAsBxrD,EAAQ8S,KAEtCx3B,KAAKq7D,YAAYwV,EAAWr5C,EAP5B,CAQJ,EAEA+1C,EAAoB/sE,UAAUouE,qBAAuB,SAA+BlqD,EAAQ8S,GACxF,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAIi3E,EAAiB,IAAI1H,eAAeppE,KAAM,CAC1C8kD,WAAY9kD,KAAK8kD,WACjBpgC,OAAQA,EACR0lB,KAAM5S,EAAKl9B,QAAQ8vC,OAGvBpqC,KAAKq7D,YAAYyV,EAAgBt5C,EARjC,CASJ,EAEA+1C,EAAoB/sE,UAAU0uE,gBAAkB,SAA0BxqD,EAAQ8S,GAC9E,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBuO,EAAQ,IAAI42C,UAAU7pE,KAAM,CAC5B8kD,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjBltC,OAAQA,EACR1mB,QAASwyE,EAAYxyE,QACrBosC,KAAM5S,EAAKl9B,QAAQ8vC,OAGvBpqC,KAAKq7D,YAAYpoC,EAAOuE,EAXxB,CAYJ,EAEA+1C,EAAoB/sE,UAAUwuE,uBAAyB,SAAiCtqD,EAAQ8S,GAC5F,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBuO,EAAQ,IAAIqhC,iBAAiBt0D,KAAM,CACnC8kD,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjBltC,OAAQA,EACR1mB,QAASwyE,EAAYxyE,QACrBosC,KAAM5S,EAAKl9B,QAAQ8vC,OAGvBpqC,KAAKq7D,YAAYpoC,EAAOuE,EAXxB,CAYJ,EAEA+1C,EAAoB/sE,UAAUyuE,mBAAqB,SAA6BvqD,EAAQ8S,GACpF,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBuO,EAAQ,IAAIkjC,aAAan2D,KAAM,CAC/B8kD,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjBltC,OAAQA,EACR1mB,QAASwyE,EAAYxyE,QACrBosC,KAAM5S,EAAKl9B,QAAQ8vC,OAGvBpqC,KAAKq7D,YAAYpoC,EAAOuE,EAXxB,CAYJ,EAEA+1C,EAAoB/sE,UAAU2uE,qBAAuB,SAA+BzqD,EAAQ8S,GACxF,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBqsD,EAAiB,IAAIhH,eAAe/pE,KAAM,CAC1C0kB,OAAQA,EACRogC,WAAY9kD,KAAK8kD,WACjB8M,IAAK4e,EAAY5e,IACjB5zD,QAASwyE,EAAYxyE,UAGzBgC,KAAKq7D,YAAY0V,EAAgBv5C,EAVjC,CAWJ,EAEA+1C,EAAoB/sE,UAAUwwE,qBAAuB,SAA+BC,EAAkBC,GAKlG,IAJA,IAEIC,EAAiB7uB,mBAAmBtiD,KAAK0kB,OAAQy4B,uBAE5CyH,EAAW,EAAGA,EAAW5kD,KAAK0kB,OAAO7qB,OAAQ+qD,IAAY,CAC9D,IAAIpC,EALOxiD,KAKkB0kB,OAAOkgC,GACpC,GAAIzkD,QAAQqiD,EAAc3+C,KAAMwpE,aAAc,CAC1C,IAAIlhE,EAAOq2C,EAAcr2C,KACrBA,GAAQA,EAAK1O,QAAUy9C,MACvBi2B,EAAe7xE,KAAKkjD,EAE5B,CACJ,CAEA,IAAK,IAAI+F,EAAa,EAAGA,EAAa4oB,EAAet3E,OAAQ0uD,IAAc,CACvE,IAAI6oB,EAAaD,EAAe5oB,GAAYrE,cAAgB,GAC5D,GAAIktB,IAAeH,IAAsBG,GAAoC,IAAtBF,EACnD,OAAO,CAEf,CACJ,EAEA3D,EAAoB/sE,UAAU6wE,eAAiB,SAAyBJ,EAAkBC,GAGtF,IAFA,IAAIxsD,EAAS1kB,KAAK0kB,OAETkgC,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAAY,CACzD,IAAIwsB,EAAa1sD,EAAOkgC,GAAUV,cAAgB,GAClD,IAAKktB,IAAeH,IAAsBG,GAAoC,IAAtBF,IAA6BxsD,EAAOkgC,GAAUymB,cAClG,OAAO,CAEf,CACJ,EAEAkC,EAAoB/sE,UAAUutE,yBAA2B,WAErD,IADA,IAAIt2C,EAAOz3B,KAAKy3B,KACPh9B,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IACzBg9B,EAAKh9B,aAAcqmC,cACnBrJ,EAAKh9B,GAAGk6B,cAGpB,EAEA44C,EAAoB/sE,UAAUqtE,mBAAqB,SAA6B7Q,GAO5E,IANA,IAAI/pD,EAAWjT,KAEX8kD,EAAa9kD,KAAK8kD,WAClBwsB,EAAc,GAAGnpE,OAAOnI,KAAK1F,QAAQ4pD,cACrCzsB,EAAO,GAEFh9B,EAAI,EAAGA,EAAI62E,EAAYz3E,OAAQY,IAAK,CACzC,IAAI+wC,EAAc8lC,EAAY72E,GAG9B,GAAI0F,QAFW8S,EAASsqD,SAAS/xB,EAAYhU,MAEvBwlC,GAAQ,CAC1B,IAAItoE,EAAO82C,EAAY92C,KACnBwsC,EAAasK,EAAYtK,gBAAgC,IAAfA,IAAwBA,EAAa,IACnFsK,EAAc3uC,WAAW,CACrBkuB,SAAU+5B,EACVv1B,SAAUu1B,GAAc7xC,EAASoP,aAAa6Q,IAC9CkJ,kBAAmB0oB,EAAaluD,UAAY,GAC7C40C,GAEE3oC,QAAQ2oC,EAAYtP,aACrBsP,EAAYtP,UAAYjpB,EAASs+D,eAGjCt+D,EAAS+9D,qBAAqBt8E,EAAM+F,KACpC+wC,EAAYtP,WAAY,GAG5B,IAAIgoB,OAAe,EAWnB,GATIrB,WAAWrX,EAAatK,EAAW,KACnCsK,EAAY5C,UAAY31B,EAASk7D,6BACjCjqB,EAAe,IAAI/b,iBAAiBqD,EAAav4B,EAASoP,eAE1D6hC,EAAe,IAAIpjB,aAAa0K,EAAav4B,EAASoP,cAG1DivD,EAAY72E,GAAGymC,WAAagjB,EAAa5pD,QAAQ6mC,cAE7CzsC,EAAM,CACN,GAAIue,EAASu6D,kBAAkB94E,GAC3B,MAAM,IAAIq6C,MAAO,2BAA6Br6C,EAAO,uBAEzDue,EAASu6D,kBAAkB94E,GAAQwvD,CACvC,CAEAA,EAAamE,UAAY5tD,EACzBg9B,EAAKn4B,KAAK4kD,GACVjxC,EAASkoD,WAAWjX,EACxB,CACJ,CAEA,IAAIstB,EAAcxxE,KAAKkkD,cAAgBzsB,EAAK,GAC5Cz3B,KAAKkkD,aAAestB,EAEhB1sB,EACA9kD,KAAK41B,MAAQ47C,EAEbxxE,KAAK21B,MAAQ67C,CAErB,EAEAjE,EAAoB/sE,UAAU+wE,YAAc,WAGxC,IAFA,IAAI7sD,EAAS1kB,KAAK0kB,OAETjqB,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CAEpC,IAAK0F,QADeukB,EAAOjqB,GACAoJ,KAAMwpE,aAC7B,OAAO,CAEf,CAEA,OAAO,CACX,EAEAE,EAAoB/sE,UAAUytE,gBAAkB,SAA0BjR,GACtE,IAAI/pD,EAAWjT,KAEXyxE,EAAUzxE,KAAKytE,sBACfiE,EAAeD,EAAQ/gB,QACvB4gB,EAAc,GAAGnpE,OAAOnI,KAAK1F,QAAQsnC,WACrCkjB,EAAa9kD,KAAK8kD,WAClB6sB,EAAc,CAAE5mD,UAAW+5B,EAAYv1B,QAASu1B,GAAc9kD,KAAKqiB,aAAa6Q,KAChFuE,EAAO,GAEPz3B,KAAK4tE,WACL+D,EAAYvlC,kBAAmB,EAC/BulC,EAAYz9C,OAAS,CAAExE,OAAQ,OAGnC,IAAK,IAAIj1B,EAAI,EAAGA,EAAI62E,EAAYz3E,OAAQY,IAAK,CACzC,IAAI+wC,EAAc8lC,EAAY72E,GAG9B,GAAI0F,QAFW8S,EAASsqD,SAAS/xB,EAAYhU,MAEvBwlC,GAAQ,CAC1B,IAAItoE,EAAO82C,EAAY92C,KACnBk9E,EAAmB7vB,iBAAiBvW,EAAY3nC,KAAM27C,aAAe,CAAEj4C,IAAK,GAAKlF,IAAK,GAAM,CAAEkF,IAAK,EAAGlF,IAAK,GAC3GgzB,EAAQo8C,EAAQ/gB,MAAMh8D,IAASg9E,GAAgBE,EAEzC,IAANn3E,GAAW46B,GAASq8C,IACpBr8C,EAAM9tB,IAAMnF,KAAKmF,IAAI8tB,EAAM9tB,IAAKmqE,EAAanqE,KAC7C8tB,EAAMhzB,IAAMD,KAAKC,IAAIgzB,EAAMhzB,IAAKqvE,EAAarvE,MAGjD,IAOIu/B,EAAY,IANZmgB,iBAAiBvW,EAAY3nC,KAAM27C,aACxB5R,gBAEAzC,aAGc9V,EAAM9tB,IAAK8tB,EAAMhzB,IAC1CxF,WAAW,CAAC,EAAG80E,EAAanmC,GAC5Bv4B,EAASoP,cAGb,GAAI3tB,EAAM,CACN,GAAIue,EAASu0C,eAAe9yD,GACxB,MAAM,IAAIq6C,MAAO,wBAA0Br6C,EAAO,uBAEtDue,EAASu0C,eAAe9yD,GAAQktC,CACpC,CACAA,EAAUymB,UAAY5tD,EAEtBg9B,EAAKn4B,KAAKsiC,GACV3uB,EAASkoD,WAAWv5B,EACxB,CACJ,CAEA,IAAI4vC,EAAcxxE,KAAK4hC,WAAanK,EAAK,GACzCz3B,KAAK4hC,UAAY4vC,EAEb1sB,EACA9kD,KAAK21B,MAAQ67C,EAEbxxE,KAAK41B,MAAQ47C,CAErB,EAEAjE,EAAoB/sE,UAAUylE,eAAiB,SAAyBhzC,EAAOjxB,EAAG6vE,GAC9E,IAAIxmB,EAASp4B,EAAM6+C,kBAAkB9vE,GACjC8Z,EAAQ,IAAIH,QAAQ0vC,EAAOpwD,EAAGowD,EAAOnwD,GACrCs8B,EAAOx3B,KAAK+xE,UAAUj2D,GACtBolB,EAAa,GACb/3B,EAAS,GAEb,GAAKquB,EAAL,CAKA,IADA,IAAIikC,EAAUjkC,EAAKC,KACVh9B,EAAI,EAAGA,EAAIghE,EAAQ5hE,OAAQY,IAAK,CACrC,IAAIkb,EAAO8lD,EAAQhhE,GACfkb,EAAKm2B,SACL2V,gBAAgBt4C,EAAQwM,EAAKm2B,SAAShwB,IAEtC2lC,gBAAgBvgB,EAAYvrB,EAAK2tB,YAAYxnB,GAErD,CAE0B,IAAtBolB,EAAWrnC,QACX4nD,gBAAgBvgB,EAAYlhC,KAAKkkD,aAAa5gB,YAAYxnB,IAG1DolB,EAAWrnC,OAAS,GAAKsP,EAAOtP,OAAS,GACzCo5B,EAAM5xB,QAAQwwE,EAAW,CACrBp4E,QAASyJ,aAAalB,GACtBwT,cAAexT,EACfrN,SAAUquD,kBAAkB9hB,GAC5B5nC,MAAO0pD,kBAAkB75C,IArBjC,CAwBJ,EAEAokE,EAAoB/sE,UAAUuxE,UAAY,SAAoBj2D,GAG1D,IAFA,IAAIkhD,EAAQh9D,KAAKg9D,MAERviE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAIyiE,EAAcF,EAAMviE,GACxB,GAAIyiE,EAAY51C,WAAWzJ,cAAc/B,GACrC,OAAOohD,CAEf,CACJ,EAEAqQ,EAAoB/sE,UAAUwxE,kBAAoB,SAA8Br8D,EAAMrb,GAClF23E,oBAAoBjyE,KAAK1F,QAASqb,EAAMrb,GACxC23E,oBAAoBjyE,KAAKw8D,gBAAiB7mD,EAAMrb,EACpD,EAEAizE,EAAoB/sE,UAAUwkE,kBAAoB,SAA4BW,EAAWtrE,GAGrF,YAFgB,IAAXA,IAAoBA,EAAS,GAE9B2F,KAAK8kD,WACE9kD,KAAKkyE,uBAAuBvM,EAAUjhD,OAAOjpB,MAAOpB,GAGxD2F,KAAKmyE,sBAAsBxM,EAAU3a,WAChD,EAEAuiB,EAAoB/sE,UAAU2kE,oBAAsB,SAA8BQ,EAAWtrE,GAGzF,QAFgB,IAAXA,IAAoBA,EAAS,GAE9B2F,KAAK8kD,WACL,OAAO9kD,KAAKmyE,sBAAsBxM,EAAU3a,YAGhD,IAAIonB,EAAWpyE,KAAKkyE,uBAAuBvM,EAAUjhD,OAAOjpB,MAAOpB,GAEnE,OAAI2F,KAAKqiB,aAAa6Q,IACXk/C,EAAS7iD,UAGb6iD,CACX,EAEA7E,EAAoB/sE,UAAU2xE,sBAAwB,SAAgCxO,GAMlF,IALA,IAEI5I,EAAS/6D,KAAK+6D,OACdn/D,EAAS,GAEJnB,EAAI,EAAGA,EAAIsgE,EAAOlhE,OAAQY,IAAK,CACpC,IAAIw4B,EAAQ8nC,EAAOtgE,GAEnB,IAAIw4B,EAAMuE,MAAoC,eAA5BvE,EAAMuE,KAAKl9B,QAAQ5F,KAArC,CAIA,IAAIgzD,EAAcz0B,EAAMnV,OACnBrU,QAAO,SAAUqS,GAAS,OAAOA,IAA2B,IAAlBA,EAAM2G,SAAqB3G,EAAMkvC,aAAe2Y,CAAY,IAG3G/nE,EAAO0D,KAAKqC,MAAM/F,EAAQ8rD,EAAY/mC,KAhB3B3gB,KAgByCqyE,oBAAoB3qB,EAAY,KANpF,CAOJ,CAEA,OAAO9rD,CACX,EAEA2xE,EAAoB/sE,UAAU0xE,uBAAyB,SAAiC1O,EAAanpE,GACjG,IAAIoB,EAAQI,WAAW2nE,EAAcnpE,EAAQ2F,KAAK0kB,OAAO7qB,QAEzD,OAAOmG,KAAKujE,oBAAoB9nE,EACpC,EAEA8xE,EAAoB/sE,UAAU6xE,oBAAsB,SAA8Bv2D,GAC9E,IAAIwpC,EAAYtlD,KAAKsyE,mBAAmBx2D,GAExC,OAAIwpC,GAAatlD,KAAK8kD,aAAeQ,IAActlD,KAAK8kD,WAC7C,SAAUp4C,EAAG/D,GAAK,OAAO+D,EAAEoQ,IAAI3H,SAASla,EAAI0N,EAAEmU,IAAI3H,SAASla,CAAG,EAGlE,SAAUyR,EAAG/D,GAAK,OAAO+D,EAAEoQ,IAAI3H,SAASja,EAAIyN,EAAEmU,IAAI3H,SAASja,CAAG,CACzE,EAEAqyE,EAAoB/sE,UAAU8xE,mBAAqB,SAA6Bx2D,GAC5E,IAAIy2D,EAAiBpyE,QAAQ2b,EAAM4I,OAAO7gB,KACtC,CAAEs3C,KAAM0B,cAAeL,WAAYS,oBAAqBlB,KAAMiB,cAAeT,WAAYF,aAEzFm2B,EAAkBryE,QAAQ2b,EAAM4I,OAAO7gB,KAAM,CAAE43C,OAAQL,MAE3D,OAAOm3B,GAAkBC,GAAmB12D,EAAMxhB,QAAQgrD,SAC9D,EAEOioB,CACX,CAp3B0B,CAo3BxBnR,cAEF,SAAS6V,oBAAoBQ,EAAe98D,EAAMrb,GAE9CuC,WADiD,GAAGsL,OAAlCwN,aAAgBmrB,aAAyB2xC,EAAcvuB,aAA0BuuB,EAAc7wC,WAC1FjsB,EAAK0yC,WAAY/tD,EAC5C,CAEA,SAASi2E,YAAY7rD,EAAQ/O,EAAMgpD,GAC/B,OAAOn/D,KAAKklB,GAAQ,SAAS7X,GACzB,OAAmB,IAAX8xD,IAAiB9xD,EAAEq3C,cAAkBr3C,EAAEq3C,eAAiBvuC,CACpE,GACJ,CAEA/R,kBAAkB2pE,oBAAqB,CACnCrpB,aAAc,CAAC,EACftiB,UAAW,CAAC,IAGhB/kC,WAAW0wE,oBAAoB/sE,UAAWwlE,qBAE1C,IAAI0M,UAAa,SAAU//E,GACvB,SAAS+/E,IACL//E,EAAMwO,KAAKnB,MAEXA,KAAK2yE,QAAU,EACnB,CAqEA,OAnEKhgF,IAAQ+/E,EAAUj6E,UAAY9F,GACnC+/E,EAAUlyE,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDkyE,EAAUlyE,UAAUhE,YAAck2E,EAElCA,EAAUlyE,UAAU0R,QAAU,WAC1BlS,KAAK2yE,QAAU,EACnB,EAEAD,EAAUlyE,UAAU2jB,KAAO,SAAerG,EAAQsG,GAC9C,IAEIwuD,EAAc,GAAGzqE,OAAO2V,GAC5B9d,KAAKgxB,OAEL,IAAK,IAAIv2B,EAAI,EAAGA,EAAIm4E,EAAY/4E,OAAQY,IAAK,CACzC,IAAIqhB,EAAQ82D,EAAYn4E,GACpBqhB,GAASA,EAAMoI,iBAAmBpI,EAAMiI,iBAPjC/jB,KAQE6yE,qBAAqB/2D,GAAO,EAAMsI,GARpCpkB,KASE2yE,QAAQrzE,KAAKwc,GAE9B,CACJ,EAEA42D,EAAUlyE,UAAUqyE,qBAAuB,SAA+B/2D,EAAOqI,EAAMC,GACnF,IAAI0uD,GAAiBh3D,EAAMxhB,QAAQ0pB,WAAa,CAAC,GAAG+uD,OACpD,GAAID,EAAe,CACf,IAAIlgE,EAAY,CACZje,SAAUmnB,EAAMnnB,SAChB+vB,OAAQ5I,EAAM4I,OACdC,SAAU7I,EAAM6I,SAChBrrB,MAAOwiB,EAAMxiB,MACbyuD,WAAYjsC,EAAMisC,WAClBj1C,eAAgBA,eAChBiQ,OAAQjH,EAAMsuC,kBACdjmC,KAAMA,GAEV2uD,EAAclgE,GACTA,EAAUb,mBACX+J,EAAMoI,gBAAgBC,EAAMC,EAEpC,MACItI,EAAMoI,gBAAgBC,EAAMC,EAEpC,EAEAsuD,EAAUlyE,UAAUwwB,KAAO,WAIvB,IAHA,IAEIlT,EAAS9d,KAAK2yE,QACX70D,EAAOjkB,QAHCmG,KAIF6yE,qBAAqB/0D,EAAOzD,OAAO,EAEpD,EAEAq4D,EAAUlyE,UAAUwyE,cAAgB,SAAwBv5E,GAGxD,IAFA,IAAIqkB,EAAS9d,KAAK2yE,QAETl4E,EAAI,EAAGA,EAAIqjB,EAAOjkB,OAAQY,IAAK,CAEpC,GAAIhB,IADQqkB,EAAOrjB,GAEf,OAAO,CAEf,CAEA,OAAO,CACX,EAEOi4E,CACX,CA3EgB,CA2Ed//E,OAEF,SAASmgB,iBACL9S,KAAK+R,mBAAoB,CAC7B,CAEA,SAASkhE,UAAUjxE,EAAGkxE,GAClB,IAAIxyE,GAAOwyE,GAAY,IAAIrrC,cACvBz4B,EAAQpN,EAAEoN,MAGd,MAFsB,SAAR1O,KAAoB0O,EAAM+jE,SAAW/jE,EAAMgkE,UAAYhkE,EAAMikE,SAAYjkE,EAAM1O,EAAM,MAGvG,CAEA,SAAS4yE,kBAAkBjjB,GAEvB,IADA,IAAIkjB,EAAS,CAAC,EACL35E,EAAM,EAAGA,EAAMy2D,EAAWx2D,OAAQD,IAAO,CAC9C,IAAI2tD,EAAY8I,EAAWz2D,GACvB2tD,EAAU5xC,KAAKrb,QAAQ5F,OACvB6+E,EAAOhsB,EAAU5xC,KAAKrb,QAAQ5F,MAAQ,CAClC6S,IAAKggD,EAAUlyB,MAAM9tB,IACrBlF,IAAKklD,EAAUlyB,MAAMhzB,KAGjC,CACA,OAAOkxE,CACX,CAEA,IAAIC,SAAY,SAAU7gF,GACtB,SAAS6gF,EAASn8C,EAAU/8B,GACxB3H,EAAMwO,KAAKnB,MAEXA,KAAKq3B,SAAWA,EAChBr3B,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,CAyEA,OAvEK3H,IAAQ6gF,EAAS/6E,UAAY9F,GAClC6gF,EAAShzE,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDgzE,EAAShzE,UAAUhE,YAAcg3E,EAEjCA,EAAShzE,UAAUH,MAAQ,SAAgB2B,GAEvC,OADAhC,KAAKyzE,QAAUR,UAAUjxE,EAAGhC,KAAK1F,QAAQoG,KAClCV,KAAKyzE,OAChB,EAEAD,EAAShzE,UAAUuN,KAAO,SAAe/L,GACrC,GAAIhC,KAAKyzE,QAAS,CACd,IAAIpjB,EAAarwD,KAAKqwD,WAAarwD,KAAK0zE,SAAS1xE,EAAGhK,GAAGmQ,OAAOnI,KAAK0zE,SAAS1xE,EAAG/J,IAC/E,GAAIo4D,EAAWx2D,OAEX,OADAmG,KAAKqwD,WAAaA,EACXijB,kBAAkBjjB,EAEjC,CACJ,EAEAmjB,EAAShzE,UAAUF,IAAM,WACrB,IAAI+9D,EAASr+D,KAAKyzE,QAGlB,OAFAzzE,KAAKyzE,SAAU,EAERpV,CACX,EAEAmV,EAAShzE,UAAU4jC,IAAM,WACrB,IACI/M,EADMr3B,KACSq3B,SACfg5B,EAFMrwD,KAEWqwD,WACrB,GAAIA,EAAWx2D,OAAQ,CACnB,IAAK,IAAID,EAAM,EAAGA,EAAMy2D,EAAWx2D,OAAQD,IAAO,CAC9C,IAAIy7B,EAAQg7B,EAAWz2D,GACvBy9B,EAAS26C,kBAAkB38C,EAAM1f,KAAM0f,EAAMA,MACjD,CACAgC,EAASgoC,OAAOhoC,EAAS2lC,MAC7B,CACJ,EAEAwW,EAAShzE,UAAU0R,QAAU,kBAClBlS,KAAKq3B,QAChB,EAEAm8C,EAAShzE,UAAUkzE,SAAW,SAAmB1xE,EAAG8sB,GAChD,IAAIuI,EAAWr3B,KAAKq3B,SAChBp1B,GAASD,EAAE8sB,GAAU7sB,MACrBqxB,GAAQtzB,KAAK1F,QAAQg5B,MAAQ,IAAIuU,cACjC8rC,EAAc,GAElB,GAAc,IAAV1xE,IAAgBqxB,GAAQ,IAAIuU,gBAAkB/Y,EAE9C,IADA,IAAI2I,EAAOJ,EAASI,KACX79B,EAAM,EAAGA,EAAM69B,EAAK59B,OAAQD,IAAO,CACxC,IAAI+b,EAAO8hB,EAAK79B,GAEhB,GAAIk1B,IAAa92B,IAAM2d,EAAKrb,QAAQywB,UAAY+D,IAAa72B,GAAK0d,EAAKrb,QAAQywB,SAAU,CACrF,IAAIsK,EAAQ1f,EAAKyuB,IAAIniC,GAEjBozB,IACAA,EAAM8F,YAAa,EACnBw4C,EAAYr0E,KAAK,CACbqW,KAAMA,EACN0f,MAAOA,IAGnB,CACJ,CAGJ,OAAOs+C,CACX,EAEOH,CACX,CAhFe,CAgFb7gF,OAEF6gF,SAAShzE,UAAUlG,QAAU,CACzBoG,IAAK,OACL4yB,KAAM,QAGV,IAAIsgD,cAAiB,SAAUjhF,GAC3B,SAASihF,EAAc3gD,EAAO34B,GAC1B3H,EAAMwO,KAAKnB,MAEXA,KAAKizB,MAAQA,EACbjzB,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAKoH,eACT,CAiLA,OA/KKzU,IAAQihF,EAAcn7E,UAAY9F,GACvCihF,EAAcpzE,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACxDozE,EAAcpzE,UAAUhE,YAAco3E,EAEtCA,EAAcpzE,UAAU4G,cAAgB,WACpC,IAAIysE,EAAU7zE,KAAK8zE,SAAW3vE,SAASiD,cAAc,OACrDysE,EAAQ/5E,UAAY,YACpB,IAAIi6E,EAAe5vE,SAASiD,cAAc,OAC1C2sE,EAAaj6E,UAAY,kBACzB+5E,EAAQhtE,YAAYktE,EACxB,EAEAH,EAAcpzE,UAAUwzE,cAAgB,WAChCh0E,KAAK8zE,SAASG,YACdj0E,KAAK8zE,SAASG,WAAWC,YAAYl0E,KAAK8zE,SAElD,EAEAF,EAAcpzE,UAAU2zE,UAAY,SAAoB52E,GACpDD,cAAc0C,KAAK8zE,SAAUv2E,EACjC,EAEAq2E,EAAcpzE,UAAUH,MAAQ,SAAgB2B,GAC5C,GAAIixE,UAAUjxE,EAAGhC,KAAK1F,QAAQoG,KAAM,CAChC,IAAIuyB,EAAQjzB,KAAKizB,MACbnX,EAAQmX,EAAM6+C,kBAAkB9vE,GAChCoyE,EAAWp0E,KAAKq0E,UAAYphD,EAAMijB,UAAU4tB,YAAYhoD,GACxD0uC,EAAU4pB,EAAWA,EAASxZ,YAAYj+D,QAAU,KAExD,GAAIy3E,GAAY5pB,EAAS,CACrB,IAAInwD,EAAS2F,KAAKs0E,iBAalB,OAXA9pB,EAAQ3vD,UAAUR,EAAO+D,KAAM/D,EAAO4D,KACtC+B,KAAKu0E,iBAAmB/pB,EAExBrmD,SAAS2vD,KAAKjtD,YAAY7G,KAAK8zE,UAC/B9zE,KAAKm0E,UAAU,CACX/1E,KAAM4D,EAAE+Y,MAAQ,EAChB9c,IAAK+D,EAAEgZ,MAAQ,EACfxgB,MAAO,EACPmR,OAAQ,KAGL,CACX,CACJ,CACA,OAAO,CACX,EAEAioE,EAAcpzE,UAAU8zE,eAAiB,WACrC,IAAItxD,EAAehjB,KAAKizB,MAAMx5B,QAC1BiJ,EAAMpF,cAAc0lB,EAAc,CAAE,cAAe,eACnDu2C,EAAc72D,EAAI62D,YAClBF,EAAa32D,EAAI22D,WACjBh/D,EAAS0I,cAAcigB,GAE3B,MAAO,CACH5kB,KAAMm7D,EAAcl/D,EAAO+D,KAC3BH,IAAKo7D,EAAah/D,EAAO4D,IAEjC,EAEA21E,EAAcpzE,UAAUuN,KAAO,SAAe/L,GAC3BhC,KAAKq0E,WAEhBr0E,KAAKm0E,UAAUn0E,KAAKw0E,mBAAmBxyE,GAE/C,EAEA4xE,EAAcpzE,UAAUF,IAAM,SAAc0B,GAExC,GADehC,KAAKq0E,UACN,CACV,IAAItxE,EAAgB/C,KAAKs0E,iBACrBG,EAAoBz0E,KAAKw0E,mBAAmBxyE,GAChDyyE,EAAkBr2E,MAAQ2E,EAAc3E,KACxCq2E,EAAkBx2E,KAAO8E,EAAc9E,IAEvC,IAAIoC,EAAQ,CAAEpF,EAAGw5E,EAAkBr2E,KAAMlD,EAAGu5E,EAAkBx2E,KAC1DqC,EAAM,CAAErF,EAAGw5E,EAAkBr2E,KAAOq2E,EAAkBj6E,MAAOU,EAAGu5E,EAAkBx2E,IAAMw2E,EAAkB9oE,QAM9G,OALA3L,KAAK00E,kBAAkBr0E,EAAOC,GAE9BN,KAAKg0E,uBACEh0E,KAAKq0E,UAELf,kBAAkBtzE,KAAKqwD,WAClC,CACJ,EAEAujB,EAAcpzE,UAAUm0E,KAAO,WAC3B,IAAItkB,EAAarwD,KAAKqwD,WACtB,GAAIA,GAAcA,EAAWx2D,OAAQ,CAEjC,IADA,IAAIw9B,EAAWr3B,KAAKizB,MAAMijB,UACjBt8C,EAAM,EAAGA,EAAMy2D,EAAWx2D,OAAQD,IAAO,CAC9C,IAAI2tD,EAAY8I,EAAWz2D,GAC3By9B,EAAS26C,kBAAkBzqB,EAAU5xC,KAAM4xC,EAAUlyB,MACzD,CACAgC,EAASgoC,OAAOhoC,EAAS2lC,MAC7B,CACJ,EAEA4W,EAAcpzE,UAAU0R,QAAU,WAC9BlS,KAAKg0E,uBACEh0E,KAAK8zE,gBACL9zE,KAAKizB,KAChB,EAEA2gD,EAAcpzE,UAAUk0E,kBAAoB,SAA4Br0E,EAAOC,GAK3E,IAJA,IAAIgzB,GAAQtzB,KAAK1F,QAAQg5B,MAAQ,IAAIuU,cACjCwoB,EAAa,GAEb54B,EAAOz3B,KAAKq0E,UAAU58C,KACjB79B,EAAM,EAAGA,EAAM69B,EAAK59B,OAAQD,IAAO,CACxC,IAAI+b,EAAO8hB,EAAK79B,GACZmxB,EAAWpV,EAAKrb,QAAQywB,SAC5B,IAAMuI,IAASt7B,GAAM+yB,KAAeuI,IAASr7B,IAAK8yB,IAAaloB,QAAQ8S,EAAK0yC,WAAY,CACpF,IAAIhzB,EAAQ1f,EAAK0uB,YAAYhkC,EAAOC,GAChC+0B,GACAg7B,EAAW/wD,KAAK,CACZqW,KAAMA,EACN0f,MAAOA,GAGnB,CACJ,CAEAr1B,KAAKqwD,WAAaA,CACtB,EAEAujB,EAAcpzE,UAAUg0E,mBAAqB,SAA6BxyE,GACtE,IAAIwoD,EAAUxqD,KAAKu0E,iBACfz+D,EAAgB,CAChB7a,EAAG+G,EAAE/G,EAAE6a,cACP5a,EAAG8G,EAAE9G,EAAE4a,eAEPiF,EAAQ/Y,EAAE/G,EAAE4Z,SACZmG,EAAQhZ,EAAE9G,EAAE2Z,SACZye,GAAQtzB,KAAK1F,QAAQg5B,MAAQ,IAAIuU,cACjCzpC,EAAOgE,KAAKmF,IAAIuO,EAAc7a,EAAG8f,GACjC9c,EAAMmE,KAAKmF,IAAIuO,EAAc5a,EAAG8f,GAChCxgB,EAAQ4H,KAAKkZ,IAAIxF,EAAc7a,EAAI8f,GACnCpP,EAASvJ,KAAKkZ,IAAIxF,EAAc5a,EAAI8f,GA2BxC,OAzBIsY,IAASt7B,IACToG,EAAOosD,EAAQ51C,GACfpa,EAAQgwD,EAAQhwD,SAEhB84B,IAASr7B,IACTgG,EAAMusD,EAAQ11C,GACdnJ,EAAS6+C,EAAQ7+C,UAGjBoP,EAAQyvC,EAAQz1C,KAChBva,EAAQgwD,EAAQz1C,GAAKe,EAAc7a,GAGnC8f,EAAQyvC,EAAQ51C,KAChBpa,EAAQsb,EAAc7a,EAAIuvD,EAAQ51C,IAGlCoG,EAAQwvC,EAAQx1C,KAChBrJ,EAAS6+C,EAAQx1C,GAAKc,EAAc5a,GAGpC8f,EAAQwvC,EAAQ11C,KAChBnJ,EAASmK,EAAc5a,EAAIsvD,EAAQ11C,IAGhC,CACH1W,KAAMgE,KAAKC,IAAIjE,EAAMosD,EAAQ51C,IAC7B3W,IAAKmE,KAAKC,IAAIpE,EAAKusD,EAAQ11C,IAC3Bta,MAAOA,EACPmR,OAAQA,EAEhB,EAEOioE,CACX,CAzLoB,CAyLlBjhF,OAEFihF,cAAcpzE,UAAUlG,QAAU,CAC9BoG,IAAK,QACL4yB,KAAM,QAKV,IAAIshD,SAAW,IACXC,SAAW,GACXC,aAAe,GAEfC,eAAkB,SAAUpiF,GAC5B,SAASoiF,EAAe9hD,EAAO34B,GAC3B3H,EAAMwO,KAAKnB,MAEXA,KAAKizB,MAAQA,EACbjzB,KAAK1F,QAAUuC,WAAW,CACtBm4E,KAAMF,cACP90E,KAAK1F,QAASA,EACrB,CAmDA,OAjDK3H,IAAQoiF,EAAet8E,UAAY9F,GACxCoiF,EAAev0E,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACzDu0E,EAAev0E,UAAUhE,YAAcu4E,EAEvCA,EAAev0E,UAAUy0E,aAAe,SAAuBhzE,EAAOopD,GAOlE,IANA,IAEI/3B,GAAQtzB,KAAK1F,QAAQg5B,MAAQ,IAAIuU,cACjCwoB,EAAa,GACb54B,EAAOz3B,KAAKizB,MAAMijB,UAAUze,KAEvB79B,EAAM,EAAGA,EAAM69B,EAAK59B,OAAQD,IAAO,CACxC,IAAI+b,EAAO8hB,EAAK79B,GACZmxB,EAAWpV,EAAKrb,QAAQywB,SAE5B,IAAMuI,IAASt7B,GAAM+yB,KAAeuI,IAASr7B,IAAK8yB,IAAapV,EAAKouB,UAAW,CAC3E,IAAIixC,EAAO3xE,WAXJrD,KAWwB1F,QAAQ06E,KAAMJ,SAAUC,UACnDx/C,EAAQ1f,EAAKouB,WAAW9hC,EAAQ+yE,EAAM3pB,GAEtCh2B,GACAg7B,EAAW/wD,KAAK,CACZqW,KAAMA,EACN0f,MAAOA,GAGnB,CACJ,CAGA,OADAr1B,KAAKqwD,WAAaA,EACXijB,kBAAkBjjB,EAC7B,EAEA0kB,EAAev0E,UAAUm0E,KAAO,WAC5B,IAAItkB,EAAarwD,KAAKqwD,WAClBh5B,EAAWr3B,KAAKizB,MAAMijB,UAE1B,GAAIma,GAAcA,EAAWx2D,QAAUw9B,EAAS26C,kBAAmB,CAC/D,IAAK,IAAIp4E,EAAM,EAAGA,EAAMy2D,EAAWx2D,OAAQD,IAAO,CAC9C,IAAI2tD,EAAY8I,EAAWz2D,GAC3By9B,EAAS26C,kBAAkBzqB,EAAU5xC,KAAM4xC,EAAUlyB,MACzD,CACAgC,EAASgoC,OAAOhoC,EAAS2lC,MAC7B,CACJ,EAEA+X,EAAev0E,UAAU0R,QAAU,kBACxBlS,KAAKizB,KAChB,EAEO8hD,CACX,CA5DqB,CA4DnBpiF,OAEEuiF,WAAa,SAAUhiD,GAAO,OAAQA,EAAM/8B,MAAQoB,OAAU,EAE9D49E,aAAgB,SAAUxzD,GAC1B,SAASwzD,EAAa76E,EAAS+nB,GAC3BV,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKqiB,aAAeA,CACxB,CA6CA,OA3CKV,IAAewzD,EAAa18E,UAAYkpB,GAC7CwzD,EAAa30E,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrE20E,EAAa30E,UAAUhE,YAAc24E,EAErCA,EAAa30E,UAAUuwB,OAAS,WAC5B,IACInP,EADM5hB,KACS4hB,SACftnB,EAFM0F,KAEQ1F,QACdywB,EAAWzwB,EAAQywB,SAEvB/qB,KAAK+iB,OAAS,IAAI9uB,OAAO,KAAM,CAC3B+J,QAAS+sB,EAAW,EAAIzwB,EAAQ0D,QAChCo3E,YAAarqD,EAAWzwB,EAAQ0D,QAAU,EAC1Cq3E,YAAatqD,EAAW1yB,SAAWD,WACnCm3B,QAASj1B,EAAQ44B,IACjBgiD,WAAYnqD,EAAWmqD,WAAW56E,EAAQ44B,KAAOx9B,SAGrD,IAAK,IAAIkE,EAAM,EAAGA,EAAMgoB,EAAS/nB,OAAQD,IAAO,CAC5C,IAAI07E,EAAa1zD,EAAShoB,GAC1B07E,EAAWxzD,OAAO,IAAIjF,KACtBy4D,EAAW9yD,cACf,CACJ,EAEA2yD,EAAa30E,UAAUshB,OAAS,SAAiBhF,GAC7C9c,KAAK+iB,OAAO0F,KAAK3L,EAAI0B,UACrBxe,KAAK+iB,OAAOjB,SACZ,IAAIiO,EAAO/vB,KAAK+iB,OAAOqL,cAGnBpuB,KAAK8c,IADLiT,EACW9C,UAAU8C,GAEV,IAAIlT,GAEvB,EAEAs4D,EAAa30E,UAAUgiB,aAAe,WAClCxiB,KAAK2iB,WACT,EAEAwyD,EAAa30E,UAAUkiB,aAAe,WAA0B,EAEzDyyD,CACX,CAnDmB,CAmDjBxzD,cAEE4zD,oBAAsB,GACtBC,4BAA8B,EAE9BC,iBAAoB,SAAUvtD,GAC9B,SAASutD,IACLvtD,EAAavmB,MAAM3B,KAAMjD,UAC7B,CAyDA,OAvDKmrB,IAAeutD,EAAiBh9E,UAAYyvB,GACjDutD,EAAiBj1E,UAAYjI,OAAOuN,OAAQoiB,GAAgBA,EAAa1nB,WACzEi1E,EAAiBj1E,UAAUhE,YAAci5E,EAEzCA,EAAiBj1E,UAAUinB,YAAc,WACrC,IAAIntB,EAAU0F,KAAKsqD,gBACfhlC,EAAShrB,EAAQgrB,OAErB,MAAO,CACH/qB,OAAQ,CACJC,MAAO8qB,EAAO9qB,MACduO,MAAOuc,EAAOvc,MACdqb,QAAS1gB,eAAe4hB,EAAOlB,QAAS9pB,EAAQ8pB,SAChDsD,SAAUpC,EAAOoC,UAErBlD,KAAM,CACFzb,MAAOzO,EAAQ8qB,WACfhB,QAAS9pB,EAAQ8pB,SAErBuD,OAAQrtB,EAAQqtB,OAExB,EAEA8tD,EAAiBj1E,UAAU8pD,cAAgB,WACvC,OAAOtqD,KAAK1F,OAChB,EAEAm7E,EAAiBj1E,UAAUk1E,uBAAyB,WAChD,IAAIp7E,EAAU0F,KAAKsqD,gBACfpjC,EAAc5sB,EAAQ0pB,UAAUsB,OAAO9qB,MAE3C,OAAOqC,WACH,CAAC,EACDvC,EACA,CAAE8qB,WAAY9qB,EAAQgrB,OAAOvc,OAC7BzO,EAAQ0pB,UACR1pB,EAAQuJ,OAAShO,MAAQ,CACrBuvB,WAAY9qB,EAAQ0pB,UAAUsB,OAAOvc,MACrCuc,OAAQ,CAAEvc,MAAOzO,EAAQ0pB,UAAUoB,WAAY5qB,MAAO0sB,EAAc,GACpE1sB,MAAOF,EAAQE,MACfmR,OAAQrR,EAAQqR,OAChBob,OAAQ,CAAE9oB,IAAK,EAAGG,KAAM,IACxB,CAAC,EAEb,EAEAq3E,EAAiBj1E,UAAUyjB,gBAAkB,WACzC,IAAID,EAAY,IAAIkE,EAAaloB,KAAK01E,0BAClC54D,EAAM9c,KAAKqnB,WAAW1qB,QAI1B,OAHAqnB,EAAUlC,OAAOhF,EAAIY,IAAIsG,EAAU1pB,QAAQgrB,OAAO9qB,QAClDwF,KAAKgkB,UAAY,CAAEA,EAAUoE,cAEtBpoB,KAAKgkB,SAChB,EAEOyxD,CACX,CA7DuB,CA6DrBvtD,cAEFtkB,kBAAkB6xE,iBAAkB,CAChCnwD,OAAQ,CACJ9qB,MAAOg7E,6BAEXh7E,MAAO+6E,oBAAsBC,4BAC7B7pE,OAAQ4pE,oBAAsBC,4BAC9BpwD,WAAYttB,QACZivB,OAAQ,CACJ9oB,KAAM,EACNG,MAAO,GAEXgpB,OAAQ3vB,IACRinB,MAAO/nB,KACPqtB,UAAW,CACPxpB,MAAO+6E,oBACP5pE,OAAQ4pE,oBACRjwD,OAAQ,CACJvc,MAAOjR,QACP0C,MAAOg7E,gCAKnB,IAAIG,eAAkB,SAAUztD,GAC5B,SAASytD,IACLztD,EAAavmB,MAAM3B,KAAMjD,UAC7B,CAuBA,OArBKmrB,IAAeytD,EAAel9E,UAAYyvB,GAC/CytD,EAAen1E,UAAYjI,OAAOuN,OAAQoiB,GAAgBA,EAAa1nB,WACvEm1E,EAAen1E,UAAUhE,YAAcm5E,EAEvCA,EAAen1E,UAAU4nB,WAAa,WAClC,IAAI8D,EAAQ,IAAIl5B,QACZyG,EAAU,IAAIhG,UAAUuM,KAAKynB,eAE7B3K,EADM9c,KACIqnB,WACViB,EAAaxL,EAAInR,SAAW,EAShC,OAPAlS,EACK+uB,OAAO1L,EAAIlI,GAAIkI,EAAIhI,GAAKwT,GACxB5G,OAAO5E,EAAIlI,GAAIkI,EAAI9H,IACnB0M,OAAO5E,EAAI/H,GAAI+H,EAAI9H,IAExBkX,EAAMvpB,OAAOlJ,GAENyyB,CACX,EAEOypD,CACX,CA3BqB,CA2BnBztD,cAEFtkB,kBAAkB+xE,eAAgB,CAC9Bn7E,MAAO,GACPmR,OAAQ,GACR+S,MAAOrnB,MACP+vB,OAAQ3xB,SACRsxB,OAAQ,CACJ7oB,OAAQ,EACRC,OAAQ,KAIhB,IAAIy3E,eAAkB,SAAU1tD,GAC5B,SAAS0tD,IACL1tD,EAAavmB,MAAM3B,KAAMjD,UAC7B,CAqEA,OAnEKmrB,IAAe0tD,EAAen9E,UAAYyvB,GAC/C0tD,EAAep1E,UAAYjI,OAAOuN,OAAQoiB,GAAgBA,EAAa1nB,WACvEo1E,EAAep1E,UAAUhE,YAAco5E,EAEvCA,EAAep1E,UAAU4nB,WAAa,WAClC,IAAI8D,EAAQ,IAAIl5B,QACZyG,EAAU,IAAIhG,UAAU,CACxB8G,OAAQ,CACJwO,MAAO/I,KAAK1F,QAAQgrB,OAAOvc,MAC3Bqb,QAASpkB,KAAK1F,QAAQ8pB,QACtB5pB,MAAOwF,KAAK1F,QAAQqR,OACpB+b,SAAU1nB,KAAK1F,QAAQotB,YAG3B5K,EAAM9c,KAAKqnB,WACXwuD,EAAU/4D,EAAI3H,SAASja,EAQ3B,OANAzB,EACK+uB,OAAO1L,EAAIlI,GAAIihE,GACfn0D,OAAO5E,EAAI/H,GAAI8gE,GAEpB3pD,EAAMvpB,OAAOlJ,GAENyyB,CACX,EAEA0pD,EAAep1E,UAAUyjB,gBAAkB,WAEvC,OADAjkB,KAAKgkB,UAAY,CAAEhkB,KAAK81E,sBAAuB91E,KAAK+1E,yBAC7C/1E,KAAKgkB,SAChB,EAEA4xD,EAAep1E,UAAUs1E,oBAAsB,WAC3C,IAAIx7E,EAAUuC,WAAW,CAAC,EAAG,CACzByoB,OAAQ,CACJvc,MAAO/I,KAAK1F,QAAQgrB,OAAOvc,MAC3Bqb,QAASpkB,KAAK1F,QAAQgrB,OAAOlB,QAC7BsD,SAAU1nB,KAAK1F,QAAQgrB,OAAOoC,WAEnC1nB,KAAK1F,QAAQ0pB,WACZgyD,EAAgB,IAAIL,eAAer7E,GAKvC,OAJA07E,EAAcl0D,OAAO9hB,KAAKuI,OAAO8e,WAAW1qB,SAE5CqD,KAAKg2E,cAAgBA,EAAc5tD,aAE5BpoB,KAAKg2E,aAChB,EAEAJ,EAAep1E,UAAUu1E,sBAAwB,WAC7C,IAAIz7E,EAAUuC,WAAW,CAAC,EAAG,CACzBuoB,WAAYplB,KAAK1F,QAAQ8qB,YAC1BplB,KAAK1F,QAAQ0pB,UAAUmlC,SACtB8sB,EAAkB,IAAI/tD,EAAa5tB,GACnC+sB,EAAarnB,KAAKuI,OAAO8e,WACzBH,EAAc5sB,EAAQgrB,OAAO9qB,MAC7BsiB,EAAM9c,KAAKuI,OAAOuU,IAAIngB,QAU1B,OARAmgB,EAAIY,IAAI,CACJtf,KAAM8oB,EAAcG,EAAWzS,GAC/B3W,IAAKipB,EAAcG,EAAWvS,KAGlCmhE,EAAgBn0D,OAAOhF,GACvB9c,KAAKi2E,gBAAkBA,EAAgB7tD,aAEhCpoB,KAAKi2E,eAChB,EAEOL,CACX,CAzEqB,CAyEnB1tD,cAEFtkB,kBAAkBgyE,eAAgB,CAC9BtwD,OAAQ,CACJ9qB,MAAO,GAEXqJ,KAAMjM,KACN8mB,MAAO/nB,KACPywB,OAAQ1xB,OACRsuB,UAAW,CACPsB,OAAQ,CACJ9qB,MAAOg7E,6BAEXrsB,QAAS,CACLtlD,KAAMlO,OACN6E,MAAO+6E,oBACP5pE,OAAQ4pE,oBACRjwD,OAAQ,CACJ9qB,MAAOg7E,4BACPzsE,MAAOjR,SAEX4mB,MAAO/nB,KACPywB,OAAQ3vB,QAKpB,IAAIy+E,iBAAoB,SAAUhuD,GAC9B,SAASguD,IACLhuD,EAAavmB,MAAM3B,KAAMjD,UAC7B,CAuBA,OArBKmrB,IAAeguD,EAAiBz9E,UAAYyvB,GACjDguD,EAAiB11E,UAAYjI,OAAOuN,OAAQoiB,GAAgBA,EAAa1nB,WACzE01E,EAAiB11E,UAAUhE,YAAc05E,EAEzCA,EAAiB11E,UAAUyjB,gBAAkB,WACzC,IAAI3pB,EAAUuC,WAAW,CAAC,EAAG,CACzBuoB,WAAYplB,KAAK1F,QAAQ8qB,YAC1BplB,KAAK1F,QAAQ0pB,UAAUmlC,SACtBnlC,EAAY,IAAIkE,EAAa5tB,GAE7BwiB,EAAM9c,KAAKqnB,WAAW1qB,QACtBqgB,EAAYhd,KAAKuI,OAAOuU,IAAIngB,QAOhC,OANAmgB,EAAI4B,MAAM1B,EAAWhlB,EAAGrB,MACxBmmB,EAAI4B,MAAM1B,EAAW/kB,EAAGR,KACxBusB,EAAUlC,OAAOhF,GAEjB9c,KAAKgkB,UAAY,CAAEA,EAAUoE,cAEtBpoB,KAAKgkB,SAChB,EAEOkyD,CACX,CA3BuB,CA2BrBhuD,cAEFtkB,kBAAkBsyE,iBAAkB,CAChClyD,UAAW,CACPmlC,QAAS,CACLtlD,KAAMlO,OACN6E,MAAO+6E,oBACP5pE,OAAQ4pE,oBACRjwD,OAAQ,CACJ9qB,MAAOg7E,4BACPzsE,MAAOjR,SAEXivB,OAAQ,CACJ9oB,KAAM,EACNG,MAAO,OAMvB,IAAI+3E,WAAc,SAAUrvD,GACxB,SAASqvD,EAAW77E,GAChBwsB,EAAW3lB,KAAKnB,KAAM1F,GAEtB0F,KAAKo2E,kBACA97E,EAAQ44B,KAITlzB,KAAKyqC,cACLzqC,KAAKqpD,iBAJLrpD,KAAKqpD,eACLrpD,KAAKyqC,eAMTzqC,KAAKkpD,IAAM76C,OACXrO,KAAK1F,QAAQ0qB,cAAciD,YAAc3tB,EAAQ+jE,MACrD,CAsSA,OApSKv3C,IAAaqvD,EAAW19E,UAAYquB,GACzCqvD,EAAW31E,UAAYjI,OAAOuN,OAAQghB,GAAcA,EAAWtmB,WAC/D21E,EAAW31E,UAAUhE,YAAc25E,EAEnCA,EAAW31E,UAAU41E,gBAAkB,WACnCp2E,KAAK4tB,UAAY,IAAI/C,aAAa,CAAEE,UAAU,EAAOhO,MAAM,EAAO2B,MAAOhpB,OAAQsI,QAASgC,KAAK1F,QAAQ0D,UACvGgC,KAAK2C,OAAO3C,KAAK4tB,UACrB,EAEAuoD,EAAW31E,UAAU6oD,aAAe,WAChCrpD,KAAKq2E,WAAa,IAAIvvD,EAAW,CAAEiE,UAAU,EAAO/D,aAAa,EAAMjK,MAAM,EAAOgK,OAAQ,EAAGvsB,MAAO,GAAImR,OAAQ,KAClH3L,KAAK4tB,UAAUjrB,OAAO3C,KAAKq2E,YAE3Br2E,KAAKs2E,mBAEDt2E,KAAK1F,QAAQ6uD,QAAQ1mC,UACrBziB,KAAKu2E,QAAUv2E,KAAKw2E,gBACpBx2E,KAAKq2E,WAAW1zE,OAAO3C,KAAKu2E,SAEpC,EAEAJ,EAAW31E,UAAU81E,iBAAmB,WACpC,IAAIh8E,EAAU0F,KAAK1F,QACf8jE,EAAc9jE,EAAQ8jE,YACtBjyD,EAAO7R,EAAQ6R,UAAoB,IAATA,IAAkBA,EAAO,CAAC,GACxD,IAAIosB,EAAc,CACdjT,OAAQ,CACJvc,MAAOoD,EAAKpD,OAASq1D,EACrBh6C,QAASjY,EAAKiY,QACdsD,SAAUvb,EAAKub,WAGvB,OAAO1nB,KAAKy2E,YAAYl+C,IACpBv4B,KAAK02E,kBAAkBn+C,EAAapsB,IACpCnM,KAAK22E,eACb,EAEAR,EAAW31E,UAAU8pD,cAAgB,WACjC,IAAIhwD,EAAU0F,KAAK1F,QACf6uD,EAAU7uD,EAAQ6uD,aAA0B,IAAZA,IAAqBA,EAAU,CAAC,GACpE,IAAIiV,EAAc9jE,EAAQ8jE,YACtB94C,EAAS6jC,EAAQ7jC,OAGrB,YAH6C,IAAXA,IAAoBA,EAAS,CAAC,GAChE6jC,EAAQjmC,YAAS1b,EAEV3K,WAAW,CAAC,EAAGssD,EAAS,CAC3B7jC,OAAQ,CAAEvc,MAAOuc,EAAOvc,OAASq1D,GACjCp6C,UAAW1pB,EAAQ0pB,UAAUmlC,SAErC,EAEAgtB,EAAW31E,UAAUo2E,kBAAoB,WACrC,IAAIt8E,EAAU0F,KAAK1F,QACnB,OAAOuC,WACH,CAAEssD,QAAS,CAAEtlD,KAAMvJ,EAAQ6uD,QAAQtlD,OACnCvJ,EAAQ0pB,UAEhB,EAEAmyD,EAAW31E,UAAUi2E,YAAc,SAAsBl+C,GACrD,IAAIj+B,EAAU0F,KAAK1F,QASnB,OARIA,EAAQuJ,OAASk4C,MAASzhD,EAAQ6uD,QAAQ1mC,UAC1CziB,KAAK62E,MAAQ,IAAIjB,eAAe/4E,WAAW,CAAC,EAAG,CAC3CuoB,WAAY9qB,EAAQ8jE,YACpBp6C,UAAWhkB,KAAK42E,qBACjBr+C,EAAaj+B,EAAQ6R,OAExBnM,KAAKq2E,WAAW1zE,OAAO3C,KAAK62E,QAEzB72E,KAAK62E,KAChB,EAEAV,EAAW31E,UAAUk2E,kBAAoB,SAA4Bn+C,EAAapsB,GAY9E,OAXcnM,KAAK1F,QACPuJ,OAASk4C,OACjB/7C,KAAK82E,gBAAkB,IAAInB,eAAe94E,WAAW,CAAC,EAAG,CACrDyoB,OAAQ,CACJ9qB,MAAO2R,EAAKR,SAEjB4sB,IAEHv4B,KAAKq2E,WAAW1zE,OAAO3C,KAAK82E,kBAGzB92E,KAAK82E,eAChB,EAEAX,EAAW31E,UAAUu2E,YAAc,SAAsBj/B,EAAQk/B,EAAMC,QACnD,IAAXA,IAAoBA,EAAS,IAEN,iBAAjBn/B,EAAOk/B,KACdl/B,EAAOk/B,GAAQl/B,EAAOk/B,GAAQC,EAEtC,EAEAd,EAAW31E,UAAUm2E,cAAgB,WACjC,IAAIr8E,EAAU0F,KAAK1F,QACnB,GAAIA,EAAQuJ,OAASs3C,KAAM,CACvB,IAAIt0B,EAAUvsB,EAAQusB,UAAYvsB,EAAQoqB,QAAU,CAAC,GAAGmC,QACpDA,IACuB,mBAAZA,IACPA,EAAUA,EAAQvsB,EAAQoqB,SAE9BmC,EAAUqwD,gBAAgBrwD,GAC1B7mB,KAAK+2E,YAAYlwD,EAAS,OAC1B7mB,KAAK+2E,YAAYlwD,EAAS,SAC1B7mB,KAAK+2E,YAAYlwD,EAAS,WAG9B7mB,KAAKm3E,QAAU,IAAIjB,iBAAiB39E,OAAO4a,OAAO,CAAC,EAAG,CAACmS,OAAQhrB,EAAQgrB,OACnE8B,OAAQ9sB,EAAQ6uD,QAAQ1mC,QAAUhtB,SAAWC,OAC7CsuB,UAAWhkB,KAAK42E,qBAChBt8E,EAAQ89D,KACR,CAACvxC,QAASA,EACVzB,WAAY9qB,EAAQ89D,KAAKhzC,YAAc9qB,EAAQ8jE,eACnDp+D,KAAKq2E,WAAW1zE,OAAO3C,KAAKm3E,QAChC,CACA,OAAOn3E,KAAKm3E,OAChB,EAEAhB,EAAW31E,UAAUg2E,cAAgB,WACjC,OAAO,IAAIf,iBAAiBz1E,KAAKsqD,gBACrC,EAEA6rB,EAAW31E,UAAU42E,kBAAoB,WACjCp3E,KAAK1F,QAAQ+jE,QACbr+D,KAAKq3E,kBAAiB,EAE9B,EAEAlB,EAAW31E,UAAU82E,gBAAkB,WACnCt3E,KAAKq3E,kBAAiB,EAC1B,EAEAlB,EAAW31E,UAAU62E,iBAAmB,SAA2BlzD,GAC/D,IAAIlR,EAAWjT,KAEf,GAAKA,KAAK1F,QAAQ0pB,UAAUvB,QAA5B,CAIA,IAAIhpB,EAAUuG,KAAKu2E,SAAWv2E,KAAKm3E,SAAWn3E,KAAK62E,MAMnD,GAJIp9E,GAAWA,IAAYuG,KAAK62E,OAC5B72E,KAAK62E,MAAM9zD,OAAON,SAAS0B,GAG3B1qB,EAAS,CACT,IAAIuqB,EAAYvqB,EAAQuqB,UAEnBA,IACDA,EAAYvqB,EAAQwqB,mBACV5f,SAAQ,SAAUulB,GAAK,OAAOA,GAAK3W,EAASojE,WAAWpzD,aAAa2G,EAAI,IAGtF5F,EAAU3f,SAAQ,SAAUulB,GAAK,OAAOA,GAAKA,EAAEnH,QAAQ0B,EAAO,GAClE,CAjBA,CAkBJ,EAEAgyD,EAAW31E,UAAUiqC,YAAc,WAC/B,IAAInwC,EAAU0F,KAAK1F,QACf26B,EAAep4B,WAAW,CAAC,EAAGvC,EAAQ45B,QAE1Cl0B,KAAK4tB,UAAUjrB,OAAO,IAAI0qB,QAAQ/yB,EAAQwzB,KAAMmH,GACpD,EAEAkhD,EAAW31E,UAAUipD,iBAAmB,WACpC,OAAOzpD,KAAK1F,QAAQwzB,IACxB,EAEAqoD,EAAW31E,UAAUsqD,YAAc,WAC/B9qD,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAMX,KAAKkpD,KACnClpD,KAAK+kB,sBAAqB,GAC1B/kB,KAAKo3E,mBACT,EAEAjB,EAAW31E,UAAUuqD,qBAAuB,WACxC/qD,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAM,IAC9BX,KAAK+kB,sBAAqB,GAC1B/kB,KAAKs3E,iBACT,EAEAnB,EAAW31E,UAAUsiB,eAAiB,WAClCgE,EAAWtmB,UAAUsiB,eAAe3hB,KAAKnB,MAEzC,IAAI2nB,EAAS3nB,KAAK1F,QAAQqtB,QAAU,CAAC,EACjC4vD,EAAYv3E,KAAKw3E,aAAezkF,OAAOy0B,SAASxnB,KAAK4tB,UAAU9Q,IAAI0B,SAAU,CAC7EgG,KAAM,CACFzb,MAAOjR,QACPssB,QAAS,GAEb7pB,OAAQ,KACRotB,OAAQA,EAAOlqB,OAASkqB,IAG5B3nB,KAAKijB,aAAas0D,EACtB,EAEApB,EAAW31E,UAAUovB,MAAQ,SAAgBC,EAAQ7tB,GACjD,IAAIV,EAAOtB,KAAK4S,UAAU5Q,IAErB6tB,EAAOxuB,QAAQs8C,kBAAmBr8C,IAASU,GAAgB,gBAAXA,EAAE6B,MACnD7B,EAAE8Q,gBAEV,EAEAqjE,EAAW31E,UAAUoxB,KAAO,SAAe/B,EAAQ7tB,GAC/C,IAAIV,EAAOtB,KAAK4S,UAAU5Q,GAQ1B,OANK6tB,EAAOxuB,QAAQu8C,kBAAmBt8C,KACnCuuB,EAAO4nD,iBAAiBn2E,EAAKkiE,YAAaliE,EAAKqiE,YAC/C3jE,KAAKo3E,sBAIF,CACX,EAEAjB,EAAW31E,UAAUqxB,IAAM,SAAchC,EAAQ7tB,GAC7C6tB,EAAO6nD,oBACP13E,KAAKs3E,kBAELznD,EAAOxuB,QAAQw8C,kBAAmB79C,KAAK4S,UAAU5Q,GACrD,EAEAm0E,EAAW31E,UAAUoS,UAAY,SAAoB5Q,GACjD,IAAI1H,EAAU0F,KAAK1F,QAEnB,MAAO,CACHb,QAASyJ,aAAalB,GACtB8rB,KAAMxzB,EAAQwzB,KACdpJ,OAAQpqB,EAAQoqB,OAChB8+C,YAAalpE,EAAQoqB,OAAOjpB,MAC5BkoE,WAAYrpE,EAAQqpE,WAE5B,EAEAwS,EAAW31E,UAAUkiB,aAAe,WAChCoE,EAAWtmB,UAAUkiB,aAAavhB,KAAKnB,MACvC,IAAI1F,EAAU0F,KAAK1F,QAEnB,GAAI0F,KAAK1F,QAAQmoB,QAAS,CACtB,IAAIoF,EAAuBhrB,WAAW,CAClCkrB,eAA+CvgB,IAApClN,EAAQ0qB,cAAc+C,UAA0BztB,EAAQ0qB,cAAc+C,UAAYztB,EAAQwzB,MACtGxzB,EAAQ0qB,eAEX4C,mCAAmC5nB,KAAK+iB,OAAQ8E,EACpD,CACJ,EAEAsuD,EAAW31E,UAAUgiB,aAAe,WAChC,IAAIvP,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACf+pB,EAAe/pB,EAAQyoB,OAEvBsB,GACArkB,KAAK+iB,OAASsB,EAAa,CACvBg6C,OAAQ/jE,EAAQ+jE,OAChB35C,OAAQpqB,EAAQoqB,OAChB7R,OAAQ7S,KAAKkiB,YACbyhD,WAAYrpE,EAAQqpE,WACpBrpE,QAAS,CACLuJ,KAAMvJ,EAAQuJ,KAGdslD,QAAStsD,WAAW,CAAEuoB,WAAYplB,KAAK1F,QAAQ8jE,aAAep+D,KAAKsqD,iBACnEp2B,OAAQ55B,EAAQ45B,QAEpBxR,aAAc,WACVzP,EAASyP,eACTzP,EAAS2P,iBACT3P,EAAS6P,iBAET,IAAI6O,EAAgB1e,EAAS8P,OAI7B,cAFO9P,EAAS8P,OAET4O,CACX,IAEJ3xB,KAAKu2E,QAAUv2E,KAAK82E,gBAAkB92E,KAAKm3E,QAAUn3E,KAAK62E,MAAQ,KAClE72E,KAAK2iB,aAELmE,EAAWtmB,UAAUgiB,aAAarhB,KAAKnB,KAE/C,EAEAm2E,EAAW31E,UAAU+kB,qBAAuB,SAA+B9nB,GACvE,IAAIypB,EAAczpB,EAAMlD,OAAOC,MAC/B,OAAOzH,OAAOy0B,SAASxnB,KAAK4tB,UAAU9Q,IAAIY,IAAIwJ,EAAc,GAAG1I,SAAU/gB,EAC7E,EAEO04E,CACX,CAtTiB,CAsTfrvD,YAEFljB,kBAAkBuyE,WAAY,CAC1BnxD,cAAe,CACX8C,KAAMu3B,iBACNvlD,UAAWwlD,sBACXt3B,oBAAqBu3B,mCAEzB4J,QAAS,CAAC,EACVnlC,UAAW,CACPvB,SAAS,EACT0mC,QAAS,CAAC,KAIlB,IAAIwuB,OAAS,SAETC,SAAY,SAAUj2D,GACtB,SAASk2D,EAAOv9E,EAAS+nB,QACC,IAAjBA,IAA0BA,EAAe,CAAC,GAE/CV,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKqiB,aAAeA,EAEfliB,QAAQH,KAAK1F,QAAQw0B,SAAU,CAAEr3B,IAAKJ,MAAO5B,SAAUkB,KAAMghF,WAC9D33E,KAAK1F,QAAQw0B,SAAWz3B,OAG5B2I,KAAK83E,mBAEL93E,KAAK+3E,kBAAkBz9E,EAAQ20B,OAE/BjvB,KAAKg4E,aACT,CAgRA,OA9QKr2D,IAAek2D,EAAOp/E,UAAYkpB,GACvCk2D,EAAOr3E,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC/Dq3E,EAAOr3E,UAAUhE,YAAcq7E,EAE/BA,EAAOr3E,UAAUs3E,iBAAmB,WAChC,IAAIx9E,EAAU0F,KAAK1F,QACfw0B,EAAWx0B,EAAQw0B,SACnBmpD,EAAY39E,EAAQokB,MACpBA,EAAQoQ,EACR1H,EAAS1xB,OAETo5B,IAAa6oD,OACbj5D,EAAQ/nB,KACDwJ,QAAQ2uB,EAAU,CAAEr3B,IAAKhC,YAE5BipB,EADAu5D,IAAc1gF,QACNZ,KACDshF,IAAc9hF,MACbkB,MAEA3B,OAEZ0xB,EAAS0H,GACFmpD,IACHA,IAAc1gF,QACd6vB,EAAS3vB,IACFwgF,IAAc9hF,QACrBixB,EAAS3xB,WAIjBuK,KAAK4tB,UAAY,IAAI9G,WAAW,CAC5BC,OAAQzsB,EAAQysB,OAChBpJ,QAASrjB,EAAQqjB,QACjByH,WAAY9qB,EAAQ8qB,WACpBE,OAAQhrB,EAAQgrB,OAChB8B,OAAQA,EACR1I,MAAOA,EACPwE,OAAQ5oB,EAAQ4oB,OAChB8D,aAAa,IAGbhnB,KAAKk4E,WACLl4E,KAAKm4E,eAAiB,IAAIrxD,WAAW,CACjCM,OAAQA,EACR1I,MAAOA,EACPwE,OAAQ5oB,EAAQ4oB,OAChB8D,aAAa,IAGjBhnB,KAAKm4E,eAAiBn4E,KAAK4tB,UAG/B5tB,KAAK2C,OAAO3C,KAAK4tB,UACrB,EAEAiqD,EAAOr3E,UAAUw3E,YAAc,WAC3B,IAAI31D,EAAeriB,KAAKoiB,aACpB9nB,EAAU0F,KAAK1F,QACfywB,EAAW/qB,KAAK0gD,aAChB03B,EAAe,IAAIjD,aAAa,CAChCpqD,SAAUA,EACV/sB,QAAS1D,EAAQ0D,QACjBk1B,IAAK7Q,EAAa6Q,KACnB7Q,GACCzW,EAAOtR,EAAQsR,KAEftR,EAAQi1B,UACR3jB,EAAOA,EAAKtC,MAAM,GAAGimB,WAKzB,IAFA,IAAI7zB,EAAQkQ,EAAK/R,OAERY,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIkqB,EAAW/Y,EAAKnR,GAChBiI,EAAMiiB,EAASD,QAAU,CAAC,EAC1BykC,EAAUzmD,EAAIymD,aAA0B,IAAZA,IAAqBA,EAAU,CAAC,GAChE,IAAIzhC,EAAWhlB,EAAIglB,SACf4tD,EAAa5yE,EAAI4yE,WACjBlxD,EAAU1hB,EAAI0hB,QACdi0D,EAAiBx7E,WAAW,CAAE4lB,SAA6B,IAApB0mC,EAAQ1mC,QAAmB5e,KAAMlO,QAAUwzD,UAC/EkvB,EAAe7yE,KAEtB,IAAI8yE,EAAcz7E,WAAW,CAAC,EAC1B,CACIssD,QAASkvB,EACTnkD,OAAQ55B,EAAQ45B,OAChBhB,IAAK7Q,EAAa6Q,IAClB/mB,KAAM5T,OAAO4a,OAAO,CAAC,EAAG,CAACuU,SAAUA,GAC/BptB,EAAQ6R,MACZisD,KAAM7/D,OAAO4a,OAAO,CAAC,EAAG,CAACiR,QAASA,GAC9B9pB,EAAQ89D,MACZh0C,QAASA,EACTY,cAAe1qB,EAAQ0qB,eAE3B1qB,EAAQoN,KACR4tE,EACA3wD,EACA,CAAEwkC,QAAS7uD,EAAQ6uD,UAGvBivB,EAAaz1E,OAAO,IAAIwzE,WAAWmC,GACvC,CAEAF,EAAarnD,SACb/wB,KAAKm4E,eAAex1E,OAAOy1E,EAC/B,EAEAP,EAAOr3E,UAAUkgD,WAAa,WAC1B,IAAIh+C,EAAM1C,KAAK1F,QACX+6E,EAAc3yE,EAAI2yE,YAClBvmD,EAAWpsB,EAAIosB,SAInB,OAHgBA,IAAa6oD,QAAUtC,IAAgBj9E,aAC/CyK,QAAQwyE,GAAeA,IAAgBj9E,WAAa+H,QAAQ2uB,EAAU,CAAEn4B,KAAMU,QAG1F,EAEAwgF,EAAOr3E,UAAU+3E,SAAW,WACxB,OAAOv4E,KAAK4tB,UAAUhM,SAAS,GAAGA,SAAS/nB,OAAS,CACxD,EAEAg+E,EAAOr3E,UAAUg4E,SAAW,WACxB,OAAOx4E,KAAKm4E,eAAev2D,SAAS,GAAGA,QAC3C,EAEAi2D,EAAOr3E,UAAUshB,OAAS,SAAiB9E,GACvC,IAAI1iB,EAAU0F,KAAK1F,QACfm+E,EAAYz7D,EAAUrgB,QAErBqD,KAAKu4E,YAKNj+E,EAAQw0B,WAAa6oD,QACrB33E,KAAK04E,sBAAsBD,GAC3Bz4E,KAAK8c,IAAM27D,GAEXz4E,KAAK24E,gBAAgBF,GAGrBz4E,KAAKk4E,YACLl4E,KAAKivB,MAAMnN,OAAO,IAAIjF,IAAI7c,KAAK4tB,UAAU9Q,IAAIlI,GAAI5U,KAAKivB,MAAMnS,IAAIhI,GAAI9U,KAAK4tB,UAAU9Q,IAAI/H,GAAI/U,KAAKivB,MAAMnS,IAAI9H,MAZ1GhV,KAAK8c,IAAM27D,CAcnB,EAEAZ,EAAOr3E,UAAUm4E,gBAAkB,SAA0B37D,GACzD,IACI1iB,EADM0F,KACQ1F,QACdszB,EAFM5tB,KAEU4tB,UAChBkB,EAAWx0B,EAAQw0B,SACnBt0B,EAAQF,EAAQE,MAChBmR,EAASrR,EAAQqR,OACjBG,EAAMgjB,IAAar3B,KAAOq3B,IAAar5B,SAAWuC,EAAIC,EACtD8yB,EAAW/qB,KAAK0gD,aAChBk4B,EAAc57D,EAAUrgB,QACxBk8E,EAAe77D,EAAUrgB,QAEzBmyB,IAAan4B,MAAQm4B,IAAaz3B,QAClCwhF,EAAa/jE,GAAK8jE,EAAY9jE,GAAK,GAGnCiW,GAAYpf,GACZktE,EAAa7jE,GAAK6jE,EAAa/jE,GAAKnJ,EACpCktE,EAAan6D,MAAMk6D,EAAa3gF,EAAG21B,EAAUtzB,QAAQ8sB,UAC7C2D,GAAYvwB,IACpBq+E,EAAa9jE,GAAK8jE,EAAajkE,GAAKpa,EACpCq+E,EAAan6D,MAAMk6D,EAAa5gF,EAAG41B,EAAUtzB,QAAQokB,QAGzDkP,EAAU9L,OAAO+2D,GAGjB,IAAI/7D,GAFJ+7D,EAAejrD,EAAU9Q,KAEFngB,SAEnBrC,EAAQsnE,SAAWtnE,EAAQwnE,WAC3B+W,EAAah+E,UAAUP,EAAQsnE,QAAStnE,EAAQwnE,SAChDl0C,EAAU9L,OAAO+2D,IAGrB/7D,EAAIhR,EAAM,GAAKkR,EAAUlR,EAAM,GAC/BgR,EAAIhR,EAAM,GAAKkR,EAAUlR,EAAM,GAE/B9L,KAAK8c,IAAMA,CACf,EAEA+6D,EAAOr3E,UAAUk4E,sBAAwB,SAAgC17D,GACrE,IACI1iB,EADM0F,KACQ1F,QACdszB,EAFM5tB,KAEU4tB,UAChBg0C,EAAUtnE,EAAQsnE,QAClBE,EAAUxnE,EAAQwnE,QAClBtnE,EAAQF,EAAQE,MAChBmR,EAASrR,EAAQqR,OACjBof,EAAW/qB,KAAK0gD,aAChBm4B,EAAe77D,EAAUrgB,QAEzBouB,GAAYpf,EACZktE,EAAa7jE,GAAK6jE,EAAa/jE,GAAKnJ,GAC5Bof,GAAYvwB,IACpBq+E,EAAa9jE,GAAK8jE,EAAajkE,GAAKpa,GAExCozB,EAAU9L,OAAO+2D,GACjBA,EAAejrD,EAAU9Q,IAEzB8Q,EAAU9L,OAAO,IAAIjF,IACjB+kD,EAASE,EACTF,EAAUiX,EAAar+E,QAASsnE,EAAU+W,EAAaltE,UAE/D,EAEAksE,EAAOr3E,UAAUgiB,aAAe,WACxBxiB,KAAKu4E,YACL52D,EAAanhB,UAAUgiB,aAAarhB,KAAKnB,KAEjD,EAEA63E,EAAOr3E,UAAUu3E,kBAAoB,SAA4B9oD,GAC7D,IAAIC,EAAeryB,WAAW,CAAC,EAAG,CAC9BkM,MAAOvT,QACPs5B,SAAUr3B,IACVinB,MAAOhpB,QACRu5B,GACCnB,EAAOoB,EAAapB,KAExB,GAAKmB,IAA2B,IAAlBA,EAAMxM,SAAsBwM,EAAMnB,KAAhD,CAIA,GAAIjrB,QAAQqsB,IAAiBA,EAAazM,QAAS,CAC/C,IAAIwV,EAAgBx5B,cAAcywB,GAC9B+I,EACAnK,EAAOmK,EAAc,CAAEnK,KAAMA,IACtBoB,EAAaQ,SACpB5B,EAAO9tB,KAAKqiB,aAAaqN,OAAO0B,KAAKlC,EAAaQ,OAAQ5B,GAElE,CAEA9tB,KAAKivB,MAAQ,IAAI5B,QAAQS,EAAMoB,GAE/BlvB,KAAK84E,oBAEL94E,KAAK+4E,0BAfL,CAgBJ,EAEAlB,EAAOr3E,UAAUs4E,kBAAoB,WACjC94E,KAAKg5E,OAAS,IAAInuD,aAAa,CAC3BE,UAAU,EACVhO,MAAM,IAGV/c,KAAK4tB,UAAUjrB,OAAO3C,KAAKg5E,OAC/B,EAEAnB,EAAOr3E,UAAU03E,SAAW,WACxB,OAAOpoE,QAAQ9P,KAAK1F,QAAQ20B,QAAwC,IAA/BjvB,KAAK1F,QAAQ20B,MAAMxM,SAAqBziB,KAAK1F,QAAQ20B,MAAMnB,KACpG,EAEA+pD,EAAOr3E,UAAUu4E,yBAA2B,WAC1B/4E,KAAK1F,QAEP20B,MAAMH,WAAar5B,UAC3BuK,KAAKg5E,OAAOr2E,OAAO3C,KAAKm4E,gBACxBn4E,KAAKg5E,OAAOr2E,OAAO3C,KAAKivB,SAExBjvB,KAAKg5E,OAAOr2E,OAAO3C,KAAKivB,OACxBjvB,KAAKg5E,OAAOr2E,OAAO3C,KAAKm4E,gBAEhC,EAEON,CACX,CAlSe,CAkSbl2D,cAEF/d,kBAAkBg0E,SAAU,CACxB9oD,SAAUz3B,MACVuU,KAAM,GACNg2D,QAAS,EACTE,QAAS,EACT/6C,OAAQjpB,WAAW,GACnB6f,QAAS7f,WAAW,GACpBwnB,OAAQ,CACJvc,MAAOvT,QACPgF,MAAO,GAEXkN,KAAM,CACFigB,OAAQxvB,QACR6F,QAAS,GAEbA,QAAS,EACTonB,WAAY,GACZlC,OAAQ,EACRimC,QAAS,CAAC,EACVh9C,KAAM,CACF3R,MAAO,GACPmR,OAAQ,EACRgc,OAAQxvB,QACRisB,QAAS,GAEbg0C,KAAM,CACFv0D,KAAMlM,OACN+mB,MAAOrnB,MACPmD,MAAO,GACPmR,OAAQ,MAIhB,IAAIstE,gBAAmB,SAAUtmF,GAC7B,SAASsmF,IACLtmF,EAAMwO,KAAKnB,MAEXA,KAAKk5E,UAAY,EACrB,CAgCA,OA9BKvmF,IAAQsmF,EAAgBxgF,UAAY9F,GACzCsmF,EAAgBz4E,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC1Dy4E,EAAgBz4E,UAAUhE,YAAcy8E,EAExCA,EAAgBz4E,UAAU1B,SAAW,SAAmB+E,EAAMmzC,GAC1Dh3C,KAAKk5E,UAAU55E,KAAK,CAChBuE,KAAMA,EACNmzC,YAAaA,GAErB,EAEAiiC,EAAgBz4E,UAAUsF,OAAS,SAAiBsoE,EAAW9zE,EAAS+nB,GAKpE,IAJA,IAEIqC,EAFA0lD,EAAWpqE,KAAKk5E,UAChB95E,EAAQgrE,EAAS,GAGZxwE,EAAM,EAAGA,EAAMwwE,EAASvwE,OAAQD,IAAO,CAC5C,IAAIu/E,EAAQ/O,EAASxwE,GACrB8qB,EAAS49B,mBAAmB8rB,EAAW+K,EAAMniC,aAC7C,IAAIoiC,EAAa92B,mBAAmB8rB,EAAW1wB,kBAE/C,GAAKh5B,EAAO7qB,OAASu/E,EAAWv/E,OAAU,EAAG,CACzCuF,EAAQ+5E,EACR,KACJ,CACJ,CAEA,OAAO,IAAI/5E,EAAMyE,KAAK6gB,EAAQpqB,EAAS+nB,EAC3C,EAEO42D,CACX,CAtCsB,CAsCpBtmF,OAEFsmF,gBAAgBthE,QAAU,IAAIshE,gBAE9B,IAAII,oBAAsB,EACtBC,uBAAyB,GAE7B,SAASC,YAAY35E,GACjB,IAAInG,EAAU0K,SAASiD,cAAc,OAKrC,OAJIxH,IACAnG,EAAQK,UAAY8F,GAGjBnG,CACX,CAEA,SAAS+/E,cAAc//E,GAEnB,IADA,IAAIke,EAAUle,EACPke,IAAYhY,WAAWgY,EAAS,aACnCA,EAAUA,EAAQs8D,WAGtB,OAAOt8D,CACX,CAEA,IAAI8hE,UAAa,SAAU9mF,GACvB,SAAS8mF,EAAUxmD,EAAOixB,EAAc5pD,EAASwG,GAC7CnO,EAAMwO,KAAKnB,MAEX,IAAIgjB,EAAeiQ,EAAMx5B,QAEzBuG,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAKizB,MAAQA,EACbjzB,KAAKc,SAAWA,EAChBd,KAAKgjB,aAAeA,EACpBhjB,KAAKkkD,aAAeA,EACpBlkD,KAAK05E,UAAY15E,KAAKkkD,wBAAwB/b,iBAE9CnoC,KAAK25E,cAEL35E,KAAKyiB,QAAUziB,KAAK1F,QAAQmoB,SAAWO,EAAa42D,aAEhD55E,KAAKyiB,UACLziB,KAAK65E,iBAEL75E,KAAKW,IAAIX,KAAKoJ,OAAOpJ,KAAK1F,QAAQ6P,MAAOnK,KAAKoJ,OAAOpJ,KAAK1F,QAAQu9B,KAElE73B,KAAK4C,aAEb,CA4kBA,OA1kBKjQ,IAAQ8mF,EAAUhhF,UAAY9F,GACnC8mF,EAAUj5E,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDi5E,EAAUj5E,UAAUhE,YAAci9E,EAElCA,EAAUj5E,UAAUs5E,OAAS,SAAiBtiD,GAC1C,OAAOx3B,KAAKkkD,aAAa1sB,OAASA,CACtC,EAEAiiD,EAAUj5E,UAAUq5E,eAAiB,WACjC,IAAIv/E,EAAU0F,KAAK1F,QACf8K,EAAUpF,KAAKoF,QAAUm0E,YAAY,oCACzCj8E,cAAc8H,EAAS,CACnBnH,IAAK3D,EAAQD,OAAO4D,IACpBG,KAAM9D,EAAQD,OAAO+D,KACrB5D,MAAOF,EAAQE,MACfmR,OAAQrR,EAAQqR,OAChB85D,UAAW,QAGf,IAAIsU,EAAY/5E,KAAK+5E,UAAYR,YAAY,qCAE7Cv5E,KAAKg6E,SAAWT,YAAY,gCAC5Bv5E,KAAKi6E,UAAYV,YAAY,gCAE7Bn0E,EAAQyB,YAAY7G,KAAKg6E,UACzB50E,EAAQyB,YAAY7G,KAAKi6E,WACzB70E,EAAQyB,YAAYkzE,GAEpB,IAAIjmB,EAAO9zD,KAAK8zD,KAAOylB,YAAY,wCACnCQ,EAAUlzE,YAAYitD,GAEtB,IAAIomB,EAAal6E,KAAKk6E,WAAaX,YAAY,gDAC3CY,EAAcn6E,KAAKm6E,YAAcZ,YAAY,iDACjDW,EAAWrzE,YAAY0yE,eACvBY,EAAYtzE,YAAY0yE,eAExBQ,EAAUlzE,YAAYqzE,GACtBH,EAAUlzE,YAAYszE,GAEtBn6E,KAAKgjB,aAAanc,YAAYzB,GAC9B,IAAIg1E,EAAkB98E,cAAcy8E,EAAW,CAAE,kBAAmB,mBAAoB,WACpFM,EAAmB/8E,cAAc48E,EAAY,UAAUvuE,OACvD2uE,EAAoBh9E,cAAc68E,EAAa,UAAUxuE,OAE7DrR,EAAQy/E,UAAY,CAChBz0D,OAAQ,CACJlnB,KAAMg8E,EAAgBG,gBACtBr8E,MAAOk8E,EAAgBI,mBAI/Bl9E,cAAc48E,EAAY,CACtBj8E,KAAMm8E,EAAgBzuE,OAAS0uE,GAAoB,IAGvD/8E,cAAc68E,EAAa,CACvBl8E,KAAMm8E,EAAgBzuE,OAAS2uE,GAAqB,IAIxDl1E,EAAQ3H,MAAMg9E,QAAUr1E,EAAQ3H,MAAMg9E,OAC1C,EAEAhB,EAAUj5E,UAAUoC,WAAa,WAC7B,IAAIrD,GAE4B,IAA5BS,KAAK1F,QAAQogF,aACb16E,KAAK26E,mBAAqB36E,KAAK46E,YAAY1yE,KAAKlI,MAChD4C,WAAW5C,KAAKgjB,eAAgBzjB,EAAM,CAAC,GAAQsgD,cAAiB7/C,KAAK26E,mBAAoBp7E,KAG7FS,KAAK66E,WAAatnD,iBAAiBztB,OAAO9F,KAAKgjB,aAAc,CACzDjK,iBAAiB,EACjB1Y,MAAOL,KAAK6X,OAAO3P,KAAKlI,MACxB+N,KAAM/N,KAAKkZ,MAAMhR,KAAKlI,MACtBM,IAAKN,KAAKoZ,KAAKlR,KAAKlI,MACpB86E,IAAK96E,KAAKqX,KAAKnP,KAAKlI,MACpB+W,MAAO/W,KAAK+6E,OAAO7yE,KAAKlI,MACxBg7E,aAAch7E,KAAKi7E,cAAc/yE,KAAKlI,MACtCk7E,cAAel7E,KAAKm7E,eAAejzE,KAAKlI,MACxCo7E,WAAYp7E,KAAKq7E,YAAYnzE,KAAKlI,OAE1C,EAEAy5E,EAAUj5E,UAAUm5E,YAAc,WAC9B,IACIr/E,EADM0F,KACQ1F,QAEdwiB,EAHM9c,KAEakkD,aACA1sB,KAAKojC,YACxBroC,EAAcvyB,KAAKizB,MAAM5Q,aAAaqQ,KAEtC1yB,KAAK05E,WACL78E,WAAWvC,EAAS,CAChBiN,IAAKwqB,UAAUQ,EAAaj4B,EAAQiN,KACpClF,IAAK0vB,UAAUQ,EAAaj4B,EAAQ+H,KACpC8H,KAAM4nB,UAAUQ,EAAaj4B,EAAQ6P,MACrC0tB,GAAI9F,UAAUQ,EAAaj4B,EAAQu9B,MAI3C,IAAIrM,EAAQluB,cAAc0C,KAAKgjB,aAAc,CAAE,cAAe,eAC1Du2C,EAAc/tC,EAAM+tC,YACpBF,EAAa7tC,EAAM6tC,WAEvBr5D,KAAK1F,QAAUuC,WAAW,CAAC,EAAG,CAC1BrC,MAAOsiB,EAAItiB,QACXmR,OAAQmR,EAAInR,SAAW2tE,uBACvB37D,QAAS,CACLvf,KAAMm7D,EACNt7D,IAAKo7D,GAETh/D,OAAQ,CACJ+D,KAAM0e,EAAIlI,GAAK2kD,EACft7D,IAAK6e,EAAIhI,GAAKukD,GAElBlvD,KAAM7P,EAAQiN,IACdswB,GAAIv9B,EAAQ+H,KACb/H,EACP,EAEAm/E,EAAUj5E,UAAU0R,QAAU,WAC1B,IAAI3S,EAEAS,KAAK66E,aACL76E,KAAK66E,WAAW3oE,iBACTlS,KAAK66E,YAGhB9iE,aAAa/X,KAAKs7E,YAClBt7E,KAAKu7E,OAAS,KAEVv7E,KAAKoF,UACDpF,KAAK26E,qBACLl3E,aAAazD,KAAKgjB,eAAgBzjB,EAAM,CAAC,GAAQsgD,cAAiB7/C,KAAK26E,mBAAoBp7E,IAC3FS,KAAK26E,mBAAqB,MAG9B36E,KAAKgjB,aAAakxD,YAAYl0E,KAAKoF,SACnCpF,KAAKoF,QAAU,KAEvB,EAEAq0E,EAAUj5E,UAAUg7E,gBAAkB,SAA0BnmD,GAE5D,MAAO,CACH1f,KAAM3V,KAAKkkD,aAAa5pD,QACxB6P,KAAMnK,KAAKy7E,OAAOpmD,EAAMlrB,MACxB0tB,GAAI73B,KAAKy7E,OAAOpmD,EAAMwC,IAE9B,EAEA4hD,EAAUj5E,UAAUk7E,aAAe,SAAuBzgF,EAAGC,GACzD,IAAI2mE,EAAU7hE,KAAKkkD,aAAa1sB,KAAK1a,IACjC6+D,EAAc37E,KAAKizB,MAAM2oD,oBAAoB3gF,EAAGC,GACpD,OAAO2mE,EAAQhkD,cAAc89D,EACjC,EAEAlC,EAAUj5E,UAAUqX,OAAS,SAAiB7V,GAC1C,IAAI1H,EAAU0F,KAAK1F,QACfmV,EAASvM,aAAalB,GAC1B,IAAIhC,KAAKu7E,QAAW9rE,EAApB,CAIA,IAAI47C,EAASpoD,iBAAiBjB,GAE9B,GADahC,KAAK07E,aAAarwB,EAAOpwD,EAAGowD,EAAOnwD,GAChD,CAIA,IAAI2gF,EAASrC,cAAc/pE,GACvBqsE,EAAW97E,KAAK8zD,KAAKioB,wBACrBC,GAAUH,GAAUxwB,EAAOpwD,GAAK6gF,EAAS7gF,GAAKowD,EAAOpwD,GAAK6gF,EAAS7gF,EAAI6gF,EAASthF,OACrE6wD,EAAOnwD,GAAK4gF,EAAS5gF,GAAKmwD,EAAOnwD,GAAK4gF,EAAS5gF,EAAI4gF,EAASnwE,OAE3E3L,KAAKizB,MAAMykD,oBACX13E,KAAKu7E,OAAS,CACVU,WAAYJ,EACZ/lE,cAAe9T,EAAE/G,EAAI+G,EAAE/G,EAAE4Z,SAAW,EACpCmnE,OAAQA,EACR3mD,MAAO,CACHlrB,KAAMnK,KAAKoJ,OAAO9O,EAAQ6P,MAC1B0tB,GAAI73B,KAAKoJ,OAAO9O,EAAQu9B,MAIhC,IAAIv2B,EAAOtB,KAAKw7E,gBAAgB,CAC5BrxE,KAAMnK,KAAKoJ,OAAO9O,EAAQ6P,MAC1B0tB,GAAI73B,KAAKoJ,OAAO9O,EAAQu9B,MAGxB73B,KAAKqB,QAAQs9C,aAAcr9C,KAC3BtB,KAAKu7E,OAAS,KAxBlB,CANA,CAgCJ,EAEA9B,EAAUj5E,UAAUu6E,OAAS,SAAiB/4E,GAC1C,IAAI65E,GAEAA,EADA77E,KAAKu7E,OACIv7E,KAAKu7E,OAAOU,WAEZzC,cAAct2E,aAAalB,MAGpCxI,SAASqiF,EAAQ,kBAEzB,EAEApC,EAAUj5E,UAAU0Y,MAAQ,SAAgBlX,GACxC,GAAKhC,KAAKu7E,OAAV,CAIA,IAAI74E,EAAM1C,KACNiE,EAAQvB,EAAI64E,OACZjhF,EAAUoI,EAAIpI,QACd4pD,EAAexhD,EAAIwhD,aACnB7uB,EAAQpxB,EAAMoxB,MACd5lB,EAASxL,EAAMg4E,WACf1sD,EAAU20B,EAAa5pD,QAAQi1B,QAC/BplB,EAAOnK,KAAKoJ,OAAO9O,EAAQ6P,MAC3B0tB,EAAK73B,KAAKoJ,OAAO9O,EAAQu9B,IACzBtwB,EAAMvH,KAAKoJ,OAAO9O,EAAQiN,KAC1BlF,EAAMrC,KAAKoJ,OAAO9O,EAAQ+H,KAC1BJ,EAAQgC,EAAM6R,cAAgB9T,EAAE/G,EAAE4Z,SAClCqnE,EAAmB7mD,EAAMlrB,KAAzB+xE,EAAmC7mD,EAAMwC,GACzCmP,EAAO3R,EAAMwC,GAAKxC,EAAMlrB,KACxBoR,EAAQje,cAAc0C,KAAKoF,QAAS,SAAS5K,OAAS0pD,EAAazgB,kBAAoB,GACvFppC,EAAS+H,KAAKxH,MAAMqH,EAAQsZ,IAAUgU,GAAW,EAAI,GAEzD,GAAK9f,GAAWxL,EAAM+3E,OAAtB,CAIA,IAAI9B,EAAazqE,GAAU9P,WAAW8P,EAAQ,iBAC1C0qE,EAAc1qE,GAAU9P,WAAW8P,EAAQ,kBAE3CxL,EAAM+3E,QACN3mD,EAAMlrB,KAAO/H,KAAKmF,IACdnF,KAAKC,IAAIkF,EAAK4C,EAAO9P,GACrBgI,EAAM2kC,GAEV3R,EAAMwC,GAAKz1B,KAAKmF,IACZ8tB,EAAMlrB,KAAO68B,EACb3kC,IAEI63E,IAAe3qD,GAAa4qD,GAAe5qD,GACnD8F,EAAMlrB,KAAO/H,KAAKmF,IACdnF,KAAKC,IAAIkF,EAAK4C,EAAO9P,GACrBgI,EAAM,GAEVgzB,EAAMwC,GAAKz1B,KAAKC,IAAIgzB,EAAMlrB,KAAO,EAAGkrB,EAAMwC,MAClCqiD,GAAc3qD,GAAa4qD,IAAgB5qD,KACnD8F,EAAMwC,GAAKz1B,KAAKmF,IACZnF,KAAKC,IAAIkF,EAAM,EAAGswB,EAAKx9B,GACvBgI,GAEJgzB,EAAMlrB,KAAO/H,KAAKmF,IAAI8tB,EAAMwC,GAAK,EAAGxC,EAAMlrB,OAG1CkrB,EAAMlrB,OAAS+xE,GAAiB7mD,EAAMwC,KAAOqkD,IAC7Cl8E,KAAK+N,KAAKsnB,EAAMlrB,KAAMkrB,EAAMwC,IAC5B73B,KAAKqB,QAAQu9C,OAAQ5+C,KAAKw7E,gBAAgBnmD,IA9B9C,CArBA,CAqDJ,EAEAokD,EAAUj5E,UAAU4Y,KAAO,WACvB,GAAIpZ,KAAKu7E,OAAQ,CACb,IAAIU,EAAaj8E,KAAKu7E,OAAOU,WACzBA,GACAhiF,YAAYgiF,EAAY,mBAG5B,IAAI5mD,EAAQr1B,KAAKu7E,OAAOlmD,MACxBr1B,KAAKW,IAAI00B,EAAMlrB,KAAMkrB,EAAMwC,IAC3B73B,KAAKqB,QAAQw9C,WAAY7+C,KAAKw7E,gBAAgBnmD,WAEvCr1B,KAAKu7E,MAChB,CACJ,EAEA9B,EAAUj5E,UAAU6W,KAAO,SAAerV,GACtC,IACI1H,EADM0F,KACQ1F,QACd4pD,EAFMlkD,KAEakkD,aACnBmH,EAASrrD,KAAKizB,MAAM6+C,kBAAkB9vE,GACtC2lC,EAAauc,EAAa9gB,mBAAmB,IAAIznB,QAAQ0vC,EAAOpwD,EAAGipD,EAAapnC,IAAIhI,KACpF3K,EAAOnK,KAAKoJ,OAAO9O,EAAQ6P,MAC3B0tB,EAAK73B,KAAKoJ,OAAO9O,EAAQu9B,IACzBtwB,EAAMvH,KAAKoJ,OAAO9O,EAAQiN,KAC1BlF,EAAMrC,KAAKoJ,OAAO9O,EAAQ+H,KAC1B2kC,EAAOnP,EAAK1tB,EACZmpD,EAAMnpD,EAAO68B,EAAO,EACpB3R,EAAQ,CAAC,EACT8mD,EAA+B,IAAlBn6E,EAAEoN,MAAMkL,MACrBjgB,EAAS+H,KAAKxH,MAAM04D,EAAM3rB,GAE1B3nC,KAAKu7E,QAAUY,IAKnBn8E,KAAKizB,MAAMykD,oBAENxzB,EAAa5pD,QAAQ4hC,WACtB7hC,IAGJg7B,EAAMlrB,KAAO/H,KAAKmF,IACdnF,KAAKC,IAAIkF,EAAK4C,EAAO9P,GACrBgI,EAAM2kC,GAGV3R,EAAMwC,GAAKz1B,KAAKmF,IAAI8tB,EAAMlrB,KAAO68B,EAAM3kC,GAEvCrC,KAAK6X,OAAO7V,GAERhC,KAAKu7E,SACLv7E,KAAKu7E,OAAOlmD,MAAQA,EACpBr1B,KAAKqB,QAAQu9C,OAAQ5+C,KAAKw7E,gBAAgBnmD,IAC1Cr1B,KAAKoZ,QAEb,EAEAqgE,EAAUj5E,UAAUo6E,YAAc,SAAsB54E,GACpD,IAAIiR,EAAWjT,KAEXiC,EAAQF,gBAAgBC,GAI5B,GAFAhC,KAAK6X,OAAO7V,GAERhC,KAAKu7E,OAAQ,CACb,IAAIlmD,EAAQr1B,KAAKu7E,OAAOlmD,MAExBrzB,EAAE8Q,iBACF9Q,EAAE+W,kBAEE3W,KAAKkZ,IAAIrZ,GAAS,IAClBA,GAASo3E,qBAGTr5E,KAAK1F,QAAQogF,WAAWnrD,UACxBttB,IAAU,GAGVjC,KAAKyd,OAAOxb,IACZjC,KAAKqB,QAAQu9C,OAAQ,CACjBjpC,KAAM3V,KAAKkkD,aAAa5pD,QACxB2H,MAAOA,EACPuT,cAAexT,EACfmI,KAAMnK,KAAKy7E,OAAOpmD,EAAMlrB,MACxB0tB,GAAI73B,KAAKy7E,OAAOpmD,EAAMwC,MAI1B73B,KAAKs7E,YACLvjE,aAAa/X,KAAKs7E,YAGtBt7E,KAAKs7E,WAAarkE,YAAW,WACzBhE,EAASmG,MACb,GAAG0mC,iBACP,CACJ,EAEA25B,EAAUj5E,UAAUy6E,cAAgB,SAAwBj5E,GACxD,IAAI1H,EAAU0F,KAAK1F,QACfga,EAAQtS,EAAEuT,QAAQ,GAGtB,GAFavV,KAAK07E,aAAapnE,EAAMyG,MAAOzG,EAAM0G,OAElD,CAIAhb,KAAKu7E,OAAS,CACVlmD,MAAO,CACHlrB,KAAMnK,KAAKoJ,OAAO9O,EAAQ6P,MAC1B0tB,GAAI73B,KAAKoJ,OAAO9O,EAAQu9B,MAGhC,IAAIv2B,EAAOtB,KAAKw7E,gBAAgBx7E,KAAKu7E,OAAOlmD,OAExCr1B,KAAKqB,QAAQs9C,aAAcr9C,GAC3BtB,KAAKu7E,OAAS,KAEdv5E,EAAE8Q,gBAbN,CAeJ,EAEA2mE,EAAUj5E,UAAU66E,YAAc,WAC1Br7E,KAAKu7E,SACLv7E,KAAKqB,QAAQw9C,WAAY7+C,KAAKw7E,gBAAgBx7E,KAAKu7E,OAAOlmD,eACnDr1B,KAAKu7E,OAEpB,EAEA9B,EAAUj5E,UAAU26E,eAAiB,SAAyBn5E,GAC1D,GAAKhC,KAAKu7E,OAAV,CAIA,IAAI74E,EAAM1C,KACNizB,EAAQvwB,EAAIuwB,MACZhvB,EAAQvB,EAAI64E,OACZjhF,EAAUoI,EAAIpI,QACd4pD,EAAexhD,EAAIwhD,aACnB7uB,EAAQpxB,EAAMoxB,MACdge,EAAKpgB,EAAM2oD,oBAAoB55E,EAAEuT,QAAQ,GAAGta,EAAE4Z,UAAU5Z,EACxD8nC,EAAK9P,EAAM2oD,oBAAoB55E,EAAEuT,QAAQ,GAAGta,EAAE4Z,UAAU5Z,EACxDmD,EAAOgE,KAAKmF,IAAI8rC,EAAItQ,GACpB7kC,EAAQkE,KAAKC,IAAIgxC,EAAItQ,GAEzB/gC,EAAE8Q,iBAEFuiB,EAAMlrB,KAAO+5C,EAAa9gB,mBAAmB,IAAIznB,QAAQvd,KAAU9D,EAAQiN,IAE3E8tB,EAAMwC,GAAKqsB,EAAa9gB,mBAAmB,IAAIznB,QAAQzd,KAAW5D,EAAQ+H,IAE1ErC,KAAK+N,KAAKsnB,EAAMlrB,KAAMkrB,EAAMwC,IAE5B73B,KAAKqB,QAAQu9C,OAAQ5+C,KAAKw7E,gBAAgBnmD,GArB1C,CAsBJ,EAEAokD,EAAUj5E,UAAU4I,OAAS,SAAiB9P,GAC1C,IAAImC,EAAQnC,EAMZ,OAJIA,aAAiBmD,OACjBhB,EAAQuE,KAAKkkD,aAAa/gB,cAAc7pC,IAGrCmC,CACX,EAEAg+E,EAAUj5E,UAAUi7E,OAAS,SAAiBhgF,GAC1C,IAAInC,EAAQmC,EAQZ,OAPIuE,KAAK05E,YACLpgF,EAAQ0G,KAAKkkD,aAAa1gB,WAAW/nC,IACzBuE,KAAK1F,QAAQ+H,MACrB/I,EAAQ0G,KAAK1F,QAAQ+H,KAItB/I,CACX,EAEAmgF,EAAUj5E,UAAU47E,MAAQ,SAAgB9iF,GACxC,IAAI4qD,EAAelkD,KAAKkkD,aACpBzoD,EAAQuE,KAAKoJ,OAAO9P,GAExB,OAAO4qD,EAAatsB,QAAQn8B,EAAOA,GAAO,EAC9C,EAEAg+E,EAAUj5E,UAAUuN,KAAO,SAAe5D,EAAM0tB,GAC5C,IAAIv9B,EAAU0F,KAAK1F,QACfi1B,EAAUvvB,KAAKkkD,aAAa5pD,QAAQi1B,QACpCl1B,EAASC,EAAQD,OACjBsjB,EAAUrjB,EAAQqjB,QAClB2H,EAAShrB,EAAQy/E,UAAUz0D,OAC3BlnB,EAAOmxB,EAAUsI,EAAK1tB,EACtBjM,EAAQqxB,EAAUplB,EAAO0tB,EACzBusC,EAAO,KAAO70C,EAAU,EAAI,GAE5BzS,EAAM9c,KAAKo8E,MAAMh+E,GACjBi+E,EAAgB74E,QAAQsZ,EAAIsnD,GAAQ/pE,EAAO+D,KAAOuf,EAAQvf,MAE9Dd,cAAc0C,KAAKg6E,SAAU,CACzBx/E,MAAO6hF,IAEX/+E,cAAc0C,KAAK+5E,UAAW,CAC1B37E,KAAMi+E,IAGVv/D,EAAM9c,KAAKo8E,MAAMl+E,GAEjB,IAAIo+E,EAAiB94E,QAAQlJ,EAAQE,OAASsiB,EAAIsnD,GAAQ/pE,EAAO+D,KAAOuf,EAAQvf,OAChFd,cAAc0C,KAAKi6E,UAAW,CAC1Bz/E,MAAO8hF,IAGX,IAAIlnE,EAAW9a,EAAQE,MAAQ8hF,EAC3BlnE,IAAa9a,EAAQE,QACrB4a,GAAYkQ,EAAOpnB,OAGvBZ,cAAc0C,KAAKi6E,UAAW,CAC1B77E,KAAMgX,IAEV9X,cAAc0C,KAAK+5E,UAAW,CAC1Bv/E,MAAO4H,KAAKC,IAAI/H,EAAQE,OAAS6hF,EAAgBC,GAAkBh3D,EAAOpnB,MAAO,IAEzF,EAEAu7E,EAAUj5E,UAAUG,IAAM,SAAcwJ,EAAM0tB,GAC1C,IAAIv9B,EAAU0F,KAAK1F,QACfiN,EAAMvH,KAAKoJ,OAAO9O,EAAQiN,KAC1BlF,EAAMrC,KAAKoJ,OAAO9O,EAAQ+H,KAC1B8uC,EAAY9tC,WAAWrD,KAAKoJ,OAAOe,GAAO5C,EAAKlF,GAC/Ck6E,EAAUl5E,WAAWrD,KAAKoJ,OAAOyuB,GAAKsZ,EAAY,EAAG9uC,GAErD/H,EAAQmoB,SACRziB,KAAK+N,KAAKojC,EAAWorC,GAGzBjiF,EAAQ6P,KAAOnK,KAAKy7E,OAAOtqC,GAC3B72C,EAAQu9B,GAAK73B,KAAKy7E,OAAOc,EAC7B,EAEA9C,EAAUj5E,UAAUid,OAAS,SAAiBxb,GAC1C,IAAI3H,EAAU0F,KAAK1F,QACfiN,EAAMvH,KAAKoJ,OAAO9O,EAAQiN,KAC1BlF,EAAMrC,KAAKoJ,OAAO9O,EAAQ+H,KAC1Bm6E,EAAOliF,EAAQogF,WAAW/F,KAC1BxqE,EAAOnK,KAAKoJ,OAAO9O,EAAQ6P,MAC3B0tB,EAAK73B,KAAKoJ,OAAO9O,EAAQu9B,IACzBxC,EAAQ,CAAElrB,KAAMA,EAAM0tB,GAAIA,GAC1BqkD,EAAWr/E,WAAW,CAAC,EAAGw4B,GAqB9B,GAnBIr1B,KAAKu7E,SACLlmD,EAAQr1B,KAAKu7E,OAAOlmD,OAGpBmnD,IAASnlF,QACTg+B,EAAMlrB,KAAO9G,WACTA,WAAW8G,EAAOlI,EAAO,EAAG41B,EAAK,GACjCtwB,EAAKlF,IAITm6E,IAAS7lF,OACT0+B,EAAMwC,GAAKx0B,WACPA,WAAWw0B,EAAK51B,EAAOozB,EAAMlrB,KAAO,EAAG9H,GACvCkF,EACAlF,IAIJgzB,EAAMlrB,OAAS+xE,EAAS/xE,MAAQkrB,EAAMwC,KAAOqkD,EAASrkD,GAEtD,OADA73B,KAAKW,IAAI00B,EAAMlrB,KAAMkrB,EAAMwC,KACpB,CAEf,EAEA4hD,EAAUj5E,UAAUm0E,KAAO,SAAe1yE,EAAOopD,GAC7C,IAAI/wD,EAAU0F,KAAK1F,QACfiN,EAAMvH,KAAKoJ,OAAO9O,EAAQiN,KAC1BlF,EAAMrC,KAAKoJ,OAAO9O,EAAQ+H,KAC1B8H,EAAOnK,KAAKoJ,OAAO9O,EAAQ6P,MAC3B0tB,EAAK73B,KAAKoJ,OAAO9O,EAAQu9B,IACzBxC,EAAQ,CAAElrB,KAAMA,EAAM0tB,GAAIA,GAC1BqkD,EAAWr/E,WAAW,CAAC,EAAGw4B,GAG1B9F,EADMvvB,KAAKkkD,aAAa5pD,QACVi1B,QACdrC,EAASl1B,GAAKu3B,EAAU,IAAM,KAC9BkG,EAAUz1B,KAAKkkD,aAAazuB,UAC5BgnD,EAAWr6E,KAAKkZ,IAAIma,EAAQvI,GAAUm+B,EAAOrzD,IAC7CwN,EAAOiwB,EAAQj7B,QACfs0B,EAAWtrB,QAAQi5E,EAAWj3E,EAAM,GACpCq+B,EAAWrgC,QAAQsrB,EAAW7sB,GAC9B6hC,EAAWtgC,SAAS,EAAIsrB,GAAY7sB,GAiBxC,GAfIjC,KAAKu7E,SACLlmD,EAAQr1B,KAAKu7E,OAAOlmD,OAGxBA,EAAMlrB,KAAO9G,WACTA,WAAW8G,EAAO05B,EAAU,EAAGhM,EAAK,GACpCtwB,EAAKlF,GAGTgzB,EAAMwC,GAAKx0B,WACPA,WAAWw0B,EAAKiM,EAAUzO,EAAMlrB,KAAO,EAAG9H,GAC1CkF,EACAlF,GAGAgzB,EAAMlrB,OAAS+xE,EAAS/xE,MAAQkrB,EAAMwC,KAAOqkD,EAASrkD,GAEtD,OADA73B,KAAKW,IAAI00B,EAAMlrB,KAAMkrB,EAAMwC,KACpB,CAEf,EAEA4hD,EAAUj5E,UAAUa,QAAU,SAAkB3M,EAAM4M,GAClD,OAAQtB,KAAKc,UAAYd,KAAKizB,OAAO5xB,QAAQ3M,EAAM4M,EACvD,EAEOm4E,CACX,CArmBgB,CAqmBd9mF,OAEFiR,kBAAkB61E,UAAW,CACzBh3D,SAAS,EACTi4D,WAAY,CACR/F,KAAM,QAEVptE,IAAKzQ,UACLuL,IAAKzL,YAGT,IAAI8lF,UAAa,SAAUzjB,GACvB,SAAS0jB,IACL1jB,EAAYt3D,MAAM3B,KAAMjD,UAC5B,CA8BA,OA5BKk8D,IAAc0jB,EAAQlkF,UAAYwgE,GACvC0jB,EAAQn8E,UAAYjI,OAAOuN,OAAQmzD,GAAeA,EAAYz4D,WAC9Dm8E,EAAQn8E,UAAUhE,YAAcmgF,EAEhCA,EAAQn8E,UAAU2jB,KAAO,SAAerI,GACpC,GAAKA,GAAUA,EAAMyuC,iBAAkBvqD,KAAK48E,UAAY58E,KAAK48E,WAAa9gE,GAA1E,CAIA,IAAIxhB,EAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASwhB,EAAMxhB,QAAQ+5D,SACrD15D,EAASmhB,EAAMyuC,gBAEf5vD,GACAqF,KAAK48E,SAAW9gE,EAChBm9C,EAAYz4D,UAAU2jB,KAAKhjB,KAAKnB,KAAM,CAClC8b,MAAOA,EACPnhB,OAAQA,GACTL,EAASwhB,IAEZ9b,KAAKgxB,MAZT,CAcJ,EAEA2rD,EAAQn8E,UAAUwwB,KAAO,kBACdhxB,KAAK48E,SACZ3jB,EAAYz4D,UAAUwwB,KAAK7vB,KAAKnB,KACpC,EAEO28E,CACX,CAlCgB,CAkCd1jB,aAEE4jB,gBAAmB,SAAU5jB,GAC7B,SAAS6jB,EAAczlD,EAAU/8B,GAC7B2+D,EAAY93D,KAAKnB,KAAMq3B,EAAShV,aAAc/nB,GAE9C0F,KAAKq3B,SAAWA,EAChBr3B,KAAK45D,cAAgBviC,EAAShV,aAAaqN,MAC/C,CAuEA,OArEKupC,IAAc6jB,EAAcrkF,UAAYwgE,GAC7C6jB,EAAct8E,UAAYjI,OAAOuN,OAAQmzD,GAAeA,EAAYz4D,WACpEs8E,EAAct8E,UAAUhE,YAAcsgF,EAEtCA,EAAct8E,UAAUs5D,OAAS,SAAiBh8C,EAAQutC,GACtD,IAAI0xB,EAAgBv9E,KAAKse,GAAQ,SAAShC,GACtC,IAAIu4C,EAAUv4C,EAAM4I,OAAO2vC,QAG3B,QAFeA,IAA+B,IAApBA,EAAQ5xC,QAGtC,IAEA,GAAIs6D,EAAcljF,OAAS,EAAG,CAC1B,IAAIiiB,EAAQihE,EAAc,GACtB5iD,EAAOn6B,KAAKq3B,SAAS6sB,aAAatsB,QAAQ9b,EAAM6rB,YAEhDhtC,EAAS0wD,EAASrrD,KAAKg9E,YAAY3xB,EAAQlxB,GAAQn6B,KAAKi9E,eAAenhE,EAAOqe,GAElFn6B,KAAKmkB,KAAK,CACNxpB,OAAQA,EACRuiF,QAAQ,EACRp/D,OAAQA,EACRnpB,SAAUmnB,EAAMnnB,SAChBwoF,aAAcn9E,KAAK45D,cAAcxoC,KAAKpxB,KAAK1F,QAAQ8iF,eAAgBthE,EAAMnnB,UACzE+vB,OAAQ1kB,KAAKq3B,SAAS3S,QACvB1kB,KAAK1F,QACZ,CACJ,EAEAwiF,EAAct8E,UAAUw8E,YAAc,SAAsBlhE,EAAOqe,GAW/D,OAVWn6B,KAAKq3B,SAAS6sB,aAMf5pD,QAAQywB,WACdjP,EAAM7gB,EAAIk/B,EAAKhlB,SAASla,GAGrB,CACH6gB,MAAOA,EACP4C,MAXQ,CACRisC,WAAY,OACZ5/B,SAAU,UAWlB,EAEA+xD,EAAct8E,UAAUy8E,eAAiB,SAAyBnhE,EAAOqe,GACrE,IAAIrd,EAAMhB,EAAMorC,MAAM1vB,KAAKojC,YACvB7vC,EAAW/qB,KAAKq3B,SAAS6sB,aAAa5pD,QAAQywB,SAC9C5V,EAAS2H,EAAI3H,SACbkoE,EAAaljD,EAAKhlB,SAatB,MAAO,CACH2G,MAPAiP,EACc,IAAIpP,QAAQxG,EAAOla,EAAGoiF,EAAWniF,GAEjC,IAAIygB,QAAQ0hE,EAAWpiF,EAAGka,EAAOja,GAK/CwjB,MAdQ,CACRisC,WAAY,SACZ5/B,SAAU,UAclB,EAEO+xD,CACX,CA9EsB,CA8EpB7jB,aAEFr1D,kBAAkBi5E,gBAAiB,CAC/BO,eAAgB,UAGpB,IAAIE,kBAAqB,SAAUrwB,GAC/B,SAASqwB,IACLrwB,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CAyCA,OAvCKkwD,IAAaqwB,EAAkB7kF,UAAYw0D,GAChDqwB,EAAkB98E,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WACtE88E,EAAkB98E,UAAUhE,YAAc8gF,EAE1CA,EAAkB98E,UAAU0sD,MAAQ,WAChC,IACIzzD,EADMuG,KACQvG,QACda,EAFM0F,KAEQ1F,QAGlB,GAFWb,EAAQs2B,OAET,CACN/vB,KAAKktB,OAAS5yB,EAAQ4yB,OACtB,IAAIvX,EAAOrb,EAAQywB,SAAW9yB,EAAID,EAE9BulF,EAAYv9E,KAAKu9E,UAAY,IAAI1qF,QAAQ,EAAG,GAChD0qF,EAAU5nE,GAAQwkC,YAElB1gD,EAAQ/F,UAAUA,YACb6nB,MAAMgiE,EAAUtiF,EAAGsiF,EAAUriF,GAEtC,MACI8E,KAAKw9E,OAEb,EAEAF,EAAkB98E,UAAU00B,KAAO,SAAeppB,GAC9C,IAAI2xE,EAASr9E,iBAAiBJ,KAAKu9E,UAAUtiF,EAAG,EAAG6Q,GAC/C4xE,EAASt9E,iBAAiBJ,KAAKu9E,UAAUriF,EAAG,EAAG4Q,GAEnD9L,KAAKvG,QAAQ/F,UAAUA,YAClB6nB,MAAMkiE,EAAQC,EAAQ19E,KAAKktB,QAEpC,EAEAowD,EAAkB98E,UAAUg9E,MAAQ,WAChCvwB,EAAWzsD,UAAUg9E,MAAMr8E,KAAKnB,MAChCA,KAAKvG,QAAQ/F,UAAU,KAC3B,EAEO4pF,CACX,CA7CwB,CA6CtBrqF,aAEF2Q,kBAAkB05E,kBAAmB,CACjCl9C,SAAU0Z,6BAGd9lD,iBAAiB2jB,QAAQ7Y,SAASs8C,IAAKkiC,mBAEvC,IAAIK,gBAAmB,SAAU1wB,GAC7B,SAAS0wB,IACL1wB,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CAmBA,OAjBKkwD,IAAa0wB,EAAgBllF,UAAYw0D,GAC9C0wB,EAAgBn9E,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WACpEm9E,EAAgBn9E,UAAUhE,YAAcmhF,EAExCA,EAAgBn9E,UAAU0sD,MAAQ,WAC9B,IAAI/3C,EAASnV,KAAKmV,OAASnV,KAAKvG,QAAQs2B,OAAO5a,SAC/CnV,KAAKvG,QAAQ/F,UAAUA,YAClB6nB,MAAM4+B,YAAaA,YAAahlC,GAEzC,EAEAwoE,EAAgBn9E,UAAU00B,KAAO,SAAeppB,GAC5C9L,KAAKvG,QAAQ/F,UAAUA,YAClB6nB,MAAMzP,EAAKA,EAAK9L,KAAKmV,QAE9B,EAEOwoE,CACX,CAvBsB,CAuBpB1qF,aAEF2Q,kBAAkB+5E,gBAAiB,CAC/BC,OAAQ,mBAGZ5pF,iBAAiB2jB,QAAQ7Y,SAASw8C,OAAQqiC,iBAE1C,IAAIE,gBAAmB,SAAU5wB,GAC7B,SAAS4wB,IACL5wB,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CAeA,OAbKkwD,IAAa4wB,EAAgBplF,UAAYw0D,GAC9C4wB,EAAgBr9E,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WACpEq9E,EAAgBr9E,UAAUhE,YAAcqhF,EAExCA,EAAgBr9E,UAAU0sD,MAAQ,WAC9BltD,KAAK89E,OAAS99E,KAAKvG,QAAQ2qB,UAC3BpkB,KAAKvG,QAAQ2qB,QAAQ,EACzB,EAEAy5D,EAAgBr9E,UAAU00B,KAAO,SAAeppB,GAC5C9L,KAAKvG,QAAQ2qB,QAAQtY,EAAM9L,KAAK89E,OACpC,EAEOD,CACX,CAnBsB,CAmBpB5qF,aAEF2Q,kBAAkBi6E,gBAAiB,CAC/Bz9C,SAAU,IACVw9C,OAAQ,WAGZ5pF,iBAAiB2jB,QAAQ7Y,SAASi7C,OAAQ8jC,iBAE1C,IAAIE,aAAgB,SAAU9wB,GAC1B,SAAS8wB,IACL9wB,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CAkBA,OAhBKkwD,IAAa8wB,EAAatlF,UAAYw0D,GAC3C8wB,EAAav9E,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WACjEu9E,EAAav9E,UAAUhE,YAAcuhF,EAErCA,EAAav9E,UAAU0sD,MAAQ,WAC3BltD,KAAKvG,QAAQ/F,UAAUA,YAClB6nB,MAAM4+B,YAAaA,YAAan6C,KAAK1F,QAAQ6a,QAEtD,EAEA4oE,EAAav9E,UAAU00B,KAAO,SAAeppB,GACzC9L,KAAKvG,QAAQ/F,UAAUA,YAClB6nB,MAAMzP,EAAKA,EAAK9L,KAAK1F,QAAQ6a,QAEtC,EAEO4oE,CACX,CAtBmB,CAsBjB9qF,aAEF2Q,kBAAkBm6E,aAAc,CAC5BH,OAAQ,iBACRx9C,SAAU0Z,6BAGd9lD,iBAAiB2jB,QAAQ7Y,SAASm9C,IAAK8hC,cAEvC,IAAIC,iBAAoB,SAAUznB,GAC9B,SAASynB,IACLznB,EAAa50D,MAAM3B,KAAMjD,UAC7B,CA8CA,OA5CKw5D,IAAeynB,EAAiBvlF,UAAY89D,GACjDynB,EAAiBx9E,UAAYjI,OAAOuN,OAAQywD,GAAgBA,EAAa/1D,WACzEw9E,EAAiBx9E,UAAUhE,YAAcwhF,EAEzCA,EAAiBx9E,UAAUuwB,OAAS,WAChCwlC,EAAa/1D,UAAUuwB,OAAO5vB,KAAKnB,MAEnCA,KAAKmsD,gBACT,EAEA6xB,EAAiBx9E,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,GAU1F,OAAO,IATKpC,EAAc/kD,QAGZw9C,OACE+Q,cAEAd,aAGKz5B,EAAY+wB,EAAeoC,EACpD,EAEAo5B,EAAiBx9E,UAAUotD,gBAAkB,WAEzC,OADa2I,EAAa/1D,UAAUotD,gBAAgBzsD,KAAKnB,MAC3CmI,OAAOnI,KAAKqsD,UAC9B,EAEA2xB,EAAiBx9E,UAAUs2D,mBAAqB,SAA6Bx9D,EAAO6pD,GAChF,GAAIA,IAAkBvI,KAAM,CACxB,IAAIqjC,EAAe,CACfhjF,EAAG3B,EAAM2B,EACTC,EAAG5B,EAAM4B,GAQb,OANK0nD,WAAWq7B,EAAahjF,KACzBgjF,EAAahjF,EAAI,GAEhB2nD,WAAWq7B,EAAa/iF,KACzB+iF,EAAa/iF,EAAI,GAEd+iF,CACX,CACJ,EAEOD,CACX,CAlDuB,CAkDrBznB,cAIF,SAAS2nB,wBAAwBlT,EAAa31C,EAAO/6B,GACjD,IAAIsR,EAAO,GACP++D,EAAOt1C,EAAMs1C,KACbC,EAAOv1C,EAAMu1C,KAEbjiC,GAAYruC,GAAW,CAAC,GAAGquC,SAC3BA,IACIA,EAASE,OAAS,IAClB8hC,GAAQhiC,EAASE,QAGjBF,EAASG,MAAQ,IACjB8hC,GAAQjiC,EAASG,QAIzB,IAAIq1C,GAAoB7jF,GAAW,CAAC,GAAG6jF,iBACnCl8E,EAAQyB,eAAey6E,EAAmB/iE,cAAcuvD,EAAMC,GAAQ,IACtEuT,GAAoB,IACpBl8E,EAAQ2oE,EAAOD,GAGnB,IAAK,IAAI1vE,EAAI0vE,EAAM1vE,GAAK2vE,EAAM3vE,GAAKgH,EAC/B2J,EAAKtM,KAAK,CACNrE,EACA+vE,EAAY/vE,KAIpB,OAAO2Q,CACX,CAEA,SAASwyE,4BAA4B5vD,GACjC,IAAIl0B,EAAUk0B,EAAQl0B,QAGlBsR,EAAOyyE,UAAU,CAAEjT,aAFJ58C,EAAQ48C,aAEwB9wE,QAASA,IAC5D,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,cACP+H,KAAMA,IAGP,IACX,CA/CA/O,WAAWmhF,iBAAiBx9E,UAAW0rD,gBAiDvC,IAAIoyB,cAAgB,SAAUtmC,GAAa,OAAO,SAAUt1C,GACpD,IAAIu0C,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ8B,EAAYh8C,EAAGm6C,OAAQhzC,KAAKqZ,IAAIw7B,EAAYe,IACpE,CAAK,EAEP,SAASqmC,UAAU37E,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnB9wE,EAAUoI,EAAIpI,QAEdiwE,EAAea,IACnB,IAAKP,iBAAiBN,EAAcjwE,EAAQ8C,OACxC,OAAO,KAGX,IAAIouB,EAAQ8+C,eAAeC,EAAc+T,cAAchkF,EAAQ8C,QAC3DotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAClB/uE,EAAQ8vB,EAAM9vB,MAGd25B,EAAQ,CAAEs1C,KAFHn/C,EAAMm/C,KAESC,KADfp/C,EAAMo/C,MAGjB,GAAIlvE,EAAQ,EAAG,CAGX,IAAIgR,EAAItK,KAAKmpE,IAAId,GACb9hE,EAAI6hE,EAER,OAAO0T,yBAAwB,SAAUjjF,GAAK,OAAOyR,EAAItK,KAAKmpE,IAAI5iE,EAAI1N,EAAI,GAAGo6B,EAAO/6B,EAAQgyE,UAChG,CAEA,OAAO,IACX,CAEA,IAAIiS,mBAAqB,SAAUvmC,GAAa,OAAO,SAAUt1C,GACzD,IAAIu0C,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ8B,EAAYh8C,EAAGm6C,OAAQ6B,EAAYe,GAC3D,CAAK,EAEP,SAASwmC,uBAAuBhwD,GAC5B,IAAIl0B,EAAUk0B,EAAQl0B,QAGlBsR,EAAO6yE,UAAU,CAAErT,aAFJ58C,EAAQ48C,aAEwB9wE,QAASA,IAC5D,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,cACP+H,KAAMA,IAGP,IACX,CAEA,SAAS6yE,UAAU/7E,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnB9wE,EAAUoI,EAAIpI,QAEdkxB,EAAQ8+C,eAAec,IAAgBmT,mBAAmBjkF,EAAQ8C,QAClEotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAClB/uE,EAAQ8vB,EAAM9vB,MACdivE,EAAOn/C,EAAMm/C,KACbC,EAAOp/C,EAAMo/C,KAGjB,OAAIlvE,EAAQ,EACDwiF,yBAAwB,SAAUjjF,GAAK,OAAOuvE,EAAQvvE,EAAIwvE,CAAW,GAHpE,CAAEE,KAAMA,EAAMC,KAAMA,GAG0DtwE,EAAQgyE,WAG3F,IACX,CAEA,SAASoS,aAAanU,EAAc1xB,GAIhC,IAHA,IAAI8xB,EAAO9zE,OAAOD,UACdg0E,EAAO/zE,OAAOC,UAET2D,EAAI,EAAGA,EAAI8vE,EAAa1wE,OAAQY,IAAK,CAC1C,IACIiI,EAAMm2C,EADE0xB,EAAa9vE,IAErB06C,EAASzyC,EAAIyyC,OACbC,EAAS1yC,EAAI0yC,OAEb75C,SAAS45C,IAAsB,OAAXA,GAAmB55C,SAAS65C,IAAsB,OAAXA,IAC3Du1B,EAAOvoE,KAAKmF,IAAI4tC,EAAQw1B,GACxBC,EAAOxoE,KAAKC,IAAI8yC,EAAQy1B,GAEhC,CAEA,MAAO,CAAED,KAAMA,EAAMC,KAAMA,EAC/B,CAEA,SAAS+T,4BAA4BnwD,GACjC,IAAIl0B,EAAUk0B,EAAQl0B,QAGlBsR,EAAOgzE,UAAU,CAAExT,aAFJ58C,EAAQ48C,aAEwB9wE,QAASA,IAC5D,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,cACP+H,KAAMA,IAGP,IACX,CAEA,IAAIizE,cAAgB,SAAU7mC,GAAa,OAAO,SAAUt1C,GACpD,IAAIu0C,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ8B,EAAYh8C,EAAGm6C,OAAQ6B,EAAYe,GAC3D,CAAK,EAEH8mC,eAAiB,SAAU9mC,GAAa,OAAO,SAAUt1C,GACrD,IAAIu0C,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ/yC,KAAKqZ,IAAIw7B,EAAYh8C,GAAIm6C,OAAQ6B,EAAYe,GACrE,CAAK,EAEP,SAAS4mC,UAAUl8E,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnB9wE,EAAUoI,EAAIpI,QAEdiwE,EAAea,IACnB,IAAKP,iBAAiBN,EAAc,KAChC,OAAO,KAGX,IAAI/+C,EAAQ8+C,eAAeC,EAAcuU,eAAexkF,EAAQ8C,QAC5DotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAClB/uE,EAAQ8vB,EAAM9vB,MACd25B,EAAQqpD,aAAanU,EAAcsU,cAAcvkF,EAAQ8C,QAE7D,GAAI1B,EAAQ,EAAG,CAGX,IAAIgR,EAAI89D,EACJ7hE,EAAI8hE,EAER,OAAOyT,yBAAwB,SAAUjjF,GAAK,OAAOyR,EAAItK,KAAKqZ,IAAIxgB,GAAK0N,CAAG,GAAG0sB,EAAO/6B,EAAQgyE,UAChG,CAEA,OAAO,IACX,CAEA,SAASyS,8BAA8BvwD,GACnC,IAAIl0B,EAAUk0B,EAAQl0B,QAElBsR,EAAOozE,UAAUxwD,GACrB,OAAI5iB,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,cACP+H,KAAMA,IAGP,IACX,CAEA,SAASozE,UAAUt8E,GACf,IAAIpI,EAAUoI,EAAIpI,QACd8wE,EAAe1oE,EAAI0oE,aAEnBW,GAAUzxE,EAAQgyE,WAAa,CAAC,GAAGP,QAAU5rB,0BAE7Cv0C,EAAOkgE,uBAAuBV,EADtB,CAAEviC,OAAQkjC,EAAQjjC,MAAOijC,IACkBwS,mBAAmBjkF,EAAQ8C,OAAQ2uE,GAE1F,OAAIngE,EAAK/R,OAAS,EACP+R,EAGJ,IACX,CAEA,SAASqzE,2BAA2BzwD,GAChC,IAAIl0B,EAAUk0B,EAAQl0B,QAGlBsR,EAAOszE,UAAU,CAAE9T,aAFJ58C,EAAQ48C,aAEwB9wE,QAASA,IAC5D,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,cACP+H,KAAMA,IAGP,IACX,CAEA,SAASszE,UAAUx8E,GACf,IAAI0oE,EAAe1oE,EAAI0oE,aACnB9wE,EAAUoI,EAAIpI,QAEdoyE,GAASpyE,EAAQgyE,WAAa,CAAC,GAAGI,MAClC7zB,EAAc0lC,mBAAmBjkF,EAAQ8C,OACzCouB,EAAQihD,oBAAoBrB,IAAgBvyB,EAAa6zB,GACzDhxE,EAAQ8vB,EAAM9vB,MACdsvE,EAAcx/C,EAAMw/C,YACpBL,EAAOn/C,EAAMm/C,KACbC,EAAOp/C,EAAMo/C,KAGjB,OAAIlvE,EAAQ,EAGDwiF,wBAAwBlT,EALvB,CAAEL,KAAMA,EAAMC,KAAMA,GAKuBtwE,EAAQgyE,WAGxD,IACX,CAEA,SAAS6S,sBAAsB3wD,GAC3B,IAAIl0B,EAAUk0B,EAAQl0B,QAGlBsR,EAAOwzE,QAAQ,CAAEhU,aAFF58C,EAAQ48C,aAEsB9wE,QAASA,IAC1D,OAAIsR,EACOrT,OAAO4a,OAAO,CAAC,EAAG7Y,EAErB,CAACuJ,KAAM,cACP+H,KAAMA,IAGP,IACX,CAEA,IAAIitC,YAAc,SAAUb,GAAa,OAAO,SAAUt1C,GAClD,IAAIu0C,EAAcv0C,EAAIu0C,YAEtB,MAAO,CAAG9B,OAAQ/yC,KAAKqZ,IAAIw7B,EAAYh8C,GAAIm6C,OAAQhzC,KAAKqZ,IAAIw7B,EAAYe,IAC9E,CAAK,EAEP,SAASonC,QAAQ18E,GACb,IAAI0oE,EAAe1oE,EAAI0oE,aACnB9wE,EAAUoI,EAAIpI,QAEdiwE,EAAea,IACnB,IAAKP,iBAAiBN,EAAc,KAChC,OAAO,KAGX,IAAI/+C,EAAQ8+C,eAAeC,EAAc1xB,YAAYv+C,EAAQ8C,QACzDotE,EAAQh/C,EAAMg/C,MACdC,EAAYj/C,EAAMi/C,UAClB/uE,EAAQ8vB,EAAM9vB,MACd25B,EAAQqpD,aAAanU,EAAcgU,mBAAmBjkF,EAAQ8C,QAElE,GAAI1B,EAAQ,EAAG,CAGX,IAAIgR,EAAItK,KAAKmpE,IAAId,GACb9hE,EAAI6hE,EACR,OAAO0T,yBAAwB,SAAUjjF,GAAK,OAAOyR,EAAItK,KAAKoZ,IAAIvgB,EAAG0N,EAAI,GAAG0sB,EAAO/6B,EAAQgyE,UAC/F,CAEA,OAAO,IACX,CAEA,IAAI+S,gBAAkB,CAAC,EACvBA,gBAAgBjiC,uBAAyBghC,4BACzCiB,gBAAgBhiC,kBAAoBmhC,uBACpCa,gBAAgB/hC,uBAAyBqhC,4BACzCU,gBAAgB9hC,0BAA4BwhC,8BAC5CM,gBAAgB7hC,sBAAwByhC,2BACxCI,gBAAgB5hC,iBAAmB0hC,sBAEnC,IAAIG,WAAc,SAAUljB,GACxB,SAASkjB,IACLljB,EAAaz6D,MAAM3B,KAAMjD,UAC7B,CAsRA,OApRKq/D,IAAekjB,EAAW7mF,UAAY2jE,GAC3CkjB,EAAW9+E,UAAYjI,OAAOuN,OAAQs2D,GAAgBA,EAAa57D,WACnE8+E,EAAW9+E,UAAUhE,YAAc8iF,EAEnCA,EAAW9+E,UAAUi0B,WAAa,WAC9Bz0B,KAAKq3D,WAAa,CAAC,EACnBr3D,KAAKs3D,WAAa,CAAC,EAEnBt3D,KAAKu/E,kBAAoB,IAAInvB,sBAC7BpwD,KAAKw/E,kBAAoB,IAAIpvB,qBACjC,EAEAkvB,EAAW9+E,UAAUuwB,OAAS,SAAiBisC,GAC3C,IAAI/pD,EAAWjT,UACA,IAAVg9D,IAAmBA,EAAQh9D,KAAKg9D,OAErCh9D,KAAK0kB,OAAS,GAAGvc,OAAQnI,KAAKy8D,gBAC9Bz8D,KAAKukE,wBAGL,IADA,IAAIzF,EAAe9+D,KAAK6+D,oBACfpkE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAI+8B,EAAOwlC,EAAMviE,GACb6zE,EAAaxP,EAAatnC,EAAKl9B,QAAQ5F,MAAQ,YAAc,GACjEue,EAAS6qD,YAAYwQ,GACrB,IAAImR,EAAiBxsE,EAAS+rD,oBAAoBsP,GAE7CmR,IAILxsE,EAASysE,mBACLp9B,mBAAmBm9B,EAAgB9iC,SACnCnlB,GAGJvkB,EAAS0sE,uBACLr9B,mBAAmBm9B,EAAgB7iC,cACnCplB,GAGJvkB,EAAS2sE,kBACLt9B,mBAAmBm9B,EAAgBnkC,QACnC9jB,GAER,CAEAx3B,KAAK6/E,WAAW7iB,EACpB,EAEAsiB,EAAW9+E,UAAU66D,YAAc,SAAsBpoC,EAAOuE,GAC5Dx3B,KAAKu/E,kBAAkBjvB,OAAOr9B,EAAMwjC,aACpCz2D,KAAKw/E,kBAAkBlvB,OAAOr9B,EAAMyjC,aAEpC0F,EAAa57D,UAAU66D,YAAYl6D,KAAKnB,KAAMizB,EAAOuE,EACzD,EAEA8nD,EAAW9+E,UAAU+6D,WAAa,SAAqB5lD,GACnD,IAAIowC,EAAWpwC,EAAKrb,QAAQ5F,KAE5B0nE,EAAa57D,UAAU+6D,WAAWp6D,KAAKnB,KAAM2V,GAEzCA,EAAKrb,QAAQywB,UACb/qB,KAAKw/E,kBAAkB/uB,MAAM1K,UACtB/lD,KAAKs3D,WAAWvR,KAEvB/lD,KAAKu/E,kBAAkB9uB,MAAM1K,UACtB/lD,KAAKq3D,WAAWtR,IAGvBpwC,IAAS3V,KAAK21B,cACP31B,KAAK21B,MAGZhgB,IAAS3V,KAAK41B,cACP51B,KAAK41B,KAEpB,EAGA0pD,EAAW9+E,UAAUu+D,eAAiB,SAAyBr6C,GAC3D,IAAIpqB,EAAU0F,KAAK1F,QACfy8D,EAAYryC,EAAOsyC,MAEnBA,EAAQx3D,KADO,GAAG2I,OAAO7N,EAAQ08D,QACN,SAAStqD,GAAK,OAAOA,EAAEhY,OAASqiE,CAAW,IAAG,GACzEE,EAAYvyC,EAAOwyC,MAEnBA,EAAQ13D,KADO,GAAG2I,OAAO7N,EAAQ48D,QACN,SAASxqD,GAAK,OAAOA,EAAEhY,OAASuiE,CAAW,IAAG,GAEzEgZ,GADQ31E,EAAQ0iE,OAAS,CAAE,CAAC,IACJ,GAAGtoE,MAAQ,UAGvC,OAFgBsiE,GAAS,CAAC,GAAGx/B,OAAS0/B,GAAS,CAAC,GAAG1/B,MAAQy4C,CAG/D,EAEAqP,EAAW9+E,UAAUk/E,mBAAqB,SAA6Bh7D,EAAQ8S,GACvE9S,EAAO7qB,OAAS,GAChBmG,KAAKq7D,YACD,IAAI9E,aAAav2D,KAAM,CAAE0kB,OAAQA,EAAQ0lB,KAAM5S,EAAKl9B,QAAQ8vC,OAC5D5S,EAGZ,EAEA8nD,EAAW9+E,UAAUm/E,uBAAyB,SAAiCj7D,EAAQ8S,GAC/E9S,EAAO7qB,OAAS,GAChBmG,KAAKq7D,YACD,IAAI2iB,iBAAiBh+E,KAAM,CAAE0kB,OAAQA,EAAQ0lB,KAAM5S,EAAKl9B,QAAQ8vC,OAChE5S,EAGZ,EAEA8nD,EAAW9+E,UAAUo/E,kBAAoB,SAA4Bl7D,EAAQ8S,GACrE9S,EAAO7qB,OAAS,GAChBmG,KAAKq7D,YACD,IAAI5D,YAAYz3D,KAAM,CAAE0kB,OAAQA,EAAQ0lB,KAAM5S,EAAKl9B,QAAQ8vC,OAC3D5S,EAGZ,EAEA8nD,EAAW9+E,UAAUs/E,aAAe,SAAuBxlF,EAASywB,EAAUs9B,GAY1E,IAXA,IA2BI03B,EA3BAh6B,EAAWzrD,EAAQ5F,KACnBsrF,EAAYj1D,EAAW/qB,KAAKs3D,WAAat3D,KAAKq3D,WAC9Coa,EAAU1mD,EAAW/qB,KAAKw/E,kBAAoBx/E,KAAKu/E,kBACnD/zC,EAAc3uC,WAAW,CAAE0yB,SAAUxE,GAAY/qB,KAAKqiB,aAAa6Q,KAAO54B,EAAS,CAAEywB,SAAUA,IAC/Fk1D,EAAQl+B,iBAAiBvW,EAAY3nC,KAAM27C,aAC3CkyB,EAAeD,EAAQ/gB,QACvBkhB,EAAmBqO,EAAQ,CAAE14E,IAAK,GAAKlF,IAAK,GAAM,CAAEkF,IAAK,EAAGlF,IAAK,GACjEgzB,EAAQo8C,EAAQ/gB,MAAM3K,IAAa2rB,GAAgBE,EACnDsO,EAAc,CAAE10C,EAAYjkC,IAAKikC,EAAYnpC,KAC7CqiB,EAAS1kB,KAAK0kB,OAETkgC,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAAY,CACzD,IAAIpC,EAAgB99B,EAAOkgC,GACvBu7B,EAAiB39B,EAAcz3B,EAAW,QAAU,SACxD,GAAKo1D,IAAmB30C,EAAY92C,MAAwB,IAAd2zD,IAAoB83B,EAAiB,CAC/E,IAAIC,EAAkBzpC,aAAah/B,QAAQ0/B,UAAUmL,EAAe,GAAGvL,YACvEipC,EAAY5gF,KAAK8gF,EAAgBr1D,EAAW,IAAM,MAElD,KACJ,CACJ,CAEkB,IAAds9B,GAAmBqpB,IACnBr8C,EAAM9tB,IAAMnF,KAAKmF,IAAI8tB,EAAM9tB,IAAKmqE,EAAanqE,KAC7C8tB,EAAMhzB,IAAMD,KAAKC,IAAIgzB,EAAMhzB,IAAKqvE,EAAarvE,MAKjD,IAAK,IAAI5H,EAAI,EAAGA,EAAIylF,EAAYrmF,OAAQY,IACpC,GAAIylF,EAAYzlF,aAAcgC,KAAM,CAChCsjF,GAAe,EACf,KACJ,CAYJ,IAAIpqE,EAAO,IARPosC,iBAAiBvW,EAAY3nC,KAAM/N,QAAW01C,EAAY3nC,MAAQk8E,EACvDhzC,cACJkzC,EACIryC,gBAEAzC,aAGS9V,EAAM9tB,IAAK8tB,EAAMhzB,IAAKmpC,EAAaxrC,KAAKqiB,cAGhE,GAFA1M,EAAK0yC,UAAYA,EAEbtC,EAAU,CACV,GAAIi6B,EAAUj6B,GACV,MAAM,IAAIhX,OAAQhkB,EAAW,IAAM,KAAO,mBAAqBg7B,EAAW,uBAE9Ei6B,EAAUj6B,GAAYpwC,CAC1B,CAIA,OAFA3V,KAAKm7D,WAAWxlD,GAETA,CACX,EAEA2pE,EAAW9+E,UAAUq/E,WAAa,SAAqB7iB,GASnD,IARA,IAAI/pD,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACf+lF,EAAe,GAAGl4E,OAAO7N,EAAQ08D,OACjCuH,EAAQ,GACR+hB,EAAe,GAAGn4E,OAAO7N,EAAQ48D,OACjCsH,EAAQ,GAEH5kE,EAAM,EAAGA,EAAMymF,EAAaxmF,OAAQD,IAAO,CAE5CuG,QADW8S,EAASsqD,SAAS8iB,EAAazmF,GAAK49B,MAC7BwlC,IAClBuB,EAAMj/D,KAAK2T,EAAS6sE,aAAaO,EAAazmF,IAAM,EAAOA,GAEnE,CAEA,IAAK,IAAIsgC,EAAQ,EAAGA,EAAQomD,EAAazmF,OAAQqgC,IAAS,CAElD/5B,QADa8S,EAASsqD,SAAS+iB,EAAapmD,GAAO1C,MAC/BwlC,IACpBwB,EAAMl/D,KAAK2T,EAAS6sE,aAAaQ,EAAapmD,IAAQ,EAAMA,GAEpE,CAEAl6B,KAAK21B,MAAQ31B,KAAK21B,OAAS4oC,EAAM,GACjCv+D,KAAK41B,MAAQ51B,KAAK41B,OAAS4oC,EAAM,EACrC,EAEA8gB,EAAW9+E,UAAUylE,eAAiB,SAAyBhzC,EAAOjxB,EAAG6vE,GAQrE,IAPA,IAAIxmB,EAASp4B,EAAM6+C,kBAAkB9vE,GACjC8Z,EAAQ,IAAIH,QAAQ0vC,EAAOpwD,EAAGowD,EAAOnwD,GACrCugE,EAAUz7D,KAAKy3B,KACf59B,EAAS4hE,EAAQ5hE,OACjB0mF,EAAU,GACVC,EAAU,GAEL/lF,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIkb,EAAO8lD,EAAQhhE,GACf0O,EAASwM,EAAKrb,QAAQywB,SAAWy1D,EAAUD,EAC3CE,EAAe9qE,EAAKm2B,SAAShwB,GACZ,OAAjB2kE,GACAt3E,EAAO7J,KAAKmhF,EAEpB,CAEIF,EAAQ1mF,OAAS,GAAK2mF,EAAQ3mF,OAAS,GACvCo5B,EAAM5xB,QAAQwwE,EAAW,CACrBp4E,QAASyJ,aAAalB,GACtBwT,cAAexT,EACf/G,EAAG+nD,kBAAkBu9B,GACrBrlF,EAAG8nD,kBAAkBw9B,IAGjC,EAEAlB,EAAW9+E,UAAUwxE,kBAAoB,SAAgCr8D,EAAMrb,GAC3E,IAAIywB,EAAWpV,EAAKrb,QAAQywB,SACxB0M,EAAOz3B,KAAKs+D,UAAUt+D,KAAKg9D,OAC3BvhE,GAASsvB,EAAW0M,EAAKv8B,EAAIu8B,EAAKx8B,GAAGlB,QAAQ4b,GAEjD+qE,oBAAoB1gF,KAAK1F,QAASmB,EAAOsvB,EAAUzwB,GACnDomF,oBAAoB1gF,KAAKw8D,gBAAiB/gE,EAAOsvB,EAAUzwB,EAC/D,EAEAglF,EAAW9+E,UAAU8jE,iBAAmB,SAA6BhqE,EAASoqB,GAC1E,IAAI0mD,EAAeprE,KAAKorE,aAAaljE,KAAKlI,KAAM0kB,EAAOjpB,OAEnD6wE,EAAYhI,iBAAiB+a,gBAAiB/kF,EAAQuJ,KAAM,CAC5DvJ,QAASA,EACT8wE,aAAcA,IASlB,OANIkB,IAEAA,EAAUtV,MAAQtyC,EAAOsyC,MACzBsV,EAAUpV,MAAQxyC,EAAOwyC,OAGtBoV,CACX,EAEAgT,EAAW9+E,UAAU4qE,aAAe,SAAuBxmB,GAMvD,IALA,IAEIhpD,EAAS,GACT4mD,EAAgBxiD,KAAK0kB,OAAOkgC,GAEvBtN,EAAU,EAAGA,EAAUkL,EAAc52C,KAAK/R,OAAQy9C,IAAW,CAClE,IAAI1rC,EANO5L,KAMSq3C,UAAUmL,EAAelL,GAC7C17C,EAAO0D,KAAK,CAAEg4C,QAASA,EAASL,YAAarrC,EAAKqrC,aACtD,CAEA,OAAOr7C,CACX,EAEO0jF,CACX,CA1RiB,CA0RfljB,cAEF,SAASskB,oBAAoBjO,EAAepqB,EAAWt9B,EAAUzwB,GAE7DuC,WADmB,GAAGsL,OAAO4iB,EAAW0nD,EAAcvb,MAAQub,EAAczb,OAAQ3O,GAC5D/tD,EAC5B,CAEAsJ,kBAAkB07E,WAAY,CAC1BtoB,MAAO,CAAC,EACRE,MAAO,CAAC,IAGZr6D,WAAWyiF,WAAW9+E,UAAWwlE,qBAEjC,IAAI2a,WAAc,SAAUh/D,GACxB,SAASg/D,EAAWrnF,EAAOmmB,EAAQnlB,GAC/BqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK1G,MAAQA,EACb0G,KAAKyf,OAASA,CAClB,CAkSA,OAhSKkC,IAAeg/D,EAAWloF,UAAYkpB,GAC3Cg/D,EAAWngF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACnEmgF,EAAWngF,UAAUhE,YAAcmkF,EAEnCA,EAAWngF,UAAUuwB,OAAS,WACtB/wB,KAAKopD,YAA8B,IAAjBppD,KAAKyiB,UAG3BziB,KAAKopD,WAAY,EAEjBppD,KAAKyqC,cACT,EAEAk2C,EAAWngF,UAAUiqC,YAAc,WAC/B,IAAIvW,EAASl0B,KAAK1F,QAAQ45B,OACtB7R,EAAeriB,KAAKknD,MAAM7kC,aAC1Bu+D,EAAY5gF,KAAKupD,aAAar1B,GAElC,GAAIA,EAAOzR,UAAYm+D,GAA2B,IAAdA,GAAkB,CAClD,GAAI1sD,EAAOpF,WAAap5B,QAAUw+B,EAAOpF,WAAa4wB,WAC7CxrB,EAAOnrB,QACRmrB,EAAOnrB,MAAQD,cAAc9I,KAAK1F,QAAQyO,QAEzCmrB,EAAO9O,aACR8O,EAAO9O,WAAaplB,KAAK1F,QAAQyO,WAElC,CACH,IAAI83E,EAAcx+D,EAAay+D,MAAMC,eAAe7sD,OACpDA,EAAOnrB,MAAQmrB,EAAOnrB,OAAS83E,EAAY93E,MAC3CmrB,EAAO9O,WAAa8O,EAAO9O,YAAcy7D,EAAYz7D,UACzD,CAGAplB,KAAKixB,MAAQ,IAAI5D,QAAQuzD,EAAW/jF,WAAW,CAAC,EAAGq3B,EAAQ,CACvDxV,MAAOhpB,OACP0xB,OAAQ,GACRpF,UAAW,CACPne,KAAMk2C,OACNsH,MAAOrhD,KAAKghF,kBAEhBhhF,KAAKmoB,aAETnoB,KAAK2C,OAAO3C,KAAKixB,MACrB,CACJ,EAEA0vD,EAAWngF,UAAU+oD,aAAe,SAAuBjvD,GACvD,IAAI29B,EAAgBx5B,cAAcnE,GAElC,OAAI29B,EACOA,EAAcj4B,KAAKmoB,aAGvBnoB,KAAKknD,MAAM7kC,aAAaqN,OAAO0B,KAAK92B,EAAQo1B,OAAQ1vB,KAAK1G,MACpE,EAEAqnF,EAAWngF,UAAUshB,OAAS,SAAiB9E,GAC3Chd,KAAK+wB,SACL/wB,KAAK8c,IAAME,EACXhd,KAAKgqD,aACT,EAEA22B,EAAWngF,UAAUwpD,YAAc,WAC/B,IACIi3B,EADMjhF,KACc1F,QAAQ45B,OAC5BjD,EAFMjxB,KAEMixB,MACZxR,EAASzf,KAAKyf,OAAO9iB,QACrBukF,EAAiBD,EAAc7rE,SAC/BsH,EAAQ+C,EAAOP,SAEnB,GAAI+R,EAAO,CACP,IAEIkwD,EAFAC,EAAcnwD,EAAMnU,IAAInR,SACxB01E,EAAapwD,EAAMnU,IAAItiB,QAG3B,GAAIymF,EAAcnyD,WAAap5B,OAC3B+pB,EAAO9C,OAASva,KAAKkZ,KAAKmE,EAAO9C,OAASykE,GAAe,GAAKA,EAC9DD,EAAK1hE,EAAO3D,MAAMY,GAClBuU,EAAMnP,OAAO,IAAIjF,IAAIskE,EAAGlmF,EAAGkmF,EAAGjmF,EAAIkmF,EAAc,EAAGD,EAAGlmF,EAAGkmF,EAAGjmF,SACzD,GAAI+lF,EAAcnyD,WAAa4wB,WAClCjgC,EAAO9C,OAAS8C,EAAO9C,OAASykE,EAAc,EAC9CD,EAAK1hE,EAAO3D,MAAMY,GAClBuU,EAAMnP,OAAO,IAAIjF,IAAIskE,EAAGlmF,EAAGkmF,EAAGjmF,EAAIkmF,EAAc,EAAGD,EAAGlmF,EAAGkmF,EAAGjmF,QACzD,CACH,IAAI0Z,GACJusE,EAAK1hE,EAAO9iB,QAAQ8gB,OAAOyjE,GAAgBplE,MAAMY,IAC1CzhB,GAAKwkB,EAAOtK,OAAOla,GACtB2Z,EAAKusE,EAAGlmF,EAAIomF,EACZpwD,EAAMokD,YAAch+E,QAEpBud,EAAKusE,EAAGlmF,EAAIomF,EACZpwD,EAAMokD,YAAc1+E,MAExBs6B,EAAMnP,OAAO,IAAIjF,IAAIjI,EAAIusE,EAAGjmF,EAAIkmF,EAAaD,EAAGlmF,EAAGkmF,EAAGjmF,GAC1D,CACJ,CACJ,EAEAylF,EAAWngF,UAAUkiB,aAAe,WAChC,IAAIzP,EAAWjT,KAGXyf,EADMzf,KACOyf,OACbnlB,EAFM0F,KAEQ1F,QAMlB,GAJAqnB,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK4nB,qCAED5nB,KAAK1G,MACL,GAAIgB,EAAQyoB,OAAQ,CAChB,IAAI9D,GAAcQ,EAAOR,WAAa,KAAO,IACzC8D,EAASzoB,EAAQyoB,OAAO,CACxBpuB,SAAUqL,KAAKrL,SACfgwB,SAAU3kB,KAAK2kB,SACfrrB,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OACbE,WAAY5kB,KAAK4kB,WACjBzP,OAAQ,IAAItiB,QAAQ4sB,EAAOtK,OAAOla,EAAGwkB,EAAOtK,OAAOja,GACnDyhB,OAAQ8C,EAAO9C,OACfqC,YAAaS,EAAOT,YACpBC,WAAYA,EACZgB,SAAUhB,EAAaQ,EAAO/C,MAC9BpiB,QAASA,EACTuY,OAAQ7S,KAAKkiB,YACbQ,aAAc,WACV,IAAIwJ,EAAQ,IAAIl5B,QAGhB,OAFAigB,EAASquE,oBAAoBp1D,GAEtBA,CACX,IAGAnJ,GACA/iB,KAAK+iB,OAAOpgB,OAAOogB,EAE3B,MACI/iB,KAAKshF,oBAAoBthF,KAAK+iB,OAG1C,EAEA49D,EAAWngF,UAAU8gF,oBAAsB,SAA8Bp1D,GACrE,IACIzM,EADMzf,KACOyf,OACbnlB,EAFM0F,KAEQ1F,QACdinF,EAAgBjnF,EAAQgrB,QAAU,CAAC,EACnCA,EAASi8D,EAAc/mF,MAAQ,EAAI,CACnCD,OAAQ,CACJwO,MAAOw4E,EAAcx4E,MACrBvO,MAAO+mF,EAAc/mF,MACrB4pB,QAASm9D,EAAcn9D,QACvBsD,SAAU65D,EAAc75D,WAE5B,CAAC,EACD3e,EAAQzO,EAAQyO,MAChByb,EAAOmC,kBAAkBrsB,EAAQusB,QAAS,CAC1C9d,MAAOA,EACPqb,QAAS9pB,EAAQ8pB,UAEjBrB,EAAS/iB,KAAKysD,cAAchtC,EAAQ5iB,WAAW,CAC/C2nB,KAAMA,EACNjqB,OAAQ,CACJ6pB,QAAS9pB,EAAQ8pB,SAErBlB,OAAQ5oB,EAAQ4oB,QACjBoC,IAEH4G,EAAMvpB,OAAOogB,GAET4/B,mBAAmBroD,IACnB4xB,EAAMvpB,OAAO3C,KAAKwlB,sBAAsBzC,EAAQ,CAC5CwuC,UAAWxoD,EACXy4E,aAAch9D,GACf3nB,WAAW,CACVsY,OAAQ,CAAEsK,EAAOtK,OAAOla,EAAGwkB,EAAOtK,OAAOja,GACzC8jB,YAAaS,EAAOT,YACpBrC,OAAQ8C,EAAO9C,OACf8kE,WAAW,GACZnnF,EAAQorB,UAEnB,EAEAi7D,EAAWngF,UAAUisD,cAAgB,SAAwBhtC,EAAQnlB,GACjE,OAAIA,EAAQonF,cACD,IAAInuF,SAAS,IAAIC,SAAS,IAAIX,QAAQ4sB,EAAOtK,OAAOla,EAAGwkB,EAAOtK,OAAOja,GAAIukB,EAAO9C,QAASriB,GAG7F2mB,aAAatJ,QAAQuJ,WAAWzB,EAAQnlB,EACnD,EAEAqmF,EAAWngF,UAAUqiB,gBAAkB,WACnC,IACIvoB,EADM0F,KACQ1F,QACd6a,EAFMnV,KAEOyf,OAAOtK,OAExBtY,WAAWvC,EAAS,CAChB0nB,UAAW,CACP7M,OAAQ,CAAEA,EAAOla,EAAGka,EAAOja,GAC3BmmD,MAAOrhD,KAAKghF,kBAIpBr/D,EAAanhB,UAAUqiB,gBAAgB1hB,KAAKnB,KAChD,EAEA2gF,EAAWngF,UAAUyjB,gBAAkB,SAA0B3pB,GAC7D,IAAI0pB,EAAYhkB,KAAK1F,QAAQ0pB,WAAa,CAAC,EACvCsB,EAAStB,EAAUsB,QAAU,CAAC,EAElC,OAAOtlB,KAAKysD,cAAczsD,KAAKyf,OAAQ5iB,WAAW,CAAC,EAAGvC,EAAS,CAC3DkqB,KAAM,CACFzb,MAAOib,EAAUjb,MACjBqb,QAASJ,EAAUI,SAEvB7pB,OAAQ,CACJ6pB,QAASkB,EAAOlB,QAChB5pB,MAAO8qB,EAAO9qB,MACduO,MAAOuc,EAAOvc,SAG1B,EAEA43E,EAAWngF,UAAU4pD,gBAAkB,WACnC,OAAOpqD,KAAK+iB,OAAOnB,SAAS,EAChC,EAEA++D,EAAWngF,UAAUikB,oBAAsB,WACvC,IAAIhF,EAASzf,KAAKyf,OAElB,MAAO,CACHnlB,QAAS0F,KAAK1F,QACdqiB,OAAQ8C,EAAO9C,OACfqC,YAAaS,EAAOT,YACpB7J,OAAQ,IAAItiB,QAAQ4sB,EAAOtK,OAAOla,EAAGwkB,EAAOtK,OAAOja,GACnD+jB,WAAYQ,EAAOR,WACnBgB,SAAUR,EAAO/C,MAAQ+C,EAAOR,WAChC8D,OAAQ/iB,KAAK+iB,OAErB,EAEA49D,EAAWngF,UAAU+kB,qBAAuB,SAA+B9nB,GACvE,IAAIypB,EAAclnB,KAAK1F,QAAQ0qB,cAAchB,UAAUsB,OAAO9qB,MAC1DoB,EAASoE,KAAKysD,cAAczsD,KAAKyf,OAAQ5iB,WAAW,CAAC,EAAGY,EAAO,CAC/DlD,OAAQ,CACJC,MAAqB,EAAd0sB,MAIXwmC,EAAW,IAAIj6D,UAOnB,OALAi6D,EAASwV,MAAM5jE,KAAKvM,OAAOy0B,SAAS5rB,EAAOm0B,SAC3C29B,EAASwV,MAAM5jE,KAAKU,KAAKysD,cAAczsD,KAAKyf,OAAQ,CAAC,IAErD7jB,EAAOwuC,KAAKsjB,GAEL9xD,CACX,EAEA+kF,EAAWngF,UAAU+pD,cAAgB,WACjC,IAAI9qC,EAASzf,KAAKyf,OAAO9iB,QAAQ8gB,OAAOy8B,gBACpCx6B,EAAWD,EAAOP,SAGtB,MAAO,CACHpD,MAHW2D,EAAO3D,MAAM4D,GAIxBhB,MAAOijE,iBAAiBjiE,EAAW,KAE3C,EAEAihE,EAAWngF,UAAUgpD,YAAc,SAAsB95B,GACrD,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEAixD,EAAWngF,UAAU2nB,UAAY,WAC7B,MAAO,CACHxD,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf2E,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OACbE,WAAY5kB,KAAK4kB,WAEzB,EAEA+7D,EAAWngF,UAAUwqD,SAAW,WAC5B,OAAOhrD,KAAKvE,KAChB,EAEOklF,CACX,CAzSiB,CAySfh/D,cAEEigE,OAASp+E,QAAQD,IAAI,IAAKtN,mBAC1B4rF,OAASr+E,QAAQD,IAAI,IAAKtN,mBAE9B,SAAS0rF,iBAAiBjlE,GACtB,IAAIE,EAAUrZ,IAAImZ,GACdolE,EAAOt+E,QAAQpB,KAAKia,IAAIO,GAAU3mB,mBAClC8rF,EAASv+E,QAAQpB,KAAK+Z,IAAIS,GAAU3mB,mBAqBxC,MAAO,CACH00D,WAlBAvoD,KAAKkZ,IAAIwmE,GAAQD,OACJnsF,OACNqsF,EAAS,EACH1qF,MAEAV,KAcbo0B,SAVA3oB,KAAKkZ,IAAIwmE,GAAQF,OACNlsF,OACJosF,EAAO,EACHrsF,SAEAgC,IAOnB,CAEAmM,kBAAkB+8E,WAAY,CAC1B53E,MAAOjR,QACP4tB,QAAS,CACL4E,SAAU,gBAEdhF,OAAQ,CACJ9qB,MAAO,IAEX05B,OAAQ,CACJzR,SAAS,EACTrN,SAAU,GACV5Q,KAAMzO,aACNgxB,OAAQjpB,WAAW,IACnB4gB,MAAO/oB,OACPutB,OAAQ,EACR4L,SAAU8wB,aAEd59B,UAAW,CACPne,KAAMo4C,KAEVj4B,UAAW,CACPvB,SAAS,EACT6C,OAAQ,CACJ9qB,MAAO,IAGfioB,SAAS,EACTuC,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,gCAI7BviD,WAAW8jF,WAAWngF,UAAWooD,kBACjC/rD,WAAW8jF,WAAWngF,UAAWuwD,8BAEjC,IAAIixB,cAAgB,CAChBC,iBAAkB,SAAS3oF,EAAOwiB,EAAOxhB,GACrC,IAAI4nF,EAAgBliF,KAAK1F,QAAQgiE,QAAU,CAAC,EACxC2kB,EAAgBiB,EAAchuD,QAAU,CAAC,EACzC6pC,EAAgBmkB,EAAcnkB,eAAiB,CAAC,EAChDC,EAAsBD,EAAc7pC,QAAU,CAAC,EAEnD,GAAI55B,IAAuC,IAA5BA,EAAQ4jE,gBAA2B,CAC9C,IAeIC,EAAkBC,EAflB+jB,GAAmC,IAApB7nF,EAAQmoB,QACvBwV,EAAgBkqD,EAAe1jF,cAAcwiF,GAC7CxiF,cAAcu/D,IAAwBv/D,cAAcwiF,GACpDnzD,EAAOxzB,EAAQ3F,SAEfsjC,IACAnK,EAAOmK,EAAc,CACjBnK,KAAMA,EACNpJ,OAAQpqB,EAAQoqB,OAChBC,SAAUrqB,EAAQqqB,SAClBC,WAAYtqB,EAAQsqB,WACpBtrB,MAAOA,KAKX6oF,GACAhkB,EAAmB,CAAC,EACpBC,EAActiD,EAAM/S,QAEpBo1D,EAAmB,CACfp1D,MAAOi1D,EAAoBj1D,MAC3BvE,KAAMw5D,EAAoBx5D,MAE9B45D,GAAeL,EAAc5U,SAAW,CAAC,GAAGpgD,OAG5C65C,WAAW90B,IAAkB,KAATA,GACpB9tB,KAAKoiF,YAAY9iF,KAAK,CAClB++D,OAAQ8jB,EACRxe,WAAYrpE,EAAQmB,MACpBqyB,KAAMA,EACNpJ,OAAQpqB,EAAQoqB,OAChB05C,YAAaA,EACbv3C,QAAS/K,EAAM+K,QACfqN,OAAQiqC,GAGpB,CACJ,GAGAkkB,sBAAwB,GAExBC,SAAY,SAAU3gE,GACtB,SAAS2gE,EAASjrD,EAAU/8B,GACxBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKq3B,SAAWA,EAChBr3B,KAAKqiB,aAAegV,EAAShV,aAC7BriB,KAAK8d,OAAS,GACd9d,KAAKoiF,YAAc,GACnBpiF,KAAK+wB,QACT,CAmdA,OAjdKpP,IAAe2gE,EAAS7pF,UAAYkpB,GACzC2gE,EAAS9hF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACjE8hF,EAAS9hF,UAAUhE,YAAc8lF,EAEjCA,EAAS9hF,UAAUuwB,OAAS,WACxB/wB,KAAKykD,mBAAmBzkD,KAAK0kD,SAASx8C,KAAKlI,MAC/C,EAEAsiF,EAAS9hF,UAAUikD,mBAAqB,SAA6B/kD,GACjE,IAGIpF,EADM0F,KACQ1F,QACdioF,EAFMviF,KAEaq3B,SAAS/8B,QAAQioF,kBAAoC,IAAjBA,IAA0BA,EAAe,IAKpG,IAJA,IAAIC,EAAcD,EAAa1oF,OAC3B6qB,EAASpqB,EAAQoqB,OACjBo9B,EAAcp9B,EAAO7qB,OAEhB+qD,EAAW,EAAGA,EAAW9C,EAAa8C,IAAY,CACvD,IAAIpC,EAAgB99B,EAAOkgC,GACvBh5C,EAAO42C,EAAc52C,KACrB4f,EAAQq2B,aAAaW,GACrB19B,EAAQ0G,EAAM1G,MACdhH,EAAS0N,EAAM1N,OACfpiB,EAAQ8vB,EAAM9vB,MACd+mF,EAAgB,IAAM39D,EACtB49D,OAAgB,EACfnnF,SAASknF,KACVC,EAAgB,IAAMhnF,GAE1B,IAAIinF,OAAe,EAGfA,EADA9/E,QAAQ2/C,EAAcvjC,YACPujC,EAAcvjC,WAEd3kB,EAAQ2kB,WAGvB2lC,IAAa9C,EAAc,GACvBU,EAActuB,OAAOpF,WAAa8wB,cAClC4C,EAActuB,OAAOpF,SAAWp5B,QAIxC,IAAK,IAAI+E,EAAI,EAAGA,EAAIqjB,EAAOjkB,OAAQY,IAAK,CACpC,IAAI0tB,EAAYrK,EAAOrjB,GACvB,GAAK0tB,EAAL,CAIA,IAAIhpB,EAASgpB,EAAUhpB,OACnB7F,EAAQ6uB,EAAU7uB,MAClBmpB,EAAU0F,EAAU1F,QACpB/F,EAAkB,IAAVpjB,EAAeopF,GAAkBppF,EAAQmpF,EAAkB,EACnEG,EAA0B,IAAhBh3E,EAAK/R,QAAgBiW,QAAQ3Q,EAAOyjF,SAE7C9mF,WAAW0mD,EAAcz5C,SAC1By5C,EAAcz5C,MAAQ5J,EAAO4J,OAASw5E,EAAa9nF,EAAI+nF,IAG3D9iF,EAASpG,EAAO,IAAIylB,KAAK,KAAM,EAAG,EAAG4jE,EAAcjmE,GAAQ,CACvDwqC,MApDGlnD,KAqDHrL,SAAUkO,QAAQ1D,EAAOxK,UAAYwK,EAAOxK,SAAW,GACvDkyB,QAAShkB,QAAQ1D,EAAO0nB,SAAW1nB,EAAO0nB,QAAU27B,EAAc37B,QAClEprB,MAAOhB,EACPiqB,OAAQ89B,EACRoC,SAAUA,EACVjgC,SAAU/Y,EAAKnR,GACfmqB,WAAsB,IAAVE,EAAcxrB,EAAQwrB,EAAQ,EAC1C89D,QAASA,EACT1kB,gBAAiB/+D,EAAO++D,gBACxBz7C,QAASA,EACTS,OAAQ4+B,EAAc8C,EACtBo8B,eAhEGhhF,KAgEsBghF,eAAevmF,EAAGmqD,EAAU9C,MAGzC,IAAZr/B,IACAkgE,GAAgBjmE,EA7BpB,CA+BJ,CACJ,CACJ,EAEA4lE,EAAS9hF,UAAUqiF,mBAAqB,SAA6BvoF,EAAShB,EAAO6F,GACjF,IAAIulB,EAASvlB,EAAOulB,OAEpBu9B,YAAY3nD,EAAS,CACjBhB,MAAOA,EACPorB,OAAQA,EACRC,SAAUxlB,EAAOwlB,SACjBhwB,SAAUwK,EAAOxK,SACjBiwB,WAAYzlB,EAAOylB,YACpB,CAAEu9B,SAAUz9B,EAAO2iC,UAAWhF,SAAU,CACvC,OAAQ,UAAW,WAAY,SAAU,SACzC,eAAgB,gBAExB,EAEAigC,EAAS9hF,UAAUkkD,SAAW,SAAmBprD,EAAOmmB,EAAQtgB,GAC5D,IAAI2jF,EAAiBjmF,WAAW,CAAC,EAAGsC,EAAOulB,OAAQ,CAAEjpB,MAAO0D,EAAO1D,QAMnE,GALAqnF,EAAej8D,QAAU1nB,EAAO0nB,SAAWi8D,EAAej8D,QAC1D7mB,KAAK6iF,mBAAmBC,EAAgBxpF,EAAO6F,GAE/Ca,KAAKiiF,iBAAiB3oF,EAAOwpF,EAAgB3jF,IAEtB,IAAnBA,EAAOsjB,QAAX,CAIA,IAAIkqC,EAAU,IAAIg0B,WAAWrnF,EAAOmmB,EAAQqjE,GAC5CvqF,OAAO4a,OAAOw5C,EAASxtD,GACvBa,KAAK2C,OAAOgqD,GACZ3sD,KAAK8d,OAAOxe,KAAKqtD,EALjB,CAMJ,EAEA21B,EAAS9hF,UAAUshB,OAAS,SAAiB9E,GACzC,IAAIta,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdwjB,EAASpb,EAAIob,OACbilE,EAAgBrgF,EAAIqgF,mBAAsC,IAAlBA,IAA2BA,EAAgB,IACvF,IAAIrnF,EAAQoiB,EAAOjkB,OACfijB,EAAME,EAAUrgB,QAEhBqmF,EAAW5gF,KAAKmF,IAAIuV,EAAItiB,QAASsiB,EAAInR,UACrCs3E,EAAeD,EAAW,EAC1BE,EAAiBF,EAAsB,IAAXA,EAC5BG,EAAS,IAAItmE,IAAIC,EAAIlI,GAAIkI,EAAIhI,GAAIgI,EAAIlI,GAAKouE,EAAUlmE,EAAIhI,GAAKkuE,GAC7DI,EAAeD,EAAOhuE,SACtBuZ,EAAY5R,EAAI3H,SAChB2sC,EAAcxnD,EAAQoqB,OAAO7qB,OAC7BwpF,EAAiB,GACjBC,EAAkB,GAClB3lE,EAAUja,eAAepJ,EAAQqjB,QAASulE,GAE9CljF,KAAKgd,UAAYA,EAEjBW,EAAUA,EAAUslE,EAdR,EAc+BA,EAd/B,EAcsDtlE,EAClEwlE,EAAOtoF,UAAU6zB,EAAUzzB,EAAImoF,EAAanoF,EAAGyzB,EAAUxzB,EAAIkoF,EAAaloF,GAQ1E,IANA,IAAIyhB,EAASsmE,EAAetlE,EACxBxI,EAAS,IAAIwG,QACbgB,EAASwmE,EAAOvuE,GAAK+I,EACrBhB,EAASwmE,EAAOruE,GAAK6I,GAGhBljB,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIkyD,EAAU7uC,EAAOrjB,GACjBglB,EAASktC,EAAQltC,OACjB+jD,EAAc7W,EAAQ/H,SAI1B,GAHAnlC,EAAO9C,OAASA,EAChB8C,EAAOtK,OAASA,EAEZ4tE,EAAclpF,OAAQ,CACtB,IAAI0pF,EAAeR,EAAcvf,GACjC/jD,EAAOT,YAAcukE,EAAavkE,YAClCS,EAAO9C,OAAS4mE,EAAa5mE,MACjC,CAEI6mD,IAAgB1hB,EAAc,GAAK6K,EAAQi2B,UAC3CnjE,EAAOtK,OAASsK,EAAO9iB,QAAQwiB,UAA0B,IAAhBM,EAAO9C,QAAeb,MAAM2D,EAAOP,WAGhFytC,EAAQ7qC,OAAOqhE,GAEf,IAAIlyD,EAAQ07B,EAAQ17B,MAChBA,GACIA,EAAM32B,QAAQw0B,WAAa8wB,aACvB4jB,IAAgB1hB,EAAc,IAC1B7wB,EAAMokD,cAAgBh+E,MACtBisF,EAAgBhkF,KAAK2xB,GAErBoyD,EAAe/jF,KAAK2xB,GAKxC,CAEIoyD,EAAexpF,OAAS,IACxBwpF,EAAe1iE,KAAK3gB,KAAKwjF,iBAAgB,IACzCxjF,KAAKyjF,iBAAiBJ,IAGtBC,EAAgBzpF,OAAS,IACzBypF,EAAgB3iE,KAAK3gB,KAAKwjF,iBAAgB,IAC1CxjF,KAAK0jF,kBAAkBJ,IAG3BtjF,KAAK8c,IAAMqmE,CACf,EAEAb,EAAS9hF,UAAUijF,iBAAmB,SAA2BvvD,GAC7D,IAAIyvD,EAAY3jF,KAAK4jF,sBAAsB1vD,GAE3Cl0B,KAAK6jF,iBAAiBF,EAAWzvD,EACrC,EAEAouD,EAAS9hF,UAAUkjF,kBAAoB,SAA4BxvD,GAC/D,IAAIyvD,EAAY3jF,KAAK4jF,sBAAsB1vD,GAE3Cl0B,KAAK6jF,iBAAiBF,EAAWzvD,EACrC,EAEAouD,EAAS9hF,UAAUojF,sBAAwB,SAAgC1vD,GACvE,IAAIy4B,EAAUvpD,KAAKpD,KAAK8d,QACpB2B,EAASktC,EAAQltC,OACjB/jB,EAAQw4B,EAAOr6B,OAAS,EACxBiqF,EAAKrkE,EAAO9C,OAASgwC,EAAQryD,QAAQ45B,OAAO9e,SAC5CuuE,EAAY,GACZI,EAAW7vD,EAAO,GAAGpX,IACrB1H,EAAW5R,QAAQugF,EAASjvE,IAAM2K,EAAOtK,OAAOja,EAAI4oF,EAAKC,EAASp4E,SAAWo4E,EAASp4E,SAAW,IAErGg4E,EAAUrkF,KAAK8V,GAEf,IAAK,IAAI3a,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIupF,EAAY9vD,EAAOz5B,EAAI,GAAGqiB,IAE9BinE,EAAW7vD,EAAOz5B,GAAGqiB,IACrB1H,EAAW5R,QAAQwgF,EAAUlvE,GAAKivE,EAAS/uE,IAC3C2uE,EAAUrkF,KAAK8V,EACnB,CAIA,OAHAA,EAAW5R,QAAQic,EAAOtK,OAAOja,EAAI4oF,EAAK5vD,EAAOx4B,GAAOohB,IAAI9H,GAAKkf,EAAOx4B,GAAOohB,IAAInR,SAAW,GAC9Fg4E,EAAUrkF,KAAK8V,GAERuuE,CACX,EAEArB,EAAS9hF,UAAUqjF,iBAAmB,SAA2BF,EAAWzvD,GAMxE,IALA,IAGI91B,EAAMF,EAAO+lF,EADbvoF,EAAQioF,EAAU9pF,OAGbY,EAAI,EAAGA,EAAIiB,EAAOjB,IAIvB,IAHAwpF,GAAaN,EAAUlpF,GACvB2D,EAAOF,EAAQzD,EAERwpF,EAAY,IAAM7lF,GAAQ,GAAKF,EAAQxC,IAC1CuoF,EAVOjkF,KAUckkF,cAAcP,EAAWlpF,IAAK2D,EAAM6lF,GACzDA,EAXOjkF,KAWckkF,cAAcP,EAAWlpF,IAAKyD,EAAO+lF,GAIlEjkF,KAAKmwC,aAAawzC,EAAWzvD,EACjC,EAEAouD,EAAS9hF,UAAU0jF,cAAgB,SAAwBP,EAAWhpF,EAAQm0B,EAAUq1D,GACpF,IAAIvoF,EAASuoF,EACb,GAAIR,EAAU70D,GAAY,EAAG,CACzB,IAAIs1D,EAAYhiF,KAAKmF,IAAIo8E,EAAU70D,GAAWlzB,GAC9CA,GAAUwoF,EACVT,EAAU70D,IAAas1D,EACvBT,EAAUhpF,IAAWypF,CACzB,CAEA,OAAOxoF,CACX,EAEA0mF,EAAS9hF,UAAU2vC,aAAe,SAAuBwzC,EAAWzvD,GAChE,IAQImwD,EANA13B,EAAUvpD,KAAKpD,KAAK8d,QACpB2B,EAASktC,EAAQltC,OACjBwV,EAAe03B,EAAQryD,QAAQ45B,OAC/Ba,EAAcb,EAAOr6B,OACrByqF,EAAgBrvD,EAAa7f,SAC7BmvE,EAAO9kE,EAAOtK,OAAOja,GAAKukB,EAAO9C,OAAS2nE,GAAiBpwD,EAAO,GAAGpX,IAAInR,SAG7Eg4E,EAAU,IAAM,EAChB,IAAK,IAAIlpF,EAAI,EAAGA,EAAIs6B,EAAat6B,IAAK,CAClC,IAAIw2B,EAAQiD,EAAOz5B,GACfqiB,EAAMmU,EAAMnU,IAEhBynE,GAAQZ,EAAUlpF,GAClB4pF,EAhBWrkF,KAgBKwkF,YACZ1nE,EAAI/H,GACJ0K,EAAO9iB,QAAQ8gB,OAAO6mE,GACtBC,EACAA,EAAOznE,EAAInR,SACXslB,EAAMokD,cAAgBh+E,OAEtB45B,EAAMokD,cAAgBh+E,OAClB49B,EAAavW,QAAU/oB,SACvB0uF,EAAO5kE,EAAO9C,OAAS8C,EAAOtK,OAAOla,EAAIqpF,GAE7CrzD,EAAMnP,OAAO,IAAIjF,IAAIwnE,EAAOvnE,EAAItiB,QAAS+pF,EAAMF,EAAME,MAEjDtvD,EAAavW,QAAU/oB,SACvB0uF,EAAO5kE,EAAOtK,OAAOla,EAAIwkB,EAAO9C,OAAS2nE,GAE7CrzD,EAAMnP,OAAO,IAAIjF,IAAIwnE,EAAOvnE,EAAItiB,QAAS+pF,EAAMF,EAAME,KAGzDA,GAAQznE,EAAInR,QAChB,CACJ,EAEA22E,EAAS9hF,UAAUkiB,aAAe,WAC9B,IAAIzP,EAAWjT,KAGXykF,EADMzkF,KACW1F,QAAQmqF,WACzB3mE,EAFM9d,KAEO8d,OACbpiB,EAAQoiB,EAAOjkB,OAGnB8nB,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK0kF,gBAAkB,GAEvB,IAAK,IAAIjqF,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIkyD,EAAU7uC,EAAOrjB,GACjBglB,EAASktC,EAAQltC,OACjBwR,EAAQ07B,EAAQ17B,MAChBvU,EAAQ+C,EAAOP,SACfylE,GAAmBh4B,EAAQryD,QAAQmqF,YAAc,CAAC,GAAG17E,OAAS07E,EAAW17E,MAE7E,GAAIkoB,EAAO,CACP,IAAI2zD,EAAgB,IAAI7xF,OAAO,CAC3BwH,OAAQ,CACJwO,MAAO47E,EACPnqF,MAAOiqF,EAAWjqF,OAEtBwnB,UAAW,CACPne,KAAMk2C,OACNsH,MAAOsL,EAAQq0B,kBAIvB,GAAI/vD,EAAM32B,QAAQw0B,WAAa8wB,YAAa,CACxC,IAAI9iC,EAAMmU,EAAMnU,IACZ+nE,EAAcplE,EAAOtK,OACrB9U,EAAQof,EAAO3D,MAAMY,GACrBwC,EAAS,IAAIvD,QAAQmB,EAAIlI,GAAIkI,EAAI3H,SAASja,GAC1C4pF,OAAK,EAAUxkF,OAAM,EAAUykF,OAAW,EAE9C1kF,EAAQof,EAAO9iB,QAAQ8gB,OAAOgnE,EAAW9mE,SAAS7B,MAAMY,GACxDkoE,EAAcp8D,OAAOnoB,EAAMpF,EAAGoF,EAAMnF,GAEhC+1B,EAAMokD,cAAgBh+E,OAEtB0tF,EAAWC,aAAaH,EAAaxkF,EAAO6e,EAD5C5e,EAAM,IAAIqb,QAAQmB,EAAIlI,GAAK6vE,EAAW9mE,QAASb,EAAI3H,SAASja,IAE5DgkB,EAAS,IAAIvD,QAAQrb,EAAIrF,EAtC7B,EAsCwCqF,EAAIpF,IACxC6pF,EAAWA,GAAY7lE,GACdjkB,EAAImH,KAAKmF,IAAIw9E,EAAS9pF,EAAGikB,EAAOjkB,GAErCgY,EAASgyE,cAAcF,EAAUtlE,EAAOtK,OAAQsK,EAAO9C,OA1C/D,IA2CQooE,EAAS9pF,EAAIwkB,EAAOtK,OAAOla,GAC3B6pF,EAAKrlE,EAAOtK,OAAOla,EAAIwkB,EAAO9C,OA5CtC,EA6CYgwC,EAAQryD,QAAQ45B,OAAOxV,QAAU+8B,OAC7BqpC,EAAK5lE,EAAOjkB,EACZ2pF,EAAcljE,OAAOojE,EAAIzkF,EAAMnF,GAE/B0pF,EAAcljE,OAAOrhB,EAAMpF,EAAIy9B,EAAWr4B,EAAMnF,GAGpD0pF,EAAcljE,OAAOojE,EAAIzkF,EAAMnF,GAEnC0pF,EAAcljE,OAAOxC,EAAOjkB,EAAGqF,EAAIpF,KAEnC6pF,EAAS7pF,EAAIoF,EAAIpF,EACjB0pF,EAAcljE,OAAOqjE,EAAS9pF,EAAG8pF,EAAS7pF,MAI9C6pF,EAAWC,aAAaH,EAAaxkF,EAAO6e,EAD5C5e,EAAM,IAAIqb,QAAQmB,EAAI/H,GAAK0vE,EAAW9mE,QAASb,EAAI3H,SAASja,IAE5DgkB,EAAS,IAAIvD,QAAQrb,EAAIrF,EA9D7B,EA8DwCqF,EAAIpF,IACxC6pF,EAAWA,GAAY7lE,GACdjkB,EAAImH,KAAKC,IAAI0iF,EAAS9pF,EAAGikB,EAAOjkB,GAErCgY,EAASgyE,cAAcF,EAAUtlE,EAAOtK,OAAQsK,EAAO9C,OAlE/D,IAmEQooE,EAAS9pF,EAAIwkB,EAAOtK,OAAOla,GAC3B6pF,EAAKrlE,EAAOtK,OAAOla,EAAIwkB,EAAO9C,OApEtC,EAqEYgwC,EAAQryD,QAAQ45B,OAAOxV,QAAU+8B,OAC7BqpC,EAAK5lE,EAAOjkB,EACZ2pF,EAAcljE,OAAOojE,EAAIzkF,EAAMnF,GAE/B0pF,EAAcljE,OAAOrhB,EAAMpF,EAAIy9B,EAAWr4B,EAAMnF,GAGpD0pF,EAAcljE,OAAOojE,EAAIzkF,EAAMnF,GAEnC0pF,EAAcljE,OAAOxC,EAAOjkB,EAAGqF,EAAIpF,KAEnC6pF,EAAS7pF,EAAIoF,EAAIpF,EACjB0pF,EAAcljE,OAAOqjE,EAAS9pF,EAAG8pF,EAAS7pF,KAIlD0pF,EAAcljE,OAAOphB,EAAIrF,EAAGqF,EAAIpF,GAEhC+X,EAASyxE,gBAAgBplF,KAAKslF,GAC9B3xE,EAAS8P,OAAOpgB,OAAOiiF,EAC3B,CACJ,CACJ,CACJ,EAEAtC,EAAS9hF,UAAUgiB,aAAe,WAG9B,GAFAb,EAAanhB,UAAUgiB,aAAarhB,KAAKnB,MAErCgG,KAAKhG,KAAK1F,QAAQoqB,QAAQ,SAAUpqB,GAAW,OAAOA,EAAQ4qF,OAAS,IAAI,CAC3E,IAAIloE,EAAYhd,KAAKgd,UACjBmoE,EAAYnlF,KAAK8c,IAAI3H,SACrB4a,EAAO/vB,KAAK+iB,OAAOgN,OACvB,IAAKA,EACD,OAGJ,IAAIq1D,EAAar1D,EAAK5C,cAElB5R,EAAQnZ,KAAKmF,KACZ49E,EAAUjqF,EAAI8hB,EAAUlI,KAAOqwE,EAAUjqF,EAAI60B,EAAK7C,OAAOhyB,IACzD8hB,EAAUhI,GAAKmwE,EAAUjqF,IAAMkqF,EAAWlqF,EAAIiqF,EAAUjqF,IACxDiqF,EAAUlqF,EAAI+hB,EAAUpI,KAAOuwE,EAAUlqF,EAAI80B,EAAK7C,OAAOjyB,IACzD+hB,EAAUjI,GAAKowE,EAAUlqF,IAAMmqF,EAAWnqF,EAAIkqF,EAAUlqF,IAGzDsgB,EAAQ,GACRvb,KAAK+iB,OAAOrvB,UAAUA,YAAY6nB,MAAMA,EAAOA,EAAO,CAAE4pE,EAAUlqF,EAAGkqF,EAAUjqF,IAEvF,CACJ,EAEAonF,EAAS9hF,UAAUgjF,gBAAkB,SAA0Bj0D,GAC3D,IAAI81D,EAAe91D,GAAW,EAAI,EAElC,OAAO,SAAS7iB,EAAG/D,GAGf,QAFa+D,EAAEnE,OAAOkX,OAAOP,SAAW,KAAO,KACjCvW,EAAEJ,OAAOkX,OAAOP,SAAW,KAAO,KACtBmmE,CAC9B,CACJ,EAEA/C,EAAS9hF,UAAUgkF,YAAc,SAAsBc,EAAW7lE,EAAQ3K,EAAIE,EAAIywD,GAC9E,IAAI9oD,EAAS8C,EAAO9C,OAChB4oE,EAAgB9lE,EAAOtK,OACvBmH,EAAKipE,EAActqF,EACnBshB,EAAKgpE,EAAcrqF,EACnBsqF,EAAIpjF,KAAKmF,IAAInF,KAAKkZ,IAAIiB,EAAKzH,GAAK1S,KAAKkZ,IAAIiB,EAAKvH,IAElD,OAAIwwE,EAAI7oE,EACG2oE,EAGJhpE,EAAKla,KAAKiT,KAAMsH,EAASA,EAAW6oE,EAAIA,IAAO/f,EAAY,GAAK,EAC3E,EAEA6c,EAAS9hF,UAAUykF,cAAgB,SAAwBnpE,EAAO3G,EAAQwH,GACtE,OAAOva,KAAKoZ,IAAIrG,EAAOla,EAAI6gB,EAAM7gB,EAAG,GAAKmH,KAAKoZ,IAAIrG,EAAOja,EAAI4gB,EAAM5gB,EAAG,GAAKkH,KAAKoZ,IAAImB,EAAQ,EAChG,EAEA2lE,EAAS9hF,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACpE,OAAO1vB,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQ5T,EAAMxiB,MACvD,EAEAgpF,EAAS9hF,UAAUwgF,eAAiB,SAAyB79C,GACzD,OAAOA,EAAgBk/C,qBAC3B,EAEAC,EAAS9hF,UAAU8iB,UAAY,WAC3B,OAAOtjB,IACX,EAEOsiF,CACX,CA7de,CA6db3gE,cAEF,SAASqjE,aAAaS,EAAIC,EAAIC,EAAIC,GAC9B,IAGIhqF,EAHAiqF,GAAOD,EAAG3qF,EAAI0qF,EAAG1qF,IAAMwqF,EAAGvqF,EAAIyqF,EAAGzqF,IAAM0qF,EAAG1qF,EAAIyqF,EAAGzqF,IAAMuqF,EAAGxqF,EAAI0qF,EAAG1qF,GACjE6qF,GAAMF,EAAG1qF,EAAIyqF,EAAGzqF,IAAMwqF,EAAGzqF,EAAIwqF,EAAGxqF,IAAM2qF,EAAG3qF,EAAI0qF,EAAG1qF,IAAMyqF,EAAGxqF,EAAIuqF,EAAGvqF,GAGpE,GAAW,IAAP4qF,EAAU,CACV,IAAIv1E,EAAMs1E,EAAMC,EAEhBlqF,EAAS,IAAI+f,QACT8pE,EAAGxqF,EAAIsV,GAAMm1E,EAAGzqF,EAAIwqF,EAAGxqF,GACvBwqF,EAAGvqF,EAAIqV,GAAMm1E,EAAGxqF,EAAIuqF,EAAGvqF,GAE/B,CAEA,OAAOU,CACX,CAEAgI,kBAAkB0+E,SAAU,CACxBrjE,WAAY,GACZwlE,WAAY,CACRjqF,MAAO,EACPuO,MAAO,UACP4U,QAAS,GAEbogD,cAAe,CACX5U,QAAS,CAAC,EACVj1B,OAAQ,CAAC,KAIjBr3B,WAAWylF,SAAS9hF,UAAWwhF,eAE/BM,SAAS9hF,UAAUgjB,aAAc,EAEjC,IAAIuiE,YAAe,SAAU3pB,GACzB,SAAS2pB,IACL3pB,EAAaz6D,MAAM3B,KAAMjD,UAC7B,CAoCA,OAlCKq/D,IAAe2pB,EAAYttF,UAAY2jE,GAC5C2pB,EAAYvlF,UAAYjI,OAAOuN,OAAQs2D,GAAgBA,EAAa57D,WACpEulF,EAAYvlF,UAAUhE,YAAcupF,EAEpCA,EAAYvlF,UAAUuwB,OAAS,WAC3B/wB,KAAKgmF,eAAehmF,KAAK0kB,OAC7B,EAEAqhE,EAAYvlF,UAAUwlF,eAAiB,SAAyBthE,GAC5D,IAAI8rD,EAAc9rD,EAAO,GACrBuhE,EAAW,IAAI3D,SAAStiF,KAAM,CAC9B0kB,OAAQA,EACR/G,QAAS6yD,EAAY7yD,QACrBsB,WAAYuxD,EAAYvxD,WACxBwlE,WAAYjU,EAAYiU,WACxBnoB,OAAQt8D,KAAK1F,QAAQgiE,SAGzBt8D,KAAKq7D,YAAY4qB,EACrB,EAEAF,EAAYvlF,UAAU66D,YAAc,SAAsBpoC,EAAOuE,GAC7D4kC,EAAa57D,UAAU66D,YAAYl6D,KAAKnB,KAAMizB,EAAOuE,GACrD70B,OAAO3C,KAAK1F,QAAQgiE,OAAO1wD,KAAMqnB,EAAMmvD,YAC3C,EAEA2D,EAAYvlF,UAAUskE,cAAgB,SAAwBhpD,GAC1D,OAAO9b,KAAKklE,mBAAmBppD,EACnC,EAEAiqE,EAAYvlF,UAAUykE,cAAgB,SAAwBnpD,GAC1D,OAAO9b,KAAKolE,kBAAkBtpD,EAClC,EAEOiqE,CACX,CAxCkB,CAwChB3pB,cAEE8pB,aAAgB,SAAUvF,GAC1B,SAASuF,IACLvF,EAAWh/E,MAAM3B,KAAMjD,UAC3B,CA+BA,OA7BK4jF,IAAauF,EAAaztF,UAAYkoF,GAC3CuF,EAAa1lF,UAAYjI,OAAOuN,OAAQ66E,GAAcA,EAAWngF,WACjE0lF,EAAa1lF,UAAUhE,YAAc0pF,EAErCA,EAAa1lF,UAAUwpD,YAAc,WACjC,IACIi3B,EADMjhF,KACc1F,QAAQ45B,OAC5BjD,EAFMjxB,KAEMixB,MACZxR,EAASzf,KAAKyf,OAAO9iB,QACrB+f,EAAQ+C,EAAOP,SAEnB,GAAI+R,EAAO,CACP,IAAImwD,EAAcnwD,EAAMnU,IAAInR,SAC5B,GAAIs1E,EAAcnyD,WAAap5B,OAAQ,CACnC+pB,EAAO9C,SAAW8C,EAAO9C,OAAS8C,EAAOT,aAAe,EAExD,IAAImiE,EAAK1hE,EAAO3D,MAAMY,GAEtBuU,EAAMnP,OAAO,IAAIjF,IAAIskE,EAAGlmF,EAAGkmF,EAAGjmF,EAAIkmF,EAAc,EAAGD,EAAGlmF,EAAGkmF,EAAGjmF,GAChE,MACIylF,EAAWngF,UAAUwpD,YAAY7oD,KAAKnB,KAE9C,CACJ,EAEAkmF,EAAa1lF,UAAUisD,cAAgB,SAAwBhtC,EAAQnlB,GACnE,OAAO2mB,aAAatJ,QAAQuJ,WAAWzB,EAAQnlB,EACnD,EAEO4rF,CACX,CAnCmB,CAmCjBvF,YAEF/8E,kBAAkBsiF,aAAc,CAC5BxgE,QAAS,CACL4E,SAAU,gBAEd4J,OAAQ,CACJpF,SAAUp5B,QAEdssB,UAAW,CACPne,KAAMo4C,OAIdp/C,WAAWqpF,aAAa1lF,UAAWooD,kBAEnC,IAAIu9B,wBAA0B,GAE1BC,WAAc,SAAU9D,GACxB,SAAS8D,IACL9D,EAAS3gF,MAAM3B,KAAMjD,UACzB,CA8FA,OA5FKulF,IAAW8D,EAAW3tF,UAAY6pF,GACvC8D,EAAW5lF,UAAYjI,OAAOuN,OAAQw8E,GAAYA,EAAS9hF,WAC3D4lF,EAAW5lF,UAAUhE,YAAc4pF,EAEnCA,EAAW5lF,UAAUkkD,SAAW,SAAmBprD,EAAOmmB,EAAQtgB,GAC9D,IAAI2jF,EAAiBjmF,WAAW,CAAC,EAAGsC,EAAOulB,OAAQ,CAAEjpB,MAAO0D,EAAO1D,QAOnE,GANAqnF,EAAej8D,QAAU1nB,EAAO0nB,SAAWi8D,EAAej8D,QAE1D7mB,KAAK6iF,mBAAmBC,EAAgBxpF,EAAO6F,GAE/Ca,KAAKiiF,iBAAiB3oF,EAAOwpF,EAAgB3jF,IAEtB,IAAnBA,EAAOsjB,QAAX,CAIA,IAAIkqC,EAAU,IAAIu5B,aAAa5sF,EAAOmmB,EAAQqjE,GAE9CvqF,OAAO4a,OAAOw5C,EAASxtD,GACvBa,KAAK2C,OAAOgqD,GACZ3sD,KAAK8d,OAAOxe,KAAKqtD,EANjB,CAOJ,EAEAy5B,EAAW5lF,UAAUshB,OAAS,SAAiB9E,GAmB3C,IAlBA,IAgBIqpE,EAdA/rF,EAAU0F,KAAK1F,QACfwiB,EAAME,EAAUrgB,QAEhBqmF,EAAW5gF,KAAKmF,IAAIuV,EAAItiB,QAASsiB,EAAInR,UACrCs3E,EAAeD,EAAW,EAC1BE,EAAiBF,EAAsB,IAAXA,EAC5Bt+D,EAASpqB,EAAQoqB,OACjBo9B,EAAcp9B,EAAO7qB,OAErB8jB,EAAUja,eAAepJ,EAAQqjB,QAASulE,GAG1CoD,EAAYrD,GAFhBtlE,EAAUA,EAAUslE,EARR,EAQ+BA,EAR/B,EAQsDtlE,GAG9D4oE,EAAoB,EAGf9rF,EAAI,EAAGA,EAAIqnD,EAAarnD,IAAK,CAClC,IAAI+nD,EAAgB99B,EAAOjqB,GACjB,IAANA,GACIoI,QAAQ2/C,EAAc6jC,YACtBA,EAAW7jC,EAAc6jC,SACzBC,GAAa9jC,EAAc6jC,UAI/BxjF,QAAQ2/C,EAAch9C,MACtB8gF,GAAa9jC,EAAch9C,KAE3B+gF,IAGA1jF,QAAQ2/C,EAAcz7B,SAAWtsB,IAAMqnD,EAAc,IACrDwkC,GAAa9jC,EAAcz7B,OAEnC,CAEKlkB,QAAQwjF,KAGTC,GADAD,EAAyB,MADNpD,EAAetlE,IAAYmkC,EAAc,OAKhE,IAEUnlC,EAFNqC,EAAcqnE,EACdt/D,EAAS,EAGb/mB,KAAK+iF,cAAgB,GAErB,IAAK,IAAIx1E,EAAM,EAAGA,EAAMu0C,EAAav0C,IAAO,CACxC,IAAIi5E,EAAkB9hE,EAAOnX,GAG7BoP,GADAqC,GAAe+H,GADRrjB,eAAe8iF,EAAgBhhF,KAAM8gF,EAAYC,GApD7CvmF,KAuDF+iF,cAAczjF,KAAK,CAAE0f,YAAaA,EAAarC,OAAQA,IAChEoK,EAASy/D,EAAgBz/D,QAAU,EACnC/H,EAAcrC,CAClB,CAEA2lE,EAAS9hF,UAAUshB,OAAO3gB,KAAKnB,KAAMgd,EACzC,EAEAopE,EAAW5lF,UAAUwgF,eAAiB,SAAyB79C,EAAeqgC,EAAa1hB,GACvF,OAAO3e,EAAgBgjD,wBAClBrsC,4BAA8B0pB,EAAc,IAAM1hB,EAAc,EACzE,EAEOskC,CACX,CAlGiB,CAkGf9D,UAGF1+E,kBAAkBwiF,WAAY,CAC1BnnE,WAAY,GACZwlE,WAAY,CACRjqF,MAAO,EACPuO,MAAO,UACP4U,QAAS,KAIjB,IAAI8oE,cAAiB,SAAUV,GAC3B,SAASU,IACLV,EAAYpkF,MAAM3B,KAAMjD,UAC5B,CA+BA,OA7BKgpF,IAAcU,EAAchuF,UAAYstF,GAC7CU,EAAcjmF,UAAYjI,OAAOuN,OAAQigF,GAAeA,EAAYvlF,WACpEimF,EAAcjmF,UAAUhE,YAAciqF,EAEtCA,EAAcjmF,UAAUuwB,OAAS,WAC7B/wB,KAAK0mF,iBAAiB1mF,KAAK0kB,OAC/B,EAEA+hE,EAAcjmF,UAAUkmF,iBAAmB,SAA2BhiE,GAClE,IAAI8rD,EAAc9rD,EAAO,GACrBiiE,EAAa,IAAIP,WAAWpmF,KAAM,CAClC0kB,OAAQA,EACR/G,QAAS6yD,EAAY7yD,QACrB8mE,WAAYjU,EAAYiU,WACxBnoB,OAAQt8D,KAAK1F,QAAQgiE,SAGzBt8D,KAAKq7D,YAAYsrB,EACrB,EAGAF,EAAcjmF,UAAUskE,cAAgB,SAAwBhpD,GAC5D,OAAO9b,KAAK+kE,cAAcjpD,EAAO9b,KAAKglE,mBAAoB,EAC9D,EAEAyhB,EAAcjmF,UAAUykE,cAAgB,SAAwBnpD,GAC5D,OAAO9b,KAAK+kE,cAAcjpD,EAAO9b,KAAKglE,kBAAmB,EAC7D,EAEOyhB,CACX,CAnCoB,CAmClBV,aAEEa,gBAAkB,IAElBC,kBAAqB,SAAUzqB,GAC/B,SAASyqB,IACLzqB,EAAaz6D,MAAM3B,KAAMjD,UAC7B,CAgGA,OA9FKq/D,IAAeyqB,EAAkBpuF,UAAY2jE,GAClDyqB,EAAkBrmF,UAAYjI,OAAOuN,OAAQs2D,GAAgBA,EAAa57D,WAC1EqmF,EAAkBrmF,UAAUhE,YAAcqqF,EAE1CA,EAAkBrmF,UAAUi0B,WAAa,WACrCz0B,KAAKytE,sBAAwB,IAAIrd,qBACrC,EAEAy2B,EAAkBrmF,UAAUuwB,OAAS,WACjC/wB,KAAK89D,YAAY99D,KAAK0kB,QACtB1kB,KAAK8mF,kBACL9mF,KAAKguE,eACLhuE,KAAK+mF,iBACT,EAEAF,EAAkBrmF,UAAUy/D,UAAY,WACpC,IAAItqD,EAAO3V,KAAK4hC,UACZvM,EAAQ1f,EAAK0f,QACb05B,EAAgBp5C,EAAKrb,QAAQi1B,QAAU8F,EAAMhzB,IAAMgzB,EAAM9tB,IACzD4yB,EAAOxkB,EAAKiiB,QAAQm3B,GACpB55C,EAASnV,KAAK0xC,UAAU9Z,QAAQ,GAAGziB,OACnC6qD,EAAUrqD,EAAKmH,IAAIjiB,UACnBsa,EAAOla,EAAIk/B,EAAKvlB,GAChBO,EAAOja,EAAIi/B,EAAKrlB,IAGpBa,EAAKmM,OAAOk+C,EAChB,EAEA6mB,EAAkBrmF,UAAUumF,gBAAkB,WAC1C,IAMIt0C,EAAUu0C,EANVvV,EAAUzxE,KAAKytE,sBACfiE,EAAeD,EAAQ/gB,QACvBllB,EAAcxrC,KAAKinF,iBAAiB,CACpC76C,kBAAkB,EAClBlpB,QAAS,IAITsoB,EAAY3nC,OAAS27C,aACrB/M,EAAWG,qBACXo0C,EAAmB,CAAEz/E,IAAK,GAAKlF,IAAK,KAEpCowC,EAAWC,iBACXs0C,EAAmB,CAAEz/E,IAAK,EAAGlF,IAAK,IAGtC,IAAIgzB,EAAQo8C,EAAQ/gB,MAAMh8D,OAASg9E,GAAgBsV,EAE/C3xD,GAASq8C,IACTr8C,EAAM9tB,IAAMnF,KAAKmF,IAAI8tB,EAAM9tB,IAAKmqE,EAAanqE,KAC7C8tB,EAAMhzB,IAAMD,KAAKC,IAAIgzB,EAAMhzB,IAAKqvE,EAAarvE,MAGjD,IAAIu/B,EAAY,IAAI6Q,EAChBpd,EAAM9tB,IAAK8tB,EAAMhzB,IACjBmpC,EACAxrC,KAAKqiB,cAGTriB,KAAK4hC,UAAYA,EACjB5hC,KAAKm7D,WAAWv5B,EACpB,EAEAilD,EAAkBrmF,UAAU2+D,WAAa,WACrC,IAAIz8D,EAAM1C,KACN1F,EAAUoI,EAAIpI,QAAQ+8B,SACtBuK,EAAYl/B,EAAIk/B,UAChB8P,EAAYhvC,EAAIgvC,UAChB50B,EAAMpa,EAAIoa,IACVomE,EAAiB9gF,KAAKmF,IAAIuV,EAAItiB,QAASsiB,EAAInR,UAAYi7E,gBACvDjpE,EAAU7f,WAAWxD,EAAQqjB,SAAW,CAAC,EAAGulE,GAC5C77D,EAAavK,EAAIngB,QAAQihB,MAAMD,GAC/BqiD,EAAU34C,EAAW1qB,QAEzBqjE,EAAQhrD,GAAKgrD,EAAQlrD,GAAK1S,KAAKmF,IAAIy4D,EAAQxlE,QAASwlE,EAAQr0D,UAC5Dq0D,EAAQthD,MAAM2I,EAAYpvB,EAAGvC,QAE7B,IAAIwxF,EAAelnB,EAAQrjE,QAAQ2gB,OAAO,EAAG0iD,EAAQr0D,SAAW,GAEhE+lC,EAAU5vB,OAAOk+C,GACjBp+B,EAAU9f,OAAOolE,GACjB,IAAIC,EAAavlD,EAAUnM,UAAU9pB,SAAWi2B,EAAU9kB,IAAInR,SAC9Di2B,EAAU9f,OAAO8f,EAAU9kB,IAAIc,MAAM,CAAE3f,IAAKkpF,KAE5CnnF,KAAKggE,QAAUA,EACfhgE,KAAKigE,UAAUD,EACnB,EAEA6mB,EAAkBrmF,UAAUmiE,cAAgB,WACxC,OAAO3iE,KAAK8c,GAChB,EAEA+pE,EAAkBrmF,UAAU0+D,aAAe,WAA0B,EAE9D2nB,CACX,CApGwB,CAoGtBzqB,cAEEgrB,kBAAqB,SAAU7wB,GAC/B,SAAS6wB,IACL7wB,EAAa50D,MAAM3B,KAAMjD,UAC7B,CAaA,OAXKw5D,IAAe6wB,EAAkB3uF,UAAY89D,GAClD6wB,EAAkB5mF,UAAYjI,OAAOuN,OAAQywD,GAAgBA,EAAa/1D,WAC1E4mF,EAAkB5mF,UAAUhE,YAAc4qF,EAE1CA,EAAkB5mF,UAAUqnD,UAAY,SAAoBnwB,EAAOC,GAC/D,IAAI0vD,EAAc3vD,EAAMviB,OAAOja,EAAIy8B,EAAM7iB,GACrCqlB,EAAOxe,QAAQc,SAASib,EAAMviB,OAAQuiB,EAAMzY,WAAYooE,GAE5D,OAAO,IAAIxqE,IAAIsd,EAAKl/B,EAAGk/B,EAAKj/B,EAAGi/B,EAAKl/B,EAAGk/B,EAAKj/B,EAChD,EAEOksF,CACX,CAjBwB,CAiBtB7wB,cAEF3yD,kBAAkBwjF,kBAAmB,CACjCh9C,MAAM,IAGV,IAAIk9C,eAAkB,SAAUtJ,GAC5B,SAASsJ,IACLtJ,EAAiBr8E,MAAM3B,KAAMjD,UACjC,CAMA,OANMihF,IAAmBsJ,EAAe7uF,UAAYulF,GACpDsJ,EAAe9mF,UAAYjI,OAAOuN,OAAQk4E,GAAoBA,EAAiBx9E,WAC/E8mF,EAAe9mF,UAAUhE,YAAc8qF,EAIhCA,CACX,CAVqB,CAUnBtJ,kBAEFsJ,eAAe9mF,UAAUqnD,UAAYu/B,kBAAkB5mF,UAAUqnD,UAEjEjkD,kBAAkB0jF,eAAgB,CAC9Bl9C,MAAM,IAGV,IAAIm9C,uBAA0B,SAAUn4B,GACpC,SAASm4B,IACLn4B,EAAkBztD,MAAM3B,KAAMjD,UAClC,CAiCA,OA/BKqyD,IAAoBm4B,EAAuB9uF,UAAY22D,GAC5Dm4B,EAAuB/mF,UAAYjI,OAAOuN,OAAQspD,GAAqBA,EAAkB5uD,WACzF+mF,EAAuB/mF,UAAUhE,YAAc+qF,EAE/CA,EAAuB/mF,UAAUquD,WAAa,SAAqBC,GAC/D,IAAI35C,EAASnV,KAAKwnF,mBAClB14B,EAASptC,OAAOvM,EAAOla,EAAGka,EAAOja,EACrC,EAEAqsF,EAAuB/mF,UAAUgnF,iBAAmB,WAGhD,OAFgBxnF,KAAKuI,OAAO8uB,SAASqa,UACd50B,IAAI3H,QAE/B,EAEAoyE,EAAuB/mF,UAAU4tD,eAAiB,WAC9C,IAAI1zD,EAAWsF,KAAKquD,gBAEpB,IAAK3zD,EAAU,CACX,IAAIya,EAASnV,KAAKwnF,mBACdn4B,EAAiB,IAAItc,gBAAe,GACpCthB,EAAazxB,KAAK8d,SAEtB2T,EAAWnyB,KAAK6V,IAChBza,EAAWsF,KAAKquD,gBAAkBgB,EAAerc,QAAQvhB,IAChDpX,KACb,CAEA,OAAO3f,CACX,EAEO6sF,CACX,CArC6B,CAqC3Bn4B,mBAEEq4B,iBAAoB,SAAU35B,GAC9B,SAAS25B,IACL35B,EAAYnsD,MAAM3B,KAAMjD,UAC5B,CAeA,OAbK+wD,IAAc25B,EAAiBhvF,UAAYq1D,GAChD25B,EAAiBjnF,UAAYjI,OAAOuN,OAAQgoD,GAAeA,EAAYttD,WACvEinF,EAAiBjnF,UAAUhE,YAAcirF,EAEzCA,EAAiBjnF,UAAUquD,WAAa,SAAqBC,GACzD,IACI35C,EADYnV,KAAKuI,OAAO8uB,SAASqa,UACd50B,IAAI3H,SACvBuyE,EAAgB,IAAI3zF,QAAQ,CAAEohB,EAAOla,EAAGka,EAAOja,IAEnD4zD,EAASp0D,SAASiY,QAAQ+0E,GAC1B54B,EAASp0D,SAAS4E,KAAKooF,EAC3B,EAEOD,CACX,CAnBuB,CAmBrB35B,aAEE65B,eAAkB,SAAUL,GAC5B,SAASK,IACLL,EAAe3lF,MAAM3B,KAAMjD,UAC/B,CAsEA,OApEKuqF,IAAiBK,EAAelvF,UAAY6uF,GACjDK,EAAennF,UAAYjI,OAAOuN,OAAQwhF,GAAkBA,EAAe9mF,WAC3EmnF,EAAennF,UAAUhE,YAAcmrF,EAEvCA,EAAennF,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,GASxF,OARapC,EAAcr2C,MAAQ,CAAC,GAAG1O,QAGzBw9C,OACA,IAAIssC,uBAAuB91D,EAAY+wB,EAAeoC,GAEtD,IAAI6iC,iBAAiBh2D,EAAY+wB,EAAeoC,EAGlE,EAEA+iC,EAAennF,UAAUs2D,mBAAqB,SAA6Bx9D,EAAO6pD,GAC9E,IAAI86B,EAYJ,OAVIr7B,WAAWtpD,EAAM2B,IAAMkoD,IAAkBtI,cACzCojC,EAAe,CACXhjF,EAAG3B,EAAM2B,EACTC,EAAG5B,EAAM4B,GAETioD,IAAkBvI,OAClBqjC,EAAa/iF,EAAI,IAIlB+iF,CACX,EAEA0J,EAAennF,UAAU0iD,oBAAsB,SAA8Bx+B,GACzE,OAAOA,EAAOy+B,eAAiBvI,IACnC,EAEA+sC,EAAennF,UAAUonF,qBAAuB,WAK5C,IAJA,IAEIljE,EAAS1kB,KAAK1F,QAAQoqB,OAEjB9qB,EAAM,EAAGA,EAAM8qB,EAAO7qB,OAAQD,IACnC,GALWoG,KAKEkjD,oBAAoBx+B,EAAO9qB,MAAUkhD,IAC9C,OAAO,CAGnB,EAEA6sC,EAAennF,UAAU+rD,WAAa,SAAqBzuC,GAKvD,GAFAA,EAAO6C,KAAKknE,WAER7nF,KAAK4nF,uBACL,IAAK,IAAIhuF,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IAAO,CAC1C,IAAIkiB,EAAQgC,EAAOlkB,GACnB,GAAIkiB,EAEK8mC,WADO9mC,EAAMxiB,MACI4B,IATnB8E,KASkCkjD,oBAAoBpnC,EAAM4I,UAAYo2B,YAChEh9B,EAAOlkB,EAG1B,CAGJ,OAAOkkB,CACX,EAEO6pE,CACX,CA1EqB,CA0EnBL,gBAEF,SAASO,UAAUn7E,EAAG/D,GAClB,OAAO+D,EAAEpT,MAAM2B,EAAI0N,EAAErP,MAAM2B,CAC/B,CAEA,IAAI6sF,cAAiB,SAAUjB,GAC3B,SAASiB,IACLjB,EAAkBllF,MAAM3B,KAAMjD,UAClC,CAmHA,OAjHK8pF,IAAoBiB,EAAcrvF,UAAYouF,GACnDiB,EAActnF,UAAYjI,OAAOuN,OAAQ+gF,GAAqBA,EAAkBrmF,WAChFsnF,EAActnF,UAAUhE,YAAcsrF,EAEtCA,EAActnF,UAAUsmF,gBAAkB,WACtC,IAAIp1C,EAAY,IAAIL,UAAUrxC,KAAK1F,QAAQ08D,MAAOh3D,KAAKqiB,cAEvDriB,KAAK0xC,UAAYA,EACjB1xC,KAAK21B,MAAQ+b,EACb1xC,KAAKm7D,WAAWzpB,EACpB,EAEAo2C,EAActnF,UAAUuwB,OAAS,WAC7B/wB,KAAK0kB,OAAS,GAAGvc,OAAQnI,KAAKy8D,gBAC9Bz8D,KAAKukE,wBAELsiB,EAAkBrmF,UAAUuwB,OAAO5vB,KAAKnB,KAC5C,EAEA8nF,EAActnF,UAAUymF,iBAAmB,SAA2B9kC,GAClE,OAAOtlD,WAAWslD,EAAU,CACxB/pB,eAAgB,CAAEv0B,KAAM7O,KACxBmjC,eAAgB,CAAEt0B,KAAM7O,MACzBgL,KAAK1F,QAAQ48D,MACpB,EAEA4wB,EAActnF,UAAUumF,gBAAkB,WACtCF,EAAkBrmF,UAAUumF,gBAAgB5lF,KAAKnB,MACjDA,KAAK41B,MAAQ51B,KAAK4hC,SACtB,EAEAkmD,EAActnF,UAAU8jE,iBAAmB,SAA2BhqE,EAASoqB,GAC3E,IAAI4nD,EAAYgT,WAAW9+E,UAAU8jE,iBAAiBnjE,KAAKnB,KAAM1F,EAASoqB,GAK1E,OAJI4nD,IACAA,EAAUzoE,KAAOs4C,YAGdmwB,CACX,EAEAwb,EAActnF,UAAU66D,YAAc,SAAsBpoC,EAAOuE,GAC/Dx3B,KAAKytE,sBAAsBnd,OAAOr9B,EAAMyjC,aAExC0F,aAAa57D,UAAU66D,YAAYl6D,KAAKnB,KAAMizB,EAAOuE,EACzD,EAEAswD,EAActnF,UAAUwtE,aAAe,WACnC,IAAItpD,EAAS1kB,KAAKg/D,oBAAoBh/D,KAAK0kB,QACvC8S,EAAOx3B,KAAKg9D,MAAM,GAEtBh9D,KAAKovE,gBACD9sB,mBAAmB59B,EAAQ,CAAEy3B,aAC7B3kB,GAGJx3B,KAAK0/E,mBACDp9B,mBAAmB59B,EAAQ,CAAE03B,gBAC7B5kB,GAGJx3B,KAAK2uE,gBACDrsB,mBAAmB59B,EAAQ,CAAEw3B,aAC7B1kB,EAER,EAEAswD,EAActnF,UAAU4uE,gBAAkB,SAA0B1qD,EAAQ8S,GACxE,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI+2E,EAAY,IAAI0W,eAAetnF,KAAM,CAAE0kB,OAAQA,IAEnD1kB,KAAKq7D,YAAYuV,EAAWp5C,EAJ5B,CAKJ,EAEAswD,EAActnF,UAAUk/E,mBAAqB,SAA6Bh7D,EAAQ8S,GAC9E,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAIkuF,EAAe,IAAIX,kBAAkBpnF,KAAM,CAAE0kB,OAAQA,IAEzD1kB,KAAKq7D,YAAY0sB,EAAcvwD,EAJ/B,CAKJ,EAEAswD,EAActnF,UAAUmuE,gBAAkB,SAA0BjqD,EAAQ8S,GACxE,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAIg3E,EAAY,IAAI8W,eAAe3nF,KAAM,CAAE0kB,OAAQA,IAEnD1kB,KAAKq7D,YAAYwV,EAAWr5C,EAJ5B,CAKJ,EAEAswD,EAActnF,UAAUylE,eAAiB,SAAyBhzC,EAAOjxB,EAAG6vE,GACxE,IAAIxmB,EAASp4B,EAAM6+C,kBAAkB9vE,GACjC8Z,EAAQ,IAAIH,QAAQ0vC,EAAOpwD,EAAGowD,EAAOnwD,GACrCi6C,EAASn1C,KAAK21B,MAAMmW,SAAShwB,GAC7Bs5B,EAASp1C,KAAK41B,MAAMkW,SAAShwB,GAElB,OAAXq5B,GAA8B,OAAXC,GACnBniB,EAAM5xB,QAAQwwE,EAAW,CACrBp4E,QAASyJ,aAAalB,GACtB/G,EAAGk6C,EACHj6C,EAAGk6C,GAGf,EAEA0yC,EAActnF,UAAUo8D,iBAAmB,WAA8B,EAElEkrB,CACX,CAvHoB,CAuHlBjB,mBAWF,SAASmB,gBAAgBttF,GAErB,IADA,IAAIutF,EAAiB,GACZruF,EAAM,EAAGA,EAAMc,EAASb,OAAQD,IAAO,CAC5C,IAAI+yD,EAAUjyD,EAASd,GACvBquF,EAAet7B,EAAQ/H,UAAYqjC,EAAet7B,EAAQ/H,WAAa,GACvEqjC,EAAet7B,EAAQ/H,UAAUtlD,KAAKqtD,EAC1C,CAEA,OAAOs7B,CACX,CAlBArkF,kBAAkBkkF,cAAe,CAC7B9wB,MAAO,CAAC,EACRE,MAAO,CAAC,IAGZr6D,WAAWirF,cAActnF,UAAWwlE,oBAAqB,CACrDoF,aAAckU,WAAW9+E,UAAU4qE,eAcvC,IAAI8c,eAAkB,SAAUr6B,GAC5B,SAASq6B,IACLr6B,EAAUlsD,MAAM3B,KAAMjD,UAC1B,CAuDA,OArDK8wD,IAAYq6B,EAAezvF,UAAYo1D,GAC5Cq6B,EAAe1nF,UAAYjI,OAAOuN,OAAQ+nD,GAAaA,EAAUrtD,WACjE0nF,EAAe1nF,UAAUhE,YAAc0rF,EAEvCA,EAAe1nF,UAAUqnD,UAAY,SAAoBF,EAAcC,GACnE,IAAIy/B,EAAc1/B,EAAaxyC,OAAOja,EAAI0sD,EAAU9yC,GAChDqlB,EAAOxe,QAAQc,SAASkrC,EAAaxyC,OAAQwyC,EAAazoC,SAAUmoE,GAExE,OAAO,IAAIxqE,IAAIsd,EAAKl/B,EAAGk/B,EAAKj/B,EAAGi/B,EAAKl/B,EAAGk/B,EAAKj/B,EAChD,EAEAgtF,EAAe1nF,UAAU2rD,eAAiB,WAGtC,GAFA0B,EAAUrtD,UAAU2rD,eAAehrD,KAAKnB,MAEpCA,KAAKqsD,WAAarsD,KAAKqsD,UAAUxyD,OAAS,EAG1C,IAFA,IAAIouF,EAAiBD,gBAAgBhoF,KAAKqsD,WAEjCzyD,EAAM,EAAGA,EAAMquF,EAAepuF,OAAQD,IAAO,CAClD,IAAIc,EAAWutF,EAAeruF,GAC9B,GAAIc,GAAYA,EAASb,OAAS,EAAG,CACjC,IAAIo1D,EAAav0D,EAAS,GAAG+2B,WAAW,GACpC26B,EAAchpD,KAAK1I,GACnBw0D,EAAY9rD,KAAKgpD,EAAY36B,YAC7B02D,EAA6C,IAA1Bl5B,EAAWtnB,WAC9BygD,EAAkBl5B,EAAUvnB,aAAeunB,EAAUzrB,gBAAkB,EACvE0kD,GAAoBC,GACpBhlF,KAAK1I,GAAU+2B,WAAWnyB,KAAK2vD,EAEvC,CACJ,CAER,EAEAi5B,EAAe1nF,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,GACxF,IASI+H,EAAU,IATFnK,EAAc/kD,QAGZw9C,OACE+Q,cAEAd,aAGYz5B,EAAY+wB,EAAeoC,GACnDzB,EAAgBnjD,KAAKkjD,oBAAoBV,GAM7C,OAJI/wB,EAAW53B,SAAW2oD,EAAc52C,KAAK/R,QAAUspD,IAAkBtI,cACrE8R,EAAQryD,QAAQsrB,QAAS,GAGtB+mC,CACX,EAEOu7B,CACX,CA3DqB,CA2DnBr6B,WAEFjqD,kBAAkBskF,eAAgB,CAC9B99C,MAAM,EACN8d,aAAa,IAGjB,IAAImgC,uBAA0B,SAAUj5B,GACpC,SAASi5B,IACLj5B,EAAkBztD,MAAM3B,KAAMjD,UAClC,CAQA,OANKqyD,IAAoBi5B,EAAuB5vF,UAAY22D,GAC5Di5B,EAAuB7nF,UAAYjI,OAAOuN,OAAQspD,GAAqBA,EAAkB5uD,WACzF6nF,EAAuB7nF,UAAUhE,YAAc6rF,EAE/CA,EAAuB7nF,UAAUquD,WAAa,WAAwB,EAE/Dw5B,CACX,CAZ6B,CAY3Bj5B,mBAEEk5B,iBAAoB,SAAUx6B,GAC9B,SAASw6B,IACLx6B,EAAYnsD,MAAM3B,KAAMjD,UAC5B,CAQA,OANK+wD,IAAcw6B,EAAiB7vF,UAAYq1D,GAChDw6B,EAAiB9nF,UAAYjI,OAAOuN,OAAQgoD,GAAeA,EAAYttD,WACvE8nF,EAAiB9nF,UAAUhE,YAAc8rF,EAEzCA,EAAiB9nF,UAAUquD,WAAa,WAAwB,EAEzDy5B,CACX,CAZuB,CAYrBx6B,aAEEy6B,eAAkB,SAAUL,GAC5B,SAASK,IACLL,EAAevmF,MAAM3B,KAAMjD,UAC/B,CAiCA,OA/BKmrF,IAAiBK,EAAe9vF,UAAYyvF,GACjDK,EAAe/nF,UAAYjI,OAAOuN,OAAQoiF,GAAkBA,EAAe1nF,WAC3E+nF,EAAe/nF,UAAUhE,YAAc+rF,EAEvCA,EAAe/nF,UAAUisD,cAAgB,SAAwBh7B,EAAY+wB,EAAeoC,EAAUmJ,GAClG,IAEIyB,EACAxB,EACArB,EAJArH,EAAYtlD,KAAK1F,QAAQgrD,UACzB7nD,GAAS+kD,EAAcr2C,MAAQ,CAAC,GAAG1O,MAkBvC,OAbI6nD,GAAaV,EAAW,GAAKmJ,IAC7BC,EAAcD,EAAYt8B,WAAWnoB,MAAM,GAC3CkmD,EAAkBzB,GAGlBtwD,IAAUw9C,QACV0R,EAAU,IAAI07B,uBAAuB52D,EAAY+wB,EAAeoC,EAAU4K,EAAiBxB,IACnF1zD,QAAQsrB,QAAS,GAEzB6L,EAAWnyB,KAAKmyB,EAAW,IAC3Bk7B,EAAU,IAAI27B,iBAAiB72D,EAAY+wB,EAAeoC,EAAU4K,EAAiBxB,IAGlFrB,CACX,EAEA47B,EAAe/nF,UAAU0iD,oBAAsB,SAA8Bx+B,GACzE,OAAOA,EAAOy+B,eAAiBvI,IACnC,EAEO2tC,CACX,CArCqB,CAqCnBL,gBAEEM,aAAgB,SAAUtC,GAC1B,SAASsC,EAAalvF,EAAOgB,GACzB4rF,EAAa/kF,KAAKnB,KAAM1G,EAAO,KAAMgB,EACzC,CAUA,OARK4rF,IAAesC,EAAa/vF,UAAYytF,GAC7CsC,EAAahoF,UAAYjI,OAAOuN,OAAQogF,GAAgBA,EAAa1lF,WACrEgoF,EAAahoF,UAAUhE,YAAcgsF,EAErCA,EAAahoF,UAAUwqD,SAAW,WAC9B,OAAOhrD,KAAK2nC,UAChB,EAEO6gD,CACX,CAdmB,CAcjBtC,cAEFtiF,kBAAkB4kF,aAAc,CAC5B9iE,QAAS,CACL4E,SAAU,QAEd4J,OAAQ,CACJ9e,SAAU,MAIlB,IAAIqzE,mBAAsB,SAAU9mE,GAChC,SAAS8mE,EAAmBnuF,GACxBqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKqE,QAAU/J,EAAQ44B,IAAMw+B,eAAiBrtD,OAClD,CAiCA,OA/BKsd,IAAe8mE,EAAmBhwF,UAAYkpB,GACnD8mE,EAAmBjoF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WAC3EioF,EAAmBjoF,UAAUhE,YAAcisF,EAE3CA,EAAmBjoF,UAAUshB,OAAS,SAAiBrC,GACnD,IACInlB,EADM0F,KACQ1F,QACdsnB,EAFM5hB,KAES4hB,SACfgwC,EAAMt3D,EAAQs3D,IACd5zD,EAAU1D,EAAQ0D,QAClBtC,EAAQkmB,EAAS/nB,OACjBg4D,EAAQn2D,EAAQk2D,EAAO5zD,GAAWtC,EAAQ,GAC1Cw1C,EAAYzxB,EAAO/C,MAAQm1C,EAC3Bn1C,EAAQ+C,EAAOR,WAAaiyB,GAAa0gB,EAAM,GAEnD5xD,KAAKqE,QAAQud,GAAU,SAAUiC,GAC7B,IAAI6kE,EAAajpE,EAAO9iB,QACxB+rF,EAAWzpE,WAAavC,EACxBgsE,EAAWhsE,MAAQw0B,EAEfrtB,EAAMpE,SACNipE,EAAW/rE,OAASkH,EAAMpE,OAAO9C,QAGrCkH,EAAM/B,OAAO4mE,GACb7kE,EAAMpE,OAASipE,EAEfhsE,GAASw0B,EAAaA,EAAYlzC,CACtC,GACJ,EAEOyqF,CACX,CAvCyB,CAuCvB9mE,cAEF/d,kBAAkB6kF,mBAAoB,CAClC72B,IAAK,EACL5zD,QAAS,IAGb,IAAI2qF,iBAAoB,SAAUhnE,GAC9B,SAASgnE,IACLhnE,EAAahgB,MAAM3B,KAAMjD,UAC7B,CAuBA,OArBK4kB,IAAegnE,EAAiBlwF,UAAYkpB,GACjDgnE,EAAiBnoF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACzEmoF,EAAiBnoF,UAAUhE,YAAcmsF,EAEzCA,EAAiBnoF,UAAUshB,OAAS,SAAiBrC,GACjD,IACI8P,EADMvvB,KACQ1F,QAAQi1B,QACtB3N,EAFM5hB,KAES4hB,SACfW,EAAgBX,EAAS/nB,OACzB4Y,EAAQ8c,EAAUhN,EAAgB,EAAI,EACtC2S,EAAO3F,GAAW,EAAI,EAE1BvvB,KAAK8c,IAAM,IAAID,IAEf,IAAK,IAAIpiB,EAAIgY,EAAOhY,GAAK,GAAKA,EAAI8nB,EAAe9nB,GAAKy6B,EAAM,CACxD,IAAI0zD,EAAchnE,EAASnnB,GAAGglB,OAC9BmpE,EAAY3pE,WAAaQ,EAAOR,WAChC2pE,EAAYlsE,MAAQ+C,EAAO/C,KAC/B,CACJ,EAEOisE,CACX,CA3BuB,CA2BrBhnE,cAEEknE,cAAiB,SAAU52B,GAC3B,SAAS42B,IACL52B,EAAStwD,MAAM3B,KAAMjD,UACzB,CA0CA,OAxCKk1D,IAAW42B,EAAcpwF,UAAYw5D,GAC1C42B,EAAcroF,UAAYjI,OAAOuN,OAAQmsD,GAAYA,EAASzxD,WAC9DqoF,EAAcroF,UAAUhE,YAAcqsF,EAEtCA,EAAcroF,UAAUqkD,UAAY,WAChC,OAAO2jC,YACX,EAEAK,EAAcroF,UAAU0xD,YAAc,WAClC,OAAOu2B,kBACX,EAEAI,EAAcroF,UAAU2xD,UAAY,WAChC,OAAOw2B,gBACX,EAEAE,EAAcroF,UAAUmnD,aAAe,SAAuBzD,EAAcvc,GACxE,OAAOuc,EAAatsB,QAAQ+P,EAChC,EAEAkhD,EAAcroF,UAAUqnD,UAAY,SAAoBF,EAAcC,GAClE,IAAIztB,EAAOwtB,EAAahrD,QACpBzB,EAAIysD,EAAaxyC,OAAOja,EAK5B,OAHAi/B,EAAKxd,OAASzhB,EAAI0sD,EAAU9yC,GAC5BqlB,EAAKnb,YAAc9jB,EAAI0sD,EAAU5yC,GAE1BmlB,CACX,EAEA0uD,EAAcroF,UAAUwnD,YAAc,SAAsBlsC,EAAO+rC,GAC/D/rC,EAAM2D,OAASooC,EACf/rC,EAAMgG,QACV,EAEA+mE,EAAcroF,UAAUqiB,gBAAkB,WACtC7iB,KAAK1F,QAAQ0nB,UAAU7M,OAASnV,KAAK8c,IAAI0B,SAASrJ,SAClD88C,EAASzxD,UAAUqiB,gBAAgB1hB,KAAKnB,KAC5C,EAEO6oF,CACX,CA9CoB,CA8ClB52B,UAEF42B,cAAcroF,UAAUshB,OAASmiC,iBAAiBzjD,UAAUshB,OAE5Dle,kBAAkBilF,cAAe,CAC7Bz+C,MAAM,EACN8d,aAAa,EACblmC,UAAW,CACPne,KAAM,SAId,IAAIilF,cAAiB,SAAUjC,GAC3B,SAASiC,IACLjC,EAAkBllF,MAAM3B,KAAMjD,UAClC,CAoKA,OAlKK8pF,IAAoBiC,EAAcrwF,UAAYouF,GACnDiC,EAActoF,UAAYjI,OAAOuN,OAAQ+gF,GAAqBA,EAAkBrmF,WAChFsoF,EAActoF,UAAUhE,YAAcssF,EAEtCA,EAActoF,UAAUsmF,gBAAkB,WACtC,IAAI5iC,EAAe,IAAIhU,kBAAkBlwC,KAAK1F,QAAQ4pD,aAAclkD,KAAKqiB,cAEzEriB,KAAK0xC,UAAYwS,EACjBlkD,KAAKkkD,aAAeA,EACpBlkD,KAAKm7D,WAAWjX,GAChBlkD,KAAK8tE,sBACL9tE,KAAKukE,wBACLvkE,KAAK+tE,0BACT,EAEA+a,EAActoF,UAAUymF,iBAAmB,SAA2B9kC,GAelE,OAdIniD,KAAK+oF,eACLlsF,WAAWslD,EAAU,CACjB/pB,eAAgB,CAAEv0B,KAAM7O,KACxBmjC,eAAgB,CAAEt0B,KAAM7O,OAI5BgL,KAAKgpF,eACLnsF,WAAWslD,EAAU,CACjB/V,kBAAkB,EAClBlY,OAAQ,CAAExE,OAAQ,QAInB7yB,WAAWslD,EAAUniD,KAAK1F,QAAQsnC,UAC7C,EAEAknD,EAActoF,UAAUstE,oBAAsB,WAE1CP,oBAAoB/sE,UAAUstE,oBAAoB3sE,KAAKnB,KAAMA,KAAKg9D,MACtE,EAEA8rB,EAActoF,UAAUutE,yBAA2B,WAC/CR,oBAAoB/sE,UAAUutE,yBAAyB5sE,KAAKnB,KAAMA,KAAKg9D,MAC3E,EAEA8rB,EAActoF,UAAU0tE,aAAe,SAAuB1rB,GAE1D,OAAOA,CACX,EAEAsmC,EAActoF,UAAU8jE,iBAAmB,SAA2BhqE,EAASoqB,GAC3E,IAAI4nD,EAAYiB,oBAAoB/sE,UAAU8jE,iBAAiBnjE,KAAKnB,KAAM1F,EAASoqB,GAKnF,OAJI4nD,IACAA,EAAUzoE,KAAO04C,YAGd+vB,CACX,EAEAwc,EAActoF,UAAUwtE,aAAe,WACnC,IAAItpD,EAAS1kB,KAAKg/D,oBAAoBh/D,KAAK0kB,QACvC8S,EAAOx3B,KAAKg9D,MAAM,GAEtBh9D,KAAK2uE,gBACDrsB,mBAAmB59B,EAAQ,CAAE23B,aAC7B7kB,GAGJx3B,KAAKovE,gBACD9sB,mBAAmB59B,EAAQ,CAAE63B,aAC7B/kB,GAGJx3B,KAAK6uE,eACDvsB,mBAAmB59B,EAAQ,CAAE43B,eAC7B9kB,EAER,EAEAsxD,EAActoF,UAAUyoF,aAAe,SAAuBvkE,GAC1D,IAAIpqB,EAAU,CAAEoqB,OAAQA,GACpB8rD,EAAc9rD,EAAO,GACzB,GAAI8rD,EAAa,CACb,IAAIiP,EAAiBz/E,KAAKg/D,oBAAoBt6C,GAC1C0+B,EAAQotB,EAAYptB,MACxB9oD,EAAQgrD,UAAYlC,GAASq8B,EAAe5lF,OAAS,EACrDS,EAAQ0qD,aAAe5B,GAAwB,SAAfA,EAAMv/C,MAAmB47E,EAAe5lF,OAAS,EAE7ES,EAAQ0qD,eACRhlD,KAAKgpF,eAAgB,EAE7B,CAEA,OAAO1uF,CACX,EAEAwuF,EAActoF,UAAUmuE,gBAAkB,SAA0BjqD,EAAQ8S,GACxE,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAIg3E,EAAY,IAAI0X,eAAevoF,KAAMA,KAAKipF,aAAavkE,IAC3D1kB,KAAKq7D,YAAYwV,EAAWr5C,EAH5B,CAIJ,EAEAsxD,EAActoF,UAAU4uE,gBAAkB,SAA0B1qD,EAAQ8S,GACxE,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI+2E,EAAY,IAAIsX,eAAeloF,KAAMA,KAAKipF,aAAavkE,IAC3D1kB,KAAKq7D,YAAYuV,EAAWp5C,EAH5B,CAIJ,EAEAsxD,EAActoF,UAAUquE,eAAiB,SAAyBnqD,EAAQ8S,GACtE,GAAsB,IAAlB9S,EAAO7qB,OAAX,CAIA,IAAI22E,EAAc9rD,EAAO,GACrBpqB,EAAU0F,KAAKipF,aAAavkE,GAC5B+6D,EAAiBz/E,KAAKg/D,oBAAoBt6C,GAC1CyrD,EAAmBsP,EAAe5Z,MAAK,SAAUh5D,GAAK,OAAOA,EAAEu2C,KAAO,IACtE4B,EAAey6B,EAAe5Z,MAAK,SAAUh5D,GAAK,OAAOA,EAAEu2C,OAA0B,SAAjBv2C,EAAEu2C,MAAMv/C,IAAiB,IACjGvJ,EAAQs3D,IAAM4e,EAAY5e,IAC1Bt3D,EAAQ0D,QAAUwyE,EAAYxyE,QAC9B1D,EAAQorD,aAAe8qB,EAAYptB,OAASq8B,EAAe5lF,OAAS,EACpES,EAAQgrD,UAAY6qB,GAAoBsP,EAAe5lF,OAAS,EAChES,EAAQ0qD,aAAeA,GAAgBy6B,EAAe5lF,OAAS,EAE/D,IAAI42E,EAAW,IAAIoY,cAAc7oF,KAAM1F,GACvC0F,KAAKq7D,YAAYoV,EAAUj5C,GAE3Bx3B,KAAK+oF,eAAgB,CAhBrB,CAiBJ,EAEAD,EAActoF,UAAU2jD,mBAAqB,WACzC,OAAOnkD,KAAKkkD,YAChB,EAEA4kC,EAActoF,UAAUylE,eAAiB,SAAyBhzC,EAAOjxB,EAAG6vE,GACxE,IAAIxmB,EAASp4B,EAAM6+C,kBAAkB9vE,GACjC8Z,EAAQ,IAAIH,QAAQ0vC,EAAOpwD,EAAGowD,EAAOnwD,GACrCvG,EAAWqL,KAAKkkD,aAAa5gB,YAAYxnB,GACzCxiB,EAAQ0G,KAAK4hC,UAAUkK,SAAShwB,GAEnB,OAAbnnB,GAA+B,OAAV2E,GACrB25B,EAAM5xB,QAAQwwE,EAAW,CACrBp4E,QAASyJ,aAAalB,GACtBrN,SAAUA,EACV2E,MAAOA,GAGnB,EAEAwvF,EAActoF,UAAUo8D,iBAAmB,WAA8B,EAEzEksB,EAActoF,UAAUwkE,kBAAoB,SAA4BW,GACpE,OAAOkhB,EAAkBrmF,UAAUwkE,kBAAkB7jE,KAAKnB,KAAM2lE,GAAWhlD,KAAK3gB,KAAKqyE,sBACzF,EAEAyW,EAActoF,UAAU6xE,oBAAsB,WAC1C,OAAO,SAAU3lE,EAAG/D,GAAK,OAAOA,EAAErP,MAAQoT,EAAEpT,KAAO,CACvD,EAEOwvF,CACX,CAxKoB,CAwKlBjC,mBAEFhqF,WAAWisF,cAActoF,UAAWwlE,oBAAqB,CACrD3K,YAAakS,oBAAoB/sE,UAAU66D,YAC3CgT,gBAAiBd,oBAAoB/sE,UAAU6tE,gBAC/CqB,mBAAoBnC,oBAAoB/sE,UAAUkvE,mBAClDtE,aAAcmC,oBAAoB/sE,UAAU4qE,eAGhDxnE,kBAAkBklF,cAAe,CAC7B5kC,aAAc,CACVhjB,WAAY,IAEhBU,UAAW,CAAC,IAGhB,IAAIsnD,cAAiB,SAAUvnE,GAC3B,SAASunE,EAAc5vF,EAAOgB,EAASwoF,GACnCnhE,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAK1G,MAAQA,EACb0G,KAAK1F,QAAQmB,MAAQqnF,EAAernF,KACxC,CAiJA,OA/IKkmB,IAAeunE,EAAczwF,UAAYkpB,GAC9CunE,EAAc1oF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACtE0oF,EAAc1oF,UAAUhE,YAAc0sF,EAEtCA,EAAc1oF,UAAU+oD,aAAe,SAAuBjvD,GAC1D,IAAI29B,EAAgBx5B,cAAcnE,GAElC,OAAI29B,EACOA,EAAcj4B,KAAKmoB,aACnB7tB,EAAQo1B,OACR1vB,KAAKwpD,YAAYlvD,EAAQo1B,QAG7B1vB,KAAK1G,KAChB,EAEA4vF,EAAc1oF,UAAUshB,OAAS,SAAiBqnE,GAC9C,IAAIrrE,EAAS9d,KAAK8d,OACdmT,EAAQjxB,KAAK4hB,SAAS,GACtBhN,EAAKxS,KAAKmF,IAAIuW,EAAO,GAAG7iB,EAAG6iB,EAAO,GAAG7iB,GACrC8Z,EAAK3S,KAAKC,IAAIyb,EAAO,GAAG7iB,EAAG6iB,EAAO,GAAG7iB,GAEzC+E,KAAK8c,IAAM,IAAID,IAAIjI,EAAIkJ,EAAO,GAAG5iB,EAAG6Z,EAAI+I,EAAO,GAAG5iB,GAE9C+1B,GACAA,EAAMnP,OAAO,IAAIjF,IAAIssE,EAASv0E,GAAIkJ,EAAO,GAAG5iB,EAAGiuF,EAASp0E,GAAI+I,EAAO,GAAG5iB,GAE9E,EAEAguF,EAAc1oF,UAAUkiB,aAAe,WACnC,IAGIK,EAHA9P,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QAGnBqnB,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK4nB,sCAGD7E,EADAzoB,EAAQyoB,OACCzoB,EAAQyoB,OAAO,CACpBpuB,SAAUqL,KAAKrL,SACfgwB,SAAU3kB,KAAK2kB,SACfrrB,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OACbE,WAAY5kB,KAAK4kB,WACjB9G,OAAQ9d,KAAK8d,OACbxjB,QAASA,EACTuY,OAAQ7S,KAAKkiB,YACbQ,aAAc,WAAc,OAAOzP,EAASm2E,YAAc,IAGrDppF,KAAKopF,eAIdppF,KAAK+iB,OAAOpgB,OAAOogB,EAE3B,EAEAmmE,EAAc1oF,UAAU4oF,WAAa,WACjC,IAAI9uF,EAAU0F,KAAK1F,QACfgrB,EAAShrB,EAAQgrB,OAarB,OAZWvyB,OAAOw1B,WAAWvoB,KAAK8d,OAAQ,CACtC0G,KAAMmC,kBAAkBrsB,EAAQusB,QAAS,CACrC9d,MAAOzO,EAAQyO,MACfqb,QAAS9pB,EAAQ8pB,UAErB7pB,OAAQ,CACJwO,MAAOuc,EAAOvc,MACdqb,QAASkB,EAAOlB,QAChB5pB,MAAO8qB,EAAO9qB,SAEnB+mB,OAGP,EAEA2nE,EAAc1oF,UAAUyjB,gBAAkB,SAA0BxmB,GAChE,OAAO1K,OAAOw1B,WAAWvoB,KAAK8d,OAAQrgB,EAC1C,EAEAyrF,EAAc1oF,UAAU4pD,gBAAkB,WACtC,OAAOpqD,KAAK+iB,OAAOnB,SAAS,EAChC,EAEAsnE,EAAc1oF,UAAUikB,oBAAsB,WAC1C,IAAIrqB,EAAOrH,OAAOw1B,WAAWvoB,KAAK8d,QAAQyD,QAE1C,MAAO,CACHjnB,QAAS0F,KAAK1F,QACdF,KAAMA,EAEd,EAEA8uF,EAAc1oF,UAAU+kB,qBAAuB,SAA+B9nB,GAC1E,IAAIypB,EAAclnB,KAAK1F,QAAQ0qB,cAAchB,UAAUsB,OAAO9qB,MAC1DoB,EAAS7I,OAAOw1B,WAAWvoB,KAAK8d,OAAQjhB,WAAW,CAAC,EAAGY,EAAO,CAC9DlD,OAAQ,CACJC,MAAqB,EAAd0sB,MAEX3F,QAEAmsC,EAAW,IAAIj6D,UAOnB,OALAi6D,EAASwV,MAAM5jE,KAAKvM,OAAOy0B,SAASxnB,KAAK8c,IAAIngB,QAAQ+gB,IAAIwJ,GAAa1I,WACtEkvC,EAASwV,MAAM5jE,KAAKvM,OAAOw1B,WAAWvoB,KAAK8d,SAE3CliB,EAAOwuC,KAAKsjB,GAEL9xD,CACX,EAEAstF,EAAc1oF,UAAU+pD,cAAgB,WACpC,IAAIztC,EAAM9c,KAAK8c,IACf,MAAO,CACHhB,MAAO,IAAIH,QAAQmB,EAAI3H,SAASla,EAAG6hB,EAAIhI,IACvC4J,MAAO,CACHisC,WAAY,SACZ5/B,SAAU,OAGtB,EAEAm+D,EAAc1oF,UAAUgpD,YAAc,SAAsB95B,GAExD,OADY1vB,KACCknD,MAAMyB,iBADP3oD,KAC+B0vB,EAC/C,EAEAw5D,EAAc1oF,UAAU2nB,UAAY,WAChC,MAAO,CACHxD,SAAU3kB,KAAK2kB,SACfhwB,SAAUqL,KAAKrL,SACf2E,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OACbE,WAAY5kB,KAAK4kB,WAEzB,EAEAskE,EAAc1oF,UAAUwqD,SAAW,WAC/B,OAAOhrD,KAAKvE,KAChB,EAEOytF,CACX,CAxJoB,CAwJlBvnE,cAEF/d,kBAAkBslF,cAAe,CAC7BngF,MAAOjR,QACPwtB,OAAQ,CACJ9qB,MAAO,GAEX05B,OAAQ,CACJxE,OAAQ,IAEZ1K,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,gCAI7BviD,WAAWqsF,cAAc1oF,UAAWooD,kBACpC/rD,WAAWqsF,cAAc1oF,UAAWuwD,8BAEpC,IAAIs4B,YAAe,SAAU1nE,GACzB,SAAS0nE,EAAYhyD,EAAU/8B,GAC3BqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKq3B,SAAWA,EAChBr3B,KAAKqiB,aAAegV,EAAShV,aAC7BriB,KAAK8d,OAAS,GACd9d,KAAKk0B,OAAS,GACdl0B,KAAKoiF,YAAc,GACnBpiF,KAAK+wB,QACT,CA0PA,OAxPKpP,IAAe0nE,EAAY5wF,UAAYkpB,GAC5C0nE,EAAY7oF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACpE6oF,EAAY7oF,UAAUhE,YAAc6sF,EAEpCA,EAAY7oF,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACvE,OAAO1vB,KAAKq3B,SAAShV,aAAaqN,OAAO0B,KAAK1B,EAAO5T,EAAMxiB,MAC/D,EAEA+vF,EAAY7oF,UAAUuwB,OAAS,WAC3B,IAAI9d,EAAWjT,KAIX1F,EADM0F,KACQ1F,QACdioF,EAFMviF,KAEaq3B,SAAS/8B,QAAQioF,kBAAoC,IAAjBA,IAA0BA,EAAe,IACpG,IAAI79D,EAASpqB,EAAQoqB,OAJN,GAKX9Y,EAAO8Y,EAAO9Y,KAElB,GAAKA,EAQL,IAJA,IAAI4f,EAAQq2B,aAAan9B,GACrBI,EAAQ0G,EAAM1G,MACdhH,EAAS0N,EAAM1N,OAEVrjB,EAAI,EAAGA,EAAIqjB,EAAOjkB,OAAQY,IAAK,CACpC,IAAI0tB,EAAYrK,EAAOrjB,GAEvB,GAAK0tB,EAAL,CAIA,IAAIhpB,EAASgpB,EAAUhpB,OAElBrD,WAAW4oB,EAAO3b,SACnB2b,EAAO3b,MAAQ5J,EAAO4J,OAASw5E,EAAa9nF,EAAI8nF,EAAa1oF,SAGjEsF,EAAStC,WAAW,CAChBpB,MAAOhB,EACPysD,MAAOj0C,EACPyR,OAAQA,EACRkgC,SAhCO,EAiCPjgC,SAAU/Y,EAAKnR,GACfmqB,WAAYuD,EAAU7uB,MAAQwrB,GAC/B3lB,EAAQ,CAAEsjB,QAAS0F,EAAU1F,UAEhC,IAAInpB,EAAQ6uB,EAAU8uB,YAAY39C,MAC9BqzD,EAAU15C,EAASw5C,cAAcnzD,EAAO6F,GACxC8xB,EAAQhe,EAASw3B,YAAYnxC,EAAO6F,GAEpCwtD,GAAW17B,GACX07B,EAAQhqD,OAAOsuB,EAtBnB,CAwBJ,CACJ,EAEAo4D,EAAY7oF,UAAUqiF,mBAAqB,SAA6BvoF,EAAShB,EAAO6F,GACpF,IAAIulB,EAASvlB,EAAOulB,OAEpBu9B,YAAY3nD,EAAS,CACjBhB,MAAOA,EACPorB,OAAQA,EACRC,SAAUxlB,EAAOwlB,SACjBlpB,MAAO0D,EAAO1D,OACf,CAAE0mD,SAAUz9B,EAAO2iC,UAAWhF,SAAU,CACvC,OAAQ,UAAW,WAAY,SAAU,SACzC,eAAgB,gBAExB,EAEAgnC,EAAY7oF,UAAUisD,cAAgB,SAAwBnzD,EAAO6F,GACjE,IAAIolD,EAAgB1nD,WAAW,CAAC,EAAGsC,EAAOulB,QAO1C,GANA6/B,EAAc19B,QAAU1nB,EAAO0nB,SAAW09B,EAAc19B,QAExD7mB,KAAK6iF,mBAAmBt+B,EAAejrD,EAAO6F,GAE9Ca,KAAKiiF,iBAAiB3oF,EAAOirD,EAAeplD,IAErB,IAAnBA,EAAOsjB,QAAmB,CAE1B,IAAIkqC,EAAU,IAAIu8B,cAAc5vF,EAAOirD,EAAeplD,GAMtD,OALA5G,OAAO4a,OAAOw5C,EAASxtD,GAEvBa,KAAK2C,OAAOgqD,GACZ3sD,KAAK8d,OAAOxe,KAAKqtD,GAEVA,CACX,CACJ,EAEA08B,EAAY7oF,UAAUiqC,YAAc,SAAsBnxC,EAAO6F,GAC7D,IAAIulB,EAASvlB,EAAOulB,OAChBC,EAAWxlB,EAAOwlB,SAClBuP,EAASr3B,WAAW,CAAC,EAAGmD,KAAK1F,QAAQ45B,OAAQxP,EAAOwP,QACpDpG,EAAOx0B,EAEX,GAAI46B,EAAOzR,QAAS,CAChB,IAAIwV,EAAgBx5B,cAAcy1B,GAC9BtoB,EAAO,CACP+Y,SAAUA,EACVrrB,MAAOA,EACPsrB,WAAYzlB,EAAOylB,WACnBjwB,SAAUwK,EAAOxK,SACjB+vB,OAAQA,GAERuT,EACAnK,EAAOmK,EAAcrsB,GACdsoB,EAAOxE,SACd5B,EAAO9tB,KAAKqiB,aAAaqN,OAAO0B,KAAK8C,EAAOxE,OAAQ5B,IAGnDoG,EAAOnrB,QACRmrB,EAAOnrB,MAAQD,cAAc4b,EAAO3b,OAC/BmrB,EAAO9O,aACR8O,EAAO9O,WAAaV,EAAO3b,QAInC/I,KAAK6iF,mBAAmB3uD,EAAQ56B,EAAO6F,GACvC,IAAIyxD,EAAU,IAAIvjC,QAAQS,EAAMjxB,WAAW,CACvCuqB,OAAQ8M,EAAOpF,UAChBoF,GAAStoB,GAIZ,OAFA5L,KAAKk0B,OAAO50B,KAAKsxD,GAEVA,CACX,CACJ,EAEAy4B,EAAY7oF,UAAU8oF,aAAe,WAIjC,IAHA,IAAIp1D,EAASl0B,KAAKk0B,OACdvW,EAAU,CAAEvf,KAAM,EAAGF,MAAO,GAEvBzD,EAAI,EAAGA,EAAIy5B,EAAOr6B,OAAQY,IAAK,CACpC,IACIikB,EADQwV,EAAOz5B,GACDH,QAAQokB,MAC1B,GAAIA,IAAUhpB,OAAQ,CAClB,IAAI8E,EAAQ05B,EAAOz5B,GAAGqiB,IAAItiB,QAEtBkkB,IAAU/nB,KACVgnB,EAAQvf,KAAOgE,KAAKC,IAAIsb,EAAQvf,KAAM5D,GAEtCmjB,EAAQzf,MAAQkE,KAAKC,IAAIsb,EAAQzf,MAAO1D,EAEhD,CACJ,CAEA,OAAOmjB,CACX,EAEA0rE,EAAY7oF,UAAU+oF,mBAAqB,SAA6BzsE,EAAKtiB,EAAOgvF,GAQhF,IAPA,IACIlvF,EADM0F,KACQ1F,QACdI,EAFMsF,KAES8d,OACfpiB,EAAQhB,EAASb,OACjB4vF,EAAe/uF,EAAS,GACxBgvF,EAAaD,EAER7vF,EAAM,EAAGA,EAAMc,EAASb,OAAQD,IACjCc,EAASd,GAAKgrB,WAAa8kE,EAAW9kE,aACtC8kE,EAAahvF,EAASd,IAQ9B,IAJA,IAAI+vF,EAAiBF,EAAa7kE,WAAa8kE,EAAW9kE,WAAcpqB,EACpEovF,GAAkBpvF,EAAQmvF,GAAiB,EAC3CE,EAAiB,EAEZ3vD,EAAQ,EAAGA,EAAQx+B,EAAOw+B,IAAS,CACxC,IAAItV,EAAalqB,EAASw/B,GAAOtV,WAC7BklE,EAAcpvF,EAASw/B,EAAQ,GAC/B6vD,EAAkBD,EAAcA,EAAYllE,WAAaA,EACzD9G,EAASpjB,EAASw/B,GAAOpc,OAAS,GAClCnS,EAAUrR,EAAqB,cAAKkvF,EAAc5kE,EAAe4kE,EAAc9tF,EAC/ErB,OAAS,EAQbA,EAASgJ,WAHLhJ,EAHCuqB,GAGSpqB,EAAQmvF,GAAiBI,EAAiBnlE,IAAe,EAF1DmlE,EAAiB,EAAIvvF,EAAQ,EAKd,EAAGA,GAE/BsjB,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKg1E,EAAgB9sE,EAAIhI,GAAK+0E,IAC1D/rE,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKpa,EAAQovF,EAAgB9sE,EAAIhI,GAAK+0E,IAClE/rE,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKpa,EAAQH,EAAQyiB,EAAIhI,GAAKnJ,EAASk+E,IACnE/rE,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKva,EAAQyiB,EAAIhI,GAAKnJ,EAASk+E,IAE3DD,EAAiBvvF,EACjBwvF,GAAkBl+E,EAASrR,EAAQ0vF,eACnCL,EAAgBtmF,WAAW7I,EAAQ,EAAIH,EAAQ,EAAGG,EACtD,CACJ,EAEA6uF,EAAY7oF,UAAUypF,oBAAsB,SAA8BntE,EAAKtiB,EAAOgvF,GAYlF,IAXA,IACIlvF,EADM0F,KACQ1F,QACdI,EAFMsF,KAES8d,OACfpiB,EAAQhB,EAASb,OACjBqwF,EAAkB5vF,EAAQ6vF,WAAa,EACvCA,EAAYD,EAAkB5vF,EAAQ6vF,UAAY3vF,EAAQA,EAC1DovF,EAAiBM,EAAkB,GAAK1vF,EAAQA,EAAQF,EAAQ6vF,WAAa,EAE7EC,IADeF,EAAkB1vF,EAAQA,EAAyB,EAAjBovF,GACnBO,GAAa,EAC3CN,EAAiB,EAEZjwF,EAAM,EAAGA,EAAM8B,EAAO9B,IAAO,CAClC,IAAIkkB,EAASpjB,EAASd,GAAKkkB,OAAS,GAChC8G,EAAalqB,EAASd,GAAKgrB,WAC3BvqB,EAAUC,EAAqB,cAAK8vF,EAAcxlE,EAAewlE,EAAc1uF,EAC/EiQ,EAAUrR,EAAqB,cAAKkvF,EAAc5kE,EAAe4kE,EAAc9tF,EAEnFoiB,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKg1E,EAAgB9sE,EAAIhI,GAAK+0E,IAC1D/rE,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKpa,EAAQovF,EAAgB9sE,EAAIhI,GAAK+0E,IAClE/rE,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKpa,EAAQovF,EAAiBvvF,EAAQyiB,EAAIhI,GAAKnJ,EAASk+E,IACpF/rE,EAAOxe,KAAK,IAAIzM,QAAQiqB,EAAIlI,GAAKg1E,EAAiBvvF,EAAOyiB,EAAIhI,GAAKnJ,EAASk+E,IAC3ED,GAAkBvvF,EAClBwvF,GAAkBl+E,EAASrR,EAAQ0vF,cACvC,CACJ,EAEAX,EAAY7oF,UAAUshB,OAAS,SAAiBqnE,GAC5C,IAAIrrE,EAAS9d,KAAK8d,OACdpiB,EAAQoiB,EAAOjkB,OAEnB,GAAK6B,EAAL,CAIA,IAAIpB,EAAU0F,KAAK1F,QACfwiB,EAAMqsE,EAASxsF,QAAQihB,MAAM5d,KAAKspF,gBAClCE,EAAc1sE,EAAInR,SAAWrR,EAAQ0vF,gBAAkBtuF,EAAQ,GAC/DlB,EAAQsiB,EAAItiB,QAEZF,EAAQ+vF,aACRrqF,KAAKupF,mBAAmBzsE,EAAKtiB,EAAOgvF,GAEpCxpF,KAAKiqF,oBAAoBntE,EAAKtiB,EAAOgvF,GAGzC,IAAK,IAAI5vF,EAAM,EAAGA,EAAM8B,EAAO9B,IAC3BkkB,EAAOlkB,GAAKkoB,OAAOqnE,EAdvB,CAgBJ,EAEOE,CACX,CArQkB,CAqQhB1nE,cAEF/d,kBAAkBylF,YAAa,CAC3Bc,UAAW,GACX3vF,MAAO,IACP6vF,cAAc,EACdC,eAAe,EACfN,eAAgB,EAChB91D,OAAQ,CACJzR,SAAS,EACT/D,MAAOhpB,OACPo5B,SAAUp5B,OACVwtB,OAAQ,KAIhBrmB,WAAWwsF,YAAY7oF,UAAWwhF,eAElC,IAAIuI,eAAiB,IAEjBC,aAAgB,SAAUnB,GAC1B,SAASmB,EAAanzD,EAAU/8B,GAC5BA,EAAQ+vF,cAAe,EACvB/vF,EAAQ6vF,UAAYI,eAEpBlB,EAAYloF,KAAKnB,KAAMq3B,EAAU/8B,EACrC,CAMA,OAJK+uF,IAAcmB,EAAa/xF,UAAY4wF,GAC5CmB,EAAahqF,UAAYjI,OAAOuN,OAAQujF,GAAeA,EAAY7oF,WACnEgqF,EAAahqF,UAAUhE,YAAcguF,EAE9BA,CACX,CAbmB,CAajBnB,aAEEoB,eAAkB,SAAUruB,GAC5B,SAASquB,IACLruB,EAAaz6D,MAAM3B,KAAMjD,UAC7B,CA+CA,OA7CKq/D,IAAequB,EAAehyF,UAAY2jE,GAC/CquB,EAAejqF,UAAYjI,OAAOuN,OAAQs2D,GAAgBA,EAAa57D,WACvEiqF,EAAejqF,UAAUhE,YAAciuF,EAEvCA,EAAejqF,UAAUuwB,OAAS,WAC9B/wB,KAAK0qF,YAAYrB,YAAa/mC,mBAAmBtiD,KAAK0kB,OAAQ,CAAEi3B,UAChE37C,KAAK0qF,YAAYF,aAAcloC,mBAAmBtiD,KAAK0kB,OAAQ,CAAEk3B,UACrE,EAEA6uC,EAAejqF,UAAUkqF,YAAc,SAAsBC,EAAWjmE,GACpE,IAAI8rD,EAAc9rD,EAAO,GACzB,GAAK8rD,EAAL,CAIA,IAAIv9C,EAAQ,IAAI03D,EAAU3qF,KAAM,CAC5B0kB,OAAQA,EACR43C,OAAQt8D,KAAK1F,QAAQgiE,OACrB6tB,UAAW3Z,EAAY2Z,UACvBG,cAAe9Z,EAAY8Z,cAC3BD,aAAc7Z,EAAY6Z,aAC1BL,eAAgBxZ,EAAYwZ,eAC5BhmE,UAAWwsD,EAAYxsD,YAG3BhkB,KAAKq7D,YAAYpoC,EAZjB,CAaJ,EAEAw3D,EAAejqF,UAAU66D,YAAc,SAAsBpoC,EAAOuE,GAChE4kC,EAAa57D,UAAU66D,YAAYl6D,KAAKnB,KAAMizB,EAAOuE,GACrD70B,OAAO3C,KAAK1F,QAAQgiE,OAAO1wD,KAAMqnB,EAAMmvD,YAC3C,EAEAqI,EAAejqF,UAAUwkE,kBAAoB,SAA4BW,GACrE,OAAO3lE,KAAKujE,oBAAoBoC,EAAUjhD,OAAOjpB,MACrD,EAEAgvF,EAAejqF,UAAU0kE,mBAAqB,SAA6BppD,GACvE,OAAO9b,KAAK8kE,cAAchpD,EAC9B,EAEA2uE,EAAejqF,UAAU4kE,kBAAoB,SAA4BtpD,GACrE,OAAO9b,KAAKilE,cAAcnpD,EAC9B,EAEO2uE,CACX,CAnDqB,CAmDnBruB,cAGEwuB,WAAa,SAAU7hF,EAAO8hF,QACF,IAAvBA,IAAgCA,EAAqB,KAE1D,IAAIt5B,EAAYr9D,WAAW6U,GACvB1O,EAAS,EAAIwwF,EAEjB,OAAO,SAAUvxF,GACb,IAAIwxF,EAAMv5B,EAAUw5B,QAChB11D,EAAQ,IAAMy1D,EAAIE,EAClBlvE,EAAQzhB,EAASf,EAGrB,OAFAwxF,EAAIE,GAAK5oF,KAAKmF,IAAIuU,EAAQuZ,EAAOA,GAE1By1D,EAAIG,OACf,CACJ,EAEIC,aAAgB,SAAUvpE,GAC1B,SAASupE,EAAa5xF,EAAOgB,GACzBqnB,EAAaxgB,KAAKnB,MAElBA,KAAK1F,QAAUA,EACf0F,KAAK+I,MAAQzO,EAAQyO,OAASjR,QAC9BkI,KAAK1G,MAAQA,CACjB,CAqPA,OAnPKqoB,IAAeupE,EAAazyF,UAAYkpB,GAC7CupE,EAAa1qF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrE0qF,EAAa1qF,UAAUhE,YAAc0uF,EAErCA,EAAa1qF,UAAUuwB,OAAS,WACxB/wB,KAAKopD,YAITppD,KAAKopD,WAAY,EAEjBppD,KAAKqpD,eACLrpD,KAAKyqC,cACLzqC,KAAK+oD,aACT,EAEAmiC,EAAa1qF,UAAUiqC,YAAc,WACjC,IACIvW,EADUl0B,KAAK1F,QACE45B,OAEjBA,EAAOzR,UACPziB,KAAKixB,MAAQjxB,KAAKspD,mBAAmBp1B,GACrCl0B,KAAK2C,OAAO3C,KAAKixB,OAEzB,EAEAi6D,EAAa1qF,UAAU8oD,mBAAqB,SAA6BhvD,GACrE,IAAI6wF,EAAa7wF,EAAQyO,MAMzB,OAJKoiF,IACDA,EAAariF,cAAc9I,KAAK+I,QAG7B,IAAIskB,QAAQrtB,KAAKupD,aAAajvD,GACjCuC,WAAW,CACP6hB,MAAOhpB,OACP0xB,OAAQ1xB,OACRqxB,OAAQ,CACJ3oB,KAAM,EACNF,MAAO,GAEXglB,OAAQxf,eAAepJ,EAAQ4oB,OAAQljB,KAAK0kB,OAAOxB,SAEvD5oB,EAAS,CACLyO,MAAOoiF,IAEXnrF,KAAKmoB,YAEb,EAEA+iE,EAAa1qF,UAAU+oD,aAAe,SAAuBjvD,GACzD,IAAI29B,EAAgBx5B,cAAcnE,GAElC,OAAI29B,EACOA,EAAcj4B,KAAKmoB,aAGvBnoB,KAAKwpD,YAAYlvD,EAAQo1B,OACpC,EAEAw7D,EAAa1qF,UAAUgpD,YAAc,SAAsB95B,GACvD,OAAO1vB,KAAKknD,MAAMyB,iBAAiB3oD,KAAM0vB,EAC7C,EAEAw7D,EAAa1qF,UAAUshB,OAAS,SAAiB9E,GAC7Chd,KAAK+wB,SAEL,IAAIE,EAAQjxB,KAAKixB,MAEjBjxB,KAAK8c,IAAME,EAEPiU,GACAA,EAAMnP,OAAO9hB,KAAK6pD,aAGlB7pD,KAAKi2B,MACLj2B,KAAKi2B,KAAKnU,OAAO9E,GAGrBhd,KAAKsxB,OAAOxP,OAAO9hB,KAAK6pD,YAC5B,EAEAqhC,EAAa1qF,UAAUkiB,aAAe,WAClCf,EAAanhB,UAAUkiB,aAAavhB,KAAKnB,MAEzCA,KAAK4nB,oCACT,EAEAsjE,EAAa1qF,UAAUqpD,UAAY,WAC/B,IACIV,EADUnpD,KAAK1F,QACG6uD,QAClB7jC,EAAS6jC,EAAQ7jC,OACjBmD,EAAOzoB,KAAK8c,IAAI0B,SAEhB4sE,EADO1nF,eAAeylD,EAAQtlD,KAAM,UACbvM,aACvB4vB,EAAcxjB,eAAe4hB,EAAO9qB,MAAO4wF,EAAc,EAAI,GAC7DC,EAAkBjpF,KAAKxH,MAAMssB,EAAc,GAE/C,GAAIiiC,EAAQ3jD,KAAM,CACd,IAAI2P,EAASsT,EAAKtT,SAClBsT,EAAKjjB,KAAKhL,MAAQiuB,EAAKjjB,KAAKmG,OAASw9C,EAAQ3jD,KAC7CijB,EAAKyE,OAAOjyB,EAAImH,KAAKxH,MAAMua,EAAOla,EAAIwtB,EAAKjjB,KAAKhL,MAAQ,GACxDiuB,EAAKyE,OAAOhyB,EAAIkH,KAAKxH,MAAMua,EAAOja,EAAIutB,EAAKjjB,KAAKmG,OAAS,EAC7D,CAOA,OALA8c,EAAKjjB,KAAKhL,OAAS0sB,EACnBuB,EAAKjjB,KAAKmG,QAAUub,EACpBuB,EAAKyE,OAAOhyB,GAAKmwF,EAAkB,GACnC5iE,EAAKyE,OAAOjyB,GAAKowF,EAAkB,GAE5Bp+D,UAAUxE,EACrB,EAEAyiE,EAAa1qF,UAAUkpD,aAAe,WAClC,IAAIpvD,EAAU0F,KAAK1F,QAEfgrB,EADUhrB,EAAQ6uD,QACD7jC,OACjBlB,EAAU1gB,eAAe4hB,EAAOlB,QAAS9pB,EAAQ8pB,SAErD,MAAO,CACHrb,MAAOuc,EAAOvc,OAAS/I,KAAK+I,MAC5BvO,MAAO8qB,EAAO9qB,MACd4pB,QAASA,EACTsD,SAAUpC,EAAOoC,SAEzB,EAEAwjE,EAAa1qF,UAAU6oD,aAAe,WAClC,IAAI/uD,EAAU0F,KAAK1F,QACfgwD,EAAgBhwD,EAAQ6uD,QACxB73B,EAAS,IAAIpJ,aAAa,CAC1BrkB,KAAMH,eAAe4mD,EAAczmD,KAAM,QACzCrJ,MAAO8vD,EAAc9kD,KACrBmG,OAAQ2+C,EAAc9kD,KACtB0Y,SAAUosC,EAAcpsC,SACxBkH,WAAYplB,KAAK+I,MACjBuc,OAAQtlB,KAAK0pD,eACb7iC,QAASvsB,EAAQusB,QACjB6B,aAAc4hC,EAAc5hC,aAC5BtE,QAASpkB,KAAK0kB,OAAON,SAAW9pB,EAAQ8pB,QACxClB,OAAQxf,eAAepJ,EAAQ4oB,OAAQljB,KAAK0kB,OAAOxB,QACnDlB,UAAW1nB,EAAQ0nB,UACnBe,OAAQzoB,EAAQyoB,QACjB,CACC4B,SAAU3kB,KAAK2kB,SACfrrB,MAAO0G,KAAK1G,MACZorB,OAAQ1kB,KAAK0kB,OACb/vB,SAAUqL,KAAKrL,WAGnBqL,KAAKsxB,OAASA,EACdtxB,KAAK2C,OAAO2uB,EAChB,EAEA45D,EAAa1qF,UAAUyjB,gBAAkB,SAA0BxmB,GAC/D,IAAInD,EAAU0F,KAAK1F,QACfgwD,EAAgBtqD,KAAK1F,QAAQ0pB,UAAUmlC,SAAWnpD,KAAK1F,QAAQ6uD,QAE/DnlC,EAAY,IAAIkE,aAAa,CAC7BrkB,KAAMH,eAAe4mD,EAAczmD,KAAM,QACzCrJ,MAAO8vD,EAAc9kD,KACrBmG,OAAQ2+C,EAAc9kD,KACtB0Y,SAAUosC,EAAcpsC,SACxBkH,WAAYklC,EAAcvhD,OAAS/I,KAAK+I,MACxCuc,OAAQtlB,KAAK0pD,eACbhhC,aAAc4hC,EAAc5hC,aAC5BtE,QAASpkB,KAAK0kB,OAAON,SAAW9pB,EAAQ8pB,QACxClB,OAAQxf,eAAepJ,EAAQ4oB,OAAQljB,KAAK0kB,OAAOxB,UAGvDc,EAAUlC,OAAO9hB,KAAK6pD,aACtB,IAAI9mC,EAASiB,EAAUoE,aAKvB,OAHArF,EAAOzoB,QAAQkqB,KAAO/mB,EAAM+mB,KAC5BzB,EAAOzoB,QAAQC,OAASkD,EAAMlD,OAEvBwoB,CACX,EAEAmoE,EAAa1qF,UAAU4pD,gBAAkB,WACrC,OAAOpqD,KAAKkxD,UAChB,EAEAg6B,EAAa1qF,UAAUikB,oBAAsB,WACzC,MAAO,CACHnqB,QAAS0F,KAAK1F,QACdmuB,KAAMzoB,KAAK8c,IAAI0B,SACfuE,OAAQ/iB,KAAKkxD,WAErB,EAEAg6B,EAAa1qF,UAAU+kB,qBAAuB,WAC1C,IAAI+kC,EAAgBtqD,KAAK1F,QAAQ6uD,QAC7B5kC,EAAmBvkB,KAAK1F,QAAQ0qB,cAAchB,UAE9CA,EAAY,IAAIkE,aAAa,CAC7BrkB,KAAMH,eAAe4mD,EAAczmD,KAAM,QACzCrJ,MAAO8vD,EAAc9kD,KACrBmG,OAAQ2+C,EAAc9kD,KACtB0Y,SAAUosC,EAAcpsC,SACxBkH,WAAYb,EAAiBxb,MAC7Buc,OAAQf,EAAiBe,OACzBoD,aAAc4hC,EAAc5hC,aAC5B/K,QAAS4G,EAAiBe,OAAO9qB,MAAQ,EACzC0oB,OAAQqB,EAAiBrB,SAK7B,OAFAc,EAAUlC,OAAO9hB,KAAK6pD,aAEf7lC,EAAUoE,YACrB,EAEA8iE,EAAa1qF,UAAU+pD,cAAgB,WACnC,IAAInsD,EAAO4B,KAAK8c,IAAI3H,SAASla,EACzBgD,EAAM+B,KAAK8c,IAAIhI,GAAKolC,eAExB,MAAO,CACHp+B,MAAO,IAAIH,QAAQvd,EAAMH,GACzBygB,MAAO,CACHisC,WAAYj1D,OACZq1B,SAAUt1B,UAGtB,EAEAy1F,EAAa1qF,UAAUoqD,YAAc,SAAsB9tC,GACvD,OAAO9c,KAAK8c,IAAImB,SAASnB,EAC7B,EAEAouE,EAAa1qF,UAAUqqD,eAAiB,WAExC,EAEAqgC,EAAa1qF,UAAU2nB,UAAY,WAC/B,MAAO,CACHltB,EAAG+E,KAAK1G,MAAM2B,EACdC,EAAG8E,KAAK1G,MAAM4B,EACd5B,MAAO0G,KAAK1G,MAAMA,MAClBqrB,SAAU3kB,KAAK2kB,SACfD,OAAQ1kB,KAAK0kB,OAErB,EAEOwmE,CACX,CA7PmB,CA6PjBvpE,cAEF9kB,WAAWquF,aAAa1qF,UAAWooD,kBACnC/rD,WAAWquF,aAAa1qF,UAAWsoD,WACnCjsD,WAAWquF,aAAa1qF,UAAWuwD,8BAEnCm6B,aAAa1qF,UAAU2hD,SAAW,CAC9BgH,QAAS,CACLtlD,KAAM,OACN6kB,aAAc,EACdpD,OAAQ,CACJvc,MAAO,gBAGf4U,QAAS,CAAE1f,IAAK,GAChBi2B,OAAQ,CACJzR,SAAS,EACT9E,QAAS,GAEbyG,QAAS,EACT2R,MAAO,CACH9E,MAAO,CAAC,GAEZjM,cAAe,CACX8C,KAAMo3B,iBACNplD,UAAWqlD,sBACXn3B,oBAAqBo3B,+BAI7B,IAAIksC,aAAgB,SAAU3pE,GAC1B,SAAS2pE,EAAaj0D,EAAU/8B,GAC5BqnB,EAAaxgB,KAAKnB,KAAM1F,GAExB0F,KAAKq3B,SAAWA,EAChBr3B,KAAKqiB,aAAegV,EAAShV,aAC7BriB,KAAKw2D,cAELx2D,KAAK+wB,QACT,CAwOA,OAtOKpP,IAAe2pE,EAAa7yF,UAAYkpB,GAC7C2pE,EAAa9qF,UAAYjI,OAAOuN,OAAQ6b,GAAgBA,EAAanhB,WACrE8qF,EAAa9qF,UAAUhE,YAAc8uF,EAErCA,EAAa9qF,UAAUg2D,YAAc,WACjCx2D,KAAK8d,OAAS,GACd9d,KAAKukD,cAAgB,GACrBvkD,KAAKu7B,WAAa,CAAEh0B,IAAK3Q,UAAWyL,IAAKvL,WACzCkJ,KAAKwkD,YAAc,EACvB,EAEA8mC,EAAa9qF,UAAUuwB,OAAS,WAC5B/wB,KAAKurF,WACLvrF,KAAKykD,mBAAmBzkD,KAAK0kD,SAASx8C,KAAKlI,MAC/C,EAEAsrF,EAAa9qF,UAAU+qF,SAAW,WAM9B,IALA,IAAIt4E,EAAWjT,KAGX0kB,EADM1kB,KACO1F,QAAQoqB,OAEhBkgC,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAG7C,IAFA,IAAIpC,EAAgB99B,EAAOkgC,GAElBtN,EAAU,EAAGA,EAAUkL,EAAc52C,KAAK/R,OAAQy9C,IAAW,CAClE,IACIL,EADQhkC,EAASokB,SAASggB,UAAUmL,EAAelL,GAC/BL,YACpBp0C,QAAQo0C,EAAY39C,QAAgC,OAAtB29C,EAAY39C,QAC1C2Z,EAASsoB,WAAWh0B,IAAMnF,KAAKmF,IAAI0L,EAASsoB,WAAWh0B,IAAK0vC,EAAY39C,OACxE2Z,EAASsoB,WAAWl5B,IAAMD,KAAKC,IAAI4Q,EAASsoB,WAAWl5B,IAAK40C,EAAY39C,OAEhF,CAER,EAEAgyF,EAAa9qF,UAAUkkD,SAAW,SAAmBprD,EAAO6F,GACxD,IAAI2c,EACAxiB,GAASuJ,QAAQvJ,EAAMA,QAA0B,OAAhBA,EAAMA,QACvCwiB,EAAQ9b,KAAKinD,YAAY3tD,EAAO6F,KAE5B5G,OAAO4a,OAAO2I,EAAO3c,GAI7Ba,KAAK8d,OAAOxe,KAAKwc,EACrB,EAEAwvE,EAAa9qF,UAAU4mD,iBAAmB,SAA2B9sD,EAAShB,EAAO6F,GACjF,IAAIulB,EAASvlB,EAAOulB,OAChBkgC,EAAWzlD,EAAOylD,SAClB3gD,EAAQ,CACRk+C,SAAUz9B,EAAO2iC,UACjBhF,SAAU,CACN,OAAQ,UAAW,UAAW,WAC9B,SAAU,SAAU,yBACpB,eAAgB,gBAIpBiF,EAAStnD,KAAKwkD,YAAYI,GACzB/hD,QAAQykD,KACTtnD,KAAKwkD,YAAYI,GAAY0C,EAASrF,YAAY3nD,EAAS,CAAC,EAAG2J,GAAO,IAG1E,IAAI0gD,EAAerqD,EAYnB,OAXIgtD,GAEArF,YADA0C,EAAe9nD,WAAW,CAAC,EAAGvC,GACJ,CACtBhB,MAAOA,EACPorB,OAAQA,EACRC,SAAUxlB,EAAOwlB,SACjBpd,IAAKvH,KAAKu7B,WAAWh0B,IACrBlF,IAAKrC,KAAKu7B,WAAWl5B,KACtB4B,GAGA0gD,CACX,EAEA2mC,EAAa9qF,UAAUqkD,UAAY,WAC/B,OAAOqmC,YACX,EAEAI,EAAa9qF,UAAUmkD,aAAe,SAAuBjgC,EAAQkgC,GACjE,IAAItqD,EAAU0F,KAAKukD,cAAcK,GACjC,IAAKtqD,EAAS,CACV,IAAI6nD,EAAWniD,KAAK6kD,YAAYrkD,UAAU2hD,SAC1CniD,KAAKukD,cAAcK,GAAYtqD,EAAUuC,WAAW,CAAC,EAAGslD,EAAU,CAC9DgH,QAAS,CACL/kC,QAASM,EAAON,SAEpBiwC,QAAS,CACL3kC,OAAQ1vB,KAAK1F,QAAQ+5D,QAAQ3kC,QAEjCwE,OAAQ,CACJxE,OAAQ1vB,KAAK1F,QAAQ45B,OAAOxE,SAEjChL,EACP,CAEA,OAAOnsB,OAAO4a,OAAO,CAAC,EAAG7Y,EAC7B,EAEAgxF,EAAa9qF,UAAUymD,YAAc,SAAsB3tD,EAAO6F,GAC9D,IAAIulB,EAASvlB,EAAOulB,OAChBigC,EAAe3kD,KAAK2kD,aAAajgC,EAAQvlB,EAAOylD,UAChD77C,EAAQ5J,EAAO4J,OAAS2b,EAAO3b,MAKnC,GAHA47C,EAAa99B,QAAU1nB,EAAO0nB,SAAW89B,EAAa99B,QACtD89B,EAAe3kD,KAAKonD,iBAAiBzC,EAAcrrD,EAAO6F,GAEtDrD,WAAW4oB,EAAO3b,OAClBA,EAAQ47C,EAAa57C,WAClB,GAA4B,IAAxB/I,KAAKu7B,WAAWl5B,IAAW,CAElC0G,EADY6hF,WAAW7hF,EACfwS,CAAMjiB,EAAMA,MAAQ0G,KAAKu7B,WAAWl5B,IAChD,CAEA,IAAIyZ,EAAQ,IAAIovE,aAAa5xF,EAAOqrD,GAKpC,OAJA7oC,EAAM/S,MAAQA,EAEd/I,KAAK2C,OAAOmZ,GAELA,CACX,EAEAwvE,EAAa9qF,UAAU81D,WAAa,SAAqB5xC,GACrD,IAAIqyC,EAAYryC,EAAOsyC,MACnBC,EAAYvyC,EAAOwyC,MACnB7/B,EAAWr3B,KAAKq3B,SAChB2/B,EAAQD,EAAY1/B,EAASggC,WAAWN,GAAa1/B,EAAS1B,MAC9DuhC,EAAQD,EAAY5/B,EAASigC,WAAWL,GAAa5/B,EAASzB,MAElE,IAAKohC,EACD,MAAM,IAAIjoB,MAAM,qCAAuCgoB,GAG3D,IAAKG,EACD,MAAM,IAAInoB,MAAM,qCAAuCkoB,GAG3D,MAAO,CAAED,MAAOA,EAAOE,MAAOA,EAClC,EAEAo0B,EAAa9qF,UAAUshB,OAAS,SAAiB9E,GAC7C,IAAI/J,EAAWjT,KAEX0nD,EAAc1nD,KAAK8d,OACnBkc,GAASh6B,KAAK1F,QAAQ8vC,KACtBkN,EAAU,EAGdt3C,KAAKykD,oBAAmB,SAAUnrD,EAAO6F,GACrC,IAAI2c,EAAQ4rC,EAAYpQ,KACpB50C,EAAMuQ,EAASqjD,WAAWn3D,EAAOulB,QACjCsyC,EAAQt0D,EAAIs0D,MACZE,EAAQx0D,EAAIw0D,MACZs0B,EAASx0B,EAAM7zB,cAAc7pC,EAAM2B,GACnCwwF,EAASv0B,EAAM/zB,cAAc7pC,EAAM4B,GACnCw8B,EAAQs/B,EAAMp/B,QAAQ4zD,EAAQA,EAAQxxD,GACtCrC,EAAQu/B,EAAMt/B,QAAQ6zD,EAAQA,EAAQzxD,GAE1C,GAAIle,EACA,GAAI4b,GAASC,EAAO,CAChB,IAAIkwB,EAAY50C,EAAS40C,UAAUnwB,EAAOC,GAC1C7b,EAAMgG,OAAO+lC,EACjB,MACI/rC,EAAM2G,SAAU,CAG5B,IAEAziB,KAAK8c,IAAME,CACf,EAEAsuE,EAAa9qF,UAAUqnD,UAAY,SAAoBnwB,EAAOC,GAC1D,OAAO,IAAI9a,IAAI6a,EAAM9iB,GAAI+iB,EAAM7iB,GAAI4iB,EAAM3iB,GAAI4iB,EAAM3iB,GACvD,EAEAs2E,EAAa9qF,UAAUikD,mBAAqB,SAA6B/kD,GAMrE,IALA,IAAIuT,EAAWjT,KAGX0kB,EADM1kB,KACO1F,QAAQoqB,OAEhBkgC,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAQ7C,IAPA,IAAIpC,EAAgB99B,EAAOkgC,GACvBp5B,EAAQvY,EAASqjD,WAAW9T,GAC5BwU,EAAQxrC,EAAMwrC,MACdE,EAAQ1rC,EAAM0rC,MACdw0B,EAAS10B,EAAMryB,sBACfgnD,EAASz0B,EAAMvyB,sBAEV2S,EAAU,EAAGA,EAAUkL,EAAc52C,KAAK/R,OAAQy9C,IAAW,CAClE,IAAIs0C,EAAQ34E,EAASokB,SAASggB,UAAUmL,EAAelL,GACnDh+C,EAAQsyF,EAAM30C,YACd93C,EAASysF,EAAMzsF,OACf0sF,EAAS70B,EAAMzzB,WAAWjqC,EAAM2B,GAChC6wF,EAAS50B,EAAM3zB,WAAWjqC,EAAM4B,GAChC6wF,EAAML,EAAOnkF,KAAOskF,GAAUA,GAAUH,EAAOrpF,IAC/C2pF,EAAML,EAAOpkF,KAAOukF,GAAUA,GAAUH,EAAOtpF,IAE/C0pF,GAAOC,GACPtsF,EAASpG,EAAOuD,WAAW,CACvBy6C,QAASA,EACT5yB,OAAQ89B,EACRoC,SAAUA,EACVjgC,SAAU69B,EAAc52C,KAAK0rC,GAC7B4P,MAAOj0C,GACR9T,GAEX,CAER,EAEAmsF,EAAa9qF,UAAUmoD,iBAAmB,SAA2B7sC,EAAO4T,GACxE,IAAIp2B,EAAQwiB,EAAMxiB,MAClB,OAAO0G,KAAKqiB,aAAaqN,OAAO0B,KAAK1B,EAAQp2B,EAAM2B,EAAG3B,EAAM4B,EAAG5B,EAAMA,MACzE,EAEAgyF,EAAa9qF,UAAUotD,gBAAkB,WAGrC,IAFA,IAAI9vC,EAAS9d,KAAK8d,OACdliB,EAAS,GACJhC,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IACnCgC,EAAO0D,MAAMwe,EAAOlkB,IAAQ,CAAC,GAAG03B,QAEpC,OAAO11B,CACX,EAEO0vF,CACX,CAlPmB,CAkPjB3pE,cACF/d,kBAAkB0nF,aAAc,CAC5B5mE,OAAQ,GACR2vC,QAAS,CACL3kC,OAAQ,iBAEZwE,OAAQ,CACJxE,OAAQ,OAEZ0a,MAAM,IAGV,IAAI6hD,gBAAmB,SAAU7vB,GAC7B,SAAS6vB,IACL7vB,EAAaz6D,MAAM3B,KAAMjD,UAC7B,CAiVA,OA/UKq/D,IAAe6vB,EAAgBxzF,UAAY2jE,GAChD6vB,EAAgBzrF,UAAYjI,OAAOuN,OAAQs2D,GAAgBA,EAAa57D,WACxEyrF,EAAgBzrF,UAAUhE,YAAcyvF,EAExCA,EAAgBzrF,UAAUi0B,WAAa,WACnCz0B,KAAKq3D,WAAa,CAAC,EACnBr3D,KAAKs3D,WAAa,CAAC,CACvB,EAEA20B,EAAgBzrF,UAAUuwB,OAAS,SAAiBisC,QACjC,IAAVA,IAAmBA,EAAQh9D,KAAKg9D,OAErCh9D,KAAKksF,iBACLlsF,KAAK6/E,WAAW7iB,GAChBh9D,KAAKguE,aAAahR,GAClBh9D,KAAKmsF,kBACT,EAEAF,EAAgBzrF,UAAU0rF,eAAiB,WAKvC,IAJA,IAEIxnE,EAAS1kB,KAAKouE,WAAapuE,KAAK0kB,OAE3BjqB,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CAUpC,IATA,IAAI+nD,EAAgB99B,EAAOjqB,GACvBmR,EAAO42C,EAAc52C,MAAQ,GAC7BlJ,EAPO1C,KAOQs2D,WAAW9T,GAC1BwU,EAAQt0D,EAAIs0D,MACZE,EAAQx0D,EAAIw0D,MAEZk1B,EAAc9hF,cAAc0sD,EAAM91B,YAAc,IAChDmrD,EAAc/hF,cAAc4sD,EAAMh2B,YAAc,IAE3CyiC,EAAa,EAAGA,EAAa/3D,EAAK/R,OAAQ8pE,IAAc,CAC7D,IAAIn4C,EAAQmrB,aAAah/B,QAAQ0/B,UAAUmL,EAAemhB,GAAY1sB,YAClEh8C,EAAIuwB,EAAMvwB,EACVC,EAAIswB,EAAMtwB,EAETkxF,EAAY1iF,IAAIzO,IACjBmxF,EAAYziF,IAAI1O,GAGfoxF,EAAY3iF,IAAIxO,IACjBmxF,EAAY1iF,IAAIzO,EAExB,CAEA87D,EAAM91B,WAAakrD,EAAYjjF,SAC/B+tD,EAAMh2B,WAAamrD,EAAYljF,QACnC,CACJ,EAEA8iF,EAAgBzrF,UAAUwtE,aAAe,SAAuBhR,GAK5D,IAJA,IAAI/pD,EAAWjT,KAEX8+D,EAAe9+D,KAAK6+D,oBAEfpkE,EAAI,EAAGA,EAAIuiE,EAAMnjE,OAAQY,IAAK,CACnC,IAAI+8B,EAAOwlC,EAAMviE,GACb6zE,EAAaxP,EAAatnC,EAAKl9B,QAAQ5F,MAAQ,YAAc,GACjEue,EAAS6qD,YAAYwQ,GACrB,IAAImR,EAAiBxsE,EAAS+rD,oBAAoBsP,GAE7CmR,GAILxsE,EAASq5E,mBACLhqC,mBAAmBm9B,EAAgB,CAAE5jC,UACrCrkB,EAER,CACJ,EAEAy0D,EAAgBzrF,UAAU8rF,mBAAqB,SAA6B5nE,EAAQ8S,GAChF,IAAIvE,EAAQ,IAAIq4D,aAAatrF,KAAM,CAC/B0kB,OAAQA,IAGZ1kB,KAAKq7D,YAAYpoC,EAAOuE,EAC5B,EAEAy0D,EAAgBzrF,UAAUu+D,eAAiB,SAAyBr6C,GAChE,IAAIpqB,EAAU0F,KAAK1F,QACfy8D,EAAYryC,EAAOsyC,MAEnBA,EAAQx3D,KADO,GAAG2I,OAAO7N,EAAQ08D,QACN,SAAStqD,GAAK,OAAOA,EAAEhY,OAASqiE,CAAW,IAAG,GACzEE,EAAYvyC,EAAOwyC,MAEnBA,EAAQ13D,KADO,GAAG2I,OAAO7N,EAAQ48D,QACN,SAASxqD,GAAK,OAAOA,EAAEhY,OAASuiE,CAAW,IAAG,GAEzEgZ,GADQ31E,EAAQ0iE,OAAS,CAAE,CAAC,IACJ,GAAGtoE,MAAQ,UAGvC,OAFgBsiE,GAAS,CAAC,GAAGx/B,OAAS0/B,GAAS,CAAC,GAAG1/B,MAAQy4C,CAG/D,EAEAgc,EAAgBzrF,UAAU81D,WAAa,SAAqB5xC,GACxD,IAAIsyC,EACAE,EAEA58D,EAAU0F,KAAK1F,QAEfiyF,EAAe,GAAGpkF,OAAO7N,EAAQ08D,OACjCD,EAAYryC,EAAOsyC,MAEnBA,EADAD,EACQw1B,EAAavmF,MAAK,SAAU2P,GAAQ,OAAOA,EAAKjhB,OAASqiE,CAAW,IAEpEw1B,EAAa,GAGzB,IAAIC,EAAe,GAAGrkF,OAAO7N,EAAQ48D,OACjCD,EAAYvyC,EAAOwyC,MAOvB,GALIA,EADAD,EACQu1B,EAAaxmF,MAAK,SAAU2P,GAAQ,OAAOA,EAAKjhB,OAASuiE,CAAW,IAEpEu1B,EAAa,IAGpBx1B,EACD,MAAM,IAAIjoB,MAAM,qCAAuCgoB,GAG3D,IAAKG,EACD,MAAM,IAAInoB,MAAM,qCAAuCkoB,GAG3D,MAAO,CAAED,MAAOA,EAAOE,MAAOA,EAClC,EAEA+0B,EAAgBzrF,UAAU2rF,iBAAmB,WAEzC,IADA,IAAI10D,EAAOz3B,KAAKy3B,KACPh9B,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAC7Bg9B,EAAKh9B,GAAGk6B,cAEhB,EAEAs3D,EAAgBzrF,UAAUs/E,aAAe,SAAuBxlF,EAASywB,EAAUs9B,GAc/E,IAbA,IAwBI03B,EAxBAh6B,EAAWzrD,EAAQ5F,KACnBsrF,EAAYj1D,EAAW/qB,KAAKs3D,WAAat3D,KAAKq3D,WAC9C7rB,EAAcjzC,OAAO4a,OAAO,CAC5BipB,kBAAmB,GACpB9hC,EAAS,CACRywB,SAAUA,EACVwE,QAAUxE,GAAY/qB,KAAKqiB,aAAa6Q,KAAQ54B,EAAQi1B,QAAUj1B,EAAQi1B,QAC1E2M,WAAW,IAEXuwD,EAAgBjhD,EAAYtK,WAAasK,EAAYtK,WAAW,GAAK,KACrEg/C,EAAc,CAAE10C,EAAYjkC,IAAKikC,EAAYnpC,IAAKoqF,GAClD/nE,EAAS1kB,KAAK0kB,OAETkgC,EAAW,EAAGA,EAAWlgC,EAAO7qB,OAAQ+qD,IAAY,CACzD,IAAIpC,EAAgB99B,EAAOkgC,GACvBu7B,EAAiB39B,EAAcz3B,EAAW,QAAU,SACxD,GAAKo1D,IAAmB30C,EAAY92C,MAAwB,IAAd2zD,IAAoB83B,EAAiB,CAC/E,IAAIC,EAAkBzpC,aAAah/B,QAAQ0/B,UAAUmL,EAAe,GAAGvL,YACvEipC,EAAY5gF,KAAK8gF,EAAgBr1D,EAAW,IAAM,MAElD,KACJ,CACJ,CAIA,IAAK,IAAItwB,EAAI,EAAGA,EAAIylF,EAAYrmF,OAAQY,IACpC,GAAIylF,EAAYzlF,aAAcgC,KAAM,CAChCsjF,GAAe,EACf,KACJ,CAUJ,IAAIpqE,EAAO,IANPosC,iBAAiBvW,EAAY3nC,KAAM/N,QAAW01C,EAAY3nC,MAAQk8E,EACvD53C,iBAEArH,cAGS0K,EAAaxrC,KAAKqiB,cAG1C,GAFA1M,EAAK0yC,UAAYA,EAEbtC,EAAU,CACV,GAAIi6B,EAAUj6B,GACV,MAAM,IAAIhX,OAAQhkB,EAAW,IAAM,KAAO,mBAAqBg7B,EAAW,uBAE9Ei6B,EAAUj6B,GAAYpwC,CAC1B,CAKA,OAHA3V,KAAKm7D,WAAWxlD,GAChBA,EAAKovB,kBAEEpvB,CACX,EAEAs2E,EAAgBzrF,UAAUq/E,WAAa,SAAqB7iB,GASxD,IARA,IAAI/pD,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACf+lF,EAAe,GAAGl4E,OAAO7N,EAAQ08D,OACjCuH,EAAQ,GACR+hB,EAAe,GAAGn4E,OAAO7N,EAAQ48D,OACjCsH,EAAQ,GAEH5kE,EAAM,EAAGA,EAAMymF,EAAaxmF,OAAQD,IAAO,CAE5CuG,QADW8S,EAASsqD,SAAS8iB,EAAazmF,GAAK49B,MAC7BwlC,IAClBuB,EAAMj/D,KAAK2T,EAAS6sE,aAAaO,EAAazmF,IAAM,EAAOA,GAEnE,CAEA,IAAK,IAAIsgC,EAAQ,EAAGA,EAAQomD,EAAazmF,OAAQqgC,IAAS,CAElD/5B,QADa8S,EAASsqD,SAAS+iB,EAAapmD,GAAO1C,MAC/BwlC,IACpBwB,EAAMl/D,KAAK2T,EAAS6sE,aAAaQ,EAAapmD,IAAQ,EAAMA,GAEpE,CAEAl6B,KAAK21B,MAAQ31B,KAAK21B,OAAS4oC,EAAM,GACjCv+D,KAAK41B,MAAQ51B,KAAK41B,OAAS4oC,EAAM,EACrC,EAEAytB,EAAgBzrF,UAAU+6D,WAAa,SAAqB5lD,GACxD,IAAIowC,EAAWpwC,EAAKrb,QAAQ5F,KAE5B0nE,EAAa57D,UAAU+6D,WAAWp6D,KAAKnB,KAAM2V,GAEzCA,EAAKrb,QAAQywB,gBACN/qB,KAAKs3D,WAAWvR,UAEhB/lD,KAAKq3D,WAAWtR,GAGvBpwC,IAAS3V,KAAK21B,cACP31B,KAAK21B,MAGZhgB,IAAS3V,KAAK41B,cACP51B,KAAK41B,KAEpB,EAEAq2D,EAAgBzrF,UAAUylE,eAAiB,SAAyBhzC,EAAOjxB,EAAG6vE,GAQ1E,IAPA,IAAIxmB,EAASp4B,EAAM6+C,kBAAkB9vE,GACjC8Z,EAAQ,IAAIH,QAAQ0vC,EAAOpwD,EAAGowD,EAAOnwD,GACrCugE,EAAUz7D,KAAKy3B,KACf59B,EAAS4hE,EAAQ5hE,OACjB0mF,EAAU,GACVC,EAAU,GAEL/lF,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIkb,EAAO8lD,EAAQhhE,GAEnBgnD,gBADa9rC,EAAKrb,QAAQywB,SAAWy1D,EAAUD,EACvB5qE,EAAK2tB,YAAYxnB,GAC7C,CAEIykE,EAAQ1mF,OAAS,GAAK2mF,EAAQ3mF,OAAS,GACvCo5B,EAAM5xB,QAAQwwE,EAAW,CACrBp4E,QAASyJ,aAAalB,GACtBwT,cAAexT,EACf/G,EAAG+nD,kBAAkBu9B,GACrBrlF,EAAG8nD,kBAAkBw9B,IAGjC,EAEAyL,EAAgBzrF,UAAUwxE,kBAAoB,SAA8Br8D,EAAMrb,GAC9E,IAAIywB,EAAWpV,EAAKrb,QAAQywB,SACxB0M,EAAOz3B,KAAKs+D,UAAUt+D,KAAKg9D,OAC3BvhE,GAASsvB,EAAW0M,EAAKv8B,EAAIu8B,EAAKx8B,GAAGlB,QAAQ4b,GAEjDq8D,kBAAkBhyE,KAAK1F,QAASmB,EAAOsvB,EAAUzwB,GACjD03E,kBAAkBhyE,KAAKw8D,gBAAiB/gE,EAAOsvB,EAAUzwB,EAC7D,EAEA2xF,EAAgBzrF,UAAU28D,iBAAmB,SAA2BxnD,GAEpE,OAAOpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAKrb,QAAQq/D,UAAW,CAAEz2C,OAAQ,GAC/D,EAEA+oE,EAAgBzrF,UAAUwkE,kBAAoB,SAA4BW,EAAWtrE,GACjF,IAAI4Y,EAAWjT,UACC,IAAX3F,IAAoBA,EAAS,GAElC,IAAIqyF,EAAmB1sF,KAAK21B,MAAMr7B,QAAQi1B,SAAoB,EAAVl1B,EAAcA,EAC9DsyF,EAAa3sF,KAAK21B,MAAM/T,SACxBiqE,EAAS7rF,KAAK4sF,oBAAoBjnB,GAAa+mB,EAG/CG,EAAeF,EADnBd,EAAShwF,WAAWgwF,EAAQc,EAAW9yF,SACDP,MAElCwkB,EAAS9d,KACRyjE,cAAa,SAAU3nD,GAAS,OAAOgxE,cAAchxE,EAAMqM,YAAYltB,EAAG4xF,EAAe,IACzFlsE,MAAK,SAAUjU,EAAG/D,GAAK,OAAOsK,EAAS85E,oBAAoBrgF,GAAKuG,EAAS85E,oBAAoBpkF,EAAI,IAEtG,OAAI3I,KAAK41B,MAAMt7B,QAAQi1B,QACZzR,EAAOyR,UAGXzR,CACX,EAEAmuE,EAAgBzrF,UAAU2kE,oBAAsB,SAA8BQ,EAAWtrE,GACrF,IAAI4Y,EAAWjT,UACC,IAAX3F,IAAoBA,EAAS,GAElC,IAAIqyF,EAAmB1sF,KAAK41B,MAAMt7B,QAAQi1B,SAAoB,EAAVl1B,EAAcA,EAC9D2yF,EAAahtF,KAAK41B,MAAMhU,SACxBkqE,EAAS9rF,KAAK+sF,oBAAoBpnB,GAAa+mB,EAG/CO,EAAeD,EADnBlB,EAASjwF,WAAWiwF,EAAQkB,EAAWnzF,SACDP,MAElCwkB,EAAS9d,KACRyjE,cAAa,SAAU3nD,GAAS,OAAOgxE,cAAchxE,EAAMqM,YAAYjtB,EAAG+xF,EAAe,IACzFtsE,MAAK,SAAUjU,EAAG/D,GAAK,OAAOsK,EAAS25E,oBAAoBlgF,GAAKuG,EAAS25E,oBAAoBjkF,EAAI,IAEtG,OAAI3I,KAAK21B,MAAMr7B,QAAQi1B,QACZzR,EAAOyR,UAGXzR,CACX,EAEAmuE,EAAgBzrF,UAAUosF,oBAAsB,SAA8B9wE,GAC1E,OAAO9b,KAAKktF,mBAAmBltF,KAAK21B,MAAO7Z,EAAMqM,YAAYltB,EACjE,EAEAgxF,EAAgBzrF,UAAUusF,oBAAsB,SAA8BjxE,GAC1E,OAAO9b,KAAKktF,mBAAmBltF,KAAK41B,MAAO9Z,EAAMqM,YAAYjtB,EACjE,EAEA+wF,EAAgBzrF,UAAU0sF,mBAAqB,SAA6Bv3E,EAAM+jC,GAC9E,OAAO/jC,EAAKiM,SAASurE,WAAU,SAAUC,GAAY,OAAON,cAAcpzC,EAAY0zC,EAAS9zF,MAAQ,GAC3G,EAEO2yF,CACX,CArVsB,CAqVpB7vB,cAEF,SAAS0wB,cAAcpgF,EAAG/D,GACtB,OAAI+D,aAAajQ,MAAQkM,aAAalM,KAC3BqjC,WAAWpzB,EAAG/D,GAGlB+D,IAAM/D,CACjB,CAEA,SAASqpE,kBAAkBS,EAAepqB,EAAWt9B,EAAUzwB,GAE3DuC,WADmB,GAAGsL,OAAO4iB,EAAW0nD,EAAcvb,MAAQub,EAAczb,OAAQ3O,GAC5D/tD,EAC5B,CAEAsJ,kBAAkBqoF,gBAAiB,CAC/Bj1B,MAAO,CAAC,EACRE,MAAO,CAAC,IAGZr6D,WAAWovF,gBAAgBzrF,UAAWwlE,qBAEtC,IAAIqnB,MAAQ,QACRC,MAAQ,QACRC,KAAO,OACPC,IAAM,MACNC,IAAM,MACNC,UAAY,WACZC,cAAgB,UAChBC,GAAK,KAET3U,gBAAgBthE,QAAQ7Y,SAASyuE,oBAAqB,CAClDnyB,IAAKK,OAAQM,KAAMiB,cAAe7B,KAAM0B,cACxCrB,YAAaQ,KAAMT,OAAQwB,gBAAiB1B,SAAUyB,kBACtDJ,aAAcD,UAAWS,UAAWpB,qBAAsBU,WAAYS,qBAAsB90C,OAAQu1C,mBAGxGu7B,gBAAgBthE,QAAQ7Y,SAASwgF,WAAY,CACzC3iC,QAASC,aAActB,QAASnzC,OAAQu1C,mBAG5Cu7B,gBAAgBthE,QAAQ7Y,SAASinF,YAAa,CAAE9pC,MAChDg9B,gBAAgBthE,QAAQ7Y,SAAS2nF,cAAe,CAAE/qC,QAClDu9B,gBAAgBthE,QAAQ7Y,SAAS2rF,eAAgB,CAAE9uC,OAAQC,UAE3Dq9B,gBAAgBthE,QAAQ7Y,SAASgpF,cAAe,CAC5C5rC,WAAYC,WAAYC,eAAgBj0C,OAAQu1C,mBAGpDu7B,gBAAgBthE,QAAQ7Y,SAASgqF,cAAe,CAC5CzsC,WAAYC,aAAcC,YAAap0C,OAAQu1C,mBAGnDu7B,gBAAgBthE,QAAQ7Y,SAASmtF,gBAAiB,CAAEpwC,UAEpDlF,aAAah/B,QAAQ7Y,SACjB,CAAEs8C,IAAKK,OAAQM,KAAMiB,cAAe7B,KAAM0B,eAC1C,CAAEhlD,OAAS,CAAE4nD,SAAU4tC,MAAOK,UAAWrzC,gBAAiBC,iBAAkB2F,gBAAiBC,gBAGjGvJ,aAAah/B,QAAQ7Y,SACjB,CAAE49C,aAAcD,UAAWD,WAAYS,qBACvC,CAAEswC,KAAMK,IAAM,CAAEnuC,SAAU4tC,MAAOK,UAAWztC,gBAAiBC,gBAGjEvJ,aAAah/B,QAAQ7Y,SACjB,CAAEo+C,UAAWpB,sBACb,CAAEjkD,OAAS,CAAE4nD,SAAU4tC,MAAOK,UAAWC,cAAe1tC,gBAAiBC,gBAG7EvJ,aAAah/B,QAAQ7Y,SAAS,CAAEo9C,WAAYC,WAAYC,eAAiB,CAAEpkD,EAAGC,GAAK,CAAEo1F,MAAOptC,gBAAiBC,gBAC7GvJ,aAAah/B,QAAQ7Y,SAAS,CAAEu9C,WAAYC,aAAcC,YAAc,CAAE1kD,OAAS,CAAE4nD,SAAU4tC,MAAOptC,gBAAiBC,gBAEvHvJ,aAAah/B,QAAQ7Y,SACjB,CAAE68C,OAAQC,SACV,CAAE/jD,OAAS,CAAE4nD,SAAU4tC,MAAO,kBAAmB,UAAWptC,gBAAiBC,gBAGjFknB,kBAAkBzvD,QAAQ7Y,SACtB,CAAEs8C,IAAKK,OAAQM,KAAMiB,cAAe7B,KAAM0B,cAAeK,UAAWpB,sBACpE,CAAExiD,MAAOk0F,IAAKzkF,MAAOukF,MAAOnmC,SAAUmmC,MAAOO,SAAUJ,IAAKK,UAAWN,MAG3EpmB,kBAAkBzvD,QAAQ7Y,SACtB,CAAE49C,aAAcD,UAAWD,WAAYS,qBACvC,CAAE9yC,KAAMsjF,IAAK51D,GAAI21D,IAAKzkF,MAAOukF,MAAOnmC,SAAUmmC,QAGlDlmB,kBAAkBzvD,QAAQ7Y,SACtB,CAAEu9C,WAAYC,aAAcC,YAC5B,CAAEjjD,MAAOk0F,IAAKzkF,MAAOukF,QAGzB32C,aAAah/B,QAAQ7Y,SACjB,CAAE69C,QAASC,aAActB,QACzB,CAAEtjD,EAAGC,GAAK,CAAEo1F,MAAOK,UAAWnzC,kBAAmBC,mBAAoBC,kBAAmBC,qBAG5F/D,aAAah/B,QAAQ7Y,SACjB,CAAEw8C,QAAU,CAAEtjD,EAAGC,EAAG,QAAU,CAAEo1F,MAAO5tC,SAAUiuC,UAAWxtC,gBAGhEvJ,aAAah/B,QAAQ7Y,SACjB,CAAE+8C,SACF,CAAE7jD,EAAGC,EAAGJ,OAAS,CAAEw1F,MAAOK,UAAWxtC,gBAGzCvJ,aAAah/B,QAAQ7Y,SACjB,CAAE08C,YAAaQ,MACf,CAAE,OAAQ,OAAQ,MAAO,SAAW,CAAEyD,SAAU4tC,MAAO,YAAaK,UAAWxtC,gBAGnFknB,kBAAkBzvD,QAAQ7Y,SACtB,CAAE08C,YAAaQ,MACf,CAAEmX,KAAMq6B,IAAKhtD,KAAMgtD,IAAKjtD,IAAKktD,IAAKlsE,MAAOisE,IACrCzkF,MAAOukF,MAAO74B,UAAW64B,MAAOnmC,SAAUmmC,QAGlD32C,aAAah/B,QAAQ7Y,SACjB,CAAEu8C,SAAUyB,mBACZ,CAAE,QAAS,KAAM,SAAU,KAAM,QAAS,OAAQ,YAAc,CAAE2C,SAAU4tC,MAAOK,UAAWztC,gBAAiBC,gBAGnHknB,kBAAkBzvD,QAAQ7Y,SACtB,CAAEu8C,SAAUyB,mBACZ,CAAEmY,MAAOu4B,IAAK14B,GAAI04B,IAAKp4B,OAAQo4B,IAAKz4B,GAAIy4B,IAAKvlD,MAAOulD,IAAKn4B,KAAMm4B,IAAK73B,SAAU23B,MAC1EvkF,MAAOukF,MAAOnmC,SAAUmmC,QAGhC32C,aAAah/B,QAAQ7Y,SACjB,CAAEy8C,OAAQwB,iBACV,CAAE,UAAW,UAAY,CAAE0C,SAAU4tC,MAAO,kBAAmBK,UAAWztC,gBAAiBC,gBAG/FknB,kBAAkBzvD,QAAQ7Y,SACtB,CAAEy8C,OAAQwB,iBACV,CAAEplC,QAAS61E,IAAK/9E,OAAQ+9E,IAAKzkF,MAAOukF,MAAOnmC,SAAUmmC,QAGzD32C,aAAah/B,QAAQ7Y,SACjB,CAAEm9C,IAAKP,OACP,CAAE7jD,OAAS,CAAE4nD,SAAU4tC,MAAO,UAAW,kBAAmB,UAAWptC,gBAAiBC,gBAG5F,IAAI6tC,WAAa,CAAEtuC,SAAU5nD,MAAOG,EAAGC,GAEnC+1F,UAAY,YACZC,UAAY,YACZC,YAAc,cACdC,WAAa,aACbC,QAAU,UACVC,MAAQ,QACRC,KAAO,OACPC,gBAAkB,GAClBC,0BAA4B,sBAE5BC,MAAS,SAAU97F,GACnB,SAAS87F,EAAMh1F,EAAS8yC,EAAamiD,EAAclgE,GAC/C,IAAIvb,EAAWjT,UACE,IAAZwuB,IAAqBA,EAAU,CAAC,GAErC77B,EAAMwO,KAAKnB,MAEXA,KAAK2uF,UAAY,GACjB3uF,KAAK4uF,YAAYpgE,EAAQ1tB,UACzBd,KAAKqiB,aAAe,IAAI2Q,aAAahzB,KAAMwuB,GAC3CxuB,KAAKqiB,aAAay+D,MAAQ4N,EAE1B1uF,KAAK6uF,aAAap1F,GAElB,IAAIa,EAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASiyC,GAC3CvsC,KAAK8uF,iBAAmBjyF,WAAW,CAAC,EAAGvC,GACvC0F,KAAK+uF,OAASL,EACd1uF,KAAKgvF,WAAW10F,EAASo0F,GACzB1uF,KAAKivF,YAAc,CAAC,EAEpBjvF,KAAKkvF,gBACLlvF,KAAKmvF,eAELnvF,KAAKksF,iBACLvoF,WAAWkB,aAAa0nC,GAAa,WACjCt5B,EAASm8E,YAAa,EACjBn8E,EAAS8G,aACV9G,EAAS5R,QAAQ,QACjB4R,EAASo8E,UACTp8E,EAASq8E,gBACTr8E,EAASs8E,yBAEjB,GACJ,CAyiEA,OAviEK58F,IAAQ87F,EAAMh2F,UAAY9F,GAC/B87F,EAAMjuF,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAChDiuF,EAAMjuF,UAAUhE,YAAciyF,EAE9BA,EAAMjuF,UAAUquF,aAAe,SAAuBp1F,GAGlDuG,KAAKwvF,iBAAiB/1F,GACtBA,EAAQgE,MAAMqxB,SAAW,WACzBr1B,EAAQwxD,SAAWxxD,EAAQg2F,aAAa,YAAch2F,EAAQg2F,aAAa,YAAc,EAEzFh2F,EAAQgN,aAAa,OAAQ,8BAE7B,IAAK,IAAIhM,EAAIhB,EAAQi2F,WAAW71F,OAAS,EAAGY,GAAK,EAAGA,IAAK,CACrD,IAAIopB,EAAQpqB,EAAQi2F,WAAWj1F,GAE1BkF,WAAWkkB,EAAO,mBAXZ7jB,KAiBE2vF,eAAiB9rE,EAL1BpqB,EAAQy6E,YAAYrwD,EAO5B,CAEA7jB,KAAKvG,QAAUA,CACnB,EAEAg1F,EAAMjuF,UAAUgvF,iBAAmB,SAA2B/1F,GAC1DD,SAASC,EAAS,UACtB,EAEAg1F,EAAMjuF,UAAU+uF,uBAAyB,WAChCvvF,KAAK2vF,iBAIN3vF,KAAK4vF,iBACL5vF,KAAK2vF,eAAelyF,MAAMoyF,QAAU,SAE/B7vF,KAAK1F,QAAQ20B,OAAUjvB,KAAK1F,QAAQ20B,OAASjvB,KAAK1F,QAAQ20B,MAAMH,WAAar5B,SAC9E+D,SAASwG,KAAK2vF,eAAgBnB,2BAE9Bv0F,YAAY+F,KAAK2vF,eAAgBnB,2BAGrCxuF,KAAK2vF,eAAelyF,MAAMoyF,QAAU,IAGpC7vF,KAAK2vF,eAAennF,gBAAkBxI,KAAKvG,SAC3CuG,KAAKvG,QAAQoN,YAAY7G,KAAK2vF,gBAEtC,EAEAlB,EAAMjuF,UAAUovF,eAAiB,WAC7B,IAAIlrE,EAAS1kB,KAAK1F,QAAQoqB,QAAU,GAEpC,OADcA,EAAO7qB,OAAS,GAAK6qB,EAAOmhD,MAAK,SAAU5qE,GAAK,OAAOA,EAAE2Q,MAAQ3Q,EAAE2Q,KAAK/R,OAAS,CAAG,GAEtG,EAEA40F,EAAMjuF,UAAUwuF,WAAa,SAAqB10F,EAASo0F,GAIvD,IAHA,IAAIoB,EAAe,GACfprE,EAASpqB,EAAQoqB,QAAU,GAEtBjqB,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAC/Bq1F,EAAaxwF,KAAK/G,OAAO4a,OAAO,CAAC,EAAGuR,EAAOjqB,KAE/CH,EAAQoqB,OAASorE,EAEjBC,mBAAmBz1F,GACnB0F,KAAKgtC,cAAc1yC,EAASo0F,GAGC,OAAzBp0F,EAAQioF,qBACDjoF,EAAQioF,aAGflnF,WAAWf,EAAQ20B,SACnB30B,EAAQ20B,MAAQ,CAAEnB,KAAMxzB,EAAQ20B,QAGpCjvB,KAAK1F,QAAUuC,WAAW,CAAC,EAAG6xF,EAAcp0F,GAC5C0F,KAAKgwF,mBACT,EAEAvB,EAAMjuF,UAAUyvF,QAAU,WACtB,IAAIC,EAAYlwF,KAAK1F,QAAQ41F,WAAa,CAAC,EAI3C,MAAO,CACH11F,MAJQ01F,EAAU11F,MAAQwvB,SAASkmE,EAAU11F,MAAO,IAAM4H,KAAKK,MAAMzC,KAAKvG,QAAQ02F,aAKlFxkF,OAJSukF,EAAUvkF,OAASqe,SAASkmE,EAAUvkF,OAAQ,IAAMvJ,KAAKK,MAAMzC,KAAKvG,QAAQmgF,cAM7F,EAEA6U,EAAMjuF,UAAU4vF,OAAS,SAAiBC,GACtC,IAAI7qF,EAAOxF,KAAKiwF,UACZK,EAActwF,KAAKuwF,MACnB9xE,EAAUjZ,EAAKhL,MAAQ,GAAKgL,EAAKmG,OAAS,EAE1C0kF,GAAS5xE,KAAa6xE,GAAe9qF,EAAKhL,QAAU81F,EAAY91F,OAASgL,EAAKmG,SAAW2kF,EAAY3kF,SACrG3L,KAAKuwF,MAAQ/qF,EACbxF,KAAKwwF,QAAQhrF,EAAM6qF,GACnBrwF,KAAKqB,QAAQ,SAAUmE,IAChBiZ,GAAWze,KAAKywF,aAAezqF,KAAKhG,KAAKywF,aAAa,SAAU5jF,GAAK,OAAQA,EAAE4V,OAAS,MAC/FziB,KAAK0wF,qBACL1wF,KAAK2wF,kBAEb,EAEAlC,EAAMjuF,UAAUgwF,QAAU,WACtBxwF,KAAK4wF,sBACT,EAEAnC,EAAMjuF,UAAU6+D,OAAS,SAAiBwxB,GAItC,GAHA7wF,KAAKgtC,cAAchtC,KAAK1F,SACxB0F,KAAKgwF,oBAEDa,EAAU,CACV,IAAIx5D,EAAWr3B,KAAK8wF,OAAO56C,UACvB1e,EAAOH,EAASkmC,SAASszB,GAC7Bx5D,EAASgoC,OAAO7nC,EACpB,MACIx3B,KAAKqvF,SAEb,EAEAZ,EAAMjuF,UAAUqgD,QAAU,SAAkBnsD,GACxC,OAAOkhD,eAAelhD,EAAMsL,KAAKk2C,UAAUze,KAC/C,EAEAg3D,EAAMjuF,UAAUo1C,eAAiB,SAAyBlhD,GACtD,OAAOsL,KAAK6gD,QAAQnsD,EACxB,EAEA+5F,EAAMjuF,UAAUuwF,eAAiB,SAAyBr8F,GAGtD,IAFA,IAAIsoE,EAAQh9D,KAAKk2C,UAAU8mB,MAElBpjE,EAAM,EAAGA,EAAMojE,EAAMnjE,OAAQD,IAClC,GAAIojE,EAAMpjE,GAAKU,QAAQ5F,OAASA,EAC5B,OAAO,IAAImhD,UAAUmnB,EAAMpjE,GAGvC,EAEA60F,EAAMjuF,UAAUwwF,gBAAkB,SAA0Bp3F,GACxD,IAAIojE,EAAQh9D,KAAKk2C,UAAU8mB,MAC3B,GAAIA,EAAMpjE,GACN,OAAO,IAAIi8C,UAAUmnB,EAAMpjE,GAEnC,EAEA60F,EAAMjuF,UAAU62B,SAAW,WACvB,OAAO,IAAI4e,cAAcj2C,KAAKk2C,UAClC,EAEAu4C,EAAMjuF,UAAU0jB,gBAAkB,SAA0BC,EAAM1a,GAC9D,IAEIqU,EAKImzE,EAAYC,EAPhB75D,EAAWr3B,KAAKk2C,UAChBs6B,GAAen5C,EAAS+2C,WAAa/2C,EAAS3S,QAAU,IAAI,GAG5D5oB,WAAW2N,GACXqU,EAASuZ,EAASosC,aAAah6D,IAG3BzM,SAASyM,IACTwnF,EAAaxnF,EAAOib,OACpBwsE,EAAeznF,EAAO9U,UAEtBs8F,EAAaC,EAAeznF,EAI5BqU,EADA0yD,EAAY3sE,OAAS63C,MACZy1C,oBAAoB95D,EAASusC,mBAAmBqtB,GAAaC,GAC/D/wF,QAAQqwE,EAAY3sE,KAAM,CAAEo4C,IAAKN,OAAQC,UACvCu1C,qBAAqB95D,EAAS0jC,OAAO,IAAM,CAAC,GAAGj9C,OAAQozE,GAEvD75D,EAASusC,mBAAmBqtB,IAIzCnzE,GACA9d,KAAKoxF,sBAAsBjtE,EAAMrG,EAEzC,EAEA2wE,EAAMjuF,UAAU4wF,sBAAwB,SAAgCjtE,EAAMrG,GAE1E,IADA,IAAIkG,EAAYhkB,KAAKskB,WACZ1qB,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IACnCoqB,EAAU6uD,qBAAqB/0D,EAAOlkB,GAAMuqB,EAEpD,EAEAsqE,EAAMjuF,UAAU6wF,YAAc,SAAsB5nF,GAChD,IAIIqS,EAAOqnB,EAJP+5C,EAASl9E,KAAKsxF,iBAEdj9B,EADMr0D,KACQuxF,SACdl6D,EAFMr3B,KAESk2C,UAYnB,GATIp6C,WAAW2N,IACXqS,EAAQub,EAASwsC,UAAUp6D,KACdyzE,IACT/5C,EAAgBrnB,EAAM6rB,YAEnBu1C,GAAUr6E,QAAQ4G,KACzB05B,EAAgB9L,EAAS6sB,aAAa/gB,cAAc15B,IAGpDyzE,GACA,GAAI/5C,GAAiB,EAAG,CACpB,IAAIrlB,EAAS9d,KAAKk2C,UAAUotB,sBAAsBngC,GAClDkxB,EAAQyF,OAAOh8C,EACnB,OACOhC,GACPu4C,EAAQlwC,KAAKrI,EAErB,EAEA2yE,EAAMjuF,UAAUgxF,YAAc,WAC1BxxF,KAAKuxF,SAASvgE,MAClB,EAEAy9D,EAAMjuF,UAAU2uF,aAAe,WAC3B,IAAIr2E,EAAU9Y,KAAK8Y,QACfiE,EAAO/c,KAAKyxF,eAEZvB,EAAYlwF,KAAK1F,QAAQ41F,WAAa,CAAC,EACvCA,EAAU11F,OACVwI,YAAY+Z,EAAM,CAAEviB,MAAO01F,EAAU11F,QAErC01F,EAAUvkF,QACV3I,YAAY+Z,EAAM,CAAEpR,OAAQukF,EAAUvkF,SAGrCmN,GAAWA,EAAQxe,QAAQuJ,OAAS7D,KAAK1F,QAAQo3F,UAWlD1xF,KAAK8Y,QAAQjP,QACb7J,KAAK8Y,QAAQs3E,WAXbpwF,KAAK2xF,kBAEL3xF,KAAK8Y,QAAU3kB,UAAU2R,OAAOiX,EAAM,CAClClZ,KAAM7D,KAAK1F,QAAQo3F,WAGvB1xF,KAAK8Y,QAAQ5Q,KAAK,aAAclI,KAAK4xF,2BACrC5xF,KAAK8Y,QAAQ5Q,KAAK,aAAclI,KAAK6xF,4BAQzC7xF,KAAKvG,QAAQq4F,mBAAqB9xF,KAAK8xF,mBAAmB5pF,KAAKlI,KACnE,EAEAyuF,EAAMjuF,UAAUixF,aAAe,WAC3B,OAAOzxF,KAAKvG,OAChB,EAEAg1F,EAAMjuF,UAAU6uF,QAAU,WACtB,IAAI0C,EAAQ/xF,KAAKgyF,YACjBhyF,KAAKuwF,MAAQ,CACT/1F,MAAOu3F,EAAMz3F,QAAQE,MACrBmR,OAAQomF,EAAMz3F,QAAQqR,QAG1B3L,KAAKiyF,eAELjyF,KAAKkyF,qCAELlyF,KAAK8wF,OAASiB,EACd/xF,KAAKk2C,UAAY67C,EAAM77C,UACvBl2C,KAAKmyF,QAAUJ,EAAMI,QAErBJ,EAAMvvE,gBAE2B,IAA7BxiB,KAAK1F,QAAQmzD,aACbskC,EAAMnuE,UAAS,SAASnqB,GAChBA,EAAQuoB,WACRvoB,EAAQuoB,UAAUkrC,OAE1B,IAGJltD,KAAKmvF,eACLnvF,KAAK8Y,QAAQs5E,KAAKL,EAAMhvE,SAES,IAA7B/iB,KAAK1F,QAAQmzD,aACbskC,EAAMnuE,UAAS,SAASnqB,GAChBA,EAAQuoB,WACRvoB,EAAQuoB,UAAUqwE,MAE1B,IAGJryF,KAAKuxF,SAAWvxF,KAAKsyF,iBACrBtyF,KAAKskB,WAAa,IAAIouD,UACtB1yE,KAAK2wF,kBACL3wF,KAAKuyF,kBACLvyF,KAAKwyF,uBACLxyF,KAAKyyF,wBACLzyF,KAAK0yF,qBAEL1yF,KAAKqB,QAAQy9C,QACb6zC,kBAAkB3yF,KAAKk2C,UAAU8mB,OAE5Bh9D,KAAK4yF,WACN5yF,KAAK6yF,mBAGT7yF,KAAK8yF,uBACT,EAEArE,EAAMjuF,UAAUkyF,mBAAqB,WACjC,IAAIK,EAAc/yF,KAAK+yF,cACvB/yF,KAAKvG,QAAQgE,MAAMu1F,YAAY,sCAAwCD,EAAc,KACzF,EAEAtE,EAAMjuF,UAAUsyF,sBAAwB,WACpC,IAAI9yF,KAAK+Z,WAAT,CAIA,IACIk5E,EADMjzF,KACeivF,YACrBiE,EAAgBD,EAAeC,cAC/BC,EAAoBF,EAAeE,kBAEnCD,GAAiBC,IACjBnzF,KAAKozF,cAAcpzF,KAAKqzF,yBAAyB,GACjDrzF,KAAKivF,YAAYkE,mBAAoB,EATzC,CAWJ,EAEA1E,EAAMjuF,UAAU0xF,mCAAqC,WACjD,IAAIhjE,EAAelvB,KAAK1F,QAAQ20B,MAC5BA,EAAQ5zB,WAAW6zB,GAAgBA,EAAgBA,EAAat6B,aAAes6B,EAAapB,KAE5FmB,GACAjvB,KAAKvG,QAAQgN,aAAa,uBAAwBwoB,EAE1D,EAEAw/D,EAAMjuF,UAAUsxF,mBAAqB,SAA6BtsF,GAC9D,GAAIA,GAAQA,EAAKhL,OAASgL,EAAKmG,OAAQ,CACnC,IAAIukF,EAAYlwF,KAAK8uF,iBAAiBoB,WAAa,CAAC,EAChDoD,EAAgB,CAChB94F,MAAO01F,EAAU11F,OAASgL,EAAKhL,MAC/BmR,OAAQukF,EAAUvkF,QAAUnG,EAAKmG,QAGrC,OAAO3L,KAAKuzF,aAAaD,EAC7B,CAEA,OAAOtzF,KAAKuzF,cAChB,EAEA9E,EAAMjuF,UAAU+yF,aAAe,SAAuBD,GAClD,IAAIvwE,EACJ,GAAIuwE,IAAkBA,EAAc94F,OAAS84F,EAAc3nF,QAAU2nF,EAAch5F,SAAU,CACzF,IAAIk5F,EAAiBxzF,KAAK1F,QACtBA,EAAUuC,WAAW,CAAC,EAAGy2F,EAAch5F,QAAS,CAChD41F,UAAW,CACP11F,MAAO84F,EAAc94F,MACrBmR,OAAQ2nF,EAAc3nF,UAI9B8nF,mBAAmBzzF,KAAK8uF,iBAAkBx0F,GAC1C0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK8uF,iBAAkBx0F,GACrD0F,KAAKgvF,WAAWhvF,KAAK1F,QAAS0F,KAAK+uF,QACnC/uF,KAAKksF,iBAEL,IAAI6F,EAAQ/xF,KAAKgyF,YAEjBD,EAAMvvE,eACNmwE,kBAAkBZ,EAAM77C,UAAU8mB,OAElCj6C,EAASgvE,EAAMhvE,OAEf/iB,KAAK1F,QAAUk5F,CACnB,MACIzwE,EAAS/iB,KAAK8Y,QAAQy6E,eAG1B,OAAOxwE,CACX,EAEA0rE,EAAMjuF,UAAU8wF,eAAiB,WAC7B,OAAOtxF,KAAKk2C,qBAAqBq3B,qBAAuBvtE,KAAK1F,QAAQ+5D,SAAWr0D,KAAK1F,QAAQ+5D,QAAQ6oB,MACzG,EAEAuR,EAAMjuF,UAAU+xF,gBAAkB,WAC9B,IAAIj4F,EAAU0F,KAAK1F,SACM,IAArBA,EAAQ+4B,WACRrzB,KAAK0zF,UAAY,IAAIlgB,SAASxzE,KAAKk2C,UAAW57C,EAAQ+4B,UAE9D,EAEAo7D,EAAMjuF,UAAUgyF,qBAAuB,WACnC,IAAImB,EAAW3zF,KAAK1F,QAAQq5F,SACxB5Z,GAAa4Z,GAAY,CAAC,GAAG5Z,WAChB,IAAb4Z,IAAoC,IAAd5Z,IACtB/5E,KAAK4zF,eAAiB,IAAIhgB,cAAc5zE,KAAM+5E,GAEtD,EAEA0U,EAAMjuF,UAAUiyF,sBAAwB,WACpC,IAAIkB,EAAW3zF,KAAK1F,QAAQq5F,SACxBjZ,GAAciZ,GAAY,CAAC,GAAGjZ,YACjB,IAAbiZ,IAAqC,IAAfjZ,IACtB16E,KAAK6zF,gBAAkB,IAAI9e,eAAe/0E,KAAM06E,GAExD,EAEA+T,EAAMjuF,UAAUszF,sBAAwB,WACpC,IAAIzgE,EAAWrzB,KAAK1F,QAAQ+4B,SACxBsgE,EAAW3zF,KAAK1F,QAAQq5F,SACxB5Z,GAAa4Z,GAAY,CAAC,GAAG5Z,UAC7BW,GAAciZ,GAAY,CAAC,GAAGjZ,WAC9BqZ,IAAa1gE,IAA0B,IAAbsgE,IAAoC,IAAd5Z,GAAyB/5E,KAAK4B,iBAAiB,CAAE28C,WAAYF,KAAMC,YACnH01C,IAA0B,IAAbL,IAAqC,IAAfjZ,KAA0B16E,KAAK4B,iBAAiB,CAAE48C,WAAYC,KAAMC,WACvGjlD,EAAUuG,KAAKvG,QAEfuG,KAAKi0F,kBAAoBF,GAAaC,GACtCv6F,EAAQgE,MAAM6b,YAActZ,KAAKk0F,cAAgB,GACjDl0F,KAAKi0F,kBAAmB,GAChBj0F,KAAKi0F,kBAAsBF,GAAaC,IAChDv6F,EAAQgE,MAAM6b,YAAc,OAE5BtZ,KAAKi0F,kBAAmB,GAG5Bj0F,KAAKm0F,kBAAkBJ,GAAYC,EACvC,EAEAvF,EAAMjuF,UAAU2zF,iBAAmB,SAA2BC,EAAMzf,GAChE,IAAI0f,EAAYr0F,KAAKq0F,UAChBA,IAIDA,EAAUC,YACVD,EAAUC,WAAWF,GAGrBC,EAAUE,YACVF,EAAUE,WAAW5f,GAE7B,EAEA8Z,EAAMjuF,UAAU8xF,eAAiB,WAC7B,IACI74B,EADMz5D,KACe1F,QAAQ+5D,QASjC,OANIr0D,KAAKsxF,iBACKtxF,KAAKw0F,qBAAqB/6B,GAE1B,IAAIijB,UAAU18E,KAAKqiB,aAAco3C,EAInD,EAEAg1B,EAAMjuF,UAAUg0F,qBAAuB,SAA+Bl6F,GAClE,OAAO,IAAIuiF,gBAAgB78E,KAAKk2C,UAAW57C,EAC/C,EAEAm0F,EAAMjuF,UAAUwsC,cAAgB,SAAwB1yC,EAASo0F,GAC7D+F,kBAAkBn6F,EAASo0F,GAC3BgG,oBAAoBp6F,EAASo0F,EACjC,EAEAD,EAAMjuF,UAAUwvF,kBAAoB,WAKhC,IAJA,IAAI11F,EAAU0F,KAAK1F,QACfoqB,EAASpqB,EAAQoqB,OACjBiwE,EAASr6F,EAAQioF,cAAgB,GAE5B9nF,EAAI,EAAGA,EAAIiqB,EAAO7qB,OAAQY,IAAK,CACpC,IAAI+nD,EAAgB99B,EAAOjqB,GACvBm6F,EAAcD,EAAOl6F,EAAIk6F,EAAO96F,QAChCsoD,EAAWK,EAAc6E,UAE7B7E,EAAcz5C,MAAQy5C,EAAcz5C,OAAS6rF,EACzCzyC,IACAA,EAASp5C,MAAQo5C,EAASp5C,OAAS6rF,EAE3C,CACJ,EAEAnG,EAAMjuF,UAAUwxF,UAAY,WACxB,IAAI13F,EAAU0F,KAAK1F,QACf+8B,EAAWr3B,KAAK60F,kBAChB9C,EAAQ,IAAIjoE,YAAY9pB,KAAK80F,iBACjC/C,EAAM9+D,MAAQjzB,KACd+xF,EAAM77C,UAAY7e,EAElB,IAAIpI,EAAQN,QAAQI,WAAWz0B,EAAQ20B,OACnC8lE,EAAWpmE,QAAQI,WAAWz0B,EAAQy6F,SAAU,CAChDr2E,MAAOpkB,EAAQ20B,MAAMvQ,MACrBoQ,SAAUx0B,EAAQ20B,MAAMH,WAI5B,GAFAijE,EAAMpvF,OAAOhB,MAAMowF,EAAOpjE,QAAQQ,YAAY,CAACF,EAAO8lE,KAElDz6F,EAAQgiE,QAAUhiE,EAAQgiE,OAAO75C,QAAS,CAC1C,IAAI65C,EAAS,IAAIsb,SAASvgD,EAAS/8B,QAAQgiE,OAAQt8D,KAAKqiB,cACxD0vE,EAAMpvF,OAAO25D,GACby1B,EAAMI,QAAU71B,CACpB,CAMA,OALAy1B,EAAMpvF,OAAO00B,GACb06D,EAAMjwE,SAEN9hB,KAAKg1F,aAAa/lE,EAAO8lE,GAElBhD,CACX,EAEAtD,EAAMjuF,UAAUw0F,aAAe,SAAuB/lE,EAAO8lE,GACzD,GAAK9lE,GAAU8lE,EAAf,CAIA/0F,KAAKi1F,WAAahmE,GAAS8lE,GAAUj4E,IAAIngB,QAEzC,IAAIu4F,EAAgBjmE,EAAQA,EAAM30B,QAAQw0B,SAAW,GACjDqmE,EAAmBJ,EAAWA,EAASz6F,QAAQw0B,SAAW,GAE1DsmE,EAAgBD,IAAqB1/F,SADtBy/F,IAAkBC,GAGjBJ,EAChB/0F,KAAKi1F,UAAUl4E,KAAKg4E,EAASj4E,KACtBmS,GAAS8lE,GAAYK,IAC5Bp1F,KAAKi1F,UAAYF,EAASj4E,IAAIngB,QAZlC,CAcJ,EAEA8xF,EAAMjuF,UAAUs0F,cAAgB,WAC5B,IAAIx6F,EAAU0F,KAAK1F,QACfkL,EAAOxF,KAAKiwF,UAEhB,OAAOpzF,WAAW,CACd4wD,YAAanzD,EAAQmzD,YACrBjzD,MAAOgL,EAAKhL,OAAStE,gBACrByV,OAAQnG,EAAKmG,QAAU3V,kBACxBsE,EAAQ41F,UACf,EAEAzB,EAAMjuF,UAAUq0F,gBAAkB,SAA0BQ,GACxD,IAAI/6F,EAAU0F,KAAK1F,QAInB,OAFe2+E,gBAAgBthE,QAAQ7R,OAAOuvF,EAAa,GAAK/6F,EAAQoqB,OAAQpqB,EAAS0F,KAAKqiB,aAGlG,EAEAosE,EAAMjuF,UAAUmwF,gBAAkB,WAO9B,IANA,IAGIl5D,EADMz3B,KACKk2C,UAAUze,KACrB69D,EAAat1F,KAAKywF,YAAc,GAE3Bh2F,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAAK,CAClC,IAAIkb,EAAO8hB,EAAKh9B,GACZH,EAAUqb,EAAKrb,QACnB,GAAIqb,aAAgBmrB,cAAgBxmC,EAAQi7F,SAAWj7F,EAAQywB,SAAU,CACrE,IAAIsK,EAAQ1f,EAAK0f,QAEb0kD,EAAY,IAAIN,UAZbz5E,KAYiC2V,EACpC9Y,WAAW,CAAE0K,IAAK8tB,EAAM9tB,IAAKlF,IAAKgzB,EAAMhzB,KAAO/H,EAAQi7F,SAG3DD,EAAWh2F,KAAKy6E,EACpB,CACJ,CACJ,EAEA0U,EAAMjuF,UAAUg1F,aAAe,SAAuBxzF,GAClD,OAAOhC,KAAKqB,QAAQs9C,aAAc38C,EACtC,EAEAysF,EAAMjuF,UAAUkZ,QAAU,SAAkB1X,GACxC,OAAOhC,KAAKqB,QAAQu9C,OAAQ58C,EAChC,EAEAysF,EAAMjuF,UAAUi1F,WAAa,SAAqBzzF,GAC9C,OAAOhC,KAAKqB,QAAQw9C,WAAY78C,EACpC,EAEAysF,EAAMjuF,UAAU0uF,cAAgB,WAC5BlvF,KAAK01F,cAAgB11F,KAAK21F,OAAOztF,KAAKlI,MACtCA,KAAK41F,gBAAkB51F,KAAK61F,SAAS3tF,KAAKlI,MAC1CA,KAAK81F,cAAgB91F,KAAK+1F,OAAO7tF,KAAKlI,MACtCA,KAAKg2F,aAAeh2F,KAAKi2F,MAAM/tF,KAAKlI,MACpCA,KAAKk2F,kBAAoBl2F,KAAKm2F,WAAWjuF,KAAKlI,MAC9CA,KAAK26E,mBAAqB36E,KAAK46E,YAAY1yE,KAAKlI,MAChDA,KAAKo2F,mBAAqBp2F,KAAKq2F,YAAYnuF,KAAKlI,MAChDA,KAAK4xF,0BAA4B5xF,KAAKs2F,WAAWpuF,KAAKlI,MACtDA,KAAK6xF,0BAA4B7xF,KAAKu2F,UAAUruF,KAAKlI,MAErDA,KAAKw2F,WAAapiG,SACd4L,KAAKw2F,WAAWtuF,KAAKlI,MACrBuuF,gBAER,EAEAE,EAAMjuF,UAAUouF,YAAc,SAAsB9tF,GAC5CA,GACAd,KAAK2uF,UAAUrvF,KAAKwB,EAE5B,EAEA2tF,EAAMjuF,UAAUi2F,eAAiB,SAAyB31F,GACtD,IAAIrF,EAAQuE,KAAK2uF,UAAU50F,QAAQ+G,GAC/BrF,GAAS,GACTuE,KAAK2uF,UAAU57E,OAAOtX,EAAO,EAErC,EAEAgzF,EAAMjuF,UAAUoB,iBAAmB,SAA2B2Q,GAE1D,IADA,IAAIo8E,EAAY3uF,KAAK2uF,UACZ/0F,EAAM,EAAGA,EAAM+0F,EAAU90F,OAAQD,IACtC,GAAI+0F,EAAU/0F,GAAKgI,iBAAiB2Q,GAChC,OAAO,CAGnB,EAEAk8E,EAAMjuF,UAAUa,QAAU,SAAkB3M,EAAM4M,QAChC,IAATA,IAAkBA,EAAO,CAAC,GAE/BA,EAAKuR,OAAS7S,KAEVtL,IAASqqD,eACTz9C,EAAK3G,OAAOmhB,MAAQ9b,KAAK02F,uBAAuBp1F,EAAK3G,OAAOmhB,OACrDpnB,IAASspD,YAChBh+C,KAAK22F,sBAAsBr1F,EAAKwa,OACzBpnB,IAASupD,aAChBj+C,KAAK42F,uBACEliG,IAASopD,cAChB99C,KAAK62F,YAAYv1F,EAAKwa,OACtB9b,KAAK82F,gBAAgBx1F,EAAKwa,QACnBpnB,IAASipD,mBAChB39C,KAAK+2F,iBAAiBz1F,GAK1B,IAFA,IAAIqtF,EAAY3uF,KAAK2uF,UACjBptF,GAAqB,EAChB3H,EAAM,EAAGA,EAAM+0F,EAAU90F,OAAQD,IAClC+0F,EAAU/0F,GAAKyH,QAAQ3M,EAAM4M,KAC7BC,GAAqB,GAI7B,OAAOA,CACX,EAEAktF,EAAMjuF,UAAUuyF,YAAc,WAC1B,OAAK/yF,KAAKi1F,UAIHj1F,KAAKi1F,UAAUtpF,SAHX,CAIf,EAEA8iF,EAAMjuF,UAAU8uF,cAAgB,WAC5B,IAAI/vF,EAAKy3F,EAELv9F,EAAUuG,KAAKvG,QAEnBuG,KAAKk0F,aAAez6F,EAAQgE,MAAM6b,YAElC1W,WAAWnJ,IAAW8F,EAAM,CAAC,GAAQ2uF,aAAgBluF,KAAK01F,cAAen2F,EAAKsgD,cAAiB7/C,KAAK26E,mBAAoBp7E,EAAK4uF,YAAenuF,KAAKo2F,mBAAoB72F,EAAK6uF,SAAYpuF,KAAK41F,gBAAiBr2F,EAAKyuF,WAAchuF,KAAKk2F,kBAAmB32F,EAAK8uF,OAAUruF,KAAK81F,cAAev2F,EAAK+uF,MAAQtuF,KAAKg2F,aAAcz2F,IAEtTS,KAAKi3F,0BACLr0F,WAAWnJ,IAAWu9F,EAAQ,CAAC,GAAU/I,WAAcjuF,KAAKw2F,WAAYQ,IAG5Eh3F,KAAKq0F,UAAY9gE,iBAAiBztB,OAAO9F,KAAKvG,QAAS,CACnD4G,MAAOL,KAAK6X,OAAO3P,KAAKlI,MACxB+N,KAAM/N,KAAKkZ,MAAMhR,KAAKlI,MACtBM,IAAKN,KAAKoZ,KAAKlR,KAAKlI,MACpB86E,IAAK96E,KAAKqX,KAAKnP,KAAKlI,MACpBg7E,aAAch7E,KAAKi7E,cAAc/yE,KAAKlI,MACtCk7E,cAAel7E,KAAKm7E,eAAejzE,KAAKlI,MACxCo7E,WAAYp7E,KAAKq7E,YAAYnzE,KAAKlI,QAGtCA,KAAK8zF,uBACT,EAEArF,EAAMjuF,UAAU61F,YAAc,SAAsBr0F,GAC5ChC,KAAKk3F,gBACLl3F,KAAKk3F,cAAcrlE,IAAI7xB,KAAMgC,GAC7BhC,KAAKk3F,cAAgB,MAGrBl3F,KAAKm3F,mBACLn3F,KAAKm3F,kBAAmB,EACxBn3F,KAAKqB,QAAQ+8C,kBAGbp+C,KAAKo3F,uBAAyBp3F,KAAKq3F,uBACnCr3F,KAAKs3F,oBAAoBt3F,KAAKq3F,qBAAqBz1E,SAAU,MAAM,GACnE5hB,KAAKu3F,qBAAqB,MAAM,GAExC,EAEA9I,EAAMjuF,UAAUqyF,iBAAmB,WAC3B7yF,KAAKq0F,WAAar0F,KAAKq0F,UAAUpmF,QACjCjO,KAAKq0F,UAAUpmF,QAEvB,EAEAwgF,EAAMjuF,UAAUy6E,cAAgB,SAAwBj5E,GAChDhC,KAAK6zF,kBAAoB7zF,KAAKw3F,mBAAmBx1F,KACjDhC,KAAKy3F,iBAAmBz1F,EAAEoT,SAC1BpV,KAAK03E,oBACL13E,KAAK03F,uBACL13F,KAAK8Y,QAAQ6+E,kBAErB,EAEAlJ,EAAMjuF,UAAU66E,YAAc,SAAsBr5E,GAC5ChC,KAAK43F,WAAa53F,KAAKw3F,mBAAmBx1F,KACtChC,KAAK8Y,SACL9Y,KAAK8Y,QAAQ++E,iBAEjB73F,KAAK43F,UAAW,EAChB53F,KAAKqB,QAAQq9C,SAAU,CAAC,GAEhC,EAEA+vC,EAAMjuF,UAAU26E,eAAiB,SAAyBn5E,GACtD,IAAI81F,EAAiB93F,KAAK6zF,gBAE1B,GAAIiE,IAAmB93F,KAAKw3F,mBAAmBx1F,GAAI,CAC/CA,EAAE8Q,iBACF,IAAIilF,EAA0B/3F,KAAKy3F,iBAC/BO,GAAch2F,EAAEoT,SAAW2iF,EAA0B,EAEzD,GAAI31F,KAAKkZ,IAAI08E,IAAe,GAAK,CAC7BA,EAAa51F,KAAKxH,MAAmB,GAAbo9F,GAExBh4F,KAAKy3F,iBAAmBz1F,EAAEoT,SAC1B,IAAI9T,EAAO,CAAEW,MAAO+1F,EAAY3nC,WAAYA,WAAWrwD,KAAKk2C,UAAUze,MAAOjiB,cAAexT,GAC5F,GAAIhC,KAAK43F,WAAa53F,KAAKqB,QAAQm9C,WAAYl9C,GAAO,CAClD,IAAI+pD,EAASrrD,KAAK8xE,kBAAkB9vE,GAE/BhC,KAAK43F,WACN53F,KAAK43F,UAAW,IAGPt2F,EAAK+uD,WAAaynC,EAAe7iB,aAAa+iB,EAAY3sC,MACxDrrD,KAAKqB,QAAQo9C,KAAMn9C,IAC9Bw2F,EAAenjB,MAEvB,CACJ,CACJ,CACJ,EAEA8Z,EAAMjuF,UAAU+1F,UAAY,SAAoBv0F,GAC5C,GAAIA,EAAEvI,QAAS,CACX,IAAIA,EAAUuG,KAAKi4F,qBAAqBj2F,EAAEvI,QAASuI,GAE/CvI,GAAWA,EAAQy+F,OACnBz+F,EAAQy+F,MAAMl4F,KAAMgC,EAAEwT,cAE9B,CACJ,EAEAi5E,EAAMjuF,UAAUqX,OAAS,SAAiB7V,GACtC,IAAIqpD,EAASrrD,KAAK8xE,kBAAkB9vE,IAEhChC,KAAKw3F,mBAAmBx1F,IAAOhC,KAAKk2C,UAAUitB,wBAAwB9X,KAKtErrD,KAAK4B,iBAAiB,CAAE28C,WAAYF,KAAMC,YAC1Ct+C,KAAKm4F,iBAAiBn2F,EAAGqpD,EAAQ9M,YAGjCv+C,KAAK0zF,WAAa1zF,KAAK0zF,UAAUrzF,MAAM2B,KACvChC,KAAK8Y,QAAQ6+E,kBACb33F,KAAK03E,oBACL13E,KAAK03F,uBACL13F,KAAKo4F,gBAAiB,EACtBp4F,KAAKqiB,aAAaimB,SAAU,GAG5BtoC,KAAK4zF,gBACD5zF,KAAK4zF,eAAevzF,MAAM2B,IAC1BhC,KAAKqB,QAAQm9C,WAAY,CAAE6R,WAAYA,WAAWrwD,KAAKk2C,UAAUze,MAAOjiB,cAAexT,IAGnG,EAEAysF,EAAMjuF,UAAU0Y,MAAQ,SAAgBlX,GACpC,IACIiC,EADMjE,KACM4yF,UACZv/D,EAFMrzB,KAES0zF,UAEnB,IAAI1zF,KAAKw3F,mBAAmBx1F,GAA5B,CAIA,GAAIqxB,EAAU,CACV,IAAIkgD,EAASlgD,EAAStlB,KAAK/L,GAEvBuxE,IAAWvzE,KAAKqB,QAAQg9C,KAAM,CAAEgS,WAAYkjB,EAAQ/9D,cAAexT,KACnEqxB,EAAS+Q,KAEjB,MAAO,GAAIngC,EAAO,CAId,IAHA,IAAIo0F,EAAW,CAAC,EACZ5gE,EAAOxzB,EAAMwzB,KAERh9B,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAAK,CAClC,IAAI+/D,EAAc/iC,EAAKh9B,GAEvB,GADe+/D,EAAYlgE,QAAQ5F,KACrB,CACV,IAAIihB,EAAO6kD,EAAYlgE,QAAQywB,SAAW/oB,EAAE9G,EAAI8G,EAAE/G,EAC9CgH,EAAQ0T,EAAKG,cAAgBH,EAAKd,SAExB,IAAV5S,IACAo2F,EAAS79B,EAAYlgE,QAAQ5F,MAAQ8lE,EAAY92B,eAAezhC,GAExE,CACJ,CAEAgC,EAAMosD,WAAagoC,EACnBr4F,KAAKqB,QAAQg9C,KAAM,CACfgS,WAAYgoC,EACZ7iF,cAAexT,GAEvB,CAEIhC,KAAK4zF,gBACL5zF,KAAK4zF,eAAe7lF,KAAK/L,EAjC7B,CAmCJ,EAEAysF,EAAMjuF,UAAU4Y,KAAO,SAAepX,GAClC,IAAIhC,KAAKw3F,mBAAmBx1F,GAA5B,CAIA,IAAIqxB,EAAWrzB,KAAK0zF,UAapB,GAZIrgE,GAAYA,EAAS/yB,IAAI0B,IACzBhC,KAAK8Y,QAAQ++E,iBACb73F,KAAKqB,QAAQi9C,SAAU,CACnB+R,WAAYA,WAAWrwD,KAAKk2C,UAAUze,MACtCjiB,cAAexT,IAEnBhC,KAAKo4F,gBAAiB,EACtBp4F,KAAKqiB,aAAaimB,SAAU,GAE5BtoC,KAAKs4F,eAAet2F,EAAGs8C,UAGvBt+C,KAAK4zF,eAAgB,CACrB,IAAIrgB,EAASvzE,KAAK4zF,eAAetzF,IAAI0B,GACjCuxE,IAAWvzE,KAAKqB,QAAQo9C,KAAM,CAAE4R,WAAYkjB,EAAQ/9D,cAAexT,MACnEhC,KAAK4zF,eAAejf,OACpB30E,KAAKqB,QAAQq9C,SAAU,CAAE2R,WAAYkjB,EAAQ/9D,cAAexT,IAEpE,CArBA,CAsBJ,EAEAysF,EAAMjuF,UAAUg3F,mBAAqB,SAA6Bx1F,GAC9D,IAAIszF,EAAat1F,KAAKywF,aAAe,GACrC,IAAK6E,EAAWz7F,OACZ,OAAO,EAGX,IAAIwxD,EAASrrD,KAAK8xE,kBAAkB9vE,GAChCw1B,EAAOx3B,KAAKk2C,UAAU4tB,YAAYzY,GACtC,GAAI7zB,EACA,IAAK,IAAI59B,EAAM,EAAGA,EAAM07F,EAAWz7F,OAAQD,IACvC,GAAI07F,EAAW17F,GAAKkgF,OAAOtiD,GACvB,OAAO,CAIvB,EAEAi3D,EAAMjuF,UAAU+3F,oBAAsB,WAClC,IACI7d,GADW16E,KAAK1F,QAAQq5F,UACE,CAAC,GAAGjZ,YAAc,CAAC,EACjD,OAAOh3E,eAAeg3E,EAAW1F,KAAMj1B,qBAC3C,EAEA0uC,EAAMjuF,UAAUo6E,YAAc,SAAsB54E,GAChD,IAAIiR,EAAWjT,KAEXiC,EAAQF,gBAAgBC,GACxB81F,EAAiB93F,KAAK6zF,gBACtBxoC,EAASrrD,KAAK8xE,kBAAkB9vE,GAEpC,IAAIhC,KAAKw3F,mBAAmBx1F,IAAOhC,KAAKk2C,UAAUitB,wBAAwB9X,GAI1E,GAAIysC,EAAgB,CAChB,IAAIx2F,EAAO,CAAEW,MAAOA,EAAOouD,WAAYA,WAAWrwD,KAAKk2C,UAAUze,MAAOjiB,cAAexT,IACnFhC,KAAK43F,UAAa53F,KAAKqB,QAAQm9C,WAAYl9C,KAC3CU,EAAE8Q,iBAEG9S,KAAK43F,WACN53F,KAAK03E,oBACL13E,KAAK03F,uBACL13F,KAAK8Y,QAAQ6+E,kBACb33F,KAAK43F,UAAW,GAGhB53F,KAAKs7E,YACLvjE,aAAa/X,KAAKs7E,YAGtBh6E,EAAK+uD,WAAaynC,EAAe7iB,aAAahzE,EAAOopD,GACjD/pD,EAAK+uD,aAAerwD,KAAKqB,QAAQo9C,KAAMn9C,IACvCw2F,EAAenjB,OAGnB30E,KAAKs7E,WAAarkE,YAAW,WACzBhE,EAAS5R,QAAQq9C,SAAUp9C,GAC3B2R,EAAS2kF,UAAW,EAChB3kF,EAAS6F,SACT7F,EAAS6F,QAAQ++E,gBAEzB,GAAG/3C,kBAEX,KAAO,CACH,IAAI77C,EAAQjE,KAAK4yF,UACjB,IAAK3uF,EACejE,KAAKm4F,iBAAiBn2F,EAAGqpD,EAAQ7M,cAE7Cv6C,EAAQjE,KAAK4yF,WAIrB,GAAI3uF,EAAO,CACP,IAAIu0F,EAAav0F,EAAMu0F,YAAcv2F,EACrCgC,EAAMu0F,WAAaA,EAAav2F,EAKhC,IAHA,IAAIw1B,EAAOz3B,KAAK4yF,UAAUn7D,KACtB87C,EAAS,CAAC,EAEL94E,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAAK,CAClC,IAAI+/D,EAAc/iC,EAAKh9B,GACnBsrD,EAAWyU,EAAYlgE,QAAQ5F,KAC/BqxD,IACAwtB,EAAOxtB,GAAYyU,EAAY72B,YAAY60D,EAAavlF,EAASslF,sBAAuBltC,GAEhG,CAEArrD,KAAKqB,QAAQo9C,KAAM,CACfx8C,MAAOA,EACPouD,WAAYkjB,EACZ/9D,cAAexT,IAGfhC,KAAKs7E,YACLvjE,aAAa/X,KAAKs7E,YAGtBt7E,KAAKs7E,WAAarkE,YAAW,WACzBhE,EAASqlF,eAAet2F,EAAG08C,SAC/B,GAAGoB,iBACP,CACJ,CACJ,EAEA2uC,EAAMjuF,UAAU23F,iBAAmB,SAA2Bn2F,EAAGqpD,EAAQotC,GACrE,IAAIphE,EAAWr3B,KAAK8wF,OAAO56C,UACvB1e,EAAOH,EAASomC,cAAcpS,GAC9B5zB,EAAOJ,EAASI,KAAKnuB,MAAM,GAE/B,GAAKkuB,EAAL,CAIA,IAAI+7C,EAASljB,WAAW54B,GAERz3B,KAAKqB,QAAQo3F,EAAY,CACrCpoC,WAAYkjB,EACZ/9D,cAAexT,IAIfhC,KAAK6yF,oBAEL7yF,KAAKo4F,gBAAiB,EACtBp4F,KAAK03E,oBACL13E,KAAK03F,uBACL13F,KAAK4yF,UAAY,CACbviC,WAAYkjB,EACZ/7C,KAAMA,EACNC,KAAMA,GAlBd,CAqBJ,EAEAg3D,EAAMjuF,UAAU83F,eAAiB,SAAyBt2F,EAAGy2F,GACrDz4F,KAAK4yF,YACL5yF,KAAKqB,QAAQo3F,EAAY,CACrBpoC,WAAYrwD,KAAK4yF,UAAUviC,WAC3B76C,cAAexT,IAEnBhC,KAAKo4F,gBAAiB,EACtBp4F,KAAK4yF,UAAY,KAEzB,EAEAnE,EAAMjuF,UAAUk4F,iBAAmB,SAA2B12F,EAAG5C,GAC7D,IAAI3F,EAAUuG,KAAK8Y,QAAQ6/E,YAAY32F,GACvC,GAAIvI,EACA,OAAOuG,KAAKi4F,qBAAqBx+F,EAASuI,EAAG5C,EAErD,EAEAqvF,EAAMjuF,UAAUy3F,qBAAuB,SAA+Bx+F,EAASuI,EAAG5C,GAG9E,IAFA,IACI4jB,EADArL,EAAUle,EAEPke,IAAYqL,GACfA,EAAerL,EAAQqL,aACvBrL,EAAUA,EAAQpP,OAGtB,GAAIya,EAYA,OAXIA,EAAaqO,WACbrO,EAAeA,EAAaqO,SAASrvB,EAAGhC,KAAK8xE,kBAAkB9vE,KAG/D5C,IACA4jB,EAAeA,EAAatT,QAAQtQ,KAChB4jB,EAAaqO,WAC7BrO,EAAeA,EAAaqO,YAI7BrO,CAEf,EAEAyrE,EAAMjuF,UAAUsxE,kBAAoB,SAA4B9vE,GAC5D,IAAI42F,EAAc31F,iBAAiBjB,GACnC,OAAOhC,KAAK47E,oBAAoBgd,EAAY39F,EAAG29F,EAAY19F,EAC/D,EAEAuzF,EAAMjuF,UAAUq4F,gBAAkB,WAC9B,IAAK74F,KAAK84F,SAAU,CAChB,IAAIp2F,EAAMpF,cAAc0C,KAAKvG,QAAS,CAAE,cAAe,eACnD8/D,EAAc72D,EAAI62D,YAClBF,EAAa32D,EAAI22D,WACrBr5D,KAAK84F,SAAW,CACZ76F,IAAKo7D,EACLj7D,KAAMm7D,EAEd,CAEA,OAAOv5D,KAAK84F,QAChB,EAEArK,EAAMjuF,UAAUk2F,uBAAyB,SAAiC56E,GACtE,IAAI6B,EAAU3d,KAAK64F,kBACfx+F,EAAS0I,cAAc/C,KAAKvG,SAEhC,MAAO,CACH2E,KAAMoF,QAAQsY,EAAM7gB,EAAI0iB,EAAQvf,KAAO/D,EAAO+D,MAC9CH,IAAKuF,QAAQsY,EAAM5gB,EAAIyiB,EAAQ1f,IAAM5D,EAAO4D,KAEpD,EAIAwwF,EAAMjuF,UAAUo7E,oBAAsB,SAA8B3gE,EAASC,GACzE,IAAIzhB,EAAUuG,KAAKvG,QACfY,EAAS0I,cAActJ,GACvBkkB,EAAU3d,KAAK64F,kBACfE,EAAmB1wF,aAAa5O,GAASu/F,SACzCl9E,EAAQ,IAAIjpB,QACZooB,EAAU5gB,EAAO+D,KAAOuf,EAAQvf,KAChC8c,EAAU7gB,EAAO4D,IAAM0f,EAAQ1f,KACjCvK,UAAUqlG,GAEZ,OAAO,IAAIp9E,QAAQG,EAAM7gB,EAAG6gB,EAAM5gB,EACtC,EAEAuzF,EAAMjuF,UAAU6W,KAAO,SAAerV,GAClC,IAAIiR,EAAWjT,KAEXi5F,EAAiBj5F,KAAK8Y,QAAQ6/E,YAAY32F,GAC1CvI,EAAUuG,KAAKi4F,qBAAqBgB,EAAgBj3F,GACpDk3F,EAAgBl5F,KAAKsxF,iBAEpBtxF,KAAKm5F,YAAYF,EAAgBj3F,IAAOk3F,GACzCl5F,KAAK03E,oBAGLwhB,GACAl5F,KAAKo5F,oBAAoBp5F,KAAK8xE,kBAAkB9vE,GAAIA,GAAG,GAG3DhC,KAAKq5F,gBAAgB5/F,EAASuI,GAG9BhC,KAAKs5F,aAAc,EACnBriF,YAAW,WACPhE,EAASqmF,aAAc,CAC3B,GAAG,EACP,EAEA7K,EAAMjuF,UAAUm1F,OAAS,SAAiB3zF,GACtC,IAAIvI,EAAUuG,KAAK04F,iBAAiB12F,GACpChC,KAAKq5F,gBAAgB5/F,EAASuI,EAClC,EAEAysF,EAAMjuF,UAAU64F,gBAAkB,SAA0B5/F,EAASuI,GAIjE,IAHA,IAEI2V,EAAUle,EACPke,GACCA,EAAQiY,OACRjY,EAAQiY,MALD5vB,KAKiBgC,GAG5B2V,EAAUA,EAAQpP,MAE1B,EAEAkmF,EAAMjuF,UAAU+4F,qBAAuB,WACnC,IACIC,EADMx5F,KACe1F,QAAQgiE,OAAOxtC,SACpCwtC,EAFMt8D,KAEOmyF,QAEjB,OAAO71B,GAAUA,EAAOic,aAAeihB,IAAmB/hG,KAAO+hG,IAAmB7iG,KACxF,EAEA83F,EAAMjuF,UAAUu1F,OAAS,WAChB/1F,KAAKy5F,4BACFz5F,KAAKu5F,uBACLv5F,KAAK05F,wBAEL15F,KAAK25F,oBAIb35F,KAAKy5F,2BAA4B,CACrC,EAEAhL,EAAMjuF,UAAUq1F,SAAW,SAAmB7zF,GAC1C,IACIixF,EADMjzF,KACeivF,YACrBiE,EAAgBD,EAAeC,cAC/B0G,EAAiB3G,EAAe2G,eAChCt9B,EAJMt8D,KAIOmyF,QAEjB,GAAInwF,EAAEtB,MAAQrL,IAAK,CACf2K,KAAK03F,uBACL,IAAImC,EAAsB75F,KAAKu5F,uBAE3BrG,GAAiB2G,IAAwB73F,EAAEoxE,SAC3CpzE,KAAK85F,gBAAgB93F,IACbkxF,GAAiB2G,IAAwB73F,EAAEoxE,UAAY9W,EAAOic,YACtEv4E,KAAK+5F,gBAAgB/3F,EAE7B,MAAWA,EAAEtB,MAAQrK,QACbujG,GACA53F,EAAE+W,kBAGF/Y,KAAKuxF,UAAYvxF,KAAKuxF,SAAS9uE,QAC/BziB,KAAKg6F,eAELh6F,KAAKi2F,SAEFj0F,EAAEtB,MAAQtK,MACbwjG,IACA55F,KAAKivF,YAAYkE,mBAAoB,EACrCnzF,KAAKq5F,gBAAgBO,EAAgB53F,GACrChC,KAAKozF,cAAcwG,IAEf1G,EAGRlzF,KAAK+5F,gBAAgB/3F,GAFrBhC,KAAK85F,gBAAgB93F,EAI7B,EAEAysF,EAAMjuF,UAAUs5F,gBAAkB,SAA0B93F,GACxD,IAAIiR,EAAWjT,KAGXi6F,EADMj6F,KACWivF,YACjB53D,EAFMr3B,KAESk2C,UAInB,GAFA+jD,EAAW/G,eAAgB,GAEtB+G,EAAWL,eAGZ,OAFA55F,KAAK25F,wBACL33F,EAAE8Q,iBAIN,IAAIonF,EAAY,SAAUp+E,GACtBm+E,EAAWE,aAAer+E,EAE1B7I,EAASmgF,cAAc6G,EAAWE,cAClClnF,EAASmnF,gBAAgBt+E,GACzB9Z,EAAE8Q,gBACN,EAEA,OAAQ9Q,EAAEtB,KACN,KAAKtL,YACD8kG,EAAU7iE,EAAS6tC,mBAAmB+0B,EAAWE,eACjD,MACJ,KAAKhlG,WACD+kG,EAAU7iE,EAAS+tC,kBAAkB60B,EAAWE,eAChD,MACJ,KAAKjlG,WACDglG,EAAU7iE,EAASytC,cAAcm1B,EAAWE,eAC5C,MACJ,KAAKllG,SACDilG,EAAU7iE,EAAS4tC,cAAcg1B,EAAWE,eAKxD,EAEA1L,EAAMjuF,UAAUu5F,gBAAkB,SAA0B/3F,GACxD,IAAIiR,EAAWjT,KAEX0C,EAAM1C,KACNi6F,EAAav3F,EAAIusF,YACjB3yB,EAAS55D,EAAIyvF,QACbj/D,EAAMxwB,EAAI2f,aAAa6Q,IAI3B,GAFA+mE,EAAW/G,eAAgB,GAEtB+G,EAAWL,eAGZ,OAFA55F,KAAK05F,6BACL13F,EAAE8Q,iBAIN,IAAIunF,EAAc/9B,EAAOkc,WAAW3+E,OAChCqgG,EAAY,SAAUI,GACtBL,EAAWM,uBAAyBD,EAChCL,EAAWM,uBACXF,GAEJpnF,EAASmgF,cAAcngF,EAASogF,yBAChCrxF,EAAE8Q,gBACN,EAEA,OAAQ9Q,EAAEtB,KACN,KAAKzL,SACL,KAAKE,WACD+kG,EAAUhnE,EAAM13B,QAAUG,WAC1B,MACJ,KAAKzG,WACL,KAAKE,YACD8kG,EAAUhnE,EAAMv3B,UAAYH,SAKxC,EAEAizF,EAAMjuF,UAAUm5F,iBAAmB,WAC/B,IAAI79E,EAAQ9b,KAAKivF,YAAYkL,aAAen6F,KAAKk2C,UAAU2uB,gBAEvD/oD,IACA9b,KAAKozF,cAAct3E,GACnB9b,KAAKo6F,gBAAgBt+E,GAE7B,EAEA2yE,EAAMjuF,UAAUg6F,UAAY,WACxB,OAAOx6F,KAAKvG,QAAQghG,cAAcC,gBAAkB16F,KAAKvG,OAC7D,EAEAg1F,EAAMjuF,UAAU21F,WAAa,WACpBn2F,KAAKw6F,cACNx6F,KAAKy5F,2BAA4B,EAEzC,EAEAhL,EAAMjuF,UAAUm6F,YAAc,WACrB36F,KAAKw6F,cACNx6F,KAAKy5F,2BAA4B,EACjCz5F,KAAKvG,QAAQmhG,QAErB,EAEAnM,EAAMjuF,UAAUq2F,YAAc,SAAsB/6E,GAChD9b,KAAKivF,YAAYkL,aAAer+E,EAEhC9b,KAAK26F,cAEL36F,KAAKozF,cAAct3E,GAAO,EAC9B,EAEA2yE,EAAMjuF,UAAUk5F,sBAAwB,WACpC,IACIO,EADMj6F,KACWivF,YAErBgL,EAAWM,uBAAyB,EACpCv6F,KAAKozF,cAAcpzF,KAAKqzF,yBACxB4G,EAAW/G,eAAgB,EAE3BlzF,KAAKg6F,cACT,EAEAvL,EAAMjuF,UAAUu2F,iBAAmB,SAA2Bz1F,GAC1D,IACI24F,EADMj6F,KACWivF,YAErBgL,EAAWM,uBAAyBv6F,KAAKmyF,QACpC3Z,WACA2U,WAAU,SAAUlyF,GAAK,OAAOA,EAAEX,QAAQoqB,OAAOjpB,QAAU6F,EAAKkiE,aAC1DvoE,EAAEX,QAAQqpE,aAAeriE,EAAKqiE,UAAY,IAErDs2B,EAAW/G,eAAgB,EAE3BlzF,KAAK26F,cAEL36F,KAAKozF,cAAcpzF,KAAKqzF,yBAAyB,EACrD,EAEA5E,EAAMjuF,UAAU6yF,sBAAwB,WACpC,IACI4G,EADMj6F,KACWivF,YAGrB,OAJUjvF,KAEOmyF,QAEH3Z,WAAWyhB,EAAWM,uBACxC,EAEA9L,EAAMjuF,UAAU4yF,cAAgB,SAAwB35F,EAASohG,GAC7D,IACIZ,EADMj6F,KACWivF,YAIrB,GAFAjvF,KAAK03F,uBAEAj+F,IAILwgG,EAAWL,eAAiBngG,EAE5BuG,KAAK86F,4BAA4BrhG,IAE5BohG,GAGD,GAFAphG,EAAQqxD,cAEJmvC,EAAW/G,cAAe,CAC1B,IAAI54F,EAAUb,EAAQa,QAEtB0F,KAAK+6F,2BAA2BzgG,EAAQoqB,OAAOjpB,MAAOnB,EAAQqpE,WAClE,MACI3jE,KAAKg7F,qBAAqBvhG,EAGtC,EAEAg1F,EAAMjuF,UAAUk3F,qBAAuB,WACnC,IACIuC,EADMj6F,KACWivF,YAEhBgL,IAIDA,EAAWL,iBACXK,EAAWL,eAAe7uC,uBAC1B/qD,KAAKi7F,iCAGThB,EAAWL,eAAiB,KAChC,EAEAnL,EAAMjuF,UAAUs6F,4BAA8B,SAAsCrhG,GAClD,WAA1BuG,KAAK1F,QAAQo3F,WACb1xF,KAAKk7F,sBAAwBl7F,KAAKm7F,4BAA4B1hG,GAC9DuG,KAAKvG,QAAQkJ,OAAO3C,KAAKk7F,wBAG7Bl7F,KAAKvG,QAAQgN,aAAanR,uBAAwBmE,EAAQyvD,IAC9D,EAEAulC,EAAMjuF,UAAUy6F,8BAAgC,WACxCj7F,KAAKk7F,wBACLl7F,KAAKk7F,sBAAsBE,SAC3Bp7F,KAAKk7F,sBAAwB,MAGjCl7F,KAAKvG,QAAQ4hG,gBAAgB/lG,uBACjC,EAEAm5F,EAAMjuF,UAAU26F,4BAA8B,SAAsC1hG,GAChF,IAAI6hG,EAAgBn3F,SAASiD,cAAc,OACvCygB,EAAuBpuB,EAAQa,QAAQ0qB,cAE3Cs2E,EAAc7mG,GAAKgF,EAAQyvD,IAC3BoyC,EAAc70F,aAAa,aAAchN,EAAQgwD,oBACjD6xC,EAAc70F,aAAa,OAAQohB,EAAqBC,MACxDwzE,EAAc70F,aAAa,uBAAwBohB,EAAqBG,qBAExE,IAAIuzE,EAAU1zE,EAAqBI,YAKnC,OAJIplB,QAAQ04F,IACRD,EAAc70F,aAAa,eAAgB80F,GAGxCD,CACX,EAEA7M,EAAMjuF,UAAUy1F,MAAQ,WACpBj2F,KAAKivF,YAAYiE,eAAgB,EACjClzF,KAAK03F,uBACL13F,KAAKw7F,sBACT,EAEA/M,EAAMjuF,UAAU24F,YAAc,SAAsB1/F,EAASuI,GACzD,GAAIhC,KAAKo4F,eACL,OAAO,EAGX,IAAIt8E,EAAQ9b,KAAKi4F,qBAAqBx+F,EAASuI,GAAG,SAASvI,GACvD,OAAQA,EAAQovD,OAASpvD,EAAQm4B,SAAWn4B,aAAmB2iE,aACnE,IAEIq/B,EAAcz7F,KAAK07F,aAcvB,OAZA17F,KAAK27F,oBAAoB7/E,EAAO9Z,GAE5B8Z,GAAS2/E,IAAgB3/E,GAASA,EAAM+sC,QACxC7oD,KAAK07F,aAAe5/E,EAEf9b,KAAKsxF,kBAAqBx1E,EAAM+sC,MAAM7oD,KAAMgC,KAC7ChC,KAAKo6F,gBAAgBt+E,GAErB9b,KAAKg7F,qBAAqBl/E,KAI3BA,CACX,EAEA2yE,EAAMjuF,UAAU45F,gBAAkB,SAA0Bt+E,GACnCjf,WAAW,CAAC,EAAGmD,KAAK1F,QAAQ+5D,QAASv4C,EAAMxhB,QAAQ+5D,SACrD5xC,UACXziB,KAAKsxF,kBAAoBx1E,EAAMgB,IAC/B9c,KAAKo5F,oBAAoBt9E,EAAMgB,IAAI3H,SAAU,CAAC,GAE9CnV,KAAKuxF,SAASptE,KAAKrI,GAG/B,EAEA2yE,EAAMjuF,UAAUw5F,aAAe,WACvBh6F,KAAKuxF,UACLvxF,KAAKuxF,SAASvgE,MAEtB,EAEAy9D,EAAMjuF,UAAUo7F,wBAA0B,SAAkCH,EAAaI,EAAgBC,GACrG,IAAIC,EAAgB/7F,KAAKq3F,qBAAuBr3F,KAAKg8F,wBAAwBP,GAC7E,GAAKM,EAIL,GAAIF,EACA77F,KAAKu3F,qBAAqBkE,GAC1Bz7F,KAAKs3F,oBAAoByE,EAAcn6E,SAAU,MAAM,GACvD5hB,KAAKs3F,oBAAoByE,EAAcn6E,SAAU65E,EAAY/2E,QAC7D1kB,KAAKskB,WAAWH,KAAK23E,GAAmBL,OACrC,CACH,IAAIQ,EAEJ,IAAKF,EAAcj2E,+BAEf,YADA9lB,KAAKskB,WAAWH,KAAKs3E,IAIzBQ,EAAiBj8F,KAAKk8F,mBAAmBT,EAAaM,KAEhCE,EAAepiG,QACjCmG,KAAKskB,WAAWH,KAAK83E,EAAgB,EAAIj8F,KAAKm8F,6BAA6BV,EAAY/2E,QAE/F,CACJ,EAEA+pE,EAAMjuF,UAAU07F,mBAAqB,SAA6BT,EAAaM,GAG3E,OAFgB/7F,KAAKo8F,oBAAoBL,EAAeN,EAAYj/F,aAEnDiN,QAAO,SAAUqS,GAAS,OAAOA,IAAU2/E,CAAa,GAC7E,EAEAhN,EAAMjuF,UAAU47F,oBAAsB,SAA8BxuE,EAAW/pB,GAK3E,IAJA,IAEIia,EAAS,GAEJrjB,EAAI,EAAGA,EAAImzB,EAAUhM,SAAS/nB,OAAQY,IAAK,CAChD,IAAIhB,EAAUm0B,EAAUhM,SAASnnB,GAE7BhB,EAAQ+C,cAAgBqH,EACxBia,EAAOxe,KAAK7F,GACLA,EAAQmoB,UAAYnoB,EAAQmoB,SAAS/nB,SAC5CikB,EAASA,EAAO3V,OAVTnI,KAUyBo8F,oBAAoB3iG,EAASoK,IAErE,CAEA,OAAOia,CACX,EAEA2wE,EAAMjuF,UAAUm7F,oBAAsB,SAA8B7/E,EAAO9Z,GACvE,IAAIq6F,EAAer8F,KAAKk3F,cAEpBmF,GAAgBA,IAAiBvgF,IACjCugF,EAAaxqE,IAAI7xB,KAAMgC,GACvBhC,KAAKk3F,cAAgB,MAGrBp7E,GAASugF,IAAiBvgF,GAASA,EAAM8V,OACzC5xB,KAAKk3F,cAAgBp7E,EACrBA,EAAM8V,KAAK5xB,KAAMgC,GAEzB,EAEAysF,EAAMjuF,UAAUm2F,sBAAwB,SAAgC76E,GAC/DA,GAAUA,EAAM4I,SAIXiyB,aAAah/B,QAAQ0/B,UAAUv7B,EAAM4I,OAAQ,KAAM5I,EAAM6I,UAClDxlB,OACNm9F,YACPt8F,KAAKu8F,gBAAkB,CAAE50E,OAAQ3nB,KAAKvG,QAAQgE,MAAMkqB,QACpD3nB,KAAKvG,QAAQgE,MAAMkqB,OAAS,WAEpC,EAEA8mE,EAAMjuF,UAAUo2F,qBAAuB,WAC/B52F,KAAKu8F,kBACLv8F,KAAKvG,QAAQgE,MAAMkqB,OAAS3nB,KAAKu8F,gBAAgB50E,OACjD3nB,KAAKu8F,gBAAkB,KAE/B,EAEA9N,EAAMjuF,UAAUs2F,gBAAkB,SAA0Bh7E,GACxD,GAAKA,GAAUA,EAAM4I,OAArB,CAIA,IAAIA,EAAS5I,EAAM4I,OAGfprB,EAFMq9C,aAAah/B,QAAQ0/B,UAAU3yB,EAAQ,KAAM5I,EAAM6I,UAC5CxlB,OACEm9F,UACnB,GAAIhjG,EAAO,CACP,IAAIgI,EAAO,CAAEojB,OAAQA,EAAQ5I,MAAOA,EAAOxiB,MAAOA,EAAOuZ,OAAQ7S,MACjEA,KAAKqB,QAAQ2+C,UAAW1+C,EAC5B,CATA,CAUJ,EAEAmtF,EAAMjuF,UAAU+2F,qBAAuB,SAA+Bz7E,EAAO0gF,GAMzE,IALA,IAEInlE,EAAWr3B,KAAKk2C,UAChBr8C,EAASw9B,EAAS3S,OAAO7qB,OAEpBY,EAAI,EAAGA,EAAIZ,EAAQY,IAAK,CAC7B,IAAIgiG,EAAaplE,EAAS3S,OAAOjqB,GAC7BiiG,EAPO18F,KAOmB28F,4BAA4BF,GACtDG,EARO58F,KAQoBm8F,6BAA6BM,GAEvDD,GAAgBC,IAAe3gF,EAAM4I,QAQtC+3E,EAAWr4E,QAAUs4E,EAEjBD,EAAWtwF,OACXswF,EAAWtwF,KAAKiY,QAAUs4E,KAV9BD,EAAWC,eAAiBA,EAC5BD,EAAWr4E,QAAUw4E,EAEjBH,EAAWtwF,OACXswF,EAAWtwF,KAAKiY,QAAUw4E,GAStC,CACJ,EAEAnO,EAAMjuF,UAAU82F,oBAAsB,SAA8BzxE,EAAUg3E,EAAcpsC,EAAO/rC,GAG/F,IAFA,IAESjqB,EAAI,EAAGA,EAAIorB,EAAShsB,OAAQY,IAAK,CACtC,IAAIhB,EAAUosB,EAASprB,GACnBgiG,EAAahjG,EAAQirB,QAAUA,EAGnC,GAFsB+3E,IAAeA,EAAWz4E,WAAa,CAAC,GAAGvB,SAE1ChpB,EAAQspB,OAAQ,CACnC,IAAIqB,EAAUM,EAASA,EAAON,QAAU3qB,EAAQirB,OAAON,SACnDq4E,IAAeI,GAAgBpsC,IAC/Bh3D,EAAQspB,OAAOqB,QAAQqsC,EAAQ,EAAIrsC,EAE3C,CAEI3qB,EAAQmoB,UAAYnoB,EAAQmoB,SAAS/nB,QAd9BmG,KAeEs3F,oBAAoB79F,EAAQmoB,SAAUi7E,EAAcpsC,EAAOh3D,EAAQirB,OAEpF,CACJ,EAEA+pE,EAAMjuF,UAAUw7F,wBAA0B,SAAkClgF,GAGxE,IAFA,IAAIigF,EAAgBjgF,EAAMvT,OAEnBwzF,IAAkBA,EAAc1kE,UACnC0kE,EAAgBA,EAAcxzF,OAGlC,OAAOwzF,CACX,EAEAtN,EAAMjuF,UAAUw6F,qBAAuB,SAA+Bl/E,GAClE,IAAI+/E,EAAiB77F,KAAKk2C,UAAUxxB,OAAO7qB,OAAS,EAC3BmG,KAAKo3F,sBAG1Bp3F,KAAK47F,wBAAwB9/E,EAAO+/E,GAEpC77F,KAAKskB,WAAWH,KAAKrI,EAE7B,EAEA2yE,EAAMjuF,UAAUg7F,qBAAuB,SAA+B1/E,GAClE,IAAI+/E,EAAiB77F,KAAKk2C,UAAUxxB,OAAO7qB,OAAS,EAC3BmG,KAAKo3F,wBAEtByE,GAAkB77F,KAAKq3F,uBACvBr3F,KAAKu3F,qBAAqBz7E,GAAO,GACjC9b,KAAKs3F,oBAAoBt3F,KAAKq3F,qBAAqBz1E,SAAU,MAAM,GACnE5hB,KAAKq3F,qBAAuB,MAEhCr3F,KAAKskB,YAActkB,KAAKskB,WAAW0M,OACnChxB,KAAK07F,aAAe,KAE5B,EAEAjN,EAAMjuF,UAAU42F,oBAAsB,WAClC,IAAI0F,OAAsFt1F,IAA1DxH,KAAK1F,QAAQymF,eAAe/8D,UAAU44E,gBAClEG,EAAqB/8F,KAAK1F,QAAQoqB,OAAOjb,QAAO,SAAUoD,GAAK,YAAuCrF,IAAhCqF,EAAEmX,UAAU44E,eAA+B,IAAI/iG,OAAS,EAClI,OAAOijG,GAA6BC,CACxC,EAEAtO,EAAMjuF,UAAU27F,6BAA+B,SAAuCz3E,GAClF,IAAIs4E,EAAyBh9F,KAAK1F,QAAQymF,eAAe/8D,UAAU44E,gBAEnE,OAD4Bl4E,EAAOV,UAAU44E,iBACbI,GAA0Bt4E,EAAON,SAAWlsB,sBAChF,EAEAu2F,EAAMjuF,UAAUm8F,4BAA8B,SAAsCj4E,GAChF,OAAOA,EAAOg4E,gBAAkBh4E,EAAON,SAAWlsB,sBACtD,EAEAu2F,EAAMjuF,UAAU81F,WAAa,SAAqBt0F,GAC9C,IAAIzC,EAEAuc,EAAQ9b,KAAKm5F,YAAYn3F,EAAEvI,QAASuI,EAAEwT,eAEtCsG,GAASA,EAAMmtC,kBAAoBjpD,KAAKi9F,yBAA2Bj9F,KAAKsxF,mBACxEtxF,KAAKi9F,uBAAyBj9F,KAAKk9F,mBAAmBh1F,KAAKlI,MAC3D4C,WAAWuB,WAAY5E,EAAM,CAAC,GAAQ0uF,WAAcjuF,KAAKi9F,uBAAwB19F,IAEzF,EAEAkvF,EAAMjuF,UAAU08F,mBAAqB,SAA6Bl7F,GAC9D,IAAIzC,EAEAmD,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACd+5D,EAAU3xD,EAAI6uF,SACdvtE,EAAYthB,EAAI4hB,WAChBxI,EAAQpZ,EAAIg5F,aACZrwC,EAASrrD,KAAK8xE,kBAAkB9vE,GAEpC,GAAIhC,KAAKk2C,UAAUp5B,IAAIe,cAAcwtC,IACjC,GAAIvvC,GAASA,EAAMmtC,iBAAmBntC,EAAM4I,QAAU5I,EAAMvT,OAAO+iD,gBAAiB,CAChF,IAAI6xC,EAAcrhF,EAAMvT,OAAO+iD,gBAAgBD,EAAOpwD,EAAGowD,EAAOnwD,EAAG4gB,EAAM8oC,UACzE,GAAIu4C,GAAeA,IAAgBrhF,EAG/B,GAFA9b,KAAK07F,aAAeyB,GAEfA,EAAYt0C,MAAM7oD,KAAMgC,GACJnF,WAAW,CAAC,EAAGvC,EAAQ+5D,QAAS8oC,EAAY7iG,QAAQ+5D,SACtD5xC,SACf4xC,EAAQlwC,KAAKg5E,GAGjBn5E,EAAUG,KAAKg5E,EAG3B,OAEA15F,aAAaU,WAAY5E,EAAM,CAAC,GAAQ0uF,WAAcjuF,KAAKi9F,uBAAwB19F,IACnFS,KAAK03E,oBACL13E,KAAK03F,uBACL13F,KAAKi9F,uBAAyB,KAE9Bj9F,KAAKw7F,qBAAqB1/E,EAElC,EAEA2yE,EAAMjuF,UAAUg2F,WAAa,SAAqBx0F,GAC9C,IAAIqpD,EAASrrD,KAAK8xE,kBAAkB9vE,GAChCq1B,EAAWr3B,KAAKk2C,UAIpB,GAFAl2C,KAAKo9F,iBAAiB/xC,GAElBh0B,EAASwxB,MAAO,CAChB,IAAIw0C,EAAehmE,EAAS8rC,wBAAwB9X,GAChDgyC,GACAr9F,KAAKm3F,kBAAmB,EACxBn3F,KAAKk2C,UAAU2S,MAAM7oD,KAAMgC,IACpBhC,KAAKm3F,mBAAqBkG,IACjCr9F,KAAKm3F,kBAAmB,EACxBn3F,KAAKqB,QAAQ+8C,iBAErB,CAEIp+C,KAAKsxF,kBACLtxF,KAAKo5F,oBAAoB/tC,EAAQrpD,EAEzC,EAEAysF,EAAMjuF,UAAU48F,iBAAmB,SAA2B/xC,GAG1D,IAFA,IAAIkR,EAAav8D,KAAKk2C,UAAUqmB,WAEvB9hE,EAAI,EAAGA,EAAI8hE,EAAW1iE,OAAQY,IAAK,CACxC,IAAIkd,EAAU4kD,EAAW9hE,GAErBkd,EAAQmF,IAAIe,cAAcwtC,GAC1B1zC,EAAQmiD,OAAOzO,GAEf1zC,EAAQqZ,MAEhB,CACJ,EAEAy9D,EAAMjuF,UAAU44F,oBAAsB,SAA8B/tC,EAAQrpD,EAAG+wE,GAC3E,IAAI/yE,KAAKo4F,eAAT,CAIA,IAAI11F,EAAM1C,KACNy5D,EAAiB/2D,EAAIpI,QAAQ+5D,QAC7Bh9B,EAAW30B,EAAIwzC,UACfgO,EAAexhD,EAAIwzC,UAAUgO,aAC7BmQ,EAAU3xD,EAAI6uF,SACdvtE,EAAYthB,EAAI4hB,WAEpB,GAAI+S,EAAS8rC,wBAAwB9X,GAAS,CAC1C,IAAI5vD,EAAQyoD,EAAa9gB,mBAAmBioB,GAC5C,GAAI5vD,IAAUuE,KAAKs9F,qBAAwBt9F,KAAKu9F,kBAAoBxqB,EAAS,CACzE,IAAIj1D,EAASuZ,EAASisC,sBAAsB7nE,GACxC+hG,EAAY1/E,EAAO1c,KAAI,SAAS0a,GAChC,OAAOA,EAAMlJ,UAAU5Q,EAC3B,IACIy7F,EAAYD,EAAU,IAAM,CAAC,EACjCC,EAAUp5C,eAAiBm5C,EAEvB1/E,EAAOjkB,OAAS,IAAMmG,KAAKqB,QAAQ08C,aAAc0/C,IAC7ChkC,EAAeh3C,SACf4xC,EAAQyF,OAAOh8C,EAAQutC,GAG3BrnC,EAAUG,KAAKrG,GAEf9d,KAAKu9F,kBAAmB,GAExBlpC,EAAQrjC,OAGZhxB,KAAKs9F,mBAAqB7hG,CAC9B,MAAWs3E,GAAU/yE,KAAKu9F,mBACtBv5E,EAAUgN,OACVqjC,EAAQrjC,OACRhxB,KAAKu9F,kBAAmB,EAEhC,MAAWv9F,KAAKu9F,mBACZv5E,EAAUgN,OACVqjC,EAAQrjC,OACRhxB,KAAKs9F,mBAAqB,KAC1Bt9F,KAAKu9F,kBAAmB,EAzC5B,CA2CJ,EAEA9O,EAAMjuF,UAAUk9F,aAAe,SAAuBpjG,GAClD,IAAI+8B,EAAWr3B,KAAKk2C,UACpBl2C,KAAKw2F,WAAWvoF,SAEhBopB,EAASimC,iBAETt9D,KAAK03E,kBAAkBp9E,EAC3B,EAEAm0F,EAAMjuF,UAAUk3E,kBAAoB,SAA4Bp9E,GAC5D,IACI0pB,EADMhkB,KACUskB,WAEpBtkB,KAAK07F,aAAe,KACpB17F,KAAKk3F,cAAgB,KAEhB58F,GAAYA,EAAQqjG,iBACrB39F,KAAKg6F,eAGTh6F,KAAKs9F,mBAAqB,KAC1Bt9F,KAAKu9F,kBAAmB,EAEpBv5E,GACAA,EAAUgN,MAElB,EAEAy9D,EAAMjuF,UAAUo9F,aAAe,WAC3B59F,KAAKqvF,SACT,EAEAZ,EAAMjuF,UAAUq9F,oBAAsB,WAC9B79F,KAAK89F,iBACLC,cAAc/9F,KAAK89F,gBACnB99F,KAAK89F,eAAiB,KAE9B,EAEArP,EAAMjuF,UAAU0rF,eAAiB,WAM7B,IALA,IAEI5xF,EAAU0F,KAAK1F,QACfg3E,EAAc,GAAGnpE,OAAO7N,EAAQ4pD,cAE3Bya,EAAS,EAAGA,EAAS2S,EAAYz3E,OAAQ8kE,IAAU,CACxD,IAAIhpD,EAAO27D,EAAY3S,IACD,IAAlBhpD,EAAKqoF,UAPEh+F,KAQEi+F,2BAA2BtoF,EAAMgpD,EAElD,CACJ,EAEA8vB,EAAMjuF,UAAUy9F,2BAA6B,SAAqCtoF,EAAMgpD,GACpF,IAAI1rD,EAAWjT,KAEXk+F,EAAmB,IAAIj0F,IACvBk0F,EAAen+F,KAAK1F,QAAQoqB,OAAOjb,QAAO,SAAUib,GAAU,OAAOA,EAAOw/B,eAAiBvuC,EAAKjhB,OAAUgwB,EAAOw/B,cAA2B,IAAXya,CAAe,IAClJy/B,EAAqBD,EAAat4B,MAAK,SAAUnhD,GAAU,OAAO5U,QAAQ4U,EAAO2mD,cAAgB,IACjGgzB,EAAiBF,EAAa10F,QAAO,SAAUib,GAAU,OAAOA,EAAO9Y,MAAQ8Y,EAAO9Y,KAAK/R,OAAS,CAAG,IACvGykG,EAAkBD,EAAej9F,KAAI,SAAUsjB,GAAU,OAAOiyB,aAAah/B,QAAQ0/B,UAAU3yB,EAAQ,GAAGvlB,OAAOxK,QAAU,IAC3Hg7E,EAAW2uB,EAAgBx4B,QAAO,SAAUlqE,EAAQ6wF,GAAiB,OAAO7wF,GAAUinD,WAAWltC,EAAM82E,EAAgB,IAAG,GAa9H,GAZwB4R,EAAe50F,QAAO,SAAUib,EAAQkgC,GAAY,OAAOlgC,EAAO2mD,eAAiBxoE,QAAQy7F,EAAgB15C,GAAY,IAE7HvgD,SAAQ,SAAUqgB,GAAU,OAAOA,EAAO9Y,KAAKvH,SAAQ,SAAU4H,EAAKxQ,GACpF,IAAI9G,EAAWgiD,aAAah/B,QAAQ0/B,UAAU3yB,EAAQjpB,GAAO0D,OAAOxK,SACpE,GAAIg7E,EAAU,CACV,IAAI1xC,EAAOykB,kBAAkB/tD,EAAUsX,EAAKgH,EAASoP,aAAaqQ,MAClE/9B,EAAWspC,EAAOA,EAAKvhC,eAAY8K,CACvC,CAEA02F,EAAiBv0F,IAAIhV,EACzB,GAAI,IAEAupG,EAAiB14F,KAAO,EAAG,CAC3B,IAAI07B,EAAa3nC,MAAM4Q,KAAK+zF,EAAiB/0F,UACzCwmE,IACAzuC,EAAaA,EAAWvgB,OAAOvf,KAAI,SAAUm9F,GAAQ,OAAOA,GAAQ,IAAI9hG,KAAK8hG,EAAO,KAGxF5oF,EAAKurB,WAAaA,CACtB,MAAWk9D,IACPzoF,EAAKurB,WAAa,GAE1B,EAEAutD,EAAMjuF,UAAUg+F,YAAc,SAAsB95E,GAIhD,IAHA,IAAIuyB,EAAcN,aAAah/B,QAAQs/B,YAAYvyB,GAC/C9oB,GAAS,EAEJnB,EAAI,EAAGA,EAAIw8C,EAAYp9C,OAAQY,IAAK,CACzC,IAAI2C,EAAQ65C,EAAYx8C,GAOxB,GANI2C,IAAUvF,MACVuF,EAAQ,QAERA,GAAgB,SAGfyF,QAAQ6hB,EAAOtnB,IAAS,CACzBxB,GAAS,EACT,KACJ,CACJ,CAEA,OAAOA,CACX,EAEA6yF,EAAMjuF,UAAUowF,qBAAuB,WACnC,IACI6N,EADAnkG,EAAU0F,KAAK1F,SAGS,IAAxBA,EAAQmzD,cACRnzD,EAAQmzD,aAAc,EACtBgxC,GAAmB,GAGvBz+F,KAAKqvF,UAEDoP,IACAnkG,EAAQmzD,aAAc,EAE9B,EAEAghC,EAAMjuF,UAAUi3E,iBAAmB,SAA2BjU,EAAaG,GACvE3jE,KAAK+6F,2BAA2Bv3B,EAAaG,EACjD,EAEA8qB,EAAMjuF,UAAUu6F,2BAA6B,SAAqCv3B,EAAaG,GAC3F,IAIIt0C,EAHAgI,EADMr3B,KACSk2C,UACflyB,EAFMhkB,KAEUskB,WAChBk+B,GAAiBnrB,EAAS+2C,WAAa/2C,EAAS3S,QAAQ8+C,GAW5D,GAPIn0C,EADAlvB,QAAQqiD,EAAc3+C,KAAM,CAAEo4C,IAAKP,MAAOC,OAAQC,UAC1CvkB,EAASwsC,WAAU,SAAS/nD,GAChC,OAAOA,EAAM4I,OAAOjpB,QAAU+nE,GAAe1nD,EAAMrgB,QAAUkoE,CACjE,IAEQtsC,EAASksC,oBAAoBC,GAGrCxjE,KAAKo3F,uBAAyB50C,EAAc//B,SAAW4M,EAAO,CAC9D,IAAIwsE,EAAiBxkE,EAAS3S,OAAO7qB,OAAS,EAC1CiiB,EAAQuT,EAAMx1B,OAASw1B,EAAM,GAAKA,EAEtCrvB,KAAK47F,wBAAwB9/E,EAAO+/E,EAAgBxsE,EACxD,MACIrL,EAAUG,KAAKkL,EAEvB,EAEAo/D,EAAMjuF,UAAUy2F,uBAAyB,WACrC,OAAOj3F,KAAKk2C,UAAUqmB,WAAW1iE,QAAWmG,KAAKuxF,UAAYvxF,KAAKsxF,kBAAqBtxF,KAAK4B,iBAAiB,CAAEu8C,gBAAiBC,iBACpI,EAEAqwC,EAAMjuF,UAAUk+F,uBAAyB,WACrC,IAAIn/F,EAAKy3F,EAETvzF,aAAazD,KAAKvG,UAAW8F,EAAM,CAAC,GAAQ0uF,WAAcjuF,KAAKw2F,WAAYj3F,IAEvES,KAAKi3F,0BACLr0F,WAAW5C,KAAKvG,UAAWu9F,EAAQ,CAAC,GAAU/I,WAAcjuF,KAAKw2F,WAAYQ,GAErF,EAEAvI,EAAMjuF,UAAUm+F,aAAe,SAAuBrkG,EAASwmF,GAC3D2S,mBAAmBzzF,KAAK8uF,iBAAkBx0F,GAC1C0F,KAAK8uF,iBAAmBjyF,WAAWmD,KAAK8uF,iBAAkBx0F,GAC1D0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK8uF,kBAE/BhO,IACA9gF,KAAK+uF,OAASjO,EACd9gF,KAAKqiB,aAAay+D,MAAQA,GAE9B9gF,KAAKgvF,WAAWhvF,KAAK1F,QAAS0F,KAAK+uF,QAEnC/uF,KAAK8zF,uBACT,EAEArF,EAAMjuF,UAAUo+F,WAAa,SAAqBtkG,EAASwmF,GACvD9gF,KAAK2+F,aAAarkG,EAASwmF,GAC3B9gF,KAAKksF,iBACLlsF,KAAKq/D,SACLr/D,KAAK0+F,yBACL1+F,KAAKuvF,wBACT,EAEAd,EAAMjuF,UAAUq+F,aAAe,SAAuB3rE,GAClDlzB,KAAKqiB,aAAa6Q,IAAMpjB,QAAQojB,GAC5BlzB,KAAK8Y,SAAiC,QAAtB9Y,KAAK8Y,QAAQjV,MAC7B7D,KAAK2xF,iBAEb,EAEAlD,EAAMjuF,UAAUs+F,eAAiB,SAAyBpsE,GACtD1yB,KAAKqiB,aAAaqQ,KAAOA,CAC7B,EAEA+7D,EAAMjuF,UAAUu+F,oBAAsB,WAClC/+F,KAAK4wF,sBACT,EAEAnC,EAAMjuF,UAAU0R,QAAU,WACtB,IAAI3S,EAAKy3F,EAETh3F,KAAK+Z,YAAa,EAElBtW,aAAazD,KAAKvG,UAAW8F,EAAM,CAAC,GAAQ2uF,aAAgBluF,KAAK01F,cAAen2F,EAAKsgD,cAAiB7/C,KAAK26E,mBAAoBp7E,EAAK0uF,WAAcjuF,KAAKw2F,WAAYj3F,EAAK4uF,YAAenuF,KAAKo2F,mBAAoB72F,EAAK6uF,SAAYpuF,KAAK41F,gBAAiBr2F,EAAK8uF,OAAUruF,KAAK81F,cAAev2F,EAAK+uF,MAAQtuF,KAAKg2F,aAAcz2F,IAEtTS,KAAKq0F,YACLr0F,KAAKq0F,UAAUniF,iBACRlS,KAAKq0F,WAGZr0F,KAAKi9F,wBACLx5F,aAAaU,WAAY6yF,EAAQ,CAAC,GAAU/I,WAAcjuF,KAAKi9F,uBAAwBjG,IAG3Fh3F,KAAKivF,YAAc,KAEnBjvF,KAAKiyF,eAELjyF,KAAK2xF,kBAEL3xF,KAAK69F,qBACT,EAEApP,EAAMjuF,UAAUmxF,gBAAkB,WAC9B,IAAI74E,EAAU9Y,KAAK8Y,QACfA,IACAA,EAAQ3G,OAAO,aAAcnS,KAAK4xF,2BAClC94E,EAAQ3G,OAAO,aAAcnS,KAAK6xF,2BAClC/4E,EAAQ5G,UAERlS,KAAK8Y,QAAU,KAEvB,EAEA21E,EAAMjuF,UAAUkwF,mBAAqB,WACjC,IAAI4E,EAAat1F,KAAKywF,YAEtB,GAAI6E,EACA,KAAOA,EAAWz7F,OAAS,GACvBy7F,EAAW/tD,QAAQr1B,SAG/B,EAEAu8E,EAAMjuF,UAAUyxF,aAAe,WAC3B,IAAIF,EAAQ/xF,KAAK8wF,OAEbiB,IACAA,EAAM7/E,UACNlS,KAAK8wF,OAAS,MAGlB9wF,KAAK03E,oBACL13E,KAAK03F,uBACL13F,KAAK42F,uBACL52F,KAAK0wF,qBAED1wF,KAAKuxF,UACLvxF,KAAKuxF,SAASr/E,UAGdlS,KAAKskB,YACLtkB,KAAKskB,WAAWpS,UAGhBlS,KAAK4zF,iBACL5zF,KAAK4zF,eAAe1hF,iBACblS,KAAK4zF,gBAGZ5zF,KAAK0zF,YACL1zF,KAAK0zF,UAAUxhF,iBACRlS,KAAK0zF,WAGZ1zF,KAAK6zF,kBACL7zF,KAAK6zF,gBAAgB3hF,iBACdlS,KAAK6zF,gBAEpB,EAEOpF,CACX,CA3kEY,CA2kEV97F,OAEF,SAASo9F,mBAAmBz1F,GAGxB,IAFA,IAAI0kG,EAAUjR,WAELn0F,EAAM,EAAGA,EAAMolG,EAAQnlG,OAAQD,IAAO,CAC3C,IAAIqlG,EAAQD,EAAQplG,GAAO,OACvBU,EAAQ2kG,KACR3kG,EAAQ0kG,EAAQplG,GAAO,QAAUU,EAAQ2kG,UAClC3kG,EAAQ2kG,GAEvB,CACJ,CAEA,SAAS9N,oBAAoBrzE,EAAQppB,GACjC,GAAIopB,EACA,IAAK,IAAIlkB,EAAM,EAAGA,EAAMkkB,EAAOjkB,OAAQD,IACnC,GAAIkkB,EAAOlkB,GAAKjF,WAAaD,EACzB,MAAO,CAAEopB,EAAOlkB,GAIhC,CAEA,SAAS66F,kBAAkBn6F,EAASo0F,GAChC,IACI3oC,EAAUm5C,EAAcznE,EADxB0nE,GAAsBzQ,GAAgB,CAAC,GAAe,cAAK,CAAC,EAGhE,SAAS0Q,EAAe5zD,GACpB,IAAI6zD,GAAa7zD,GAAe,CAAC,GAAGziC,OAASm2F,EAAan2F,MACtDnN,EAASiB,WAAW,CAAC,EACrBsiG,EACAA,EAAkBp5C,GAClBm5C,EACAA,EAAan5C,GAAW,CACpB55C,KAAM,CAAEpD,MAAOs2F,GACfnrE,OAAQ,CAAEnrB,MAAOs2F,GACjBpwE,MAAO,CAAElmB,MAAOs2F,IAEpB7zD,GAKJ,cAFO5vC,EAAOmqD,GAEPnqD,CACX,CAEA,IAAK,IAAIhC,EAAM,EAAGA,EAAMm0F,WAAWl0F,OAAQD,IACvCmsD,EAAWgoC,WAAWn0F,GAAO,OAC7BslG,EAAe5kG,EAAQ4kG,cAAgB,CAAC,EAGxCznE,GAFAA,EAAO,GAAGtvB,OAAO7N,EAAQyrD,KAEb3kD,IAAIg+F,GAEhB9kG,EAAQyrD,GAAYtuB,EAAK59B,OAAS,EAAI49B,EAAOA,EAAK,EAE1D,CAEA,SAASi9D,oBAAoBp6F,EAASo0F,GAClC,IAAIhqE,EAASpqB,EAAQoqB,OACjB46E,EAAe56E,EAAO7qB,OACtBknF,EAAiBzmF,EAAQymF,eACzBwe,EAAiB1iG,WAAW,CAAC,EAAGvC,EAAQymF,gBACxCye,EAAsB9Q,EAAe7xF,WAAW,CAAC,EAAG6xF,EAAa3N,gBAAkB,CAAC,EACpF0e,EAAsB5iG,WAAW,CAAC,EAAG2iG,GAEzCE,4BAA4BH,GAC5BG,4BAA4BD,GAE5B,IAAK,IAAIhlG,EAAI,EAAGA,EAAI6kG,EAAc7kG,IAAK,CACnC,IAAI6sE,EAAa5iD,EAAOjqB,GAAGoJ,MAAQvJ,EAAQymF,eAAel9E,KAEtD8tE,EAAc90E,WACd,CAAE+O,KAAM,IACR6zF,EACAD,EAAoBl4B,GACpB,CAAEjT,QAAS/5D,EAAQ+5D,SACnBkrC,EACAxe,EAAezZ,IAGnB5iD,EAAOjqB,GAAG4sD,UAAYsqB,EACtBjtD,EAAOjqB,GAAKoC,WAAW,CAAC,EAAG80E,EAAajtD,EAAOjqB,IAC/CiqB,EAAOjqB,GAAGmR,KAAO8Y,EAAOjqB,GAAGmR,MAAQ,EACvC,CACJ,CAEA,SAAS8zF,4BAA4B3e,UAC1BA,EAAe4e,WACf5e,EAAe6e,cACf7e,EAAe8e,mBACf9e,EAAe50E,YACf40E,EAAe+e,oBACf/e,EAAegf,WACfhf,EAAeif,aACfjf,EAAe3oB,YACf2oB,EAAekf,oBACflf,EAAemf,eACfnf,EAAeof,mBACfpf,EAAeqf,cACfrf,EAAesf,mBACftf,EAAeuf,YACfvf,EAAewf,eACfxf,EAAehoB,cACfgoB,EAAeyf,sBACfzf,EAAe0f,iBACf1f,EAAe2f,iBACf3f,EAAe4f,iBACf5f,EAAe6f,iBACf7f,EAAe8f,SAC1B,CAGA,SAASxwC,WAAW54B,GAGhB,IAFA,IAAI87C,EAAS,CAAC,EAEL94E,EAAI,EAAGA,EAAIg9B,EAAK59B,OAAQY,IAAK,CAClC,IAAIkb,EAAO8hB,EAAKh9B,GACZsrD,EAAWpwC,EAAKrb,QAAQ5F,KACxBqxD,IACAwtB,EAAOxtB,GAAYpwC,EAAK0f,QAEhC,CAEA,OAAOk+C,CACX,CAEA,IAAIutB,YAAc,CAAE,OAAQ,cAE5B,SAASrN,mBAAmBj3B,EAAiBliE,GACzC,IAAK,IAAI8C,KAAS9C,EACd,IAAK6F,QAAQ/C,EAAO0jG,cAAgBr1F,eAAenR,EAAS8C,GAAQ,CAChE,IAAI2jG,EAAazmG,EAAQ8C,GACrB4jG,EAAgBxkC,EAAgBp/D,GACpC,GAAIyF,QAAQm+F,GAAgB,CACxB,IAAIC,EAA2B,OAAfF,EACXE,IAAcp+F,QAAQk+F,WAChBvkC,EAAgBp/D,GACnB6jG,UACO3mG,EAAQ8C,IAEZ4jG,GAAiBhkG,SAAS+jG,IAC7B/jG,SAASgkG,IACTvN,mBAAmBuN,EAAeD,EAG9C,CACJ,CAER,CAEA,SAASpO,kBAAkB31B,GACvB,IAAK,IAAIpjE,EAAM,EAAGA,EAAMojE,EAAMnjE,OAAQD,IAClCojE,EAAMpjE,GAAKiiE,cAEnB,CAEAj4D,kBAAkB6qF,MAAO,CACrBiD,SAAU,GACVxB,UAAW,CAAC,EACZ5zB,OAAQ,CACJ75C,SAAS,EACTyR,OAAQ,CAAC,EACTlP,cAAe,CACXhB,UAAW,CACPsB,OAAQ,CACJlB,QAAS,EACTrb,MAAOvT,QACPgF,MAAO,MAKvB0pD,aAAc,CAAC,EACf68B,eAAgB,CACZl9E,KAAM43C,OACN7vC,KAAM,GACNoY,UAAW,CACPvB,SAAS,GAEbyR,OAAQ,CAAC,EACTyjC,eAAgB,CACZl1C,SAAS,GAEbuC,cAAe,CACXhB,UAAW,CACPsB,OAAQ,CACJlB,QAAS,EACT5pB,MAAO,GAEX0oB,OAAQ,OAIpBwB,OAAQ,GACR69D,aAAc,KACdluB,QAAS,CACL5xC,SAAS,GAEbgrC,aAAa,EACb7rB,UAAW,CAAC,EACZvK,SAAU,CAAC,EACXpI,MAAO,CAAC,EACR+nC,MAAO,CAAC,EACRE,MAAO,CAAC,EACR8F,MAAO,CAAE,CAAC,GACV3pC,UAAU,EACVsgE,UAAU,IAGd,IAAIuN,YAAc,EAEdpkB,cAAiB,SAAUqkB,GAC3B,SAASrkB,IACLqkB,EAAmBx/F,MAAM3B,KAAMjD,UACnC,CAmCA,OAjCKokG,IAAqBrkB,EAAcrkF,UAAY0oG,GACpDrkB,EAAct8E,UAAYjI,OAAOuN,OAAQq7F,GAAsBA,EAAmB3gG,WAClFs8E,EAAct8E,UAAUhE,YAAcsgF,EAEtCA,EAAct8E,UAAUw8E,YAAc,SAAsB3xB,EAAQlxB,GAChE,IACIpP,EADO/qB,KAAKq3B,SAAS6sB,aACL5pD,QAAQywB,SACxBrM,EAAQqM,EAAW,CACnB4/B,WAAY,OACZ5/B,SAAU,UACV,CACA4/B,WAAY,SACZ5/B,SAAU,UAWd,MAAO,CACHjP,MAPAiP,EACQ,IAAIpP,QAAQ3b,KAAKq3B,SAASva,IAAI/H,GAAIolB,EAAKhlB,SAASja,GAEhD,IAAIygB,QAAQwe,EAAKhlB,SAASla,EAAGimG,YAKrCxiF,MAAOA,EAEf,EAEAo+D,EAAct8E,UAAUy8E,eAAiB,SAAyBnhE,EAAOqe,GACrE,OAAOn6B,KAAKg9E,YAAY,CAAC,EAAG7iD,EAChC,EAEO2iD,CACX,CAvCoB,CAuClBD,iBAEEukB,iBAAmB,IACnBC,oBAAsB,IACtBC,aAAe,CAAElmD,IAAKG,QAE1B,SAASvqB,KAAKpP,GAEV,IADA,IAAI3d,EAAQ,GACHrK,EAAM,EAAGA,EAAMgoB,EAAS/nB,OAAQD,IAAO,CAC5C,IAAIiqB,EAAQjC,EAAShoB,GACrBqK,EAAMrK,GAAOiqB,EAAMpmB,MAAMoyF,QACzBhsE,EAAMpmB,MAAMoyF,QAAU,MAC1B,CAEA,OAAO5rF,CACX,CAEA,SAASkgB,KAAKvC,EAAU3d,GACpB,IAAK,IAAIrK,EAAM,EAAGA,EAAMgoB,EAAS/nB,OAAQD,IACrCgoB,EAAShoB,GAAK6D,MAAMoyF,QAAU5rF,EAAMrK,EAE5C,CAEA,SAAS2nG,WAAWjoG,GAChB,OAAO6B,SAAS7B,GAAS,CAAEA,GAAUA,CACzC,CAEA,IAAIkoG,UAAa,SAAU/S,GACvB,SAAS+S,IACL/S,EAAM9sF,MAAM3B,KAAMjD,UACtB,CA8JA,OA5JK0xF,IAAQ+S,EAAU/oG,UAAYg2F,GACnC+S,EAAUhhG,UAAYjI,OAAOuN,OAAQ2oF,GAASA,EAAMjuF,WACpDghG,EAAUhhG,UAAUhE,YAAcglG,EAElCA,EAAUhhG,UAAUgvF,iBAAmB,SAA2B/1F,GAC9DD,SAASC,EAAS,cACtB,EAEA+nG,EAAUhhG,UAAUquF,aAAe,SAAuBp1F,GACtDg1F,EAAMjuF,UAAUquF,aAAa1tF,KAAKnB,KAAMvG,GAExCuG,KAAKyhG,cAAgBr/F,KAAKK,MAAMO,YAAYvJ,GAASe,MACzD,EAEAgnG,EAAUhhG,UAAUgwF,QAAU,WAC1B,IAAI/2F,EAAUuG,KAAKvG,QACfwK,EAAQ+sB,KAAKv3B,EAAQi2F,YAEzB1vF,KAAKyhG,cAAgBr/F,KAAKK,MAAMO,YAAYvJ,GAASe,OAErD2pB,KAAK1qB,EAAQi2F,WAAYzrF,GAEzBwqF,EAAMjuF,UAAUgwF,QAAQrvF,KAAKnB,KACjC,EAEAwhG,EAAUhhG,UAAUs0F,cAAgB,WAChC,IAAI7L,EAAejpF,KAAK1F,QACpBonG,EAAQ1hG,KAAKyxF,eACbkQ,EAAe3wE,KAAK0wE,EAAMhS,YAE1Bh3D,EAAQv0B,SAASiD,cAAc,QACnCsxB,EAAMryB,UAAY,SAElBq7F,EAAM76F,YAAY6xB,GAElB,IAAIp+B,EAAUuC,WAAW,CACrBrC,MAAOwF,KAAK4hG,WACZj2F,OAAQ3I,YAAY0+F,GAAO/1F,OAC3B8hD,YAAaw7B,EAAax7B,aAC3Bw7B,EAAaiH,UAAW,CACvB2R,QAAQ,EACRnjF,OAAO,IAgBX,OAbA1b,YAAY0+F,EAAO,CACflnG,MAAOF,EAAQE,MACfmR,OAAQrR,EAAQqR,SAGpB+1F,EAAMxtB,YAAYx7C,GAElBvU,KAAKu9E,EAAMhS,WAAYiS,GAEnB3hG,KAAK8Y,SACL9Y,KAAK8Y,QAAQs3E,SAGV91F,CACX,EAEAknG,EAAUhhG,UAAUixF,aAAe,WAC/B,IAAKzxF,KAAK0hG,MAAO,CACb,IAAIA,EAAQ1hG,KAAK0hG,MAAQv9F,SAASiD,cAAc,QAChDpH,KAAKvG,QAAQoN,YAAY66F,EAC7B,CACA,OAAO1hG,KAAK0hG,KAChB,EAEAF,EAAUhhG,UAAUq0F,gBAAkB,SAA0BQ,GAC5D,IAAIh+D,EAAWo3D,EAAMjuF,UAAUq0F,gBAAgB1zF,KAAKnB,KAAMq1F,GAG1D,OAFAr1F,KAAK4hG,WAAa5hG,KAAKyhG,eAAiBzhG,KAAK8hG,gBAAgBzqE,GAEtDA,CACX,EAEAmqE,EAAUhhG,UAAUshG,gBAAkB,SAA0BzqE,GAQ5D,IAPA,IAAI/8B,EAAU0F,KAAK1F,QACfysB,EAASjpB,WAAWxD,EAAQ41F,UAAUnpE,QACtCg0C,EAAS1jC,EAAS0jC,OAClB2mC,EAAQ1hG,KAAKyxF,eACb3sE,EAAQ,EAGHrqB,EAAI,EAAGA,EAAIsgE,EAAOlhE,OAAQY,IAAK,CACpC,IAAIsnG,EAAehnC,EAAOtgE,GACtB+1E,GAAeuxB,EAAaznG,QAAQoqB,QAAU,IAAI,GACtD,GAAK8rD,EAAL,CAIA,GAAIA,EAAY3sE,OAASu3C,IACrB,OAAOgmD,iBAGX,GAAI5wB,EAAY3sE,OAAS03C,OACrB,OAAO8lD,oBAGX,GAAI7wB,EAAY3sE,OAASo4C,IACrB,OAAOj5C,YAAY0+F,GAAO/1F,OAG9B,IAAIu4C,EAAe69C,EAAa79C,aAChC,GAAIA,EAAc,CACd,IAAI2T,EAAc3T,EAAazgB,oBACzBs+D,EAAaznG,QAAQgrD,WAAanlD,QAAQqwE,EAAY3sE,KAAM,CAAE43C,OAAQsB,kBAAqBglD,EAAax9C,cAAc1qD,OAAS,GAErIirB,EAAQ1iB,KAAKC,IAAIyiB,EAAO+yC,EAC5B,CApBA,CAqBJ,CAEA,IAAIryD,EAAOsf,EAAQxqB,EAAQ0nG,WAK3B,OAJIx8F,EAAO,IACPA,GAAQuhB,EAAO3oB,KAAO2oB,EAAO7oB,OAG1BsH,CACX,EAEAg8F,EAAUhhG,UAAUg0F,qBAAuB,SAA+Bl6F,GACtE,OAAO,IAAIwiF,cAAc98E,KAAKk2C,UAAW57C,EAC7C,EAEAknG,EAAUS,iBAAmB,SAA2B11D,GACpD,IAAIjyC,EAAUinG,WAAWh1D,GA6BzB,OA1BIjyC,EADAjB,QAAQiB,GACE,CAAEymF,eAAgB,CAAEn1E,KAAMtR,IAE1BuC,WAAW,CAAC,EAAGvC,IAGhBoqB,SACTpqB,EAAQoqB,OAAS,CAAE,CAAE9Y,KAAM21F,WAAWjnG,EAAQsR,SAGlD/O,WAAWvC,EAAS,CAChBymF,eAAgB,CACZl9E,KAAMvJ,EAAQuJ,SAIlB1D,QAAQ7F,EAAQoqB,OAAO,GAAG7gB,KAAMy9F,eAChCnhG,QAAQ7F,EAAQymF,eAAel9E,KAAMy9F,iBACrChnG,EAAUuC,WAAW,CAAC,EAAG,CACrBqnD,aAAc,CACVyV,UAAW,CACPl3C,SAAS,KAGlBnoB,IAGAA,CACX,EAEOknG,CACX,CAlKgB,CAkKd/S,OAEF7qF,kBAAkB49F,UAAW,CACzBtR,UAAW,CACPnpE,OAAQ,GAEZm4E,aAAc,CACVz8E,SAAS,EACT2V,eAAgB,CACZ3V,SAAS,GAEbmf,UAAW,CACPqK,aAAa,IAGrB80C,eAAgB,CACZl9E,KAAM,OACNu0D,KAAM,CACFjsD,KAAM,CACF3R,MAAO,KAGfmlG,IAAK,CACDv8C,OAAO,GAEXzlC,QAAS,EACTnjB,MAAO,GACPkrB,QAAS,CACL4E,SAAU,MAEdtG,UAAW,CACPvB,SAAS,GAEb6C,OAAQ,CACJ9qB,MAAO,GAEX2uD,QAAS,CACL3jD,KAAM,EACNid,SAAS,IAGjB4xC,QAAS,CACL5xC,SAAS,EACTy6D,QAAQ,GAEZh5B,aAAc,CACVyV,UAAW,CACPl3C,SAAS,EACT4xC,QAAS,CACL5xC,SAAS,KAIrB65C,OAAQ,CACJ75C,SAAS,GAEbgrC,aAAa,EAEbu0C,WAAY,EAEZhlC,MAAO,CAAE,CAAE5yB,MAAM,MAGrB,IAAI83D,iBAAoB,SAAUj1C,GAC9B,SAASi1C,IACLj1C,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CA+BA,OA7BKkwD,IAAai1C,EAAiBzpG,UAAYw0D,GAC/Ci1C,EAAiB1hG,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WACrE0hG,EAAiB1hG,UAAUhE,YAAc0lG,EAEzCA,EAAiB1hG,UAAU0sD,MAAQ,WAC/BltD,KAAKmiG,gBAAkBvkG,WAAWN,cAAc0C,KAAKvG,QAAS,WAAW2qB,QAC7E,EAEA89E,EAAiB1hG,UAAU00B,KAAO,SAAeppB,GAC7CxO,cAAc0C,KAAKvG,QAAS,CACxB2qB,QAASqJ,OAAOrtB,iBAAiBJ,KAAKmiG,gBAAiB,EAAGr2F,KAElE,EAEAo2F,EAAiB1hG,UAAUg9E,MAAQ,WAC/BvwB,EAAWzsD,UAAUg9E,MAAMr8E,KAAKnB,MAChC1C,cAAc0C,KAAKvG,QAAS,CACxBo2F,QAAS,OACTzrE,QAASqJ,OAAOztB,KAAKmiG,kBAE7B,EAEAD,EAAiB1hG,UAAUyN,OAAS,WAChCg/C,EAAWzsD,UAAUg9E,MAAMr8E,KAAKnB,MAChC1C,cAAc0C,KAAKvG,QAAS,CACxB2qB,QAASqJ,OAAOztB,KAAKmiG,kBAE7B,EAEOD,CACX,CAnCuB,CAmCrBjvG,aAEF,SAASmvG,UAAUtoG,EAAW2D,GAC1B,IAAI4kG,EAAMl+F,SAASiD,cAAc,OAMjC,OALAi7F,EAAIvoG,UAAYA,EACZ2D,IACA4kG,EAAI5kG,MAAMg9E,QAAUh9E,GAGjB4kG,CACX,CAEA,IAAIC,cAAiB,SAAU3vG,GAC3B,SAAS2vG,EAAc10E,EAAWvL,EAAc/nB,GAC5C3H,EAAMwO,KAAKnB,MAEXA,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAK4tB,UAAYA,EACjB5tB,KAAKqiB,aAAeA,EAEpB,IAAI1E,EAAUrgB,cAAcswB,EAAW,CAAE,cAAe,eACxD5tB,KAAKuiG,aAAe,CAChBtkG,IAAK0f,EAAQ07C,WACbj7D,KAAMuf,EAAQ47C,aAGlBv5D,KAAK65E,iBACLjsD,EAAU/mB,YAAY7G,KAAKvG,QAC/B,CAyGA,OAvGK9G,IAAQ2vG,EAAc7pG,UAAY9F,GACvC2vG,EAAc9hG,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACxD8hG,EAAc9hG,UAAUhE,YAAc8lG,EAEtCA,EAAc9hG,UAAUq5E,eAAiB,WACrC,IAAIpgF,EAAUuG,KAAKvG,QAAU2oG,UAAU,mBAAoB,2DACvD/tC,EAAUr0D,KAAKq0D,QAAU+tC,UAAU,6BACnCI,EAASxiG,KAAKwiG,OAASJ,UAAU,YAErC/tC,EAAQhuD,UAAY,SAEpB5M,EAAQoN,YAAYwtD,GACpB56D,EAAQoN,YAAY27F,EACxB,EAEAF,EAAc9hG,UAAU2jB,KAAO,SAAeha,EAAM0tB,EAAI9H,GACpD,IAAIrtB,EAAM1C,KACNvG,EAAUiJ,EAAIjJ,QACda,EAAUoI,EAAIpI,QACdkoG,EAAS9/F,EAAI8/F,OACbnuC,EAAU3xD,EAAI2xD,QACdn1C,EAASif,OAAO0B,OAAO11B,GAAQ01B,OAAOhI,EAAK1tB,GAAQ,GACnDs4F,EAA6B,GAAf1yE,EAAKv1B,QACnBkoG,EAAS3yE,EAAK5a,SAASla,EAAIwnG,EAI3BlnF,GAHSwU,EAAK5a,SAASla,EACHynG,IACZpoG,EAAQ+H,IAAM/H,EAAQiN,KAE9BlN,EAAS6kB,EAAS5kB,EAAQiN,IAC1BumB,EAAO9tB,KAAKqiB,aAAaqQ,KAAKhD,OAAOp1B,EAAQo1B,OAAQvlB,EAAM0tB,GAC3Dt5B,EAAWE,cAAcnE,GAE7B0F,KAAK2iG,mBAEA3iG,KAAK4iG,WACNtlG,cAAc7D,EAAS,CACnBopG,WAAY,SACZhT,QAAS,UAEb7vF,KAAK4iG,UAAW,GAGhBrkG,IACAuvB,EAAOvvB,EAAS,CACZ4L,KAAMA,EACN0tB,GAAIA,KAIZw8B,EAAQhuD,UAAYynB,EACpBxwB,cAAc+2D,EAAS,CACnBj2D,KAAM2xB,EAAK5a,SAASla,EAAIo5D,EAAQ87B,YAAc,EAC9ClyF,IAAK8xB,EAAKjb,KAGd,IAAIguF,EAAexlG,cAAc+2D,EAAS,CAAE,YAAa,iBAAkB,WAE3E/2D,cAAcklG,EAAQ,CAClBhoG,MAAOioG,EACPrkG,KAAMskG,EAASroG,EAASkhB,EACxBtd,IAAK8xB,EAAKjb,GAAKguF,EAAaC,UAAYD,EAAaE,eAAiBF,EAAan3F,OAAS,IAGhGrO,cAAc7D,EAAS,CACnBopG,WAAY,WAEpB,EAEAP,EAAc9hG,UAAUmiG,iBAAmB,WACnC3iG,KAAKijG,cACLlrF,aAAa/X,KAAKijG,cAGlBjjG,KAAKkjG,gBACLljG,KAAKkjG,eAAej1F,QAE5B,EAEAq0F,EAAc9hG,UAAUwwB,KAAO,WAC3B,IAAI/d,EAAWjT,KAEfA,KAAK2iG,mBAEL3iG,KAAKijG,aAAehsF,YAAW,WAC3BhE,EAAS2vF,UAAW,EACpB3vF,EAASiwF,eAAiB,IAAIhB,iBAAiBjvF,EAASxZ,SACxDwZ,EAASiwF,eAAeh2C,QACxBj6C,EAASiwF,eAAe7Q,MAC5B,GAAGryF,KAAK1F,QAAQ6oG,UACpB,EAEAb,EAAc9hG,UAAU0R,QAAU,WAC9BlS,KAAK2iG,mBACD3iG,KAAK4tB,WACL5tB,KAAK4tB,UAAUsmD,YAAYl0E,KAAKvG,gBAE7BuG,KAAK4tB,iBACL5tB,KAAKqiB,oBACLriB,KAAKvG,eACLuG,KAAKq0D,eACLr0D,KAAKwiG,MAChB,EAEOF,CACX,CA1HoB,CA0HlB3vG,OAEFiR,kBAAkB0+F,cAAe,CAC7B5yE,OAAQ,gBACRyzE,UAAW,MAGf,IAAIC,eAAiB,aACjBC,eAAiBD,eACjBE,aAAe,WAEf9tD,UAAyBj9C,OAAOC,OAAO,CACvCC,UAAW,KACX6qG,aAAcA,aACdD,eAAgBA,eAChBD,eAAgBA,iBAGhBG,kBAAoB,EAEpBC,YAAe,SAAU7wG,GACzB,SAAS8wG,EAAUxwE,GACf,IAAI1zB,EAEJ5M,EAAMwO,KAAKnB,MAEXA,KAAKizB,MAAQA,EACb,IAAI34B,EAAU0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAAS24B,EAAM34B,QAAQ8V,WACpEmlF,EAASj7F,EAAQi7F,OACjBA,IACAA,EAAOprF,KAAOnK,KAAK+xB,UAAUwjE,EAAOprF,MACpCorF,EAAO19D,GAAK73B,KAAK+xB,UAAUwjE,EAAO19D,KAGjCh1B,QAAQvI,EAAQopG,KAAKjhF,WACtBnoB,EAAQopG,KAAKjhF,QAAUnoB,EAAQmoB,SAGnCziB,KAAK2jG,cAAgB,IAAI9iG,iBAAiBb,OAAQT,EAAM,CAAC,GAAO8+C,MAAQ,QAAS9+C,EAAI++C,UAAY,WAAY/+C,EAAIk/C,MAAQ,QAASl/C,EAAIm/C,UAAY,WAAYn/C,IAC9J0zB,EAAM27D,YAAY5uF,KAAK2jG,cAC3B,CA+dA,OA7dKhxG,IAAQ8wG,EAAUhrG,UAAY9F,GACnC8wG,EAAUjjG,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDijG,EAAUjjG,UAAUhE,YAAcinG,EAElCA,EAAUjjG,UAAUuxB,UAAY,SAAsBz4B,GAClD,OAAOy4B,UAAU/xB,KAAKizB,MAAM5Q,aAAaqQ,KAAMp5B,EACnD,EAEAmqG,EAAUjjG,UAAUojG,MAAQ,WACpB5jG,KAAK+5E,YACL/5E,KAAK+5E,UAAU7nE,UACflS,KAAK+5E,UAAY,MAGjB/5E,KAAK0jG,OACL1jG,KAAK0jG,KAAKxxF,UACVlS,KAAK0jG,KAAO,KAEpB,EAEAD,EAAUjjG,UAAU0R,QAAU,WACtBlS,KAAKizB,QACLjzB,KAAKizB,MAAMwjE,eAAez2F,KAAK2jG,sBACxB3jG,KAAKizB,OAGhBjzB,KAAK4jG,OACT,EAEAH,EAAUjjG,UAAU6+D,OAAS,WACzBr/D,KAAK6jG,cACL7jG,KAAK8jG,eACT,EAEAL,EAAUjjG,UAAUsjG,cAAgB,WAChC,IACI7wE,EADMjzB,KACMizB,MACZ34B,EAFM0F,KAEQ1F,QACdqb,EAAO3V,KAAK+jG,WACZv4E,EAAQ7V,EAAK6rB,eACbj6B,EAAMikB,EAAMjkB,IACZlF,EAAMmpB,EAAMnpB,IACZupF,EAAQtxF,EAAQi7F,OAChBprF,EAAOyhF,EAAMzhF,KACb0tB,EAAK+zD,EAAM/zD,GACX6iD,EAAakR,EAAMlR,WACnBspB,EAAYrnG,MAAMgZ,GAES,IAA3BA,EAAK8tB,oBAITzjC,KAAK4jG,QAGLI,EAAUlnF,IAAMnH,EAAKmH,IAErB9c,KAAK+5E,UAAY,IAAIN,UAAUxmD,EAAO+wE,EAAW,CAC7Cz8F,IAAKA,EACLlF,IAAKA,EACL8H,KAAMA,GAAQ5C,EACdswB,GAAIA,GAAMx1B,EACVq4E,WAAYh3E,eAAeg3E,EAAY,CAAE/F,KAAM,SAC/ClyD,QAASnoB,EAAQmoB,SAClB,IAAI5hB,iBAAiBb,KAAM,CAC1BikG,YAAa,eACb1O,OAAQ,UACR2O,UAAW,gBAGX5pG,EAAQopG,KAAKjhF,UACbziB,KAAK0jG,KAAO,IAAIpB,cAAcrvE,EAAMx5B,QAASw5B,EAAM5Q,aAAc,CAC7D9a,IAAKA,EACLlF,IAAKA,EACL9D,SAAUE,cAAcnE,EAAQopG,MAChCh0E,OAAQp1B,EAAQopG,KAAKh0E,UAGjC,EAEA+zE,EAAUjjG,UAAU+qF,SAAW,WAC3B,IAGI7oF,EAHW1C,KAAKizB,MAAM4hE,iBAAgB,GACtBrnB,kBAAkB61B,gBAEvB7hE,eACXj6B,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IAEVkzF,EAASv1F,KAAK1F,QAAQi7F,QAAU,CAAC,EACjCprF,EAAOorF,EAAOprF,MAAQ5C,EACtB4C,EAAO5C,IACP4C,EAAO5C,GAGX,IAAIswB,EAAK09D,EAAO19D,IAAMx1B,EAClBw1B,EAAKx1B,IACLw1B,EAAKx1B,GAGTrC,KAAK1F,QAAQi7F,OAAS14F,WAAW,CAAC,EAAG04F,EAAQ,CACzCprF,KAAMA,EACN0tB,GAAIA,IAGR73B,KAAKmkG,YACT,EAEAV,EAAUjjG,UAAUqjG,YAAc,SAAsBO,GACpD,IAAI/sE,EAAWr3B,KAAKizB,MAAMijB,UAEtB7e,GACAA,EAASgoC,OAAOj8D,KAAKi0B,EAAS2lC,OAAQonC,EAE9C,EAEAX,EAAUjjG,UAAU6jG,aAAe,WAC/B,IAAIpxE,EAAQjzB,KAAKizB,MACboE,EAAWpE,EAAMijB,UACjBouD,EAAajtE,EAAS2lC,MAAMvzD,QAAO,SAAU+tB,GAAQ,OAAOA,EAAKl9B,QAAQ5F,OAAS0uG,cAAgB,IAGtG/rE,EAAS+2C,UAAYn7C,EAAM34B,QAAQoqB,OACnC2S,EAAS/8B,QAAQ4pD,aAAejxB,EAAM34B,QAAQ4pD,aAC9C7sB,EAASo4C,yBAETp4C,EAASgoC,OAAOilC,EACpB,EAEAb,EAAUjjG,UAAU+jG,MAAQ,SAAgBviG,GACxC,IAUIo+B,EATAnN,EADMjzB,KACMizB,MACZ8mD,EAFM/5E,KAEU+5E,UAChB1uB,EAASp4B,EAAM6+C,kBAAkB9vE,EAAEwT,eACnCgvF,EAAgBxkG,KAAK+jG,WACrBU,EAAYD,EAAchjE,eAC1BkjE,EAAcF,EAAchtE,KAAK1a,IAAIe,cAAcwtC,GACnD11C,EAAOsd,EAAMijB,UAAUgO,aACvB7uB,EAAQrzB,EAAEquD,WAAW16C,EAAKrb,QAAQ5F,MAClC6gG,EAASv1F,KAAK1F,QAAQi7F,OAG1B,GAAKlgE,IAASqvE,GAAgB3qB,EAA9B,CAKI35C,EADAm1D,EAAOprF,MAAQorF,EAAO19D,GACXgI,OAAO01D,EAAO19D,IAAMgI,OAAO01D,EAAOprF,MAElC01B,OAAOk6C,EAAUz/E,QAAQu9B,IAAMgI,OAAOk6C,EAAUz/E,QAAQ6P,MAGvE,IAAIA,EAAOg0B,OAAO96B,WACdw8B,OAAOxK,EAAM9tB,KACbk9F,EAAUl9F,IAAKs4B,OAAO4kE,EAAUpiG,KAAO+9B,IAGvCvI,EAAKsG,OAAO96B,WACZw8B,OAAO11B,GAAQi2B,EACfP,OAAO4kE,EAAUl9F,KAAO64B,EAAUqkE,EAAUpiG,MAGhDrC,KAAK1F,QAAQi7F,OAAS,CAAEprF,KAAMA,EAAM0tB,GAAIA,GAEpC73B,KAAK1F,QAAQqqG,WACb3kG,KAAKmkG,aACLnkG,KAAKqkG,gBAGTtqB,EAAUp5E,IAAIwJ,EAAM0tB,GAEpB73B,KAAK4kG,SAASz6F,EAAM0tB,EA3BpB,CA4BJ,EAEA4rE,EAAUjjG,UAAUqkG,SAAW,WAC3B7kG,KAAKmkG,aACLnkG,KAAKyJ,SACLzJ,KAAKqkG,eAEDrkG,KAAK0jG,MACL1jG,KAAK0jG,KAAK1yE,MAElB,EAEAyyE,EAAUjjG,UAAUskG,cAAgB,WAChC,IACIC,EADM/kG,KACsB+5E,UAAUz/E,QACtC6P,EAAO46F,EAAsB56F,KAC7B0tB,EAAKktE,EAAsBltE,GAC3B09D,EAJMv1F,KAIO1F,QAAQi7F,OAEzBA,EAAOprF,KAAOA,EACdorF,EAAO19D,GAAKA,CAChB,EAEA4rE,EAAUjjG,UAAU2jG,WAAa,WAC7B,IACI5O,EADMv1F,KACO1F,QAAQi7F,YAAwB,IAAXA,IAAoBA,EAAS,CAAE,GAMrE,IALA,IACI95B,EAHMz7D,KAEMizB,MACI34B,QAAQ4pD,aACxB/5C,EAAOorF,EAAOprF,KACd0tB,EAAK09D,EAAO19D,GAEPj+B,EAAM,EAAGA,EAAM6hE,EAAQ5hE,OAAQD,IAAO,CAC3C,IAAI+b,EAAO8lD,EAAQ7hE,GACf+b,EAAK6hB,OAAS4rE,iBACdztF,EAAKpO,IAAM4C,EACXwL,EAAKtT,IAAMw1B,EAEnB,CACJ,EAEA4rE,EAAUjjG,UAAUiJ,OAAS,WACzB,IACIwpB,EADMjzB,KACMizB,MACZsiE,EAFMv1F,KAEO1F,QAAQi7F,OAEzB,GAAKtiE,EAAMrxB,iBAAiB,CAAE,oBAA9B,CAIA,IAAImiG,EAAW/jG,KAAK+jG,WAChBziG,EAAO,CACP6I,KAAMorF,EAAOprF,KACb0tB,GAAI09D,EAAO19D,IAGf,GAA8B,aAA1BksE,EAASzpG,QAAQuJ,KAAqB,CACtC,IAAI2nC,EAAc,IAAIrD,iBAAiBtrC,WAAW,CAC9CmjC,SAAU,OACX/M,EAAM34B,QAAQ4pD,aAAa,GAAI,CAC9BhjB,WAAY,CAAEq0D,EAAOprF,KAAMorF,EAAO19D,MAClC5E,EAAM5Q,cAAc/nB,QAExBgH,EAAK6I,KAAO60B,YAAYwM,EAAYjkC,KAAMikC,EAAYtL,aAAcsL,EAAYxL,UAChF1+B,EAAKu2B,GAAKmH,YAAYwM,EAAYnpC,IAAKmpC,EAAYtL,aAAcsL,EAAYxL,SACjF,CAEAhgC,KAAKizB,MAAM5xB,QAAQ,kBAAmBC,EAnBtC,CAoBJ,EAEAmiG,EAAUjjG,UAAUwkG,MAAQ,SAAgBhjG,GACxC,IAAIU,EAAM1C,KACN2V,EAAOjT,EAAIuwB,MAAMijB,UAAUgO,aAC3B61B,EAAYr3E,EAAIq3E,UAChB7f,EAAcx3D,EAAIpI,QAClBi7F,EAASr7B,EAAYq7B,OACrBoP,EAAWzqC,EAAYyqC,SACvBZ,EAAW/jG,KAAK+jG,WAChB9hG,EAAQD,EAAEC,MAEd,GAAK83E,EAAL,CAIA,IAAIkrB,EAASlB,EAAS5gE,cAAc42C,EAAUz/E,QAAQ6P,MAClD+6F,EAAOnB,EAAS5gE,cAAc42C,EAAUz/E,QAAQu9B,IAChDwzB,EAASrrD,KAAKizB,MAAM6+C,kBAAkB9vE,EAAEwT,eAE5CxT,EAAEwT,cAAc1C,iBAEZ1Q,KAAKkZ,IAAIrZ,GAAS,IAClBA,GAASshG,mBAGT2B,EAAOD,EAAS,GAChBlrB,EAAUpF,KAAK1yE,EAAOopD,GACtBrrD,KAAK8kG,kBAELnvF,EAAKrb,QAAQiN,IAAMguF,EAAOprF,KAC1BorF,EAAOprF,KAAOwL,EAAKguB,YAAY3hC,EAAEC,MAAQjC,KAAKizB,MAAMslE,sBAAuBltC,GAAQ9jD,KAGnFo9F,IACA3kG,KAAKmkG,aACLnkG,KAAKqkG,gBAGTtqB,EAAUp5E,IAAI40F,EAAOprF,KAAMorF,EAAO19D,IAElC73B,KAAK4kG,SAAS5kG,KAAK1F,QAAQi7F,OAAOprF,KAAMnK,KAAK1F,QAAQi7F,OAAO19D,GA3B5D,CA4BJ,EAEA4rE,EAAUjjG,UAAU2kG,SAAW,SAAmBnjG,GAC9ChC,KAAK6kG,SAAS7iG,EAClB,EAEAyhG,EAAUjjG,UAAUokG,SAAW,SAAmBz6F,EAAM0tB,GACpD,IAAIR,EAAWr3B,KAAKizB,MAAMijB,UAEtBl2C,KAAK0jG,MACL1jG,KAAK0jG,KAAKv/E,KAAKha,EAAM0tB,EAAIR,EAASsrC,gBAE1C,EAEA8gC,EAAUjjG,UAAUg1F,aAAe,SAAuBxzF,GACtD,OAAOhC,KAAKizB,MAAMuiE,aAAaxzF,EACnC,EAEAyhG,EAAUjjG,UAAUkZ,QAAU,SAAkB1X,GAG5C,OAFAhC,KAAK4kG,SAAS5iG,EAAEmI,KAAMnI,EAAE61B,IAEjB73B,KAAKizB,MAAMvZ,QAAQ1X,EAC9B,EAEAyhG,EAAUjjG,UAAUi1F,WAAa,SAAqBzzF,GAUlD,OATIhC,KAAK0jG,MACL1jG,KAAK0jG,KAAK1yE,OAGdhxB,KAAK8kG,gBACL9kG,KAAKmkG,aACLnkG,KAAKyJ,SACLzJ,KAAKqkG,eAEErkG,KAAKizB,MAAMwiE,WAAWzzF,EACjC,EAEAyhG,EAAUjjG,UAAUujG,SAAW,WAC3B,IAAI1sE,EAAWr3B,KAAKizB,MAAMijB,UAE1B,GAAI7e,EACA,OAAOA,EAASm2C,kBAAkB61B,eAE1C,EAEAI,EAAUjjG,UAAU+0F,OAAS,SAAiBprF,EAAM0tB,GAChD,IAAI09D,EAASv1F,KAAK1F,QAAQi7F,OAa1B,OAXIprF,GAAQ0tB,IACR09D,EAAOprF,KAAOnK,KAAK+xB,UAAU5nB,GAC7BorF,EAAO19D,GAAK73B,KAAK+xB,UAAU8F,GAE3B73B,KAAKmkG,aACLnkG,KAAKyJ,SACLzJ,KAAKqkG,eAELrkG,KAAK+5E,UAAUp5E,IAAIwJ,EAAM0tB,IAGtB,CACH1tB,KAAMorF,EAAOprF,KACb0tB,GAAI09D,EAAO19D,GAEnB,EAEA4rE,EAAUv2C,MAAQ,SAAgB5yD,EAASo0F,GAIvC,QAHiB,IAAZp0F,IAAqBA,EAAU,CAAC,QACf,IAAjBo0F,IAA0BA,EAAe,CAAC,IAE3Cp0F,EAAQ8qG,OAAZ,CAGA9qG,EAAQ8qG,QAAS,EAEjB,IAAIC,EAAcxoG,WAAW,CAAC,EAAG6xF,EAAat+E,UAAW9V,EAAQ8V,WAC7D4sD,EAAQ1iE,EAAQ0iE,MAAQ,GAAG70D,OAAO7N,EAAQ0iE,OAC1CD,EAAclgE,WAAW,CAAC,EAAGwoG,EAAY7tE,KAAM,CAAE9iC,KAAM0uG,iBAEtDiC,EAAY5iF,UACbs6C,EAAYt6C,SAAU,EACtBs6C,EAAYpxD,OAAS,IAGU,QAA/BrR,EAAQ8V,UAAU0e,SAClBkuC,EAAM19D,KAAKy9D,GAEXC,EAAMrqD,QAAQoqD,GAGlBC,EAAM34D,SAAQ,SAAUmzB,GACpBA,EAAK9iC,KAAO8iC,EAAK9iC,MAAQ4uG,YAC7B,IAEAG,EAAU6B,WAAWhrG,EAAS+qG,GAC9B5B,EAAU8B,aAAajrG,EAAS+qG,EAAa3W,EAvB7C,CAwBJ,EAEA+U,EAAU6B,WAAa,SAAqBhrG,EAAS+qG,GACjD,IAAI3gF,EAAS2gF,EAAY3gF,QAAU,GAC/B0rD,EAAe91E,EAAQ4pD,aAAe,GAAG/7C,OAAO7N,EAAQ4pD,cACxDshD,EAAYlrG,EAAQsnC,UAAY,GAAGz5B,OAAO7N,EAAQsnC,WACxCwuC,EAAajoE,OAAOq9F,GAC1BnhG,SAAQ,SAAUsR,GACtBA,EAAK6hB,KAAO7hB,EAAK6hB,MAAQ8rE,YAC7B,IAEA,IACImC,EAA6C,IADvBnjD,mBAAmB59B,EAAQy4B,uBACftjD,OAElCg0C,EAAOhxC,WAAW,CAClBgH,KAAM,OACN2zB,KAAM4rE,eACNp9D,iBAAkBy/D,EAClBvpE,UAAWupE,EACXC,WAAW,EACXnxE,WAAY,CAAE9R,SAAS,GACvB4xC,QAAS,CAAE5xC,SAAS,GACpByR,OAAQ,CAAEgB,KAAM,GAChB8oE,SAAUqH,EAAYM,iBACtB1+D,kBAAmB,CACftJ,QAAS,CAAE,GACXD,MAAO,CAAE,EAAG,GACZD,KAAM,CAAE,EAAG,GACXD,MAAO,GACPD,OAAQ,CAAE,GACVD,MAAO,CAAE,MAGbsoE,EAAOP,EAAYnhD,aAEvBksB,EAAa9wE,KACTzC,WAAW,CAAC,EAAGgxC,EAAM,CACjB3G,cAAe,KAChB0+D,EAAM,CACLlxG,KAAM2uG,eACNp0E,MAAO,KACP+Q,SAAU,MACVE,aAAc,OACdhM,OAAQ,CAAEzR,SAAS,GACnB8R,WAAY,CAAE9R,SAAS,KACvB5lB,WAAW,CAAC,EAAGgxC,EAAM+3D,EAAM,CAC3BlxG,KAAM2uG,eAAiB,UACvBn8D,cAAe,GACfhH,aAAc,OACdhM,OAAQ,CAAEpF,SAAU,IACpBsI,UAAW,GACX6P,kBAAmB,CACftJ,QAAS,IAEbkjC,UAAU,IACVhkE,WAAW,CAAC,EAAGgxC,EAAM+3D,EAAM,CAC3BlxG,KAAM2uG,eAAiB,SACvBn8D,cAAe,IACf3S,WAAY,CACR/5B,MAAO,IAEX48B,UAAW,GACXnI,MAAO,KACPiF,OAAQ,CAAEzR,SAAS,EAAOiT,QAAQ,GAClCmrC,UAAU,KAIlB2kC,EAAUlmG,KAAKzC,WAAW,CACtBnI,KAAM2uG,eACN7rE,KAAM4rE,eACNhrE,eAAgB,CACZ3V,SAAS,GAEbA,SAAS,GACV4iF,EAAYzjE,WACnB,EAEA6hE,EAAU8B,aAAe,SAAuBjrG,EAAS+qG,EAAa3W,GAMlE,IALA,IAAIhqE,EAASpqB,EAAQoqB,OAASpqB,EAAQoqB,QAAU,GAC5CmhF,EAAkB,GAAG19F,OAAOk9F,EAAY3gF,QAAU,IAClD69D,EAAemM,EAAanM,aAC5BpgC,EAAWkjD,EAAYtkB,eAElBnnF,EAAM,EAAGA,EAAMisG,EAAgBhsG,OAAQD,IAC5C8qB,EAAOplB,KACHzC,WAAW,CACPkM,MAAOw5E,EAAa3oF,EAAM2oF,EAAa1oF,QACvCwxE,cAAeg6B,EAAYS,UAC3B5nC,iBAAiB,EACjB7J,QAAS,CACL5xC,SAAS,IAEd0/B,EAAU0jD,EAAgBjsG,GAAM,CAC/B+b,KAAM0tF,eACNn/C,aAAcm/C,eACdrF,SAAUqH,EAAYM,mBAItC,EAEOlC,CACX,CApfkB,CAofhB9wG,OAEF,SAASozG,eAAiB,CAC1B,SAASppG,MAAM4C,GAEX,OADAwmG,aAAavlG,UAAYjB,EAClB,IAAIwmG,YACf,CAEA,IAAIC,oBAAsB,GAEtBC,WAAc,SAAUxX,GACxB,SAASwX,IACLxX,EAAM9sF,MAAM3B,KAAMjD,UACtB,CA0JA,OAxJK0xF,IAAQwX,EAAWxtG,UAAYg2F,GACpCwX,EAAWzlG,UAAYjI,OAAOuN,OAAQ2oF,GAASA,EAAMjuF,WACrDylG,EAAWzlG,UAAUhE,YAAcypG,EAEnCA,EAAWzlG,UAAUwsC,cAAgB,SAAwB1yC,EAASo0F,GAClE,IAAIl0F,EAAQwI,YAAYhD,KAAKvG,SAASe,OAAStE,gBAC3C4qF,EAAQ4N,EAERwX,EAAgB,CAChBnlB,eAAgB,CACZ1V,cAAe/wE,EAAQwrG,WAE3B5G,aAAc,CACVh7C,aAAc,CACVxvD,KAAM,UACN0jC,eAAgB,CACZ3V,SAAS,GAEbyR,OAAQ,CACJgB,KAAM,GAEVX,WAAY,CACR9R,SAAS,GAEbykB,cAAe9kC,KAAKK,MAAMjI,EAAQwrG,wBAK1CllB,IACAA,EAAQjkF,WAAW,CAAC,EAAGikF,EAAOolB,IAGlC1C,YAAYt2C,MAAM5yD,EAASwmF,GAE3B2N,EAAMjuF,UAAUwsC,cAAc7rC,KAAKnB,KAAM1F,EAASwmF,EACtD,EAEAmlB,EAAWzlG,UAAUgvF,iBAAmB,SAA2B/1F,GAC/DD,SAASC,EAAS,uBACtB,EAEAwsG,EAAWzlG,UAAUo+F,WAAa,SAAqBtkG,GACnD0F,KAAKmmG,mBACL1X,EAAMjuF,UAAUo+F,WAAWz9F,KAAKnB,KAAM1F,EAC1C,EAEA2rG,EAAWzlG,UAAUu+F,oBAAsB,WACvC,IAAItxC,EAAcztD,KAAK1F,QAAQmzD,YAE/BztD,KAAK1F,QAAQmzD,aAAc,EAC3BztD,KAAKomG,cACLpmG,KAAK1F,QAAQmzD,YAAcA,CAC/B,EAEAw4C,EAAWzlG,UAAUgwF,QAAU,WAC3BxwF,KAAK++F,qBACT,EAEAkH,EAAWzlG,UAAU6uF,QAAU,WAC3B,IAAIj/E,EAAYpQ,KAAKoQ,WAEhBpQ,KAAKqmG,UAAYj2F,GAAaA,EAAU9V,QAAQgsG,cACjDl2F,EAAUi0F,eAEVrkG,KAAKomG,aAEb,EAEAH,EAAWzlG,UAAU6lG,OAAS,WAC1B,IAAI/rG,EAAU0F,KAAK1F,QAEfwnD,EAActiD,KADL,GAAG2I,OAAO7N,EAAQoqB,OAAQpqB,EAAQ8V,UAAUsU,SAC1B,SAAS7X,GAAK,OAAOA,GAAKA,EAAE4V,OAAS,IAAG5oB,OACnE0sG,EAAQvmG,KAAKwmG,eAAiB1kD,EAGlC,OAFA9hD,KAAKwmG,aAAe1kD,EAEbykD,CACX,EAEAN,EAAWzlG,UAAU4lG,YAAc,WAC/B,IAAIh2F,EAAYpQ,KAAKoQ,UAEhBA,IACDA,EAAYpQ,KAAKoQ,UAAY,IAAIozF,YAAYxjG,MAC7CA,KAAKqB,QAAQ,mBAAoB,CAAE+O,UAAWA,KAGlDA,EAAUwzF,QACVxzF,EAAUm7E,WAEVkD,EAAMjuF,UAAU6uF,QAAQluF,KAAKnB,MAE7BoQ,EAAU0zF,eACd,EAEAmC,EAAWzlG,UAAU44F,oBAAsB,SAA8B/tC,GACrE,IACI7zB,EADWx3B,KAAKk2C,UACA4tB,YAAYzY,GAE5B7zB,GAAQA,EAAKl9B,QAAQ5F,OAAS0uG,eAC9BpjG,KAAK03E,oBAEL+W,EAAMjuF,UAAU44F,oBAAoBj4F,KAAKnB,KAAMqrD,EAEvD,EAEA46C,EAAWzlG,UAAU0rF,eAAiB,WAClCuC,EAAMjuF,UAAU0rF,eAAe/qF,KAAKnB,MACpCA,KAAKymG,yBACT,EAEAR,EAAWzlG,UAAUimG,wBAA0B,WAI3C,IAHA,IACIvlE,EADAowC,EAAc,GAAGnpE,OAAOnI,KAAK1F,QAAQ4pD,cAGhCya,EAAS,EAAGA,EAAS2S,EAAYz3E,OAAQ8kE,IAAU,CACxD,IAAIhpD,EAAO27D,EAAY3S,GACnBhpD,EAAKjhB,OAAS2uG,eACdniE,EAAavrB,EAAKurB,WACXA,GAAcvrB,EAAK6hB,OAAS4rE,iBACnCztF,EAAKurB,WAAaA,EAE1B,CACJ,EAEA+kE,EAAWzlG,UAAU2lG,iBAAmB,WAChCnmG,KAAKoQ,YACLpQ,KAAKoQ,UAAU8B,UACflS,KAAKoQ,UAAY,KAEzB,EAEA61F,EAAWzlG,UAAU0R,QAAU,WAC3BlS,KAAKmmG,mBACL1X,EAAMjuF,UAAU0R,QAAQ/Q,KAAKnB,KACjC,EAEAimG,EAAWzlG,UAAUg3F,mBAAqB,SAA6Bx1F,GACnE,IAAIqpD,EAASrrD,KAAK8xE,kBAAkB9vE,GAChCw1B,EAAOx3B,KAAKk2C,UAAU4tB,YAAYzY,GAEtC,OAAOojC,EAAMjuF,UAAUg3F,mBAAmBr2F,KAAKnB,KAAMgC,IAAOw1B,GAAQA,EAAKl9B,QAAQ5F,OAAS0uG,cAC9F,EAEA6C,EAAWzlG,UAAUszF,sBAAwB,WACpC9zF,KAAKi0F,mBACNj0F,KAAKvG,QAAQgE,MAAM6b,YAAc,OAEjCtZ,KAAKi0F,kBAAmB,EAEhC,EAEOgS,CACX,CA9JiB,CA8JfxX,OAEF7qF,kBAAkBqiG,WAAY,CAC1BH,UAAW,OACX5G,aAAc,CACVh7C,aAAc,CACVrgD,KAAM,OACNm8B,SAAU,MACV9D,WAAW,GAEf0F,UAAW,CACPqK,aAAa,EACb/X,OAAQ,CACJxE,OAAQ,OAIpBtf,UAAW,CACPmlF,OAAQ,CAAC,EACTxU,eAAgB,CACZ53B,QAAS,CACL1mC,SAAS,GAEb4xC,QAAS,CACL5xC,SAAS,GAEbuB,UAAW,CACPvB,SAAS,GAEbtW,KAAM,CACF3R,MAAO,IAGfkpG,KAAM,CAAC,EACPjhF,SAAS,GAEb4xC,QAAS,CACL5xC,SAAS,GAEb65C,OAAQ,CACJ75C,SAAS,KAIjB,IAAIikF,cAAgB,IAChBC,aAAe,IACfC,MAAQ,QACRC,cAAgB,eAChBC,YAAc,aACdluG,eAAiB,IACjBmuG,mBAAqB,GACrBluG,cAAgB,IAChBmuG,OAAS5kG,KAAKovC,GAAK,IACnBy1D,SAAW,SACXC,OAAS,SACTjuG,QAAU,UACVkuG,eAAiB,gBACjBC,qBAAuB,qBAE3B,SAAS1pF,IAAIqS,EAAMz2B,GACf,IAAI4zB,EAAS6C,EAAKs3E,YACd7hG,EAAOuqB,EAAKkgE,UACZjyF,EAAUF,WAAWxE,GAKzB,OAHAy2B,EAAKu3E,UAAU,CAAEp6E,EAAOjyB,EAAI+C,EAAQI,KAAM8uB,EAAOhyB,EAAI8C,EAAQC,MAC7D8xB,EAAKw3E,QAAQ,CAAE/hG,EAAKhL,OAASwD,EAAQI,KAAOJ,EAAQE,OAAQsH,EAAKmG,QAAU3N,EAAQC,IAAMD,EAAQG,UAE1F4xB,CACX,CAEA,IAAIy3E,QAAUx0G,QACVy0G,OAAS10G,OACT85B,KAAOh5B,OAEX,SAAS6zG,kBAAkBz2E,EAAO32B,GAC9B,IAAIo/B,EAAWzI,EAAMnU,IACjB8zC,EAAU3/B,EAAMrP,SAAS,GAAG9E,IAC5BwI,EAAShrB,EAAQgrB,QAAU,CAAC,EAC5BF,EAAa9qB,EAAQ8qB,YAAc,GAEnChgB,EAAUqiG,OAAOjgF,SAAS,IAAI50B,KAAK,CAAE8mC,EAAS9kB,GAAI8kB,EAAS5kB,IAAM,CAAE4kB,EAASl/B,QAASk/B,EAAS/tB,WAAa,CAC3GpR,OAAQ,CAAC,IAGTuzB,EAAO,IAAIjB,KAAKoE,EAAMnD,KAAM,IAAIj7B,QAAQ+9D,EAAQh8C,GAAIg8C,EAAQ97C,IAAK,CACjEtQ,KAAMlK,EAAQkK,KACdggB,KAAM,CAAEzb,MAAOzO,EAAQyO,SAGvB4+F,EAAgBjqF,IAAIoQ,EAAKiC,OAAOpzB,QAASrC,EAAQqjB,SAEjDiqF,EAAWH,OAAOjgF,SAASmgF,EAAe,CAC1CptG,OAAQ,CACJwO,MAAOuc,EAAO9qB,MAAQ8qB,EAAOvc,MAAQ,GACrCvO,MAAO8qB,EAAO9qB,MACd4pB,QAASkB,EAAOlB,QAChBsD,SAAUpC,EAAOoC,SACjB4pC,SAAU,QACVnD,QAAS,SAEb3pC,KAAM,CACFzb,MAAOqc,KAIXS,EAAW,IAAI2hF,QAKnB,OAJA3hF,EAASljB,OAAOyC,GAChBygB,EAASljB,OAAOilG,GAChB/hF,EAASljB,OAAOmrB,GAETjI,CACX,CAEA,SAASgiF,SAASxyE,EAAO9tB,EAAKlF,GAC1B,IAAI8H,EAAOtH,QAAQwyB,EAAMlrB,MAAQkrB,EAAMlrB,KAAOrT,UAC1C+gC,EAAKh1B,QAAQwyB,EAAMwC,IAAMxC,EAAMwC,GAAKjhC,UAKxC,OAHAy+B,EAAMlrB,KAAO/H,KAAKC,IAAID,KAAKmF,IAAIswB,EAAI1tB,GAAO5C,GAC1C8tB,EAAMwC,GAAKz1B,KAAKmF,IAAInF,KAAKC,IAAIw1B,EAAI1tB,GAAO9H,GAEjCgzB,CACX,CAEA,SAASzX,MAAMmS,EAAMz2B,GACjB,IAAI0E,EAAUF,WAAWxE,GAKzB,OAHA0E,EAAQI,MAAQJ,EAAQI,KAAMJ,EAAQC,KAAOD,EAAQC,IACrDD,EAAQE,OAASF,EAAQE,MAAOF,EAAQG,QAAUH,EAAQG,OAEnDuf,IAAIqS,EAAM/xB,EACrB,CAEA,IAAI8pG,eAAiB,EACjBC,OAASh1G,OACTi1G,QAAU7zG,UAEV8zG,MAAS,SAAUt1G,GACnB,SAASs1G,EAAMxuG,EAAS8yC,EAAau0C,EAAOtyD,QACvB,IAAZA,IAAqBA,EAAU,CAAC,GAErC77B,EAAMwO,KAAKnB,MAEXA,KAAKvG,QAAUA,EACfuG,KAAK8gF,MAAQA,EACb9gF,KAAKkoG,eAAiB,IAAIl1E,aAAahzB,KAAMwuB,GAC7CxuB,KAAK8uF,iBAAmBjyF,WAAW,CAAC,EAAGmD,KAAK1F,QAASiyC,GACrDvsC,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK8uF,kBACnC9uF,KAAKgvF,WAAWlO,GAEhB9gF,KAAKq/D,QACT,CAqPA,OAnPK1sE,IAAQs1G,EAAMxvG,UAAY9F,GAC/Bs1G,EAAMznG,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAChDynG,EAAMznG,UAAUhE,YAAcyrG,EAE9BA,EAAMznG,UAAU0R,QAAU,WAClBlS,KAAK8Y,UACL9Y,KAAK8Y,QAAQ5G,UACblS,KAAK8Y,QAAU,aAGZ9Y,KAAKvG,eACLuG,KAAK2Z,cAChB,EAEAsuF,EAAMznG,UAAUlH,MAAQ,SAAgB6uG,GACpC,IAAI3zF,EAAUxU,KAAKooG,SAAS,GAE5B,GAAyB,IAArBrrG,UAAUlD,OACV,OAAO2a,EAAQlb,QAGnBkb,EAAQlb,MAAM6uG,GACdnoG,KAAKqoG,iBAAiBF,EAC1B,EAEAF,EAAMznG,UAAU8nG,MAAQ,WACpB,IAAIxvF,EAAU9Y,KAAK8Y,QAEnBA,EAAQjP,QACRiP,EAAQs5E,KAAKpyF,KAAKuoG,SACtB,EAEAN,EAAMznG,UAAU+yF,aAAe,WAC3B,OAAOvzF,KAAKuoG,QAChB,EAEAN,EAAMznG,UAAUgoG,UAAY,SAAoBr/F,GAC5C,IAAIi/F,EAAWpoG,KAAKooG,SAChBI,EAAY,GAEhB,GAAyB,IAArBzrG,UAAUlD,OAAc,CACxB,IAAK,IAAIY,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjC+tG,EAAUlpG,KAAK8oG,EAAS3tG,GAAGnB,SAG/B,OAAOkvG,CACX,CAEA,GAAInvG,QAAQ8P,GACR,IAAK,IAAIoE,EAAM,EAAGA,EAAMpE,EAAOtP,OAAQ0T,IAC/BpS,SAASgO,EAAOoE,KAChB66F,EAAS76F,GAAKjU,MAAM6P,EAAOoE,IAKvCvN,KAAKqoG,iBAAiBl/F,EAC1B,EAEA8+F,EAAMznG,UAAU6nG,iBAAmB,SAA2Bl/F,GAI1D,IAHA,IAAIi/F,EAAW,GAAGjgG,OAAOnI,KAAK1F,QAAQka,SAClCi0F,EAAc,GAAGtgG,OAAOgB,GAEnB1O,EAAI,EAAGA,EAAIguG,EAAY5uG,OAAQY,IACpC2tG,EAAS3tG,GAAGnB,MAAQmvG,EAAYhuG,EAExC,EAEAwtG,EAAMznG,UAAU4vF,OAAS,WACrBpwF,KAAK++F,qBACT,EAEAkJ,EAAMznG,UAAUu+F,oBAAsB,WAClC,IAAItxC,EAAcztD,KAAK1F,QAAQmzD,YAE/BztD,KAAK0oG,oBAAmB,GAExB1oG,KAAKq/D,SAELr/D,KAAK0oG,mBAAmBj7C,EAC5B,EAEAw6C,EAAMznG,UAAU6+D,OAAS,WACrB,IAAI75D,EAAOxF,KAAK2oG,eACZvjG,EAAU,IAAIxS,KAAK,CAAE,EAAG,GAAK,CAAE4S,EAAKhL,MAAOgL,EAAKmG,SAEpD3L,KAAKmvF,eAELnvF,KAAK4oG,UAAY5oG,KAAK6oG,mBAEtB7oG,KAAK8oG,eAEL,IAAI/4E,EAAOnS,MAAMxY,EAAQ2qB,OAAQ/vB,KAAK+oG,kBACtC/oG,KAAK8hB,OAAOiO,EAChB,EAEAk4E,EAAMznG,UAAUo+F,WAAa,SAAqBtkG,EAASwmF,GACvD9gF,KAAK8uF,iBAAmBjyF,WAAWmD,KAAK8uF,iBAAkBx0F,GAC1D0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK8uF,kBAEnC9uF,KAAKgvF,WAAWlO,GAEhB9gF,KAAKq/D,QACT,EAEA4oC,EAAMznG,UAAUq+F,aAAe,SAAuB3rE,GAClDlzB,KAAKkoG,eAAeh1E,IAAMpjB,QAAQojB,GAC9BlzB,KAAK8Y,SAAiC,QAAtB9Y,KAAK8Y,QAAQjV,OAC7B7D,KAAK8Y,QAAQ5G,UACblS,KAAK8Y,QAAU,KAEvB,EAEAmvF,EAAMznG,UAAUs+F,eAAiB,SAAyBpsE,GACtD1yB,KAAKkoG,eAAex1E,KAAOA,CAC/B,EAEAu1E,EAAMznG,UAAUwuF,WAAa,SAAqBlO,GAC9C,IAAIkoB,EAAeloB,GAAS9gF,KAAK8gF,OAAS,CAAC,EAC3C9gF,KAAK8gF,MAAQkoB,EAEbhpG,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmsG,EAAchpG,KAAK1F,SACjD,IAAIA,EAAU0F,KAAK1F,QACfka,EAAUla,EAAQka,QAEtB,GAAInb,QAAQmb,GAAU,CAElB,IADA,IAAI4zF,EAAW,GACN3tG,EAAI,EAAGA,EAAI+Z,EAAQ3a,OAAQY,IAChC2tG,EAAS9oG,KAAKzC,WAAW,CAAC,EAAGmsG,EAAax0F,QAASA,EAAQ/Z,KAE/DH,EAAQka,QAAU4zF,CACtB,CACJ,EAEAH,EAAMznG,UAAUqoG,iBAAmB,WAC/B,IAAIvuG,EAAU0F,KAAK1F,QAAQsuG,UACvBpjG,EAAOxF,KAAK8Y,QAAQtT,OACpB8f,EAAShrB,EAAQgrB,QAAU,CAAC,EAC5B2jF,EAAe,IAAIr2G,KAAK,CAAE,EAAG,GAAK,CAAE4S,EAAKhL,MAAOgL,EAAKmG,SAsBzD,OApBA3L,KAAK+oG,iBAAmBzuG,EAAQysB,QAAU+gF,eAEtCxiF,EAAO9qB,MAAQ,IACfyuG,EAAerrF,MAAMqrF,EAAc3jF,EAAO9qB,QAG9ButG,OAAOvgF,SAASyhF,EAAc,CAC1C1uG,OAAQ,CACJwO,MAAOuc,EAAO9qB,MAAQ8qB,EAAOvc,MAAQ,GACrCvO,MAAO8qB,EAAO9qB,MACd4pB,QAASkB,EAAOlB,QAChBsD,SAAUpC,EAAOoC,SACjB4pC,SAAU,QACVnD,QAAS,SAEb3pC,KAAM,CACFzb,MAAOzO,EAAQ8qB,aAK3B,EAEA6iF,EAAMznG,UAAU2uF,aAAe,WAC3B,IACI70F,EADM0F,KACQ1F,QACdwe,EAFM9Y,KAEQ8Y,QACdrf,EAAUuG,KAAKkpG,kBACf1jG,EAAOxF,KAAK2oG,eAEhB3lG,YAAYvJ,EAAS+L,GAEhBsT,GAAWA,EAAQxe,QAAQuJ,OAASvJ,EAAQo3F,UAS7C1xF,KAAK8Y,QAAQjP,QACb7J,KAAK8Y,QAAQs3E,WATTt3E,GACAA,EAAQ5G,UAGZlS,KAAK8Y,QAAUkvF,QAAQliG,OAAOrM,EAAS,CACnCoK,KAAMvJ,EAAQo3F,WAM1B,EAEAuW,EAAMznG,UAAUmoG,aAAe,WAC3B,IAAIruG,EAAU0F,KAAK1F,QACfkL,EAAOxF,KAAKmpG,WAMhB,OAJI7uG,EAAQsuG,WACR/rG,WAAW2I,EAAMlL,EAAQsuG,WAGtBpjG,CACX,EAEAyiG,EAAMznG,UAAU0oG,gBAAkB,WAM9B,OALKlpG,KAAK2Z,iBACN3Z,KAAK2Z,eAAiBxV,SAASiD,cAAc,OAC7CpH,KAAKvG,QAAQoN,YAAY7G,KAAK2Z,iBAG3B3Z,KAAK2Z,cAChB,EAEAsuF,EAAMznG,UAAUyvF,QAAU,WACtB,OAAOjwF,KAAKmpG,UAChB,EAEAlB,EAAMznG,UAAU2oG,SAAW,WACvB,IAAI1vG,EAAUuG,KAAKvG,QACf2vG,EAAcppG,KAAKqpG,eACnB7uG,EAAQf,EAAQ02F,YAChBxkF,EAASlS,EAAQmgF,aAUrB,OARKp/E,IACDA,EAAQ4uG,EAAY5uG,OAGnBmR,IACDA,EAASy9F,EAAYz9F,QAGlB,CAAEnR,MAAOA,EAAOmR,OAAQA,EACnC,EAEAs8F,EAAMznG,UAAU6oG,aAAe,WAC3B,MAAO,CACH7uG,MAAO3B,cACP8S,OAAQ/S,eAEhB,EAEAqvG,EAAMznG,UAAUkoG,mBAAqB,SAA6BpvG,GAG9D0G,KAAK1F,QAAQmzD,YAAcn0D,EAC3B,IAAK,IAAImB,EAAI,EAAGA,EAAIuF,KAAKooG,SAASvuG,OAAQY,IAH3BuF,KAIFooG,SAAS3tG,GAAGH,QAAQ0nB,UAAUyrC,YAAcn0D,CAE7D,EAEO2uG,CACX,CApQY,CAoQVt1G,OAEFiR,kBAAkBqkG,MAAO,CACrB5wE,SAAU,CAAC,EACXypD,MAAO,UACP4Q,SAAU,GACVl9E,QAAS,CAAC,EACV+G,MAAO,CAAC,EACRqtF,UAAW,CAAC,IAGhB,IAAIU,OAASv2G,OACTw2G,QAAUv2G,QACVw2G,QAAU32G,QAEd,SAAS42G,eAAeC,EAAmBh2E,GACvC,IAGIrzB,EAAOC,EAHPwuB,EAAW46E,EAAkB56E,SAC7B6E,EAAQ+1E,EAAkB/1E,MAC1BC,EAAQ81E,EAAkB91E,MAkB9B,OAfI81E,EAAkB3+E,UAClB1qB,EAAQ,IAAImpG,QAAQ71E,EAAO7E,GAC3BxuB,EAAM,IAAIkpG,QAAQ71E,EAAQD,EAAYluB,KAAMspB,KAE5CzuB,EAAQ,IAAImpG,QAAQ16E,EAAU8E,GAC9BtzB,EAAM,IAAIkpG,QAAQ16E,EAAU8E,EAAQF,EAAYluB,OAGrC,IAAI8jG,OAAO,CACtB/uG,OAAQ,CACJwO,MAAO2qB,EAAY3qB,MACnBvO,MAAOk5B,EAAYl5B,SAExBguB,OAAOnoB,GAAOqhB,OAAOphB,EAG5B,CAEA,SAASqpG,YAAYC,EAAWlzE,EAAegzE,EAAmBh2E,GAC9D,IAAIh4B,EAAQg7B,EAAc78B,OAE1B,GAAI65B,EAAYjR,QAGZ,IAFA,IAAIiT,EAASg0E,EAAkBh0E,OAC3BD,EAAUi0E,EAAkBj0E,QACvBh7B,EAAIi5B,EAAYxb,KAAMzd,EAAIiB,EAAOjB,GAAKi5B,EAAYwB,KACnDz6B,EAAIi5B,EAAYiD,UAAa,IAIjC+yE,EAAkB/1E,MAAQ+B,EAASD,EAAQ1gB,GAAK0gB,EAAQ1gB,GAAK2e,EAAYluB,KACzEkkG,EAAkB91E,MAAQ8B,EAASD,EAAQ3gB,GAAK4e,EAAYluB,KAAOiwB,EAAQ3gB,GAC3E40F,EAAkB56E,SAAW4H,EAAcj8B,GAE3CmvG,EAAUjnG,OAAO8mG,eAAeC,EAAmBh2E,IAG/D,CAEA,IAAIm2E,YAAe,SAAU1+D,GACzB,SAAS0+D,EAAYvvG,EAAS6nB,GAC1B,IAAIuf,EAAepnC,GAAW,CAAC,GAC1BuI,QAAQ6+B,EAAanS,WAAsC,IAA1BmS,EAAa3W,WAAuB5I,GAAW,CAAC,GAAG+Q,MACrFwO,EAAenpC,OAAO4a,OAAO,CAAC,EAAGuuB,EAAc,CAC3CnS,SAAS,KAIjB4b,EAAYhqC,KAAKnB,KAAM,EAAG,EAAG0hC,EAAcvf,GAE3CniB,KAAK1F,QAAQw8B,UAAY92B,KAAK1F,QAAQw8B,WAAa92B,KAAK1F,QAAQk8B,UAAY,EAChF,CAkHA,OAhHK2U,IAAc0+D,EAAYpxG,UAAY0yC,GAC3C0+D,EAAYrpG,UAAYjI,OAAOuN,OAAQqlC,GAAeA,EAAY3qC,WAClEqpG,EAAYrpG,UAAUhE,YAAcqtG,EAEpCA,EAAYrpG,UAAUqhB,gBAAkB,SAA0BvnB,GAC9D,IAAIonC,EAAe7kC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAIhD,OAHAonC,EAAe7kC,WAAW,CAAC,EAAG6kC,EAAe,CAAExN,OAAQ,CAAEwB,OAAQgM,EAAahM,WACjEc,UAAYkL,EAAalL,WAAapb,cAAcsmB,EAAan6B,IAAKm6B,EAAar/B,KAEzFq/B,CACX,EAEAmoE,EAAYrpG,UAAUi0B,WAAa,WACnC,EAEAo1E,EAAYrpG,UAAUuwB,OAAS,WAC3B,IAAIlL,EAAW7lB,KAAK6lB,SAAW,IAAI0jF,QAC/Br1E,EAASl0B,KAAK8pG,eACdC,EAAY/pG,KAAKgqG,aACjBC,EAAajqG,KAAK2pG,cAClBp2B,EAASvzE,KAAKkqG,eAIlB,OAFArkF,EAASljB,OAAOonG,EAAW71E,EAAQ+1E,EAAY12B,GAExC1tD,CACX,EAEAgkF,EAAYrpG,UAAU0pG,aAAe,WAajC,IAZA,IAAIj3F,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACfiN,EAAMjN,EAAQiN,IACdlF,EAAM/H,EAAQ+H,IACd0oB,EAAWzwB,EAAQywB,SACnB2K,EAASp7B,EAAQ45B,OAAOwB,OACxB69C,EAASj5E,EAAQi5E,QAAU,GAC3B1tD,EAAW,IAAI0jF,QACf7tG,EAAQ63E,EAAO15E,OACfuhC,EAAY9gC,EAAQ8gC,WAAa9gC,EAAQ+5B,WAAW7uB,KAAO,EAEtD/K,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAI46B,EAAQwyE,SAASt0B,EAAO94E,GAAI8M,EAAKlF,GACjC83B,EAAOlnB,EAAS2kB,QAAQvC,EAAMlrB,KAAMkrB,EAAMwC,IAC1CH,EAAQ3M,EAAW9X,EAASwiB,UAAY0E,EACxCxC,EAAQ5M,EAAWoP,EAAOlnB,EAASwiB,UACnC1K,EACA2M,EAAM9iB,IAAMwmB,GAAa1F,GAAU,EAAI,GAEvCiC,EAAM3iB,IAAMomB,GAAa1F,GAAU,EAAI,GAG3C7P,EAASljB,OAAO2mG,OAAO9hF,SAAS,IAAI50B,KAAK,CAAE8kC,EAAM9iB,GAAI+iB,EAAM7iB,IAAM,CAAE4iB,EAAM3iB,GAAK2iB,EAAM9iB,GAAI+iB,EAAM3iB,GAAK2iB,EAAM7iB,KAAO,CAC5G0P,KAAM,CAAEzb,MAAOssB,EAAMtsB,MAAOqb,QAASiR,EAAMjR,SAC3C7pB,OAAQ,CAAE,IAElB,CAEA,OAAOsrB,CACX,EAEAgkF,EAAYrpG,UAAUspG,aAAe,WAMjC,IALA,IACI51E,EADMl0B,KACOk0B,OACb55B,EAFM0F,KAEQ1F,QACdurB,EAAW,IAAI0jF,QAEV9uG,EAAI,EAAGA,EAAIy5B,EAAOr6B,OAAQY,IAC/BorB,EAASljB,OAAO+kG,kBAAkBxzE,EAAOz5B,GAAIH,EAAQ45B,SAGzD,OAAOrO,CACX,EAEAgkF,EAAYrpG,UAAUwpG,WAAa,WAC/B,IAAI79F,EAAOnM,KAAK1F,QAAQ6R,KACpBspB,EAAUz1B,KAAKy1B,UACf5P,EAAW,IAAI0jF,QAEnB,GAAIp9F,EAAK3R,MAAQ,GAAK2R,EAAKsW,QAAS,CAChC,IAAI0nF,EAAW,IAAIb,OAAO,CACtB/uG,OAAQ,CACJwO,MAAOoD,EAAKpD,MACZ2e,SAAUvb,EAAKub,SACfltB,MAAO2R,EAAK3R,SAIpB2vG,EAAS3hF,OAAOiN,EAAQ7gB,GAAI6gB,EAAQ3gB,IAAI4M,OAAO+T,EAAQ1gB,GAAI0gB,EAAQzgB,IACnE6Q,EAASljB,OAAOwnG,EACpB,CAEA,OAAOtkF,CACX,EAEAgkF,EAAYrpG,UAAUmpG,YAAc,WAChC,IAAIzrE,EAAQ,IAAIqrE,QACZjvG,EAAU0F,KAAK1F,QACfk8B,EAAYl8B,EAAQi6B,WAAW9R,QAAUnoB,EAAQk8B,UAAY,EAC7DkzE,EAAoB,CACpB3+E,SAAUzwB,EAAQywB,SAClB2K,OAAQp7B,EAAQ45B,OAAOwB,OACvBD,QAASz1B,KAAKy1B,WAQlB,OALAk0E,YAAYzrE,EAAOl+B,KAAK42B,wBAAyB8yE,EAAmBpvG,EAAQi6B,YAC5Eo1E,YAAYzrE,EAAOl+B,KAAK62B,wBAAyB6yE,EAAmB7sG,WAAW,CAAC,EAAG,CAC/E85B,SAAUH,EAAYl8B,EAAQw8B,WAC/Bx8B,EAAQ+5B,aAEJ6J,CACX,EAEO2rE,CACX,CA/HkB,CA+HhB1+D,aAEFvnC,kBAAkBimG,YAAa,CAC3BtiG,IAAK,EACLlF,IAAK,GAELkyB,WAAY,CACR/uB,KAAM,GACNkZ,MAAOuoF,SACPl+F,MAAOvT,QACPgF,MAAOusG,mBACPtkF,SAAS,GAGb4R,WAAY,CACR7uB,KAAM,GACNkZ,MAAOuoF,SACPl+F,MAAOvT,QACPgF,MAAOusG,mBACPtkF,SAAS,GAGbtW,KAAM,CACF3R,MAAOusG,oBAGX7yE,OAAQ,CACJpF,SAAUm4E,SACVtpF,QAAS,GAEb+X,QAAQ,EACRqB,aAAa,IAGjB,IAAIqzE,QAAW,SAAUz3G,GACrB,SAASy3G,EAAQ7uF,EAAOgxB,GACpB55C,EAAMwO,KAAKnB,MAEX,IAAI0C,EAAM6Y,EAAMjhB,QACZiN,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACV/H,EAAU0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASiyC,GAE1DjyC,EAAQkqB,KAAOlqB,EAAQyO,MAEvB/I,KAAKub,MAAQA,EAET1Y,QAAQvI,EAAQhB,OAChBgB,EAAQhB,MAAQ+J,WAAW/I,EAAQhB,MAAOiO,EAAKlF,GAE/C/H,EAAQhB,MAAQiO,CAExB,CA0BA,OAxBK5U,IAAQy3G,EAAQ3xG,UAAY9F,GACjCy3G,EAAQ5pG,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAClD4pG,EAAQ5pG,UAAUhE,YAAc4tG,EAEhCA,EAAQ5pG,UAAUlH,MAAQ,SAAgB+wG,GACtC,IAAI/vG,EAAU0F,KAAK1F,QACfhB,EAAQgB,EAAQhB,MAEpB,GAAyB,IAArByD,UAAUlD,OACV,OAAOP,EAGX,IAAIoJ,EAAM1C,KAAKub,MAAMjhB,QACjBiN,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IAEd/H,EAAQgwG,UAAYznG,QAAQvI,EAAQgwG,WAAahwG,EAAQhB,MAAQiO,EACjEjN,EAAQhB,MAAQ+J,WAAWgnG,EAAU9iG,EAAKlF,GAEtCrC,KAAK6lB,UACL7lB,KAAKuqG,SAEb,EAEOH,CACX,CA7Cc,CA6CZz3G,OAEFiR,kBAAkBwmG,QAAS,CACvBrhG,MAAOvT,UAGX,IAAIg1G,cAAiB,SAAUJ,GAC3B,SAASI,EAAcjvF,EAAOjhB,GAC1B8vG,EAAQjpG,KAAKnB,KAAMub,EAAOjhB,GAE1B0F,KAAK1F,QAAUuC,WAAW,CACtB4tG,MAAO,CACHhoF,QAAS5f,QAAQvI,EAAQmwG,SAE9BzqG,KAAK1F,QACZ,CAoGA,OAlGK8vG,IAAUI,EAAc/xG,UAAY2xG,GACzCI,EAAchqG,UAAYjI,OAAOuN,OAAQskG,GAAWA,EAAQ5pG,WAC5DgqG,EAAchqG,UAAUhE,YAAcguG,EAEtCA,EAAchqG,UAAUshB,OAAS,WAC7B,IAaI4oF,EAAYC,EAAiBC,EAZ7BtwG,EADM0F,KACQ1F,QACdihB,EAFMvb,KAEMub,MACZiQ,EAAQjQ,EAAMjhB,QACdo7B,EAASlK,EAAMkK,OACf3K,EAAWS,EAAMT,SACjBg/E,EAAYxuF,EAAMka,UAClBo1E,EAAYvwG,EAAQmwG,MAAMjlG,MAAQlL,EAAQkL,KAC1CslG,EAAkBxwG,EAAQkL,KAAO,EACjCuhB,EAASjpB,WAAWxD,EAAQysB,QAC5B2R,EAAQ3N,EACRhE,EAAO2O,EAAS,OAAS,SACzB3O,EAAO2O,EAAS,SAAW,OAG/BgD,EAAQhD,GAAUgD,EAAQA,EAEtB3N,GACA6/E,EAAW,IAAI/tF,IACXktF,EAAUn1F,GAAK8jB,EAAOqxE,EAAUj1F,GAChCi1F,EAAUn1F,GAAK8jB,EAAOqxE,EAAU/0F,IAEhC0gB,EACAk1E,EAASh2F,IAAMi2F,EAEfD,EAAS71F,IAAM81F,EAGfvwG,EAAQs3C,QAAUk1D,cAKlB4D,EAJAC,EAAkB,IAAI9tF,IAClBktF,EAAUh1F,GAAK2jB,EAAOqxE,EAAUj1F,GAAKg2F,EACrCf,EAAUh1F,GAAK2jB,EAAOqxE,EAAU/0F,GAAK81F,MAK7CF,EAAW,IAAI/tF,IACXktF,EAAUn1F,GAAIm1F,EAAUj1F,GAAK4jB,EAC7BqxE,EAAUh1F,GAAIg1F,EAAUj1F,GAAK4jB,GAE7BhD,EACAk1E,EAAS51F,IAAM61F,EAEfD,EAAS91F,IAAM+1F,EAGfvwG,EAAQs3C,QAAUk1D,cAKlB4D,EAJAC,EAAkB,IAAI9tF,IAClBktF,EAAUn1F,GAAKk2F,EAAiBf,EAAUj1F,GAAK4jB,EAC/CqxE,EAAUh1F,GAAK+1F,EAAiBf,EAAUj1F,GAAK4jB,KAM3D14B,KAAK4qG,SAAWA,EAChB5qG,KAAK2qG,gBAAkBA,EACvB3qG,KAAK8c,IAAM4tF,GAAcE,EAASjuG,QAAQ+gB,IAAIpjB,EAAQgrB,OAAO9qB,MACjE,EAEAgwG,EAAchqG,UAAUuqG,kBAAoB,WACxC,IAAIzwG,EAAU0F,KAAK1F,QAEnB,MAAO,CACHkqB,KAAM,CACFzb,MAAOzO,EAAQyO,MACfqb,QAAS9pB,EAAQ8pB,SAErB7pB,OAAQsI,QAAQvI,EAAQgrB,QAAU,CAC9Bvc,MAAOzO,EAAQgrB,OAAO9qB,MAAQF,EAAQgrB,OAAOvc,OAASzO,EAAQyO,MAAQ,GACtEvO,MAAOF,EAAQgrB,OAAO9qB,MACtBktB,SAAUptB,EAAQgrB,OAAOoC,SACzBtD,QAAS9pB,EAAQ8pB,SACjB,KAEZ,EAEAomF,EAAchqG,UAAUwqG,QAAU,WAC9B,IACIzvF,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACdkxB,EAAQjQ,EAAMjhB,QACdo7B,EAASlK,EAAMkK,OACf3K,EAAWS,EAAMT,SACjBhE,EAASjpB,WAAWxD,EAAQysB,QAMhC,OAJYgE,EACRhE,EAAO2O,EAAS,OAAS,SACzB3O,EAAO2O,EAAS,SAAW,MAGnC,EAEO80E,CACX,CA9GoB,CA8GlBJ,SAEFxmG,kBAAkB4mG,cAAe,CAC7B54D,MAAOk1D,YAEP2D,MAAO,CACHnlF,OAAQ,CACJ9qB,MAAO,IAIfuO,MAAOvT,QACP8vB,OAAQ,CACJ9qB,MAAO,GAEX4pB,QAAS,EAET2C,OAAQjpB,WAAW,GACnBkkB,UAAW,CACPne,KAAMijG,aAEVrkF,SAAS,IAGb,IAAIwoF,4BAA+B,SAAUh+C,GACzC,SAASg+C,IACLh+C,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CAmCA,OAjCKkwD,IAAag+C,EAA4BxyG,UAAYw0D,GAC1Dg+C,EAA4BzqG,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WAChFyqG,EAA4BzqG,UAAUhE,YAAcyuG,EAEpDA,EAA4BzqG,UAAU0sD,MAAQ,WAC1C,IAAI5yD,EAAU0F,KAAK1F,QACfysB,EAASzsB,EAAQysB,OACjB5c,EAAO7P,EAAQ6P,KACf0tB,EAAKv9B,EAAQu9B,GACb9M,EAAWzwB,EAAQywB,SACnBpV,EAAOoV,EAAW,KAAO,KAEzBzwB,EAAQo7B,SAAW3K,GACnB5gB,EAAKwL,IAASoR,EAAQ8Q,EAAGliB,IAASoR,IAElC5c,EAAKwL,IAASoR,EAAQ8Q,EAAGliB,IAASoR,GAGtC,IAAIw2D,EAAYv9E,KAAKu9E,UAAY,IAAI1qF,QAAQsX,EAAKyK,GAAIzK,EAAK2K,IACvDo2F,EAAUlrG,KAAKkrG,QAAU,IAAIr4G,QAAQglC,EAAGjjB,GAAIijB,EAAG/iB,IAE1B,IAArBxa,EAAQ8lC,WACR9lC,EAAQ8lC,SAAWh+B,KAAKC,IAAKk7E,EAAU/gE,WAAW0uF,GAAW5wG,EAAQ8lC,SAAY,IAAM,GAE/F,EAEA6qE,EAA4BzqG,UAAU00B,KAAO,SAAeppB,GACxD,IAAIq/F,EAAa/qG,iBAAiBJ,KAAKu9E,UAAUtiF,EAAG+E,KAAKkrG,QAAQjwG,EAAG6Q,GAChEs/F,EAAahrG,iBAAiBJ,KAAKu9E,UAAUriF,EAAG8E,KAAKkrG,QAAQhwG,EAAG4Q,GAEpE9L,KAAKvG,QAAQ/F,UAAUA,YAAYmH,UAAUswG,EAAYC,GAC7D,EAEOH,CACX,CAvCkC,CAuChCh4G,aAEF2Q,kBAAkBqnG,4BAA6B,CAC3CrtB,OAAQspB,OACR9mE,SAAUumE,eAGd3yG,iBAAiB2jB,QAAQ7Y,SAAS+nG,cAAeoE,6BAEjD,IAAII,QAAUx4G,QACVy4G,OAASv4G,OAETw4G,mBAAsB,SAAUf,GAChC,SAASe,EAAmBhwF,EAAOjhB,GAC/BkwG,EAAcrpG,KAAKnB,KAAMub,EAAOjhB,GAE3BuI,QAAQ7C,KAAK1F,QAAQkL,QACtBxF,KAAK1F,QAAQkL,KAA4C,GAArCxF,KAAKub,MAAMjhB,QAAQi6B,WAAW/uB,KAE1D,CAqEA,OAnEKglG,IAAgBe,EAAmB9yG,UAAY+xG,GACpDe,EAAmB/qG,UAAYjI,OAAOuN,OAAQ0kG,GAAiBA,EAAchqG,WAC7E+qG,EAAmB/qG,UAAUhE,YAAc+uG,EAE3CA,EAAmB/qG,UAAUgrG,aAAe,WACxC,IACIjwF,EADMvb,KACMub,MACZ/V,EAFMxF,KAEK1F,QAAQkL,KACnB6kD,EAAW7kD,EAAO,EAClBivC,EAAQl5B,EAAMjhB,QAAQo7B,QAAU,EAAI,EAaxC,OAVIna,EAAMjhB,QAAQywB,SACN,CACJ,IAAIsgF,QAAQ,EAAG,EAAIhhD,GAAW,IAAIghD,QAAQ,EAAI52D,EAAOjvC,EAAM,GAAI,IAAI6lG,QAAQ,EAAG,EAAIhhD,IAG9E,CACJ,IAAIghD,QAAQ,EAAIhhD,EAAU,GAAI,IAAIghD,QAAQ,EAAG,EAAI52D,EAAOjvC,GAAO,IAAI6lG,QAAQ,EAAIhhD,EAAU,GAKrG,EAEAkhD,EAAmB/qG,UAAU+pG,QAAU,WACnC,IACIhvF,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACd0nB,EAAY,IAAIipF,4BAA4BjrG,KAAK6lB,SAAUhpB,WAAWvC,EAAQ0nB,UAAW,CACzF+I,SAAUxP,EAAMjhB,QAAQywB,SACxB2K,OAAQna,EAAMjhB,QAAQo7B,OACtB3O,OAAQ/mB,KAAKgrG,QAAQ1wG,EAAQysB,QAC7B5c,KAAMoR,EAAMqc,QAAQt9B,EAAQgwG,WAC5BzyE,GAAItc,EAAMqc,QAAQt9B,EAAQhB,WAGQ,IAAlCgB,EAAQ0nB,UAAUyrC,cAClBzrC,EAAU1nB,QAAQ8lC,SAAW,GAGjCpe,EAAUkrC,QACVlrC,EAAUqwE,MACd,EAEAkZ,EAAmB/qG,UAAUuwB,OAAS,WAClC,IACIxV,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACdmxG,EAAiBzrG,KAAK+qG,oBACtBn5D,EAAQ5xC,KAAKwrG,aAAalxG,EAAQhB,OAEtCgB,EAAQ0nB,UAAUne,KAAOgjG,cAEzB,IAAIhhF,EAAW,IAAIylF,OAAO,CACtB/wG,OAAQkxG,EAAelxG,OACvBiqB,KAAMinF,EAAejnF,OACtBgE,OAAOopB,EAAM,IAAIlwB,OAAOkwB,EAAM,IAAIlwB,OAAOkwB,EAAM,IAAIrwB,QAElD4Y,EAAO5e,EAAMqc,QAAQt9B,EAAQhB,OAKjC,OAJAusB,EAASnyB,UAAUA,YAAYmH,UAAUs/B,EAAKvlB,GAAIulB,EAAKrlB,KAEvD9U,KAAK6lB,SAAWA,EAETA,CACX,EAEO0lF,CACX,CA7EyB,CA6EvBf,eAEEkB,0BAA6B,SAAUz+C,GACvC,SAASy+C,IACLz+C,EAAWtrD,MAAM3B,KAAMjD,UAC3B,CAgCA,OA9BKkwD,IAAay+C,EAA0BjzG,UAAYw0D,GACxDy+C,EAA0BlrG,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WAC9EkrG,EAA0BlrG,UAAUhE,YAAckvG,EAElDA,EAA0BlrG,UAAU0sD,MAAQ,WACxC,IAAI5yD,EAAU0F,KAAK1F,QACfqb,EAAO3V,KAAK2V,KAAOrb,EAAQywB,SAAW9yB,EAAID,EAC1C6/B,EAAK73B,KAAK63B,GAAKv9B,EAAQqxG,UAAU,GAAGh2F,GACpCxL,EAAOnK,KAAKmK,KAAO7P,EAAQsxG,UAAU,GAAGj2F,GAEnB,IAArBrb,EAAQ8lC,WACR9lC,EAAQ8lC,SAAWh+B,KAAKC,IAAKD,KAAKkZ,IAAIuc,EAAK1tB,GAAQ7P,EAAQuxG,MAAS,IAAM,IAG9E7rG,KAAKgK,KAAKG,EACd,EAEAuhG,EAA0BlrG,UAAU00B,KAAO,SAAeppB,GACtD,IAAIxS,EAAQ8G,iBAAiBJ,KAAKmK,KAAMnK,KAAK63B,GAAI/rB,GACjD9L,KAAKgK,KAAK1Q,EACd,EAEAoyG,EAA0BlrG,UAAUwJ,KAAO,SAAe1Q,GACtD,IAAIwyG,EAAS,MAAQ9rG,KAAK2V,KAAKpP,cAC3BuX,EAAS9d,KAAK1F,QAAQqxG,UAE1B7tF,EAAO,GAAGguF,GAAQxyG,GAClBwkB,EAAO,GAAGguF,GAAQxyG,EACtB,EAEOoyG,CACX,CApCgC,CAoC9Bz4G,aAEF2Q,kBAAkB8nG,0BAA2B,CACzC9tB,OAAQspB,OACR2E,MAAOlF,eAGX3yG,iBAAiB2jB,QAAQ7Y,SAASgoG,YAAa4E,2BAE/C,IAAIK,QAAU/4G,QACVg5G,OAASj5G,OAETk5G,iBAAoB,SAAUzB,GAC9B,SAASyB,EAAiB1wF,EAAOjhB,GAC7BkwG,EAAcrpG,KAAKnB,KAAMub,EAAOjhB,GAE3BuI,QAAQ7C,KAAK1F,QAAQkL,QACtBxF,KAAK1F,QAAQkL,KAA4C,GAArCxF,KAAKub,MAAMjhB,QAAQi6B,WAAW/uB,KAE1D,CAkHA,OAhHKglG,IAAgByB,EAAiBxzG,UAAY+xG,GAClDyB,EAAiBzrG,UAAYjI,OAAOuN,OAAQ0kG,GAAiBA,EAAchqG,WAC3EyrG,EAAiBzrG,UAAUhE,YAAcyvG,EAEzCA,EAAiBzrG,UAAUgrG,aAAe,SAAuBlyG,GAC7D,IACIiiB,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACdkxB,EAAQjQ,EAAMjhB,QACdo7B,EAASlK,EAAMkK,OACf3K,EAAWS,EAAMT,SACjBmiB,EAAMxX,IAAW3K,GAAY,EAAI,EACjCvlB,EAAOlL,EAAQkL,KAAO0nC,EACtBg/D,EAAU3wF,EAAMqc,QAAQrc,EAAMjhB,QAAQiN,KACtC4yB,EAAO5e,EAAMqc,QAAQt+B,GACrBqc,EAAOoV,EAAW9yB,EAAID,EACtBm0G,EAAWphF,EAAW/yB,EAAIC,EAC1B8uB,EAAS/mB,KAAKgrG,UAAY99D,EAE1BnK,EAAK,IAAIlwC,QACbkwC,EAAGptB,GAAQu2F,EAAQv2F,EAAO,KAC1BotB,EAAGopE,GAAYD,EAAQC,EAAW,KAElC,IAAInpE,EAAK,IAAInwC,QACbmwC,EAAGrtB,GAAQwkB,EAAKxkB,EAAO,KACvBqtB,EAAGmpE,GAAYhyE,EAAKgyE,EAAW,KAE3BphF,GACAgY,EAAGloC,UAAUksB,EAAQ,GACrBic,EAAGnoC,UAAUksB,EAAQ,KAErBgc,EAAGloC,UAAU,EAAGksB,GAChBic,EAAGnoC,UAAU,EAAGksB,IAGpB,IAAIiuB,EAAKhS,EAAGrmC,QACRyvG,EAAKrpE,EAAGpmC,QAUZ,OARIouB,GACAiqB,EAAGn6C,UAAU2K,EAAM,GACnB4mG,EAAGvxG,UAAU2K,EAAM,KAEnBwvC,EAAGn6C,UAAU,EAAG2K,GAChB4mG,EAAGvxG,UAAU,EAAG2K,IAGb,CAAEu9B,EAAIC,EAAIgS,EAAIo3D,EACzB,EAEAH,EAAiBzrG,UAAU+pG,QAAU,WACjC,IACIhvF,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACds3C,EAAQ5xC,KAAKwrG,aAAalxG,EAAQhB,OAClC+yG,EAAcrsG,KAAKqsG,YACnBC,EAAWtsG,KAAKwrG,aAAalxG,EAAQgwG,WAEzC+B,EAAY7jF,OAAOopB,EAAM,IAAIlwB,OAAOkwB,EAAM,IAAIlwB,OAAOkwB,EAAM,IAAIlwB,OAAOkwB,EAAM,IAAIrwB,QAEhF,IAAIS,EAAY,IAAI0pF,0BAA0BW,EAAaxvG,WAAWvC,EAAQ0nB,UAAW,CACrFuN,QAAShU,EAAMjhB,QAAQi1B,QACvBxE,SAAUxP,EAAMjhB,QAAQywB,SACxB6gF,UAAW,CAAEU,EAAS,GAAIA,EAAS,IACnCX,UAAW,CAAE/5D,EAAM,GAAIA,EAAM,QAGK,IAAlCt3C,EAAQ0nB,UAAUyrC,cAClBzrC,EAAU1nB,QAAQ8lC,SAAW,GAGjCpe,EAAUkrC,QACVlrC,EAAUqwE,MACd,EAEA4Z,EAAiBzrG,UAAUuwB,OAAS,WAChC,IAAI7E,EAAQ,IAAI6/E,QACZN,EAAiBzrG,KAAK+qG,oBAEtB/qG,KAAK1F,QAAQmwG,MAAMhoF,SACnByJ,EAAMvpB,OAAO3C,KAAKusG,eAGtB,IAAI/3F,EAAUxU,KAAKqsG,YAAc,IAAIL,OAAO,CACxCzxG,OAAQkxG,EAAelxG,OACvBiqB,KAAMinF,EAAejnF,OAOzB,OAJA0H,EAAMvpB,OAAO6R,GAEbxU,KAAK6lB,SAAWqG,EAETA,CACX,EAEA+/E,EAAiBzrG,UAAU+rG,YAAc,WACrC,IAAIC,EAAexsG,KAAK1F,QAAQmwG,MAC5BnlF,EAASknF,EAAalnF,QAAU,CAAC,EACjCslF,EAAW5qG,KAAK4qG,SAASjuG,QAAQ+gB,IAAI4H,EAAO9qB,OAAS,GAEzD,OAAO,IAAIwxG,OAAOxkF,SAASojF,EAASpsF,SAAU,CAC1CgG,KAAM,CACFzb,MAAOyjG,EAAazjG,MACpBqb,QAASooF,EAAapoF,SAE1B7pB,OAAQ,CACJwO,MAAOuc,EAAO9qB,MAAQ8qB,EAAOvc,OAASyjG,EAAazjG,MAAQ,GAC3DvO,MAAO8qB,EAAO9qB,MACdktB,SAAUpC,EAAOoC,WAG7B,EAEOukF,CACX,CA1HuB,CA0HrBzB,eAEEiC,kBAAoB,GACpBC,mBAAqB,GAErBC,QAAU35G,QAEV45G,YAAe,SAAU3E,GACzB,SAAS2E,IACL3E,EAAMtmG,MAAM3B,KAAMjD,UACtB,CAgLA,OA9KKkrG,IAAQ2E,EAAYn0G,UAAYwvG,GACrC2E,EAAYpsG,UAAYjI,OAAOuN,OAAQmiG,GAASA,EAAMznG,WACtDosG,EAAYpsG,UAAUhE,YAAcowG,EAEpCA,EAAYpsG,UAAUshB,OAAS,SAAiBiO,GAC5C,IAAIq4E,EAAWpoG,KAAKooG,SAChByE,EAAQ98E,EAAK7C,OAAOjyB,EACpB6xG,EAAQ/8E,EAAK7C,OAAOhyB,EAEpB4hB,EAAM,IAAID,IAAIgwF,EAAOC,EAAOD,EAAQ98E,EAAKv1B,QAASsyG,EAAQ/8E,EAAKpkB,UAEnE3L,KAAKub,MAAMuG,OAAOhF,GAClB9c,KAAK+sG,kBAAkBjwF,GAEvB,IAAK,IAAIriB,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjC2tG,EAAS3tG,GAAGqnB,SAGhB9hB,KAAK+vB,KAAO/vB,KAAKgtG,QAAQlwF,GACzB9c,KAAKitG,iBACLjtG,KAAKktG,kBACLltG,KAAKmtG,eACLntG,KAAKsoG,OACT,EAEAsE,EAAYpsG,UAAU2sG,aAAe,WACjC,IAAI1pF,EAAU,IAAIkpF,QACdS,EAAgBptG,KAAKub,MAAMwV,SAC3Bq3E,EAAWpoG,KAAKooG,SAEpB3kF,EAAQ9gB,OAAO3C,KAAK4oG,WACpBnlF,EAAQ9gB,OAAOyqG,GAEf,IAAK,IAAI3yG,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IAAK,CACtC,IAAIkd,EAAUywF,EAAS3tG,GACvBgpB,EAAQ9gB,OAAOgV,EAAQoZ,UACvBpZ,EAAQre,MAAMqe,EAAQrd,QAAQhB,MAClC,CAEA0G,KAAKuoG,SAAW9kF,CACpB,EAEAmpF,EAAYpsG,UAAUsoG,aAAe,WACjC,IAEIxuG,EAAU0F,KAAK1F,QACfihB,EAAQvb,KAAKub,MAAQ,IAAIsuF,YAAYvvG,EAAQihB,MAAOvb,KAAKkoG,gBAE7DloG,KAAKooG,SAAW,GAEhB,IAAIA,EAAW9tG,EAAQka,QACvB4zF,EAAW/uG,QAAQ+uG,GAAYA,EAAW,CAAEA,GAE5C,IAAK,IAAI3tG,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IAAK,CACtC,IAAI+4F,EAAiB32F,WAAW,CAAC,EAAGurG,EAAS3tG,GAAI,CAC7CunB,UAAW,CACPyrC,YAAanzD,EAAQmzD,eAGzB4/C,EAAc7Z,EAAe5hD,QAAUg1D,MAAQ2E,mBAAqBU,iBAhB7DjsG,KAkBFooG,SAAS9oG,KAAK,IAAI+tG,EAAY9xF,EAAOi4E,GAClD,CACJ,EAEAoZ,EAAYpsG,UAAU6oG,aAAe,WACjC,IAAIt+E,EAAW/qB,KAAK1F,QAAQihB,MAAMwP,SAElC,MAAO,CACHvwB,MAAOuwB,EAAW0hF,kBAAoB5zG,cACtC8S,OAAQof,EAAWnyB,eAAiB8zG,mBAE5C,EAEAE,EAAYpsG,UAAUwsG,QAAU,SAAkBlwF,GAO9C,IANA,IAUItX,EATA+V,EADMvb,KACMub,MACZ6sF,EAFMpoG,KAESooG,SACf15E,EAAY5R,EAAI3H,SAChBm4F,EAAclF,EAAS,GAAGtrF,IAAIngB,QAAQogB,KAAKxB,EAAMuB,KAE5CriB,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjC6yG,EAAYvwF,KAAKqrF,EAAS3tG,GAAGqiB,IAAIngB,SAkBrC,OAdI4e,EAAMjhB,QAAQywB,UACdvlB,EAAO8nG,EAAY9yG,QAAU,EAC7B8yG,EAAc,IAAIzwF,IACd6R,EAAUzzB,EAAIuK,EAAMsX,EAAIhI,GACxB4Z,EAAUzzB,EAAIuK,EAAMsX,EAAI9H,MAG5BxP,EAAO8nG,EAAY3hG,SAAW,EAC9B2hG,EAAc,IAAIzwF,IACdC,EAAIlI,GAAI8Z,EAAUxzB,EAAIsK,EACtBsX,EAAI/H,GAAI2Z,EAAUxzB,EAAIsK,IAIvB8nG,CACX,EAEAV,EAAYpsG,UAAUysG,eAAiB,WAUnC,IATA,IAaI5xF,EAVAE,EADMvb,KACMub,MACZ6sF,EAFMpoG,KAESooG,SACfmF,EAAWhyF,EAAMuB,IACjBA,EAAMsrF,EAAS,GAAGtrF,IAAIngB,QAAQogB,KAAKxB,EAAMuB,KACzCwwF,EAActtG,KAAK+vB,KAEdt1B,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjCqiB,EAAIC,KAAKqrF,EAAS3tG,GAAGqiB,IAAIngB,SAIzB4e,EAAMjhB,QAAQywB,UACd1P,EAAOiyF,EAAYn4F,SAASla,EAAI6hB,EAAI3H,SAASla,EAC7CsgB,EAAMuG,OAAO,IAAIjF,IACb0wF,EAAS34F,GAAKyG,EAAMiyF,EAAYx4F,GAChCy4F,EAASx4F,GAAKsG,EAAMiyF,EAAYt4F,OAGpCqG,EAAOiyF,EAAYn4F,SAASja,EAAI4hB,EAAI3H,SAASja,EAC7CqgB,EAAMuG,OAAO,IAAIjF,IACb0wF,EAAS34F,GAAI24F,EAASz4F,GAAKuG,EAC3BkyF,EAASx4F,GAAIw4F,EAASv4F,GAAKqG,KAInC,IAAK,IAAI9N,EAAM,EAAGA,EAAM66F,EAASvuG,OAAQ0T,IACrC66F,EAAS76F,GAAKuU,OA7BH9hB,KA6BmB+vB,KAEtC,EAEA68E,EAAYpsG,UAAUusG,kBAAoB,SAA4Bh9E,GAClE,IACIxU,EADMvb,KACMub,MAChB,IAAKA,EAAMjhB,QAAQywB,SAAU,CACzB,IAAIyiF,EAAWjyF,EAAM+L,aAAa9sB,QAAUu1B,EAAKv1B,QAC7CgzG,EAAW,IACXjyF,EAAMuB,IAAIQ,OAAOkwF,EAAU,GAC3BjyF,EAAMuB,IAAIM,QAAQ2S,EAAM,UACxBxU,EAAMuG,OAAOvG,EAAMuB,KAE3B,CACJ,EAEA8vF,EAAYpsG,UAAU0sG,gBAAkB,WAUpC,IATA,IAGI3xF,EADMvb,KACMub,MACZ6sF,EAFMpoG,KAESooG,SACfmF,EAAWhyF,EAAMuB,IAAIngB,QACrBmP,EAAMyP,EAAMjhB,QAAQywB,SAAW,IAAM,IACrC2/E,EAAatC,EAAS,GAAGtrF,IAEpBriB,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjCiwG,EAAW3tF,KAAKqrF,EAAS3tG,GAAGqiB,IAAIngB,SAGpC4wG,EAASzhG,EAAM,IAAM1J,KAAKC,IAAIkrG,EAASzhG,EAAM,GAAK4+F,EAAW5+F,EAAM,GAAI,GACvEyhG,EAASzhG,EAAM,IAAM1J,KAAKC,IAAIqoG,EAAW5+F,EAAM,GAAKyhG,EAASzhG,EAAM,GAAI,GAEvEyP,EAAMuG,OAAOyrF,GAEb,IAAK,IAAIhgG,EAAM,EAAGA,EAAM66F,EAASvuG,OAAQ0T,IACrC66F,EAAS76F,GAAKuU,OAnBH9hB,KAmBmB+vB,KAEtC,EAEO68E,CACX,CApLkB,CAoLhB3E,OAEFrkG,kBAAkBgpG,YAAa,CAC3Bn/C,aAAa,EACbm7C,UAAW,CACPxjF,WAAY,IAEhB7J,MAAO,CACHwP,UAAU,KAIlB,IAAI0iF,qBAAuB,IAEvBC,IAAMr5G,MACNs5G,OAAS56G,OACT66G,QAAU56G,QAEd,SAAS66G,UAAU1sF,EAAK2sF,EAAY/lG,EAAM2rB,GACtC,IAAIwK,EAAQ,IAAI0vE,QACZz4F,EAASgM,EAAIhM,OACbwH,EAASwE,EAAI4sF,aAEjB,GAAIr6E,EAAYjR,QACZ,IAAK,IAAIhoB,EAAI,EAAGA,EAAIqzG,EAAWj0G,OAAQY,IAAK,CACxC,IAAIuzG,EAAY7sF,EAAIM,QAAQqsF,EAAWrzG,IACnCwzG,EAAU,IAAIp7G,QAAQsiB,EAAOla,EAAI0hB,EAAS+W,EAAYluB,KAAM2P,EAAOja,GAAG6gB,OAAO+xF,EAAWrzG,GAAI0a,GAEhG+oB,EAAMv7B,OAAO,IAAIgrG,OAAO,CACpBpzG,OAAQ,CACJwO,MAAO2qB,EAAY3qB,MACnBvO,MAAOk5B,EAAYl5B,SAExBguB,OAAOwlF,GAAWtsF,OAAOusF,GAChC,CAGJ,OAAO/vE,CACX,CAEA,SAASgwE,aAAa/jG,EAAM0tB,EAAI9uB,EAAOqb,GACnC,MAAO,CAAEja,KAAMA,EAAM0tB,GAAIA,EAAI9uB,MAAOA,EAAOqb,QAASA,EACxD,CAEA,IAAI+pF,YAAe,SAAUhjE,GACzB,SAASgjE,EAAY7zG,EAAS6nB,GAC1BgpB,EAAYhqC,KAAKnB,KAAM,EAAG,EAAG1F,EAAS6nB,EAC1C,CAuZA,OArZKgpB,IAAcgjE,EAAY11G,UAAY0yC,GAC3CgjE,EAAY3tG,UAAYjI,OAAOuN,OAAQqlC,GAAeA,EAAY3qC,WAClE2tG,EAAY3tG,UAAUhE,YAAc2xG,EAEpCA,EAAY3tG,UAAUqhB,gBAAkB,SAA0BvnB,GAC9D,IAAIonC,EAAe7kC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAIhD,OAHAonC,EAAalL,UAAYkL,EAAalL,WAAapb,cAAcsmB,EAAan6B,IAAKm6B,EAAar/B,KAChGq/B,EAAa5K,UAAY4K,EAAa5K,WAAa4K,EAAalL,UAAY,GAErEkL,CACX,EAEAysE,EAAY3tG,UAAUi0B,WAAa,WACnC,EAEA05E,EAAY3tG,UAAUuwB,OAAS,SAAiB5b,EAAQwH,GACpD,IAAIwE,EAAMnhB,KAAKouG,UAAUj5F,EAAQwH,GAEjC3c,KAAK+vB,KAAO5O,EAAI4O,OAChB/vB,KAAKquG,cAAgBruG,KAAK8pG,eAC1B9pG,KAAKk+B,MAAQl+B,KAAK2pG,cAClB3pG,KAAKuzE,OAASvzE,KAAKkqG,cACvB,EAEAiE,EAAY3tG,UAAUshB,OAAS,SAAiBiO,GAC5C,IAAI5a,EAAS4a,EAAK5a,SACdwH,EAASva,KAAKmF,IAAIwoB,EAAKpkB,SAAUokB,EAAKv1B,SAAW,EAErD,IAAIqI,QAAQ7C,KAAK+vB,MAMb,OAAO/vB,KAAK+wB,OAAO5b,EAAQwH,GAL3B3c,KAAK+vB,KAAO/vB,KAAKmhB,IAAI4O,OACrB/vB,KAAK2c,OAAO3c,KAAKmhB,IAAI4sF,cACrB/tG,KAAKsuG,mBACLtuG,KAAK8pG,cAIb,EAEAqE,EAAY3tG,UAAU0wC,UAAY,SAAoB53C,GAClD,IAAIoJ,EAAM1C,KAAK1F,QACXiN,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACVktB,EAAU7sB,EAAI6sB,QACdtQ,EAAavc,EAAIuc,WACjBgB,EAAWvd,EAAIud,SACfvD,EAAQuD,EAAWhB,EASvB,OANIsQ,EACStP,GAAY3mB,EAAQiO,IAAQlF,EAAMkF,GAAOmV,GAEvCpjB,EAAQiO,IAAQlF,EAAMkF,GAAOmV,EAASuC,GAGrCwuF,oBACpB,EAEAU,EAAY3tG,UAAU+tG,UAAY,WAC9B,IAAIh7B,EAASvzE,KAAK1F,QAAQi5E,OAE1B,OAAOA,GAAUA,EAAO15E,MAC5B,EAEAs0G,EAAY3tG,UAAUguG,UAAY,WAC9B,IAAI9rG,EAAM1C,KAAK1F,QACXi6B,EAAa7xB,EAAI6xB,WACjBF,EAAa3xB,EAAI2xB,WACjB7uB,EAAO,EASX,OARI+uB,EAAW9R,UACXjd,EAAO+uB,EAAW/uB,MAGlB6uB,EAAW5R,UACXjd,EAAOpD,KAAKC,IAAIgyB,EAAW7uB,KAAMA,IAG9BA,CACX,EAEA2oG,EAAY3tG,UAAUu0B,YAAc,WAChC,IAAIr5B,EAAQyvC,EAAY3qC,UAAUu0B,YAAY5zB,KAAKnB,MAC/C1F,EAAU0F,KAAK1F,QAOnB,OANYA,EAAQ2lB,SAAW3lB,EAAQ2kB,YAE1B,KAAQ3kB,EAAQ+H,IAAM/H,EAAQk8B,WAAc,IACrD96B,GAAS,GAGNA,CACX,EAEAyyG,EAAY3tG,UAAUspG,aAAe,WACjC,IAAI72F,EAAWjT,KAEX1F,EAAU0F,KAAK1F,QACf6mB,EAAMnhB,KAAKmhB,IAAIxkB,QACfggB,EAASwE,EAAI4sF,aACbD,EAAa9tG,KAAK8tG,WAAW3sF,EAAK7mB,EAAQk8B,WAC1C4E,EAAY9gC,EAAQ8gC,UAAY9gC,EAAQ8gC,WAAsB,GAATze,EACrD8xF,EAAc,IAAIb,QAElBc,EAAyB,IAAT/xF,EAChB9Z,QAAQvI,EAAQo0G,eAChBA,EAAgBp0G,EAAQo0G,cAExBp0G,EAAQo0G,cAAgBA,EAG5B,IAAIztB,EAAgB3mF,EAAQ45B,OACxBy6E,EAAW1tB,EAAcnyD,WAAam4E,SACtC2H,EAAmB/rG,QAAQ7C,KAAKquG,eAEhCM,IACAhyF,GAAU3c,KAAKwuG,YAEXxuG,KAAKuuG,cAAgBK,IACrBjyF,GAAUye,EAAYszE,GAE1BvtF,EAAI0tF,WAAWlyF,GAAQmyF,WAAWnyF,IAStC,IANA,IAAIuX,EAASl0B,KAAKk0B,OACdx4B,EAAQw4B,EAAOr6B,OACf8jB,EAAU7f,WAAWmjF,EAActjE,SACnCoxF,GAAgBpxF,EAAQvf,KAAOuf,EAAQzf,OAAS,EAChD8wG,GAAiBrxF,EAAQ1f,IAAM0f,EAAQxf,QAAU,EAE5C1D,EAAI,EAAGA,EAAIiB,EAAOjB,IAAK,CAC5B,IAAIw2B,EAAQiD,EAAOz5B,GACf4tB,EAAY4I,EAAMnU,IAAItiB,QAAU,EAChC8tB,EAAa2I,EAAMnU,IAAInR,SAAW,EAClC+Q,EAAQoxF,EAAWrzG,GACnBw/B,GAAcvd,EAAQ+wF,sBAAwBzG,OAE9C7lB,EAAKhgE,EAAIM,QAAQ/E,GACjBJ,EAAK6kE,EAAGlmF,EAAKmH,KAAK+Z,IAAI8d,IAAe5R,EAAY0mF,IAAiBJ,EAAW,GAAK,GAClFpyF,EAAK4kE,EAAGjmF,EAAKkH,KAAKia,IAAI4d,IAAe3R,EAAa0mF,IAAkBL,EAAW,GAAK,GAExF19E,EAAMnP,OAAO,IAAIjF,IAAIP,EAAK+L,EAAW9L,EAAK+L,EAAYhM,EAAK+L,EAAW9L,EAAK+L,IAC3E,IAAI2mF,EAAW,IAAIp8G,QAAQo+B,EAAMnU,IAAIlI,GAAIqc,EAAMnU,IAAIhI,IAE/Co6F,OAAe,EACnB,GAAKN,EAGE,CAEH,IAAIO,GADJD,EAAej8F,EAASo7F,cAAczsF,SAASnnB,IACfs1B,OAAO7C,OAEnCkiF,EAAiBF,EAAax7G,aAAeA,YACjD07G,EAAev0G,UAAUo0G,EAASh0G,EAAIk0G,EAAal0G,EAAGg0G,EAAS/zG,EAAIi0G,EAAaj0G,GAChFg0G,EAAax7G,UAAU07G,EAC3B,MATIF,EAAexH,kBAAkBz2E,EAAO32B,EAAQ45B,QAChDu6E,EAAY9rG,OAAOusG,GAUvBj8F,EAAS8c,KAAOn9B,KAAKy8G,MAAMp8F,EAAS8c,KAAMm/E,EAAan/E,OAC3D,CAEA,OAAO0+E,CACX,EAEAN,EAAY3tG,UAAU8tG,iBAAmB,WACrC,IAAI/6B,EAASvzE,KAAKuzE,OAAO3xD,SAEzB,GAAI2xD,EAAO15E,OAAS,EAAG,CACnB,IAAI6I,EAAM1C,KAAK1F,QACXo0G,EAAgBhsG,EAAIgsG,cACpBtzE,EAAY14B,EAAI04B,UAChBk0E,EAActvG,KAAKuvG,iBAEnBvvG,KAAK1F,QAAQ45B,OAAOpF,WAAam4E,WACjCqI,GAAel0E,EAAYszE,GAK/B,IAFA,IAAItvF,EAAYkwF,EAAel0E,EAAY,EAElC3gC,EAAI,EAAGA,EAAI84E,EAAO15E,OAAQY,IAC/B84E,EAAO94E,GAAG+0G,UAAUX,WAAWzvF,GAAW0vF,WAAW1vF,GAGzDpf,KAAK+vB,KAAOn9B,KAAKy8G,MAAMrvG,KAAK+vB,KAAM/vB,KAAKuzE,OAAOxjD,OAClD,CACJ,EAEAo+E,EAAY3tG,UAAU0pG,aAAe,WACjC,IAAIj3F,EAAWjT,KAEXtF,EAAWsF,KAAKyvG,gBAChBC,EAAgBh1G,EAASb,OACzB+B,EAAS,IAAIgyG,QAEjB,GAAI8B,EAAe,CACf,IAAIhtG,EAAM1C,KAAK1F,QACX8gC,EAAY14B,EAAI04B,UAChB7L,EAAU7sB,EAAI6sB,QACdm/E,EAAgBhsG,EAAIgsG,cACpBY,EAActvG,KAAKuvG,iBAGvBvvG,KAAK2c,OAAO3c,KAAK2c,SAAWye,EAAYszE,GAExC,IAAK,IAAIj0G,EAAI,EAAGA,EAAIi1G,EAAej1G,IAAK,CACpC,IAAIkyD,EAAUjyD,EAASD,GACnB0P,EAAO8I,EAASi+B,UAAUyb,EAAQp9B,EAAU,KAAO,SACnDsI,EAAK5kB,EAASi+B,UAAUyb,EAASp9B,EAAiB,OAAP,OAE3CsI,EAAK1tB,GAAS,GACdvO,EAAO+G,OAAOsQ,EAAS08F,YAAYxlG,EAAM0tB,EAAIy3E,EAAa3iD,GAElE,CACJ,CAEA,OAAO/wD,CACX,EAEAuyG,EAAY3tG,UAAUmvG,YAAc,SAAsB1wF,EAAYgB,EAAUqvF,EAAah1G,GACzF,IAAI8gC,EAAYp7B,KAAK1F,QAAQ8gC,UACzBw0E,EAAY,IAAI98G,MAAMkN,KAAKmhB,IAAIhM,OAAQ,CACvCiM,QAASkuF,EAAel0E,EAAY,EACpC/Z,QAASiuF,EAAel0E,EAAY,EACpCnc,WAAYA,EACZgB,SAAUA,IAGd,OAAO,IAAIytF,IAAIkC,EAAW,CACtBr1G,OAAQ,CACJC,MAAO4gC,EACPryB,MAAOzO,EAAQyO,MACfqb,QAAS9pB,EAAQ8pB,QACjB+pC,QAAS7zD,EAAQ6zD,UAG7B,EAEAggD,EAAY3tG,UAAUivG,cAAgB,WAClC,IAAIn1G,EAAU0F,KAAK1F,QACfi5E,EAASj5E,EAAQi5E,QAAU,GAC3B73E,EAAQ63E,EAAO15E,OACfa,EAAW,GAEf,GAAIgB,EAAO,CACP,IAAI6L,EAAMjN,EAAQiN,IACdlF,EAAM/H,EAAQ+H,IACd6nD,EAAe5vD,EAAQu1G,sBAC3Bn1G,EAAS4E,KAAK4uG,aAAa3mG,EAAKlF,EAAK6nD,IAErC,IAAK,IAAIzvD,EAAI,EAAGA,EAAIiB,EAAOjB,IAIvB,IAHA,IAAI46B,EAAQwyE,SAASt0B,EAAO94E,GAAI8M,EAAKlF,GACjCqtG,EAAgBh1G,EAASb,OAEpB8S,EAAI,EAAGA,EAAI+iG,EAAe/iG,IAAK,CACpC,IAAIggD,EAAUjyD,EAASiS,GAEvB,GAAIggD,EAAQxiD,MAAQkrB,EAAMlrB,MAAQkrB,EAAMlrB,MAAQwiD,EAAQ90B,GAAI,CACxDn9B,EAAS4E,KAAK4uG,aAAa74E,EAAMlrB,KAAMkrB,EAAMwC,GAAIxC,EAAMtsB,MAAOssB,EAAMjR,UAEhEuoC,EAAQxiD,MAAQkrB,EAAMwC,IAAMxC,EAAMwC,IAAM80B,EAAQ90B,IAChDn9B,EAAS4E,KAAK4uG,aAAa74E,EAAMwC,GAAI80B,EAAQ90B,GAAIqyB,EAAc70B,EAAMjR,UAGzEuoC,EAAQ90B,GAAKxC,EAAMlrB,KAEnB,KACJ,CACJ,CAER,CAEA,OAAOzP,CACX,EAEAyzG,EAAY3tG,UAAU+uG,eAAiB,WACnC,IACIpuF,EADMnhB,KACImhB,IACV7mB,EAFM0F,KAEQ1F,QACd8gC,EAAY9gC,EAAQ8gC,UACpBszE,EAAgBp0G,EAAQo0G,cACxBv6E,EAAgB75B,EAAQi6B,WAAW/uB,KASvC,OANIlL,EAAQ45B,OAAOpF,WAAa71B,QACnBkoB,EAAI4sF,aAAe55E,EAAgBu6E,EAAgBtzE,EAEnDja,EAAI4sF,aAAe3yE,CAIpC,EAEA+yE,EAAY3tG,UAAU4tG,UAAY,SAAoBj5F,EAAQwH,GAC1D,IAAIriB,EAAU0F,KAAK1F,QASnB,OAPU0F,KAAKmhB,IAAM,IAAIruB,MAAMqiB,EAAQ,CACnCiM,QAASzE,EACT0E,QAAS1E,EACTsC,WAAY3kB,EAAQ2kB,WAAawuF,qBACjCxtF,SAAU3lB,EAAQ2lB,SAAWwtF,sBAIrC,EAEAU,EAAY3tG,UAAUmpG,YAAc,WAChC,IACIxoF,EADMnhB,KACImhB,IACV7mB,EAFM0F,KAEQ1F,QACdw1G,EAAU3uF,EAAIxkB,QAElBqD,KAAK+vG,gBAAkB/vG,KAAK8tG,WAAW3sF,EAAK7mB,EAAQk8B,WACpDx2B,KAAKu0B,WAAas5E,UAAUiC,EAAS9vG,KAAK+vG,gBAAiBz1G,EAAQk8B,UAAWl8B,EAAQi6B,YAEtF,IAAIy7E,EAAW,IAAIpC,QACnBoC,EAASrtG,OAAO3C,KAAKu0B,YAErB,IAAIJ,EAAgB75B,EAAQi6B,WAAW/uB,KACnC4uB,EAAgB95B,EAAQ+5B,WAAW7uB,KAIvC,GAFAxF,KAAKiwG,gBAAkB97E,EAAgBC,EAEnC95B,EAAQ45B,OAAOpF,WAAa71B,QAAS,CACrC,IAAI0jB,EAASmzF,EAAQ/B,aACrB+B,EAAQjB,WAAWlyF,EAASwX,EAAgBC,GACvC06E,WAAWnyF,EAASwX,EAAgBC,EAC7C,CAMA,OAJAp0B,KAAKkwG,gBAAkBlwG,KAAKmwG,oBAAoBnwG,KAAK8tG,WAAW3sF,EAAK7mB,EAAQw8B,YAC7E92B,KAAKq0B,WAAaw5E,UAAUiC,EAAS9vG,KAAKkwG,gBAAiB51G,EAAQw8B,UAAWx8B,EAAQ+5B,YACtF27E,EAASrtG,OAAO3C,KAAKq0B,YAEd27E,CACX,EAEA7B,EAAY3tG,UAAU2vG,oBAAsB,SAA8B1vF,GAItE,IAHA,IAAInmB,EAAU0F,KAAK1F,QACf4d,EAAO5d,EAAQk8B,UAAYl8B,EAAQw8B,UAE9Br8B,EAAIgmB,EAAO5mB,OAAS,EAAGY,GAAK,EAAGA,IAChCA,EAAIyd,GAAS,GACbuI,EAAO1N,OAAOtY,EAAG,GAIzB,OAAOgmB,CACX,EAEA0tF,EAAY3tG,UAAUstG,WAAa,SAAqB98D,EAAMrF,GAC1D,IAAIrxC,EAAU0F,KAAK1F,QACfi1B,EAAUj1B,EAAQi1B,QAClB8F,EAAQ/6B,EAAQ+H,IAAM/H,EAAQiN,IAC9BmV,EAAQs0B,EAAK/wB,SAAW+wB,EAAK/xB,WAC7BmxF,EAAY/6E,EAAQsW,EACpB7/B,EAAMklC,EAAK/xB,WACXiW,EAAOxY,EAAQ0zF,EAEf7gF,IACAzjB,GAAO4Q,EACPwY,GAAQA,GAGRxY,GAAS,KAAQpiB,EAAQ+H,IAAMspC,GAAc,IAC7CykE,GAAa,GAIjB,IADA,IAAIhuE,EAAY,GACP3nC,EAAI,EAAGA,EAAI21G,EAAW31G,IAC3B2nC,EAAU9iC,KAAKkE,QAAQsI,EAAKlW,kBAC5BkW,GAAOopB,EAOX,OAJI1xB,QAAQsI,IAAQklC,EAAK/wB,UACrBmiB,EAAU9iC,KAAKwM,GAGZs2B,CACX,EAEA+rE,EAAY3tG,UAAUmc,OAAS,SAAiBrjB,GAC5C,IAAIA,EAKA,OAAO0G,KAAKmhB,IAAI4sF,aAJhB/tG,KAAKmhB,IAAI0tF,WAAWv1G,GAAOw1G,WAAWx1G,GACtC0G,KAAKqwG,gBAAgBrwG,KAAKu0B,WAAW3S,SAAU5hB,KAAK+vG,iBACpD/vG,KAAKqwG,gBAAgBrwG,KAAKq0B,WAAWzS,SAAU5hB,KAAKkwG,iBAAiB,EAI7E,EAEA/B,EAAY3tG,UAAU6vG,gBAAkB,SAA0BnyE,EAAO4vE,EAAYwC,GACjF,IAAIj1F,EAAOi1F,GAAStwG,KAAKiwG,iBAAwB,EAC7CH,EAAU9vG,KAAKmhB,IACfxE,EAASmzF,EAAQ/B,aAEjBuC,GAAStwG,KAAK1F,QAAQ45B,OAAOpF,WAAa71B,SAAoB,IAAToiB,IACrDy0F,EAAU9vG,KAAKmhB,IAAIxkB,SACXkyG,WAAWlyF,EAAStB,GAAMyzF,WAAWnyF,EAAStB,GAG1D,IAAK,IAAI5gB,EAAI,EAAGA,EAAIyjC,EAAMrkC,OAAQY,IAAK,CACnC,IAAI81G,EAAWT,EAAQruF,QAAQqsF,EAAWrzG,IACtCC,EAAWwjC,EAAMzjC,GAAGC,SACpB81G,EAAQD,EAASt1G,EAAIP,EAAS,GAAGC,SAASM,EAC1Cw1G,EAAQF,EAASr1G,EAAIR,EAAS,GAAGC,SAASO,EAE9CgjC,EAAMzjC,GAAG/G,WAAU,IAAIA,WAAYmH,UAAU21G,EAAOC,GACxD,CACJ,EAEOtC,CACX,CA3ZkB,CA2ZhBhjE,aAEFvnC,kBAAkBuqG,YAAa,CAC3B5mG,IAAK,EACLlF,IAAK,IAELkyB,WAAY,CACR/uB,KAAM,GACNkZ,MAAOuoF,SACPl+F,MAAOvT,QACPgF,MAAOusG,mBACPtkF,SAAS,GAGb4R,WAAY,CACR7uB,KAAM,GACNkZ,MAAOuoF,SACPl+F,MAAOvT,QACPgF,MAAOusG,mBACPtkF,SAAS,GAGbxD,YAAa,GACbgB,SAAU,IAEViU,OAAQ,CACJpF,SAAUm4E,SACVtpF,QAAS,KAIjB,IAAI+yF,uBAA0B,SAAUzjD,GACpC,SAASyjD,EAAuBj3G,EAASa,GACrC2yD,EAAW9rD,KAAKnB,KAAMvG,EAASa,GAE/B,IAAIw9D,EAAmB93D,KAAK1F,QAE5Bw9D,EAAiB13B,SAAWh+B,KAAKC,IAAKD,KAAKkZ,IAAIw8C,EAAiB64C,SAAW74C,EAAiB84C,UAAY94C,EAAiB13B,SAAY,IAAM,EAC/I,CAaA,OAXK6sB,IAAayjD,EAAuBj4G,UAAYw0D,GACrDyjD,EAAuBlwG,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WAC3EkwG,EAAuBlwG,UAAUhE,YAAck0G,EAE/CA,EAAuBlwG,UAAU00B,KAAO,SAAeppB,GACnD,IAAIxR,EAAU0F,KAAK1F,QACfoiB,EAAQtc,iBAAiB9F,EAAQs2G,SAAUt2G,EAAQq2G,SAAU7kG,GAEjE9L,KAAKvG,QAAQ/F,UAAUA,YAAYqoB,OAAOW,EAAOpiB,EAAQ6a,QAC7D,EAEOu7F,CACX,CArB6B,CAqB3Bz9G,aAEF2Q,kBAAkB8sG,uBAAwB,CACtC9yB,OAAQspB,OACR9mE,SAAUsmE,gBAGd1yG,iBAAiB2jB,QAAQ7Y,SAASqoG,eAAgBuJ,wBAElD,IAAIG,SAAW,IACXC,OAASv9G,SACTw9G,QAAU/9G,QACVg+G,KAAOj+G,OAEPk+G,cAAiB,SAAU7G,GAC3B,SAAS6G,IACL7G,EAAQzoG,MAAM3B,KAAMjD,UACxB,CA0FA,OAxFKqtG,IAAU6G,EAAcx4G,UAAY2xG,GACzC6G,EAAczwG,UAAYjI,OAAOuN,OAAQskG,GAAWA,EAAQ5pG,WAC5DywG,EAAczwG,UAAUhE,YAAcy0G,EAEtCA,EAAczwG,UAAU0wG,SAAW,SAAmBx0F,GAClD1c,KAAK6lB,SAASnyB,UAAUA,YAAYqoB,OAAOW,EAAO1c,KAAKmV,QAC3D,EAEA87F,EAAczwG,UAAU+pG,QAAU,WAC9B,IACIhvF,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACds2G,EAAWr1F,EAAM21B,UAAU52C,EAAQgwG,WACnCqG,EAAWp1F,EAAM21B,UAAU52C,EAAQhB,QAED,IAAlCgB,EAAQ0nB,UAAUyrC,YAClBztD,KAAKkxG,SAASP,GAEd,IAAID,uBAAuB1wG,KAAK6lB,SAAUhpB,WAAWvC,EAAQ0nB,UAAW,CACpE4uF,SAAUA,EACVD,SAAUA,KACVte,MAEZ,EAEA4e,EAAczwG,UAAUuwB,OAAS,WAC7B,IACIxV,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACdurB,EAAW,IAAIkrF,QAenB,OAb0B,IAAtBz2G,EAAQ0nB,WACRnlB,WAAWvC,EAAQ0nB,UAAW,CAC1B/C,WAAY,EACZ9J,OAAQoG,EAAM4F,IAAIhM,OAClBoa,QAAShU,EAAMjhB,QAAQi1B,UAI/B1J,EAASljB,OAAO3C,KAAKmxG,gBAAiBnxG,KAAKoxG,cAE3CpxG,KAAK6lB,SAAWA,EAChB7lB,KAAKkxG,SAASlK,QAEPnhF,CACX,EAEAorF,EAAczwG,UAAUshB,OAAS,SAAiBX,GAC9C,IAAIhM,EAASnV,KAAKmV,OAASgM,EAAIhM,OAC3Btb,EAASwJ,WAAWrD,KAAK1F,QAAQT,QAAU,EAAG,GAAK,KACnD8iB,EAAS3c,KAAK2c,OAASwE,EAAI4sF,aAAel0G,EAC1Cw3G,EAAUrxG,KAAKqxG,QAAUjvG,KAAKxH,MAAM+hB,EAAS3c,KAAK1F,QAAQg3G,IAAI9rG,MAElExF,KAAK+vB,KAAOn9B,KAAK21B,WAAW,IAAI11B,QAAQsiB,EAAOla,EAAIo2G,EAASl8F,EAAOja,EAAIm2G,GACnE,IAAIx+G,QAAQsiB,EAAOla,EAAIo2G,EAASl8F,EAAOja,EAAIm2G,GACnD,EAEAJ,EAAczwG,UAAU2wG,cAAgB,WACpC,IAAI/8E,EAAgBp0B,KAAKub,MAAMjhB,QAAQ+5B,WAAW7uB,KAC9C2P,EAASnV,KAAKmV,OACdo8F,EAAcvxG,KAAK1F,QAAQyO,MAE3ByoG,EAAa,IAAIR,KAAK,CACtBxsF,KAAM,CAAEzb,MAAOwoG,GACfh3G,OAAQ,CAAEwO,MAAOwoG,EAAa/2G,MAAOusG,sBAQzC,OALAyK,EAAWhpF,OAAOrT,EAAOla,EAAI+E,KAAK2c,OAASyX,EAAejf,EAAOja,GAC5DwmB,OAAOvM,EAAOla,EAAGka,EAAOja,EAAK8E,KAAKqxG,QAAU,GAC5C3vF,OAAOvM,EAAOla,EAAGka,EAAOja,EAAK8E,KAAKqxG,QAAU,GAC5C9vF,QAEEiwF,CACX,EAEAP,EAAczwG,UAAU4wG,WAAa,WACjC,IAAI92G,EAAU0F,KAAK1F,QACfm3G,EAAWn3G,EAAQg3G,IAAIvoG,OAASzO,EAAQyO,MACxC2mC,EAAS,IAAIl8C,SAASwM,KAAKmV,OAAQnV,KAAKqxG,SAO5C,OALU,IAAIP,OAAOphE,EAAQ,CACzBlrB,KAAM,CAAEzb,MAAO0oG,GACfl3G,OAAQ,CAAEwO,MAAO0oG,IAIzB,EAEOR,CACX,CA9FoB,CA8FlB7G,SAEFxmG,kBAAkBqtG,cAAe,CAC7BK,IAAK,CACD9rG,KAAMqrG,UAEVa,MAAO,CACHl3G,MAAO,GACPmR,OAAQ,IAEZqW,UAAW,CACPne,KAAMsjG,eACN/mE,SAAUsmE,iBAIlB,IAAIiL,QAAU3+G,QAEV4+G,YAAe,SAAU3J,GACzB,SAAS2J,IACL3J,EAAMtmG,MAAM3B,KAAMjD,UACtB,CA6KA,OA3KKkrG,IAAQ2J,EAAYn5G,UAAYwvG,GACrC2J,EAAYpxG,UAAYjI,OAAOuN,OAAQmiG,GAASA,EAAMznG,WACtDoxG,EAAYpxG,UAAUhE,YAAco1G,EAEpCA,EAAYpxG,UAAUshB,OAAS,SAAiBiO,GAC5C,IAAI9c,EAAWjT,KAEXooG,EAAWpoG,KAAKooG,SACpBpoG,KAAKub,MAAMuG,OAAOiO,GAClB/vB,KAAK6xG,iBAAmB7xG,KAAKub,MAAMwU,KAEnC,IAAK,IAAIt1B,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjC2tG,EAAS3tG,GAAGqnB,OAAO7O,EAASsI,MAAM4F,KAClClO,EAAS4+F,iBAAmBj/G,KAAKy8G,MAAMp8F,EAAS4+F,iBAAkBzJ,EAAS3tG,GAAGs1B,MAGlF/vB,KAAK8xG,SAAS/hF,GACd/vB,KAAK+xG,WAAWhiF,GAChB/vB,KAAKmtG,aAAantG,KAAK4oG,UAAWR,EAAUpoG,KAAKub,OACjDvb,KAAKsoG,OACT,EAEAsJ,EAAYpxG,UAAU2sG,aAAe,SAAuBvE,EAAWR,EAAU7sF,GAC7E,IAAIkI,EAAUzjB,KAAKuoG,SAAW,IAAIoJ,QAElCluF,EAAQ9gB,OAAOimG,GACfnlF,EAAQ9gB,OAAO4Y,EAAM2iB,OACrBza,EAAQ9gB,OAAO4Y,EAAMg4D,QACrBvzE,KAAKgyG,eAAe5J,GACpB3kF,EAAQ9gB,OAAO4Y,EAAM8yF,cACzB,EAEAuD,EAAYpxG,UAAUwxG,eAAiB,SAAyB5J,GAG5D,IAFA,IAES3tG,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IAAK,CACtC,IAAIkd,EAAUywF,EAAS3tG,GACvBkd,EAAQoZ,SAJG/wB,KAKFuoG,SAAS5lG,OAAOgV,EAAQkO,UAEjClO,EAAQre,MAAMqe,EAAQrd,QAAQhB,MAClC,CACJ,EAEAs4G,EAAYpxG,UAAUsxG,SAAW,SAAmB/hF,GAYhD,IAXA,IAOI2X,EAASuqE,EAASvoE,EAAS4pB,EAAK4+C,EAPhCj/F,EAAWjT,KAEXmhB,EAAMnhB,KAAKub,MAAM4F,IACjBmsF,EAActtG,KAAK6xG,iBACnB38E,EAAO9yB,KAAKkZ,IAAItb,KAAKmyG,QAAQ7E,EAAav9E,IAC1CxoB,EAAM/D,QAAQ0xB,EAAMt/B,iBACpByM,EAAMmB,SAAS0xB,EAAMt/B,iBAErBw8G,EAAY,EACZ33G,EAAI,MAEDA,IAAM,OACT23G,EAAaF,IAAYxoE,EAAY0oE,EAAY,EAAK,GAEtC,GAIZ7qG,IAAQ+rD,GAEJ,IADJ5rB,EAAUz0B,EAASo/F,WAAW9qG,EAAKwoB,EAAM5O,KACrBumB,GAAW,GAK/BrlC,IAAQixD,GAEJ,IADJ5pB,EAAUz2B,EAASo/F,WAAWhwG,EAAK0tB,EAAM5O,KACrBuoB,GAAW,IAM/B4pB,EADA5rB,EAAU,GAAKgC,EAAU,EACb,EAANniC,EACCmgC,EAAU,GAAKgC,EAAU,EACpB,EAANrnC,EAEAmB,SAAU+D,EAAMlF,GAAO,GAAM,EAAGzM,iBAItC,IADJq8G,EAAUh/F,EAASo/F,WAAW/+C,EAAKvjC,EAAM5O,KACrB8wF,GAAW,KAI/BC,EAAUxoE,EAENuoE,EAAU,GACV5vG,EAAMixD,EACN5pB,EAAUuoE,IAEV1qG,EAAM+rD,EACN5rB,EAAUuqE,EAGtB,EAEAL,EAAYpxG,UAAU6xG,WAAa,SAAqBn9E,EAAMnF,EAAM5O,GAChE,IAEI5F,EAAQvb,KAAKub,MACb6sF,EAAWpoG,KAAKooG,SAChBzrF,EAASwE,EAAI4sF,aACbuE,EAAWnxF,EAAIxkB,QAEnB21G,EAASzD,WAAWlyF,EAASuY,GAAM45E,WAAWnyF,EAASuY,GAEvD3Z,EAAM4F,IAAMmxF,EACZ/2F,EAAMuG,OAAOiO,GACb/vB,KAAKuyG,SAAWh3F,EAAMwU,KAEtB,IAAK,IAAIt1B,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjC2tG,EAAS3tG,GAAGqnB,OAAOwwF,GAdRtyG,KAeFuyG,SAAW3/G,KAAKy8G,MAfdrvG,KAe6BuyG,SAAUnK,EAAS3tG,GAAGs1B,MAGlE,OAAO/vB,KAAKmyG,QAAQnyG,KAAKuyG,SAAUxiF,EACvC,EAEA6hF,EAAYpxG,UAAU2xG,QAAU,SAAkBK,EAAS11F,GACvD,OAAO1a,KAAKmF,IAAIuV,EAAItiB,QAAUg4G,EAAQh4G,QAASsiB,EAAInR,SAAW6mG,EAAQ7mG,SAC1E,EAEAimG,EAAYpxG,UAAUuxG,WAAa,SAAqBhiF,GACpD,IAEI0iF,EAAgBzyG,KAAKuyG,SAASp9F,SAC9BuZ,EAAYqB,EAAK5a,SACjBu9F,EAAWD,EAAcx3G,EAAIyzB,EAAUzzB,EACvC03G,EAAWF,EAAcv3G,EAAIwzB,EAAUxzB,EAEvCqgB,EADMvb,KACMub,MACZ6sF,EAFMpoG,KAESooG,SAEnB7sF,EAAM4F,IAAIhM,OAAOla,GAAKy3G,EACtBn3F,EAAM4F,IAAIhM,OAAOja,GAAKy3G,EAEtBp3F,EAAMuG,OAAOiO,GAEb,IAAK,IAAIt1B,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IACjC2tG,EAAS3tG,GAAGqnB,OAAOvG,EAAM4F,KAhBdnhB,KAiBFuyG,SAAW3/G,KAAKy8G,MAAM9zF,EAAMwU,KAAMq4E,EAAS3tG,GAAGs1B,KAE/D,EAEA6hF,EAAYpxG,UAAUsoG,aAAe,WACjC,IAEIxuG,EAAU0F,KAAK1F,QACf8tG,EAAW9tG,EAAQka,QACnB+G,EAAQvb,KAAKub,MAAQ,IAAI4yF,YAAY7zG,EAAQihB,MAAOvb,KAAKkoG,gBAE7DloG,KAAKooG,SAAW,GAGhB,IADA,IAAIwK,EAAcv5G,QAAQ+uG,GAAYA,EAAW,CAAEA,GAC1C3tG,EAAI,EAAGA,EAAIm4G,EAAY/4G,OAAQY,IAAK,CACzC,IAAIkd,EAAU,IAAIs5F,cAAc11F,EAAO1e,WAAW,CAAC,EAAG+1G,EAAYn4G,GAAI,CAClEunB,UAAW,CACPyrC,YAAanzD,EAAQmzD,gBAZlBztD,KAgBFooG,SAAS9oG,KAAKqY,EAC3B,CACJ,EAEOi6F,CACX,CAjLkB,CAiLhB3J,OAEFrkG,kBAAkBguG,YAAa,CAC3BnkD,aAAa,EACbm7C,UAAW,CACPxjF,WAAY,MAIpB,IAAIytF,SAAY,SAAU1E,GACtB,SAAS0E,IACL1E,EAAYxsG,MAAM3B,KAAMjD,UAC5B,CA2CA,OAzCKoxG,IAAc0E,EAASp6G,UAAY01G,GACxC0E,EAASryG,UAAYjI,OAAOuN,OAAQqoG,GAAeA,EAAY3tG,WAC/DqyG,EAASryG,UAAUhE,YAAcq2G,EAEjCA,EAASryG,UAAUivG,cAAgB,WAC/B,IAAI/sG,EAAM1C,KAAK1F,QAMf,MAAO,CAAE,CAAE6P,KALDzH,EAAI6E,IAKQswB,GAJZn1B,EAAIL,IAIiB0G,MAHHrG,EAAImtG,sBAG6B1hD,QAF1CzrD,EAAIowG,cAG3B,EAEAD,EAASryG,UAAU+tG,UAAY,WAC3B,OAAO,CACX,EAEAsE,EAASryG,UAAUuyG,sBAAwB,SAAgCr2F,GACvE,IAAIs2F,EAAWhzG,KAAKuzE,OAAO3xD,SAAS,GAAGoxF,WAEnChzG,KAAK1F,QAAQi1B,QACbyjF,EAASC,YAAYv2F,GAErBs2F,EAASE,cAAcx2F,EAE/B,EAEAm2F,EAASryG,UAAU2yG,SAAW,SAAmBhpG,EAAM0tB,EAAIv9B,GACvD,IAAIi1B,EAAUvvB,KAAK1F,QAAQi1B,QAEvBtQ,EAAajf,KAAKkxC,UAAU3hB,EAAUsI,EAAK1tB,GAC3C8V,EAAWjgB,KAAKkxC,UAAU3hB,EAAUplB,EAAO0tB,GAE3CxC,EAAQr1B,KAAK2vG,YAAY1wF,EAAYgB,EAAUjgB,KAAKuvG,iBAAkBj1G,GAI1E,OAFA0F,KAAKuzE,OAAO5wE,OAAO0yB,GAEZA,CACX,EAEOw9E,CACX,CA/Ce,CA+Cb1E,aAEFvqG,kBAAkBivG,SAAU,CACxBtrG,IAAK,EACLlF,IAAK,IAELkyB,WAAY,CACR9R,SAAS,GAGb4R,WAAY,CACR5R,SAAS,GAGbyR,OAAQ,CACJzR,SAAS,GAGbxD,WAAY,EACZgB,SAAU,IACV6yF,aAAc,UAGlB,IAAIM,aAAe,IAEfC,sBAAyB,SAAUpmD,GACnC,SAASomD,EAAsB55G,EAASa,GACpC2yD,EAAW9rD,KAAKnB,KAAMvG,EAASa,GAE/B,IAAIw9D,EAAmB93D,KAAK1F,QACxB8lC,EAAYh+B,KAAKkZ,IAAIw8C,EAAiB64C,SAAW74C,EAAiB84C,UAAY94C,EAAiB13B,SAAY,IAC/G03B,EAAiB13B,SAAW/8B,WAAW+8B,EAAUsmE,cAAe0M,cAEhE,IAAIE,EAAa75G,EAAQosB,SAASvrB,QAAQmG,IAAI,gBAC1CsI,EAAQtP,EAAQ85G,eAChBD,IAAevqG,IACf/I,KAAKszG,WAAa,IAAI5gH,MAAM4gH,GAC5BtzG,KAAK+I,MAAQ,IAAIrW,MAAMqW,GAE/B,CAuBA,OArBKkkD,IAAaomD,EAAsB56G,UAAYw0D,GACpDomD,EAAsB7yG,UAAYjI,OAAOuN,OAAQmnD,GAAcA,EAAWzsD,WAC1E6yG,EAAsB7yG,UAAUhE,YAAc62G,EAE9CA,EAAsB7yG,UAAU00B,KAAO,SAAeppB,GAClD,IAAIpJ,EAAM1C,KACN1F,EAAUoI,EAAIpI,QACdg5G,EAAa5wG,EAAI4wG,WACjBvqG,EAAQrG,EAAIqG,MACZ2T,EAAQtc,iBAAiB9F,EAAQs2G,SAAUt2G,EAAQq2G,SAAU7kG,GAGjE,GAFA9L,KAAKvG,QAAQijB,MAAMA,GAEf3T,EAAO,CACP,IAAI0gB,EAAIjmB,QAAQpD,iBAAiBkzG,EAAW7pF,EAAG1gB,EAAM0gB,EAAG3d,IACpD6d,EAAInmB,QAAQpD,iBAAiBkzG,EAAW3pF,EAAG5gB,EAAM4gB,EAAG7d,IACpDnD,EAAInF,QAAQpD,iBAAiBkzG,EAAW3qG,EAAGI,EAAMJ,EAAGmD,IAExD9L,KAAKvG,QAAQc,OAAO,IAAI7H,MAAM+2B,EAAGE,EAAGhhB,GAAGihD,QAC3C,CACJ,EAEOypD,CACX,CAtC4B,CAsC1BpgH,aAEF2Q,kBAAkByvG,sBAAuB,CACrCz1B,OAAQspB,OACR9mE,SAAUsmE,gBAGd1yG,iBAAiB2jB,QAAQ7Y,SAASsoG,qBAAsBiM,uBAExD,IAAIG,aAAgB,SAAUpJ,GAC1B,SAASoJ,IACLpJ,EAAQzoG,MAAM3B,KAAMjD,UACxB,CAoGA,OAlGKqtG,IAAUoJ,EAAa/6G,UAAY2xG,GACxCoJ,EAAahzG,UAAYjI,OAAOuN,OAAQskG,GAAWA,EAAQ5pG,WAC3DgzG,EAAahzG,UAAUhE,YAAcg3G,EAErCA,EAAahzG,UAAU+pG,QAAU,WAC7B,IACIhvF,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,QACds2G,EAAWr1F,EAAM21B,UAAU52C,EAAQgwG,WACnCqG,EAAWp1F,EAAM21B,UAAU52C,EAAQhB,OAEnC0G,KAAKgiB,WACLhiB,KAAKgiB,UAAUw7D,SAGmB,IAAlCljF,EAAQ0nB,UAAUyrC,aAClBztD,KAAK0c,MAAMi0F,GACX3wG,KAAKzF,OAAOyF,KAAKuzG,kBAEjBvzG,KAAKgiB,UAAY,IAAIqxF,sBAAsBrzG,KAAMnD,WAAWvC,EAAQ0nB,UAAW,CAC3E4uF,SAAUA,EACVD,SAAUA,KAGd3wG,KAAKgiB,UAAUqwE,OAEvB,EAEAmhB,EAAahzG,UAAUkc,MAAQ,SAAgBpjB,GAC3C,IAAI05G,EAAWhzG,KAAK6lB,SAASmtF,WACzBhzG,KAAKub,MAAMjhB,QAAQi1B,QACnByjF,EAASE,cAAc55G,GAEvB05G,EAASC,YAAY35G,GAEzB0G,KAAKub,MAAMw3F,sBAAsBz5G,EACrC,EAEAk6G,EAAahzG,UAAUjG,OAAS,SAAiBjB,GAC7C0G,KAAK6lB,SAAStrB,OAAOjB,EACzB,EAEAk6G,EAAahzG,UAAUuwB,OAAS,WAC5B,IAAI/wB,KAAK6lB,SAAT,CAIA,IACItK,EADMvb,KACMub,MACZjhB,EAFM0F,KAEQ1F,SAEQ,IAAtBA,EAAQ0nB,WACRnlB,WAAWvC,EAAQ0nB,UAAW,CAC1B/C,WAAY,EACZ9J,OAAQoG,EAAM4F,IAAIhM,OAClBoa,QAAShU,EAAMjhB,QAAQi1B,UAI/BvvB,KAAK6lB,SAAWtK,EAAM43F,SAAS53F,EAAMjhB,QAAQiN,IAAKvH,KAAK1F,QAAQhB,MAAO,CAClEyP,MAAO/I,KAAKuzG,eACZnvF,QAAS9pB,EAAQ8pB,QACjB+pC,QAAS5yC,EAAMjhB,QAAQw4G,cAjB3B,CAmBJ,EAEAU,EAAahzG,UAAU+yG,aAAe,WAClC,IAAI7wG,EAAM1C,KAAKub,MAAMjhB,QACjBiN,EAAM7E,EAAI6E,IACVlF,EAAMK,EAAIL,IACVmpB,EAAQxrB,KAAK1F,QACbq6F,EAASnpE,EAAMmpE,OACf5rF,EAAQyiB,EAAMziB,MACdzP,EAAQkyB,EAAMlyB,MACdmnF,EAAetlF,SAAS7B,GAASA,EAAQiO,EAE7C,GAAIotF,EACA,IAAK,IAAI/6F,EAAM,EAAGA,EAAM+6F,EAAO96F,OAAQD,IAAO,CAC1C,IAAIgyF,EAAQ+I,EAAO/6F,GACf65G,EAAa7nB,EAAM7iF,MACnBoB,EAAOyhF,EAAMzhF,UAAoB,IAATA,IAAkBA,EAAO5C,GACrD,IAAIswB,EAAK+zD,EAAM/zD,GAEf,QAF+B,IAAPA,IAAgBA,EAAKx1B,GAEzC8H,GAAQs2E,GAAgBA,GAAgB5oD,EACxC,OAAO47E,CAEf,CAGJ,OAAO1qG,CACX,EAEAyqG,EAAahzG,UAAUshB,OAAS,WAC5B9hB,KAAK+wB,SAEL/wB,KAAK+vB,KAAO/vB,KAAK6lB,SAASkK,MAC9B,EAEOyjF,CACX,CAxGmB,CAwGjBpJ,SAEFxmG,kBAAkB4vG,aAAc,CAC5BxxF,UAAW,CACPne,KAAMujG,qBACNhnE,SAAUsmE,iBAIlB,IAAIgN,SAAY,SAAU9B,GACtB,SAAS8B,IACL9B,EAAYjwG,MAAM3B,KAAMjD,UAC5B,CAoFA,OAlFK60G,IAAc8B,EAASj7G,UAAYm5G,GACxC8B,EAASlzG,UAAYjI,OAAOuN,OAAQ8rG,GAAeA,EAAYpxG,WAC/DkzG,EAASlzG,UAAUhE,YAAck3G,EAEjCA,EAASlzG,UAAUwuF,WAAa,SAAqBlO,GACjD8wB,EAAYpxG,UAAUwuF,WAAW7tF,KAAKnB,KAAM8gF,GAE5C9gF,KAAK1F,QAAQyO,MAAQ/I,KAAK1F,QAAQyO,QAAU/I,KAAK8gF,MAAMtsE,SAAW,CAAC,GAAGzL,KAC1E,EAEA2qG,EAASlzG,UAAUsoG,aAAe,WAC9B,IAAIxuG,EAAU0F,KAAK1F,QACfihB,EAAQvb,KAAKub,MAAQ,IAAIs3F,SAASv4G,EAAQihB,MAAOvb,KAAKkoG,gBAEtD1zF,EAAU,IAAIg/F,aAAaj4F,EAAO1e,WAAW,CAAC,EAAG,CACjD83F,OAAQr6F,EAAQq6F,OAChB5rF,MAAOzO,EAAQyO,MACfzP,MAAOgB,EAAQhB,MACf8qB,QAAS9pB,EAAQ8pB,QACjBpC,UAAW,CACPyrC,YAAanzD,EAAQmzD,gBAI7BztD,KAAKooG,SAAW,CAAE5zF,EACtB,EAEAk/F,EAASlzG,UAAUwxG,eAAiB,SAAyB5J,GACzD,IAAK,IAAI3tG,EAAI,EAAGA,EAAI2tG,EAASvuG,OAAQY,IAAK,CACtC,IAAIkd,EAAUywF,EAAS3tG,GACvBkd,EAAQoZ,SAERpZ,EAAQre,MAAMqe,EAAQrd,QAAQhB,MAClC,CACJ,EAEAo6G,EAASlzG,UAAU6nG,iBAAmB,SAA2B/uG,GAC7D0G,KAAK1F,QAAQhB,MAAQA,CACzB,EAEAo6G,EAASlzG,UAAU+yG,aAAe,WAC9B,IAAI/+F,EAAUxU,KAAKooG,SAAS,GAC5B,GAAI5zF,EACA,OAAOA,EAAQ++F,cAEvB,EAEAG,EAASlzG,UAAUmzG,oBAAsB,SAA8Bn5G,EAAOmR,GAC1E,IAAInG,EAAOxF,KAAKiwF,UACZ96E,EAASnV,KAAKub,MAAM4F,IAAIhM,OAExB/W,EAAO+W,EAAOla,EAAIT,EAAQ,EAC1ByD,EAAMkX,EAAOja,EAAIyQ,EAAS,EAE9B,GAAInR,EAAQgL,EAAKhL,MAAO,CACpB,IAAI0D,EAAQE,EAAO5D,EAEnB4D,EAAOgE,KAAKC,IAAIjE,EAAM,GAElBF,EAAQsH,EAAKhL,QACb4D,GAAQF,EAAQsH,EAAKhL,MAE7B,CAEA,GAAImR,EAASnG,EAAKmG,OAAQ,CACtB,IAAIokB,EAAO/vB,KAAKub,MAAMwU,KAClB6jF,EAAS7jF,EAAK5C,cAAcjyB,EAC5BiD,EAASF,EAAM0N,EAEnB1N,EAAMmE,KAAKC,IAAIpE,EAAK8xB,EAAK7C,OAAOhyB,GAE5BiD,EAASy1G,IACT31G,GAAOE,EAASy1G,EAExB,CAEA,MAAO,CACHx1G,KAAMA,EACNH,IAAKA,EAEb,EAEOy1G,CACX,CAxFe,CAwFb9B,aAEEiC,kBAAoB,GAEpBC,cAAiB,SAAUJ,GAC3B,SAASI,IACLJ,EAAS/xG,MAAM3B,KAAMjD,UACzB,CAiBA,OAfK22G,IAAWI,EAAcr7G,UAAYi7G,GAC1CI,EAActzG,UAAYjI,OAAOuN,OAAQ4tG,GAAYA,EAASlzG,WAC9DszG,EAActzG,UAAUhE,YAAcs3G,EAEtCA,EAActzG,UAAUsoG,aAAe,WACnC,IAAIpnE,EAAe1hC,KAAK1F,QAAQihB,MACO,iBAA5BmmB,EAAaziB,aACpByiB,EAAaziB,WAAa40F,mBAG9BnyE,EAAazhB,SAAWyhB,EAAaziB,WAAa,IAElDy0F,EAASlzG,UAAUsoG,aAAa3nG,KAAKnB,KACzC,EAEO8zG,CACX,CArBoB,CAqBlBJ,UAEEK,0BAA4B,GAE5BC,SAAY,SAAUrhH,GACtB,SAASqhH,EAAS15G,GACd3H,EAAMwO,KAAKnB,MACXA,KAAK4+F,WAAWtkG,GAChB0F,KAAKi0G,gBACT,CA8CA,OA5CKthH,IAAQqhH,EAASv7G,UAAY9F,GAClCqhH,EAASxzG,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDwzG,EAASxzG,UAAUhE,YAAcw3G,EAEjCA,EAASxzG,UAAUyzG,eAAiB,WAA6B,EAEjED,EAASxzG,UAAUo+F,WAAa,SAAqBtkG,GACjD0F,KAAK1F,QAAU/B,OAAO4a,OAAO,CAAC,EAAGnT,KAAK1F,QAASA,GAC/C0F,KAAKk0G,gBAAkBl0G,KAAK1F,QAAQ65G,aAAe,EAAIn0G,KAAK1F,QAAQ45G,gBAAkB,CAC1F,EAEAF,EAASxzG,UAAU4zG,OAAS,SAAiB96G,EAAOkB,EAAOmR,GACvD,IAAI0oG,EAAiBxxG,QAAQvJ,GAASm0B,OAAOn0B,GAASA,EActD,OAZA0G,KAAKs0G,UAAUD,EAAgB75G,EAAOmR,GAElC3L,KAAK1F,QAAQ65G,cACbn0G,KAAKm0G,eAGTn0G,KAAKu0G,UAEDv0G,KAAK1F,QAAQ65G,cACbn0G,KAAKm0G,eAGF,CACHn0E,SAAUhgC,KAAKggC,SACfnZ,QAAS7mB,KAAK6mB,QAEtB,EAEAmtF,EAASxzG,UAAU8zG,UAAY,WAAwB,EAEvDN,EAASxzG,UAAU2zG,aAAe,WAC9Bn0G,KAAK6mB,QAAQvnB,KAAKU,KAAK1F,QAAQ45G,iBAAmBH,0BACtD,EAEAC,EAASxzG,UAAU+zG,QAAU,WAAsB,EAEnDP,EAASxzG,UAAUg0G,sBAAwB,SAAgCC,GACvE,MAAM,IAAI1lE,MAAO,cAAiB0lE,EAAY,gCAAoCz0G,KAAS,KAAI,IACnG,EAEOg0G,CACX,CApDe,CAoDbrhH,OAEFiR,kBAAkBowG,SAAU,CACxBE,gBAAiBH,0BACjBI,cAAc,EACdO,aAAa,IAGjB,IAAIC,SAAWp8G,OAAO4a,OAElByhG,OAAU,SAAUZ,GACpB,SAASY,IACLZ,EAASryG,MAAM3B,KAAMjD,UACzB,CAoHA,OAlHKi3G,IAAWY,EAAOn8G,UAAYu7G,GACnCY,EAAOp0G,UAAYjI,OAAOuN,OAAQkuG,GAAYA,EAASxzG,WACvDo0G,EAAOp0G,UAAUhE,YAAco4G,EAE/BA,EAAOp0G,UAAUyzG,eAAiB,WAC9BD,EAASxzG,UAAUyzG,eAAe9yG,KAAKnB,MAEvC20G,SAAS30G,KAAM,CACXtL,KAAM,UACNmgH,aAAc,CAAC,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,SAAU,UACnHC,eAAgB,GAChBC,eAAgB,EAChBC,mBAAoB,GACpBC,YAAa,GACbC,WAAY,GACZC,KAAM,IACNj8G,MAAO,SACPk8G,KAAM,SAEd,EAEAR,EAAOp0G,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,GACpDwF,KAAK6mB,QAAU,GACf7mB,KAAK1G,MAAQA,EACb0G,KAAKxF,MAAQA,EACbwF,KAAKsnC,WAAa,CACtB,EAEAstE,EAAOp0G,UAAU+zG,QAAU,WACvB,IAEIj7G,EAAQ0G,KAAK1G,MAEjB0G,KAAKq1G,WAAWr1G,KAAK9G,OAErB,IAAK,IAAIuB,EAAI,EAAGA,EAAInB,EAAMO,OAAQY,IANnBuF,KAOFs1G,aAAah8G,EAAMi8G,OAAO96G,IAGnCuF,KAAK1F,QAAQo6G,aACb10G,KAAK00G,cAGT10G,KAAKq1G,WAAWr1G,KAAKo1G,MACrBp1G,KAAKw1G,aACT,EAEAZ,EAAOp0G,UAAUg1G,YAAc,WAC3Bx1G,KAAKggC,SAAWhgC,KAAKxF,OAASwF,KAAKsnC,WAAatnC,KAAKk0G,gBACzD,EAEAU,EAAOp0G,UAAUk0G,YAAc,WAC3B,IAAIp7G,EAAQ0G,KAAK1G,MACbO,EAASP,EAAMO,OACf47G,EAASz1G,KAAK01G,eAAep8G,EAAOO,EAAQmG,KAAK80G,gBAAkB90G,KAAKi1G,YAO5E,GALAj1G,KAAK21G,SAAWloF,OAAOgoF,GACvBz1G,KAAKq1G,WAAWr1G,KAAK60G,aAAaY,MAElC57G,GAEcmG,KAAKg1G,mBAAoB,CACnC,IAAIY,GAAUH,EAASz1G,KAAK01G,eAAep8G,EAAOO,EAAQmG,KAAK+0G,iBAAmB/0G,KAAKi1G,YACvFj1G,KAAK21G,UAAYC,EACjB51G,KAAKq1G,WAAWr1G,KAAK60G,aAAae,GACtC,CACJ,EAEAhB,EAAOp0G,UAAUk1G,eAAiB,SAAyBp8G,EAAOO,EAAQirB,GAKtE,IAJA,IAEI+wF,EAAc,EAETp7G,EAAI,EAAGA,EAAInB,EAAMO,OAAQY,IAC9Bo7G,GALW71G,KAKa81G,cALb91G,KAKoC8rC,SAASxyC,EAAMi8G,OAAO96G,IAAKZ,EAAQY,EAAGqqB,GAGzF,OAAO+wF,CACX,EAEAjB,EAAOp0G,UAAUs1G,cAAgB,SAAwBx8G,EAAOO,EAAQ4B,EAAOqpB,GAE3E,QADcjrB,EAAS4B,GAASqpB,GAASA,GACzBxrB,CACpB,EAEAs7G,EAAOp0G,UAAUsrC,SAAW,SAAmB2oE,GAC3C,OAAKr5G,MAAMq5G,IAEAA,IAAcz0G,KAAKm1G,MAC1Bn1G,KAAKw0G,sBAAsBC,GAGxBz0G,KAAKk1G,YALDlrF,SAASyqF,EAAW,GAMnC,EAEAG,EAAOp0G,UAAU80G,aAAe,SAAuBb,GACnD,IAAIn7G,EAAQ0G,KAAK8rC,SAAS2oE,GACtB5tF,EAAU7mB,KAAK60G,aAAav7G,GAEhC0G,KAAKq1G,WAAWxuF,EACpB,EAEA+tF,EAAOp0G,UAAU60G,WAAa,SAAqBxuF,GAK/C,IAJA,IAEIvtB,EAEKmB,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAChCnB,EAAQ0wB,SAASnD,EAAQ0uF,OAAO96G,GAAI,IALzBuF,KAMF6mB,QAAQvnB,KAAKhG,GANX0G,KAOFsnC,YAAchuC,CAE/B,EAEOs7G,CACX,CAxHa,CAwHXZ,UAEFpwG,kBAAkBgxG,OAAQ,CACtBF,aAAa,IAGjB,IAAIqB,SAAWx9G,OAAO4a,OAElB6iG,WAAc,SAAUhC,GACxB,SAASgC,IACLhC,EAASryG,MAAM3B,KAAMjD,UACzB,CA6CA,OA3CKi3G,IAAWgC,EAAWv9G,UAAYu7G,GACvCgC,EAAWx1G,UAAYjI,OAAOuN,OAAQkuG,GAAYA,EAASxzG,WAC3Dw1G,EAAWx1G,UAAUhE,YAAcw5G,EAEnCA,EAAWx1G,UAAUyzG,eAAiB,WAClCD,EAASxzG,UAAUyzG,eAAe9yG,KAAKnB,MAEvC+1G,SAAS/1G,KAAM,CACXi2G,kBAAmB,IAE3B,EAEAD,EAAWx1G,UAAU+zG,QAAU,WAC3B,IAEIj7G,EAAQ0G,KAAK1G,MAEjB0G,KAAKk2G,WAEL,IAAK,IAAIt8G,EAAM,EAAGA,EAAMN,EAAMO,OAAQD,IANvBoG,KAOFs1G,aAAah8G,EAAMi8G,OAAO37G,IAGnCoG,KAAK1F,QAAQo6G,aACb10G,KAAKm2G,eAGTn2G,KAAKo2G,UACLp2G,KAAKq2G,eACT,EAEAL,EAAWx1G,UAAU80G,aAAe,SAAuBb,GACvD,IAAI6B,EAAgBt2G,KAAK60G,aAAaJ,GAEjC6B,GACDt2G,KAAKw0G,sBAAsBC,GAG/Bz0G,KAAKu2G,QAAQD,EACjB,EAEAN,EAAWx1G,UAAU+1G,QAAU,WAAsB,EAE9CP,CACX,CAjDiB,CAiDfhC,UAEEwC,OAAU,SAAUR,GACpB,SAASQ,IACLR,EAAWr0G,MAAM3B,KAAMjD,UAC3B,CAkJA,OAhJKi5G,IAAaQ,EAAO/9G,UAAYu9G,GACrCQ,EAAOh2G,UAAYjI,OAAOuN,OAAQkwG,GAAcA,EAAWx1G,WAC3Dg2G,EAAOh2G,UAAUhE,YAAcg6G,EAE/BA,EAAOh2G,UAAUyzG,eAAiB,WAC9B+B,EAAWx1G,UAAUyzG,eAAe9yG,KAAKnB,MAEzC+1G,SAAS/1G,KAAM,CACXtL,KAAM,UACNugH,YAAa,GACbwB,SAAU,IACVC,SAAU,EACVC,SAAU,EACVC,eAAgB,IAChBC,gBAAiB,CACbluG,EAAK,KACLmuG,EAAK,KACLhqC,EAAK,SACLiqC,EAAK,UAETlC,aAAc,CACV,EAAK,CAAEhuF,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC,EAAK,CAAEutB,QAAW,YAAavtB,MAAS,GACxC09G,EAAK,CAAEnwF,QAAW,YAAavtB,MAAS,IACxCwzE,EAAK,CAAEjmD,QAAW,YAAavtB,MAAS,IACxC29G,EAAK,CAAEpwF,QAAW,YAAavtB,MAAS,IACxC49G,EAAK,CAAErwF,QAAW,YAAavtB,MAAS,IACxC69G,EAAK,CAAEtwF,QAAW,YAAavtB,MAAS,IACxC89G,EAAK,CAAEvwF,QAAW,YAAavtB,MAAS,IACxC+9G,EAAK,CAAExwF,QAAW,YAAavtB,MAAS,IACxCg+G,EAAK,CAAEzwF,QAAW,YAAavtB,MAAS,IACxCi+G,EAAK,CAAE1wF,QAAW,YAAavtB,MAAS,IACxCk+G,EAAK,CAAE3wF,QAAW,YAAavtB,MAAS,IACxCm+G,EAAK,CAAE5wF,QAAW,YAAavtB,MAAS,IACxCo+G,EAAK,CAAE7wF,QAAW,YAAavtB,MAAS,IACxCq+G,EAAK,CAAE9wF,QAAW,YAAavtB,MAAS,IACxCs+G,EAAK,CAAE/wF,QAAW,YAAavtB,MAAS,IACxCu+G,EAAK,CAAEhxF,QAAW,YAAavtB,MAAS,IACxCw+G,EAAK,CAAEjxF,QAAW,YAAavtB,MAAS,IACxCy+G,EAAK,CAAElxF,QAAW,YAAavtB,MAAS,IACxC0+G,EAAK,CAAEnxF,QAAW,YAAavtB,MAAS,IACxC2+G,EAAK,CAAEpxF,QAAW,YAAavtB,MAAS,IACxC4+G,EAAK,CAAErxF,QAAW,YAAavtB,MAAS,IACxC6+G,EAAK,CAAEtxF,QAAW,YAAavtB,MAAS,IACxC8+G,EAAK,CAAEvxF,QAAW,YAAavtB,MAAS,IACxCy9G,EAAK,CAAElwF,QAAW,YAAavtB,MAAS,IACxCtB,EAAK,CAAE6uB,QAAW,YAAavtB,MAAS,IACxCrB,EAAK,CAAE4uB,QAAW,YAAavtB,MAAS,IACxC++G,EAAK,CAAExxF,QAAW,YAAavtB,MAAS,IACxC,IAAK,CAAEutB,QAAW,YAAavtB,MAAS,IACxC,IAAK,CAAEutB,QAAW,YAAavtB,MAAS,IACxC,IAAK,CAAEutB,QAAW,YAAavtB,MAAS,IACxCg/G,EAAK,CAAEzxF,QAAW,YAAavtB,MAAS,IACxC,IAAK,CAAEutB,QAAW,YAAavtB,MAAS,IACxC,IAAK,CAAEutB,QAAW,YAAavtB,MAAS,IACxC,IAAK,CAAEutB,QAAW,YAAavtB,MAAS,IACxCJ,MAAO,CAAE2tB,QAAS,eAG9B,EAEA2vF,EAAOh2G,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,EAAOmR,GAC3D3L,KAAKxF,MAAQA,EACbwF,KAAK2L,OAASA,EACd3L,KAAK1G,MAAQA,EACb0G,KAAKuvE,WAAaj2E,EAAMO,OACxBmG,KAAK6mB,QAAU,GACf7mB,KAAKu4G,cAAgB,EACzB,EAEA/B,EAAOh2G,UAAU61G,cAAgB,WAC7B,IAKIr2E,EAHAw4E,EAAcx4G,KAAKi2G,kBACnBQ,EAAWz2G,KAAKy2G,SAChBgC,EAAYr2G,KAAKI,KAAKJ,KAAKC,IAAI,IAAOrC,KAAKxF,MAAO,KAElDoyC,EAAQ5sC,KAAK02G,SAEjB,GAAI12G,KAAK2L,OAAS8sG,EACd,MAAM,IAAI1pE,MAAO,kEAAqE/uC,KAAW,OAAI,gCAAkCy4G,EAAY,OAKvJ,IAFAz4E,EAAWhgC,KAAK04G,YAAY9rE,GAErB5M,EAAWw4E,GAAe5rE,EAAQ6pE,GACrC7pE,EAAQhvC,YAAYgvC,EAAQ,IAAK+rE,QAAQ,IACzC34E,EAhBWhgC,KAgBS04G,YAAY9rE,GAGpC,GAAI5M,EAAWw4E,EAAa,CACxB,IAAIx1B,EAAW5gF,KAAKI,KAAKxC,KAAK44G,aAAanC,GAAY+B,GACvD,MAAM,IAAIzpE,MAAO,gEAAmE/uC,KAAU,MAAI,uCAA2CA,KAAU,MAAI,QAAWgjF,EAAW,MACrL,CAEAhjF,KAAK4sC,MAAQA,EACb5sC,KAAKggC,SAAWA,EAChBhgC,KAAKu4G,cAAgBv4G,KAAKu4G,cAAcxlF,UAAU,EAAG/yB,KAAKu4G,cAAc1+G,OAAS,GACjFmG,KAAK6mB,QAAU7mB,KAAK6mB,QAAQ1e,OAAOnI,KAAKu4G,cAAcr+G,QAAQ,SAAU0yC,GAAO9sC,MAAME,KAAK42G,gBAC9F,EAEAJ,EAAOh2G,UAAUk4G,YAAc,SAAsB9rE,GACjD,OAAO5sC,KAAKxF,MAAQwF,KAAK44G,aAAahsE,EAC1C,EAEA4pE,EAAOh2G,UAAUo4G,aAAe,SAAuBhsE,GACnD,IAAIisE,EAAkB,GAAKjsE,EAAQ,GACnC,OAAO5sC,KAAKk0G,gBAAkB2E,GAAmB74G,KAAKuvE,WAAa,GAAKvvE,KAAK22G,UAAY32G,KAAKuvE,WAAa,EAC/G,EAEAinC,EAAOh2G,UAAU01G,SAAW,WACxBl2G,KAAKq1G,WAAWr1G,KAAK60G,aAAa37G,MAAM2tB,SACxC7mB,KAAK84G,iBACT,EAEAtC,EAAOh2G,UAAU+1G,QAAU,SAAkB9B,GACzCz0G,KAAKq1G,WAAWZ,EAAU5tF,SAC1B7mB,KAAK84G,iBACT,EAEAtC,EAAOh2G,UAAU41G,QAAU,WACvBp2G,KAAKq1G,WAAWr1G,KAAK60G,aAAa37G,MAAM2tB,QAC5C,EAEA2vF,EAAOh2G,UAAU60G,WAAa,SAAqBxuF,GAG/C,IAFA,IAESpsB,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAFrBuF,KAGFu4G,eAHEv4G,KAGwB62G,gBAAgBhwF,EAAQ0uF,OAAO96G,GAE1E,EAEA+7G,EAAOh2G,UAAUs4G,gBAAkB,WAC/B94G,KAAKu4G,eAAiBv4G,KAAK22G,SAAW32G,KAAK42G,cAC/C,EAEOJ,CACX,CAtJa,CAsJXR,YAEFpyG,kBAAkB4yG,OAAQ,CACtB9B,aAAa,IAGjB,IAAIqE,mBAAqB,CACrBzD,aAAc,SAAsBb,GAC5Bz0G,KAAK60G,aAAaJ,GAClBz0G,KAAKu2G,QAAQv2G,KAAK60G,aAAaJ,IACxBA,EAAUuE,WAAW,GAAK,IACjCh5G,KAAKw0G,sBAAsBC,GAE3Bz0G,KAAKi5G,YAAYxE,EAAUuE,WAAW,GAE9C,EAEAC,YAAa,SAAqBC,GAK9B,IAJA,IAEIC,EAFAlmG,EAAWjT,KAINvF,EAAI,EAAGA,EAAIuF,KAAKo5G,iBAAiBv/G,OAAQY,IAG9C,GAFA0+G,EAAWlmG,EAASmmG,iBAAiB3+G,GAAG0G,KAAK8R,EAAUimG,GAEzC,CACV,IAAK,IAAIG,EAAe,EAAGA,EAAeF,EAASt/G,OAAQw/G,IAAgB,CACvE,IAAIxyF,EAAUsyF,EAASE,GACvBpmG,EAASsjG,QAAQ1vF,EACrB,CAGA,YADA5T,EAASs8D,YAAc4pC,EAASt/G,OAAS,EAE7C,CAER,EAEAu/G,iBAAkB,CACd,SAASF,GACL,GAAI,IAAMA,GAAQA,GAAQ,IACtB,MAAO,CAACl5G,KAAK60G,aAAa70G,KAAKs5G,gBAAgB,IAAKt5G,KAAK60G,aAAapnF,OAAO8rF,aAAaL,EAAO,KAEzG,EACA,SAASA,GACL,GAAI,IAAMA,GAAQA,GAAQ,GACtB,MAAO,CAACl5G,KAAK60G,aAAa70G,KAAKs5G,gBAAgB,IAAKt5G,KAAK60G,aAAapnF,OAAO8rF,aAAaL,EAAO,KAEzG,EACA,SAASA,GACL,GAAI,GAAKA,GAAQA,GAAQ,GACrB,MAAO,CAACl5G,KAAK60G,aAAa70G,KAAKs5G,gBAAgB,IAAKt5G,KAAK60G,aAAapnF,OAAO8rF,aAAaL,EAAO,KAEzG,EACA,SAASA,GACL,IAEIt9G,EACA49G,EAHAvmG,EAAWjT,KAKf,GAAKA,KAAKy5G,kBAAkBP,GAGrB,CACHt9G,EAAS,GAET,IAAK,IAAInB,EAAI,EAAGA,EAAIuF,KAAKy5G,kBAAkBP,GAAMr/G,OAAQY,IACrDmB,EAAO0D,KAAK2T,EAAS4hG,aAAa5hG,EAASqmG,gBAAgB,KAC3D19G,EAAO0D,KAAK2T,EAAS4hG,aAAa5hG,EAASwmG,kBAAkBP,GAAMz+G,IAE3E,MATI++G,EAAwC,EAAxBp3G,KAAKK,MAAMy2G,EAAO,KAAWA,EAAO,IAAM,GAAK,GAC/Dt9G,EAAS,CAACoE,KAAK60G,aAAa70G,KAAKs5G,gBAAgB,IAAKt5G,KAAK60G,aAAapnF,OAAO8rF,aAAaC,KAUhG,OAAO59G,CACX,GAEJ69G,kBAAmB,CACf,EAAK,CAAC,KACN,GAAM,CAAC,KACP,GAAM,CAAC,KACP,IAAO,CAAC,IAAK,IAAK,IAAK,MAE3BC,sBAAuB,CACnB,GAAM,GACN,GAAM,GACN,GAAM,GACN,GAAM,IAEV7E,aAAc,CACV,KAAK,EACL,KAAK,EACLyD,GAAK,EACL,KAAK,GAETgB,gBAAiB,CAAC,SAAU,SAAU,SAAU,WAGhDK,eAAkB,SAAUnD,GAC5B,SAASmD,IACLnD,EAAO70G,MAAM3B,KAAMjD,UACvB,CAoBA,OAlBKy5G,IAASmD,EAAelhH,UAAY+9G,GACzCmD,EAAen5G,UAAYjI,OAAOuN,OAAQ0wG,GAAUA,EAAOh2G,WAC3Dm5G,EAAen5G,UAAUhE,YAAcm9G,EAEvCA,EAAen5G,UAAUyzG,eAAiB,WACtCuC,EAAOh2G,UAAUyzG,eAAe9yG,KAAKnB,MAErCnD,WAAWmD,KAAM+4G,mBAAoB,CACjCrkH,KAAM,mBACNmgH,aAAc,CACV+E,OAAQ,CAAE/yF,QAAW,YAAavtB,MAAS,IAC3CugH,OAAQ,CAAEhzF,QAAW,YAAavtB,MAAS,IAC3CwgH,OAAQ,CAAEjzF,QAAW,YAAavtB,MAAS,IAC3CygH,OAAQ,CAAElzF,QAAW,YAAavtB,MAAS,MAGvD,EAEOqgH,CACX,CAxBqB,CAwBnBnD,QAEEwD,SAAWzhH,OAAO4a,OAElB8mG,OAAU,SAAUjE,GACpB,SAASiE,IACLjE,EAAWr0G,MAAM3B,KAAMjD,UAC3B,CAkLA,OAhLKi5G,IAAaiE,EAAOxhH,UAAYu9G,GACrCiE,EAAOz5G,UAAYjI,OAAOuN,OAAQkwG,GAAcA,EAAWx1G,WAC3Dy5G,EAAOz5G,UAAUhE,YAAcy9G,EAE/BA,EAAOz5G,UAAUyzG,eAAiB,WAC9B+B,EAAWx1G,UAAUyzG,eAAe9yG,KAAKnB,MAEzCg6G,SAASh6G,KAAM,CACXtL,KAAM,UACNogH,eAAgB,GAChBC,eAAgB,GAChBE,YAAa,GACbJ,aAAc,CACV,EAAK,CAAEhuF,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC,EAAK,CAAEutB,QAAW,SAAUvtB,MAAS,GACrC09G,EAAK,CAAEnwF,QAAW,SAAUvtB,MAAS,IACrCwzE,EAAK,CAAEjmD,QAAW,SAAUvtB,MAAS,IACrC29G,EAAK,CAAEpwF,QAAW,SAAUvtB,MAAS,IACrC49G,EAAK,CAAErwF,QAAW,SAAUvtB,MAAS,IACrC69G,EAAK,CAAEtwF,QAAW,SAAUvtB,MAAS,IACrC89G,EAAK,CAAEvwF,QAAW,SAAUvtB,MAAS,IACrC+9G,EAAK,CAAExwF,QAAW,SAAUvtB,MAAS,IACrCg+G,EAAK,CAAEzwF,QAAW,SAAUvtB,MAAS,IACrCi+G,EAAK,CAAE1wF,QAAW,SAAUvtB,MAAS,IACrCk+G,EAAK,CAAE3wF,QAAW,SAAUvtB,MAAS,IACrCm+G,EAAK,CAAE5wF,QAAW,SAAUvtB,MAAS,IACrCo+G,EAAK,CAAE7wF,QAAW,SAAUvtB,MAAS,IACrCq+G,EAAK,CAAE9wF,QAAW,SAAUvtB,MAAS,IACrCs+G,EAAK,CAAE/wF,QAAW,SAAUvtB,MAAS,IACrCu+G,EAAK,CAAEhxF,QAAW,SAAUvtB,MAAS,IACrCw+G,EAAK,CAAEjxF,QAAW,SAAUvtB,MAAS,IACrCy+G,EAAK,CAAElxF,QAAW,SAAUvtB,MAAS,IACrC0+G,EAAK,CAAEnxF,QAAW,SAAUvtB,MAAS,IACrC2+G,EAAK,CAAEpxF,QAAW,SAAUvtB,MAAS,IACrC4+G,EAAK,CAAErxF,QAAW,SAAUvtB,MAAS,IACrC6+G,EAAK,CAAEtxF,QAAW,SAAUvtB,MAAS,IACrC8+G,EAAK,CAAEvxF,QAAW,SAAUvtB,MAAS,IACrCy9G,EAAK,CAAElwF,QAAW,SAAUvtB,MAAS,IACrCtB,EAAK,CAAE6uB,QAAW,SAAUvtB,MAAS,IACrCrB,EAAK,CAAE4uB,QAAW,SAAUvtB,MAAS,IACrC++G,EAAK,CAAExxF,QAAW,SAAUvtB,MAAS,IACrC,IAAK,CAAEutB,QAAW,SAAUvtB,MAAS,IACrC,IAAK,CAAEutB,QAAW,SAAUvtB,MAAS,IACrC,IAAK,CAAEutB,QAAW,SAAUvtB,MAAS,IACrCg/G,EAAK,CAAEzxF,QAAW,SAAUvtB,MAAS,IACrC,IAAK,CAAEutB,QAAW,SAAUvtB,MAAS,IACrC,IAAK,CAAEutB,QAAW,SAAUvtB,MAAS,IACrC,IAAK,CAAEutB,QAAW,SAAUvtB,MAAS,IACrCsgH,OAAQ,CAAE/yF,QAAW,SAAUvtB,MAAS,IACxCugH,OAAQ,CAAEhzF,QAAW,SAAUvtB,MAAS,IACxCwgH,OAAQ,CAAEjzF,QAAW,SAAUvtB,MAAS,IACxCygH,OAAQ,CAAElzF,QAAW,SAAUvtB,MAAS,IACxCJ,MAAO,CAAE2tB,QAAW,UACpBqzF,gBAAiB,MAG7B,EAEAD,EAAOz5G,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,EAAOmR,GAC3D3L,KAAK1G,MAAQA,EACb0G,KAAKxF,MAAQA,EACbwF,KAAK2L,OAASA,EACd3L,KAAK6mB,QAAU,GACf7mB,KAAKmJ,OAAS,GACdnJ,KAAKuvE,WAAaj2E,EAAMO,MAC5B,EAEAogH,EAAOz5G,UAAU61G,cAAgB,WAC7B,IAAIoC,EAAYr2G,KAAKI,KAAKJ,KAAKC,IAAI,IAAOrC,KAAKxF,MAAO,KAEtD,GAAIwF,KAAK2L,OAAS8sG,EACd,MAAM,IAAI1pE,MAAO,kEAAqE/uC,KAAW,OAAI,sCAAwCy4G,EAAY,OAK7J,GAFAz4G,KAAKw1G,cAEDx1G,KAAKggC,SAAWhgC,KAAKi2G,kBAAmB,CACxC,IAAIjzB,EAAW5gF,KAAKI,KAAKxC,KAAKi2G,mBAAqBj2G,KAAKxF,MAAQwF,KAAKggC,WACrE,MAAM,IAAI+O,MAAO,gEAAmE/uC,KAAU,MAAI,gDAAoDA,KAAU,MAAI,QAAWgjF,EAAW,MAC9L,CACJ,EAEAi3B,EAAOz5G,UAAUg1G,YAAc,WAG3Bx1G,KAAKggC,SAAWhgC,KAAKxF,OAAS,GAAKwF,KAAKuvE,WAAa,EAFhC,GAEsDvvE,KAAKk0G,gBAAkB,EACtG,EAEA+F,EAAOz5G,UAAU01G,SAAW,WACxB,IAAIrvF,EAAU7mB,KAAK60G,aAAa37G,MAAM2tB,QACtC7mB,KAAKq1G,WAAWxuF,EACpB,EAEAozF,EAAOz5G,UAAU41G,QAAU,WACvBp2G,KAAKk2G,WACLl2G,KAAK6mB,QAAQvnB,KAAKU,KAAK60G,aAAaqF,gBACxC,EAEAD,EAAOz5G,UAAU+1G,QAAU,SAAkB4D,GACzCn6G,KAAKq1G,WAAW8E,EAAStzF,SACzB7mB,KAAKmJ,OAAO7J,KAAK66G,EAAS7gH,MAC9B,EAEA2gH,EAAOz5G,UAAU21G,aAAe,WAC5B,IAGIgE,EAHAlnG,EAAWjT,KAEXo6G,EAAcp6G,KAAKq6G,kBAGvBr6G,KAAK21G,SAAWyE,EAAYp8F,KAAK,IAEjC,IAAK,IAAIvjB,EAAI,EAAGA,EAAI2/G,EAAYvgH,OAAQY,IACpC0/G,EAAWlnG,EAAS4hG,aAAa5hG,EAASqnG,sBAAsBF,EAAY3/G,KAC5EwY,EAASoiG,WAAW8E,EAAStzF,QAErC,EAEAozF,EAAOz5G,UAAU65G,gBAAkB,WAC/B,IAKI5E,EAEA77G,EAPAqZ,EAAWjT,KAEXmJ,EAASnJ,KAAKmJ,OACdtP,EAASsP,EAAOtP,OAChB0gH,EAAa,EAKjB,IAAK3gH,EAAMC,EAAS,EAAGD,GAAO,EAAGA,IAC7B2gH,GAActnG,EAAS6iG,cAAc3sG,EAAOvP,GAAMC,EAASD,EAAKqZ,EAAS6hG,gBAO7E,IAJAW,EAAS8E,EAAav6G,KAAKi1G,YAE3BsF,EAAav6G,KAAK81G,cAAcL,EAAQ,EAAGz1G,KAAK+0G,gBAE3Cn7G,EAAMC,EAAS,EAAGD,GAAO,EAAGA,IAC7B2gH,GAActnG,EAAS6iG,cAAc3sG,EAAOvP,GAAMC,EAASD,EAAM,EAAGqZ,EAAS8hG,gBAIjF,MAAO,CAACU,EADC8E,EAAav6G,KAAKi1G,YAE/B,EAEAgF,EAAOz5G,UAAU85G,sBAAwB,SAAgChhH,GAGrE,IAAK,IAAIm7G,KAFMz0G,KAEgB60G,aAC3B,GAHW70G,KAGE60G,aAAaJ,GAAWn7G,QAAUA,EAC3C,OAAOm7G,CAGnB,EAEAwF,EAAOz5G,UAAUs1G,cAAgB,SAAwBx8G,EAAOmC,EAAOqpB,GACnE,OAAQrpB,EAAQqpB,GAASA,GAASxrB,CACtC,EAEA2gH,EAAOz5G,UAAU60G,WAAa,SAAqBxuF,GAK/C,IAJA,IAEIvtB,EAEKmB,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAChCnB,EAAQ0wB,SAASnD,EAAQ0uF,OAAO96G,GAAI,IALzBuF,KAMF6mB,QAAQvnB,KAAKhG,EAE9B,EAEO2gH,CACX,CAtLa,CAsLXjE,YAEEwE,eAAkB,SAAUP,GAC5B,SAASO,IACLP,EAAOt4G,MAAM3B,KAAMjD,UACvB,CAiCA,OA/BKk9G,IAASO,EAAe/hH,UAAYwhH,GACzCO,EAAeh6G,UAAYjI,OAAOuN,OAAQm0G,GAAUA,EAAOz5G,WAC3Dg6G,EAAeh6G,UAAUhE,YAAcg+G,EAEvCA,EAAeh6G,UAAUyzG,eAAiB,WACtCgG,EAAOz5G,UAAUyzG,eAAe9yG,KAAKnB,MAErCnD,WAAWmD,KAAM+4G,mBAAoB,CACjCrkH,KAAM,mBACNyhH,aAAc,WACV,IAGI78G,EAHA2Z,EAAWjT,KAEXo6G,EAAcp6G,KAAKq6G,kBAGvBr6G,KAAK21G,SAAWyE,EAAYp8F,KAAK,IAEjC,IAAK,IAAIvjB,EAAI,EAAGA,EAAI2/G,EAAYvgH,OAAQY,IAGpC,GAFAnB,EAAQ8gH,EAAY3/G,GAEhBwY,EAASymG,sBAAsBpgH,GAC/B2Z,EAASgmG,YAAYhmG,EAASymG,sBAAsBpgH,QACjD,CACH,IAAImhH,EAAmBxnG,EAASqnG,sBAAsBhhH,GACtD2Z,EAASoiG,WAAWpiG,EAAS4hG,aAAa4F,GAAkB5zF,QAChE,CAER,GAER,EAEO2zF,CACX,CArCqB,CAqCnBP,QAEES,cAAgB,QAChBC,SAAWpiH,OAAO4a,OAElBynG,QAAW,SAAU5G,GACrB,SAAS4G,IACL5G,EAASryG,MAAM3B,KAAMjD,UACzB,CAuFA,OArFKi3G,IAAW4G,EAAQniH,UAAYu7G,GACpC4G,EAAQp6G,UAAYjI,OAAOuN,OAAQkuG,GAAYA,EAASxzG,WACxDo6G,EAAQp6G,UAAUhE,YAAco+G,EAEhCA,EAAQp6G,UAAUyzG,eAAiB,WAC/BD,EAASxzG,UAAUyzG,eAAe9yG,KAAKnB,MAEvC26G,SAAS36G,KAAM,CACXtL,KAAM,UACNwE,MAAO,IACP2hH,mBAAoB,CAAC,EAAG,EAAG,IAC3BC,gBAAiB,IACjBjG,aAAc,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,UAExG,EAEA+F,EAAQp6G,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,EAAOmR,GAC5D3L,KAAK2L,OAASA,EACd3L,KAAKxF,MAAQA,EACbwF,KAAK+6G,WAAapvG,EAAS,EAC3B3L,KAAK1G,MAAQA,EAAMY,QAAQ,IAAIq+C,OAAOv4C,KAAK86G,gBAAiB,KAAM,IAClE96G,KAAK6mB,QAAU,GACf7mB,KAAKg7G,SAASh7G,KAAK1G,OACnB0G,KAAKi7G,SAAW,EAChBj7G,KAAKw1G,aACT,EAEAoF,EAAQp6G,UAAU+zG,QAAU,WACxB,IAEIj7G,EAAQ0G,KAAK1G,MAEjB0G,KAAKq1G,WAAWr1G,KAAK9G,OAErB,IAAK,IAAIuB,EAAI,EAAGA,EAAInB,EAAMO,OAAQY,IANnBuF,KAOFs1G,aAAah8G,EAAMi8G,OAAO96G,IAGnCuF,KAAK1F,QAAQo6G,aACb10G,KAAK00G,cAGT10G,KAAKq1G,WAAWr1G,KAAK9G,OACrB8G,KAAK6mB,QAAQxM,KACjB,EAEAugG,EAAQp6G,UAAU80G,aAAe,SAAuBb,GACpD,IAAI5tF,EAAU7mB,KAAK60G,aAAaJ,GAChCz0G,KAAKi7G,UAAYjxF,SAASyqF,EAAW,IACrCz0G,KAAKq1G,WAAWxuF,EACpB,EAEA+zF,EAAQp6G,UAAUk0G,YAAc,WAC5B10G,KAAK21G,UAAY,GAAM31G,KAAKi7G,SAAW,IAAO,GAC9Cj7G,KAAKs1G,aAAat1G,KAAK21G,SAC3B,EAEAiF,EAAQp6G,UAAUg1G,YAAc,WAG5Bx1G,KAAKggC,SAAWhgC,KAAKxF,OAAmC,IAAzBwF,KAAK1G,MAAMO,OAAS,GAF7B,EAEyDmG,KAAKk0G,gBACxF,EAEA0G,EAAQp6G,UAAUw6G,SAAW,SAAmB1hH,GAK5C,GAJKohH,cAAcr9G,KAAK/D,IACpB0G,KAAKw0G,sBAAsBl7G,EAAM8F,MAAM,UAAU,KAGhDe,QAAQ7G,EAAMO,OAAQmG,KAAK66G,oBAC5B,MAAM,IAAI9rE,MAAM,qEAAuE/uC,KAAK66G,mBAAmB78F,KAAK,KAAO,IAEnI,EAEA48F,EAAQp6G,UAAU60G,WAAa,SAAqBxuF,GAKhD,IAJA,IAEI/R,EAFA7B,EAAWjT,KAINvF,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAChCqa,EAAK7B,EAAStH,OAASsH,EAAS8nG,WAAal0F,EAAQ0uF,OAAO96G,GAC5DwY,EAAS4T,QAAQvnB,KAAK,CAAE9E,MAAO,EAAGsa,GAAIA,EAAIE,GAAI/B,EAAStH,SACvDsH,EAAS4T,QAAQvnB,KAAK,EAE9B,EAEOs7G,CACX,CA3Fc,CA2FZ5G,UAEEkH,cAAgB,QAChBC,kBAAoB,eACpBC,SAAW7iH,OAAO4a,OAElBkoG,SAAY,SAAU1oH,GACtB,SAAS0oH,EAASC,GACd3oH,EAAMwO,KAAKnB,MACXA,KAAKs7G,SAAWA,EAChBt7G,KAAKi0G,gBACT,CAoBA,OAlBKthH,IAAQ0oH,EAAS5iH,UAAY9F,GAClC0oH,EAAS76G,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnD66G,EAAS76G,UAAUhE,YAAc6+G,EAEjCA,EAAS76G,UAAUyzG,eAAiB,WAA6B,EAEjEoH,EAAS76G,UAAU01G,SAAW,WAAuB,EAErDmF,EAAS76G,UAAU+6G,GAAK,WAAiB,EAEzCF,EAAS76G,UAAUg7G,OAAS,WACxB,OAAO,CACX,EAEAH,EAAS76G,UAAUuN,KAAO,WAAmB,EAE7CstG,EAAS76G,UAAUi7G,UAAY,WAAwB,EAEhDJ,CACX,CA1Be,CA0Bb1oH,OAEE+oH,WAAc,SAAUL,GACxB,SAASK,EAAWJ,EAAUK,GAC1BN,EAASl6G,KAAKnB,KAAMs7G,GACpBt7G,KAAK27G,OAASA,EACd37G,KAAK47G,WAAWD,EACpB,CA4FA,OA1FKN,IAAWK,EAAWjjH,UAAY4iH,GACvCK,EAAWl7G,UAAYjI,OAAOuN,OAAQu1G,GAAYA,EAAS76G,WAC3Dk7G,EAAWl7G,UAAUhE,YAAck/G,EAEnCA,EAAWl7G,UAAUyzG,eAAiB,WAClCoH,EAAS76G,UAAUyzG,eAAe9yG,KAAKnB,MAEvCnD,WAAWmD,KAAM,CACb67G,KAAM,OACNC,MAAO,IAEf,EAEAJ,EAAWl7G,UAAU01G,SAAW,WAC5Bl2G,KAAKs7G,SAASjG,WAAWr1G,KAAK9G,MAClC,EAEAwiH,EAAWl7G,UAAU+6G,GAAK,SAAajiH,EAAOmC,GAC1C,IAAIy9G,EAAO5/G,EAAM0/G,WAAWv9G,GAC5B,OAAOuE,KAAKw7G,OAAOtC,EACvB,EAEAwC,EAAWl7G,UAAUuN,KAAO,SAAeguG,GAGvC,IAFA,IAAIniH,EAAM,GAEFoG,KAAKg8G,OAAOpiH,GAAKuH,KAAKnB,KAAM+7G,IAAkBniH,EAAMoG,KAAKg8G,OAAOniH,QACpED,GAER,EAEA8hH,EAAWl7G,UAAUi7G,UAAY,SAAoBM,GACjD,IAKI7C,EAHAyC,EAAS37G,KAAK27G,OACdriH,EAAQyiH,EAAcziH,MACtB2iH,EAAY3iH,EAAMO,OAGtB,GAAIsG,QAAQ,IAAKw7G,GAAS,CACtB,IAAIO,EAAc5iH,EAAM6iH,OAAOJ,EAActgH,OAAO2D,MAAM,WAEtD88G,IACAD,EAAY3iH,EAAMS,QAAQmiH,EAAY,GAAIH,EAActgH,OAEhE,CAEA,MAAQy9G,EAAO6C,EAAcziH,MAAM0/G,WAAW+C,EAActgH,SAAW,GACnEuE,KAAKw7G,OAAOtC,IACZ6C,EAActgH,MAAQwgH,GAjBXj8G,KAkBFs7G,SAASjG,WAlBPr1G,KAkB2B8rC,SAASotE,IAC/C6C,EAActgH,OAEtB,EAEAigH,EAAWl7G,UAAUo7G,WAAa,SAAqBD,GACnD37G,KAAKg8G,OAAS,GAEV77G,QAAQH,KAAK67G,KAAMF,IACnB37G,KAAKg8G,OAAO18G,KAAKU,KAAKo8G,UAGtBj8G,QAAQH,KAAKozE,SAAUuoC,IACvB37G,KAAKg8G,OAAO18G,KAAKU,KAAKq8G,aAG1Br8G,KAAKg8G,OAAO18G,KAAKU,KAAKs8G,WAC1B,EAEAZ,EAAWl7G,UAAU47G,SAAW,SAAmBL,GAC/C,GAAIA,EAAcQ,IAEd,OADAR,EAAcQ,KAAM,EACbR,EAAcS,gBAAkBx8G,KAAKU,GAEpD,EAEAg7G,EAAWl7G,UAAU67G,YAAc,SAAsBN,GACrD,GAAIA,EAAcS,gBAAkBx8G,KAAKozE,WACpC2oC,EAActgH,MAAQ,GAAKsgH,EAAcziH,MAAMO,QAC5CmG,KAAKs7G,SAASt7G,KAAKozE,UAAUmoC,GAAGQ,EAAcziH,MAAOyiH,EAActgH,MAAQ,IAG/E,OAFAuE,KAAKs7G,SAASjG,WAAWr1G,KAAK87G,OAC9BC,EAAcU,SAAU,GACjB,CAEf,EAEAf,EAAWl7G,UAAU87G,WAAa,WAE9B,OADAt8G,KAAKs7G,SAASjG,WAAWr1G,KAAK2T,OACvB,CACX,EAEO+nG,CACX,CAlGiB,CAkGfL,UAEEqB,UAAY,CAAC,EAEjBA,UAAU1F,EAAK,SAAU0E,GACrB,SAASiB,IACLjB,EAAW/5G,MAAM3B,KAAMjD,UAC3B,CA6BA,OA3BK2+G,IAAaiB,EAAUlkH,UAAYijH,GACxCiB,EAAUn8G,UAAYjI,OAAOuN,OAAQ41G,GAAcA,EAAWl7G,WAC9Dm8G,EAAUn8G,UAAUhE,YAAcmgH,EAElCA,EAAUn8G,UAAUyzG,eAAiB,WACjCyH,EAAWl7G,UAAUyzG,eAAe9yG,KAAKnB,MAEzCo7G,SAASp7G,KAAM,CACXU,IAAK,IACL0yE,SAAU,IACVz/D,KAAM,IACNza,MAAO,KAEf,EAEAyjH,EAAUn8G,UAAUg7G,OAAS,SAAiBtC,GAC1C,OAAO,GAAKA,GAAQA,EAAO,EAC/B,EAEAyD,EAAUn8G,UAAUsrC,SAAW,SAAmBotE,GAC9C,OAAIA,EAAO,GACAA,EAAO,GAGXA,EAAO,EAClB,EAEOyD,CACX,CAjCc,CAiCZjB,YAEFgB,UAAU5vC,EAAK,SAAU4uC,GACrB,SAASkB,IACLlB,EAAW/5G,MAAM3B,KAAMjD,UAC3B,CAyBA,OAvBK2+G,IAAakB,EAAUnkH,UAAYijH,GACxCkB,EAAUp8G,UAAYjI,OAAOuN,OAAQ41G,GAAcA,EAAWl7G,WAC9Do8G,EAAUp8G,UAAUhE,YAAcogH,EAElCA,EAAUp8G,UAAUyzG,eAAiB,WACjCyH,EAAWl7G,UAAUyzG,eAAe9yG,KAAKnB,MAEzCo7G,SAASp7G,KAAM,CACXU,IAAK,IACL0yE,SAAU,IACVz/D,KAAM,IACNza,MAAO,KAEf,EAEA0jH,EAAUp8G,UAAUg7G,OAAS,SAAiBtC,GAC1C,OAAO,IAAMA,GAAQA,EAAO,GAChC,EAEA0D,EAAUp8G,UAAUsrC,SAAW,SAAmBotE,GAC9C,OAAOA,EAAO,EAClB,EAEO0D,CACX,CA7Bc,CA6BZlB,YAEFgB,UAAUzF,EAAK,SAAUoE,GACrB,SAASwB,IACLxB,EAAS15G,MAAM3B,KAAMjD,UACzB,CA6CA,OA3CKs+G,IAAWwB,EAAUpkH,UAAY4iH,GACtCwB,EAAUr8G,UAAYjI,OAAOuN,OAAQu1G,GAAYA,EAAS76G,WAC1Dq8G,EAAUr8G,UAAUhE,YAAcqgH,EAElCA,EAAUr8G,UAAUyzG,eAAiB,WACjCoH,EAAS76G,UAAUyzG,eAAe9yG,KAAKnB,MAEvCo7G,SAASp7G,KAAM,CACXU,IAAK,IACLiT,KAAM,GACNza,MAAO,KAEf,EAEA2jH,EAAUr8G,UAAU01G,SAAW,WAC3Bl2G,KAAKs7G,SAASjG,WAAWr1G,KAAK9G,MAClC,EAEA2jH,EAAUr8G,UAAU+6G,GAAK,SAAajiH,EAAOmC,GACzC,IAAIqhH,EAAQC,aAAazjH,EAAOmC,EAAO,GACvC,OAAQA,EAAQ,GAAKnC,EAAMO,QAA2B,IAAjBP,EAAMO,SAAiBqhH,cAAc79G,KAAKy/G,EACnF,EAEAD,EAAUr8G,UAAUuN,KAAO,WACvB/N,KAAKs7G,SAASjG,WAAWr1G,KAAK2T,KAClC,EAEAkpG,EAAUr8G,UAAUi7G,UAAY,SAAoBM,GAKhD,IAJA,IAEI7C,GAEIA,EAAO6D,aAAahB,EAAcziH,MAAOyiH,EAActgH,MAAO,KAClEy/G,cAAc79G,KAAK67G,IAAyB,IAAhBA,EAAKr/G,QALtBmG,KAMFs7G,SAASjG,WAAWrrF,SAASkvF,EAAM,KAC5C6C,EAActgH,OAAS,CAE/B,EAEAohH,EAAUr8G,UAAUsrC,SAAW,SAAmBotE,GAC9C,OAAOA,CACX,EAEO2D,CACX,CAjDc,CAiDZxB,UAEFqB,UAAUb,KAAQ,SAAUR,GACxB,SAAS2B,EAAa1B,EAAUK,GAC5BN,EAASl6G,KAAKnB,KAAMs7G,GACpBt7G,KAAKi9G,eAAetB,EACxB,CA4HA,OA1HKN,IAAW2B,EAAavkH,UAAY4iH,GACzC2B,EAAax8G,UAAYjI,OAAOuN,OAAQu1G,GAAYA,EAAS76G,WAC7Dw8G,EAAax8G,UAAUhE,YAAcwgH,EAErCA,EAAax8G,UAAUyzG,eAAiB,WACpCoH,EAAS76G,UAAUyzG,eAAe9yG,KAAKnB,MAEvCo7G,SAASp7G,KAAM,CACXU,IAAK,OACLw8G,gBAAiB,CAAC,IAAK,MAE/B,EAEAF,EAAax8G,UAAU01G,SAAW,SAAmB6F,GACjD,IAAI7C,EAAO6C,EAAcziH,MAAM0/G,WAAW,GAAK,IAC3CmE,EAAWn9G,KAAKo9G,aAAalE,GAEjCl5G,KAAKs7G,SAAS6B,GAAUjH,UAC5B,EAEA8G,EAAax8G,UAAU+6G,GAAK,SAAajiH,EAAOmC,GAC5C,IAAIy9G,EAAO5/G,EAAM0/G,WAAWv9G,GAC5B,OAAOuE,KAAKw7G,OAAOtC,EACvB,EAEA8D,EAAax8G,UAAUg7G,OAAS,SAAiBtC,GAC7C,OAAO,KAAOA,GAAQA,EAAO,GACjC,EAEA8D,EAAax8G,UAAUi7G,UAAY,SAAoBM,GACnD,IAKI7C,EAHAiE,EAAWn9G,KAAKq9G,cAActB,GAC9BT,EAAWt7G,KAAKs7G,SAChBzhH,EAASsjH,EAAS7jH,MAAMO,OAK5B,GAFAkiH,EAActgH,OAAS5B,EAEnBA,EAAS,EACT,KAAOsjH,EAAS1hH,MAAQ5B,EAAQsjH,EAAS1hH,QACrCy9G,EAAOiE,EAAS7jH,MAAM0/G,WAAWmE,EAAS1hH,OAC1C0hH,EAASl5G,MAZFjE,KAYmBo9G,aAAalE,GAEnCiE,EAASX,gBAAkBW,EAASl5G,QACpCk5G,EAASX,cAAgBW,EAASl5G,MAClCq3G,EAAS6B,EAASl5G,OAAO8J,KAAKovG,IAGlC7B,EAASjG,WAAWiG,EAAS6B,EAASl5G,OAAO0P,MAC7C2nG,EAASjG,WAAWiG,EAAS6B,EAASl5G,OAAO6nC,SAASotE,SAGtDiE,EAASl5G,QAAUk5G,EAASX,eAC5BlB,EAAS6B,EAASl5G,OAAO8J,KAAKovG,GAGlCn9G,KAAKs9G,WAAWH,GAChB7B,EAASiC,SAASJ,EAAUn9G,KAAKw9G,WAE7BzB,EAActgH,MAAQsgH,EAAcziH,MAAMO,QAC1CmG,KAAKs9G,WAAWH,GAIxBpB,EAAcQ,KAAM,EACpBR,EAAc93G,MAAQk5G,EAASl5G,KACnC,EAEA+4G,EAAax8G,UAAU88G,WAAa,SAAqBH,GACrDn9G,KAAKs7G,SAASjG,WAAWr1G,KAAKs7G,SAAS6B,EAASl5G,OAAO0P,MACvD3T,KAAKs7G,SAASjG,WAAWr1G,KAAKs7G,SAAS6B,EAASl5G,OAAO0P,KAC3D,EAEAqpG,EAAax8G,UAAU68G,cAAgB,SAAwBtB,GAC3D,IAAIoB,EAAW,CACX7jH,MAAO0G,KAAKy9G,QAAQ1B,EAAcziH,MAAOyiH,EAActgH,OACvDA,MAAO,GAQX,OALA0hH,EAASl5G,MAAQjE,KAAKo9G,aAAaD,EAAS7jH,MAAM0/G,WAAW,IAC7DmE,EAASX,cAAgBT,EAAcS,gBAAkBx8G,KAAKU,IAC1Dy8G,EAASl5G,MACT83G,EAAcS,cAEXW,CACX,EAEAH,EAAax8G,UAAUy8G,eAAiB,SAAyBtB,GAG7D37G,KAAKw9G,UAAY,GAEjB,IAAK,IAAI/iH,EAAI,EAAGA,EAAIkhH,EAAO9hH,OAAQY,IAC3B0F,QAAQw7G,EAAOlhH,GALRuF,KAKqBk9G,kBALrBl9G,KAMEw9G,UAAUl+G,KAAKq8G,EAAOlhH,GAG3C,EAEAuiH,EAAax8G,UAAU48G,aAAe,SAAuBlE,GAGzD,IAFA,IAAIjmG,EAAWjT,KAENvF,EAAI,EAAGA,EAAIuF,KAAKw9G,UAAU3jH,OAAQY,IACvC,GAAIwY,EAASqoG,SAASroG,EAASuqG,UAAU/iH,IAAI+gH,OAAOtC,GAChD,OAAOjmG,EAASuqG,UAAU/iH,EAGtC,EAEAuiH,EAAax8G,UAAUi9G,QAAU,SAAkBnkH,EAAOmC,GAKtD,IAJA,IAAIy9G,EACAt9G,EAAS,GACTnB,EAAIgB,GAEAy9G,EAAO5/G,EAAM0/G,WAAWv+G,OAASuF,KAAKw7G,OAAOtC,IACjDt9G,GAAU6xB,OAAO8rF,aAAaL,EAAO,KAGzC,OAAOt9G,CACX,EAEOohH,CACX,CAjIiB,CAiIf3B,UAEFqB,UAAUgB,KAAQ,SAAUrC,GACxB,SAASsC,EAAcrC,EAAUK,GAC7BN,EAASl6G,KAAKnB,KAAMs7G,GACpBt7G,KAAK27G,OAASA,CAClB,CA8OA,OA5OKN,IAAWsC,EAAcllH,UAAY4iH,GAC1CsC,EAAcn9G,UAAYjI,OAAOuN,OAAQu1G,GAAYA,EAAS76G,WAC9Dm9G,EAAcn9G,UAAUhE,YAAcmhH,EAEtCA,EAAcn9G,UAAUyzG,eAAiB,WACrCoH,EAAS76G,UAAUyzG,eAAe9yG,KAAKnB,MAEvCo7G,SAASp7G,KAAM,CACXU,IAAK,OACLk9G,WAAY,IACZC,QAAS,IACTC,MAAO,IACPZ,gBAAiB,CAAC,IAAK,KACvBa,uBAAwB,CACpB,GAAM,CAAE17G,IAAK,GAAIwB,KAAM,gBACvB,IAAO,CAAEhK,OAAQ,IACjB,KAAQ,CAAEwI,IAAK,EAAGwB,KAAM,gBACxB,IAAO,CAAExB,IAAK,EAAGwB,KAAM,gBACvB,KAAQ,CAAExB,IAAK,GAAIwB,KAAM,gBACzB,IAAO,CAAE0D,IAAK,EAAGlF,IAAK,GAAIwB,KAAM,gBAChC,KAAQ,CAAE0D,IAAK,EAAGlF,IAAK,GAAIwB,KAAM,gBACjC,IAAO,CAAE0D,IAAK,GAAIlF,IAAK,GAAIwB,KAAM,gBACjC,KAAQ,CAAE0D,IAAK,GAAIlF,IAAK,GAAIwB,KAAM,gBAClCm6G,SAAU,CAAC,CACPC,IAAK,CAAC,KAAM,KAAM,OAAQ,QAC1B1qC,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,IAAK,KACN,CAAC,IAAK,KACN,CAAC,IAAK,MAEV1vE,KAAM,CAAEhK,OAAQ,IACjB,CACCokH,IAAK,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAAQ,OAAQ,OAAQ,QAC/E1qC,OAAQ,CAAC,EAAC,IACV1vE,KAAM,CAAExB,IAAK,GAAIwB,KAAM,iBACxB,CACCo6G,IAAK,CAAC,QACN1qC,OAAQ,CAAC,CAAC,IAAK,MACf1vE,KAAM,CAAEhK,OAAQ,KACjB,CACCokH,IAAK,CAAC,KAAM,KAAM,MAAO,MAAO,QAChCp6G,KAAM,CAAExB,IAAK,GAAIwB,KAAM,iBACxB,CACCo6G,IAAK,CAAC,KAAM,OAAQ,OAAQ,QAC5Bp6G,KAAM,CAAEhK,OAAQ,KACjB,CACCokH,IAAK,CAAC,KAAM,KAAM,QAClBp6G,KAAM,CAAEhK,OAAQ,KACjB,CACCokH,IAAK,CAAC,OACN1qC,OAAQ,CACJ,CAAC,IAAK,MAEV1vE,KAAM,CAAEhK,OAAQ,IACjB,CACCokH,IAAK,CAAC,KAAM,QACZp6G,KAAM,CAAEhK,OAAQ,IACjB,CACCokH,IAAK,CAAC,KAAM,MACZp6G,KAAM,CAAExB,IAAK,EAAGwB,KAAM,iBACvB,CACCo6G,IAAK,CAAC,MAAO,OACbp6G,KAAM,CAAExB,IAAK,GAAIwB,KAAM,iBACxB,CACCo6G,IAAK,CAAC,MAAO,OACbp6G,KAAM,CAAE0D,IAAK,EAAGlF,IAAK,GAAIwB,KAAM,iBAChC,CACCo6G,IAAK,CAAC,MAAO,OACbp6G,KAAM,CAAE0D,IAAK,EAAGlF,IAAK,GAAIwB,KAAM,iBAChC,CACCo6G,IAAK,CAAC,OAAQ,QACdp6G,KAAM,CAAEhK,OAAQ,OAGxBX,MAAO,KAEf,EAGAykH,EAAcn9G,UAAU01G,SAAW,WAC/Bl2G,KAAKs7G,SAASt7G,KAAK49G,YAAY1H,UACnC,EAEAyH,EAAcn9G,UAAU+6G,GAAK,WACzB,OAAOp7G,QAAQH,KAAKU,IAAKV,KAAK27G,OAClC,EAEAgC,EAAcn9G,UAAUi7G,UAAY,SAAoBM,GACpD,IASIpkG,EACAumG,EACAC,EAXAlrG,EAAWjT,KAEXs7G,EAAWt7G,KAAKs7G,SAChBhiH,EAAQyiH,EAAcziH,MAAMY,QAAQ,MAAO,IAC3CkkH,EAAkB,IAAI7lE,OAAO,IAAMv4C,KAAK69G,QAAU79G,KAAK89G,MAAQ,IAAK,KACpEriH,EAAQsgH,EAActgH,MACtB0hH,EAAW,CACPl5G,MAAOjE,KAAK49G,YAMpBtC,EAASjG,WAAWr1G,KAAK9G,OAIzB,OAAsB,CAMlB,GALAikH,EAAS1hH,MAAQ,GAGjBkc,GADAwmG,EAAkB7kH,EAAMi8G,OAAO95G,KAAWwX,EAAS4qG,QAAU,EAAI,GACrC,EAAI5qG,EAASorG,eAAe/kH,EAAOmC,GAASwX,EAASqrG,YAAYhlH,EAAOmC,IAExF8iH,GAAG1kH,OACXqkH,EAAYziH,EAAQ0iH,EAAkBxmG,EAAQljB,GAAGoF,OAAS8d,EAAQ4mG,GAAG1kH,YAIrE,IAFAqkH,EAAY5kH,EAAMS,QAAQkZ,EAAS4qG,QAASpiH,EAAQ,IAEpC,EAAG,CACf,GAAIA,EAAQkc,EAAQ4mG,GAAGl8G,IAAMsV,EAAQljB,GAAGoF,OAASskH,EAAkB7kH,EAAMO,OACrE,MAAM,IAAIk1C,MAAM,6DAGpBmvE,EAAY5kH,EAAMO,MACtB,CAOJ,GAJAsjH,EAAS7jH,MAAQA,EAAMy5B,UAAUt3B,EAAOyiH,GAAWhkH,QAAQkkH,EAAiB,IAC5EnrG,EAAS+nG,SAASrjG,EAASwlG,EAAS7jH,OACpCgiH,EAASiC,SAASJ,EAAUlqG,EAASiqG,iBAEjCgB,GAAa5kH,EAAMO,OACnB,MAGJ4B,EAAQyiH,EAEJf,EAASl5G,QAAUgP,EAAS2qG,aAC5BtC,EAASroG,EAAS2qG,YAAY7vG,KAAKovG,GACnCA,EAASl5G,MAAQgP,EAAS2qG,YAGzBjmG,EAAQ4mG,GAAG1kH,QACZyhH,EAASjG,WAAWpiG,EAAS/Z,MAErC,CAEA6iH,EAActgH,MAAQsgH,EAAcziH,MAAMO,MAC9C,EAEA8jH,EAAcn9G,UAAUw6G,SAAW,SAAmBrjG,EAASre,GAC3D,IAAI4/G,EAAO5/G,EAAM6iH,OAAOxkG,EAAQljB,GAAGoF,QAC/B0kH,EAAK5mG,EAAQ4mG,GAEjB,IAAKA,EAAG16G,OAASq3G,cAAc79G,KAAK67G,GAChC,MAAM,IAAInqE,MAAM,0BAA4Bp3B,EAAQljB,GAAK,2DAG7D,GAAgB,iBAAZ8pH,EAAG16G,OAA4Bs3G,kBAAkB99G,KAAK67G,GACtD,MAAM,IAAInqE,MAAM,0BAA4Bp3B,EAAQljB,GAAK,qEAG7D,GAAI8pH,EAAG1kH,QAAU0kH,EAAG1kH,SAAWq/G,EAAKr/G,OAChC,MAAM,IAAIk1C,MAAM,0BAA4Bp3B,EAAQljB,GAAK,YAAc8pH,EAAG1kH,OAAS,qBAGvF,GAAI0kH,EAAGh3G,KAAOg3G,EAAGh3G,IAAM2xG,EAAKr/G,OACxB,MAAM,IAAIk1C,MAAM,0BAA4Bp3B,EAAQljB,GAAK,qBAAuB8pH,EAAGh3G,IAAM,qBAG7F,GAAIg3G,EAAGl8G,KAAOk8G,EAAGl8G,IAAM62G,EAAKr/G,OACxB,MAAM,IAAIk1C,MAAM,0BAA4Bp3B,EAAQljB,GAAK,oBAAsB8pH,EAAGl8G,IAAM,oBAEhG,EAEAs7G,EAAcn9G,UAAU89G,YAAc,SAAsBhlH,EAAOmC,GAM/D,IALA,IAEIhH,EACA+pH,EAEK/jH,EAAI,EAAGA,GAAK,EAAGA,IAGpB,GAFAhG,EAAKsoH,aAAazjH,EAAOmC,EAAOhB,GAChC+jH,EAPWx+G,KAOsBy+G,yBAAyBhqH,IAP/CuL,KAO+Dy+G,yBAAyBhqH,EAAGs+B,UAAU,EAAGt+B,EAAGoF,OAAS,IAE3H,MAAO,CACHpF,GAAIA,EACJ8pH,GAAIC,GAIhBx+G,KAAK0+G,mBAAmBjqH,EAC5B,EAEAkpH,EAAcn9G,UAAUk+G,mBAAqB,SAA6BjqH,GACtE,MAAM,IAAIs6C,MAAM,IAAMt6C,EAAK,8CAC/B,EAEAkpH,EAAcn9G,UAAU69G,eAAiB,SAAyB/kH,EAAOmC,GACrE,IAAI4E,EAAQ/G,EAAMS,QAAQiG,KAAK69G,QAASpiH,GACpC6E,EAAMhH,EAAMS,QAAQiG,KAAK89G,MAAOz9G,GAChC5L,EAAK6E,EAAMy5B,UAAU1yB,EAAQ,EAAGC,GAChCi+G,EAAKv+G,KAAKy+G,yBAAyBhqH,IAAOuL,KAAKy+G,yBAAyBhqH,EAAG0nH,OAAO1nH,EAAGoF,OAAS,IAMlG,OAJK0kH,GACDv+G,KAAK0+G,mBAAmBjqH,GAGrB,CACH8pH,GAAIA,EACJ9pH,GAAIA,EAEZ,EAEAkpH,EAAcn9G,UAAUi+G,yBAA2B,SAAmChqH,GAClF,IAAI+pH,EAAwBx+G,KAAK+9G,uBAC7BC,EAAWQ,EAAsBR,SAErC,GAAIQ,EAAsB/pH,GACtB,OAAO+pH,EAAsB/pH,GAGjC,IAAK,IAAIgG,EAAI,EAAGA,EAAIujH,EAASnkH,OAAQY,IAAK,CACtC,GAAIujH,EAASvjH,GAAGwjH,KAAO99G,QAAQ1L,EAAIupH,EAASvjH,GAAGwjH,KAC3C,OAAOD,EAASvjH,GAAGoJ,KAChB,GAAIm6G,EAASvjH,GAAG84E,OAGnB,IAFA,IAAIA,EAASyqC,EAASvjH,GAAG84E,OAEhB5mE,EAAI,EAAGA,EAAI4mE,EAAO15E,OAAQ8S,IAC/B,GAAI4mE,EAAO5mE,GAAG,IAAMlY,GAAMA,GAAM8+E,EAAO5mE,GAAG,GACtC,OAAOqxG,EAASvjH,GAAGoJ,IAInC,CACJ,EAEO85G,CACX,CAnPiB,CAmPftC,UAEF,IAAIsD,YAAe,SAAU3K,GACzB,SAAS2K,EAAYrkH,GACjB05G,EAAS7yG,KAAKnB,KAAM1F,GACpB0F,KAAK4+G,aACT,CA0IA,OAxIK5K,IAAW2K,EAAYlmH,UAAYu7G,GACxC2K,EAAYn+G,UAAYjI,OAAOuN,OAAQkuG,GAAYA,EAASxzG,WAC5Dm+G,EAAYn+G,UAAUhE,YAAcmiH,EAEpCA,EAAYn+G,UAAUyzG,eAAiB,WACnCD,EAASxzG,UAAUyzG,eAAe9yG,KAAKnB,MAEvCo7G,SAASp7G,KAAM,CACX60G,aAAc,CACV,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OACxE,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,SAEpDO,KAAM,KAEd,EAEAuJ,EAAYn+G,UAAUo+G,YAAc,WAGhC,IAFA,IAAI3rG,EAAWjT,KAENvF,EAAI,EAAGA,EAAIuF,KAAK27G,OAAO9hH,OAAQY,IACpCwY,EAASA,EAAS0oG,OAAOlhH,IAAM,IAAIiiH,UAAUzpG,EAAS0oG,OAAOlhH,IAAIwY,EAAUA,EAAS0oG,OAE5F,EAEAgD,EAAYn+G,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,EAAOmR,GAChE3L,KAAK6mB,QAAU,GACf7mB,KAAK1G,MAAQA,EACb0G,KAAKxF,MAAQA,EACbwF,KAAK2L,OAASA,EACd3L,KAAKi7G,SAAW,EAChBj7G,KAAKsnC,WAAa,EAClBtnC,KAAKvE,MAAQ,EACbuE,KAAK8uB,SAAW,CACpB,EAEA6vF,EAAYn+G,UAAU+zG,QAAU,WAC5B,IAAIwH,EAAgB,CAChBziH,MAAO0G,KAAK1G,MACZmC,MAAO,EACPwI,MAAO,IAGe,IAAtBjE,KAAK1G,MAAMO,SAIfkiH,EAAc93G,MACV83G,EAAcS,cAAgBx8G,KAAK6+G,aAAa9C,EAAe/7G,KAAK27G,QAExE37G,KAAKk2G,SAAS6F,GAEd/7G,KAAKu9G,SAASxB,EAAe/7G,KAAK27G,QAElC37G,KAAK00G,cACL10G,KAAKo2G,UACLp2G,KAAKw1G,cACT,EAEAmJ,EAAYn+G,UAAU+8G,SAAW,SAAmBxB,EAAeJ,GAK/D,IAJA,IAAI1oG,EAAWjT,KAKXiT,EAAS8oG,EAAc93G,OAAOw3G,UAAUM,KAEpCA,EAActgH,OAASsgH,EAAcziH,MAAMO,SAI/C,GAAKkiH,EAAcU,QAIZ,CACH,IAAIqC,EAAO/C,EAAc93G,MACzB83G,EAAc93G,MAAQ83G,EAAcS,cACpCT,EAAcS,cAAgBsC,EAC9B/C,EAAcU,SAAU,CAC5B,MARIV,EAAcS,cAAgBT,EAAc93G,MAC5C83G,EAAc93G,MAAQgP,EAAS4rG,aAAa9C,EAAeJ,GAC3D1oG,EAAS8oG,EAAc93G,OAAO8J,KAAKguG,EAQ/C,EAEA4C,EAAYn+G,UAAU01G,SAAW,SAAmB6F,GAChD/7G,KAAK+7G,EAAc93G,OAAOiyG,SAAS6F,GACnC/7G,KAAK8uB,SAAW,CACpB,EAEA6vF,EAAYn+G,UAAUk0G,YAAc,WAChC10G,KAAK21G,SAAW31G,KAAKi7G,SAAW,IAChCj7G,KAAKq1G,WAAWr1G,KAAK21G,SACzB,EAEAgJ,EAAYn+G,UAAU41G,QAAU,WAC5Bp2G,KAAKq1G,WAAWr1G,KAAKo1G,KACzB,EAEAuJ,EAAYn+G,UAAUg1G,YAAc,WAChCx1G,KAAKggC,SAAWhgC,KAAKxF,OAASwF,KAAKsnC,WAAatnC,KAAKk0G,gBACzD,EAEAyK,EAAYn+G,UAAU60G,WAAa,SAAqB6D,GAMpD,IALA,IAGI5/G,EADAutB,EAAU7mB,KAAK60G,aAAaqE,GAAMh4G,WAG7BzG,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAChCnB,EAAQ0wB,SAASnD,EAAQ0uF,OAAO96G,GAAI,IANzBuF,KAOF6mB,QAAQvnB,KAAKhG,GAPX0G,KAQFsnC,YAAchuC,EAE3B0G,KAAKi7G,UAAY/B,EAAOl5G,KAAK8uB,UACjC,EAEA6vF,EAAYn+G,UAAUq+G,aAAe,SAAuB9C,EAAeJ,GAGvE,IAFA,IAESlhH,EAAI,EAAGA,EAAIkhH,EAAO9hH,OAAQY,IAC/B,GAHWuF,KAGE27G,EAAOlhH,IAAI8gH,GAAGQ,EAAcziH,MAAOyiH,EAActgH,OAC1D,OAAOkgH,EAAOlhH,GAItBuF,KAAKw0G,sBAAsBuH,EAAcziH,MAAMi8G,OAAOwG,EAActgH,OACxE,EAEOkjH,CACX,CA/IkB,CA+IhB3K,UAEE+K,SAAY,SAAUJ,GACtB,SAASI,IACLJ,EAAYh9G,MAAM3B,KAAMjD,UAC5B,CAeA,OAbK4hH,IAAcI,EAAStmH,UAAYkmH,GACxCI,EAASv+G,UAAYjI,OAAOuN,OAAQ64G,GAAeA,EAAYn+G,WAC/Du+G,EAASv+G,UAAUhE,YAAcuiH,EAEjCA,EAASv+G,UAAUyzG,eAAiB,WAChC0K,EAAYn+G,UAAUyzG,eAAe9yG,KAAKnB,MAE1Co7G,SAASp7G,KAAM,CACXtL,KAAM,aACNinH,OAAQ,CAAC,MAEjB,EAEOoD,CACX,CAnBe,CAmBbJ,aAEEK,SAAY,SAAUL,GACtB,SAASK,IACLL,EAAYh9G,MAAM3B,KAAMjD,UAC5B,CAeA,OAbK4hH,IAAcK,EAASvmH,UAAYkmH,GACxCK,EAASx+G,UAAYjI,OAAOuN,OAAQ64G,GAAeA,EAAYn+G,WAC/Dw+G,EAASx+G,UAAUhE,YAAcwiH,EAEjCA,EAASx+G,UAAUyzG,eAAiB,WAChC0K,EAAYn+G,UAAUyzG,eAAe9yG,KAAKnB,MAE1Co7G,SAASp7G,KAAM,CACXtL,KAAM,aACNinH,OAAQ,CAAC,MAEjB,EAEOqD,CACX,CAnBe,CAmBbL,aAEEM,SAAY,SAAUN,GACtB,SAASM,IACLN,EAAYh9G,MAAM3B,KAAMjD,UAC5B,CAeA,OAbK4hH,IAAcM,EAASxmH,UAAYkmH,GACxCM,EAASz+G,UAAYjI,OAAOuN,OAAQ64G,GAAeA,EAAYn+G,WAC/Dy+G,EAASz+G,UAAUhE,YAAcyiH,EAEjCA,EAASz+G,UAAUyzG,eAAiB,WAChC0K,EAAYn+G,UAAUyzG,eAAe9yG,KAAKnB,MAE1Co7G,SAASp7G,KAAM,CACXtL,KAAM,aACNinH,OAAQ,CAAC,MAEjB,EAEOsD,CACX,CAnBe,CAmBbN,aAEEO,QAAW,SAAUP,GACrB,SAASO,IACLP,EAAYh9G,MAAM3B,KAAMjD,UAC5B,CAeA,OAbK4hH,IAAcO,EAAQzmH,UAAYkmH,GACvCO,EAAQ1+G,UAAYjI,OAAOuN,OAAQ64G,GAAeA,EAAYn+G,WAC9D0+G,EAAQ1+G,UAAUhE,YAAc0iH,EAEhCA,EAAQ1+G,UAAUyzG,eAAiB,WAC/B0K,EAAYn+G,UAAUyzG,eAAe9yG,KAAKnB,MAE1Co7G,SAASp7G,KAAM,CACXtL,KAAM,WACNinH,OAAQ,CAAC,IAAK,IAAK,IAAK,SAEhC,EAEOuD,CACX,CAnBc,CAmBZP,aAEEQ,WAAc,SAAUR,GACxB,SAASQ,IACLR,EAAYh9G,MAAM3B,KAAMjD,UAC5B,CAeA,OAbK4hH,IAAcQ,EAAW1mH,UAAYkmH,GAC1CQ,EAAW3+G,UAAYjI,OAAOuN,OAAQ64G,GAAeA,EAAYn+G,WACjE2+G,EAAW3+G,UAAUhE,YAAc2iH,EAEnCA,EAAW3+G,UAAUyzG,eAAiB,WAClC0K,EAAYn+G,UAAUyzG,eAAe9yG,KAAKnB,MAE1Co7G,SAASp7G,KAAM,CACXtL,KAAM,eACNinH,OAAQ,CAAC,OAAQ,IAAK,MAE9B,EAEOwD,CACX,CAnBiB,CAmBfR,aAEF,SAAS5B,aAAazjH,EAAOmC,EAAOC,GAChC,OAAOpC,EAAMy5B,UAAUt3B,EAAOA,EAAQC,EAC1C,CAEA,IAAI0jH,SAAW7mH,OAAO4a,OAElBksG,QAAW,SAAUrL,GACrB,SAASqL,IACLrL,EAASryG,MAAM3B,KAAMjD,UACzB,CA8FA,OA5FKi3G,IAAWqL,EAAQ5mH,UAAYu7G,GACpCqL,EAAQ7+G,UAAYjI,OAAOuN,OAAQkuG,GAAYA,EAASxzG,WACxD6+G,EAAQ7+G,UAAUhE,YAAc6iH,EAEhCA,EAAQ7+G,UAAUyzG,eAAiB,WAC/BD,EAASxzG,UAAUyzG,eAAe9yG,KAAKnB,MAEvCo/G,SAASp/G,KAAM,CACX60G,aAAc,CACV,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAEJ37G,MAAO,KACPk8G,KAAM,MACNkK,aAAc,GACdC,UAAWA,WAEnB,EAEAF,EAAQ7+G,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,GACrDwF,KAAK6mB,QAAU,GACf7mB,KAAK1G,MAAQA,EACb0G,KAAKw/G,eAAiB,EACtBx/G,KAAKxF,MAAQA,CACjB,EAEA6kH,EAAQ7+G,UAAUg1G,YAAc,WAG5Bx1G,KAAKggC,SAAWhgC,KAAKxF,OAChB,IAAMwF,KAAK1G,MAAMO,OAASmG,KAAKw/G,gBAAkBx/G,KAAKk0G,gBAHrC,EAI1B,EAEAmL,EAAQ7+G,UAAU+zG,QAAU,WACxB,IAEIj7G,EAAQ0G,KAAK1G,MAEjB0G,KAAKq1G,WAAWr1G,KAAK9G,OAErB,IAAK,IAAIuB,EAAI,EAAGA,EAAInB,EAAMO,OAAQY,IANnBuF,KAOFs1G,aAAah8G,EAAMi8G,OAAO96G,IAGnCuF,KAAK1F,QAAQo6G,aACb10G,KAAK00G,cAGT10G,KAAKq1G,WAAWr1G,KAAKo1G,MACrBp1G,KAAKw1G,aACT,EAEA6J,EAAQ7+G,UAAU80G,aAAe,SAAuBb,GACpD,IAAI5tF,EAAU7mB,KAAK60G,aAAaJ,GAE3B5tF,GACD7mB,KAAKw0G,sBAAsBC,GAG/Bz0G,KAAKq1G,WAAWxuF,EACpB,EAEAw4F,EAAQ7+G,UAAU60G,WAAa,SAAqBxuF,GAGhD,IAFA,IAESpsB,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAFrBuF,KAGF6mB,QAAQvnB,KAAK0qB,SAASnD,EAAQ0uF,OAAO96G,GAAI,IAE1D,EAEA4kH,EAAQ7+G,UAAUk0G,YAAc,WAC5B,IAAIzhG,EAAWjT,KAGXo6G,EADmBp6G,KAAKu/G,UAAUv/G,KAAKs/G,cACRn+G,KAAKnB,KAAKu/G,UAAWv/G,KAAK1G,OAE7D0G,KAAK21G,SAAWyE,EAAYp8F,KAAK,IAEjC,IAAK,IAAIvjB,EAAI,EAAGA,EAAI2/G,EAAYvgH,OAAQY,IACpCwY,EAASusG,iBACTvsG,EAASoiG,WAAWpiG,EAAS4hG,aAAauF,EAAY3/G,IAE9D,EAEO4kH,CACX,CAlGc,CAkGZrL,UAEEyL,SAAY,SAAUJ,GACtB,SAASI,IACLJ,EAAQ19G,MAAM3B,KAAMjD,UACxB,CAeA,OAbKsiH,IAAUI,EAAShnH,UAAY4mH,GACpCI,EAASj/G,UAAYjI,OAAOuN,OAAQu5G,GAAWA,EAAQ7+G,WACvDi/G,EAASj/G,UAAUhE,YAAcijH,EAEjCA,EAASj/G,UAAUyzG,eAAiB,WAChCoL,EAAQ7+G,UAAUyzG,eAAe9yG,KAAKnB,MAEtCo/G,SAASp/G,KAAM,CACXtL,KAAM,eACN4qH,aAAc,YAEtB,EAEOG,CACX,CAnBe,CAmBbJ,SAEEK,SAAY,SAAUL,GACtB,SAASK,IACLL,EAAQ19G,MAAM3B,KAAMjD,UACxB,CAeA,OAbKsiH,IAAUK,EAASjnH,UAAY4mH,GACpCK,EAASl/G,UAAYjI,OAAOuN,OAAQu5G,GAAWA,EAAQ7+G,WACvDk/G,EAASl/G,UAAUhE,YAAckjH,EAEjCA,EAASl/G,UAAUyzG,eAAiB,WAChCoL,EAAQ7+G,UAAUyzG,eAAe9yG,KAAKnB,MAEtCo/G,SAASp/G,KAAM,CACXtL,KAAM,eACN4qH,aAAc,YAEtB,EAEOI,CACX,CAnBe,CAmBbL,SAEEM,WAAc,SAAUN,GACxB,SAASM,IACLN,EAAQ19G,MAAM3B,KAAMjD,UACxB,CAeA,OAbKsiH,IAAUM,EAAWlnH,UAAY4mH,GACtCM,EAAWn/G,UAAYjI,OAAOuN,OAAQu5G,GAAWA,EAAQ7+G,WACzDm/G,EAAWn/G,UAAUhE,YAAcmjH,EAEnCA,EAAWn/G,UAAUyzG,eAAiB,WAClCoL,EAAQ7+G,UAAUyzG,eAAe9yG,KAAKnB,MAEtCo/G,SAASp/G,KAAM,CACXtL,KAAM,wBACN4qH,aAAc,oBAEtB,EAEOK,CACX,CAnBiB,CAmBfN,SAEEO,WAAc,SAAUP,GACxB,SAASO,IACLP,EAAQ19G,MAAM3B,KAAMjD,UACxB,CAeA,OAbKsiH,IAAUO,EAAWnnH,UAAY4mH,GACtCO,EAAWp/G,UAAYjI,OAAOuN,OAAQu5G,GAAWA,EAAQ7+G,WACzDo/G,EAAWp/G,UAAUhE,YAAcojH,EAEnCA,EAAWp/G,UAAUyzG,eAAiB,WAClCoL,EAAQ7+G,UAAUyzG,eAAe9yG,KAAKnB,MAEtCo/G,SAASp/G,KAAM,CACXtL,KAAM,wBACN4qH,aAAc,oBAEtB,EAEOM,CACX,CAnBiB,CAmBfP,SAEEE,UAAY,CACZM,SAAU,SAAkBvmH,GACxB,IAEIM,EACAkmH,EACAC,EAJA3F,EAAc,CAAC,EAAG,IAClB4F,EAAM1mH,EAAMO,OAAS,EAKzB,IAAKD,EAAM,EAAGA,EAAMN,EAAMO,OAAQD,IAC9BwgH,GAAaxgH,EAAMomH,GAAO,IAAMh2F,SAAS1wB,EAAMi8G,OAAO37G,GAAM,IAMhE,IAHAmmH,EAAS3F,EAAY,GACrB0F,GAA4B,EAAjB1F,EAAY,IAAQl5G,WAE1BtH,EAAM,EAAGA,EAAMkmH,EAAQjmH,OAAQD,IAChCmmH,GAAU/1F,SAAS81F,EAAQvK,OAAO37G,GAAM,IAG5C,MAAO,EAAE,GAAMmmH,EAAS,IAAO,GACnC,EACAE,SAAU,SAAkB3mH,GAOxB,IANA,IAII4mH,EAJArK,EAAc,EAEdh8G,EAASP,EAAMO,OAIVY,EAAI,EAAGA,EAAIZ,EAAQY,IAExBo7G,MADWh8G,EAASY,GAAK,GAAK,GAAK,GACXnB,EAAMi8G,OAAO96G,GAKzC,OAAmB,MAFnBylH,GAVU,GAUUrK,EAVV,QAaC,CAACqK,GAGL,CAAC,EAAG,EACf,EACAC,iBAAkB,SAA0B7mH,GACxC,IACI8mH,EADAhG,EAAcp6G,KAAKigH,SAAS3mH,GAIhC,OAFA8mH,EAAa9mH,EAAQ8gH,EAAY,GAE1BA,EAAYjyG,OAAOnI,KAAK6/G,SAASO,GAC5C,EACAC,iBAAkB,SAA0B/mH,GACxC,IACIgnH,EADAlG,EAAcp6G,KAAK6/G,SAASvmH,GAIhC,OAFAgnH,EAAahnH,EAAQ8gH,EAAY,GAE1BA,EAAYjyG,OAAOnI,KAAK6/G,SAASS,GAC5C,GAGAC,SAAWhoH,OAAO4a,OAElBqtG,MAAS,SAAUxM,GACnB,SAASwM,IACLxM,EAASryG,MAAM3B,KAAMjD,UACzB,CAiHA,OA/GKi3G,IAAWwM,EAAM/nH,UAAYu7G,GAClCwM,EAAMhgH,UAAYjI,OAAOuN,OAAQkuG,GAAYA,EAASxzG,WACtDggH,EAAMhgH,UAAUhE,YAAcgkH,EAE9BA,EAAMhgH,UAAUyzG,eAAiB,WAC7BD,EAASxzG,UAAUyzG,eAAe9yG,KAAKnB,MAEvCugH,SAASvgH,KAAM,CACXtL,KAAM,SACN+rH,SAAU,CACN,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEJ5L,aAAc,CACV6L,OAAQ,CACJ,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,EAAG,IAEdrgH,MAAO,CAAC,EAAG,EAAG,GACd6e,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,KAGjC,EAEAshG,EAAMhgH,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,EAAOmR,GAC1D,IAAIg1G,EAAgBlzF,OAAOn0B,GAE3B,GAA6B,KAAzBqnH,EAAc9mH,QAAiB,KAAKwD,KAAKsjH,GACzC,MAAM,IAAI5xE,MAAM,0DAGpB/uC,KAAK6mB,QAAU,GACf7mB,KAAK1F,QAAQqR,OAASA,EACtB3L,KAAKggC,SAAWxlC,GAAS,GAAKwF,KAAKk0G,iBACnCl0G,KAAK1G,MAAQqnH,EACb3gH,KAAK21G,SAAW31G,KAAK4gH,oBACrB5gH,KAAK6gH,QAAUF,EAAc,GAC7B3gH,KAAK8gH,SAAWH,EAAcxE,OAAO,EAAG,GACxCn8G,KAAK+gH,UAAYJ,EAAcxE,OAAO,GAAKn8G,KAAK21G,QACpD,EAEA6K,EAAMhgH,UAAU+zG,QAAU,WACtBv0G,KAAKghH,UAAUhhH,KAAK60G,aAAax0G,OACjCL,KAAKihH,QAAQjhH,KAAK8gH,SAAU9gH,KAAK6gH,SACjC7gH,KAAKghH,UAAUhhH,KAAK60G,aAAa31F,QACjClf,KAAKihH,QAAQjhH,KAAK+gH,WAClB/gH,KAAKghH,UAAUhhH,KAAK60G,aAAax0G,MACrC,EAEAmgH,EAAMhgH,UAAUygH,QAAU,SAAkBH,EAAUpgH,GAGlD,IAFA,IAAIuS,EAAWjT,KAENvF,EAAI,EAAGA,EAAIqmH,EAASjnH,OAAQY,IAC7BiG,GAAOspB,SAAS/W,EAASwtG,SAAS//G,GAAK60G,OAAO96G,GAAI,IAClDwY,EAAS+tG,UAAUznH,MAAMiH,UAAU8I,MAAMnI,KAAK8R,EAAS4hG,aAAa6L,OAAOI,EAASvL,OAAO96G,KAAK80B,WAAW,GAE3Gtc,EAAS+tG,UAAU/tG,EAAS4hG,aAAa6L,OAAOI,EAASvL,OAAO96G,KAAK,EAGjF,EAEA+lH,EAAMhgH,UAAUwgH,UAAY,SAAoBE,EAAUC,GAGtD,IAFA,IAAIluG,EAAWjT,KAENvF,EAAI,EAAGA,EAAIymH,EAASrnH,OAAQY,IAC7B0mH,EACAluG,EAAS4T,QAAQvnB,KAAK,CAClBwV,GAAI,EACJE,GAA8B,IAA1B/B,EAAS3Y,QAAQqR,OACrBnR,MAAO0mH,EAASzmH,KAGpBwY,EAAS4T,QAAQvnB,KAAK4hH,EAASzmH,GAG3C,EAEA+lH,EAAMhgH,UAAUogH,kBAAoB,WAKhC,IAJA,IAAIZ,EAAM,EACNoB,EAAO,EACP9nH,EAAQ0G,KAAK1G,MAAMwG,MAAM,IAAIyvB,UAAUvR,KAAK,IAEvCvjB,EAAI,EAAGA,EAAInB,EAAMO,OAAQY,IAC1BA,EAAI,EACJ2mH,GAAQp3F,SAAS1wB,EAAMi8G,OAAO96G,GAAI,IAElCulH,GAAOh2F,SAAS1wB,EAAMi8G,OAAO96G,GAAI,IAMzC,OAFgB,IAAO,EAAIulH,EAAMoB,GAAQ,IAAO,EAGpD,EAEOZ,CACX,CArHY,CAqHVxM,UAEEqN,SAAW9oH,OAAO4a,OAElBmuG,KAAQ,SAAUd,GAClB,SAASc,IACLd,EAAM7+G,MAAM3B,KAAMjD,UACtB,CA4BA,OA1BKyjH,IAAQc,EAAK7oH,UAAY+nH,GAC9Bc,EAAK9gH,UAAYjI,OAAOuN,OAAQ06G,GAASA,EAAMhgH,WAC/C8gH,EAAK9gH,UAAUhE,YAAc8kH,EAE7BA,EAAK9gH,UAAUyzG,eAAiB,WAC5BuM,EAAMhgH,UAAUyzG,eAAe9yG,KAAKnB,MAEpCqhH,SAASrhH,KAAM,CACXtL,KAAM,SAEd,EAEA4sH,EAAK9gH,UAAU8zG,UAAY,SAAoBh7G,EAAOkB,EAAOmR,GACzD,GAAqB,IAAjBrS,EAAMO,QAAgB,KAAKwD,KAAK/D,GAChC,MAAM,IAAIy1C,MAAM,0BAGpB/uC,KAAK1G,MAAQA,EACb0G,KAAK1F,QAAQqR,OAASA,EACtB3L,KAAK21G,SAAW31G,KAAK4gH,kBAAkB5gH,KAAK1G,OAC5C0G,KAAK8gH,SAAW9gH,KAAK1G,MAAM6iH,OAAO,EAAG,GACrCn8G,KAAK+gH,UAAY/gH,KAAK1G,MAAM6iH,OAAO,GAAKn8G,KAAK21G,SAC7C31G,KAAK6mB,QAAU,GACf7mB,KAAKggC,SAAWxlC,GAAS,GAAKwF,KAAKk0G,gBACvC,EAEOoN,CACX,CAhCW,CAgCTd,OAEEe,UAAY,CACZC,OAAQ5M,OAER6M,OAAQjL,OACRkL,eAAgB/H,eAEhBgI,OAAQ1H,OACR2H,eAAgBpH,eAEhBqH,QAAS3C,QACT4C,SAAU/C,SACVgD,SAAU/C,SACVgD,SAAU/C,UAWd,SAASgD,YAAYxoH,EAASyoH,GAC1B,IAAIryB,EAAUp2F,EAAQgE,MAAMoyF,QACR,WAAhBqyB,IAKAzoH,EAAQgE,MAAMoyF,QAAU,SAG5B,IAAIrqF,EAAO,CACPhL,MAAOf,EAAQ0oH,YACfx2G,OAAQlS,EAAQ2oH,cAKpB,OAFA3oH,EAAQgE,MAAMoyF,QAAUA,EAEjBrqF,CACX,CA3BA+7G,UAAU,WAAapC,WACvBoC,UAAUc,SAAW5C,SACrB8B,UAAUe,SAAW5C,SACrB6B,UAAUgB,WAAa5C,WACvB4B,UAAUiB,WAAa5C,WACvB2B,UAAUkB,QAAU7H,QACpB2G,UAAUmB,KAAOpB,KACjBC,UAAUoB,MAAQnC,MAsBlB,IAAIoC,sBAAwB,IACxBC,uBAAyB,IAEzBC,QAAW,SAAUnwH,GACrB,SAASmwH,EAAQrpH,EAASa,EAASyoH,QACT,IAAjBA,IAA0BA,EAAex4G,qBAE9C5X,EAAMwO,KAAKnB,MAEXA,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAKvG,QAAUA,EACfuG,KAAKgjH,QAAUD,EAEf/iH,KAAK6uF,eACL7uF,KAAKmvF,eACLnvF,KAAKijH,YAAY3oH,GAEbA,GAAWuI,QAAQvI,EAAQhB,QAC3B0G,KAAKq/D,QAEb,CA+QA,OA7QK1sE,IAAQmwH,EAAQrqH,UAAY9F,GACjCmwH,EAAQtiH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAClDsiH,EAAQtiH,UAAUhE,YAAcsmH,EAEhCA,EAAQtiH,UAAU0R,QAAU,WACxBlS,KAAK2xF,iBACT,EAEAmxB,EAAQtiH,UAAUquF,aAAe,WAC7Br1F,SAASwG,KAAKvG,QAAS,YAC3B,EAEAqpH,EAAQtiH,UAAU2uF,aAAe,WAC7B,IACI70F,EADM0F,KACQ1F,QACdwe,EAFM9Y,KAEQ8Y,QAEbA,GAAWA,EAAQxe,QAAQuJ,OAASvJ,EAAQo3F,WAC7C1xF,KAAK2xF,kBACL3xF,KAAKkjH,sBACLljH,KAAK8Y,QAAU9Y,KAAKmjH,iBAE5B,EAEAL,EAAQtiH,UAAU2iH,eAAiB,WAC/B,OAAOhvH,UAAU2R,OAAO9F,KAAK2Z,eAAgB,CACzC9V,KAAM7D,KAAK1F,QAAQo3F,UAE3B,EAEAoxB,EAAQtiH,UAAUmxF,gBAAkB,WAC5B3xF,KAAK8Y,UACL9Y,KAAK8Y,QAAQ5G,UACblS,KAAK8Y,QAAU,KACf9Y,KAAKojH,yBAEb,EAEAN,EAAQtiH,UAAU0iH,oBAAsB,WAC/BljH,KAAK2Z,iBACN3Z,KAAK2Z,eAAiBxV,SAASiD,cAAc,OAC7CpH,KAAK2Z,eAAelc,MAAMqxB,SAAW,WACrC9uB,KAAKvG,QAAQoN,YAAY7G,KAAK2Z,gBAEtC,EAEAmpG,EAAQtiH,UAAU4iH,uBAAyB,WACnCpjH,KAAK2Z,gBAAkB3Z,KAAK2Z,eAAes6D,aAC3Cj0E,KAAK2Z,eAAes6D,WAAWC,YAAYl0E,KAAK2Z,gBAChD3Z,KAAK2Z,eAAiB,KAE9B,EAEAmpG,EAAQtiH,UAAUo+F,WAAa,SAAqBtkG,GAChD0F,KAAKijH,YAAY3oH,GACjB0F,KAAKmvF,eACLnvF,KAAKq/D,QACT,EAEAyjD,EAAQtiH,UAAU6+D,OAAS,WACvB,IAAI75D,EAAOxF,KAAKmpG,WAEhBnpG,KAAK8Y,QAAQjP,QAEb7J,KAAK8Y,QAAQyuF,QAAQ,CACjB/sG,MAAOgL,EAAKhL,MACZmR,OAAQnG,EAAKmG,SAGjB3L,KAAK0iB,eAEL1iB,KAAK8Y,QAAQs5E,KAAKpyF,KAAK+iB,OAC3B,EAEA+/F,EAAQtiH,UAAUyvF,QAAU,WACxB,MAAO,CACHz1F,MAAOwF,KAAKvG,QAAQ02F,YACpBxkF,OAAQ3L,KAAKvG,QAAQmgF,aAE7B,EAEAkpC,EAAQtiH,UAAUgwF,QAAU,WACxBxwF,KAAKq/D,QACT,EAEAyjD,EAAQtiH,UAAUkiB,aAAe,WAC7B1iB,KAAK+iB,OAAS/iB,KAAKqjH,SACvB,EAEAP,EAAQtiH,UAAU6iH,QAAU,WACxB,IASIC,EACAC,EAVAjpH,EAAU0F,KAAK1F,QACfhB,EAAQgB,EAAQhB,MAChBq0B,EAAcrzB,EAAQwzB,KACtB01F,EAAa1lH,WAAW6vB,EAAY5G,QACpCvhB,EAAOxF,KAAKmpG,WACZ7jF,EAAShrB,EAAQgrB,QAAU,CAAC,EAC5Bg2F,EAAWt7G,KAAKs7G,SAChBh0F,EAAa,IAAIzK,IAAI,EAAG,EAAGrX,EAAKhL,MAAOgL,EAAKmG,QAAQiS,MAAM0H,EAAO9qB,OAAOojB,MAAMtjB,EAAQqjB,SACtF8lG,EAAYn8F,EAAW3b,SAIvBoX,EAAS,IAAI/vB,QAEjBgN,KAAKsnB,WAAaA,EAClBvE,EAAOpgB,OAAO3C,KAAK0jH,eAAel+G,IAE9BmoB,EAAYlL,UAEZghG,GADa3vH,YAAYwF,EAAO,CAAEkL,KAAMmpB,EAAYnpB,OAAQmH,OAClC63G,EAAWvlH,IAAMulH,EAAWrlH,QAG1D,IACImlH,EAAehI,EAASlH,OAAO96G,EAAOguB,EAAW9sB,QAASipH,EAC9D,CAAE,MAAOj5G,GAEL,OADAxK,KAAKgjH,QAAQx4G,GACNuY,CACX,CAgBA,OAdI4K,EAAYlL,UACZ8gG,EAAgBjqH,EAEZgB,EAAQq7G,UAAY9yG,QAAQy4G,EAAS3F,YACrC4N,GAAiB,IAAMjI,EAAS3F,UAGpC5yF,EAAOpgB,OAAO3C,KAAK2jH,SAASJ,KAGhCvjH,KAAKyjH,UAAYA,EACjBzjH,KAAK4jH,YAAc5jH,KAAK6jH,UAAUP,EAAaz8F,QAASy8F,EAAatjF,UACrEjd,EAAOpgB,OAAO3C,KAAK4jH,aAEZ7gG,CACX,EAEA+/F,EAAQtiH,UAAU+yF,aAAe,WAC7B,OAAOvzF,KAAKqjH,SAChB,EAEAP,EAAQtiH,UAAU2oG,SAAW,WACzB,IACInmG,EAAci/G,YADJjiH,KAAKvG,QACoBuG,KAAK1F,QAAQo3F,UAChDlsF,EAAO,IAAIlR,KAAKsuH,sBAAuBC,wBAkB3C,OAhBI7/G,EAAYxI,MAAQ,IACpBgL,EAAKhL,MAAQwI,EAAYxI,OAGzBwI,EAAY2I,OAAS,IACrBnG,EAAKmG,OAAS3I,EAAY2I,QAG1B3L,KAAK1F,QAAQE,QACbgL,EAAKhL,MAAQwF,KAAK1F,QAAQE,OAG1BwF,KAAK1F,QAAQqR,SACbnG,EAAKmG,OAAS3L,KAAK1F,QAAQqR,QAGxBnG,CACX,EAEAs9G,EAAQtiH,UAAUlH,MAAQ,SAAgBwqH,GACtC,IAAKjhH,QAAQihH,GACT,OAAO9jH,KAAK1F,QAAQhB,MAGxB0G,KAAK1F,QAAQhB,MAAQm0B,OAAOq2F,GAC5B9jH,KAAKq/D,QACT,EAEAyjD,EAAQtiH,UAAUqjH,UAAY,SAAoBh9F,EAASmZ,GASvD,IARA,IAII+jF,EACAC,EAHA18F,EAAatnB,KAAKsnB,WAClBs6C,EAAUt6C,EAAW1S,GAGrBsX,EAAQ,IAAIl5B,QAEPyH,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAAK,CASrC,GAFAspH,GANAC,EAAchnH,SAAS6pB,EAAQpsB,IAAMosB,EAAQpsB,GAAK,CAC9CD,MAAOqsB,EAAQpsB,GACfqa,GAAI,EACJE,GAZOhV,KAYMyjH,YAGGjpH,MAAQwlC,EAExBvlC,EAAI,EAAG,CACP,IAAIguB,EAAO71B,KAAK21B,WACZ,IAAI11B,QAAQ+uE,EAASoiD,EAAYlvG,GAAKwS,EAAWxS,IACjD,IAAIjiB,QAAQ+uE,EAAUmiD,EAAOC,EAAYhvG,GAAKsS,EAAWxS,KAGzD1a,EAAOrH,OAAOy0B,SAASiB,EAAM,CAC7BjE,KAAM,CACFzb,MAzBD/I,KAyBiB1F,QAAQyO,OAE5BxO,OAAQ,OAGZ2xB,EAAMvpB,OAAOvI,EACjB,CAEAwnE,GAAWmiD,CACf,CAEA,OAAO73F,CACX,EAEA42F,EAAQtiH,UAAUkjH,eAAiB,SAAyBl+G,GACxD,IAAIlL,EAAU0F,KAAK1F,QACfgrB,EAAShrB,EAAQgrB,QAAU,CAAC,EAC5BxI,EAAM,IAAID,IAAI,EAAG,EAAGrX,EAAKhL,MAAOgL,EAAKmG,QAAQiS,MAAM0H,EAAO9qB,MAAQ,GAYtE,OAXWzH,OAAOy0B,SAAS1K,EAAI0B,SAAU,CACrCgG,KAAM,CACFzb,MAAOzO,EAAQ8qB,YAEnB7qB,OAAQ,CACJwO,MAAOuc,EAAO9qB,MAAQ8qB,EAAOvc,MAAQ,GACrCvO,MAAO8qB,EAAO9qB,MACdktB,SAAUpC,EAAOoC,WAK7B,EAEAo7F,EAAQtiH,UAAUmjH,SAAW,SAAmBrqH,GAC5C,IAAIq0B,EAAc3tB,KAAK1F,QAAQwzB,KAC3BA,EAAO9tB,KAAKikH,SAAW,IAAI52F,QAAQ/zB,EAAO,CAC1CkL,KAAMmpB,EAAYnpB,KAClBuE,MAAO4kB,EAAY5kB,MACnB2V,MAAO,SACP0I,OAAQ,SACRL,OAAQ4G,EAAY5G,SAMxB,OAHA+G,EAAKhM,OAAO9hB,KAAKsnB,YACjBwG,EAAKtL,eAEEsL,EAAK/K,MAChB,EAEA+/F,EAAQtiH,UAAUyiH,YAAc,SAAsB3oH,GAalD,GAZA0F,KAAK6D,MAAQvJ,EAAQuJ,MAAQ7D,KAAK1F,QAAQuJ,MAAMgkC,cAE9B,SAAd7nC,KAAK6D,OACL7D,KAAK6D,KAAO,QACZvJ,EAAQhB,MAAQ,IAAMgB,EAAQhB,OAGhB,SAAd0G,KAAK6D,OACL7D,KAAK6D,KAAO,OACZvJ,EAAQhB,MAAQ,IAAMgB,EAAQhB,QAG7BioH,UAAUvhH,KAAK6D,MAChB,MAAM,IAAIkrC,MAAO,aAAgB/uC,KAAS,KAAI,uBAGlDA,KAAKs7G,SAAW,IAAIiG,UAAUvhH,KAAK6D,MAEnC7D,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEOwoH,CACX,CAjSc,CAiSZnwH,OAEFiR,kBAAkBk/G,QAAS,CACvBpuH,KAAM,UACNg9F,SAAU,MACVp4F,MAAO,GACPuK,KAAM,SACN8xG,UAAU,EACVn7G,MAAO,EACPmR,OAAQ,EACR5C,MAAO,QACPqc,WAAY,QACZ0I,KAAM,CACFrL,SAAS,EACTje,KAAM,0DACNuE,MAAO,QACPge,OAAQ,CACJ9oB,IAAK,EACLE,OAAQ,EACRC,KAAM,EACNF,MAAO,IAGfonB,OAAQ,CACJ9qB,MAAO,EACPktB,SAAU,QACV3e,MAAO,SAEX4U,QAAS,CACL1f,IAAK,EACLE,OAAQ,EACRC,KAAM,EACNF,MAAO,KAIf,IAAI88G,SAAW,SAAUM,EAAU91G,EAAM0+G,GAAU,OAAO,SAAU5qH,GAChE,IACIgiH,EAASlH,OACL8P,EAAS5qH,EACTkM,EAAKhL,MACLgL,EAAKmG,OAEb,CAAE,MAAOnB,GACL,MAAO,CACH25G,OAAO,EACP35G,MAAOA,EAEf,CAEA,MAAO,CACH25G,OAAO,EAEf,CAAG,EAGCC,aAAe,CAAE5pH,MAAO,IAAKmR,OAAQ,KAEzC,SAAS04G,iBAAiBxgH,EAAM2B,GAG5B,QAFc,IAATA,IAAkBA,EAAO4+G,eAEzBvgH,EACD,MAAM,IAAIkrC,MAAM,4CAGpB,IAAIu1E,EAAezgH,EAAKgkC,cACpBq8E,EAAS,GASb,GARqB,SAAjBI,GACAA,EAAe,QACfJ,EAAS,KACe,SAAjBI,IACPA,EAAe,OACfJ,EAAS,MAGR3C,UAAU+C,GACX,MAAM,IAAIv1E,MAAO,aAAelrC,EAAO,uBAG3C,IAAIy3G,EAAW,IAAIiG,UAAU+C,GAC7B,OAAOtJ,SAASM,EAAU91G,EAAM0+G,EACpC,CAEA,IAAIK,SAAWhsH,OAAO4a,OAEtB,SAASqxG,UAAUC,EAAKC,GAIpB,IAHA,IAAI9oH,EAAS,GACThC,EAAM,EAEHA,EAAM6qH,EAAI5qH,QACb+B,EAAO0D,KAAKmlH,EAAI1xF,UAAUn5B,EAAKA,EAAM8qH,IACrC9qH,GAAO8qH,EAGX,OAAO9oH,CACX,CAEA,SAAS+oH,aAAarrH,EAAOO,GACzB,IAAI+qH,EAAY/tH,OAAOyC,GAAO4H,SAAS,GAMvC,OAJI0jH,EAAU/qH,OAASA,IACnB+qH,EAAY,IAAIrrH,MAAMM,EAAS+qH,EAAU/qH,OAAS,GAAGmkB,KAAK,GAAK4mG,GAG5DA,CACX,CAEA,SAASC,UAAUvrH,GACf,OAAO0wB,SAAS1wB,EAAO,EAC3B,CAEA,IAAIwrH,gBAAmB,SAAUnyH,GAC7B,SAASmyH,EAAgBx8G,GACrB3V,EAAMwO,KAAKnB,MAEXA,KAAKsI,OAASA,EACdtI,KAAKiM,IAAM3D,EAAOzO,OAAS,EAC3BmG,KAAK4/F,OAASt3F,EAAOzO,OAAS,EAC9BmG,KAAK+kH,YAAc/kH,KAAK4/F,OACxB5/F,KAAKktC,KAAO,EACZltC,KAAK4I,EAAI,CACb,CA2CA,OAzCKjW,IAAQmyH,EAAgBrsH,UAAY9F,GACzCmyH,EAAgBtkH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC1DskH,EAAgBtkH,UAAUhE,YAAcsoH,EAExCA,EAAgBtkH,UAAUuN,KAAO,WAC7B/N,KAAKiM,KAAOjM,KAAKktC,IAAMltC,KAAK4I,EAC5B5I,KAAK4I,GAAK,EACV5I,KAAK4/F,OAAS5/F,KAAK+kH,YAAc/kH,KAAK4I,CAC1C,EAEAk8G,EAAgBtkH,UAAUwkH,YAAc,WAGpC,IAFA,IAAI/xG,EAAWjT,UAE+BwH,IAAvCxH,KAAKsI,OAAOtI,KAAKiM,KAAKjM,KAAK4/F,SAC9B3sF,EAASlF,QAELkF,EAAShH,IAAM,GAAKgH,EAAShH,KAAOgH,EAAS3K,OAAOzO,UACpDoZ,EAASi6B,KAAOj6B,EAASi6B,IACzBj6B,EAAS8xG,aAAwC,IAAzB9xG,EAAS8xG,YAAoB,EAAI,EACzD9xG,EAAS2sF,OAAS3sF,EAAS8xG,YAC3B9xG,EAAShH,IAAMgH,EAASi6B,IAAM,EAAIj6B,EAAS3K,OAAOzO,OAAS,EAAI,GAIvE,MAAO,CACHoS,IAAKjM,KAAKiM,IACV2zF,OAAQ5/F,KAAK4/F,OAErB,EAEAklB,EAAgBtkH,UAAUykH,qBAAuB,WAG7C,GAFAjlH,KAAK+N,YAEsCvG,IAAvCxH,KAAKsI,OAAOtI,KAAKiM,KAAKjM,KAAK4/F,QAC3B,MAAO,CACH3zF,IAAKjM,KAAKiM,IACV2zF,OAAQ5/F,KAAK4/F,OAGzB,EAEOklB,CACX,CAtDsB,CAsDpBnyH,OAEEuyH,eAAkB,SAAUvyH,GAC5B,SAASuyH,EAAeC,EAAYC,GAChCzyH,EAAMwO,KAAKnB,MAEXA,KAAKmlH,WAAaA,EAClBnlH,KAAKolH,QAAUA,CACnB,CAMA,OAJKzyH,IAAQuyH,EAAezsH,UAAY9F,GACxCuyH,EAAe1kH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACzD0kH,EAAe1kH,UAAUhE,YAAc0oH,EAEhCA,CACX,CAbqB,CAanBvyH,OAEE0yH,WAAc,SAAU1yH,GACxB,SAAS0yH,IACL1yH,EAAMgP,MAAM3B,KAAMjD,UACtB,CAeA,OAbKpK,IAAQ0yH,EAAW5sH,UAAY9F,GACpC0yH,EAAW7kH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACrD6kH,EAAW7kH,UAAUhE,YAAc6oH,EAEnCA,EAAW7kH,UAAU8kH,kBAAoB,SAA4BC,EAAaC,GAC9E,IAAIC,EAAQC,SAASH,GAEjBH,EAAUO,WADWC,sBAAsBH,GACFD,GACzCL,EAAaU,cAAcJ,EAAOL,GAEtC,OAAO,IAAIF,eAAeC,EAAYC,EAC1C,EAEOC,CACX,CAnBiB,CAmBf1yH,OAEEmzH,WAAc,SAAUnzH,GACxB,SAASmzH,IACLnzH,EAAMwO,KAAKnB,MAEXA,KAAKi0G,gBACT,CAqCA,OAnCKthH,IAAQmzH,EAAWrtH,UAAY9F,GACpCmzH,EAAWtlH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACrDslH,EAAWtlH,UAAUhE,YAAcspH,EAEnCA,EAAWtlH,UAAUyzG,eAAiB,WAClCsQ,SAASvkH,KAAM,CACX+lH,cAAe,GACfC,qBAAsB,IAE9B,EAEAF,EAAWtlH,UAAUylH,gBAAkB,SAA0Bb,GAC7D,OAAIA,EAAU,GACH,EACAA,EAAU,GACV,EAGJ,CACX,EAEAU,EAAWtlH,UAAU0lH,sBAAwB,SAAgCd,GACzE,OAAOplH,KAAKgmH,qBAAqBhmH,KAAKimH,gBAAgBb,GAAW,IACrE,EAEAU,EAAWtlH,UAAU2lH,mBAAqB,SAA6BtsH,EAAQurH,GAC3E,OAAOplH,KAAK+lH,cAAgBpB,aAAa9qH,EAAQmG,KAAKkmH,sBAAsBd,GAChF,EAEAU,EAAWtlH,UAAU4zG,OAAS,WAAqB,EAEnD0R,EAAWtlH,UAAU4lH,oBAAsB,WAAkC,EAE7EN,EAAWtlH,UAAUsrC,SAAW,WAAuB,EAEhDg6E,CACX,CA3CiB,CA2CfnzH,OAEE0zH,kBAAqB,SAAUP,GAC/B,SAASO,IACLP,EAAWnkH,MAAM3B,KAAMjD,UAC3B,CAqCA,OAnCK+oH,IAAaO,EAAkB5tH,UAAYqtH,GAChDO,EAAkB7lH,UAAYjI,OAAOuN,OAAQggH,GAAcA,EAAWtlH,WACtE6lH,EAAkB7lH,UAAUhE,YAAc6pH,EAE1CA,EAAkB7lH,UAAUyzG,eAAiB,WACzC6R,EAAWtlH,UAAUyzG,eAAe9yG,KAAKnB,MAEzCukH,SAASvkH,KAAM,CACXgmH,qBAAsB,CAAC,GAAI,GAAI,IAC/BD,cAAe,QAEvB,EAEAM,EAAkB7lH,UAAUsrC,SAAW,SAAmB2oE,GACtD,OAAOzqF,SAASyqF,EAAW,GAC/B,EAEA4R,EAAkB7lH,UAAU4zG,OAAS,SAAiBqQ,EAAKW,GACvD,IAGI3qH,EAFAi6D,EAAQ8vD,UAAUC,EAAK,GACvB7oH,EAFOoE,KAEOmmH,mBAAmB1B,EAAI5qH,OAAQurH,GAGjD,IAAK3qH,EAAI,EAAGA,EAAIi6D,EAAM76D,OAAS,EAAGY,IAC9BmB,GAAU+oH,aAAajwD,EAAMj6D,GAAI,IAGrC,OAAOmB,EAAS+oH,aAAajwD,EAAMj6D,GAAI,EAAI,EAAIi6D,EAAMj6D,GAAGZ,OAC5D,EAEAwsH,EAAkB7lH,UAAU4lH,oBAAsB,SAA8BE,EAAalB,GACzF,IAAImB,EAAOD,EAAc,EACzB,OAAO,EAAItmH,KAAKkmH,sBAAsBd,GAAW,GAAKhjH,KAAKK,MAAM6jH,EAAc,GAAK,EAAIC,GAAiB,IAATA,EAAa,EAAI,EACrH,EAEOF,CACX,CAzCwB,CAyCtBP,YAEEU,uBAA0B,SAAUV,GACpC,SAASU,IACLV,EAAWnkH,MAAM3B,KAAMjD,UAC3B,CA2FA,OAzFK+oH,IAAaU,EAAuB/tH,UAAYqtH,GACrDU,EAAuBhmH,UAAYjI,OAAOuN,OAAQggH,GAAcA,EAAWtlH,WAC3EgmH,EAAuBhmH,UAAUhE,YAAcgqH,EAE/CA,EAAuBhmH,UAAUyzG,eAAiB,WAC9C6R,EAAWtlH,UAAUyzG,eAAe9yG,KAAKnB,MAEzCukH,SAASvkH,KAAM,CACXymH,WAAY,CACR,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACL,EAAK,EACLzP,EAAK,GACLlqC,EAAK,GACLmqC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLC,EAAK,GACLrB,EAAK,GACL/+G,EAAK,GACLC,EAAK,GACLogH,EAAK,GACL,IAAK,GACLC,EAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,GACL,IAAK,IAET0N,qBAAsB,CAAC,EAAG,GAAI,IAC9BD,cAAe,QAEvB,EAEAS,EAAuBhmH,UAAUsrC,SAAW,SAAmB2oE,GAC3D,OAAOz0G,KAAKymH,WAAWhS,EAC3B,EAEA+R,EAAuBhmH,UAAU4zG,OAAS,SAAiBqQ,EAAKW,GAC5D,IAMI3qH,EAHAi6D,EAAQ8vD,UAAUC,EAAK,GACvB7oH,EAASoE,KAAKmmH,mBAAmB1B,EAAI5qH,OAAQurH,GAIjD,IAAK3qH,EAAI,EAAGA,EAAIi6D,EAAM76D,OAAS,EAAGY,IAE9BmB,GAAU+oH,aADF,GATG3kH,KASW8rC,SAAS4oB,EAAMj6D,GAAG86G,OAAO,IATpCv1G,KASmD8rC,SAAS4oB,EAAMj6D,GAAG86G,OAAO,IACzD,IAOlC,OAAO35G,EAAS+oH,aAJY,IAApBjwD,EAAMj6D,GAAGZ,OACb,GAAKmG,KAAK8rC,SAAS4oB,EAAMj6D,GAAG86G,OAAO,IAAMv1G,KAAK8rC,SAAS4oB,EAAMj6D,GAAG86G,OAAO,IACvEv1G,KAAK8rC,SAAS4oB,EAAMj6D,GAAG86G,OAAO,IAEE,EAAI,EAAI7gD,EAAMj6D,GAAGZ,OACzD,EAEA2sH,EAAuBhmH,UAAU4lH,oBAAsB,SAA8BE,EAAalB,GAC9F,OAAO,EAAIplH,KAAKkmH,sBAAsBd,GAAW,GAAKhjH,KAAKK,MAAM6jH,EAAc,GAAUA,EAAc,EAAnB,CACxF,EAEOE,CACX,CA/F6B,CA+F3BV,YAEEY,eAAkB,SAAUZ,GAC5B,SAASY,IACLZ,EAAWnkH,MAAM3B,KAAMjD,UAC3B,CAwCA,OAtCK+oH,IAAaY,EAAejuH,UAAYqtH,GAC7CY,EAAelmH,UAAYjI,OAAOuN,OAAQggH,GAAcA,EAAWtlH,WACnEkmH,EAAelmH,UAAUhE,YAAckqH,EAEvCA,EAAelmH,UAAUyzG,eAAiB,WACtC6R,EAAWtlH,UAAUyzG,eAAe9yG,KAAKnB,MAEzCukH,SAASvkH,KAAM,CACXgmH,qBAAsB,CAAC,EAAG,GAAI,IAC9BD,cAAe,QAEvB,EAEAW,EAAelmH,UAAUsrC,SAAW,SAAmB2oE,GACnD,IAAIyE,EAAOzE,EAAUuE,WAAW,GAEhC,GAAIE,GAAQ,KAAQ,KAAOA,GAAQA,GAAQ,IACvC,OAAOA,EAGX,MAAM,IAAInqE,MAAO,sCAAyC0lE,EAAY,KAC1E,EAEAiS,EAAelmH,UAAU4zG,OAAS,SAAiBqQ,EAAKW,GAIpD,IAHA,IACIxpH,EADOoE,KACOmmH,mBAAmB1B,EAAI5qH,OAAQurH,GAExC3qH,EAAI,EAAGA,EAAIgqH,EAAI5qH,OAAQY,IAC5BmB,GAAU+oH,aAJH3kH,KAIqB8rC,SAAS24E,EAAIlP,OAAO96G,IAAK,GAGzD,OAAOmB,CACX,EAEA8qH,EAAelmH,UAAU4lH,oBAAsB,SAA8BE,EAAalB,GACtF,OAAO,EAAIplH,KAAKkmH,sBAAsBd,GAAW,EAAIkB,CACzD,EAEOI,CACX,CA5CqB,CA4CnBZ,YAEEa,UAAY,UACZC,gBAAkB,eAClBC,OAAS,OAETC,kBAAoB,CAAC,EACzBA,kBAAkBH,WAAa,IAAIN,kBACnCS,kBAAkBF,iBAAmB,IAAIJ,uBACzCM,kBAAkBD,QAAU,IAAIH,eAEhC,IAAIK,OAAS,OAETC,YAAe,SAAUr0H,GACzB,SAASq0H,IACLr0H,EAAMwO,KAAKnB,MAEXA,KAAKi0G,iBAELj0G,KAAKinH,KAAOH,kBAAkB9mH,KAAKknH,aACvC,CAyEA,OAvEKv0H,IAAQq0H,EAAYvuH,UAAY9F,GACrCq0H,EAAYxmH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACtDwmH,EAAYxmH,UAAUhE,YAAcwqH,EAEpCA,EAAYxmH,UAAUyzG,eAAiB,WACnCsQ,SAASvkH,KAAM,CACXknH,aAAcH,OACdI,OAAQ,2BACRC,6BAA8B,GAC9B7zC,OAAQ,CAAC,IAAK,KAAM,MAAO,QAAS,WAE5C,EAEAyzC,EAAYxmH,UAAU8kH,kBAAoB,SAA4BC,EAAaC,GAC/E,IAAI55G,EAAO5L,KAAKo0G,OAAOmR,GAEnBH,EAAUO,WADW3lH,KAAK4lH,sBAAsBh6G,GACP45G,GACzCL,EAAanlH,KAAKinH,KAAKd,mBAAmBv6G,EAAK/R,OAAS,EAAGurH,GAAWx5G,EAE1E,OAAO,IAAIs5G,eAAeC,EAAYC,EAC1C,EAEA4B,EAAYxmH,UAAUolH,sBAAwB,SAAgCh6G,GAC1E,IAAI2jE,EAAa3jE,EAAK/R,OAGtB,OAFyBuI,KAAKI,MAAMxC,KAAKonH,6BAA+B73C,GAAc,EAG1F,EAEAy3C,EAAYxmH,UAAU4zG,OAAS,SAAiBqQ,GAK5C,IAJA,IAEI7oH,EAASoE,KAAKmnH,OAET1sH,EAAI,EAAGA,EAAIgqH,EAAI5qH,OAAQY,IAC5BmB,GALWoE,KAKQqnH,gBAAgB5C,EAAIzL,WAAWv+G,IAGtD,OAAOmB,CACX,EAEAorH,EAAYxmH,UAAU6mH,gBAAkB,SAA0BnO,GAC9D,IAAIoO,EAAatnH,KAAKunH,cAAcrO,GAChCsO,EAAKF,EAAa,EAClB1rH,EAAS,GAEb,GAAmB,IAAf0rH,EACA1rH,EAAS+oH,aAAazL,EAAM,OACzB,CAGH,IAFA,IAAIuO,EAAkB,EAAIH,EAEjB7sH,EAAI,EAAGA,EAAI+sH,EAAI/sH,IACpBmB,EAAS+oH,aAAazL,GAAa,EAAJz+G,EAAS,GAAK,IAAK,GAAKmB,EAG3DA,GAAWs9G,GAAa,EAALsO,EAAY,KAAOC,GAAoBA,GAAkBvmH,SAAS,GAAKtF,CAC9F,CAEA,OAAOA,CACX,EAEAorH,EAAYxmH,UAAU+mH,cAAgB,SAAwBrO,GAG1D,IAFA,IAAI3lC,EAASvzE,KAAKuzE,OAET94E,EAAI,EAAGA,EAAI84E,EAAO15E,OAAQY,IAC/B,GAAIy+G,EAAO3lC,EAAO94E,GACd,OAAOA,EAAI,CAGvB,EAEOusH,CACX,CAjFkB,CAiFhBr0H,OAEE+0H,6BAA+B,CAAC,CAChChQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,GAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IAERi8F,mBAAoB,EACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,GACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,GAAI,MAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,GAAI,MAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,MAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,IACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,GAAI,MAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,EAAG,IACJ,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,EAAG,KACJ,CAAC,GAAI,MAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,EAAG,KAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,KAE7B,CACClQ,EAAG,CACChsF,OAAQ,CACJ,CAAC,GAAI,KACL,CAAC,EAAG,MAERi8F,mBAAoB,KACpBC,uBAAwB,IAE5BjQ,EAAG,CACCjsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5B7P,EAAG,CACCrsF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,IAE5BtQ,EAAG,CACC5rF,OAAQ,CACJ,CAAC,GAAI,IACL,CAAC,GAAI,KAETi8F,mBAAoB,KACpBC,uBAAwB,MAI5BC,WAAa,OACbC,QAAU,UACVC,cAAgB,eAChBC,KAAO,OACPC,YAAc,CAAE,EAAK,GACrBC,kBAAoB,CAAE,EAAK,GAC3BC,wCAA0C,CACtC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAEhDC,cAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,GAC7BC,iBAAmB,CAAC,EAAG,EAAG,GAC1BC,wBAA0B,CAAE5Q,EAAG,KAAMC,EAAG,KAAMI,EAAG,KAAMT,EAAG,MAC1DiR,kBAAoB,kBACpBC,0BAA4B,cAC5BC,2BAA6B,gBAC7BC,iBAAmB,CAAC,WAAY,YAChCC,mBAAqB,GAGrBC,sBAAwB,CACpB,SAAU38G,EAAK2zF,GAAU,OAAQ3zF,EAAM2zF,GAAU,GAAM,CAAG,EAC1D,SAAU3zF,EAAK2zF,GAAU,OAAO3zF,EAAM,GAAM,CAAG,EAC/C,SAAUA,EAAK2zF,GAAU,OAAOA,EAAS,GAAM,CAAG,EAClD,SAAU3zF,EAAK2zF,GAAU,OAAQ3zF,EAAM2zF,GAAU,GAAM,CAAG,EAC1D,SAAU3zF,EAAK2zF,GAAU,OAAQx9F,KAAKK,MAAMwJ,EAAM,GAAK7J,KAAKK,MAAMm9F,EAAS,IAAM,GAAM,CAAG,EAC1F,SAAU3zF,EAAK2zF,GAAU,OAAS3zF,EAAM2zF,EAAU,EAAO3zF,EAAM2zF,EAAU,GAAO,CAAG,EACnF,SAAU3zF,EAAK2zF,GAAU,OAAU3zF,EAAM2zF,EAAU,EAAO3zF,EAAM2zF,EAAU,GAAM,GAAM,CAAG,EACzF,SAAU3zF,EAAK2zF,GAAU,QAAU3zF,EAAM2zF,GAAU,EAAO3zF,EAAM2zF,EAAU,GAAM,GAAM,CAAG,GAI7FipB,YAAc,OACdC,aAAe,kBACfC,kBAAoB,eACpBC,WAAa,IAAIzwE,OAAO,KAAOwwE,kBAAoB,MACnDE,kBAAoB,IAAI1wE,OAAO,KAAOuwE,aAAe,MACrDI,UAAY,IAAI3wE,OAAO,MAAQuwE,aAAe,MAC9CK,0BAA4B,EAC5BC,yBAA2B,EAC3BC,uBAAyB,EACzBC,sBAAwB,GACxBC,qBAAuB,EACvBC,mBAAqB,GAErBC,qBAAuB,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,IAE5C,SAASC,iBAAiBC,EAAUC,EAAK3uH,EAAGC,GACxC,IAAK,IAAIT,EAAI,EAAGA,EAAIkvH,EAAS9vH,OAAQY,IACjCkvH,EAASlvH,GAAGQ,GAAGC,GAAK0uH,CAE5B,CAEA,SAASC,aAAaF,EAAUC,EAAK3uH,EAAGC,GACpC,IAAK,IAAIT,EAAI,EAAGA,EAAImuH,sBAAsB/uH,OAAQY,IAC9CkvH,EAASlvH,GAAGQ,GAAGC,GAAK0tH,sBAAsBnuH,GAAGQ,EAAGC,GAAW,EAAN0uH,EAAU5/F,SAAS4/F,EAAK,GAErF,CAEA,SAASE,SAASH,EAAUI,GAMxB,IALA,IACIC,EACAC,EACAC,EAHAC,EAAc,IAAIrF,gBAAgB6E,EAAS,IAKtCS,EAAW,EAAGA,EAAWL,EAAOlwH,OAAQuwH,IAI7C,IAHAJ,EAAQD,EAAOK,GACfH,EAAc,EAEPD,EAAMnwH,OAAS,GAAG,CACrB,IAAK,IAAIY,EAAI,EAAGA,EAAIuvH,EAAMnwH,OAAQY,IAC9B,IAAK,IAAIkS,EAAI,EAAGA,EAAI,EAAGA,IACnBu9G,EAAOC,EAAYnF,cACnB6E,aAAaF,EAAUK,EAAMvvH,GAAGwvH,GAAa1U,OAAO5oG,GAAIu9G,EAAKj+G,IAAKi+G,EAAKtqB,QAM/E,IAFAqqB,IAEOD,EAAM,IAAMC,IAAgBD,EAAM,GAAGnwH,QACxCmwH,EAAMj3G,OAAO,EAAG,EAExB,CAGJ,KAAQm3G,EAAOC,EAAYlF,wBACvB4E,aAAaF,EAAU,EAAGO,EAAKj+G,IAAKi+G,EAAKtqB,OAEjD,CAEA,SAASyqB,cAAcC,EAAmB3C,GAMtC,IALA,IAAI4C,EAAqC,EAArB5C,EAChB6C,EAAkB,EAClBC,EAAuB,EACvBtF,EAAamF,EAEVnF,EAAWtrH,OAAS0wH,GAAiBC,EAAkB3C,WAAWhuH,QACrEsrH,GAAc0C,WAAWtS,OAAOiV,KAOpC,IAJIrF,EAAWtrH,OAAS,GAAM,IAC1BsrH,GAAc,IAAI5rH,MAAM,EAAI4rH,EAAWtrH,OAAS,GAAGmkB,KAAK,MAGrDmnG,EAAWtrH,OAAS0wH,GACvBpF,GAAcuD,iBAAiB+B,GAC/BA,GAAwB,EAG5B,OAAOtF,CACX,CAEA,SAASuF,sBACL,IAAI9uH,EACA4yC,EAEJ,IAAKA,EAAQ,EAAGA,EAAQ,IAAKA,KACzB5yC,EAAwC,EAA/BssH,kBAAkB15E,EAAQ,IACtB,MACT5yC,GAAkB,KAGtBssH,kBAAkB15E,GAAS5yC,EAC3BqsH,YAAYrsH,GAAU4yC,EAG1B5yC,EAAyC,EAA/BssH,kBAAkB15E,EAAQ,GAAU,IAC9C05E,kBAAkB15E,GAAS5yC,EAC3BssH,mBAAmB,GAAK,CAC5B,CAEA,SAASyC,eAAe1vH,EAAGC,GAIvB,IAHA,IAAIU,EAAS,GAGJnB,EAFCQ,EAAEpB,OAAS,EAEHY,GAAK,EAAGA,IACtBmB,EAAOnB,GAAKQ,EAAER,GAAKS,EAAET,GAGzB,OAAOmB,CACX,CAEA,SAASgvH,oBAAoB3vH,EAAGC,GAG5B,IAFA,IAAIU,EAAS,GAEJnB,EAAI,EAAGA,EAAIQ,EAAEpB,OAAQY,IAC1B,IAAK,IAAIkS,EAAI,EAAGA,EAAIzR,EAAErB,OAAQ8S,SACJnF,IAAlB5L,EAAOnB,EAAIkS,GACX/Q,EAAOnB,EAAIkS,IAAM1R,EAAER,IAAMS,EAAEyR,IAAM,EAAIzR,EAAEyR,GAAK,IAAM,IAElD/Q,EAAOnB,EAAIkS,GAAKs7G,YAAYC,kBAAkBtsH,EAAOnB,EAAIkS,IAAMu7G,mBAAmBjtH,EAAER,GAAKS,EAAEyR,IAAM,MAK7G,OAAO/Q,CACX,CAEA,SAASivH,+BAGL,IAFA,IAESjxH,EAAM,EAAGA,GAFqB,GAEoBA,IAAO,CAC9D,IAAIkxH,EAAkBrB,qBAAqB7vH,EAAM,GAC7CmxH,EAAmB,CAACnxH,EAAK,GAE7B6vH,qBAAqB7vH,GAAOgxH,oBAAoBE,EAAiBC,EACrE,CACJ,CAMA,SAASC,mBAAmBC,EAAYz8E,GACpC,IAAI5yC,EAAS,GACThC,EAAMqxH,EAAWpxH,OAAS,EAE9B,GACI+B,EAAOhC,GAAOsuH,mBAAmB+C,EAAWrxH,GAAO40C,GAAS,KAC5D50C,eAEuB4N,IAApByjH,EAAWrxH,IAElB,OAAOgC,CACX,CAEA,SAASsvH,uBAAuBt/G,EAAMu/G,GAClC,IAKIx+E,EACA/yC,EANAwxH,EAAY3B,qBAAqB0B,EAAsB,GACvDvvH,EAAS,IAAIrC,MAAM4xH,GAAqBhjH,OAAOyD,GAC/Cy/G,EAAsB,IAAI9xH,MAAMqC,EAAO/B,OAASuxH,EAAUvxH,QAAQsO,OAAOijH,GACzEE,EAAQ1/G,EAAK/R,OACb0xH,EAAiB,GAIrB,IAAK3xH,EAAM,EAAGA,EAAM0xH,EAAO1xH,IACvB+yC,EAAUq+E,mBAAmBK,EAAqBpD,YAAYrsH,EAAOA,EAAO/B,OAAS,KACrFwxH,EAAoBt4G,OAAO,EAAG,GAE9BnX,EAAS+uH,eAAeh+E,EAAS/wC,GAGrC,IAAKhC,EAAMgC,EAAO/B,OAAS,EAAGD,GAAO,EAAGA,IACpC2xH,EAAeJ,EAAsB,EAAIvxH,GAAO+qH,aAAa/oH,EAAOhC,GAAM,GAG9E,OAAO2xH,CACX,CAEA,SAASC,UAAUC,EAAYC,GAW3B,IAVA,IAGIC,EAEAC,EACAC,EACAC,EACAC,EARAC,EAAgB,EAChBC,EAAa,GACbC,EAAc,GAEdC,EAAgBT,EAA4BhgG,OAMvCO,EAAW,EAAGA,EAAWkgG,EAActyH,OAAQoyB,IAAY,CAChE4/F,EAAmBM,EAAclgG,GAAU,GAE3C,IAAK,IAAIm+F,EAAW,EAAGA,EAAWyB,EAAkBzB,IAAY,CAC5DwB,EAAsBO,EAAclgG,GAAU,GAC9C0/F,EAAY,GACZG,EAAoB,GAEpB,IAAK,IAAI7B,EAAc,EAAGA,GAAe2B,EAAqB3B,IAC1D8B,EAAWN,EAAW14F,UAAUi5F,EAAeA,EAAgB,GAC/DL,EAAUrsH,KAAKysH,GACfD,EAAkBF,EAAsB3B,GAAepF,UAAUkH,GACjEC,GAAiB,EAGrBC,EAAW3sH,KAAKqsH,GAChBO,EAAY5sH,KAAK4rH,uBAAuBY,EACpCJ,EAA4B9D,wBACpC,CACJ,CACA,MAAO,CAACqE,EAAYC,EACxB,CAEA,SAASE,WAAW3H,EAAK6E,EAAuBC,EAAsBC,EAAoB6C,GACtF,IAMIpF,EACAqF,EAPAC,EAAU1D,YAAYjwE,KAAK6rE,GAC3B+H,EAAeD,EAAUA,EAAQ,GAAK,GACtCv8E,EAAQg5E,WAAWpwE,KAAK6rE,GACxBgI,EAAaz8E,EAAQA,EAAM,GAAK,GAChC08E,EAAezD,kBAAkBrwE,KAAK6rE,GACtCkI,EAAoBD,EAAeA,EAAa,GAAK,GAuBzD,OAnBIF,IACCA,EAAa3yH,QAAUyvH,GAAyB7E,EAAI5qH,SAAW2yH,EAAa3yH,QAC5E2yH,EAAa3yH,QAAU0vH,IAAyBN,kBAAkB5rH,KAAKonH,EAAIlP,OAAOiX,EAAa3yH,WAChGotH,EAAOa,QACPwE,EAAaE,GACNG,IAAsBlI,EAAI5qH,SAAW8yH,EAAkB9yH,QAC9D8yH,EAAkB9yH,QAAU2vH,GAAsB6C,IAAiBtE,gBACnEd,EAAOc,cACPuE,EAAaE,GAAgBC,IAE7BxF,EAAOe,KAGHsE,EADAK,EACaA,EAAoBzD,UAAUtwE,KAAK6rE,EAAI1xF,UAAU45F,EAAkB9yH,SAAS,GAE5EqvH,UAAUtwE,KAAK6rE,GAAK,IAIlC,CACHwC,KAAMA,EACNqF,WAAYA,EAEpB,CAEA,SAAS5G,SAASH,GACd,IACI8G,EADA5G,EAAQ,GAER7rH,EAAM,EACN6qH,EAAMc,EAMV,IAJAE,EAAMnmH,KAAK8sH,WAAW3H,EAAK0E,0BAA2BC,yBAA0BC,uBAAwBgD,IACxGA,EAAe5G,EAAM,GAAGwB,KACxBxC,EAAMA,EAAItI,OAAOsJ,EAAM,GAAG6G,WAAWzyH,QAE9B4qH,EAAI5qH,OAAS,GAAG,CACnB,IAAI+yH,EAAWR,WAAW3H,EAAK6E,sBAAuBC,qBAAsBC,mBAAoB6C,GAE5FO,EAAS3F,OAASoF,GAClBA,EAAeO,EAAS3F,KACxBxB,EAAMnmH,KAAKstH,GACXhzH,KAEA6rH,EAAM7rH,GAAK0yH,YAAcM,EAASN,WAGtC7H,EAAMA,EAAItI,OAAOyQ,EAASN,WAAWzyH,OACzC,CAEA,OAAO4rH,CACX,CAEA,SAASG,sBAAsBH,GAI3B,IAHA,IAAI5rH,EAAS,EAGJY,EAAI,EAAGA,EAAIgrH,EAAM5rH,OAAQY,IAE9BZ,GADOitH,kBAAkBrB,EAAMhrH,GAAGwsH,MACnBb,oBAAoBX,EAAMhrH,GAAG6xH,WAAWzyH,QAG3D,OAAOuI,KAAKI,KAAK3I,EAAS,EAC9B,CAEA,SAAS8rH,WAAWkH,EAAoBrH,GACpC,IAAIvqH,EAAI,EACJC,EAAIwsH,6BAA6B7tH,OAAS,EAC1CurH,EAAUhjH,KAAKK,MAAMilH,6BAA6B7tH,OAAS,GAE/D,GACQgzH,EAAqBnF,6BAA6BtC,GAASI,GAAsBmC,mBACjFzsH,EAAIkqH,EAEJnqH,EAAImqH,EAGRA,EAAUnqH,EAAImH,KAAKK,OAAOvH,EAAID,GAAK,SAC9BC,EAAID,EAAI,GAEjB,OAAI4xH,GAAsBnF,6BAA6BzsH,GAAGuqH,GAAsBmC,mBACrEvC,EAAU,EAGdlqH,EAAI,CACf,CAEA,SAAS2qH,cAAcJ,EAAOL,GAI1B,IAHA,IAAID,EAAa,GAGR1qH,EAAI,EAAGA,EAAIgrH,EAAM5rH,OAAQY,IAE9B0qH,GADO2B,kBAAkBrB,EAAMhrH,GAAGwsH,MACf7S,OAAOqR,EAAMhrH,GAAG6xH,WAAYlH,GAGnD,OAAOD,CACX,CAGA,SAAS2H,wBAAwBp9F,GAC7B,IACIq9F,EACAnxH,EAAS,GAEb,GAAqB,IAJFipH,UAAUn1F,GAKzB,MAAO,kBAGXq9F,EAAgBC,UAAUnI,UAAUn1F,GAAS84F,0BAA2B,IAExE,IAAK,IAAI/tH,EAAI,EAAGA,EAAIsyH,EAAclzH,OAAQY,IACtCmB,GAAUmxH,EAAcxX,OAAO96G,GAAK8tH,kBAAkBhT,OAAO96G,GAGjE,OAAOmB,CACX,CAEA,SAASoxH,UAAU1zH,EAAO+xH,EAAqB4B,GAC3C,IAAIC,EAAkBrI,UAAUwG,GAC5B8B,EAAmB9B,EAAoBxxH,OAAS,EAChDuzH,EAAc9zH,GAAS6zH,EAEvBE,EAAc1I,aAAarrH,EADlB2zH,EAAaE,GAEtBvxH,EAAS0xH,kBAAkBF,EAAaF,GAI5C,OAFAtxH,EAASyxH,EAAc1I,aAAa/oH,EAAQuxH,EAGhD,CAEA,SAASG,kBAAkBC,EAASC,GAChC,IAAIC,EAAUD,EAAQtsH,SAAS,GAAGrH,OAC9B6zH,EAAUH,EAAQrsH,SAAS,GAAGrH,OAC9BoB,EAAIsyH,EAER,GAEIG,GADAzyH,GAAKuyH,GAAWE,EAAUD,GACdvsH,SAAS,GAAGrH,aAErB6zH,GAAWD,GAElB,OAAOxyH,CACX,CAEA,SAAS0yH,YAAYlJ,EAAK7qH,GACtB,OAAOowB,SAASy6F,EAAIlP,OAAO37G,GAAM,GACrC,CAEA,SAASg0H,aAAaxI,GAIlB,IAHA,IAAIuE,EAAW,GACXkE,EAAU,GAAK,EAAIzI,EAEd3qH,EAAI,EAAGA,EAAImuH,sBAAsB/uH,OAAQY,IAAK,CACnDkvH,EAASlvH,GAAK,IAAIlB,MAAMs0H,GAExB,IAAK,IAAIlhH,EAAI,EAAGA,EAAIkhH,EAASlhH,IACzBg9G,EAASlvH,GAAGkS,GAAK,IAAIpT,MAAMs0H,EAEnC,CAEA,OAAOlE,CACX,CAEA,SAASmE,qBAAqBnE,EAAUh3F,GACpC,IACI13B,EACAC,EAFAoN,EAASqhH,EAAS,GAGlB/vH,EAAM,EACNC,EAAS84B,EAAa94B,OAE1B,IAAKoB,EAAI,EAAGC,EAAI,EAAGD,GAAK,EAAGA,IACb,IAANA,GACAyuH,iBAAiBC,EAAUgE,YAAYh7F,EAAc94B,EAAS,EAAID,KAAQqB,EAAGC,GAIrF,IAAKD,EAAI,EAAGC,EAAI,EAAGA,GAAK,EAAGA,IACb,IAANA,GACAwuH,iBAAiBC,EAAUgE,YAAYh7F,EAAc94B,EAAS,EAAID,KAAQqB,EAAGC,GAMrF,IAFAtB,EAAM,EAEDsB,EAAIoN,EAAOzO,OAAS,EAAGoB,EAAI,EAAGC,GAAKoN,EAAOzO,OAAS,EAAGqB,IACvDwuH,iBAAiBC,EAAUgE,YAAYh7F,EAAc94B,EAAS,EAAID,KAAQqB,EAAGC,GAKjF,IAFAwuH,iBAAiBC,EAAU,EAAGrhH,EAAOzO,OAAS,EAAG,GAE5CoB,EAAIqN,EAAOzO,OAAS,EAAGqB,EAAI,EAAGD,EAAIqN,EAAOzO,OAAQoB,IAClDyuH,iBAAiBC,EAAUgE,YAAYh7F,EAAc94B,EAAS,EAAID,KAAQqB,EAAGC,EAErF,CAEA,SAAS6yH,yBAAyB3I,GAC9B,OAAO4H,UAAU5H,EAASqD,2BAA4B,GAC1D,CAEA,SAASuF,sBAAsBrE,EAAUxE,GAWrC,IAVA,IAMI8I,EACAC,EACA50H,EAPAu0H,EADSlE,EAAS,GACD9vH,OAEjBib,EAAK+4G,EAAU,GACf94G,EAAK84G,EAAU,GAMVj0H,EAAM,EAAGA,EAAMurH,EAAWtrH,OAAQD,IACvCq0H,EAAW7rH,KAAKK,MAAM7I,EAAM,GAC5Bs0H,EAAMt0H,EAAM,EAGZ8vH,iBAAiBC,EAFjBrwH,EAAQq0H,YAAYxI,EAAYA,EAAWtrH,OAASD,EAAM,GAXrD,EAakCq0H,EAAUn5G,EAAKo5G,GACtDxE,iBAAiBC,EAAUrwH,EAAOyb,EAAKm5G,EAXlC,EAW4CD,EAEzD,CAEA,SAASE,kBAAkBxE,EAAU9iG,EAAS5rB,EAAGC,GAK7C,IAJA,IAEI5B,EAFAkM,EAAOqhB,EAAQhtB,OAAS,EACxBA,EAASgtB,EAAQhtB,OAAS,EAGrBY,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAChC,IAAK,IAAIkS,EAAIlS,EAAGkS,EAAInH,EAAO/K,EAAGkS,IAG1B+8G,iBAAiBC,EAFjBrwH,EAAQutB,EAAQpsB,GAEkBQ,EAAI0R,EAAGzR,EAAIT,GAC7CivH,iBAAiBC,EAAUrwH,EAAO2B,EAAIR,EAAGS,EAAIyR,GAC7C+8G,iBAAiBC,EAAUrwH,EAAO2B,EAAIpB,EAAS8S,EAAGzR,EAAIrB,EAASY,GAC/DivH,iBAAiBC,EAAUrwH,EAAO2B,EAAIpB,EAASY,EAAGS,EAAIrB,EAAS8S,EAG3E,CAEA,SAASyhH,mBAAmBzE,EAAUlkD,EAAWxqE,EAAGC,GAChD,IAAImzH,EAAQpzH,EACRqzH,EAAQpzH,EACRoN,EAASqhH,EAAS,GAEtB,GACID,iBAAiBC,EAAU,EAAG0E,EAAOnzH,GACrCwuH,iBAAiBC,EAAU,EAAG1uH,EAAGqzH,GACjCD,GAAS5oD,EAAU,GACnB6oD,GAAS7oD,EAAU,SAEhB4oD,GAAS,GAAKA,EAAQ/lH,EAAOzO,OACxC,CAEA,SAAS00H,kBAAkB5E,GACvB,IAAIkE,EAAUlE,EAAS,GAAG9vH,OAE1Bs0H,kBAAkBxE,EAAUvB,cAAe,EAAG,GAC9CgG,mBAAmBzE,EAAU,EAAE,GAAI,GAAI,EAAG,GAC1CwE,kBAAkBxE,EAAUvB,cAAeyF,EAAU,EAAG,GACxDO,mBAAmBzE,EAAU,CAAC,GAAI,GAAIkE,EAAU,EAAG,GACnDM,kBAAkBxE,EAAUvB,cAAe,EAAGyF,EAAU,GACxDO,mBAAmBzE,EAAU,EAAE,EAAG,GAAI,EAAGkE,EAAU,EACvD,CAEA,SAASW,qBAAqB7E,EAAUvE,GACpC,KAAIA,EAAU,GAAd,CAIA,IAIIqJ,EACAr5G,EALA9M,EAASqhH,EAAS,GAClBkE,EAAUvlH,EAAOzO,OACjBg+D,EAAcz1D,KAAKK,MAAM2iH,EAAU,GACnCtnG,EAAS,CAAC,GAGVlkB,EAAM,EAUV,KARK60H,EAAgBtG,wCAAwC/C,IACzDhwG,GAAYy4G,EAAU,GAAKY,GAAiB52D,EAE5C42D,EAAgBr5G,GAAYy4G,EAAU,KAAOh2D,EAAc,GAG/D/5C,EAAOxe,KAAKwe,EAAOlkB,KAAS60H,GAEpB3wG,EAAOlkB,GAAOwb,EAAYy4G,GAC9B/vG,EAAOxe,KAAKwe,EAAOlkB,KAASwb,GAGhC,IAAK,IAAI3a,EAAI,EAAGA,EAAIqjB,EAAOjkB,OAAQY,IAC/B,IAAK,IAAIkS,EAAI,EAAGA,EAAImR,EAAOjkB,OAAQ8S,SACMnF,IAAjCc,EAAOwV,EAAOrjB,IAAIqjB,EAAOnR,KACzBwhH,kBAAkBxE,EAAUtB,iBAAkBvqG,EAAOrjB,GAAK,EAAGqjB,EAAOnR,GAAK,EAzBrF,CA6BJ,CAEA,SAAS+hH,mBAAmB/E,GAMxB,IALA,IAEIrwH,EAAQ,EACRu0H,EAAUlE,EAAS,GAAG9vH,OAEjBY,EAAI,EAAGA,EAAIozH,EAAU,EAAGpzH,IAC7BivH,iBAAiBC,EAAUrwH,EANrB,EAMiCmB,GACvCivH,iBAAiBC,EAAUrwH,EAAOmB,EANzB,GAOTnB,GAAS,CAEjB,CAEA,SAASq1H,kBAAkBhF,GACvB,IAKIrhH,EACA7N,EANAm0H,EAAS,GACTC,EAAe,GACfC,EAAc,GACd3V,EAAW,GACX4V,EAAmB,GAKnBC,EAAgBrF,EAAS,GAAG9vH,OAEhC,IAAKY,EAAI,EAAGA,EAAIkvH,EAAS9vH,OAAQY,IAC7Bm0H,EAAOn0H,GAAK,EACZq0H,EAAYr0H,GAAK,EACjBs0H,EAAiBt0H,GAAK,CAAC,EAAG,GAC1B0+G,EAAS1+G,GAAK,CAAC,EAAG,GAClBo0H,EAAap0H,GAAK,GAGtB,IAAK,IAAIw0H,EAAW,EAAGA,EAAWD,EAAeC,IAC7C,IAAK,IAAIC,EAAc,EAAGA,EAAcF,EAAeE,IACnD,IAAK,IAAIC,EAAc,EAAGA,EAAcxF,EAAS9vH,OAAQs1H,IACrD7mH,EAASqhH,EAASwF,GAClBL,EAAYK,IAAgBnlG,SAAS1hB,EAAO2mH,GAAUC,GAAc,IAEhEL,EAAaM,GAlBnB,KAkByC7mH,EAAO2mH,GAAUC,IACpDD,EAAW,EAAID,GACfE,EAAc,GAAK,GACnB5mH,EAAO2mH,EAAW,GAAGC,KAAiBL,EAAaM,GArBzD,IAsBM7mH,EAAO2mH,EAAW,GAAGC,EAAc,KAAOL,EAAaM,GAtB7D,KAuBMP,EAAOO,IAAgB,GAG3BC,4BAA4BD,EAAahW,EAAUyV,EA1BrD,EA0BkEtmH,EAAO2mH,GAAUC,IACjFE,4BAA4BD,EAAahW,EAAUyV,EA1BlD,EA0BkEtmH,EAAO4mH,GAAaD,IACvFI,sBAAsBF,EAAaP,EAAQC,EAAcvmH,EAAO2mH,GAAUC,GAAcH,EA5B1F,GA6BEM,sBAAsBF,EAAaP,EAAQC,EAAcvmH,EAAO4mH,GAAaD,GAAWF,EA5BvF,GAiCb,IACIhnF,EADAjjB,EAAQkqG,EAAgBA,EAExBznH,EAAM1Q,OAAOD,UAEjB,IAAK6D,EAAI,EAAGA,EAAIm0H,EAAO/0H,OAAQY,IAC3Bm0H,EAAOn0H,IAAM60H,+BAA+BR,EAAYr0H,GAAIqqB,GAExD8pG,EAAOn0H,GAAK8M,IACZA,EAAMqnH,EAAOn0H,GACbstC,EAASttC,GAIjB,OAAOstC,CACX,CAEA,SAASqnF,4BAA4Bx1H,EAAKu/G,EAAUyV,EAAQW,EAAW3F,GACnEzQ,EAASv/G,GAAK21H,IAAepW,EAASv/G,GAAK21H,IAAc,EAAK3F,GAAO,IAEjEzQ,EAASv/G,GAAK21H,KAAe5G,qBAC7BiG,EAAOh1H,IAAQ,GAEvB,CAEA,SAASy1H,sBAAsBz1H,EAAKg1H,EAAQC,EAAcjF,EAAK4F,EAAcD,GACrEV,EAAaj1H,GAAK21H,KAAe3F,EACjC4F,EAAa51H,GAAK21H,MAElBV,EAAaj1H,GAAK21H,GAAa3F,EAE3B4F,EAAa51H,GAAK21H,IAAc,IAChCX,EAAOh1H,IAAQ,EAAI41H,EAAa51H,GAAK21H,GAAa,GAGtDC,EAAa51H,GAAK21H,GAAa,EAEvC,CAEA,SAASD,+BAA+BR,EAAahqG,GACjD,IAAI2qG,EAAUrtH,KAAKK,MAAOqsH,EAAchqG,EAAS,KAC7C4qG,EAAOD,EAAU,EACjBE,EAAWvtH,KAAKkZ,IAAIm0G,EAAUC,EAAO,IACrCnpF,EAAOnkC,KAAKkZ,IAAIm0G,EAAU,EAAIC,EAAO,IAGzC,OAFY,GAAKttH,KAAKmF,IAAIooH,EAAW,EAAGppF,EAAO,EAGnD,CAEA,SAASqpF,wBAAwBtU,GAC7B,OAAIA,GAAYA,EAASzzE,cAAc9tC,QAAQ,UAAY,EAChD,IAAIitH,YAGR,IAAI3B,UACf,CAEA,SAASwK,WAAWtK,EAAaC,EAAsBlK,GACnD,IACIwU,EADUF,wBAAwBtU,GACTgK,kBAAkBC,EAAaC,GACxDJ,EAAU0K,EAAe1K,QACzB2K,EAAqBrI,6BAA6BtC,EAAU,GAAGI,GAE/DuE,EAASyB,UADInB,cAAcyF,EAAe3K,WAAY4K,EAAmBpI,oBAC1CoI,GAC/BpG,EAAWiE,aAAaxI,GAE5BmJ,kBAAkB5E,GAClB6E,qBAAqB7E,EAAUvE,GAC/BsJ,mBAAmB/E,GAEfvE,GAAW,GACX4I,sBAAsBrE,EAAUhF,aAAa,EAAG,KAGpDmJ,qBAAqBnE,EAAUhF,aAAa,EAAG,KAC/CmF,SAASH,EAAUI,GAEnB,IAAIhiF,EAAS4mF,kBAAkBhF,GAC3BqG,EAAgBrG,EAAS5hF,GAS7B,OAPIq9E,GAAW,GACX4I,sBAAsB,CAACgC,GAAgBjC,yBAAyB3I,IAIpE0I,qBAAqB,CAACkC,GAAgBlD,wBADnBxE,wBAAwB9C,GAAwBb,aAAa58E,EAAQ,KAGjFioF,CACX,CAzgBAtF,sBACAG,+BA0gBA,IAAIjwH,MAAQwH,KAAKxH,MACbq1H,aAAe,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,EAAG,IACtGC,cAAgB,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,IAErCC,eAAiB,CACjBC,aAAc,IACdC,kBAAmB,EACnBC,+BAAgC,IAChCC,mBAAoB,OACpBC,0BAA2B,OAC3BC,mBAAoB,EACpBC,kBAAmB,GAGnBC,OAAU,SAAUh+H,GACpB,SAASg+H,EAAOl3H,EAASa,EAASyoH,QACR,IAAjBA,IAA0BA,EAAex4G,qBAE9C5X,EAAMwO,KAAKnB,MAEXA,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAKvG,QAAUA,EACfuG,KAAKoF,QAAUpF,KAAKvG,QACpBuG,KAAKgjH,QAAUD,EAEf/iH,KAAK6uF,eACL7uF,KAAKmvF,eAELnvF,KAAK4+F,WAAWtkG,EACpB,CAqVA,OAnVK3H,IAAQg+H,EAAOl4H,UAAY9F,GAChCg+H,EAAOnwH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACjDmwH,EAAOnwH,UAAUhE,YAAcm0H,EAE/BA,EAAOnwH,UAAU0R,QAAU,WACvBlS,KAAK2xF,iBACT,EAEAg/B,EAAOnwH,UAAUquF,aAAe,WAC5Br1F,SAASwG,KAAKvG,QAAS,WAC3B,EAEAk3H,EAAOnwH,UAAU2uF,aAAe,WAC5B,IACI70F,EADM0F,KACQ1F,QACdwe,EAFM9Y,KAEQ8Y,QAEbA,GAAWA,EAAQxe,QAAQuJ,OAASvJ,EAAQo3F,WAC7C1xF,KAAK2xF,kBACL3xF,KAAKkjH,sBACLljH,KAAK8Y,QAAU9Y,KAAKmjH,iBAE5B,EAEAwN,EAAOnwH,UAAU2iH,eAAiB,WAC9B,OAAOhvH,UAAU2R,OAAO9F,KAAK2Z,eAAgB,CACzC9V,KAAM7D,KAAK1F,QAAQo3F,UAE3B,EAEAi/B,EAAOnwH,UAAUmxF,gBAAkB,WAC3B3xF,KAAK8Y,UACL9Y,KAAK8Y,QAAQ5G,UACblS,KAAK8Y,QAAU,KACf9Y,KAAKojH,yBAEb,EAEAuN,EAAOnwH,UAAU0iH,oBAAsB,WAC9BljH,KAAK2Z,iBACN3Z,KAAK2Z,eAAiBxV,SAASiD,cAAc,OAC7CpH,KAAK2Z,eAAelc,MAAMqxB,SAAW,WACrC9uB,KAAKvG,QAAQoN,YAAY7G,KAAK2Z,gBAEtC,EAEAg3G,EAAOnwH,UAAU4iH,uBAAyB,WAClCpjH,KAAK2Z,gBAAkB3Z,KAAK2Z,eAAes6D,aAC3Cj0E,KAAK2Z,eAAes6D,WAAWC,YAAYl0E,KAAK2Z,gBAChD3Z,KAAK2Z,eAAiB,KAE9B,EAEAg3G,EAAOnwH,UAAU6+D,OAAS,WACtB,IAAI75D,EAAOxF,KAAKmpG,WAEhBnpG,KAAK8Y,QAAQjP,QAEb7J,KAAK8Y,QAAQyuF,QAAQ,CACjB/sG,MAAOgL,EACPmG,OAAQnG,IAGZxF,KAAK0iB,eAEL1iB,KAAK8Y,QAAQs5E,KAAKpyF,KAAK+iB,OAC3B,EAEA4tG,EAAOnwH,UAAUyvF,QAAU,WACvB,IAAIx2F,EAAUuG,KAAKvG,QACfm3H,EAAen3H,EAAQ0oH,YACvB0O,EAAgBp3H,EAAQ2oH,aACxB58G,EAAO,CAAEhL,MAAO,EAAGmR,OAAQ,GAU/B,OARIilH,EAAe,IACfprH,EAAKhL,MAAQo2H,GAGbC,IACArrH,EAAKmG,OAASklH,GAGXrrH,CACX,EAEAmrH,EAAOnwH,UAAUgwF,QAAU,WACvBxwF,KAAKq/D,QACT,EAEAsxD,EAAOnwH,UAAUkiB,aAAe,WAC5B1iB,KAAK+iB,OAAS/iB,KAAKqjH,SACvB,EAEAsN,EAAOnwH,UAAU+yF,aAAe,WAC5B,OAAOvzF,KAAKqjH,SAChB,EAEAsN,EAAOnwH,UAAU6iH,QAAU,WACvB,IACIrjF,EAIA8wF,EACAxoH,EACA9C,EAEAurH,EATAz3H,EAAQ0G,KAAKy7E,OAEbn2D,EAAStlB,KAAK1F,QAAQgrB,QAAU,CAAC,EACjC3H,EAAU3d,KAAK1F,QAAQqjB,SAAW,EAClCuJ,EAAc5B,EAAO9qB,OAAS,EAOlC8qB,EAAO9qB,MAAQ0sB,EAEf,IAAInE,EAAS,IAAI/vB,QAEjB,IACQsG,IACAgP,EAASunH,WAAWv2H,EAAO0G,KAAK1F,QAAQ02H,gBAAiBhxH,KAAK1F,QAAQghH,UAEtEyV,GADAvrH,EAAOxF,KAAKmpG,YACS,GAAKjiF,EAAcvJ,GACxCqiB,EAAWhgC,KAAKixH,mBAAmBF,EAAazoH,EAAOzO,QAEvDi3H,EAAgB5pG,EAAcvJ,GAAWozG,EAD9BzoH,EAAOzO,OAASmmC,GACwC,EAEnEjd,EAAOpgB,OAAO3C,KAAKkxH,kBAAkB1rH,EAAM8f,IAC3CvC,EAAOpgB,OAAO3C,KAAKmxH,cAAc7oH,EAAQ03B,EAAU8wF,IAE/C9wH,KAAKoxH,iBACLruG,EAAOpgB,OAAO3C,KAAKqxH,YAAY7rH,EAAMw6B,IAC9BhgC,KAAKsxH,YACZvuG,EAAOpgB,OAAO3C,KAAKuxH,iBAAiB/rH,EAAMw6B,IAGtD,CAAE,MAAOx1B,GACLxK,KAAKgjH,QAAQx4G,EACjB,CAEA,OAAOuY,CACX,EAEA4tG,EAAOnwH,UAAU6wH,YAAc,SAAsBG,EAAQxxF,GACzD,IACIyxF,EACAt8G,EAASva,MAAM42H,EAAS,GACxBE,EAAW1xH,KAAK2xH,aAAa3xF,EAAWmwF,eAAeO,mBACvDkB,EAAU5xH,KAAK1F,QAAQorB,QAAQmsG,SAC/B/iG,EAAW,CACX7zB,EAAGka,EAASu8G,EAASl3H,MAAQ,EAC7BU,EAAGia,EAASu8G,EAAS/lH,OAAS,GAUlC,OAPA8lH,EAAY,IAAI7+H,KACZ,IAAIC,QAAQi8B,EAAS7zB,EAAG6zB,EAAS5zB,GACjC,IAAI5G,KAAKo9H,EAASl3H,MAAOk3H,EAAS/lH,SAG9B,IAAIpX,MAAMq9H,EAASH,EAG/B,EAEAd,EAAOnwH,UAAU+wH,iBAAmB,SAA2BC,EAAQxxF,GACnE,IAAI0xF,EAAW1xH,KAAK2xH,aAAa3xF,EAAWmwF,eAAeO,mBAEvDoB,GADJJ,EAAWtvH,KAAKC,IAAIqvH,EAASl3H,MAAOk3H,EAAS/lH,SAClB,EACvBomH,EAAcD,EAAY,EAC1B38G,EAASq8G,EAAS,EAClBnxH,EAAQ,CAAC,EACT0iB,EAAS,IAAI/vB,QAYjB,OAVAqN,EAAMpF,EAAIoF,EAAMnF,EAAIkH,KAAKI,KAAK2S,EAAS6qB,EAAW0xF,EAAW,GAC7D3uG,EAAOpgB,OAAO3C,KAAKgyH,aAAa3xH,EAAO+B,KAAKI,KAAKkvH,EAAsB,EAAX1xF,GAAekwF,cAAe,SAE1F7vH,EAAMpF,EAAIoF,EAAMnF,EAAIia,EAASu8G,EAAW,EACxC3uG,EAAOpgB,OAAO3C,KAAKgyH,aAAa3xH,EAAOqxH,EAAUxB,cAAelwH,KAAK1F,QAAQyO,QAE7E1I,EAAMpF,EAAIka,EAAS48G,EAAcL,EAAW,EAC5CrxH,EAAMnF,EAAIia,EAAS48G,EAAcD,EAAYJ,EAAW,EACxD3uG,EAAOpgB,OAAO3C,KAAKgyH,aAAa3xH,EAAOyxH,EAAW7B,aAAc,SAEzDltG,CACX,EAEA4tG,EAAOnwH,UAAUwxH,aAAe,SAAuB3xH,EAAO60B,EAAMrO,EAAS9d,GACzE,IAAI3O,EAAO,IAAI3G,UAAU,CACrB+wB,KAAM,CACFzb,MAAOA,GAEXxO,OAAQ,OAGZH,EAAKouB,OAAOnoB,EAAMpF,EAAGoF,EAAMnF,GAE3B,IAAK,IAAIT,EAAI,EAAGA,EAAIosB,EAAQhtB,OAAQY,IAChCL,EAAKsnB,OAAOrhB,EAAMpF,EAAIi6B,EAAOrO,EAAQpsB,GAAG,GAAI4F,EAAMnF,EAAIg6B,EAAOrO,EAAQpsB,GAAG,IAK5E,OAFAL,EAAKmnB,QAEEnnB,CACX,EAEAu2H,EAAOnwH,UAAU2oG,SAAW,WACxB,IAAI3jG,EAEJ,GAAIxF,KAAK1F,QAAQkL,KACbA,EAAOwkB,SAAShqB,KAAK1F,QAAQkL,KAAM,QAChC,CACH,IACIxC,EAAci/G,YADJjiH,KAAKvG,QACoBuG,KAAK1F,QAAQo3F,UAChDnqF,EAAMnF,KAAKmF,IAAIvE,EAAYxI,MAAOwI,EAAY2I,QAG9CnG,EADA+B,EAAM,EACCA,EAEA4oH,eAAeC,YAE9B,CAEA,OAAO5qH,CACX,EAEAmrH,EAAOnwH,UAAUywH,mBAAqB,SAA6BzrH,EAAMysH,GACrE,IAAIjyF,EAAW59B,KAAKK,MAAM+C,EAAOysH,GAEjC,GAAIjyF,EAAWmwF,eAAeM,mBAAoB,CAC9C,IAAIz4D,EAAU51D,KAAKI,KAAKyvH,EAAa9B,eAAeM,oBACpDzwH,KAAKgjH,QAAQ,IAAIj0E,MACZ,sDAAwDvpC,EAAO,8BAAgCwyD,EAAU,OAElH,MAAWh4B,EAAWiyF,GAAczsH,GAChCw6B,EAAW,GAAKmwF,eAAeM,oBAC/BzwF,IAGJ,OAAOA,CACX,EAEA2wF,EAAOnwH,UAAU2wH,cAAgB,SAAwB7oH,EAAQ03B,EAAU8wF,GAQvE,IAPA,IAAI12H,EAAO,IAAI3G,UAAU,CACrB+wB,KAAM,CACFzb,MAAO/I,KAAK1F,QAAQyO,OAExBxO,OAAQ,OAGH0R,EAAM,EAAGA,EAAM3D,EAAOzO,OAAQoS,IAInC,IAHA,IAAI/Q,EAAI41H,EAAgB7kH,EAAM+zB,EAC1B4/D,EAAS,EAENA,EAASt3F,EAAOzO,QAAQ,CAC3B,KAA+B,IAAxByO,EAAO2D,GAAK2zF,IAAiBA,EAASt3F,EAAOzO,QAChD+lG,IAGJ,GAAIA,EAASt3F,EAAOzO,OAAQ,CAExB,IADA,IAAIoB,EAAI2kG,EACuB,IAAxBt3F,EAAO2D,GAAK2zF,IACfA,IAGJ,IAAIhrF,EAAKha,MAAMk2H,EAAgB71H,EAAI+kC,GAC/BlrB,EAAKla,MAAMM,GACX6Z,EAAKna,MAAMk2H,EAAgBlxB,EAAS5/D,GACpChrB,EAAKpa,MAAMM,EAAI8kC,GAEnB5lC,EAAKouB,OAAO5T,EAAIE,GACX4M,OAAO9M,EAAII,GACX0M,OAAO3M,EAAIC,GACX0M,OAAO3M,EAAID,GACXyM,OACT,CACJ,CAGJ,OAAOnnB,CACX,EAEAu2H,EAAOnwH,UAAU0wH,kBAAoB,SAA4B1rH,EAAM8f,GACnE,IAAIxI,EAAM,IAAID,IAAI,EAAG,EAAGrX,EAAMA,GAAMoY,MAAM0H,EAAO9qB,MAAQ,GAWzD,OAViBzH,OAAOy0B,SAAS1K,EAAI0B,SAAU,CAC3CgG,KAAM,CACFzb,MAAO/I,KAAK1F,QAAQ8qB,YAExB7qB,OAAQ,CACJwO,MAAOuc,EAAOvc,MACdvO,MAAO8qB,EAAO9qB,QAK1B,EAEAm2H,EAAOnwH,UAAUo+F,WAAa,SAAqBtkG,GAC/C,IAAI43H,EAAa53H,GAAW,CAAC,EAC7B0F,KAAK1F,QAAUiqH,SAASvkH,KAAK1F,QAAS43H,QAEhB1qH,IAAlBlN,EAAQhB,QACR0G,KAAKy7E,OAAShuD,OAAOztB,KAAK1F,QAAQhB,QAGtC0G,KAAKmvF,eACLnvF,KAAKq/D,QACT,EAEAsxD,EAAOnwH,UAAUlH,MAAQ,SAAgBwqH,GACrC,QAAgBt8G,IAAZs8G,EACA,OAAO9jH,KAAKy7E,OAGhBz7E,KAAKy7E,OAAShuD,OAAOq2F,GAErB9jH,KAAKq/D,QACT,EAEAsxD,EAAOnwH,UAAU4wH,eAAiB,WAC9B,OAAOthH,QAAQ9P,KAAK1F,QAAQorB,QAAQmsG,SACxC,EAEAlB,EAAOnwH,UAAU8wH,SAAW,WACxB,MAAqC,UAA9BtxH,KAAK1F,QAAQorB,QAAQ7hB,IAChC,EAEA8sH,EAAOnwH,UAAUmxH,aAAe,SAAuBQ,GACnD,IAAI33H,EAAQwF,KAAK1F,QAAQorB,QAAQlrB,MAC7BmR,EAAS3L,KAAK1F,QAAQorB,QAAQ/Z,OAUlC,OARKnR,GAAUmR,EAEJnR,IAAUmR,EACjBA,EAASnR,GACDA,GAASmR,IACjBnR,EAAQmR,GAJRnR,EAAQmR,EAASwmH,EAOd,CACH33H,MAAOA,EACPmR,OAAQA,EAEhB,EAEOglH,CACX,CArWa,CAqWXh+H,OAEFiR,kBAAkB+sH,OAAQ,CACtBj8H,KAAM,SACNg9F,SAAU,MACV4pB,SAAU,aACVhiH,MAAO,GACP03H,gBAAiBb,eAAeG,+BAChClrG,WAAY+qG,eAAeI,mBAC3BxnH,MAAOonH,eAAeK,0BACtBhrH,KAAM,GACNmY,QAAS,EACT2H,OAAQ,CACJvc,MAAO,GACPvO,MAAO,GAEXkrB,QAAS,CACL7hB,KAAM,QACNguH,SAAU,GACVr3H,MAAO,EACPmR,OAAQ,KAIhB,IAAIymH,IAAM,aAEV,SAASC,gBAAgB/W,GAGrB,YAFkB,IAAbA,IAAsBA,EAAW8W,KAE/B,SAAS94H,GACZ,IACIu2H,WAAWv2H,EAAO,IAAKgiH,EAC3B,CAAE,MAAO9wG,GACL,MAAO,CACH25G,OAAO,EACP35G,MAAOA,EAEf,CAEA,MAAO,CACH25G,OAAO,EAEf,CACJ,CAIA,IAAImO,QAAU,CACV5lH,EAAG,QACH/D,EAAG,kBACHE,EAAG,qBACH7G,EAAG,oBAOHuwH,OAAS,CACTC,MAAOF,SAGX,SAASG,SAASn5H,GACd,OAAOA,EAAQA,CACnB,CAGA,IAAIo5H,OAAStwH,KACTuwH,MAAQD,OAAOp3G,IACfs3G,OAASF,OAAOG,KAChBthF,MAAQmhF,OAAOnhF,MACfp1B,IAAMu2G,OAAOv2G,IACb22G,MAAQJ,OAAOr2G,IACf02G,MAAQL,OAAOM,IAEfC,SAAY,SAAUtgI,GACtB,SAASsgI,EAASC,EAAKC,GACnBxgI,EAAMwO,KAAKnB,MAEXA,KAAKi0G,iBAEoB,IAArBl3G,UAAUlD,QACVmG,KAAKkzH,IAAMA,EAAI,GACflzH,KAAKmzH,IAAMD,EAAI,KAEflzH,KAAKkzH,IAAMA,EACXlzH,KAAKmzH,IAAMA,EAEnB,CAgKA,OA9JKxgI,IAAQsgI,EAASx6H,UAAY9F,GAClCsgI,EAASzyH,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDyyH,EAASzyH,UAAUhE,YAAcy2H,EAEjCA,EAASzyH,UAAUyzG,eAAiB,WAChCp3G,WAAWmD,KAAM,CACbozH,oBAAqB,IACrBC,qBAAsB,MACtBC,mBAAoB,EACpBC,OAAQ,gBAEhB,EAEAN,EAASzyH,UAAUgzH,QAAU,WACzB,MAAO,CACHxzH,KAAKkzH,IACLlzH,KAAKmzH,IAEb,EAEAF,EAASzyH,UAAUqb,OAAS,SAAiB43G,GACzC,OAAOA,GAAOA,EAAIP,MAAQlzH,KAAKkzH,KAAOO,EAAIN,MAAQnzH,KAAKmzH,GAC3D,EAEAF,EAASzyH,UAAU7D,MAAQ,WACvB,OAAO,IAAIs2H,EAASjzH,KAAKkzH,IAAKlzH,KAAKmzH,IACvC,EAEAF,EAASzyH,UAAU5F,MAAQ,SAAoB84H,GAG3C,OAFA1zH,KAAKmzH,IAAM3vH,QAAQxD,KAAKmzH,IAAKO,GAC7B1zH,KAAKkzH,IAAM1vH,QAAQxD,KAAKkzH,IAAKQ,GACtB1zH,IACX,EAEAizH,EAASzyH,UAAUuc,KAAO,WAGtB,OAFA/c,KAAKmzH,IAAMnzH,KAAKmzH,IAAM,IACtBnzH,KAAKkzH,IAAMlzH,KAAKkzH,IAAM,GACflzH,IACX,EAEAizH,EAASzyH,UAAUgc,WAAa,SAAqBm3G,EAAMC,GACvD,OAAO5zH,KAAK6zH,cAAcF,EAAMC,GAAOx+G,QAC3C,EAEA69G,EAASzyH,UAAUtE,YAAc,SAAsBkZ,EAAU0+G,EAAgBC,GAC7E,IAAIC,EAAUzwH,IAAIuwH,GACdF,EAAQG,GAAgBxB,OAAOC,MAC/ByB,EAAU1wH,IAAIvD,KAAKkzH,KACnBgB,EAAU3wH,IAAIvD,KAAKmzH,KACnBgB,EAAO/+G,EAAWw+G,EAAMlnH,EACxBwmH,EAAMR,OAAO0B,KAAKtB,MAAMmB,GAAW93G,IAAIg4G,GAAQh4G,IAAI83G,GAAWnB,MAAMqB,GAAQh4G,IAAI63G,IAChFb,EAAMe,EAAU3iF,MAAMuhF,MAAMkB,GAAWlB,MAAMqB,GAAQh4G,IAAI83G,GAAU93G,IAAIg4G,GAAQrB,MAAMmB,GAAWnB,MAAMI,IAE1G,OAAO,IAAID,EAASnwH,IAAIowH,GAAMpwH,IAAIqwH,GACtC,EAEAF,EAASzyH,UAAUqzH,cAAgB,SAAwBQ,EAAaN,GACpE,IAEIJ,EAAOV,EAASntH,OAAO6tH,GACvBC,EAAQG,GAAgBxB,OAAOC,MAEnC,IAAKmB,GAAQ3zH,KAAKrD,QAAQ/B,MAAM,GAAGihB,OAAO83G,EAAKh3H,QAAQ/B,MAAM,IACzD,MAAO,CACHwa,SAAU,EACVk/G,YAAa,EACbC,UAAW,GA8BnB,IAtBA,IAWIC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EApBAroH,EAAIknH,EAAMlnH,EACV/D,EAAIirH,EAAMjrH,EACVE,EAAI+qH,EAAM/qH,EACV6uG,EAAIn0G,IAAIowH,EAAKR,IAAMnzH,KAAKmzH,KACxB6B,EAAKpC,QAAQ,EAAI/pH,GAAKkqH,MAAMxvH,IAAIvD,KAAKkzH,OACrC+B,EAAQnC,MAAMkC,GACdE,EAAQ/4G,IAAI64G,GACZG,EAAKvC,QAAQ,EAAI/pH,GAAKkqH,MAAMxvH,IAAIowH,EAAKT,OACrCkC,EAAQtC,MAAMqC,GACdE,EAAQl5G,IAAIg5G,GACZG,EAAS5d,EAETj9G,EAAIuF,KAAKozH,oBACTmC,GAAY,GASRA,GAAa96H,KAAM,GAAG,CAC1Bg6H,EAAY3B,MAAMwC,GAClBZ,EAAYv4G,IAAIm5G,GAChBX,EAAOjC,OAAOr9G,KAAKo9G,SAAS4C,EAAQZ,GAAahC,SAASyC,EAAQE,EAAQH,EAAQI,EAAQX,IAE1FK,EAAQxjF,MAAMojF,EADdE,EAAOI,EAAQG,EAAQF,EAAQG,EAAQX,GAGvC,IAAIc,EAAON,EAAQG,EAAQZ,EAAYE,EAEvCG,EAAS,EAEK,KAHdF,EAAQ,EAAInC,SAAS+C,MAIjBV,EAASD,EAAO,EAAII,EAAQG,EAAQR,GAGxCJ,EAAac,EACb,IAAIre,EAAIpuG,EAAI,GAAK+rH,GAAS,EAAI/rH,GAAK,EAAI,EAAI+rH,IAC3CU,EAAS5d,GAAK,EAAIT,GAAKpuG,EAAI2sH,GAAQT,EAAQ9d,EAAI0d,GAAQG,EAAS7d,EAAI4d,GAAa,EAAIpC,SAASqC,GAAjB,KAC7ES,EAAY5C,MAAM2C,EAASd,IAzDhBx0H,KAyDwCqzH,oBACvD,CAEA,IAAIoC,EAAKb,GAASnC,SAAS/lH,GAAK+lH,SAAS9pH,IAAM8pH,SAAS9pH,GACpDquG,EAAI,EAAIye,EAAK,OAAS,KAAOA,GAAaA,GAAM,IAAM,IAAMA,GAAxB,MACpC3oD,EAAI2oD,EAAK,MAAQ,IAAMA,GAAaA,GAAM,GAAK,GAAKA,GAAtB,MAC9BC,EAAS5oD,EAAI6nD,GAAQG,EAAShoD,EAAI,GAAK+nD,GAAa,EAAIpC,SAASqC,GAAjB,GAA4BhoD,EAAI,EAAIgoD,GAAe,EAAIrC,SAASkC,GAAjB,IAAgC,EAAIlC,SAASqC,GAAjB,KAE3HR,EAAc/iF,MAAM8jF,EAAQZ,EAAWS,EAAQE,EAAQH,EAAQI,EAAQX,GACvEH,EAAYhjF,MAAM2jF,EAAQT,GAAYQ,EAAQI,EAAQH,EAAQE,EAAQV,GAE1E,MAAO,CACHt/G,SAAU5R,QAAQmF,EAAIquG,GAAK+d,EAAQW,GAAS11H,KAAKszH,oBACjDgB,YAAaxxH,IAAIwxH,GACjBC,UAAWzxH,IAAIyxH,GAEvB,EAGAtB,EAASzyH,UAAUU,SAAW,WAE1B,OAAOusB,OAAOztB,KAAKkzH,KAAO,IAAMzlG,OAAOztB,KAAKmzH,IAChD,EAEAF,EAAS0C,WAAa,SAAqBC,GACvC,OAAO,IAAI3C,EAAS2C,EAAU,GAAIA,EAAU,GAChD,EAEA3C,EAAS4C,WAAa,SAAqBD,GACvC,OAAO,IAAI3C,EAAS2C,EAAU,GAAIA,EAAU,GAChD,EAEA3C,EAASntH,OAAS,SAAiB4G,EAAG/D,GAClC,GAAI9F,QAAQ6J,GACR,OAAIA,aAAaumH,EACNvmH,EAAE/P,QACmB,IAArBI,UAAUlD,QAA6B,IAAb6S,EAAE7S,OAC5Bo5H,EAAS4C,WAAWnpH,GAGxB,IAAIumH,EAASvmH,EAAG/D,EAE/B,EAEOsqH,CACX,CA9Ke,CA8KbtgI,OAEEmjI,OAAS1zH,KACTywH,KAAOiD,OAAOjD,KACdtnD,IAAMuqD,OAAOvqD,IACbwqD,MAAQD,OAAOt6G,IACfa,IAAMy5G,OAAOz5G,IACbZ,IAAMq6G,OAAOr6G,IACbu3G,IAAM8C,OAAO9C,IACbgD,QAAUnjI,QAEV2+C,GAAKskF,OAAOtkF,GACZykF,SAAWzkF,GAAK,EAChB0kF,SAAW1kF,GAAK,EAChB2kF,WAAa3kF,GAAK,IAElBghF,MAAQD,OAAOC,MAGf4D,SAAY,SAAUzjI,GACtB,SAASyjI,EAAS97H,GACd3H,EAAMwO,KAAKnB,MACXA,KAAKi0G,iBACLj0G,KAAKq2H,aAAa/7H,EACtB,CA+EA,OA7EK3H,IAAQyjI,EAAS39H,UAAY9F,GAClCyjI,EAAS51H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnD41H,EAAS51H,UAAUhE,YAAc45H,EAEjCA,EAAS51H,UAAU61H,aAAe,SAAuB/7H,GACrD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEA87H,EAAS51H,UAAUyzG,eAAiB,WAGhCp3G,WAAWmD,KAAM,CACbs2H,QAAS,IACTC,QAAS,cACTC,mBAAoB,GACpBC,oBAAqB,OAE7B,EAEAL,EAAS51H,UAAUk2H,QAAU,SAAkBjD,EAAKkD,GAChD,IAAIC,EAAO52H,KACP1F,EAAUs8H,EAAKt8H,QAEfmvB,EADQnvB,EAAQs5H,MACNlnH,EACVmqH,EAAOv8H,EAAQw8H,gBACf5D,EAAM7vH,WAAWowH,EAAIP,KAAM0D,EAAKL,QAASK,EAAKL,SAC9CpD,EAAMwD,EAAQtzH,WAAWowH,EAAIN,KAAMyD,EAAKN,QAASM,EAAKN,SAAW7C,EAAIN,IACrEl4H,EAAIsI,IAAI4vH,EAAM0D,GAAQptG,EACtBvuB,EAAI07H,EAAKG,YAAY7D,GACzB,OAAO,IAAI8C,QAAQ/6H,EAAGC,EAC1B,EACAk7H,EAAS51H,UAAUu2H,YAAc,SAAsB7D,GACnD,IAAIU,EAAQ5zH,KAAK1F,QAAQs5H,MACrBoD,EAAMpD,EAAM5xH,EACZynB,EAAImqG,EAAMlnH,EACVxR,EAAIqI,IAAI2vH,GACR+D,EAAKjE,IAAIkD,SAAWh7H,EAAI,GACxBg8H,EAAMF,EAAM36G,IAAInhB,GAChB8kB,EAAI+1G,OAAO,EAAImB,IAAQ,EAAIA,GAAMF,EAAM,GAG3C,OAAOvtG,EAAIhO,IAAIw7G,EAAKj3G,EACxB,EACAo2G,EAAS51H,UAAUwM,QAAU,SAAkB8O,EAAO66G,GAClD,IAAIC,EAAO52H,KACP1F,EAAUs8H,EAAKt8H,QAEfmvB,EADQnvB,EAAQs5H,MACNlnH,EACVmqH,EAAOv8H,EAAQw8H,gBACf3D,EAAMr3G,EAAM7gB,GAAKk7H,WAAa1sG,GAAKotG,EACnC3D,EAAM7vH,WAAWuzH,EAAKO,UAAUr7G,EAAM5gB,IAAK07H,EAAKL,QAASK,EAAKL,SAIlE,OAHII,IACAxD,EAAM9vH,WAAW8vH,GAAMyD,EAAKN,QAASM,EAAKN,UAEvC,IAAIrD,SAASC,EAAKC,EAC7B,EACAiD,EAAS51H,UAAU22H,UAAY,SAAoBj8H,GAC/C,IAOIT,EAPAm8H,EAAO52H,KACP4zH,EAAQgD,EAAKt8H,QAAQs5H,MACrBnqG,EAAImqG,EAAMlnH,EACVsqH,EAAMpD,EAAM5xH,EACZo1H,EAAOJ,EAAM,EACbC,EAAK1rD,KAAKrwE,EAAIuuB,GACd4tG,EAAMpB,SAAW,EAAIpD,KAAKoE,GAE9B,IAAKx8H,EAAI,EAAGA,GAAKm8H,EAAKJ,mBAAoB/7H,IAAK,CAC3C,IAAIy8H,EAAMF,EAAM36G,IAAIg7G,GAChBr3G,EAAI+1G,OAAO,EAAImB,IAAQ,EAAIA,GAAME,GACjCE,EAAOrB,SAAW,EAAIpD,KAAKoE,EAAKj3G,GAAKq3G,EAEzC,GADAA,GAAOC,EACHxB,OAAOx6G,IAAIg8G,IAASV,EAAKH,oBACzB,KAER,CACA,OAAO3zH,IAAIu0H,EACf,EAEOjB,CACX,CArFe,CAqFbzjI,OAEFiR,kBAAkBwyH,SAAU,CACxBU,gBAAiB,EACjBlD,MAAOpB,QAOX,IAAI+E,kBAAqB,SAAUnB,GAC/B,SAASmB,IACLnB,EAASz0H,MAAM3B,KAAMjD,UACzB,CA2BA,OAzBKq5H,IAAWmB,EAAkB9+H,UAAY29H,GAC9CmB,EAAkB/2H,UAAYjI,OAAOuN,OAAQswH,GAAYA,EAAS51H,WAClE+2H,EAAkB/2H,UAAUhE,YAAc+6H,EAE1CA,EAAkB/2H,UAAUyzG,eAAiB,WACzCmiB,EAAS51H,UAAUyzG,eAAe9yG,KAAKnB,MAEvCnD,WAAWmD,KAAM,CACbu2H,QAAS,eAEjB,EAEAgB,EAAkB/2H,UAAUu2H,YAAc,SAAsB7D,GAC5D,IAAIzpG,EAAIzpB,KAAK1F,QAAQs5H,MAAMlnH,EACvBxR,EAAIqI,IAAI2vH,GACR+D,EAAKjE,IAAIkD,SAAWh7H,EAAI,GAC5B,OAAOuuB,EAAIhO,IAAIw7G,EACnB,EAEAM,EAAkB/2H,UAAU22H,UAAY,SAAoBj8H,GACxD,IAAIuuB,EAAIzpB,KAAK1F,QAAQs5H,MAAMlnH,EACvBuqH,EAAK1rD,KAAKrwE,EAAIuuB,GAClB,OAAO3mB,IAAImzH,SAAW,EAAIpD,KAAKoE,GACnC,EAEOM,CACX,CA/BwB,CA+BtBnB,UAEEoB,gBAAmB,SAAU7kI,GAC7B,SAAS6kI,IACL7kI,EAAMgP,MAAM3B,KAAMjD,UACtB,CAaA,OAXKpK,IAAQ6kI,EAAgB/+H,UAAY9F,GACzC6kI,EAAgBh3H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC1Dg3H,EAAgBh3H,UAAUhE,YAAcg7H,EAExCA,EAAgBh3H,UAAUk2H,QAAU,SAAkBjD,GAClD,OAAO,IAAIuC,QAAQvC,EAAIN,IAAKM,EAAIP,IACpC,EACAsE,EAAgBh3H,UAAUwM,QAAU,SAAkB8O,GAClD,OAAO,IAAIm3G,SAASn3G,EAAM5gB,EAAG4gB,EAAM7gB,EACvC,EAEOu8H,CACX,CAjBsB,CAiBpB7kI,OAUE8kI,SAAY,SAAU9kI,GACtB,SAAS8kI,IACL9kI,EAAMwO,KAAKnB,MACX,IACI42H,EADM52H,KACK03H,MAAQ,IAAIH,kBACvB3uH,EAAI5I,KAAK4I,EAAI,EAAI4oC,GAAKolF,EAAKt8H,QAAQs5H,MAAMlnH,EAI7C1M,KAAK23H,IAAMjkI,YAAYmH,UAAU,GAAK,IAAK0gB,MAAM,EAAI3S,GAAI,EAAIA,GAG7D5I,KAAK43H,KAAOlkI,YAAY6nB,MAAM3S,GAAIA,GAAG/N,WAAW,IAAM,GAC1D,CAgBA,OAdKlI,IAAQ8kI,EAASh/H,UAAY9F,GAClC8kI,EAASj3H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDi3H,EAASj3H,UAAUhE,YAAci7H,EAGjCA,EAASj3H,UAAU6nE,QAAU,SAAkBorD,EAAKl4G,EAAOo7G,GAEvD,OADY32H,KAAK03H,MAAMhB,QAAQjD,EAAKkD,GACvBjjI,UAAUsM,KAAK23H,KAAKp8G,MAAMA,GAAS,EACpD,EACAk8G,EAASj3H,UAAUq3H,WAAa,SAAqB/7G,EAAOP,EAAOo7G,GAC/D,IAAIpmB,EAAWz0F,EAAMnf,QAAQ4e,MAAM,GAAKA,GAAS,IAAI7nB,UAAUsM,KAAK43H,MACpE,OAAO53H,KAAK03H,MAAM1qH,QAAQujG,EAAUomB,EACxC,EAEOc,CACX,CA9Be,CA8Bb9kI,OASEmlI,SAAY,SAAUnlI,GACtB,SAASmlI,IACLnlI,EAAMwO,KAAKnB,MACXA,KAAK03H,MAAQ,IAAItB,QACrB,CAYA,OAVKzjI,IAAQmlI,EAASr/H,UAAY9F,GAClCmlI,EAASt3H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDs3H,EAASt3H,UAAUhE,YAAcs7H,EACjCA,EAASt3H,UAAU6nE,QAAU,SAAkBorD,GAC3C,OAAOzzH,KAAK03H,MAAMhB,QAAQjD,EAC9B,EACAqE,EAASt3H,UAAUq3H,WAAa,SAAqB/7G,GACjD,OAAO9b,KAAK03H,MAAM1qH,QAAQ8O,EAC9B,EAEOg8G,CACX,CAjBe,CAiBbnlI,OAQEolI,SAAY,SAAUplI,GACtB,SAASolI,IACLplI,EAAMwO,KAAKnB,MACXA,KAAK03H,MAAQ,IAAIF,eACrB,CAYA,OAVK7kI,IAAQolI,EAASt/H,UAAY9F,GAClColI,EAASv3H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDu3H,EAASv3H,UAAUhE,YAAcu7H,EACjCA,EAASv3H,UAAU6nE,QAAU,SAAkBorD,GAC3C,OAAOzzH,KAAK03H,MAAMhB,QAAQjD,EAC9B,EACAsE,EAASv3H,UAAUq3H,WAAa,SAAqB/7G,GACjD,OAAO9b,KAAK03H,MAAM1qH,QAAQ8O,EAC9B,EAEOi8G,CACX,CAjBe,CAiBbplI,OAIEqlI,SAAWz/H,OAAO4a,OAElB8kH,MAAQ,SAAUC,EAAQ1pG,GAC1B,OAAO0pG,EAAOhwH,KAAKsmB,EACvB,EAEI2pG,cAAgB,SAAU7yH,GAC1B,IAAI+8F,EAAMl+F,SAASiD,cAAc,OAEjC,OADAi7F,EAAIh8F,UAAYf,EACT+8F,EAAI+1B,UACf,EAEIC,WAAa,SAAU/yH,EAAM7L,GAC7B,IAAI4oG,EAAMl+F,SAASiD,cAAc,OAKjC,IAJAi7F,EAAIh8F,UAAYf,EAIT+8F,EAAI3S,WAAW71F,OAAS,GAC3BJ,EAAQoN,YAAYw7F,EAAI3S,WAAW,GAE3C,EAEI4oC,eAAiB,SAAU7+H,GAC3B,KAAOA,EAAQ2+H,YACX3+H,EAAQy6E,YAAYz6E,EAAQ2+H,WAEpC,EAEIG,QAAU,SAAU9+H,EAAS++H,GAC7BA,EAAcC,aAAah/H,EAAS++H,EAAcJ,WACtD,EAEIM,UAAY,SAAUnwH,EAAQnD,GAG9B,IAFAmD,EAAO1B,YAAYzB,GAEZmD,EAAO6vH,aAAehzH,GACzBA,EAAQyB,YAAY0B,EAAO6vH,WAEnC,EAEIO,UAAY,SAAUlU,GAKtB,OAJaA,EAAIvqH,QAAQ,iBAAiB,SAASyvB,GAC/C,OAAOA,EAAE4rF,OAAO,GAAK,IAAM5rF,EAAE4rF,OAAO,GAAG1tE,aAC3C,GAGJ,EAEI+wF,SAAW,SAAUt/H,GASrB,OANIA,GAASm0B,OAAOn0B,GAAOu/H,SAAS,MACvBv/H,EAEAm0B,OAAOn0B,GAAS,IAIjC,EAEIw/H,mBAAqB,SAAUzoH,GAC/B,IACIC,EADML,qBAAqBI,GACZC,SACnB,OAAOA,EAASa,KAAOb,EAASK,OACpC,EAEIooH,iBAAmB,SAAUl1H,EAAMuK,GACnC,IAAItK,EAAQD,EAAKrD,UAEbsD,EAAMsK,OACNA,EAAO/J,SAAQ,SAAU+K,GACjBtL,EAAMsK,OAAOrU,QAAQqV,GAAS,GAC9BtL,EAAMsK,OAAO9O,KAAK8P,EAE1B,IAEAtL,EAAMsK,OAASA,CAEvB,EAEI4qH,YAAc,SAAUh3H,GACxB,IACIC,EADAg3H,EAASj3H,EAAEg3H,YAWf,OARIh3H,EAAEE,iBACasF,IAAXyxH,GAAwBA,KACxBh3H,EAAQD,EAAEE,YAEPF,EAAEO,QAAUP,EAAE2T,OAAS3T,EAAEk3H,gBAChCj3H,EAAsB,IAAZD,EAAEO,QAGTN,CACX,EAEIk3H,UAAY,SAAUrtH,GACtB,IAAIlQ,EAAS,GAEb,GAAIkQ,EAGA,IAFA,IAAI4oD,EAAQikE,UAAU7sH,GAAKhM,MAAM,KAExBrF,EAAI,EAAGA,EAAIi6D,EAAM76D,OAAQY,IAC9BmB,EAAO0D,KAAK,SAAWo1D,EAAMj6D,IAIrC,OAAOmB,EAAOoiB,KAAK,IACvB,EAIIo7G,YAAe,SAAUpnH,GACzB,SAASonH,EAAY3/H,EAASa,GAC1B0X,EAAW7Q,KAAKnB,MAChBA,KAAKvG,QAAUA,EAEfuG,KAAKq2H,aAAa/7H,GAClB0F,KAAKqvB,MAAQ,GAEb71B,SAASwG,KAAKvG,QAAS,yBAC3B,CAsHA,OApHKuY,IAAaonH,EAAY3gI,UAAYuZ,GAC1ConH,EAAY54H,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAChE44H,EAAY54H,UAAUhE,YAAc48H,EAEpCA,EAAY54H,UAAU61H,aAAe,SAAuB/7H,GACxD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEA8+H,EAAY54H,UAAUiJ,OAAS,SAAiB4vH,EAAQ1kD,GACpD30E,KAAKs5H,QAAUD,EACfr5H,KAAKglG,MAAQrwB,EACb30E,KAAKqjH,SACT,EAEA+V,EAAY54H,UAAUmJ,IAAM,SAAcjC,GACtC,IAAI6xH,EAAU7xH,EAEV7E,QAAQ6E,KACY,iBAATA,IACP6xH,EAAU,CACNzrG,KAAMpmB,IAId1H,KAAKqvB,MAAM/vB,KAAKi6H,GAChBv5H,KAAKqjH,UAEb,EAEA+V,EAAY54H,UAAU46F,OAAS,SAAiBttE,GAK5C,IAJA,IAEIlyB,EAAS,GAEJnB,EAAI,EAAGA,EAAIuF,KAAKqvB,MAAMx1B,OAAQY,IAAK,CACxC,IAAIiN,EALO1H,KAKSqvB,MAAM50B,GAEtBiN,EAAKomB,OAASA,GACdlyB,EAAO0D,KAAKoI,EAEpB,CAEA1H,KAAKqvB,MAAQzzB,EACboE,KAAKqjH,SACT,EAEA+V,EAAY54H,UAAUqJ,MAAQ,WAC1B7J,KAAKqvB,MAAQ,GACbipG,eAAet4H,KAAKvG,QACxB,EAEA2/H,EAAY54H,UAAU6iH,QAAU,WAK5B,IAJA,IAEIznH,EAAS,GAEJnB,EAAI,EAAGA,EAAIuF,KAAKqvB,MAAMx1B,OAAQY,IAAK,CACxC,IAAIiN,EALO1H,KAKSqvB,MAAM50B,GACtBqzB,EANO9tB,KAMSw5H,UAAU9xH,GAEjB,KAATomB,GACAlyB,EAAO0D,KAAKwuB,EAEpB,CAEA,GAAIlyB,EAAO/B,OAAS,EAAG,CACnBy+H,eAAet4H,KAAKvG,SAEpB,IAAI6L,EAAO1J,EAAOoiB,KAAKhe,KAAK1F,QAAQm/H,WACpCpB,WAAW/yH,EAAMtF,KAAKvG,SAEtBuG,KAAK05H,aACT,MACI15H,KAAK25H,aAEb,EAEAP,EAAY54H,UAAUm5H,YAAc,WAChC35H,KAAKvG,QAAQgE,MAAMoyF,QAAU,MACjC,EAEAupC,EAAY54H,UAAUk5H,YAAc,WAChC15H,KAAKvG,QAAQgE,MAAMoyF,QAAU,EACjC,EAEAupC,EAAY54H,UAAUg5H,UAAY,SAAoB9xH,GAClD,IAAIomB,EAAO,GACP8rG,EAAc55H,KAAK65H,aAAanyH,EAAKoyH,QAASpyH,EAAKqyH,SACnDC,EAASh6H,KAAKi6H,QAAQvyH,EAAK2xH,QAM/B,OAJIO,GAAeI,IACflsG,GAAQpmB,EAAKomB,MAGVA,CACX,EAEAsrG,EAAY54H,UAAUq5H,aAAe,SAAuBtyH,EAAKlF,GAC7D,IACI63H,EAASx2H,eAAe6D,GAAM1Q,OAAOD,WACrCujI,EAASz2H,eAAerB,EAAKxL,OAAOD,WAGxC,OADSoJ,KAAKglG,MAAQk1B,GAAUl6H,KAAKglG,MAAQm1B,CAEjD,EAEAf,EAAY54H,UAAUy5H,QAAU,SAAkB7hE,GAC9C,IAAIx8D,GAAS,EAMb,OAJIw8D,IACAx8D,EAASw8D,EAAKgiE,SAASp6H,KAAKs5H,UAGzB19H,CACX,EAEOw9H,CACX,CAhIkB,CAgIhBpnH,YAEFpO,kBAAkBw1H,YAAa,CAC3B1kI,KAAM,cACN+kI,UAAW,kBAGf,IAAIY,IAAM,MAENC,cAAgB,CAChBtsH,GAAI,CACAlU,UAAW,gBACX6L,UAAW,oBAEfmI,KAAM,CACFhU,UAAW,gBACX6L,UAAW,sBAEfzH,MAAO,CACHpE,UAAW,gBACX6L,UAAW,uBAEfvH,KAAM,CACFtE,UAAW,gBACX6L,UAAW,uBAInB,SAAS40H,eAAe90D,EAAWv+D,GAC/B,IAAI5B,EACA,yGACIg1H,cAAc70D,GAAW3rE,UACzB,sBAAwB2rE,EAAY,KACpCz+D,WAAW,CAAEd,KAAO,aAAeu/D,EAAY9/D,UAAW,gBAAiBa,SAAUU,EAAYV,SAAU3C,KAAMqD,EAAYrD,OACjI,YAEJ,OAAOs0H,cAAc7yH,EACzB,CAEA,IAAIm+F,UAAa,SAAUzxF,GACvB,SAASyxF,EAAUhqG,EAASa,GACxB0X,EAAW7Q,KAAKnB,MAEhBA,KAAKvG,QAAUA,EACfuG,KAAKq2H,aAAa/7H,GAElB,IAAIkgI,EAAmBD,eAAe,KAAMjgI,EAAQmgI,OAChDC,EAAuBH,eAAe,QAASjgI,EAAQmgI,OACvDE,EAAqBJ,eAAe,OAAQjgI,EAAQmgI,OACpDG,EAAqBL,eAAe,OAAQjgI,EAAQmgI,OAExDz6H,KAAKvG,QAAQoN,YAAY2zH,GACzBx6H,KAAKvG,QAAQoN,YAAY6zH,GACzB16H,KAAKvG,QAAQoN,YAAY8zH,GACzB36H,KAAKvG,QAAQoN,YAAY+zH,GAEzBphI,SAASwG,KAAKvG,QAAS,wBAEvBkV,GAAG3O,KAAKvG,QAAS,QAAS,YAAaw+H,MAAMj4H,KAAK21F,OAAQ31F,OAE1D,IAAIwI,EAAgBxI,KAAKvG,QAAQw6E,WAAWvkE,QAAQ,eAEpD1P,KAAK66H,SAAWryH,GAAgCxI,KAAKvG,QACrDuG,KAAK86H,UAAU96H,KAAK66H,UAEpB76H,KAAK41F,gBAAkBqiC,MAAMj4H,KAAK61F,SAAU71F,MAC5C2O,GAAG3O,KAAK66H,SAAU,UAAW76H,KAAK41F,gBACtC,CAmFA,OAjFK5jF,IAAayxF,EAAUhrG,UAAYuZ,GACxCyxF,EAAUjjG,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC9DijG,EAAUjjG,UAAUhE,YAAcinG,EAElCA,EAAUjjG,UAAU0R,QAAU,WAC1BlS,KAAK4X,SACT,EAGA6rF,EAAUjjG,UAAUoX,QAAU,WAC1B7I,IAAI/O,KAAK66H,SAAU,UAAW76H,KAAK41F,gBACvC,EAEA6N,EAAUjjG,UAAUs6H,UAAY,SAAoBrrH,GAChD,IAAIsrH,EAAgBtrH,GAAUzP,KAAKoF,SAAWpF,KAAKvG,QAE/CA,EAAUuG,KAAKvG,QACfuhI,EAAW,WACXC,EAAWF,EAActrC,aAAaurC,IAAavhI,EAAQg2F,aAAaurC,GAE5EvhI,EAAQ4hG,gBAAgB2/B,GAExBD,EAAct0H,aAAau0H,EAAW5/H,MAAM6/H,GAAuB,EAAXA,EAC5D,EAEAx3B,EAAUjjG,UAAU61H,aAAe,SAAuB/7H,GACtD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEAmpG,EAAUjjG,UAAU06H,KAAO,SAAejgI,EAAGC,GACzC,IAAIigI,EAAUn7H,KAAK1F,QAAQ6gI,QAE3Bn7H,KAAKqB,QAAQg5H,IAAK,CACdp/H,EAAGA,EAAIkgI,EACPjgI,EAAGA,EAAIigI,GAEf,EAEA13B,EAAUjjG,UAAUm1F,OAAS,SAAiB3zF,GAC1C,IAAI/G,EAAI,EACJC,EAAI,EACJkgI,EAASp5H,EAAE2N,cAEXyrH,EAAOC,QAAQ,kBACfngI,EAAI,EACGkgI,EAAOC,QAAQ,kBACtBngI,GAAK,EACEkgI,EAAOC,QAAQ,kBACtBpgI,EAAI,EACGmgI,EAAOC,QAAQ,oBACtBpgI,GAAK,GAGT+E,KAAKk7H,KAAKjgI,EAAGC,GAEb8G,EAAE8Q,gBACN,EAEA2wF,EAAUjjG,UAAUq1F,SAAW,SAAmB7zF,GAC9C,OAAQA,EAAEsY,OACN,KAAKlW,KAAKyG,GACN7K,KAAKk7H,KAAK,EAAG,GACbl5H,EAAE8Q,iBACF,MACJ,KAAK1O,KAAK0G,KACN9K,KAAKk7H,KAAK,GAAI,GACdl5H,EAAE8Q,iBACF,MACJ,KAAK1O,KAAK/M,MACN2I,KAAKk7H,KAAK,EAAG,GACbl5H,EAAE8Q,iBACF,MACJ,KAAK1O,KAAKzN,KACNqJ,KAAKk7H,MAAM,EAAG,GACdl5H,EAAE8Q,iBAKd,EAEO2wF,CACX,CAhHgB,CAgHdzxF,YAYF,SAASspH,aAAa71D,EAAWv/D,EAAMgB,GACnC,IAAI5B,EACA,4GAA8GmgE,EAC1G,iBAAmBA,EACnB,sBAAwBA,EAAY,KACpCz+D,WAAW,CAAEd,KAAMA,EAAMP,UAAW,gBAAiBa,SAAUU,EAAYV,SAAU3C,KAAMqD,EAAYrD,OAC3G,YAEJ,OAAOs0H,cAAc7yH,EACzB,CAnBA1B,kBAAkB6/F,UAAW,CACzB/uG,KAAM,YACNymI,QAAS,IAIbpC,iBAAiBt1B,UAAW,CACxB42B,MAcJ,IAAIkB,KAAO,IACPC,MAAQ,IACRC,QAAU,GACVC,SAAW,IACXC,SAAW,SAEXC,YAAe,SAAU5pH,GACzB,SAAS4pH,EAAYniI,EAASa,EAAS4M,GACnC8K,EAAW7Q,KAAKnB,MAChBA,KAAKvG,QAAUA,EACfuG,KAAKq2H,aAAa/7H,GAElB,IAAIuhI,EAAeP,aAAa,KAAM,OAAQp0H,GAC1C40H,EAAgBR,aAAa,MAAO,QAASp0H,GAEjDlH,KAAKvG,QAAQoN,YAAYg1H,GACzB77H,KAAKvG,QAAQoN,YAAYi1H,GACzB97H,KAAKvG,QAAQgN,aAAa,OAAQ,SAElCjN,SAASwG,KAAKvG,QAAS,6DAEvBuG,KAAK01F,cAAgB11F,KAAK21F,OAAOztF,KAAKlI,MACtC2O,GAAG3O,KAAKvG,QAAS,QAAS,YAAauG,KAAK01F,eAE5C,IAAIltF,EAAgBxI,KAAKvG,QAAQw6E,WAAWvkE,QAAQ,eAEpD1P,KAAK66H,SAAWryH,GAAgCxI,KAAKvG,QAErDuG,KAAK86H,UAAU96H,KAAK66H,UAEpB76H,KAAK41F,gBAAkB51F,KAAK61F,SAAS3tF,KAAKlI,MAC1C2O,GAAG3O,KAAK66H,SAAU,UAAW76H,KAAK41F,gBACtC,CAkEA,OAhEK5jF,IAAa4pH,EAAYnjI,UAAYuZ,GAC1C4pH,EAAYp7H,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAChEo7H,EAAYp7H,UAAUhE,YAAco/H,EAEpCA,EAAYp7H,UAAU0R,QAAU,WACxBlS,KAAKvG,SACLsV,IAAI/O,KAAKvG,QAAS,QAASuG,KAAK01F,eAGhC11F,KAAK66H,UACL9rH,IAAI/O,KAAK66H,SAAU,UAAW76H,KAAK41F,gBAE3C,EAEAgmC,EAAYp7H,UAAUs6H,UAAY,SAAoBrrH,GAClD,IAAIsrH,EAAgBtrH,GAAUzP,KAAKoF,SAAWpF,KAAKvG,QAE/CA,EAAUuG,KAAKvG,QACfuhI,EAAW,WACXC,EAAWF,EAActrC,aAAaurC,IAAavhI,EAAQg2F,aAAaurC,GAE5EvhI,EAAQ4hG,gBAAgB2/B,GAExBD,EAAct0H,aAAau0H,EAAW5/H,MAAM6/H,GAAuB,EAAXA,EAC5D,EAEAW,EAAYp7H,UAAU61H,aAAe,SAAuB/7H,GACxD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEAshI,EAAYp7H,UAAUu7H,QAAU,SAAkBt2D,GAC9C,IAAIu2D,EAAWh8H,KAAK1F,QAAQ0hI,SAC5Bh8H,KAAKqB,QAAQs6H,SAAU,CAAE15H,MAAOwjE,EAAYu2D,GAChD,EAEAJ,EAAYp7H,UAAUm1F,OAAS,SAAiB3zF,GAC5C,IACIyjE,EAAY,EAEZ9lE,WAHSqC,EAAE2N,cAGQ,gBACnB81D,GAAa,GAGjBzlE,KAAK+7H,QAAQt2D,GACbzjE,EAAE8Q,gBACN,EAEA8oH,EAAYp7H,UAAUq1F,SAAW,SAAmB7zF,GAChD,OAAQA,EAAEsY,OACN,KAAKlW,KAAKkH,YACV,KAAKiwH,KACL,KAAKE,QACDz7H,KAAK+7H,QAAQ,GACb,MACJ,KAAK33H,KAAKmH,aACV,KAAKiwH,MACL,KAAKE,SACD17H,KAAK+7H,SAAS,GAK1B,EAEOH,CACX,CA7FkB,CA6FhB5pH,YAEFpO,kBAAkBg4H,YAAa,CAC3BlnI,KAAM,cACNsnI,SAAU,IAGdjD,iBAAiB6C,YAAa,CAC1BD,WAGJ,IAAIM,OAAS75H,KACT85H,MAAQD,OAAO55H,IACf85H,MAAQF,OAAO10H,IAEf60H,OAAU,SAAUzpI,GACpB,SAASypI,EAAOC,EAAWC,GACvB3pI,EAAMwO,KAAKnB,MACX,IAAIu8H,EAAKtJ,SAASntH,OAAOu2H,GACrBG,EAAKvJ,SAASntH,OAAOw2H,GAErBC,EAAGpJ,IAAM,IAAMqJ,EAAGrJ,IAAM,KAAOoJ,EAAGrJ,IAAM,GAAKsJ,EAAGtJ,IAAM,IACtDlzH,KAAKw8H,GAAKD,EACVv8H,KAAKu8H,GAAKC,IAEVx8H,KAAKw8H,GAAKA,EACVx8H,KAAKu8H,GAAKA,EAElB,CAEK5pI,IAAQypI,EAAO3jI,UAAY9F,GAChCypI,EAAO57H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACjD47H,EAAO57H,UAAUhE,YAAc4/H,EAE/B,IAAIjqG,EAAkB,CAAEsqG,MAAO,CAAEjzH,cAAc,IAiG/C,OA/FA4yH,EAAO57H,UAAU45H,SAAW,SAAmB3G,GAC3C,IAAI8I,EAAKv8H,KAAKu8H,GAAIC,EAAKx8H,KAAKw8H,GAAIrJ,EAAMzvH,eAAe+vH,EAAIN,IAAKM,EAAI,IAAKP,EAAMxvH,eAAe+vH,EAAIP,IAAKO,EAAI,IAEzG,OAAOA,GACHN,EAAM,KAAOoJ,EAAGpJ,IAAM,KAAOA,EAAM,KAAOqJ,EAAGrJ,IAAM,KACnDD,EAAM,IAAMsJ,EAAGtJ,IAAM,IAAMA,EAAM,IAAMqJ,EAAGrJ,IAAM,EACxD,EAEAkJ,EAAO57H,UAAU2U,OAAS,WACtB,IAAIonH,EAAKv8H,KAAKu8H,GACVC,EAAKx8H,KAAKw8H,GACVrJ,EAAMoJ,EAAGpJ,KAAOqJ,EAAGrJ,IAAMoJ,EAAGpJ,KAAO,EACnCD,EAAMqJ,EAAGrJ,KAAOsJ,EAAGtJ,IAAMqJ,EAAGrJ,KAAO,EAEvC,OAAO,IAAID,SAASC,EAAKC,EAC7B,EAEAiJ,EAAO57H,UAAUk8H,YAAc,SAAsBC,GAKjD,IAJA,IAEI/gI,GAAS,EAEJnB,EAAI,EAAGA,EAAIkiI,EAAK9iI,OAAQY,IAC7BmB,EAASA,GALEoE,KAKiBo6H,SAASuC,EAAKliI,IAG9C,OAAOmB,CACX,EAEAwgI,EAAO57H,UAAUo8H,QAAU,SAAkBnJ,GACzC,IAAI8I,EAAKv8H,KAAKu8H,GAAIC,EAAKx8H,KAAKw8H,GAAIrJ,EAAMzvH,eAAe+vH,EAAIN,IAAKM,EAAI,IAAKP,EAAMxvH,eAAe+vH,EAAIP,IAAKO,EAAI,IAEzG8I,EAAGpJ,IAAMgJ,MAAMI,EAAGpJ,IAAKA,GACvBoJ,EAAGrJ,IAAMgJ,MAAMK,EAAGrJ,IAAKA,GACvBsJ,EAAGrJ,IAAM+I,MAAMM,EAAGrJ,IAAKA,GACvBqJ,EAAGtJ,IAAMiJ,MAAMK,EAAGtJ,IAAKA,EAC3B,EAEAkJ,EAAO57H,UAAUq8H,WAAa,SAAqBF,GAG/C,IAFA,IAESliI,EAAI,EAAGA,EAAIkiI,EAAK9iI,OAAQY,IAFlBuF,KAGF48H,QAAQD,EAAKliI,GAE9B,EAEA2hI,EAAO57H,UAAUs8H,MAAQ,WACrB,IAAIP,EAAKv8H,KAAKu8H,GAAIC,EAAKx8H,KAAKw8H,GAE5B,MAAO,CACHD,GAAIv8H,KAAKu8H,GACTQ,GAAI,IAAI9J,SAASsJ,EAAGrJ,IAAKsJ,EAAGrJ,KAC5BqJ,GAAIx8H,KAAKw8H,GACTQ,GAAI,IAAI/J,SAASuJ,EAAGtJ,IAAKqJ,EAAGpJ,KAEpC,EAEAiJ,EAAO57H,UAAUgzH,QAAU,WACvB,IAAI+I,EAAKv8H,KAAKu8H,GAAIC,EAAKx8H,KAAKw8H,GAE5B,MAAO,CACHD,EACA,IAAItJ,SAASsJ,EAAGrJ,IAAKsJ,EAAGrJ,KACxBqJ,EACA,IAAIvJ,SAASuJ,EAAGtJ,IAAKqJ,EAAGpJ,KAEhC,EAEAiJ,EAAO57H,UAAUyd,SAAW,SAAmBo7G,GAC3C,OAAOr5H,KAAK08H,YAAYrD,EAAO7F,YAC3B6F,EAAOqD,YAAY18H,KAAKwzH,UAChC,EAEA4I,EAAOt2H,OAAS,SAAiB4G,EAAG/D,GAChC,OAAI+D,aAAa0vH,EACN1vH,EACAA,GAAK/D,EACL,IAAIyzH,EAAO1vH,EAAG/D,GACd+D,GAAkB,IAAbA,EAAE7S,SAAiB8O,EACxB,IAAIyzH,EAAO,CACd1vH,EAAE,GACFA,EAAE,IACH,CACCA,EAAE,GACFA,EAAE,UANH,CASX,EAEAylB,EAAgBsqG,MAAMh8H,IAAM,WACxB,OAAO,IAAI27H,EAAO,CAAE,IAAK,KAAO,EAAG,GAAI,KAC3C,EAEA7jI,OAAOuR,iBAAkBsyH,EAAQjqG,GAE1BiqG,CACX,CArHa,CAqHXzpI,OAEE4tD,aAAe,cACfF,aAAe,cACf48E,cAAgB,eAChBC,YAAc,aACdC,KAAO,OAEPxgD,QAAW,SAAUhqF,GACrB,SAASgqF,EAAQygD,EAAe9iI,GAC5B3H,EAAMwO,KAAKnB,MAEXA,KAAKo9H,cAAgBA,EACrBp9H,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAK3F,OAAS,CAAEY,EAAG,EAAGC,EAAG,EAC7B,CAEKvI,IAAQgqF,EAAQlkF,UAAY9F,GACjCgqF,EAAQn8E,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAClDm8E,EAAQn8E,UAAUhE,YAAcmgF,EAEhC,IAAIxpD,EAAqB,CAAEx4B,OAAQ,CAAE6O,cAAc,IAgDnD,OA9CAmzE,EAAQn8E,UAAU2jB,KAAO,SAAexpB,EAAQ2G,GACxCtB,KAAK6U,WAAavT,EAAKuT,WAI3B7U,KAAKrF,OAASA,EACdqF,KAAK6U,SAAWvT,EAAKuT,SAErB7U,KAAKo9H,cAAc/kH,OAAOkoC,aACtBhoD,OAAO4a,OAAO,CAAExY,OAAQqF,KAAKrF,QAAU2G,IAG3CtB,KAAKyiB,SAAU,EACnB,EAEAk6D,EAAQn8E,UAAUwwB,KAAO,WACjBhxB,KAAKo9H,eACLp9H,KAAKo9H,cAAc/kH,OAAOgoC,cAG9BrgD,KAAKyiB,SAAU,EACfziB,KAAK6U,SAAW,IACpB,EAEAse,EAAmBx4B,OAAO8F,IAAM,WAC5B,OAAOT,KAAKq9H,OAChB,EAEAlqG,EAAmBx4B,OAAOgG,IAAM,SAAUhG,GACtC,IAAI2iI,EAAgBt9H,KAAKo9H,cAAcvtG,OAAO6mE,uBAAuB,CACjEz7F,EAAGN,EAAOyD,KAAO4B,KAAK3F,OAAOY,EAC7BC,EAAGP,EAAOsD,IAAM+B,KAAK3F,OAAOa,IAGhC8E,KAAKq9H,QAAU,CACXj/H,KAAMk/H,EAAcl/H,KACpBH,IAAKq/H,EAAcr/H,IAE3B,EAEA0+E,EAAQn8E,UAAU0R,QAAU,WACxBlS,KAAKo9H,cAAgB,IACzB,EAEA7kI,OAAOuR,iBAAkB6yE,EAAQn8E,UAAW2yB,GAErCwpD,CACX,CA9Dc,CA8DZhqF,OAEFiR,kBAAkB+4E,QAAS,CACvBr3D,OAAQ,CACJ9qB,MAAO,GAEX4pB,QAAS,IAGb,IAAIm5G,MAAS,SAAU5qI,GACnB,SAAS4qI,EAAMn8H,EAAK9G,GAChB3H,EAAMwO,KAAKnB,MAEXA,KAAK1N,QAAU2d,uBAEfjQ,KAAKq2H,aAAa/7H,GAClB0F,KAAKoB,IAAMA,EAEX,IAAI3H,EAAU0K,SAASiD,cAAc,OACrC5N,SAASC,EAAS,WAClBA,EAAQgE,MAAMylB,OAASljB,KAAK1F,QAAQ4oB,OACpCzpB,EAAQgE,MAAM2mB,QAAUpkB,KAAK1F,QAAQ8pB,QAErCpkB,KAAKvG,QAAUA,EAEf2H,EAAIo8H,cAAc32H,YAAY7G,KAAKvG,SAEnCuG,KAAKy9H,aAAez9H,KAAKy9H,aAAav1H,KAAKlI,MAC3CA,KAAK09H,OAAS19H,KAAK09H,OAAOx1H,KAAKlI,MAC/BA,KAAKwwF,QAAUxwF,KAAKwwF,QAAQtoF,KAAKlI,MACjCA,KAAK29H,QAAU39H,KAAK29H,QAAQz1H,KAAKlI,MAEjCA,KAAK49H,YACL59H,KAAK69H,oBACT,CAuGA,OArGKlrI,IAAQ4qI,EAAM9kI,UAAY9F,GAC/B4qI,EAAM/8H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAChD+8H,EAAM/8H,UAAUhE,YAAc+gI,EAE9BA,EAAM/8H,UAAU0R,QAAU,WACtBlS,KAAK89H,aACT,EAEAP,EAAM/8H,UAAU61H,aAAe,SAAuB/7H,GAClD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEAijI,EAAM/8H,UAAU2jB,KAAO,WACnBnkB,KAAKywD,QACLzwD,KAAK49H,YACL59H,KAAK+9H,cAAa,EACtB,EAEAR,EAAM/8H,UAAUwwB,KAAO,WACnBhxB,KAAK89H,cACL99H,KAAKg+H,gBAAe,EACxB,EAEAT,EAAM/8H,UAAUiwD,MAAQ,WACpBzwD,KAAKy9H,eACLz9H,KAAK09H,QACT,EAEAH,EAAM/8H,UAAUk9H,OAAS,WACrB19H,KAAK+9H,cACT,EAEAR,EAAM/8H,UAAUi9H,aAAe,WAE/B,EAEAF,EAAM/8H,UAAUgwF,QAAU,WAE1B,EAEA+sC,EAAM/8H,UAAUm9H,QAAU,WACtB39H,KAAK+9H,cACT,EAEAR,EAAM/8H,UAAUu9H,aAAe,WAC3B,IAAIzjI,EAAU0F,KAAK1F,QACfq6E,EAAO30E,KAAKoB,IAAIuzE,OAChBspD,GAAgBp7H,QAAQvI,EAAQw/H,UAAYnlD,GAAQr6E,EAAQw/H,QAC5DoE,GAAgBr7H,QAAQvI,EAAQy/H,UAAYplD,GAAQr6E,EAAQy/H,QAC5DV,EAAS+C,OAAOt2H,OAAOxL,EAAQ++H,QAC/B8E,GAAU9E,GAAUA,EAAOp7G,SAASje,KAAKoB,IAAIi4H,UAEjDr5H,KAAKg+H,eAAeC,GAAgBC,GAAgBC,EACxD,EAEAZ,EAAM/8H,UAAUw9H,eAAiB,SAAyBv7G,GACtDziB,KAAKvG,QAAQgE,MAAMoyF,QAAUptE,EAAU,GAAK,MAChD,EAEA86G,EAAM/8H,UAAUo9H,UAAY,WACxB,IAAIx8H,EAAMpB,KAAKoB,IAEfpB,KAAK89H,cAEL18H,EAAI8G,KAAK,cAAelI,KAAKy9H,cAC7Br8H,EAAI8G,KAAK,QAASlI,KAAK09H,QACvBt8H,EAAI8G,KAAK,SAAUlI,KAAKwwF,SACxBpvF,EAAI8G,KAAK,SAAUlI,KAAK29H,QAC5B,EAEAJ,EAAM/8H,UAAUs9H,YAAc,WAC1B,IAAI18H,EAAMpB,KAAKoB,IAEfA,EAAI+Q,OAAO,cAAenS,KAAKy9H,cAC/Br8H,EAAI+Q,OAAO,QAASnS,KAAK09H,QACzBt8H,EAAI+Q,OAAO,SAAUnS,KAAKwwF,SAC1BpvF,EAAI+Q,OAAO,SAAUnS,KAAK29H,QAC9B,EAEAJ,EAAM/8H,UAAUq9H,mBAAqB,WACjC,IAAIO,EAAcp+H,KAAKoB,IAAIg9H,YAEvBA,GACAA,EAAYz0H,IAAI3J,KAAK1F,QAAQ8jI,YAErC,EAEAb,EAAM/8H,UAAU69H,UAAY,WAExB,OADWr+H,KAAK1F,QAAQsR,MAAQ,EAEpC,EAEA2xH,EAAM/8H,UAAU89H,SAAW,WACvB,OAAOt+H,KAAKu+H,OAASv+H,KAAKu+H,MAAM1kI,OAAS,CAC7C,EAEA0jI,EAAM/8H,UAAUg+H,YAAc,WAE1B,OADax+H,KAAKoB,IAAIq9H,QAAU,IAClB1kI,QAAQiG,KAC1B,EAEOu9H,CACX,CAjIY,CAiIV5qI,OAEE+rI,OAASt8H,KACTu8H,QAAU9rI,QAEd,SAAS+rI,gBAAgBrgI,GACrB,OAAIzC,WAAWyC,GACJA,EAGJC,gBAAgBF,QAAQC,EACnC,CAEA,SAASsgI,WAAW/iH,GAChB,OAAO,IAAI6iH,QAAQn7H,QAAQsY,EAAM7gB,GAAIuI,QAAQsY,EAAM5gB,GACvD,CAEA,SAAS4jI,WAAWt5H,GAChB,IAAIu5H,EAAUv5H,EAMd,MAJqB,iBAAX,IACNu5H,GAAW,MAGRA,CACX,CAEA,IAAIC,UAAa,SAAUzB,GACvB,SAASyB,EAAU59H,EAAK9G,GACpBijI,EAAMp8H,KAAKnB,KAAMoB,EAAK9G,GAEiB,iBAA5B0F,KAAK1F,QAAQ2kI,aACpBj/H,KAAK1F,QAAQ2kI,WAAaj/H,KAAK1F,QAAQ2kI,WAAWn/H,MAAM,KAG5D,IAAIo/H,EAAWl/H,KAAKm/H,YACpBn/H,KAAKo/H,MAAQ,IAAIF,EAASl/H,KAAKvG,QAASuG,KAAK1F,QACjD,CA4EA,OA1EKijI,IAAQyB,EAAUvmI,UAAY8kI,GACnCyB,EAAUx+H,UAAYjI,OAAOuN,OAAQy3H,GAASA,EAAM/8H,WACpDw+H,EAAUx+H,UAAUhE,YAAcwiI,EAElCA,EAAUx+H,UAAU0R,QAAU,WAC1BqrH,EAAM/8H,UAAU0R,QAAQ/Q,KAAKnB,MAC7BA,KAAKo/H,MAAMltH,UACXlS,KAAKo/H,MAAQ,IACjB,EAEAJ,EAAUx+H,UAAUi9H,aAAe,WAC/B,IAAIr8H,EAAMpB,KAAKoB,IACX8rB,EAAS9rB,EAAIi+H,gBAAgBj+H,EAAIi4H,SAASkD,IAAI3hI,QAClDoF,KAAKo/H,MAAME,WAAWpyG,EAC1B,EAEA8xG,EAAUx+H,UAAUk9H,OAAS,WACzBH,EAAM/8H,UAAUk9H,OAAOv8H,KAAKnB,MAC5BA,KAAKu/H,cACLv/H,KAAKo/H,MAAM3uE,OACf,EAEAuuE,EAAUx+H,UAAU2+H,UAAY,WAC5B,OAAOK,QACX,EAEAR,EAAUx+H,UAAUo9H,UAAY,WAC5BL,EAAM/8H,UAAUo9H,UAAUz8H,KAAKnB,MAE1BA,KAAK1N,QAAQge,WACTtQ,KAAKk7H,OACNl7H,KAAKk7H,KAAO9mI,SAAS4L,KAAKqjH,QAAQn7G,KAAKlI,MAAO,MAGlDA,KAAKoB,IAAI8G,KAAK,MAAOlI,KAAKk7H,MAElC,EAEA8D,EAAUx+H,UAAUs9H,YAAc,WAC9BP,EAAM/8H,UAAUs9H,YAAY38H,KAAKnB,MAE7BA,KAAKk7H,MACLl7H,KAAKoB,IAAI+Q,OAAO,MAAOnS,KAAKk7H,KAEpC,EAEA8D,EAAUx+H,UAAU++H,YAAc,WAC9B,IAAIE,EAAOz/H,KAAKo/H,MACZh+H,EAAMpB,KAAKoB,IACXi4H,EAASj4H,EAAIi4H,SACbqG,EAAgB,CACZnD,GAAIn7H,EAAIi+H,gBAAgBhG,EAAOkD,IAAI3hI,QACnC4hI,GAAIp7H,EAAIi+H,gBAAgBhG,EAAOmD,IAAI5hI,SAG3C6kI,EAAKtqH,OAAO/T,EAAIi+H,gBAAgBj+H,EAAI+T,WACpCsqH,EAAKpG,OAAOqG,GACZD,EAAK9qD,KAAKvzE,EAAIuzE,OAClB,EAEAqqD,EAAUx+H,UAAUgwF,QAAU,WAC1BxwF,KAAKqjH,SACT,EAEA2b,EAAUx+H,UAAUm9H,QAAU,SAAkB37H,GAC5Cu7H,EAAM/8H,UAAUm9H,QAAQx8H,KAAKnB,KAAMgC,GACnChC,KAAKqjH,SACT,EAEA2b,EAAUx+H,UAAU6iH,QAAU,WAC1BrjH,KAAKu/H,cACLv/H,KAAKo/H,MAAMruG,QACf,EAEOiuG,CACX,CAvFgB,CAuFdzB,OAEF35H,kBAAkBo7H,UAAW,CACzBW,SAAU,IACVV,WAAY,CAAC,IAAK,IAAK,KACvBW,YAAa,GACb18G,OAAQ,IAGZ,IAAIs8G,SAAY,SAAU7sI,GACtB,SAAS6sI,EAAS/lI,EAASa,GACvB3H,EAAMwO,KAAKnB,MACXA,KAAKvG,QAAUA,EACfuG,KAAKq2H,aAAa/7H,GAClB0F,KAAK6/H,KAAO,IAAIC,QACpB,CAqJA,OAnJKntI,IAAQ6sI,EAAS/mI,UAAY9F,GAClC6sI,EAASh/H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDg/H,EAASh/H,UAAUhE,YAAcgjI,EAEjCA,EAASh/H,UAAU61H,aAAe,SAAuB/7H,GACrD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEAklI,EAASh/H,UAAU2U,OAAS,SAAiB4qH,GACzC//H,KAAKggI,QAAUD,CACnB,EAEAP,EAASh/H,UAAU64H,OAAS,SAAiB4G,GACzCjgI,KAAKs5H,QAAU2G,CACnB,EAEAT,EAASh/H,UAAU8+H,WAAa,SAAqBpyG,GACjDltB,KAAKkgI,YAAchzG,CACvB,EAEAsyG,EAASh/H,UAAUm0E,KAAO,SAAewrD,GACrCngI,KAAKglG,MAAQm7B,CACjB,EAEAX,EAASh/H,UAAU4/H,iBAAmB,SAA2BtkH,GAC7D,OAAO,IAAI6iH,QAAQD,OAAOj8H,MAAMqZ,EAAM7gB,EAAI+E,KAAK1F,QAAQqlI,UAAWjB,OAAOj8H,MAAMqZ,EAAM5gB,EAAI8E,KAAK1F,QAAQqlI,UAC1G,EAEAH,EAASh/H,UAAU6/H,UAAY,WAC3B,IAAI76H,EAAOxF,KAAKwF,OACZ86H,EAAiBtgI,KAAKogI,iBAAiBpgI,KAAKs5H,QAAQiD,IACpDA,EAAKv8H,KAAKs5H,QAAQiD,GAClBzgH,EAAQ9b,KAAKugI,aAAaD,GAAgBzlI,WAAW0hI,EAAGthI,GAAIshI,EAAGrhI,GAEnE,MAAO,CACHD,EAAGyjI,OAAOl8H,MAAMk8H,OAAOpjH,IAAIQ,EAAM7gB,GAAKuK,EAAKhL,OAASwF,KAAK1F,QAAQqlI,UACjEzkI,EAAGwjI,OAAOl8H,MAAMk8H,OAAOpjH,IAAIQ,EAAM5gB,GAAKsK,EAAKmG,QAAU3L,KAAK1F,QAAQqlI,UAE1E,EAEAH,EAASh/H,UAAUgF,KAAO,WACtB,IAAI+2H,EAAKv8H,KAAKs5H,QAAQiD,GAElBlhH,EADKrb,KAAKs5H,QAAQkD,GACR7/H,QAAQ9B,WAAW0hI,EAAGthI,GAAIshI,EAAGrhI,GAE3C,MAAO,CACHV,MAAO6gB,EAAKpgB,EACZ0Q,OAAQ0P,EAAKngB,EAErB,EAEAskI,EAASh/H,UAAU+/H,aAAe,SAAuB9kI,GACrD,IAAIR,EAAIQ,EAAMR,EACVC,EAAIO,EAAMP,EAEd,OAAO,IAAIyjI,QAAQ1jI,EAAI+E,KAAK1F,QAAQqlI,SAAUzkI,EAAI8E,KAAK1F,QAAQqlI,SACnE,EAEAH,EAASh/H,UAAUggI,cAAgB,WAC/B,IAAIvB,EAAaj/H,KAAK1F,QAAQ2kI,WAC9B,OAAOA,EAAWj/H,KAAKygI,iBAAmBxB,EAAWplI,OACzD,EAEA2lI,EAASh/H,UAAU0R,QAAU,WACzBomH,eAAet4H,KAAKvG,SACpBuG,KAAK6/H,KAAKvkE,OACd,EAEAkkE,EAASh/H,UAAUiwD,MAAQ,WACvBzwD,KAAK6/H,KAAKpvE,QACVzwD,KAAKygI,eAAiB,EACtBzgI,KAAK+wB,QACT,EAEAyuG,EAASh/H,UAAUuwB,OAAS,WACxB,IAII2vG,EAAMzlI,EAAGC,EAFTsK,EAAOxF,KAAKqgI,YACZC,EAAiBtgI,KAAKogI,iBAAiBpgI,KAAKs5H,QAAQiD,IAGxD,IAAKthI,EAAI,EAAGA,EAAIuK,EAAKvK,EAAGA,IACpB,IAAKC,EAAI,EAAGA,EAAIsK,EAAKtK,EAAGA,KACpBwlI,EARO1gI,KAQS2gI,WAAW,CACvB1lI,EAAGqlI,EAAerlI,EAAIA,EACtBC,EAAGolI,EAAeplI,EAAIA,KAGhBunB,SACNi+G,EAAKv8G,MAIrB,EAEAq7G,EAASh/H,UAAUmgI,WAAa,SAAqBC,GACjD,IAAItmI,EAAU0F,KAAK6gI,YAAYD,GAC3BF,EAAO1gI,KAAK6/H,KAAKp/H,IAAIT,KAAKggI,QAAS1lI,GAMvC,OAJKomI,EAAKjnI,QAAQw6E,YACdj0E,KAAKvG,QAAQkJ,OAAO+9H,EAAKjnI,SAGtBinI,CACX,EAEAlB,EAASh/H,UAAUqgI,YAAc,SAAsBD,GACnD,IAAInlI,EAAQuE,KAAK8gI,UAAUF,GACvB9kH,EAAQ9b,KAAKugI,aAAaK,GAC1B1zG,EAASltB,KAAKkgI,YACd7lI,EAASyhB,EAAMnf,QAAQ9B,WAAWqyB,EAAOjyB,GAAIiyB,EAAOhyB,GAExD,MAAO,CACHO,MAAOA,EACPmlI,aAAcA,EACd9kH,MAAOA,EACPzhB,OAAQwkI,WAAWxkI,GACnBs6E,KAAM30E,KAAKglG,MACXx/F,KAAMxF,KAAK1F,QAAQqlI,SACnBoB,UAAW/gI,KAAKwgI,gBAChBZ,YAAa5/H,KAAK1F,QAAQslI,YAC1BoB,iBAAkBhhI,KAAK1F,QAAQ0mI,iBAEvC,EAEAxB,EAASh/H,UAAUsgI,UAAY,SAAoBrlI,GAC/C,IAAIwlI,EAAWvC,OAAOljH,IAAI,EAAGxb,KAAKglG,OAElC,MAAO,CACH/pG,EAAG+E,KAAKkhI,UAAUzlI,EAAMR,EAAGgmI,GAC3B/lI,EAAGmI,WAAW5H,EAAMP,EAAG,EAAG+lI,EAAW,GAE7C,EAEAzB,EAASh/H,UAAU0gI,UAAY,SAAoB5nI,EAAO2nI,GACtD,IAAIp0F,EAAY6xF,OAAOpjH,IAAIhiB,GAAS2nI,EASpC,OANI3nI,GAAS,EACMuzC,EAEAo0F,GAA0B,IAAdp0F,EAAkBo0F,EAAWp0F,EAIhE,EAEO2yF,CACX,CA5Je,CA4Jb7sI,OAEEwuI,UAAa,SAAUxuI,GACvB,SAASwuI,EAAU1sI,EAAI6F,GACnB3H,EAAMwO,KAAKnB,MACXA,KAAKvL,GAAKA,EACVuL,KAAKyiB,SAAU,EACfziB,KAAKq2H,aAAa/7H,GAClB0F,KAAKoH,gBACLpH,KAAKmkB,MACT,CAmGA,OAjGKxxB,IAAQwuI,EAAU1oI,UAAY9F,GACnCwuI,EAAU3gI,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpD2gI,EAAU3gI,UAAUhE,YAAc2kI,EAElCA,EAAU3gI,UAAU0R,QAAU,WAC1B,IAAIzY,EAAUuG,KAAKvG,QACfw6E,EAAax6E,EAAUA,EAAQw6E,WAAa,KAE5Cx6E,IACIw6E,GACAA,EAAWC,YAAYz6E,GAG3BuG,KAAKvG,QAAU,KAEvB,EAEA0nI,EAAU3gI,UAAU61H,aAAe,SAAuB/7H,GACtD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEA6mI,EAAU3gI,UAAU4G,cAAgB,WAChC,IAAImF,EAAKpI,SAASiD,cAAc,OAC5B5B,EAAOxF,KAAK1F,QAAQkL,KAAO,KAC/B+G,EAAG9F,aAAa,MAAO,IACvB8F,EAAG9O,MAAMqxB,SAAW,WACpBviB,EAAG9O,MAAMoyF,QAAU,QACnBtjF,EAAG9O,MAAMjD,MAAQ+R,EAAG9O,MAAM2jI,SAAW57H,EACrC+G,EAAG9O,MAAMkO,OAASY,EAAG9O,MAAM4jI,UAAY77H,EAEvCxF,KAAKvG,QAAU8S,CAkBnB,EAEA40H,EAAU3gI,UAAU2jB,KAAO,WACvB,IAAI1qB,EAAUuG,KAAKvG,QACnBA,EAAQgE,MAAMQ,IAAM6gI,WAAW9+H,KAAK1F,QAAQD,OAAOa,GACnDzB,EAAQgE,MAAMW,KAAO0gI,WAAW9+H,KAAK1F,QAAQD,OAAOY,GAEpD,IAAIqmI,EAAMthI,KAAKshI,MAEXA,GACA7nI,EAAQgN,aAAa,MAAO66H,GAGhC7nI,EAAQgE,MAAMolG,WAAa,UAC3B7iG,KAAKyiB,SAAU,CACnB,EAEA0+G,EAAU3gI,UAAUwwB,KAAO,WACvBhxB,KAAKvG,QAAQgE,MAAMolG,WAAa,SAChC7iG,KAAKyiB,SAAU,CACnB,EAEA0+G,EAAU3gI,UAAU8gI,IAAM,WAEtB,OADgB1C,gBAAgB5+H,KAAK1F,QAAQslI,YACtC2B,CAAUvhI,KAAKwhI,aAC1B,EAEAL,EAAU3gI,UAAUihI,SAAW,WAE3B,OADgB7C,gBAAgB5+H,KAAK1F,QAAQ0mI,iBACtCO,CAAUvhI,KAAKwhI,aAC1B,EAEAL,EAAU3gI,UAAUghI,WAAa,WAC7B,IAAIlnI,EAAU0F,KAAK1F,QAEnB,MAAO,CACHq6E,KAAMr6E,EAAQq6E,KACdosD,UAAWzmI,EAAQymI,UACnBW,EAAGpnI,EAAQq6E,KACX15E,EAAGX,EAAQmB,MAAMR,EACjBC,EAAGZ,EAAQmB,MAAMP,EACjB2R,EAAGvS,EAAQymI,UACXY,QAASrnI,EAAQqnI,QACjBC,EAAGtnI,EAAQqnI,QACXhyG,QAASr1B,EAAQq1B,QACjB/mB,EAAGtO,EAAQq1B,QAEnB,EAEOwxG,CACX,CA5GgB,CA4GdxuI,OAEFiR,kBAAkBu9H,UAAW,CACzBvB,YAAa,GACboB,iBAAkB,KAGtB,IAAIlB,SAAY,SAAUntI,GACtB,SAASmtI,IACLntI,EAAMwO,KAAKnB,MACXA,KAAK6hI,OAAS,EAClB,CA0EA,OAxEKlvI,IAAQmtI,EAASrnI,UAAY9F,GAClCmtI,EAASt/H,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACnDs/H,EAASt/H,UAAUhE,YAAcsjI,EAEjCA,EAASt/H,UAAUC,IAAM,SAAc0U,EAAQ7a,GAK3C,OAJI0F,KAAK6hI,OAAOhoI,QAAUmG,KAAK1F,QAAQmyB,SACnCzsB,KAAK8hI,QAAQ3sH,GAGVnV,KAAK+hI,QAAQznI,EACxB,EAEAwlI,EAASt/H,UAAU86D,MAAQ,WAGvB,IAFA,IAAIjsC,EAAQrvB,KAAK6hI,OAERpnI,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IAC9B40B,EAAM50B,GAAGyX,UAGblS,KAAK6hI,OAAS,EAClB,EAEA/B,EAASt/H,UAAUiwD,MAAQ,WAGvB,IAFA,IAAIphC,EAAQrvB,KAAK6hI,OAERpnI,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IAC9B40B,EAAM50B,GAAGu2B,MAEjB,EAEA8uG,EAASt/H,UAAUuhI,QAAU,SAAkBznI,GAK3C,IAJA,IACIomI,EADArxG,EAAQrvB,KAAK6hI,OAEbptI,EAAK0O,QAAQ7I,EAAQwhB,MAAM5a,WAAa5G,EAAQD,OAAO6G,WAAa5G,EAAQq6E,KAAOr6E,EAAQslI,aAEtFnlI,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IAC9B,GAAI40B,EAAM50B,GAAGhG,KAAOA,EAAI,CACpBisI,EAAOrxG,EAAM50B,GACb,KACJ,CAUJ,OAPIimI,EACAA,EAAKv8G,QAELu8G,EAAO,IAAIS,UAAU1sI,EAAI6F,GACzB0F,KAAK6hI,OAAOviI,KAAKohI,IAGdA,CACX,EAEAZ,EAASt/H,UAAUshI,QAAU,SAAkB3sH,GAK3C,IAJA,IAAIka,EAAQrvB,KAAK6hI,OACbG,GAAW,EACXvmI,GAAS,EAEJhB,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IAAK,CACnC,IAAI8lB,EAAO8O,EAAM50B,GAAGH,QAAQwhB,MAAMU,WAAWrH,GAEzCoL,EAAOyhH,IAAY3yG,EAAM50B,GAAGgoB,UAC5BhnB,EAAQhB,EACRunI,EAAUzhH,EAElB,EAEe,IAAX9kB,IACA4zB,EAAM5zB,GAAOyW,UACbmd,EAAMtc,OAAOtX,EAAO,GAE5B,EAEOqkI,CACX,CA/Ee,CA+EbntI,OAEFiR,kBAAkBk8H,SAAU,CACxBrzG,QAAS,MAGb,IAAIw1G,SAAW1pI,OAAO4a,OAElB+uH,SAAW,SAEXC,WAAc,SAAUnwH,GACxB,SAASmwH,EAAW1oI,EAASa,GACzB0X,EAAW7Q,KAAKnB,MAChB,IAAIsS,EAAOtS,KACPoiI,EAAa3oI,EAAQ,IAAMA,EAE/B6Y,EAAK2H,SAAU,EAEXmoH,EAAWjzH,kBACXtB,SAASC,KAAKhO,MAAM,KAAKuE,SAAQ,SAAS+K,GACtCgzH,EAAWjzH,iBAAiBC,EAAO6oH,MAAM3lH,EAAKyoE,OAAQzoE,IAAO,EACjE,IACAzE,SAASG,GAAGlO,MAAM,KAAKuE,SAAQ,SAAS+K,GACpCgzH,EAAWjzH,iBAAiBC,EAAO6oH,MAAM3lH,EAAK+vH,SAAU/vH,IAAO,EACnE,MAEAzE,SAASC,KAAKhO,MAAM,KAAKuE,SAAQ,SAAS+K,GACtCgzH,EAAWE,YAAYlzH,EAAO6oH,MAAM3lH,EAAKyoE,OAAQzoE,GACrD,IACAzE,SAASG,GAAGlO,MAAM,KAAKuE,SAAQ,SAAS+K,GACpCgzH,EAAWE,YAAYlzH,EAAO6oH,MAAM3lH,EAAK+vH,SAAU/vH,GACvD,KAGJA,EAAKpK,KAAK,CACN,QACA,WACD5N,GAAW,CAAC,EACnB,CAmCA,OAjCK0X,IAAamwH,EAAW1pI,UAAYuZ,GACzCmwH,EAAW3hI,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC/D2hI,EAAW3hI,UAAUhE,YAAc2lI,EAEnCA,EAAW3hI,UAAU+hI,YAAc,WAC/BviI,KAAKia,SAAU,CACnB,EAEAkoH,EAAW3hI,UAAUgiI,cAAgB,WACjCxiI,KAAKia,SAAU,CACnB,EAEAkoH,EAAW3hI,UAAUu6E,OAAS,SAAiB/4E,GAChChC,KAENqB,QAAQ,SAFFrB,KAIFia,SACLjY,EAAE8Q,gBAEV,EAEAqvH,EAAW3hI,UAAU6hI,SAAW,SAAmBrgI,GAC/C,IAAIsQ,EAAOtS,KAEXsS,EAAKjR,QAAQ,WAETiR,EAAK2H,UACLjY,EAAE8Q,iBACFR,EAAKkwH,gBAEb,EAEOL,CACX,CAhEiB,CAgEfnwH,YAEEywH,cAAiB,SAAUzwH,GAC3B,SAASywH,EAAcnoI,GACnB0X,EAAW7Q,KAAKnB,MAChB,IAAIsS,EAAOtS,KACXsS,EAAKowH,eAAgB,EACrBT,SAAS3vH,EAAMhY,GACfgY,EAAKiJ,MAAQ,EAETjJ,EAAKq4C,YACLr4C,EAAKqwH,QAAU,cACfrwH,EAAKswH,WAAa,cAClBtwH,EAAKqD,KAAO,MAEZrD,EAAKqwH,QAAU,eACfrwH,EAAKswH,WAAa,eAClBtwH,EAAKqD,KAAO,IAEpB,CAkEA,OAhEK3D,IAAaywH,EAAchqI,UAAYuZ,GAC5CywH,EAAcjiI,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAClEiiI,EAAcjiI,UAAUhE,YAAcimI,EAEtCA,EAAcjiI,UAAUqiI,YAAc,WAClCZ,SAASjiI,KAAM,CACX8iI,SAAS,EACTJ,eAAe,EACfK,YAAa,EACbC,YAAa,GAErB,EAEAP,EAAcjiI,UAAUyiI,YAAc,SAAsB17H,EAAKlF,GACzDrC,KAAK+iI,cAAgBx7H,GAAOvH,KAAKgjI,cAAgB3gI,IACjDrC,KAAK+iI,YAAcx7H,EACnBvH,KAAKgjI,YAAc3gI,EACnBrC,KAAKswD,SAEb,EAEAmyE,EAAcjiI,UAAU0iI,YAAc,SAAsB7oI,GACxD,OAAOA,EAAS2F,KAAKqC,KAAOhI,EAAS2F,KAAKuH,GAC9C,EAEAk7H,EAAcjiI,UAAU2iI,aAAe,WACnCnjI,KAAK0iI,eAAgB,CACzB,EAEAD,EAAcjiI,UAAUyvF,QAAU,WAC9B,OAAOjwF,KAAK4tB,UAAU5tB,KAAK2iI,QAC/B,EAEAF,EAAcjiI,UAAU4iI,SAAW,WAC/B,OAAOpjI,KAAKvG,QAAQuG,KAAK4iI,WAC7B,EAEAH,EAAcjiI,UAAU6iI,QAAU,SAAkB9nH,GAChDvb,KAAKub,MAAQA,CACjB,EAEAknH,EAAcjiI,UAAU8vD,OAAS,SAAiB8zC,GAC9C,IAAI9xF,EAAOtS,KACP8kB,EAAQxS,EAAKwwH,QAAUxwH,EAAK0wH,YAAc1wH,EAAK8wH,WAC/CE,EAAcx+G,EAAQxS,EAAKiJ,MAC3B/V,EAAO8M,EAAK29E,WAEF,IAAVnrE,GAAgBxS,EAAKowH,iBAIzBpwH,EAAKjQ,IAAMiQ,EAAKwwH,SAAWxwH,EAAKywH,YAAc,EAC9CzwH,EAAK9M,KAAOA,EACZ8M,EAAKwS,MAAQw+G,EACbhxH,EAAK/K,IAAMnF,KAAKmF,IAAI+K,EAAKjQ,IAAKmD,EAAO89H,GACrChxH,EAAKixH,SAAW/9H,EAAOsf,EACvBxS,EAAKkxH,cAAgBF,EAAc99H,GAAQ,EAC3C8M,EAAKmxH,QAAUnxH,EAAKowH,eAAiBY,EAAc99H,EAE9C4+F,GACD9xF,EAAKjR,QAAQ6gI,SAAU5vH,GAE/B,EAEOmwH,CACX,CApFoB,CAoFlBzwH,YAEE0xH,eAAkB,SAAU1xH,GAC5B,SAAS0xH,EAAeppI,GACpB0X,EAAW7Q,KAAKnB,MAChB,IAAIsS,EAAOtS,KAEXsS,EAAKrX,EAAI,IAAIwnI,cAAcR,SAAS,CAChCt3E,YAAY,GACbrwD,IAEHgY,EAAKpX,EAAI,IAAIunI,cAAcR,SAAS,CAChCt3E,YAAY,GACbrwD,IAEHgY,EAAKsb,UAAYtzB,EAAQszB,UACzBtb,EAAKqxH,eAAiBrpI,EAAQipI,SAC9BjxH,EAAKsxH,SAAWtpI,EAAQspI,UAAY,IACpCtxH,EAAKpK,KAAKg6H,SAAU5nI,EACxB,CA6BA,OA3BK0X,IAAa0xH,EAAejrI,UAAYuZ,GAC7C0xH,EAAeljI,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WACnEkjI,EAAeljI,UAAUhE,YAAcknI,EAEvCA,EAAeljI,UAAU6iI,QAAU,SAAkBQ,GACjD7jI,KAAK/E,EAAEooI,QAAQQ,GACf7jI,KAAK9E,EAAEmoI,QAAQQ,GACf7jI,KAAK47D,SACT,EAEA8nE,EAAeljI,UAAUsjI,kBAAoB,WACzC,MAAO,CACH7oI,EAAGmH,KAAKmF,IAAI,GAAIvH,KAAK/E,EAAEuoI,cACvBtoI,EAAGkH,KAAKmF,IAAI,GAAIvH,KAAK9E,EAAEsoI,cAE/B,EAEAE,EAAeljI,UAAUo7D,QAAU,WAC/B,IAAItpD,EAAOtS,KACXsS,EAAKrX,EAAEq1D,SACPh+C,EAAKpX,EAAEo1D,SACPh+C,EAAKmxH,QAAUnxH,EAAKrX,EAAEwoI,SAAWnxH,EAAKpX,EAAEuoI,QACxCnxH,EAAKixH,SAAWjxH,EAAKqxH,gBAAkBvhI,KAAKmF,IAAI+K,EAAKrX,EAAEsoI,SAAUjxH,EAAKpX,EAAEqoI,UACxEjxH,EAAKw/F,SAAW1vG,KAAKC,IAAIiQ,EAAKrX,EAAEsoI,SAAUjxH,EAAKpX,EAAEqoI,UACjDjxH,EAAKjR,QAAQ6gI,SACjB,EAEOwB,CACX,CA/CqB,CA+CnB1xH,YAEE+xH,SAAY,SAAU/xH,GACtB,SAAS+xH,EAASzpI,GACd0X,EAAW7Q,KAAKnB,MAChBiiI,SAASjiI,KAAM1F,EACnB,CA+BA,OA7BK0X,IAAa+xH,EAAStrI,UAAYuZ,GACvC+xH,EAASvjI,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC7DujI,EAASvjI,UAAUhE,YAAcunI,EAEjCA,EAASvjI,UAAU0iI,YAAc,WAC7B,OAAOljI,KAAKgkI,UAAUd,YAAYljI,KAAKikI,QAAQjkI,KAAK2V,MACxD,EAEAouH,EAASvjI,UAAU0jI,SAAW,SAAmBjiI,GAC7C,IAAIqQ,EAAOtS,KACPgkI,EAAY1xH,EAAK0xH,UACjBruH,EAAOrD,EAAKqD,KACZsuH,EAAU3xH,EAAK2xH,QACfn1G,EAAWm1G,EAAQtuH,GAAQ1T,EAE/B,GAAK+hI,EAAUP,QAAf,CAIA,IAAIU,EAAYliI,GAEZ6sB,EAAWk1G,EAAUz8H,KAAOtF,EAAQ,GAAK6sB,EAAWk1G,EAAU3hI,KAAOJ,EAAQ,KAC7EkiI,GAAa7xH,EAAK8xH,YAGtBH,EAAQI,cAAc1uH,EAAMwuH,GAC5B7xH,EAAKjR,QAAQ6gI,SAAU5vH,EATvB,CAUJ,EAEOyxH,CACX,CApCe,CAoCb/xH,YAEEipD,KAAQ,SAAUtoE,GAClB,SAASsoE,EAAK3gE,GACV3H,EAAMwO,KAAKnB,MAEX,IACI/E,EAAGC,EACHkpI,EACAH,EAHA3xH,EAAOtS,KAKXiiI,SAAS3vH,EAAM,CACXgyH,SAAS,GACVhqI,GAEH8pI,EAAa9xH,EAAKgyH,QAAU,GAAM,EAClCL,EAAU3xH,EAAK2xH,QAEf3xH,EAAKrX,EAAIA,EAAI,IAAI8oI,SAAS,CACtBpuH,KAAM,IACNquH,UAAW1xH,EAAKiyH,WAAWtpI,EAC3BmpI,WAAYA,EACZH,QAASA,IAGb3xH,EAAKpX,EAAIA,EAAI,IAAI6oI,SAAS,CACtBpuH,KAAM,IACNquH,UAAW1xH,EAAKiyH,WAAWrpI,EAC3BkpI,WAAYA,EACZH,QAASA,IAGb3xH,EAAKgE,WAAWpO,KAAK,CACjB,QACA,OACA,MACA,eACA,iBACD,CACC8yE,aAAc,SAAsBh5E,GAChCsQ,EAAKkyH,QAAUxiI,EAEfsQ,EAAKjY,OAAS0I,cAAcuP,EAAKiyH,WAAW32G,UAChD,EACA7W,MAAO,SAAe/U,GAClB,IAAIyiI,EAAgBziI,EAAEoN,MAAMK,OAAOC,QAAQ,KAEvC+0H,GAAiBA,EAAcpJ,QAAQ,kCACvCr5H,EAAE6Q,OAAO5E,QAEjB,EACAitE,cAAe,SAAuBl5E,GAClC,IAMI42F,EANA8rC,EAAkBpyH,EAAKkyH,QACvBG,EAAiBD,EAAgBvvH,OACjCA,EAASnT,EAAEmT,OACX6iF,EAAah2F,EAAEoT,SAAWsvH,EAAgBtvH,SAC1CmuH,EAAWjxH,EAAKiyH,WAAWhB,SAC3BK,EAAWtxH,EAAKiyH,WAAWX,SAE3BK,EAAQ1oH,OAASgoH,GAAYvrC,EAAa,IAC1CA,GAAiC,IAAlB,EAAIA,IAGnBisC,EAAQ1oH,MAAQy8E,GAAc4rC,IAC9B5rC,EAAa4rC,EAAWK,EAAQ1oH,OAGpC,IAAIqmD,EAAUqiE,EAAQhpI,EAAIqX,EAAKjY,OAAO+D,KAClC0jE,EAAUmiE,EAAQ/oI,EAAIoX,EAAKjY,OAAO4D,IACtC26F,EAAc,CACV39F,GAAI2mE,EAAU+iE,EAAe1pI,GAAK+8F,EAAa7iF,EAAOla,EAAI2mE,EAC1D1mE,GAAI4mE,EAAU6iE,EAAezpI,GAAK88F,EAAa7iF,EAAOja,EAAI4mE,GAG9DmiE,EAAQW,UAAU5sC,GAElB/8F,EAAEipI,SAAStrC,EAAY39F,GACvBC,EAAEgpI,SAAStrC,EAAY19F,GAEvBoX,EAAKiyH,WAAWlB,QAAQY,EAAQ1oH,OAChCjJ,EAAKkyH,QAAUxiI,EAEfA,EAAE8Q,gBACN,EACA/E,KAAM,SAAc/L,GACZA,EAAEoN,MAAMK,OAAOo1H,QAAQzlI,MAAM,qBAI7BnE,EAAE+oI,UAAUP,SAAWvoI,EAAE8oI,UAAUP,SACnCxoI,EAAEipI,SAASliI,EAAE/G,EAAEgH,OACf/G,EAAEgpI,SAASliI,EAAE9G,EAAE+G,OACfD,EAAE8Q,kBAEF9Q,EAAEsS,MAAM4D,OAEhB,EACA5X,IAAK,SAAa0B,GACdA,EAAE8Q,gBACN,GAER,CAMA,OAJKngB,IAAQsoE,EAAKxiE,UAAY9F,GAC9BsoE,EAAKz6D,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WAC/Cy6D,EAAKz6D,UAAUhE,YAAcy+D,EAEtBA,CACX,CA1GW,CA0GTtoE,OAEEkI,UAAY,SAASI,EAAGC,EAAGqgB,GAC3B,MAAO,eAAiBtgB,EAAI,MAAQC,EAAI,eAAiBqgB,EAAQ,GACrE,EAEIupH,QAAW,SAAU9yH,GACrB,SAAS8yH,EAAQrrI,GACbuY,EAAW7Q,KAAKnB,MAEhB,IAAIsS,EAAOtS,KAEXsS,EAAK7Y,QAAUA,EACf6Y,EAAK7Y,QAAQgE,MAAMsnI,gBAAkB,WACrCzyH,EAAKrX,EAAI,EACTqX,EAAKpX,EAAI,EACToX,EAAKiJ,MAAQ,EAEb,IAAIq9E,EAAc/9F,UAAUyX,EAAKrX,EAAGqX,EAAKpX,EAAGoX,EAAKiJ,OACjDjJ,EAAK7Y,QAAQgE,MAAM/J,UAAYklG,EAE/BtmF,EAAK0yH,iBAAiBpsC,EAC1B,CA8DA,OA5DK5mF,IAAa8yH,EAAQrsI,UAAYuZ,GACtC8yH,EAAQtkI,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC5DskI,EAAQtkI,UAAUhE,YAAcsoI,EAEhCA,EAAQtkI,UAAU6jI,cAAgB,SAAwB1uH,EAAMsvH,GAC5DjlI,KAAK2V,IAASsvH,EACdjlI,KAAK47D,SACT,EAEAkpE,EAAQtkI,UAAU0kI,QAAU,SAAkB3pH,GAC1Cvb,KAAKub,MAAQA,EACbvb,KAAK47D,SACT,EAEAkpE,EAAQtkI,UAAUokI,UAAY,SAAoB5sC,GAC9Ch4F,KAAKub,OAASy8E,EACdh4F,KAAK47D,SACT,EAEAkpE,EAAQtkI,UAAU3F,UAAY,SAAoB+9F,GAC9C54F,KAAK/E,GAAK29F,EAAY39F,EACtB+E,KAAK9E,GAAK09F,EAAY19F,EACtB8E,KAAK47D,SACT,EAEAkpE,EAAQtkI,UAAU2kI,SAAW,SAAmBxvH,EAAMrc,GAClD0G,KAAK2V,GAAQrc,EACb0G,KAAK47D,SACT,EAEAkpE,EAAQtkI,UAAUgoB,OAAS,SAAiBowE,GACxCqpC,SAASjiI,KAAM44F,GACf54F,KAAK47D,SACT,EAEAkpE,EAAQtkI,UAAUo7D,QAAU,WACxB,IAGIwpE,EAHA9yH,EAAOtS,KACP/E,EAAIqX,EAAKrX,EACTC,EAAIoX,EAAKpX,EAGToX,EAAK1X,QACLK,EAAImH,KAAKxH,MAAMK,GACfC,EAAIkH,KAAKxH,MAAMM,KAGnBkqI,EAAiBvqI,UAAUI,EAAGC,EAAGoX,EAAKiJ,UAEfjJ,EAAKsmF,cACxBtmF,EAAK7Y,QAAQgE,MAAM/J,UAAY0xI,EAE/B9yH,EAAK0yH,iBAAiBI,GACtB9yH,EAAKjR,QAAQ6gI,UAErB,EAEA4C,EAAQtkI,UAAUwkI,iBAAmB,SAA2BpsC,GAC5D54F,KAAK44F,YAAcA,CACvB,EAEOksC,CACX,CA/Ec,CA+EZ9yH,YAEEqzH,MAAQryI,QAERsyI,WAAc,SAAU/H,GACxB,SAAS+H,EAAWlkI,EAAK9G,GACrBijI,EAAMp8H,KAAKnB,KAAMoB,EAAK9G,GAEtB0F,KAAKk7H,KAAOjD,MAAMj4H,KAAKk7H,KAAMl7H,MAE7BA,KAAK8Y,QAAU3kB,UAAU2R,OAAO9F,KAAKvG,QAAS,CAC1Ce,MAAO4G,EAAIo8H,cAAcrb,YACzBx2G,OAAQvK,EAAIo8H,cAAcpb,eAG9BpiH,KAAKulI,YACLvlI,KAAKikI,QAAU,IAAIa,QAAQ9kI,KAAK8Y,QAAQrf,SACxCuG,KAAKwlI,SAAW,GAEhBxlI,KAAK21F,OAAS31F,KAAKylI,SAAS,cAC5BzlI,KAAK8Y,QAAQ5Q,KAAK,QAASlI,KAAK21F,QAChC31F,KAAKq2F,YAAcr2F,KAAKylI,SAAS,mBACjCzlI,KAAK8Y,QAAQ5Q,KAAK,aAAclI,KAAKq2F,aACrCr2F,KAAK8Y,QAAQ5Q,KAAK,aAAclI,KAAK0lI,YAAYx9H,KAAKlI,MAC1D,CAsNA,OApNKu9H,IAAQ+H,EAAW7sI,UAAY8kI,GACpC+H,EAAW9kI,UAAYjI,OAAOuN,OAAQy3H,GAASA,EAAM/8H,WACrD8kI,EAAW9kI,UAAUhE,YAAc8oI,EAEnCA,EAAW9kI,UAAU0R,QAAU,WAC3BqrH,EAAM/8H,UAAU0R,QAAQ/Q,KAAKnB,MAE7BA,KAAK8Y,QAAQ5G,SACjB,EAEAozH,EAAW9kI,UAAUk9H,OAAS,WAC1BH,EAAM/8H,UAAUk9H,OAAOv8H,KAAKnB,MAE5BA,KAAK2lI,oBAEL3lI,KAAKu+H,MAAQv+H,KAAKq+H,YAEdr+H,KAAKs+H,YACLt+H,KAAK4lI,MAAM5lI,KAAKu+H,MAExB,EAEA+G,EAAW9kI,UAAU+kI,UAAY,WAC7BvlI,KAAK6lI,MAAQ,IAAIR,MACjBrlI,KAAK8Y,QAAQs5E,KAAKpyF,KAAK6lI,MAC3B,EAEAP,EAAW9kI,UAAUi9H,aAAe,WAChCz9H,KAAK8Y,QAAQjP,QACb7J,KAAKulI,WACT,EAEAD,EAAW9kI,UAAUgwF,QAAU,WAC3BxwF,KAAK8Y,QAAQtT,KAAKxF,KAAKoB,IAAIoE,OAC/B,EAEA8/H,EAAW9kI,UAAU69H,UAAY,WAC7B,IAAIzyH,EAAO2xH,EAAM/8H,UAAU69H,UAAUl9H,KAAKnB,MAE1C,MAAkB,sBAAd4L,EAAK/H,KACE+H,EAAKk6H,SAGE,uBAAdl6H,EAAK/H,KACE+H,EAAKm6H,WAGTn6H,CACX,EAEA05H,EAAW9kI,UAAUolI,MAAQ,SAAgBh6H,GAGzC5L,KAAKu+H,MAAQ3yH,EACb5L,KAAKgmI,gBAEAhmI,KAAKimI,UACNjmI,KAAKimI,QAAU,IAAIC,cAAclmI,KAAKoB,IAAKpB,KAAK1F,QAAQmD,MAAOuC,OAKnE,IAFA,IAAI4tB,EAAY,IAAIy3G,MAEX5qI,EAAI,EAAGA,EAAImR,EAAK/R,OAAQY,IAAK,CAClC,IAAIm3C,EAZO5xC,KAYUimI,QAAQE,MAAMv6H,EAAKnR,IAEpCm3C,GACAhkB,EAAUjrB,OAAOivC,EAEzB,CAEA5xC,KAAK6lI,MAAMh8H,QACX7J,KAAK6lI,MAAMljI,OAAOirB,EACtB,EAEA03G,EAAW9kI,UAAU4lI,aAAe,SAAuBx0F,GACvD,IAAIy0F,GAAY,EAUhB,GAJIz0F,aAAiBr+C,UAAYyM,KAAKoB,IAAI9G,QAAQgsI,wBAC9CD,EAAYxjI,QAAQ7C,KAAKw2E,cAAc5kC,MAGtCy0F,EAAW,CACZ,IAAI/kI,EAAO,CACPilI,MAAOvmI,KACP4xC,MAAOA,GAGXy0F,EAAYrmI,KAAKoB,IAAIC,QAAQ,eAAgBC,EACjD,CAEA,OAAO+kI,CACX,EAEAf,EAAW9kI,UAAUgmI,eAAiB,SAAyBxkI,GAC3DA,EAAEukI,MAAQvmI,KACVA,KAAKoB,IAAIC,QAAQ,sBAAuBW,EAC5C,EAEAsjI,EAAW9kI,UAAUg2E,cAAgB,SAAwB5kC,GACzD,IAAItgB,EAAStxB,KAAKoB,IAAI+nD,QAAQjhD,KAAK,CAC/B2M,SAAU+8B,EAAM/8B,UACjB+8B,EAAMjtB,UAMT,OAJI2M,GACAtxB,KAAKwlI,SAASlmI,KAAKgyB,GAGhBA,CACX,EAEAg0G,EAAW9kI,UAAUwlI,cAAgB,WAGjC,IAFA,IAESvrI,EAAI,EAAGA,EAAIuF,KAAKwlI,SAAS3rI,OAAQY,IAF3BuF,KAGFoB,IAAI+nD,QAAQiyC,OAHVp7F,KAG0BwlI,SAAS/qI,IAGlDuF,KAAKwlI,SAAW,EACpB,EAEAF,EAAW9kI,UAAU06H,KAAO,WACnBl7H,KAAKymI,WACNzmI,KAAKymI,UAAW,EAChBzmI,KAAK8Y,QAAQ6+E,kBAErB,EAEA2tC,EAAW9kI,UAAUm9H,QAAU,SAAkB37H,GAC7Cu7H,EAAM/8H,UAAUm9H,QAAQx8H,KAAKnB,KAAMgC,GACnChC,KAAK2lI,oBACL3lI,KAAK8Y,QAAQ++E,iBACb73F,KAAKymI,UAAW,CACpB,EAEAnB,EAAW9kI,UAAUmlI,kBAAoB,WACrC,IAAIvkI,EAAMpB,KAAKoB,IACXm7H,EAAKn7H,EAAIslI,eAAetlI,EAAIi4H,SAASkD,IAErCv8H,KAAK8Y,QAAQje,YACbmF,KAAK8Y,QAAQje,UAAU0hI,GACvBv8H,KAAKikI,QAAQz7G,OAAO,CAChBvtB,EAAGshI,EAAGthI,EACNC,EAAGqhI,EAAGrhI,IAGlB,EAEAoqI,EAAW9kI,UAAUmmI,WAAa,SAAqB3kI,GACnD,MAAO,CACHukI,MAAOvmI,KACP4mI,WAAY5mI,KAAKw+H,cACjB5sF,MAAO5vC,EAAEvI,QACTotI,YAAa7mI,KAAKu+H,OAAS,IAAIxkI,QAAQiI,EAAEvI,QAAQkrB,UACjDnP,cAAexT,EAAEwT,cAEzB,EAEA8vH,EAAW9kI,UAAUilI,SAAW,SAAmBv2H,GAC/C,IAAI+D,EAAWjT,KAEf,OAAO,SAAUgC,GACTA,EAAEvI,SACFwZ,EAAS7R,IAAIC,QAAQ6N,EAAW+D,EAAS0zH,WAAW3kI,GAE5D,CACJ,EAEAsjI,EAAW9kI,UAAUklI,YAAc,SAAsB1jI,GACrD,GAAKA,EAAEvI,QAAP,CAIAuG,KAAKoB,IAAIC,QAAQ,kBAAmBrB,KAAK2mI,WAAW3kI,IAEpD,IAAI4vC,EAAQ5vC,EAAEvI,QACVkB,EAASqF,KAAK8mI,eAAe9kI,GACjChC,KAAKoB,IAAImwF,SAASptE,KAAKxpB,EAAQqF,KAAK+mI,gBAAgBn1F,GANpD,CAOJ,EAEA0zF,EAAW9kI,UAAUumI,gBAAkB,SAA0Bn1F,GAC7D,MAAO,CACH/tC,KAAM,QACN+iI,WAAY5mI,KAAKw+H,cACjB1kI,UAAW,sBACX6qB,SAAUitB,EAAMjtB,SAChB9P,SAAU+8B,EAAM/8B,SAExB,EAEAywH,EAAW9kI,UAAUsmI,eAAiB,SAAyB9kI,GAC3D,IAAI2lB,EAAS3nB,KAAKoB,IAAI4lI,YAAYhlI,EAAEwT,eACpC,MAAO,CACHvX,IAAK0pB,EAAOzsB,EACZkD,KAAMupB,EAAO1sB,EAErB,EAEAqqI,EAAW9kI,UAAUo9H,UAAY,WAC7BL,EAAM/8H,UAAUo9H,UAAUz8H,KAAKnB,MAC/BA,KAAKinI,YAAchP,MAAMj4H,KAAKk7H,KAAMl7H,MACpCA,KAAKoB,IAAI8G,KAAK,MAAOlI,KAAKknI,WAC9B,EAEA5B,EAAW9kI,UAAUs9H,YAAc,WAC/BP,EAAM/8H,UAAUs9H,YAAY38H,KAAKnB,MACjCA,KAAKoB,IAAI+Q,OAAO,MAAOnS,KAAKinI,YAChC,EAEO3B,CACX,CA3OiB,CA2Of/H,OAEF35H,kBAAkB0hI,WAAY,CAC1BtnC,UAAU,EACV96E,OAAQ,MAGZ,IAAIgjH,cAAiB,SAAUvzI,GAC3B,SAASuzI,EAAciB,EAASC,EAActmI,GAC1CnO,EAAMwO,KAAKnB,MACXA,KAAKc,SAAWA,EAChBd,KAAKmnI,QAAUA,EACfnnI,KAAKvC,MAAQ2pI,CACjB,CA2IA,OAzIKz0I,IAAQuzI,EAAcztI,UAAY9F,GACvCuzI,EAAc1lI,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACxD0lI,EAAc1lI,UAAUhE,YAAc0pI,EAEtCA,EAAc1lI,UAAU2lI,MAAQ,SAAgBz+H,GAC5C,IAAI8lD,EAAO,IAAI63E,MACXgC,GAAS,EAcb,MAZkB,YAAd3/H,EAAK7D,MACLwjI,GAAS,EACTrnI,KAAKsnI,gBAAgB95E,EAAM9lD,EAAKsrG,SAAUtrG,GAC1C1H,KAAKunI,gBAAgB/5E,EAAM9lD,IAE3B1H,KAAKsnI,gBAAgB95E,EAAM9lD,EAAMA,GAGjC2/H,GAAU75E,EAAK5rC,SAAS/nB,OAAS,IACjC2zD,EAAOA,EAAK5rC,SAAS,IAGlB4rC,CACX,EAEA04E,EAAc1lI,UAAUgnI,cAAgB,SAAwB51F,GAC5D,IAAIy0F,GAAY,EAMhB,OAJIrmI,KAAKc,UAAYd,KAAKc,SAASslI,eAC/BC,EAAYrmI,KAAKc,SAASslI,aAAax0F,IAGpCy0F,CACX,EAEAH,EAAc1lI,UAAU+mI,gBAAkB,SAA0Br7G,EAAOvH,GACnE3kB,KAAKc,UAAYd,KAAKc,SAAS0lI,gBAC/BxmI,KAAKc,SAAS0lI,eAAe,CACzBt6G,MAAOA,EACPvH,SAAUA,EACV8iH,WAAY9iH,EAAS8iH,YAGjC,EAEAvB,EAAc1lI,UAAU8mI,gBAAkB,SAA0B15G,EAAWolF,EAAUruF,GACrF,IAGIlqB,EACAL,EAJA6Y,EAAWjT,KAEXqrD,EAAS2nD,EAASpa,YAItB,OAAQoa,EAASnvG,MACb,IAAK,aACDzJ,EAAO4F,KAAK0nI,aAAa95G,EAAW,CAACy9B,GAAS1mC,GAC9C3kB,KAAK2nI,aAAavtI,GAClB,MACJ,IAAK,kBACD,IAAKK,EAAI,EAAGA,EAAI4wD,EAAOxxD,OAAQY,IAC3BL,EAAO6Y,EAASy0H,aAAa95G,EAAW,CAACy9B,EAAO5wD,IAAKkqB,GACrD1R,EAAS00H,aAAavtI,GAE1B,MACJ,IAAK,UACD4F,KAAK0nI,aAAa95G,EAAWy9B,EAAQ1mC,GACrC,MACJ,IAAK,eACD,IAAKlqB,EAAI,EAAGA,EAAI4wD,EAAOxxD,OAAQY,IAC3BwY,EAASy0H,aAAa95G,EAAWy9B,EAAO5wD,GAAIkqB,GAEhD,MACJ,IAAK,QACD3kB,KAAK4nI,WAAWh6G,EAAWy9B,EAAQ1mC,GACnC,MACJ,IAAK,aACD,IAAKlqB,EAAI,EAAGA,EAAI4wD,EAAOxxD,OAAQY,IAC3BwY,EAAS20H,WAAWh6G,EAAWy9B,EAAO5wD,GAAIkqB,GAM1D,EAEAuhH,EAAc1lI,UAAUmnI,aAAe,SAAuBvtI,GAC1D,IAAIM,EAAWN,EAAKM,UAEhBA,EAASb,OAAS,IAAMa,EAAS,GAAGC,SAASkhB,OAAOzY,KAAK1I,GAAUC,aACnEP,EAAKE,QAAQkqB,KAAO,KAE5B,EAEA0hH,EAAc1lI,UAAUqnI,WAAa,SAAqBj6G,EAAWgkB,GAKjE,OAJK5xC,KAAKwnI,cAAc51F,IACpBhkB,EAAUjrB,OAAOivC,GAGdA,CACX,EAEAs0F,EAAc1lI,UAAUknI,aAAe,SAAuB95G,EAAWk6G,EAAOnjH,GAC5E,IAAIitB,EAAQ5xC,KAAK+nI,cAAcD,GAG/B,OAFAl2F,EAAMjtB,SAAWA,EACjBitB,EAAM/8B,SAAW7U,KAAKmnI,QAAQa,eAAep2F,EAAM7hB,OAAO5a,UACnDnV,KAAK6nI,WAAWj6G,EAAWgkB,EACtC,EAEAs0F,EAAc1lI,UAAUunI,cAAgB,SAAwBD,GAM5D,IALA,IAGI1tI,EAAO,IADA0tI,EAAMjuI,OAAS,EAAIpG,UAAYV,QACtBiN,KAAKvC,OAEhBhD,EAAI,EAAGA,EAAIqtI,EAAMjuI,OAAQY,IAC9B,IAAK,IAAIkS,EAAI,EAAGA,EAAIm7H,EAAMrtI,GAAGZ,OAAQ8S,IAAK,CACtC,IAAImP,EAPG9b,KAOcmnI,QAAQT,eAAezT,SAAS0C,WAAWmS,EAAMrtI,GAAGkS,KAC/D,IAANA,EACAvS,EAAKouB,OAAO1M,EAAM7gB,EAAG6gB,EAAM5gB,GAE3Bd,EAAKsnB,OAAO5F,EAAM7gB,EAAG6gB,EAAM5gB,EAEnC,CAGJ,OAAOd,CACX,EAEA8rI,EAAc1lI,UAAUonI,WAAa,SAAqBh6G,EAAWy9B,EAAQ1mC,GACzE,IAAI9P,EAAWo+G,SAAS0C,WAAWtqE,GAC/BvvC,EAAQ9b,KAAKmnI,QAAQT,eAAe7xH,GACpC66B,EAAS,IAAIl8C,SAASsoB,EAAO,IAC7B81B,EAAQ,IAAIr+C,SAASm8C,EAAQ1vC,KAAKvC,OAKtC,OAHAm0C,EAAMjtB,SAAWA,EACjBitB,EAAM/8B,SAAWA,EAEV7U,KAAK6nI,WAAWj6G,EAAWgkB,EACtC,EAEOs0F,CACX,CAlJoB,CAkJlBvzI,OAEEs1I,YAAe,SAAU3C,GACzB,SAAS2C,IACL3C,EAAW3jI,MAAM3B,KAAMjD,UAC3B,CA4HA,OA1HKuoI,IAAa2C,EAAYxvI,UAAY6sI,GAC1C2C,EAAYznI,UAAYjI,OAAOuN,OAAQw/H,GAAcA,EAAW9kI,WAChEynI,EAAYznI,UAAUhE,YAAcyrI,EAEpCA,EAAYznI,UAAU69H,UAAY,WAE9B,OADWr+H,KAAK1F,QAAQsR,MAAQ,EAEpC,EAEAq8H,EAAYznI,UAAUolI,MAAQ,SAAgBh6H,GAC1C,IAAIqH,EAAWjT,KAKf,GAHAA,KAAKu+H,MAAQ3yH,EACb5L,KAAK8Y,QAAQjP,QAEO,IAAhB+B,EAAK/R,OAAT,CAIA,IAAIS,EAAU0F,KAAK1F,QACfwxC,EAAW5sC,OAAO5E,EAAQ4tI,YAE1BC,EAAUv8H,EAAKtC,MAAM,GACzB6+H,EAAQxnH,MAAK,SAASjU,EAAG/D,GACrB,OAAOmjC,EAASnjC,GAAKmjC,EAASp/B,EAClC,IAMA,IAJA,IACI6O,EADA6sH,EAAYpoI,KAAKqoI,aAEjBC,EAAcppI,OAAOc,KAAK1F,QAAQiuI,eAE7B9tI,EAAI,EAAGA,EAAI0tI,EAAQtuI,OAAQY,IAAK,CACrC,IAAIkqB,EAAWwjH,EAAQ1tI,GACnBoa,EAAWyzH,EAAY3jH,GACvBrrB,EAAQwyC,EAASnnB,GAErB,GAAI9hB,QAAQgS,IAAahS,QAAQvJ,GAAQ,CAChCiiB,IACDA,EAAQ,IAAI6sH,EAAU,CAClB,EACA9uI,GACD,CACCgB,EAAQ09D,QACR19D,EAAQmyB,WAIhB5X,EAAWo+G,SAASntH,OAAO+O,GAE3B,IAAIM,EAASlC,EAAS7R,IAAIslI,eAAe7xH,GACrCrP,EAAO+V,EAAMna,IAAI9H,GACjBkvI,EAASv1H,EAASw1H,cAAc,CAChCtzH,OAAQA,EACR3P,KAAMA,EACN/H,MAAOnD,EAAQmD,MACfknB,SAAUA,EACV9P,SAAUA,IAGd2zH,EAAO7jH,SAAWA,EAClB6jH,EAAO3zH,SAAWA,EAClB2zH,EAAOlvI,MAAQA,EAEf2Z,EAASy1H,YAAYF,EACzB,CACJ,CAhDA,CAiDJ,EAEAP,EAAYznI,UAAU6nI,WAAa,WAC/B,IAAI9sH,EAAQvb,KAAK1F,QAAQihB,MAEzB,OAAIzf,WAAWyf,GACJA,EAGJotH,OAAOptH,EAClB,EAEA0sH,EAAYznI,UAAUioI,cAAgB,SAAwBnnI,GAC1D,IAAIknI,EAASxoI,KAAK1F,QAAQkuI,OAM1B,OAJK1sI,WAAW0sI,KACZA,EAASI,QAAQJ,IAGdA,EAAOlnI,EAClB,EAEA2mI,EAAYznI,UAAUkoI,YAAc,SAAsB92F,GACtD,IAAItwC,EAAO,CACPilI,MAAOvmI,KACP4xC,MAAOA,GAGK5xC,KAAKoB,IAAIC,QAAQ,eAAgBC,IAG7CtB,KAAK8Y,QAAQs5E,KAAKxgD,EAE1B,EAEAq2F,EAAYznI,UAAUumI,gBAAkB,SAA0Bn1F,GAC9D,MAAO,CACH/tC,KAAM,SACN+iI,WAAY5mI,KAAKw+H,cACjB1kI,UAAW,uBACX6qB,SAAUitB,EAAMjtB,SAChB9P,SAAU+8B,EAAM/8B,SAChBvb,MAAOs4C,EAAMt4C,MAErB,EAEA2uI,EAAYznI,UAAUsmI,eAAiB,SAAyB9kI,GAC5D,IACImT,EADQnT,EAAEvI,QACKs2B,OAAO5a,SAE1B,MAAO,CACHlX,IAAKkX,EAAOja,EACZkD,KAAM+W,EAAOla,EAErB,EAEOgtI,CACX,CAhIkB,CAgIhB3C,YAEF1hI,kBAAkBqkI,YAAa,CAE3BM,cAAe,WACfL,WAAY,QACZlwE,QAAS,EACTvrC,QAAS,IACTlR,MAAO,OACPitH,OAAQ,SAERtlH,OAAQ,MAGZ,IAAI2lH,UAAa,SAAUl2I,GACvB,SAASk2I,EAAUC,EAAQzzG,GACvB1iC,EAAMwO,KAAKnB,MAEXA,KAAK+oI,QAAUD,EACf9oI,KAAKwlC,OAASnQ,EAEd,IAAI2zG,EAAc5mI,KAAKiT,KAAKyzH,EAAO,IAAM1mI,KAAKiT,KAAKyzH,EAAO,IACtDG,EAAc5zG,EAAM,GAAKA,EAAM,GAEnCr1B,KAAKkpI,OAASD,EAAcD,CAChC,CAWA,OATKr2I,IAAQk2I,EAAUpwI,UAAY9F,GACnCk2I,EAAUroI,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDqoI,EAAUroI,UAAUhE,YAAcqsI,EAElCA,EAAUroI,UAAUY,IAAM,SAAc9H,GACpC,IAAI6vI,GAAO/mI,KAAKiT,KAAK/b,GAAS8I,KAAKiT,KAAKrV,KAAK+oI,QAAQ,KAAO/oI,KAAKkpI,OACjE,OAAOlpI,KAAKwlC,OAAO,GAAK2jG,CAC5B,EAEON,CACX,CAvBgB,CAuBdl2I,OAEEg2I,OAAS,CACTtzH,KAAMwzH,WAGND,QAAU,CACVl5F,OAAQ,SAASpuC,GACb,IAAI8nI,EAAM,IAAI51I,SAAS8N,EAAK6T,OAAQ7T,EAAKkE,KAAO,GAChD,OAAO,IAAIjS,SAAS61I,EAAK9nI,EAAK7D,MAClC,EAEA4rI,OAAQ,SAAS/nI,GACb,IAAIlH,EAAO,IAAIrH,OAAOuO,EAAK7D,OACvB4sD,EAAW/oD,EAAKkE,KAAO,EACvB2P,EAAS7T,EAAK6T,OAElB,OADA/a,EAAKouB,OAAOrT,EAAOla,EAAIovD,EAAUl1C,EAAOja,EAAImvD,GAAU3oC,OAAOvM,EAAOla,EAAIovD,EAAUl1C,EAAOja,EAAImvD,GAAU3oC,OAAOvM,EAAOla,EAAIovD,EAAUl1C,EAAOja,EAAImvD,GAAU3oC,OAAOvM,EAAOla,EAAIovD,EAAUl1C,EAAOja,EAAImvD,GAAU9oC,QAClMnnB,CACX,GAGAkvI,MAAQ,QACRC,YAAc,aACdC,YAAc,aAEdC,SAAWlxI,OAAO4a,OAClBu2H,kBAAoB,WACpBC,aAAe,IAAMD,kBAErBE,YAAe,SAAUrM,GACzB,SAASqM,EAAYxoI,EAAK9G,GACtBijI,EAAMp8H,KAAKnB,KAAMoB,EAAK9G,GAEtB0F,KAAK6pI,oBAAsB5R,MAAMj4H,KAAK8pI,aAAc9pI,MACpD2O,GAAG3O,KAAKvG,QAAS6vI,MAAOK,aAAc3pI,KAAK6pI,qBAE3C7pI,KAAKqvB,MAAQ,GAEbrvB,KAAK4lI,MAAM5lI,KAAKq+H,YACpB,CA0JA,OAxJKd,IAAQqM,EAAYnxI,UAAY8kI,GACrCqM,EAAYppI,UAAYjI,OAAOuN,OAAQy3H,GAASA,EAAM/8H,WACtDopI,EAAYppI,UAAUhE,YAAcotI,EAEpCA,EAAYppI,UAAU0R,QAAU,WAC5BqrH,EAAM/8H,UAAU0R,QAAQ/Q,KAAKnB,MAC7B+O,IAAI/O,KAAKvG,QAAS6vI,MAAOtpI,KAAK6pI,qBAC9B7pI,KAAK6J,OACT,EAEA+/H,EAAYppI,UAAUmJ,IAAM,SAAcrI,GAGtC,IAAIjI,QAAQiI,GAKR,OAAOtB,KAAK+pI,QAAQzoI,GAJpB,IAAK,IAAI7G,EAAI,EAAGA,EAAI6G,EAAKzH,OAAQY,IAHtBuF,KAIE+pI,QAAQzoI,EAAK7G,GAKlC,EAEAmvI,EAAYppI,UAAU46F,OAAS,SAAiB9pE,GAC5CA,EAAOpf,UACP,IAAIzW,GAASuE,KAAKqvB,OAAS,IAAIt1B,QAAQu3B,GAEnC71B,GAAS,GACTuE,KAAKqvB,MAAMtc,OAAOtX,EAAO,EAEjC,EAEAmuI,EAAYppI,UAAUqJ,MAAQ,WAG1B,IAFA,IAESpP,EAAI,EAAGA,EAAIuF,KAAKqvB,MAAMx1B,OAAQY,IAFxBuF,KAGFqvB,MAAM50B,GAAGyX,UAGtBlS,KAAKqvB,MAAQ,EACjB,EAEAu6G,EAAYppI,UAAU8vD,OAAS,SAAiBh/B,GAC5C,IAAIzc,EAAWyc,EAAOzc,WAEtB,GAAIA,EAAU,CACVyc,EAAOwoC,OAAO95D,KAAKoB,IAAIslI,eAAe7xH,IAEtC,IAAIvT,EAAO,CACPgwB,OAAQA,EACRi1G,MAAOvmI,MAGXA,KAAKoB,IAAIC,QAAQ,iBAAkBC,EACvC,CACJ,EAEAsoI,EAAYppI,UAAUk9H,OAAS,WAG3BH,EAAM/8H,UAAUk9H,OAAOv8H,KAAKnB,MAI5B,IAFA,IAAIqvB,EAAQrvB,KAAKqvB,MAER50B,EAAI,EAAGA,EAAI40B,EAAMx1B,OAAQY,IANnBuF,KAOFswD,OAAOjhC,EAAM50B,GAE9B,EAEAmvI,EAAYppI,UAAU0H,KAAO,SAAe5N,EAASqqB,GACjD,IAAI2M,EAAS04G,OAAOlkI,OAAOxL,EAAS0F,KAAK1F,SACzCg3B,EAAO3M,SAAWA,EAElB,IAAIrjB,EAAO,CACPgwB,OAAQA,EACRi1G,MAAOvmI,MAKX,IAFgBA,KAAKoB,IAAIC,QAAQ,gBAAiBC,GAI9C,OADAtB,KAAK2J,IAAI2nB,GACFA,CAEf,EAEAs4G,EAAYppI,UAAUupI,QAAU,SAAkBE,GAC9C,IAAI34G,EAAS04G,OAAOlkI,OAAOmkI,EAAKjqI,KAAK1F,SAErC,OADAg3B,EAAO44G,MAAMlqI,MACNsxB,CACX,EAEAs4G,EAAYppI,UAAU69H,UAAY,WAE9B,OADWr+H,KAAK1F,QAAQsR,MAAQ,EAEpC,EAEAg+H,EAAYppI,UAAUolI,MAAQ,SAAgBh6H,GAG1C5L,KAAKu+H,MAAQ3yH,EACb5L,KAAK6J,QAKL,IAHA,IAAIy+H,EAAcppI,OAAOc,KAAK1F,QAAQiuI,eAClC4B,EAAWjrI,OAAOc,KAAK1F,QAAQ8vI,YAE1B3vI,EAAI,EAAGA,EAAImR,EAAK/R,OAAQY,IAAK,CAClC,IAAIkqB,EAAW/Y,EAAKnR,GATTuF,KAWFkI,KAAK,CACV2M,SAAUyzH,EAAY3jH,GACtBsK,MAAOk7G,EAASxlH,IACjBA,EACP,CACJ,EAEAilH,EAAYppI,UAAUspI,aAAe,SAAuB9nI,GACxD,IAAIsvB,EAAStvB,EAAE2N,cAAc06H,WAEzB/oI,EAAO,CACPilI,MAAOvmI,KACP4mI,WAAY5mI,KAAKw+H,cACjBltG,OAAQA,EACRg5G,aAActqI,KAAKqvB,OAAS,IAAIt1B,QAAQu3B,GACxC9b,cAAexT,GAGnBhC,KAAKoB,IAAIC,QAAQ,cAAeC,EACpC,EAEAsoI,EAAYppI,UAAU+pI,kBAAoB,SAA4BvoI,GAClE,IAAIV,EAAOtB,KAAKwqI,uBAAuBxoI,GACvChC,KAAKoB,IAAIC,QAAQ,mBAAoBC,EACzC,EAEAsoI,EAAYppI,UAAUiqI,kBAAoB,SAA4BzoI,GAClE,IAAIV,EAAOtB,KAAKwqI,uBAAuBxoI,GACvChC,KAAKoB,IAAIC,QAAQ,mBAAoBC,EACzC,EAEAsoI,EAAYppI,UAAUgqI,uBAAyB,SAAiCxoI,GAC5E,IAAIsvB,EAAStvB,EAAEsvB,OASf,OAPWm4G,SAAS,CAAC,EAAG,CACpBlD,MAAOvmI,KACP4mI,WAAY5mI,KAAKw+H,cACjBltG,OAAQA,EACRg5G,aAActqI,KAAKqvB,OAAS,IAAIt1B,QAAQu3B,IACzCtvB,EAGP,EAEO4nI,CACX,CArKkB,CAqKhBrM,OAEF35H,kBAAkBgmI,YAAa,CAC3B1mH,OAAQ,IACR86E,UAAU,EACVuqC,cAAe,WACf6B,WAAY,QACZ7rI,SAAU,KAGd,IAAIyrI,OAAU,SAAUr3I,GACpB,SAASq3I,EAAO1vI,GACZ3H,EAAMwO,KAAKnB,MACXA,KAAK1F,QAAUA,GAAW,CAAC,CAC/B,CA0KA,OAxKK3H,IAAQq3I,EAAOvxI,UAAY9F,GAChCq3I,EAAOxpI,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACjDwpI,EAAOxpI,UAAUhE,YAAcwtI,EAE/BA,EAAOxpI,UAAU0R,QAAU,WACvBlS,KAAKumI,MAAQ,KACbvmI,KAAKyD,eACLzD,KAAKgxB,MACT,EAEAg5G,EAAOxpI,UAAU0pI,MAAQ,SAAgB3hI,GACrCvI,KAAKumI,MAAQh+H,EAAO4gD,SAAW5gD,EAC/BvI,KAAKumI,MAAMl3G,MAAM/vB,KAAKU,MACtBA,KAAKumI,MAAMj2E,OAAOtwD,KACtB,EAEAgqI,EAAOxpI,UAAUqU,SAAW,SAAmBvb,GAC3C,OAAIA,GACA0G,KAAK1F,QAAQua,SAAWo+G,SAASntH,OAAOxM,GAAOk6H,UAE3CxzH,KAAKumI,OACLvmI,KAAKumI,MAAMj2E,OAAOtwD,MAGfA,MAGJizH,SAASntH,OAAO9F,KAAK1F,QAAQua,SACxC,EAEAm1H,EAAOxpI,UAAUs5D,OAAS,SAAiBh+C,GACvC9b,KAAK+wB,SAEL/wB,KAAKq9H,QAAU,CAAEj/H,KAAMgE,KAAKxH,MAAMkhB,EAAM7gB,GAAIgD,IAAKmE,KAAKxH,MAAMkhB,EAAM5gB,IAClE8E,KAAKvG,QAAQgE,MAAMW,KAAOw6H,SAAS54H,KAAKq9H,QAAQj/H,MAChD4B,KAAKvG,QAAQgE,MAAMQ,IAAM26H,SAAS54H,KAAKq9H,QAAQp/H,IACnD,EAEA+rI,EAAOxpI,UAAUwwB,KAAO,WAChBhxB,KAAKvG,UACLuG,KAAKvG,QAAQ2hG,SACbp7F,KAAKvG,QAAU,KAEvB,EAEAuwI,EAAOxpI,UAAUoC,WAAa,WACrB5C,KAAKvG,UAIVuG,KAAK0qI,mBAAqBzS,MAAMj4H,KAAK2qI,YAAa3qI,MAClD2O,GAAG3O,KAAKvG,QAAS8vI,YAAaI,aAAc3pI,KAAK0qI,oBACjD1qI,KAAK4qI,mBAAqB3S,MAAMj4H,KAAK6qI,YAAa7qI,MAClD2O,GAAG3O,KAAKvG,QAAS+vI,YAAaG,aAAc3pI,KAAK4qI,oBACrD,EAEAZ,EAAOxpI,UAAUiD,aAAe,WACvBzD,KAAKvG,UAIVsV,IAAI/O,KAAKvG,QAAS8vI,YAAavpI,KAAK0qI,oBACpC37H,IAAI/O,KAAKvG,QAAS+vI,YAAaxpI,KAAK4qI,oBACxC,EAEAZ,EAAOxpI,UAAUuwB,OAAS,WACtB,IAAK/wB,KAAKvG,QAAS,CACf,IAAIa,EAAU0F,KAAK1F,QACfisI,EAAQvmI,KAAKumI,MACb9sI,EAAU0K,SAASiD,cAAc,QAGrC,GAFA5N,SAASC,EAASiwI,mBAEd1pI,KAAK1F,QAAQiE,SAAU,CACvB,IACIusI,EADa9qI,KAAK+qI,iBAAiB/qI,KAAK1F,QAAQiE,SACjCysI,CAAWhrI,KAAK2kB,UAC/BsmH,EAAkB9S,cAAc2S,GACpCrxI,EAAQoN,YAAYokI,EACxB,MAAO,GAAI3wI,EAAQ4wI,QACflkI,WAAWvN,EAAS,CAAEyM,KAAM5L,EAAQ4wI,QAASvlI,UAAW,aAAca,SAAUxG,KAAK1F,QAAQmgI,MAAMj0H,SAAU3C,KAAM,YAChH,CACH,IAAIqD,EAAc,CAAEhB,KAAM,aAAcP,UAAW,aAAca,SAAUxG,KAAK1F,QAAQmgI,MAAMj0H,SAAU3C,KAAM7D,KAAK1F,QAAQmgI,MAAM52H,MAE7HvJ,EAAQs3C,MACc,cAAlBt3C,EAAQs3C,OACR1qC,EAAYhB,KAAO,oBACnBc,WAAWvN,EAASyN,IACK,QAAlB5M,EAAQs3C,MACf5qC,WAAWvN,EAASyN,GAEpB1N,SAASC,EAAS,gCAAkCk/H,UAAUr+H,EAAQs3C,OAAS,QAGnF5qC,WAAWvN,EAASyN,EAE5B,CAEI5M,EAAQ20B,OACRx1B,EAAQgN,aAAa,QAASnM,EAAQ20B,OAG1C,IAAIk8G,EAAa7wI,EAAQ6wI,YAAc,CAAC,EACxC5yI,OAAO6L,KAAK+mI,GAAY9mI,SAAQ,SAAS3D,GACrCjH,EAAQgN,aAAa/F,EAAKyqI,EAAWzqI,GACzC,IAEAjH,EAAQ4wI,WAAarqI,KACrBvG,EAAQgE,MAAMylB,OAAS5oB,EAAQ4oB,OAE/BljB,KAAKvG,QAAUA,EAEX8sI,GACAA,EAAM9sI,QAAQoN,YAAY7G,KAAKvG,SAGnCuG,KAAK4C,YACT,CACJ,EAEAonI,EAAOxpI,UAAUmqI,YAAc,SAAsB3oI,GACjD,IAAIV,EAAOtB,KAAKorI,iBAAiBppI,GACjChC,KAAKumI,MAAMgE,kBAAkBjpI,GAE7BtB,KAAKumI,MAAMnlI,IAAImwF,SAASptE,KAAK,CACzBlmB,IAAK+B,KAAKq9H,QAAQp/H,IAAM+B,KAAKvG,QAAQmgF,aACrCx7E,KAAM4B,KAAKq9H,QAAQj/H,MACpB4B,KAAK+mI,kBACZ,EAEAiD,EAAOxpI,UAAUumI,gBAAkB,WAC/B,MAAO,CACHljI,KAAM,SACN+iI,WAAY5mI,KAAKumI,MAAM/H,cACvB1kI,UAAW,uBACX6qB,SAAU3kB,KAAK2kB,SACfsK,MAAOjvB,KAAK1F,QAAQ20B,MACpBpa,SAAU7U,KAAK6U,WAEvB,EAEAm1H,EAAOxpI,UAAUqqI,YAAc,SAAsB7oI,GACjD,IAAIV,EAAOtB,KAAKorI,iBAAiBppI,GACjChC,KAAKumI,MAAMkE,kBAAkBnpI,EACjC,EAEA0oI,EAAOxpI,UAAU4qI,iBAAmB,SAA2BppI,GAM3D,MALW,CACPsvB,OAAQtxB,KACRwV,cAAexT,EAIvB,EAEAgoI,EAAOxpI,UAAUuqI,iBAAmB,SAA2BxsI,GAC3D,OAAOC,gBAAgBF,QAAQC,EAAU,CACrC8sI,UAAW,WACXC,cAAc,GAEtB,EAEAtB,EAAOlkI,OAAS,SAAiBmkI,EAAK9nF,GAClC,OAAI8nF,aAAeD,EACRC,EAGJ,IAAID,EAAOntI,WAAW,CAAC,EAAGslD,EAAU8nF,GAC/C,EAEOD,CACX,CA/Ka,CA+KXr3I,OAEE44I,SAAWhzI,OAAO4a,OAEtB,SAASq4H,eAAe9rI,GACpBhC,OAAO+tI,sBAAsB/rI,EACjC,CAEA,IAAIgsI,UAAa,SAAU/4I,GACvB,SAAS+4I,IACL/4I,EAAMwO,KAAKnB,MACX,IAAIsS,EAAOtS,KAEXsS,EAAKq5H,WAAa1T,MAAM3lH,EAAKs5H,MAAOt5H,GACpCA,EAAKu5H,UAAW,CACpB,CAkDA,OAhDKl5I,IAAQ+4I,EAAUjzI,UAAY9F,GACnC+4I,EAAUlrI,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpDkrI,EAAUlrI,UAAUhE,YAAckvI,EAElCA,EAAUlrI,UAAUqzB,KAAO,WAAmB,EAC9C63G,EAAUlrI,UAAUsrI,KAAO,WAAmB,EAC9CJ,EAAUlrI,UAAUurI,MAAQ,WAAoB,EAChDL,EAAUlrI,UAAUwrI,SAAW,WAAuB,EAEtDN,EAAUlrI,UAAUH,MAAQ,WACnBL,KAAKyjI,YAILzjI,KAAK8rI,OAIN9rI,KAAK+rI,SAHL/rI,KAAK6rI,UAAW,EAChBL,eAAexrI,KAAK2rI,aAI5B,EAEAD,EAAUlrI,UAAUijI,QAAU,WAC1B,OAAO,CACX,EAEAiI,EAAUlrI,UAAUyN,OAAS,WACzBjO,KAAK6rI,UAAW,EAChB7rI,KAAKgsI,UACT,EAEAN,EAAUlrI,UAAUorI,MAAQ,WACxB,IAAIt5H,EAAOtS,KAENsS,EAAKu5H,WAIVv5H,EAAKuhB,OAEAvhB,EAAKw5H,QAGNx5H,EAAKu5H,UAAW,EAChBv5H,EAAKy5H,SAHLP,eAAel5H,EAAKq5H,YAK5B,EAEOD,CACX,CA1DgB,CA0Dd/4I,OAEEs5I,WAAc,SAAUP,GACxB,SAASO,EAAW3xI,GAChBoxI,EAAUvqI,KAAKnB,MACfurI,SAASvrI,KAAM1F,EACnB,CAsCA,OApCKoxI,IAAYO,EAAWxzI,UAAYizI,GACxCO,EAAWzrI,UAAYjI,OAAOuN,OAAQ4lI,GAAaA,EAAUlrI,WAC7DyrI,EAAWzrI,UAAUhE,YAAcyvI,EAEnCA,EAAWzrI,UAAUsrI,KAAO,WACxB,OAAO9rI,KAAKksI,cAAgBlsI,KAAKogC,QACrC,EAEA6rG,EAAWzrI,UAAU0rI,WAAa,WAC9B,OAAO9pI,KAAKmF,IAAIvH,KAAKogC,SAAUxuB,MAAQ5R,KAAKmgC,UAChD,EAEA8rG,EAAWzrI,UAAUgoB,OAAS,SAAiBluB,GAC3C,IAAIgY,EAAOtS,KACPikI,EAAU3xH,EAAK2xH,QAEnB3xH,EAAK65H,QAAUlI,EAAQ3xH,EAAKqD,MAC5BrD,EAAKrQ,MAAQ3H,EAAQua,SAAWvC,EAAK65H,QACrC75H,EAAK8tB,SAAuC,iBAArB9lC,EAAQ8lC,SAAwB9lC,EAAQ8lC,SAAW,IAC1E9tB,EAAKuhB,KAAOvhB,EAAK85H,WAAW9xI,EAAQ+xI,MACpC/5H,EAAK6tB,UAAYvuB,MACjBU,EAAKjS,OACT,EAEA4rI,EAAWzrI,UAAU4rI,WAAa,SAAqBC,GACnD,IAAI/5H,EAAOtS,KAEX,OAAO,WACHsS,EAAK2xH,QAAQkB,SAAS7yH,EAAKqD,KAAM02H,EAAK/5H,EAAK45H,aAAc55H,EAAK65H,QAAS75H,EAAKrQ,MAAOqQ,EAAK8tB,UAC5F,CACJ,EAEA6rG,EAAWK,YAAc,SAAsB9mD,EAAG78E,EAAGC,EAAG8gB,GACpD,OAAO87D,IAAM97D,EAAI/gB,EAAIC,EAAIA,GAAiC,EAA3BxG,KAAKoZ,IAAI,GAAI,GAAKgqE,EAAI97D,IAAU/gB,CACnE,EAEOsjI,CACX,CA3CiB,CA2CfP,WAMEa,OAASh0I,OAAO4a,OAChBmI,IAAMlZ,KAAKkZ,IACXkxH,kBAAoB,IACpBC,kBAAoB,GACpBC,WAAa,IACbC,sBAAwB,GACxBC,aAAe,GACfC,uBAAyB,GACzBC,4BAA8B,EAG9BC,KAAO,OACPC,OAAS,SACTC,OAAS,SACTC,OAAS,SACTC,eAAiB,EAEjBC,aAAgB,SAAU1B,GAC1B,SAAS0B,EAAa9yI,GAClBoxI,EAAUvqI,KAAKnB,KAAM1F,GACrB,IAAIgY,EAAOtS,KACXusI,OAAOj6H,EAAMhY,GACbgY,EAAKgE,WAAWpO,KAAK,aAAcoK,EAAKjS,MAAM6H,KAAKlI,OACnDsS,EAAK+6H,WAAWnlI,KAAK,QAASoK,EAAKrE,OAAO/F,KAAKlI,MACnD,CA0BA,OAxBK0rI,IAAY0B,EAAa30I,UAAYizI,GAC1C0B,EAAa5sI,UAAYjI,OAAOuN,OAAQ4lI,GAAaA,EAAUlrI,WAC/D4sI,EAAa5sI,UAAUhE,YAAc4wI,EAErCA,EAAa5sI,UAAUijI,QAAU,WAC7B,OAAOzjI,KAAKikI,QAAQ1oH,MAAQvb,KAAKukI,WAAWhB,QAChD,EAEA6J,EAAa5sI,UAAUsrI,KAAO,WAC1B,OAAO9rI,KAAKukI,WAAWhB,SAAWvjI,KAAKikI,QAAQ1oH,MAAQ,GAC3D,EAEA6xH,EAAa5sI,UAAUqzB,KAAO,WAC1B,IAAIowG,EAAUjkI,KAAKikI,QACnBA,EAAQW,UAAU,KAClB5kI,KAAKukI,WAAWlB,QAAQY,EAAQ1oH,MACpC,EAEA6xH,EAAa5sI,UAAUurI,MAAQ,WAC3B,IAAI9H,EAAUjkI,KAAKikI,QACnBA,EAAQiB,QAAQllI,KAAKukI,WAAWhB,UAChCvjI,KAAKukI,WAAWlB,QAAQY,EAAQ1oH,MACpC,EAEO6xH,CACX,CAlCmB,CAkCjB1B,WAEE4B,YAAe,SAAU5B,GACzB,SAAS4B,EAAYhzI,GACjBoxI,EAAUvqI,KAAKnB,MACf,IAAIsS,EAAOtS,KAEXusI,OAAOj6H,EAAMhY,EAAS,CAClBizI,WAAY,IAAItB,WAAW,CACvBt2H,KAAMrb,EAAQqb,KACdsuH,QAAS3pI,EAAQ2pI,QACjB8H,MAAO,WACHz5H,EAAK8G,MACT,MAIR9G,EAAK+6H,WAAWnlI,KAAK,SAAS,WAC1BoK,EAAKrE,QACT,IAEAqE,EAAKgE,WAAWpO,KAAK,MAAO+vH,MAAM3lH,EAAKjS,MAAOiS,IAC9CA,EAAKgE,WAAWpO,KAAK,aAAc+vH,MAAM3lH,EAAKjS,MAAOiS,IACrDA,EAAKgE,WAAWpO,KAAK,MAAO+vH,MAAM3lH,EAAKy5H,MAAOz5H,GAClD,CAuFA,OArFKo5H,IAAY4B,EAAY70I,UAAYizI,GACzC4B,EAAY9sI,UAAYjI,OAAOuN,OAAQ4lI,GAAaA,EAAUlrI,WAC9D8sI,EAAY9sI,UAAUhE,YAAc8wI,EAEpCA,EAAY9sI,UAAUwrI,SAAW,WAC7BhsI,KAAKutI,WAAWt/H,QACpB,EAEAq/H,EAAY9sI,UAAUhI,OAAS,SAAiBqc,GACjC7U,KACNiO,SADMjO,KAENwtI,QAAQ34H,EACjB,EAEAy4H,EAAY9sI,UAAUurI,MAAQ,WAC1B,IAAIz5H,EAAOtS,KACPsS,EAAKm7H,SAASvK,cACd5wH,EAAKo7H,YAELp7H,EAAK8G,MAEb,EAEAk0H,EAAY9sI,UAAUsrI,KAAO,WACzB,OAAOxwH,IAAItb,KAAK+V,UAAY,CAChC,EAEAu3H,EAAY9sI,UAAUH,MAAQ,SAAgB2B,GAC1C,IACI+T,EADAzD,EAAOtS,KAENsS,EAAK0xH,UAAUP,UAGhBnxH,EAAKm7H,SAASvK,cACV5wH,EAAKi7H,WAAW1B,UAChBv5H,EAAKi7H,WAAWt/H,SAChBqE,EAAKyD,SAAW3T,KAAKmF,IAAIvF,EAAEsS,MAAMhC,EAAKqD,MAAMI,SAAWzD,EAAKq7H,mBAAoBf,cAChFlB,EAAUlrI,UAAUH,MAAMc,KAAKnB,OAE/BsS,EAAKo7H,aAGT33H,EAAW/T,EAAEsS,MAAM7f,KAAO04I,eAAiB,EAAInrI,EAAEsS,MAAMhC,EAAKqD,MAAMI,SAClEzD,EAAKyD,SAAW3T,KAAKC,IAAID,KAAKmF,IAAIwO,EAAWzD,EAAKq7H,mBAAoBf,eAAgBA,cACtFt6H,EAAK+6H,WAAW9K,cAChBmJ,EAAUlrI,UAAUH,MAAMc,KAAKnB,OAEvC,EAEAstI,EAAY9sI,UAAUqzB,KAAO,WACzB,IAAIvhB,EAAOtS,KACPgkI,EAAY1xH,EAAK0xH,UACjB4J,EAAWt7H,EAAKm7H,SAASvK,cAAgB2J,uBAAyBv6H,EAAKs7H,SACvE3rI,EAAQqQ,EAAKyD,UAAY63H,EACzB/4H,EAAWvC,EAAK2xH,QAAQ3xH,EAAKqD,MAAQ1T,GAEpCqQ,EAAKgyH,SAAWN,EAAUd,YAAYruH,KACvCA,EAAWzS,KAAKC,IAAID,KAAKmF,IAAIsN,EAAUmvH,EAAU3hI,KAAM2hI,EAAUz8H,KACjE+K,EAAKyD,SAAW,GAGpBzD,EAAK2xH,QAAQkB,SAAS7yH,EAAKqD,KAAMd,EACrC,EAEAy4H,EAAY9sI,UAAU4Y,KAAO,WACzBpZ,KAAKqtI,WAAW7K,gBAChBxiI,KAAKM,KACT,EAEAgtI,EAAY9sI,UAAUktI,UAAY,WAC9B,IAAIp7H,EAAOtS,KACPgkI,EAAY1xH,EAAK0xH,UACjB6J,EAAWv7H,EAAK2xH,QAAQ3xH,EAAKqD,MAAQquH,EAAU3hI,IAAM2hI,EAAU3hI,IAAM2hI,EAAUz8H,IAEnF+K,EAAKk7H,QAAQK,EACjB,EAEAP,EAAY9sI,UAAUgtI,QAAU,SAAkB34H,GAC9C7U,KAAKutI,WAAW/kH,OAAO,CACnB3T,SAAUA,EACVurB,SAAUosG,kBACVH,KAAMJ,WAAWK,aAEzB,EAEOgB,CACX,CA9GkB,CA8GhB5B,WAEEoC,iBAAoB,SAAUpC,GAC9B,SAASoC,EAAiBxzI,GACtBoxI,EAAUvqI,KAAKnB,KAAM1F,GAGrBiyI,OAFWvsI,KAEE1F,EAAS,CAClB4yB,OAAQ,CAAC,EACThxB,YAAa,CAAC,EACd7B,OAAQ,CAAC,GAEjB,CAiDA,OA/CKqxI,IAAYoC,EAAiBr1I,UAAYizI,GAC9CoC,EAAiBttI,UAAYjI,OAAOuN,OAAQ4lI,GAAaA,EAAUlrI,WACnEstI,EAAiBttI,UAAUhE,YAAcsxI,EAEzCA,EAAiBttI,UAAUqzB,KAAO,WAC9B7zB,KAAK+tI,qBACL/tI,KAAKwoB,OAAOxoB,KAAKktB,OACrB,EAEA4gH,EAAiBttI,UAAUsrI,KAAO,WAC9B,OAAOxwH,IAAItb,KAAK3F,OAAOa,GAAK4xI,6BAA+BxxH,IAAItb,KAAK3F,OAAOY,GAAK6xI,2BACpF,EAEAgB,EAAiBttI,UAAUurI,MAAQ,WAC/B/rI,KAAKwoB,OAAOxoB,KAAK9D,aACb8D,KAAKN,UACLM,KAAKN,SAASyB,MAEtB,EAEA2sI,EAAiBttI,UAAUwtI,eAAiB,SAAyB7jI,EAAM0tB,GACvE73B,KAAK3F,OAAS,CAAC,EACf2F,KAAKktB,OAAS/iB,EACdnK,KAAK9D,YAAc27B,CACvB,EAGAi2G,EAAiBttI,UAAUytI,YAAc,SAAsBvuI,GACvDA,GAAY5D,WAAW4D,GACvBM,KAAKN,SAAWA,EAEhBA,OAAW8H,CAEnB,EAGAsmI,EAAiBttI,UAAUutI,mBAAqB,WAC5C/tI,KAAK3F,OAAS,CACVY,GAAI+E,KAAK9D,YAAYjB,EAAI+E,KAAKktB,OAAOjyB,GAAK,EAC1CC,GAAI8E,KAAK9D,YAAYhB,EAAI8E,KAAKktB,OAAOhyB,GAAK,GAE9C8E,KAAKktB,OAAS,CACVhyB,EAAG8E,KAAKktB,OAAOhyB,EAAI8E,KAAK3F,OAAOa,EAC/BD,EAAG+E,KAAKktB,OAAOjyB,EAAI+E,KAAK3F,OAAOY,EAEvC,EAEO6yI,CACX,CA5DuB,CA4DrBpC,WAEEwC,UAAa,SAAUv7I,GACvB,SAASu7I,EAAU5zI,GACf3H,EAAMwO,KAAKnB,MACX,IAAIsS,EAAOtS,KACP2qD,EAA8B,MAAjBrwD,EAAQqb,KAGrBlc,EAAU0+H,cAAc,sCADTxtE,EAAa,aAAe,YACkC,kBAEjF4hF,OAAOj6H,EAAMhY,EAAS,CAClBb,QAASA,EACTuJ,YAAa,EACbihI,QAAS,IAAIa,QAAQrrI,GACrB00I,cAAe7zI,EAAQ2pI,QACvBmK,cAAe9zI,EAAQ8zI,cACvB5oI,KAAMmlD,EAAa,QAAU,WAGjCr4C,EAAK67H,cAAcjmI,KAAK8kI,OAAQ16H,EAAKspD,QAAQ1zD,KAAKoK,IAElDA,EAAKsb,UAAU/mB,YAAYpN,GAEvBa,EAAQ8zI,eACR97H,EAAK6R,MAEb,CA4CA,OA1CKxxB,IAAQu7I,EAAUz1I,UAAY9F,GACnCu7I,EAAU1tI,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACpD0tI,EAAU1tI,UAAUhE,YAAc0xI,EAElCA,EAAU1tI,UAAUo7D,QAAU,WAC1B,IAAItpD,EAAOtS,KACP2V,EAAOrD,EAAKqD,KACZquH,EAAY1xH,EAAK0xH,UACjBqK,EAAWrK,EAAUx+H,KACrB2oI,EAAgB77H,EAAK67H,cACrBG,EAAYD,EAAWrK,EAAUl/G,MACjCgK,EAAW1sB,KAAKxH,OAAOuzI,EAAcx4H,GAAQ24H,GAC7C9oI,EAAOpD,KAAKxH,MAAMyzI,EAAWC,GAE7BtuI,KAAKvG,QAAQgE,MAAMoyF,QADnBy+C,GAAa,EACgB,OAEA,GAE7Bx/G,EAAWtpB,EAAO6oI,EAClB7oI,EAAO6oI,EAAWv/G,EACXA,EAAW,IAClBtpB,GAAQspB,EACRA,EAAW,GAEXxc,EAAKtP,cAAgBwC,IACrB8M,EAAK7Y,QAAQgE,MAAM6U,EAAK9M,MAAQA,EAAO,KACvC8M,EAAKtP,YAAcwC,GAEvB8M,EAAK2xH,QAAQkB,SAASxvH,EAAMmZ,EAChC,EAEAo/G,EAAU1tI,UAAU2jB,KAAO,WACvBnkB,KAAKvG,QAAQgE,MAAM2mB,QAAUqoH,kBAC7BzsI,KAAKvG,QAAQgE,MAAMolG,WAAa,SACpC,EAEAqrC,EAAU1tI,UAAUwwB,KAAO,WAClBhxB,KAAKouI,gBACNpuI,KAAKvG,QAAQgE,MAAM2mB,QAAU,EAErC,EAEO8pH,CACX,CAtEgB,CAsEdv7I,OAGE47I,SAAY,SAAUv8H,GACtB,SAASu8H,EAAS90I,EAASa,GACvB0X,EAAW7Q,KAAKnB,MAChB,IAAIsS,EAAOtS,KACXA,KAAKvG,QAAUA,EAEfuG,KAAKq2H,aAAa/7H,GAElB,IAAIk0I,EAAe1V,mBAAmB1oH,UAAUC,WAChDiC,EAAKm8H,QAAUn8H,EAAKhY,QAAQo0I,WAAaF,EACzC,IAAIG,EAAexW,cAAc,mCAEjC,GAAI7lH,EAAKm8H,QASL,OARAj1I,SAASC,EAAS,sBAClB8+H,QAAQoW,EAAcl1I,QAEtB8yI,OAAOj6H,EAAM,CACTkrH,cAAe/jI,EACfm1I,eAAgBn1I,EAAQmoB,SAAS,KAMzCnoB,EAAQgE,MAAM+vG,SAAW,SACzBh0G,SAASC,EAAS,qBAElB,IAAIo1I,EAAkB1W,cAAc,sCACpCO,UAAUj/H,EAASo1I,GACnBtW,QAAQoW,EAAcl1I,GAEtB,IAAIq1I,EAAQr1I,EAAQmoB,SAAS,GACzByrH,EAAa,IAAIlL,WAAW1oI,GAC5BwqI,EAAU,IAAIa,QAAQgK,GAEtBvK,EAAa,IAAIb,eAAe,CAC5BjqI,QAASq1I,EACTlhH,UAAWn0B,EACXipI,cAAepwH,EAAKhY,QAAQq6E,OAEhCo6D,EAAiB/uI,KAAK1F,QAAQy0I,eAE9Bz4H,EAAa,IAAIoB,WAAWje,EAAS,CACjC6f,YAAa,OACbV,gBAAgB,EAChBW,kBAAkB,EAClBV,kBAAkB,EAClBF,WAAYrG,EAAKhY,QAAQq6E,KACzB/9D,iBAAkBtE,EAAKhY,QAAQsc,iBAC/BvW,MAAO,SAAe2B,GAClBuiI,EAAW3oE,UACX,IAAIozE,EAAY1zH,IAAItZ,EAAE/G,EAAE8a,UACpBk5H,EAAY3zH,IAAItZ,EAAE9G,EAAE6a,UACpBm5H,EAA8B,EAAZF,GAAiBC,EAEnCE,EAA4B,EAAZF,GAAiBD,GADF18H,EAAKs8H,eAAexU,SAASp4H,EAAEoN,MAAMK,UAElCs/H,EAAe/sI,IAAMsQ,EAAKmxH,UAAYc,EAAWtpI,EAAEwoI,SAAWyL,GAAmB3K,EAAWrpI,EAAEuoI,SAAW0L,GAC3I74H,EAAW2D,UAEX3D,EAAWrI,QAEnB,IAGJupB,EAAO,IAAIyjC,KAAK,CACZgpE,QAASA,EACTM,WAAYA,EACZjuH,WAAYA,EACZguH,QAAShyH,EAAKhY,QAAQgqI,UAG1B8K,EAAe,IAAIhC,aAAa,CAC5BnJ,QAASA,EACTM,WAAYA,EACZjuH,WAAYA,EACZ+2H,WAAYA,IAGhBgC,EAAmB,IAAIvB,iBAAiB,CACpCtlH,OAAQ,SAAgBowE,GACpBtmF,EAAKg9H,SAAS12C,EAAY39F,EAAG29F,EAAY19F,EAC7C,IAGR+oI,EAAQ/7H,KAAK8kI,QAAQ,WACjB16H,EAAKi9H,WAAatL,EAAQ/oI,EAC1BoX,EAAKk9H,YAAcvL,EAAQhpI,EAC3BqX,EAAKjR,QAAQ6rI,OAAQ,CACjBqC,UAAWj9H,EAAKi9H,UAChBC,WAAYl9H,EAAKk9H,YAEzB,IAEIl9H,EAAKhY,QAAQm1I,sBACbzvI,KAAK0vI,oBAAsB1vI,KAAK2vI,aAAaznI,KAAKlI,MAClD2O,GAAGlV,EAAS,QAASuG,KAAK0vI,sBAG9BnD,OAAOj6H,EAAM,CACT2xH,QAASA,EACTM,WAAYA,EACZ6K,aAAcA,EACdC,iBAAkBA,EAClB/4H,WAAYA,EACZkhB,KAAMA,EACN61G,WAAYA,EACZuC,QAAQ,EACRnM,SAAS,EACTjG,cAAesR,EACfS,UAAW,EACXC,WAAY,EACZZ,eAAgBn1I,EAAQmoB,SAAS,KAGrCtP,EAAKu9H,UAAU,KACfv9H,EAAKu9H,UAAU,KAEfv9H,EAAKw9H,UAAY,WACbx9H,EAAKy9H,QAAS,EACdz9H,EAAKgE,WAAWhW,IAAI,EAAGgS,EAAK09H,QAChC,EAEAzL,EAAW3oE,UAEPtpD,EAAKhY,QAAQ21I,eACb39H,EAAK49H,oBAEb,CAsPA,OApPKl+H,IAAau8H,EAAS91I,UAAYuZ,GACvCu8H,EAAS/tI,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC7D+tI,EAAS/tI,UAAUhE,YAAc+xI,EAEjCA,EAAS/tI,UAAU61H,aAAe,SAAuB/7H,GACrD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEAi0I,EAAS/tI,UAAUmvI,aAAe,SAAuB3tI,GACrD,IAAIA,EAAEmxE,QAAN,CAGKnzE,KAAK+vI,SACN/vI,KAAK+vI,QAAS,EACd/vI,KAAKgwI,QAAU,EACfhwI,KAAKsW,WAAWS,MAAM,EAAG/W,KAAKgwI,UAGlCj4H,aAAa/X,KAAKmwI,eAClBnwI,KAAKmwI,cAAgBl5H,WAAWjX,KAAK8vI,UAAW,IAChD,IAAI7tI,EAAQ+2H,YAAYh3H,GAEpBC,IACAjC,KAAKgwI,SAAW/tI,EAChBjC,KAAKsW,WAAWvI,KAAK,EAAG/N,KAAKgwI,UAGjChuI,EAAE8Q,gBAhBF,CAiBJ,EAEAy7H,EAAS/tI,UAAUqiI,YAAc,WAC7B7iI,KAAKukI,WAAWrpI,EAAE2nI,aACtB,EAEA0L,EAAS/tI,UAAUyiI,YAAc,SAAsB17H,EAAKlF,GACxDrC,KAAKukI,WAAWrpI,EAAE+nI,YAAY17H,EAAKlF,EACvC,EAEAksI,EAAS/tI,UAAUmL,OAAS,WACxB,OAAO3L,KAAKukI,WAAWrpI,EAAEsK,IAC7B,EAEA+oI,EAAS/tI,UAAU4vI,aAAe,WAC9B,OAAOpwI,KAAKw9H,cAAc4S,YAC9B,EAEA7B,EAAS/tI,UAAUiiG,YAAc,WAC7B,OAAOziG,KAAKw9H,cAAc/6B,WAC9B,EAEA8rC,EAAS/tI,UAAUgwF,QAAU,WACpBxwF,KAAKyuI,SACNzuI,KAAKqwI,gBAEb,EAEA9B,EAAS/tI,UAAUo+F,WAAa,SAAqBtkG,GAGjD0F,KAAKq2H,aAAa/7H,GAEdA,EAAQ21I,eAJDjwI,KAKFkwI,oBAEb,EAEA3B,EAAS/tI,UAAUiwD,MAAQ,WACnBzwD,KAAKyuI,QACLzuI,KAAKw9H,cAAc+R,UAAU,IAE7BvvI,KAAKikI,QAAQz7G,OAAO,CAChBvtB,EAAG,EACHC,EAAG,IAEP8E,KAAKswI,OAAO,GAEpB,EAEA/B,EAAS/tI,UAAU6vI,eAAiB,WAChCrwI,KAAKukI,WAAW3oE,UACZ57D,KAAKw3B,KAAKv8B,EAAEioI,eACZljI,KAAKikI,QAAQkB,SAAS,IAAKnlI,KAAKukI,WAAWtpI,EAAEsM,KAE7CvH,KAAKw3B,KAAKt8B,EAAEgoI,eACZljI,KAAKikI,QAAQkB,SAAS,IAAKnlI,KAAKukI,WAAWrpI,EAAEqM,IAErD,EAEAgnI,EAAS/tI,UAAU+vI,QAAU,WACzB,IAAIhM,EAAavkI,KAAKukI,WACtBA,EAAW3oE,UACX57D,KAAKswI,OAAO/L,EAAWzyB,UACvB9xG,KAAKikI,QAAQz7G,OAAO+7G,EAAWT,oBACnC,EAEAyK,EAAS/tI,UAAUgwI,OAAS,WACxBxwI,KAAKyjI,SAAU,CACnB,EAEA8K,EAAS/tI,UAAUiwI,QAAU,WACzBzwI,KAAKyjI,SAAU,CACnB,EAEA8K,EAAS/tI,UAAU8uI,SAAW,SAAmBr0I,EAAGC,GAC5C8E,KAAKyuI,SACLzuI,KAAKw9H,cAAcgS,WAAWl0H,IAAIrgB,IAClC+E,KAAKw9H,cAAc+R,UAAUj0H,IAAIpgB,MAEjC8E,KAAKukI,WAAW3oE,UAChB57D,KAAKikI,QAAQz7G,OAAO,CAChBvtB,EAAGA,EACHC,EAAGA,IAGf,EAEAqzI,EAAS/tI,UAAUkwI,iBAAmB,SAA2Bz1I,EAAGC,EAAGwE,GACnE,IAAIyK,EAAM0tB,EACN73B,KAAKyuI,QACLzuI,KAAKsvI,SAASr0I,EAAGC,IAEjBiP,EAAO,CACHlP,EAAG+E,KAAKikI,QAAQhpI,EAChBC,EAAG8E,KAAKikI,QAAQ/oI,GAEpB28B,EAAK,CACD58B,EAAGA,EACHC,EAAGA,GAEP8E,KAAKqvI,iBAAiBrB,eAAe7jI,EAAM0tB,GAC3C73B,KAAKqvI,iBAAiBpB,YAAYvuI,GAClCM,KAAKqvI,iBAAiBhvI,QAE9B,EAGAkuI,EAAS/tI,UAAUmwI,YAAc,WASjC,EAEApC,EAAS/tI,UAAU0R,QAAU,WAGzBnD,IAFc/O,KAAKvG,QAEN,QAASuG,KAAK0vI,qBAEvB1vI,KAAKsW,YACLtW,KAAKsW,WAAWpE,SAExB,EAEAq8H,EAAS/tI,UAAU8vI,OAAS,SAAiB/0H,GACzCvb,KAAKukI,WAAWlB,QAAQ9nH,GACxBvb,KAAKikI,QAAQiB,QAAQ3pH,EACzB,EAEAgzH,EAAS/tI,UAAU0vI,mBAAqB,WACxC,EAGA3B,EAAS/tI,UAAUqkG,SAAW,WAgB9B,EAGA0pC,EAAS/tI,UAAUowI,YAAc,WAcjC,EAEArC,EAAS/tI,UAAUqvI,UAAY,SAAoBl6H,GAC/C,IAAIrD,EAAOtS,KACPikI,EAAU3xH,EAAK2xH,QACfD,EAAY1xH,EAAKiyH,WAAW5uH,GAC5B03H,EAAa/6H,EAAK+6H,WAClBI,EAAWn7H,EAAKklB,KAAK7hB,GACrBk7H,EAAY,IAAI3C,UAAU,CACtBv4H,KAAMA,EACNsuH,QAASA,EACTD,UAAWA,EACXp2G,UAAWtb,EAAK7Y,QAChB20I,cAAe97H,EAAKhY,QAAQw2I,qBAGpC9M,EAAU97H,KAAK8kI,QAAQ,WACnB6D,EAAUj1E,SACd,IAEA6xE,EAASvlI,KAAK8kI,QAAQ,WAClB6D,EAAU1sH,MACd,IAEA7R,EAAKqD,EAAO,WAAa,IAAI23H,YAAY,CACrC33H,KAAMA,EACN83H,SAAUA,EACVxJ,QAASA,EACToJ,WAAYA,EACZ/2H,WAAYhE,EAAKgE,WACjB0tH,UAAWA,EACXM,QAAShyH,EAAKhY,QAAQgqI,QACtBsJ,SAAUt7H,EAAKhY,QAAQszI,UAAYlB,WACnCiB,mBAAoBr7H,EAAKhY,QAAQqzI,oBAAsBhB,sBACvDrsI,IAAK,WACDuwI,EAAU7/G,OACV1e,EAAKjR,QAAQ,YAAa,CACtBsU,KAAMA,EACN45H,UAAWj9H,EAAKi9H,UAChBC,WAAYl9H,EAAKk9H,YAEzB,GAER,EAEOjB,CACX,CAtXe,CAsXbv8H,YAEFpO,kBAAkB2qI,SAAU,CACxB75I,KAAM,WACNigF,MAAM,EACNo8D,WAAY,IACZD,oBAAoB,EACpBxM,SAAS,EACToK,WAAW,EACXe,qBAAqB,EACrBV,eAAgB,WACZ,OAAO,CACX,EACAkB,eAAe,EACfe,SAAU,CACNC,aAAc,kBACdC,gBAAiB,qBACjBC,gBAAiB,gBAIzBpY,iBAAiBwV,SAAU,CACvBxB,KACAG,OACAD,SAGJ,IAAImE,WAAa,SAAoBvhH,EAAQrB,QACxB,IAAZA,IAAqBA,EAAU,CAAC,GAErCxuB,KAAK6S,OAAS2b,EAAQ3b,QAAUgd,EAChC7vB,KAAK6vB,OAASA,EACd7vB,KAAKkzB,IAAMpjB,QAAQ0e,EAAQ0E,IAC/B,EAEAk+G,WAAW5wI,UAAU6X,OAAS,SAAiB3jB,EAAM4M,GAC7CtB,KAAK6vB,QACL7vB,KAAK6vB,OAAOxuB,QAAQ3M,EAAM4M,EAElC,EAEA,IAAI+vI,KAAOjvI,KACPkvI,MAAQD,KAAK9pI,IACbiU,IAAM61H,KAAK71H,IACXI,MAAQ/oB,QACR0+I,OAAS,SACTC,SAAW,WACXC,SAAW,GACXC,gBAAkB,IAClBpxF,WAAa,QACbqxF,oBAAsB,GACtBC,oBAAsB,EACtBC,kBAAoB,EAEpBC,UAAY,CACZ1xC,OAAQ6nC,YACRr2F,MAAO0zF,WACP5E,KAAM1B,WAEV8S,UAAUP,QAAU3H,YAEpB,IAAImI,MAAS,SAAU//H,GACnB,SAAS9R,EAAIzG,EAASa,EAASo0F,EAAclgE,QACxB,IAAZl0B,IAAqBA,EAAU,CAAC,QACf,IAAjBo0F,IAA0BA,EAAe,CAAC,QAC9B,IAAZlgE,IAAqBA,EAAU,CAAC,GAErCxc,EAAW7Q,KAAKnB,MAEhBA,KAAKgyI,MAAMv4I,EAASa,EAASo0F,EAAclgE,EAC/C,CAywBA,OAvwBKxc,IAAa9R,EAAIzH,UAAYuZ,GAClC9R,EAAIM,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WACxDN,EAAIM,UAAUhE,YAAc0D,EAE5BA,EAAIM,UAAU0R,QAAU,WAGpBlS,KAAKiyI,SAAS//H,UAEVlS,KAAKuxF,UACLvxF,KAAKuxF,SAASr/E,UAGdlS,KAAKoQ,WACLpQ,KAAKoQ,UAAU8B,UAEflS,KAAKo+H,aACLp+H,KAAKo+H,YAAYlsH,UAEjBlS,KAAKkyI,aACLlyI,KAAKkyI,YAAYhgI,UAGjB7Y,QAAQ2G,KAAKmpD,SACbnpD,KAAKmpD,QAAQ9kD,SAAQ,SAAU8tI,GAC3BA,EAAYjgI,SAChB,IAEAlS,KAAKmpD,QAAQj3C,UAGjB,IAAK,IAAIzX,EAAI,EAAGA,EAAIuF,KAAKy+H,OAAO5kI,OAAQY,IA1BzBuF,KA2BFy+H,OAAOhkI,GAAGyX,UAGvBnD,IAAI/O,KAAKvG,QAAS6mD,WAAYtgD,KAAK26E,oBAEnC3oE,EAAWxR,UAAU0R,QAAQ/Q,KAAKnB,KACtC,EAGAE,EAAIM,UAAUwxI,MAAQ,SAAgBv4I,EAASa,EAASo0F,EAAclgE,QACjD,IAAZl0B,IAAqBA,EAAU,CAAC,QACf,IAAjBo0F,IAA0BA,EAAe,CAAC,QAC9B,IAAZlgE,IAAqBA,EAAU,CAAC,GAErCxuB,KAAK1N,QAAU2d,uBACfjQ,KAAKwuB,QAAUA,EAEfxuB,KAAKoyI,aAAa5jH,GAClBxuB,KAAKqyI,aAAa7jH,GAClBxuB,KAAKsyI,gBAAgBnV,MAErBn9H,KAAKq2H,aAAa/7H,GAClB0F,KAAKgT,WAAW1Y,GAChB0F,KAAKuyI,IAAM,IAAI9a,SAEfz3H,KAAK6uF,aAAap1F,GAElBuG,KAAKkgI,YAAclgI,KAAKwyI,aAExBxyI,KAAKuxF,SAAWvxF,KAAKsyF,iBACrBtyF,KAAKyyI,gBACLzyI,KAAK0yI,eACL1yI,KAAK2yI,gBACL3yI,KAAK4yI,cACL5yI,KAAK09H,SAEL,IAAImV,EAAsBz+I,SAAS4L,KAAK46E,YAAY1yE,KAAKlI,MAAO2xI,qBAChE3xI,KAAK26E,mBAAqB,SAAU34E,GAChCA,EAAE8Q,iBACF+/H,EAAoB7wI,EACxB,EACA2M,GAAG3O,KAAKvG,QAAS6mD,WAAYtgD,KAAK26E,mBACtC,EAEAz6E,EAAIM,UAAU61H,aAAe,SAAuB/7H,GAChD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEA4F,EAAIM,UAAUquF,aAAe,SAAuBp1F,GAChDuG,KAAKvG,QAAUA,EAEfD,SAASC,EAAS,SAClBA,EAAQgE,MAAMqxB,SAAW,WACzBr1B,EAAQgN,aAAa,YAAa,OAClC6xH,eAAe7+H,GAEf,IAAI4oG,EAAM81B,cAAc,WACxBn4H,KAAKvG,QAAQoN,YAAYw7F,EAC7B,EAEAniG,EAAIM,UAAU6xI,aAAe,SAAuB7jH,QAC/B,IAAZA,IAAqBA,EAAU,CAAC,GAErCxuB,KAAKo9H,cAAgB,IAAIgU,WAAWpxI,KAAMwuB,EAC9C,EAEAtuB,EAAIM,UAAU4xI,aAAe,SAAuB5jH,QAC/B,IAAZA,IAAqBA,EAAU,CAAC,GAErCxuB,KAAK2uF,UAAY,GACjB3uF,KAAK4uF,YAAYpgE,EAAQ1tB,SAC7B,EAEAZ,EAAIM,UAAUouF,YAAc,SAAsB9tF,GAC1CA,GACAd,KAAK2uF,UAAUrvF,KAAKwB,EAE5B,EAEAZ,EAAIM,UAAUi2F,eAAiB,SAAyB31F,GACpD,IAAIrF,EAAQuE,KAAK2uF,UAAU50F,QAAQ+G,GAE/BrF,GAAS,GACTuE,KAAK2uF,UAAU57E,OAAOtX,EAAO,EAErC,EAEAyE,EAAIM,UAAUoB,iBAAmB,SAA2B2Q,GAGxD,IAFA,IAAIo8E,EAAY3uF,KAAK2uF,UAEZ/0F,EAAM,EAAGA,EAAM+0F,EAAU90F,OAAQD,IACtC,GAAI+0F,EAAU/0F,GAAKgI,iBAAiB2Q,GAChC,OAAO,CAGnB,EAEArS,EAAIM,UAAUa,QAAU,SAAkB3M,EAAM4M,QAC9B,IAATA,IAAkBA,EAAO,CAAC,GAE/BA,EAAKuR,OAAS7S,KAKd,IAHA,IAAI2uF,EAAY3uF,KAAK2uF,UACjBptF,GAAqB,EAEhB3H,EAAM,EAAGA,EAAM+0F,EAAU90F,OAAQD,IAClC+0F,EAAU/0F,GAAKyH,QAAQ3M,EAAM4M,KAC7BC,GAAqB,GAQ7B,OAJKA,GACDyQ,EAAWxR,UAAUa,QAAQF,KAAKnB,KAAMtL,EAAM4M,GAG3CC,CACX,EAEArB,EAAIM,UAAU8xI,gBAAkB,SAA0B59I,EAAM4M,QAC9C,IAATA,IAAkBA,EAAO,CAAC,GAE/BA,EAAKuR,OAAS7S,KAKd,IAHA,IAAI2uF,EAAY3uF,KAAK2uF,UACjBptF,GAAqB,EAEhB3H,EAAM,EAAGA,EAAM+0F,EAAU90F,OAAQD,IAClC+0F,EAAU/0F,GAAKyH,QAAQ3M,EAAM4M,KAC7BC,GAAqB,GAI7B,OAAOA,CACX,EAEArB,EAAIM,UAAUm0E,KAAO,SAAem+D,GAChC,IACIl3I,EADAtB,EAAU0F,KAAK1F,QAGnB,GAAIuI,QAAQiwI,GAAQ,CAChB,IAAIC,EAAY1B,KAAKz2I,MAAMyI,WAAWyvI,EAAOx4I,EAAQw/H,QAASx/H,EAAQy/H,UAElEz/H,EAAQq6E,OAASo+D,IACjBz4I,EAAQq6E,KAAOo+D,EACf/yI,KAAKo9H,cAAc/kH,OAAO6kH,YAAa,CAAEvoD,KAAMr6E,EAAQq6E,OAEvD30E,KAAK09H,UAET9hI,EAASoE,IACb,MACIpE,EAAStB,EAAQq6E,KAGrB,OAAO/4E,CACX,EAEAsE,EAAIM,UAAU2U,OAAS,SAAiB4qH,GACpC,IAAInkI,EAEJ,GAAImkI,EAAU,CACV,IAAIpoH,EAAUs7G,SAASntH,OAAOi6H,GAC1BpQ,EAAWsD,SAASntH,OAAO9F,KAAK1F,QAAQ6a,QACvCwC,EAAQkE,OAAO8zG,KAChB3vH,KAAK1F,QAAQ6a,OAASwC,EAAQ67G,UAC9BxzH,KAAKo9H,cAAc/kH,OAAO4kH,cAAe,CAAE9nH,OAAQnV,KAAK1F,QAAQ6a,SAChEnV,KAAK09H,UAGT9hI,EAASoE,IACb,MACIpE,EAASq3H,SAASntH,OAAO9F,KAAK1F,QAAQ6a,QAG1C,OAAOvZ,CACX,EAEAsE,EAAIM,UAAU64H,OAAS,SAAiB4G,GACpC,IAAIrkI,EASJ,OAPIqkI,GACAjgI,KAAKgzI,WAAW/S,GAChBrkI,EAASoE,MAETpE,EAASoE,KAAKizI,aAGXr3I,CACX,EAEAsE,EAAIM,UAAUo+F,WAAa,SAAqBtkG,QAC3B,IAAZA,IAAqBA,EAAU,CAAC,GAErC,IAAIb,EAAUuG,KAAKvG,QAEnBuG,KAAKkS,UACLomH,eAAe7+H,GACfuG,KAAKgyI,MAAMv4I,EAASa,EAAS,CAAC,EAAG0F,KAAKwuB,SAEtCxuB,KAAK09H,QACT,EAEAx9H,EAAIM,UAAU6+H,gBAAkB,SAA0BxqH,EAAU8/D,GAChE,IAAIgiD,GAAS32H,KAAK1F,QAAQ44I,WACtBC,EAAiBlgB,SAASntH,OAAO+O,GAErC,OAAO7U,KAAKuyI,IAAIlqE,QAAQ8qE,EAAgBnzI,KAAKozI,WAAWz+D,GAAOgiD,EACnE,EAEAz2H,EAAIM,UAAU6yI,gBAAkB,SAA0Bv3H,EAAO64D,GAC7D,IAAIgiD,GAAS32H,KAAK1F,QAAQ44I,WACtBI,EAAc13H,MAAM9V,OAAOgW,GAE/B,OAAO9b,KAAKuyI,IAAI1a,WAAWyb,EAAatzI,KAAKozI,WAAWz+D,GAAOgiD,EACnE,EAEAz2H,EAAIM,UAAUkmI,eAAiB,SAAyB7xH,GACpD,IAAIs+H,EAAiBlgB,SAASntH,OAAO+O,GACjCqY,EAASltB,KAAKq/H,gBAAgBr/H,KAAKkgI,aAGvC,OAFYlgI,KAAKq/H,gBAAgB8T,GAEpBI,cAAcrmH,EAAO3R,OAAO,GAC7C,EAEArb,EAAIM,UAAUwnI,eAAiB,SAAyBlsH,EAAO64D,GAC3D,IAAIznD,EAASltB,KAAKq/H,gBAAgBr/H,KAAKwyI,aAAc79D,GAEjD6+D,EADc53H,MAAM9V,OAAOgW,GACDnf,QAAQ42I,cAAcrmH,GAEpD,OAAOltB,KAAKqzI,gBAAgBG,EAAa7+D,EAC7C,EAEAz0E,EAAIM,UAAUwmI,YAAc,SAAsBhlI,GAC9C,IAAI/G,EACAC,EACAb,EAAS0I,cAAc/C,KAAKvG,SAEhC,GAAKuI,EAAE/G,GAAK+G,EAAE/G,EAAEu2I,WAAexvI,EAAE9G,GAAK8G,EAAE9G,EAAEs2I,UACtCv2I,EAAI+G,EAAE/G,EAAEu2I,UAAYn3I,EAAO+D,KAC3BlD,EAAI8G,EAAE9G,EAAEs2I,UAAYn3I,EAAO4D,QACxB,CACH,IAAImR,EAAQpN,EAAEwT,eAAiBxT,EAC/B/G,EAAIyI,eAAe0L,EAAM2L,MAAO3L,EAAM6L,SAAW5gB,EAAO+D,KACxDlD,EAAIwI,eAAe0L,EAAM4L,MAAO5L,EAAM8L,SAAW7gB,EAAO4D,GAC5D,CAIA,OAFY,IAAIpL,QAAQoI,EAAGC,EAG/B,EAEAgF,EAAIM,UAAUizI,YAAc,SAAsBzxI,GAC9C,IAAI2lB,EAAS3nB,KAAKgnI,YAAYhlI,GAC9B,OAAOhC,KAAK0mI,eAAe1mI,KAAKgoI,eAAergH,GACnD,EAEAznB,EAAIM,UAAUkzI,aAAe,SAAuB1xI,GAChD,OAAOhC,KAAKq/H,gBAAgBr/H,KAAK2zI,gBAAgB3xI,GACrD,EAEA9B,EAAIM,UAAUmzI,gBAAkB,SAA0B3xI,GACtD,IAAI2lB,EAAS3nB,KAAKgnI,YAAYhlI,GAC9B,OAAOhC,KAAKgoI,eAAergH,EAC/B,EAEAznB,EAAIM,UAAUozI,SAAW,WACrB,IAAIn6I,EAAUuG,KAAKvG,QACf8hB,EAAQvb,KAAKozI,aACb54I,EAAQf,EAAQ0oH,YAMpB,OAJKniH,KAAK1F,QAAQ44I,aACd14I,EAAQ82I,MAAM/1H,EAAO/gB,IAGlB,CACHA,MAAOA,EACPmR,OAAQ2lI,MAAM/1H,EAAO9hB,EAAQ2oH,cAErC,EAEAliH,EAAIM,UAAU+yF,aAAe,WAEzB,OADAvzF,KAAK09H,UACE,CACX,EAEAx9H,EAAIM,UAAUgxF,YAAc,WACpBxxF,KAAKuxF,UACLvxF,KAAKuxF,SAASvgE,MAEtB,EAEA9wB,EAAIM,UAAUqzI,WAAa,SAAqB3mH,EAAQynD,GACpD,IACI3nD,EADAxnB,EAAOxF,KAAK4zI,WAGZE,EAAiB9zI,KAAK+zI,QAAU9gB,SAASntH,OAAOonB,GAOpD,OANAF,EAAUhtB,KAAKq/H,gBAAgByU,EAAgBn/D,IACvC15E,GAAKuK,EAAKhL,MAAQ,EAC1BwyB,EAAQ9xB,GAAKsK,EAAKmG,OAAS,EAC3B3L,KAAK1F,QAAQ6a,OAASnV,KAAKqzI,gBAAgBrmH,EAAS2nD,GAAM6+C,UAC1DxzH,KAAKo9H,cAAc/kH,OAAO4kH,cAAe,CAAE9nH,OAAQnV,KAAK1F,QAAQ6a,SAEzDnV,IACX,EAEAE,EAAIM,UAAUgyI,WAAa,SAAqBwB,GAC5C,IACIhnH,EADAxnB,EAAOxF,KAAK4zI,WAUhB,OAPII,GAAeh0I,KAAK+zI,WACpB/mH,EAAUhtB,KAAKq/H,gBAAgBr/H,KAAKmV,WAC5Bla,GAAKuK,EAAKhL,MAAQ,EAC1BwyB,EAAQ9xB,GAAKsK,EAAKmG,OAAS,EAC3B3L,KAAK+zI,QAAU/zI,KAAKqzI,gBAAgBrmH,IAGjChtB,KAAK+zI,OAChB,EAEA7zI,EAAIM,UAAUwyI,WAAa,SAAqBiB,GAC5C,IAEIC,EAAM9X,OAAOt2H,OAAOmuI,GACpBzX,EAAK0X,EAAI1X,GAAG7/H,QAEZqD,KAAK1F,QAAQ44I,YAAc1W,EAAGrJ,IAAM,GAAK8gB,EAAU1X,GAAGpJ,IAAM,IAC5DqJ,EAAGrJ,IAAM,KAAO,IAAMqJ,EAAGrJ,MAG7B,IAAIkG,EAAS,IAAI+C,OAAO8X,EAAI3X,GAAIC,GAChCx8H,KAAKmV,OAAOkkH,EAAOlkH,UACnB,IAEIw/D,EAFAn6E,EAAQwF,KAAKvG,QAAQ0oH,YACrBx2G,EAAS3L,KAAKvG,QAAQ2oH,aAG1B,IAAKztC,EAAO30E,KAAK1F,QAAQy/H,QAASplD,GAAQ30E,KAAK1F,QAAQw/H,QAASnlD,IAAQ,CACpE,IAAI3nD,EAhBOhtB,KAgBYq/H,gBAAgBhG,EAAOkD,GAAI5nD,GAC9CxnD,EAjBOntB,KAiBgBq/H,gBAAgBhG,EAAOmD,GAAI7nD,GAClDw/D,EAAa9C,KAAK/1H,IAAI6R,EAAYlyB,EAAI+xB,EAAQ/xB,GAC9Cm5I,EAAc/C,KAAK/1H,IAAI6R,EAAYjyB,EAAI8xB,EAAQ9xB,GAEnD,GAAIi5I,GAAc35I,GAAS45I,GAAezoI,EACtC,KAER,CAEA3L,KAAK20E,KAAKA,EACd,EAEAz0E,EAAIM,UAAUyyI,WAAa,WACvB,IAAI1W,EAAKv8H,KAAKwyI,aACVrlH,EAAcntB,KAAKq/H,gBAAgB9C,GACnC/2H,EAAOxF,KAAK4zI,WAEhBzmH,EAAYlyB,GAAKuK,EAAKhL,MACtB2yB,EAAYjyB,GAAKsK,EAAKmG,OAEtB,IAAI6wH,EAAKx8H,KAAKqzI,gBAAgBlmH,GAE9B,OAAO,IAAIivG,OAAOG,EAAIC,EAC1B,EAEAt8H,EAAIM,UAAU6zI,YAAc,SAAsBC,EAAOxB,GACrD9yI,KAAK6zI,WAAW7zI,KAAKqzI,gBAAgBiB,EAAOxB,GAAQA,GACpD9yI,KAAK20E,KAAKm+D,EACd,EAEA5yI,EAAIM,UAAUmyI,cAAgB,WAC1B,IAAI4B,EAAWv0I,KAAK1F,QAAQi6I,SACxBA,EAASnW,aACTp+H,KAAKw0I,mBAAmBD,EAASnW,aAGhCp+H,KAAK1N,QAAQge,WACVikI,EAASnkI,WACTpQ,KAAKy0I,iBAAiBF,EAASnkI,WAG/BmkI,EAAS5/D,MACT30E,KAAK00I,mBAAmBH,EAAS5/D,MAG7C,EAEAz0E,EAAIM,UAAUm0I,sBAAwB,SAAgCr6I,EAASs6I,GAC3E,IAAI9oI,EAAMxR,EAAQw0B,UAAY8lH,EAC1BC,EAAc,IAAM1b,UAAUrtH,GAAK5R,QAAQ,IAAK,KAChD6iB,EAAO/c,KAAKvG,QAAQq7I,cAAc,kBAAoBD,IAAgB,GAE1E,GAAoB,IAAhB93H,EAAKljB,OAAc,CACnB,IAAIk7I,EAAQ5wI,SAASiD,cAAc,OACnC5N,SAASu7I,EAAO,kBAAoB5b,UAAUrtH,IAC9CiR,EAAOg4H,EACP/0I,KAAKvG,QAAQoN,YAAYkW,EAC7B,CAEA,IAAIslF,EAAMl+F,SAASiD,cAAc,OAIjC,OAFA2V,EAAKlW,YAAYw7F,GAEVA,CACX,EAEAniG,EAAIM,UAAUg0I,mBAAqB,SAA6Bl6I,GAC5D,IAAIb,EAAUuG,KAAK20I,sBAAsBr6I,EAAS,eAClD0F,KAAKo+H,YAAc,IAAIhF,YAAY3/H,EAASa,EAChD,EAEA4F,EAAIM,UAAUi0I,iBAAmB,SAA2Bn6I,GACxD,IAAIb,EAAUuG,KAAK20I,sBAAsBr6I,EAAS,WAC9C8V,EAAYpQ,KAAKoQ,UAAY,IAAIqzF,UAAUhqG,EAASoD,WAAW,CAAC,EAAGvC,EAAS,CAAEmgI,MAAOz6H,KAAK1F,QAAQmgI,SAEtGz6H,KAAKg1I,cAAgBh1I,KAAKg1I,cAAc9sI,KAAKlI,MAC7CoQ,EAAUlI,KAAK,MAAOlI,KAAKg1I,eAE3Bh1I,KAAKi1I,iBAAmBj1I,KAAKi1I,iBAAiB/sI,KAAKlI,MACnDoQ,EAAUlI,KAAK,SAAUlI,KAAKi1I,iBAClC,EAEA/0I,EAAIM,UAAUw0I,cAAgB,SAAwBhzI,GAClD,IAAIiwI,EAAWjyI,KAAKiyI,SAChBh3I,EAAIg3I,EAASzC,WAAaxtI,EAAE/G,EAC5BC,EAAI+2I,EAAS1C,UAAYvtI,EAAE9G,EAC3Bg6I,EAASl1I,KAAKm1I,aACd36I,EAAQwF,KAAKvG,QAAQ0oH,YACrBx2G,EAAS3L,KAAKvG,QAAQ2oH,aAG1BnnH,EAAIoI,WAAWpI,EAAGi6I,EAAOj6I,EAAEsM,IAAK2tI,EAAOj6I,EAAEoH,IAAM7H,GAC/CU,EAAImI,WAAWnI,EAAGg6I,EAAOh6I,EAAEqM,IAAK2tI,EAAOh6I,EAAEmH,IAAMsJ,GAE/C3L,KAAKiyI,SAAS7/H,IAAI,SAAU6lH,MAAMj4H,KAAKo1I,WAAYp1I,OAEnDA,KAAKiyI,SAAS3C,UAAUr0I,GAAIC,EAChC,EAEAgF,EAAIM,UAAUy0I,iBAAmB,WAC7Bj1I,KAAKmV,OAAOnV,KAAK1F,QAAQ6a,OAC7B,EAEAjV,EAAIM,UAAUk0I,mBAAqB,SAA6Bp6I,GAC5D,IAAIb,EAAUuG,KAAK20I,sBAAsBr6I,EAAS,WAC9C43I,EAAclyI,KAAKkyI,YAAc,IAAItW,YAAYniI,EAASa,EAAS0F,KAAK1F,QAAQmgI,OAEpFz6H,KAAKq1I,mBAAqBr1I,KAAKq1I,mBAAmBntI,KAAKlI,MACvDkyI,EAAYhqI,KAAK,SAAUlI,KAAKq1I,mBACpC,EAEAn1I,EAAIM,UAAU60I,mBAAqB,SAA6BrzI,GACvDhC,KAAKqB,QAAQ,YAAa,CAAEmU,cAAexT,MAC5ChC,KAAK20E,KAAK30E,KAAK20E,OAAS3yE,EAAEC,OAE1BjC,KAAKqB,QAAQ,UAAW,CACpBmU,cAAexT,IAG3B,EAEA9B,EAAIM,UAAUiyI,cAAgB,WAC1B,IAAI7E,EAAW5tI,KAAK1N,QAAQge,SAAWohI,gBAAkBD,SACrD99C,GAAqC,IAA1B3zF,KAAK1F,QAAQq5F,SACxBs+C,EAAWjyI,KAAKiyI,SAAW,IAAI1D,SAASvuI,KAAKvG,QAAQmoB,SAAS,GAAI,CAClEgsH,SAAUA,EACVD,mBAAoBiE,oBACpBj9D,KAAMgf,EACN87C,qBAAqB,EACrB74H,kBAAkB,IAGtBq7H,EAAS/pI,KAAK,SAAU+vH,MAAMj4H,KAAKs1I,QAASt1I,OAC5CiyI,EAAS/pI,KAAK,YAAa+vH,MAAMj4H,KAAKo1I,WAAYp1I,OAElDiyI,EAAS37H,WAAWpO,KAAK,eAAgB+vH,MAAMj4H,KAAKu1I,YAAav1I,OACjEiyI,EAAS37H,WAAWpO,KAAK,aAAc+vH,MAAMj4H,KAAKswI,OAAQtwI,OAC1DiyI,EAAS37H,WAAWpO,KAAK,YAAa+vH,MAAMj4H,KAAKw1I,WAAYx1I,OAC7DiyI,EAAS37H,WAAWpO,KAAK,MAAO+vH,MAAMj4H,KAAKqX,KAAMrX,OAEjDA,KAAKw9H,cAAgByU,EAASzU,aAClC,EAEAt9H,EAAIM,UAAUoyI,YAAc,WAMxB,IALA,IAEI6C,EAAOz1I,KAAK1F,QAAQmkI,OACpBA,EAASz+H,KAAKy+H,OAAS,GAElBhkI,EAAI,EAAGA,EAAIg7I,EAAK57I,OAAQY,IAAK,CAClC,IAAIH,EAAUm7I,EAAKh7I,GAEf8rI,EAROvmI,KAQU01I,aAAap7I,GAClCmkI,EAAOn/H,KAAKinI,EAChB,CACJ,EAEArmI,EAAIM,UAAUk1I,aAAe,SAAuBp7I,GAChD,IAAIuJ,EAAOvJ,EAAQuJ,MAAQ,QACvB8xI,EAAgB31I,KAAK1F,QAAQq7I,cAAc9xI,GAC3C+xI,EAAe/xI,IAAS0tI,OACxB10I,WAAW,CAAC,EAAGmD,KAAK1F,QAAQu7I,eAAgBv7I,EAAS,CAAEmgI,MAAOz6H,KAAK1F,QAAQmgI,QAC3E59H,WAAW,CAAC,EAAG84I,EAAer7I,GAG9BisI,EAAQ,IAAIuP,EADOhE,UAAUjuI,IACA7D,KAAM41I,GAMvC,OAJI/xI,IAAS0tI,SACTvxI,KAAKmpD,QAAUo9E,GAGZA,CACX,EAEArmI,EAAIM,UAAU8xF,eAAiB,WAC3B,OAAO,IAAI3V,QAAQ38E,KAAKo9H,cAAep9H,KAAK1F,QAAQ+5D,QACxD,EAGAn0D,EAAIM,UAAUkyI,aAAe,YACL1yI,KAAK1F,QAAQmkI,QAAU,IAAIh1H,QAAO,SAAUxO,GAC5D,OAAOA,GAAKA,EAAE4I,OAAS0tI,MAC3B,IAEiB13I,OAAS,IAM1BmG,KAAKmpD,QAAU,IAAIygF,YAAY5pI,KAAMnD,WAAW,CAAC,EAAGmD,KAAK1F,QAAQu7I,eAAgB,CAAEpb,MAAOz6H,KAAK1F,QAAQmgI,SACvGz6H,KAAKmpD,QAAQx/C,IAAI3J,KAAK1F,QAAQ6uD,SAClC,EAGAjpD,EAAIM,UAAU80I,QAAU,SAAkBtzI,GACtC,IAAIkrB,EAASltB,KAAKq/H,gBAAgBr/H,KAAKkgI,aAAatlI,QAChDqpI,EAAUjiI,EAAE6Q,OAAOoxH,QACnB5pI,EAAS,IAAIxH,QAAQoxI,EAAQhpI,EAAGgpI,EAAQ/oI,GAAGqgB,OAAO,GAAGA,MAAM,EAAI0oH,EAAQ1oH,OAE3E2R,EAAOjyB,GAAKZ,EAAOY,EACnBiyB,EAAOhyB,GAAKb,EAAOa,EACnB8E,KAAK+1I,cAAgB17I,EAErB2F,KAAKuxF,SAASl3F,OAASA,EACvB2F,KAAKwxF,cAELxxF,KAAK6zI,WAAW7zI,KAAKqzI,gBAAgBnmH,IAErCltB,KAAKqB,QAAQ,MAAO,CAChBmU,cAAexT,EACfkrB,OAAQltB,KAAKwyI,aACbr9H,OAAQnV,KAAKmV,UAErB,EAEAjV,EAAIM,UAAU40I,WAAa,SAAqBpzI,GACvChC,KAAK+1I,eAAkB/1I,KAAKg2I,iBAIjCh2I,KAAK+1I,cAAgB,KACrB/1I,KAAKi2I,iBAAmBrkI,MAExB5R,KAAKqB,QAAQ,SAAU,CACnBmU,cAAexT,EACfkrB,OAAQltB,KAAKwyI,aACbr9H,OAAQnV,KAAKmV,WAErB,EAEAjV,EAAIM,UAAUw1I,aAAe,WACzB,OAAOpkI,OAAS5R,KAAKi2I,kBAAoB,GAAK,EAClD,EAEA/1I,EAAIM,UAAU+0I,YAAc,SAAsBvzI,GAC9C,GAAIhC,KAAKqB,QAAQ,YAAa,CAAEmU,cAAexT,IAAM,CACjD,IAAIsS,EAAQtS,EAAEuT,QAAQ,GAElBjB,GACAA,EAAMrG,QAEd,CACJ,EAEA/N,EAAIM,UAAU8vI,OAAS,SAAiBtuI,GACpC,IAAIuZ,EAAQvb,KAAKiyI,SAAShO,QAAQ1oH,MAC9Bo5D,EAAO30E,KAAKk2I,aAAa36H,GACzB46H,EAAgB,IAAItjJ,QAAQmP,EAAEmT,OAAOla,EAAG+G,EAAEmT,OAAOja,GACjDk7I,EAAiBp2I,KAAKgoI,eAAemO,EAAexhE,GAEpD0hE,EADcr2I,KAAKq/H,gBAAgB+W,EAAgBzhE,GACzB95E,WAAWs7I,EAAcl7I,GAAIk7I,EAAcj7I,GAEzE8E,KAAKq0I,YAAYgC,EAAa1hE,GAE9B30E,KAAKqB,QAAQ,UAAW,CACpBmU,cAAexT,GAEvB,EAEA9B,EAAIM,UAAU01I,aAAe,SAAuBl+C,GAChD,IACIs+C,EADQt2I,KAAKozI,aAAep7C,EACZh4F,KAAK1F,QAAQ09D,QAC7B2c,EAAO08D,KAAK51H,IAAI66H,GAASjF,KAAK51H,IAAI,GAEtC,OAAO41H,KAAKz2I,MAAM+5E,EACtB,EAEAz0E,EAAIM,UAAUk9H,OAAS,WACf19H,KAAKo+H,aACLp+H,KAAKo+H,YAAY30H,OAAOzJ,KAAKmV,SAAUnV,KAAK20E,QAGhD30E,KAAKkgI,YAAclgI,KAAKwyI,YAAW,GAEnCxyI,KAAKu2I,iBACLv2I,KAAKwxF,cAELxxF,KAAKqB,QAAQ,eACbrB,KAAKqB,QAAQ,QACjB,EAEAnB,EAAIM,UAAU+1I,eAAiB,WAC3B,IAAItE,EAAWjyI,KAAKiyI,SAChBh3I,EAAIg3I,EAAS1N,WAAWtpI,EACxBC,EAAI+2I,EAAS1N,WAAWrpI,EACxBqgB,EAAQvb,KAAKozI,aACb7W,EAAKv8H,KAAKq5H,SAASkD,GACnBvvG,EAAUhtB,KAAKq/H,gBAAgB9C,GAAI3hI,QAEvCq3I,EAAShO,QAAQrpI,OAAQ,EACzBq3I,EAASxhF,QACTwhF,EAAS37H,WAAWrI,SAEpB,IAAI0mE,EAAO30E,KAAK20E,OAEhBs9D,EAAS1N,WAAWZ,eAAiBnoH,IAAI,EAAGxb,KAAK1F,QAAQw/H,QAAUnlD,GACnEs9D,EAAS1N,WAAWX,SAAWpoH,IAAI,EAAGxb,KAAK1F,QAAQy/H,QAAUplD,GAE7D,IAAI6hE,EAAU,CACVjvI,KAAMylB,EAAQ/xB,EACdoH,IAAKkZ,EAAQyR,EAAQ/xB,GAGrBw7I,EAAU,CACVlvI,KAAMylB,EAAQ9xB,EACdmH,IAAKkZ,EAAQyR,EAAQ9xB,GAQzB,GALI8E,KAAK1F,QAAQ44I,aACbsD,EAAQn0I,IAAM,GAAKkZ,EACnBi7H,EAAQjvI,KAAOivI,EAAQn0I,MAGG,IAA1BrC,KAAK1F,QAAQ+4B,SAAoB,CACjC,IAAIugH,EAAW5zI,KAAK4zI,WACpB4C,EAAQjvI,IAAMkvI,EAAQlvI,IAAM,EAC5BivI,EAAQn0I,IAAMuxI,EAASp5I,MACvBi8I,EAAQp0I,IAAMuxI,EAASjoI,MAC3B,CAEA1Q,EAAE4nI,cACF3nI,EAAE2nI,cAEF5nI,EAAEgoI,YAAYuT,EAAQjvI,IAAKivI,EAAQn0I,KACnCnH,EAAE+nI,YAAYwT,EAAQlvI,IAAKkvI,EAAQp0I,KAEnCrC,KAAKm1I,aAAe,CAChBl6I,EAAGu7I,EACHt7I,EAAGu7I,EAEX,EAGAv2I,EAAIM,UAAUk2I,cAAgB,WAC9B,EAEAx2I,EAAIM,UAAU4yI,WAAa,SAAqBz+D,GAC5C,IAAIgiE,EAAUjzI,eAAeixE,EAAM30E,KAAK1F,QAAQq6E,MAChD,OAAO30E,KAAK1F,QAAQ09D,QAAUx8C,IAAI,EAAGm7H,EACzC,EAEAz2I,EAAIM,UAAU6W,KAAO,SAAerV,GAChC,GAAKhC,KAAKg2I,eAAV,CAIA,IAAIruH,EAAS3nB,KAAKgnI,YAAYhlI,GAC9BhC,KAAKwxF,cAELxxF,KAAKqB,QAAQ,QAAS,CAClBmU,cAAexT,EACf6S,SAAU7U,KAAKgoI,eAAergH,IAPlC,CASJ,EAEAznB,EAAIM,UAAUg1I,WAAa,SAAqBxzI,GAG5C,IAAyB,IAFXhC,KAAK1F,QAEPq5F,WACH3zF,KAAKqB,QAAQ,YAAa,CAAEmU,cAAexT,IAAM,CAClD,IAAI40I,EAAS52I,KAAK20E,OAASk9D,kBACvBlqH,EAAS3nB,KAAKgnI,YAAYhlI,GAC1B6S,EAAW7U,KAAKgoI,eAAergH,GAE/BuF,EADWltB,KAAKq/H,gBAAgBxqH,EAAU+hI,GACxB/7I,WAAW8sB,EAAO1sB,GAAI0sB,EAAOzsB,GAEnD8E,KAAKq0I,YAAYnnH,EAAQ0pH,GAEzB52I,KAAKqB,QAAQ,UAAW,CACpBmU,cAAexT,GAEvB,CAER,EAEA9B,EAAIM,UAAUo6E,YAAc,SAAsB54E,GAC9C,IAAIC,EAAQF,gBAAgBC,GAAK,GAAK,EAAI,EACtC1H,EAAU0F,KAAK1F,QACfu8I,EAAW72I,KAAK20E,OAChBiiE,EAASvzI,WAAWwzI,EAAW50I,EAAO3H,EAAQw/H,QAASx/H,EAAQy/H,SAEnE,IAAyB,IAArBz/H,EAAQq5F,UAAsBijD,IAAWC,IACpC72I,KAAKqB,QAAQ,YAAa,CAAEmU,cAAexT,IAAM,CAClD,IAAI2lB,EAAS3nB,KAAKgnI,YAAYhlI,GAC1B6S,EAAW7U,KAAKgoI,eAAergH,GAE/BuF,EADWltB,KAAKq/H,gBAAgBxqH,EAAU+hI,GACxB/7I,WAAW8sB,EAAO1sB,GAAI0sB,EAAOzsB,GAEnD8E,KAAKq0I,YAAYnnH,EAAQ0pH,GAEzB52I,KAAKqB,QAAQ,UAAW,CACpBmU,cAAexT,GAEvB,CAER,EAEA9B,EAAIM,UAAUk2F,uBAAyB,SAAiC56E,GACpE,IAAIzhB,EAAS0I,cAAc/C,KAAKvG,SAEhC,MAAO,CACH2E,KAAMoF,QAAQsY,EAAM7gB,EAAIZ,EAAO+D,MAC/BH,IAAKuF,QAAQsY,EAAM5gB,EAAIb,EAAO4D,KAEtC,EAEOiC,CACX,CAnxBY,CAmxBV8R,YAEFpO,kBAAkBmuI,MAAO,CACrBr9I,KAAM,MACN6/I,SAAU,CACNnW,aAAa,EACbhuH,UAAW,CACP+qH,QAAS,KAEbxmD,MAAM,GAEV8pD,OAAQ,GACRkX,cAAe,CACX/jG,MAAO,CACHn0C,MAAO,CACH+mB,KAAM,CACFzb,MAAO,QAEXxO,OAAQ,CACJwO,MAAO,OACPvO,MAAO,MAInB4lG,OAAQ,CACJ3iG,MAAO,CACH+mB,KAAM,CACFzb,MAAO,OACPqb,QAAS,IAEb7pB,OAAQ,CACJwO,MAAO,OACPvO,MAAO,MAInB82B,OAAQ,CACJsgB,MAAO,YACPyiB,QAAS,CACLvlC,SAAU,SAItB3Z,OAAQ,CACJ,EACA,GAEJslH,MAAO,CACH52H,KAAM,OACN2C,SAAU,CAAC,GAEfmuE,KAAM,EACN3c,QAAS,IACT8hE,QAAS,EACTC,QAAS,GACT5wE,QAAS,GACT0sF,eAAgB,CACZjkG,MAAO,YACPyiB,QAAS,CACLvlC,SAAU,QAGlBokH,YAAY,EAIZ5M,uBAAuB,IAG3BvN,iBAAiBgZ,MAAO,CACpB,cACA,QACA,iBACA,cACA,gBAGA,mBACA,mBAEA,MACA,SACA,QACA,aACA,eACA,sBACA,kBACA,kBACA,UACA,cAGJ,IAAI1vI,IAAM,SAAU5C,EAAOq3I,GAAS,OAAO10I,KAAKC,IAAIV,MAAM,KAAMlC,EAAM2B,IAAI01I,GAAS,EAC/EvvI,IAAM,SAAU9H,EAAOq3I,GAAS,OAAO10I,KAAKmF,IAAI5F,MAAM,KAAMlC,EAAM2B,IAAI01I,GAAS,EAC/EvgG,IAAM,SAAU92C,EAAOq3I,GAAS,OAAOr3I,EAAM2B,IAAI01I,GAAOhxE,QAAO,SAAUC,EAAKgxE,GAAQ,OAAQhxE,EAAMgxE,CAAO,GAAG,EAAI,EAClHC,QAAU,SAAUtqI,EAAG/D,GAAK,OAAQ+D,EAAEuqI,KAAOtuI,EAAEsuI,GAAKvqI,EAAEjR,MAAQkN,EAAElN,MAAQiR,EAAEuqI,GAAKvqI,EAAEoI,GAAKnM,EAAEsuI,GAAKtuI,EAAEmM,EAAK,EACpGoiI,WAAa,SAAUxqI,EAAG/D,GAAK,OAAOquI,QAAQtqI,EAAEvQ,OAAQwM,EAAExM,OAAS,EACnEg7I,WAAa,SAAUzqI,EAAG/D,GAAK,OAAOquI,QAAQtqI,EAAE+C,OAAQ9G,EAAE8G,OAAS,EACnEnW,MAAQ,SAAU89I,GAAQ,OAAOA,EAAK99I,KAAO,EAEjD,SAAS+9I,UAAUC,GACfA,EAAMjzI,SAAQ,SAAU+yI,GACpBA,EAAKG,YAAYlzI,SAAQ,SAAUmzI,GAC/BA,EAAKr7I,OAAOs7I,YAAY92H,KAAKw2H,WACjC,IACAC,EAAKK,YAAYpzI,SAAQ,SAAUmzI,GAC/BA,EAAK/nI,OAAO8nI,YAAY52H,KAAKu2H,WACjC,GACJ,GACJ,CAEA,IAAIQ,UAAY,SAAUN,EAAMO,GAC5B,MAAmB,SAAfP,EAAK14H,MACE04H,EAAKlzI,MAGG,UAAfkzI,EAAK14H,MACEi5H,EAAWP,EAAKzrI,OAGpByrI,EAAKK,YAAY59I,OAASu9I,EAAKlzI,MAAQyzI,CAClD,EAEIC,SAAW,SAAgBt9I,GAC3B,IAAIoI,EAAMpI,EAAQu9I,aACdx9I,EAASqI,EAAIrI,YAAwB,IAAXA,IAAoBA,EAAS,CAAC,GAC5D,IAAIqkB,EAAQhc,EAAIgc,MAChB1e,KAAK4L,KAAO,CACR0rI,MAAOh9I,EAAQg9I,MAAMl2I,KAAI,SAAUg2I,GAAQ,OAAOv6I,WAAW,CAAC,EAAG,CAAExC,OAAQA,EAAQqkB,MAAOA,GAAS04H,EAAO,IAC1GU,MAAOx9I,EAAQw9I,MAAM12I,KAAI,SAAUo2I,GAAQ,OAAO36I,WAAW,CAAC,EAAG26I,EAAO,KAG5Ex3I,KAAKxF,MAAQF,EAAQE,MACrBwF,KAAK2L,OAASrR,EAAQqR,OACtB3L,KAAK4hE,QAAUtnE,EAAQsnE,SAAW,EAClC5hE,KAAK8hE,QAAUxnE,EAAQwnE,SAAW,EAClC9hE,KAAK+3I,UAAYz9I,EAAQu9I,aAAar9I,MACtCwF,KAAKg4I,YAAc19I,EAAQu9I,aAAal6H,QACxC3d,KAAKuvB,QAAUj1B,EAAQi1B,QACvBvvB,KAAKi4I,kBAAoB39I,EAAQ29I,kBACjCj4I,KAAKk4I,MAAQ59I,EAAQ49I,MACrBl4I,KAAKm4I,WAAa79I,EAAQ69I,UAC9B,EAEAP,SAASp3I,UAAU43I,UAAY,WAC3B,IAAI11I,EAAM1C,KAAK4L,KACP0rI,EAAQ50I,EAAI40I,MACZQ,EAAQp1I,EAAIo1I,MACpB93I,KAAKq4I,oBAAoBf,EAAOQ,GAChC93I,KAAKs4I,oBAAoBhB,GAEzB,IAAIiB,EAAgBv4I,KAAKw4I,qBAAqBlB,GAE9C,GAAIiB,EACA,MAAO,CAAEjB,MAAO,GAAIQ,MAAO,GAAIW,QAAS,GAAIF,cAAeA,GAG/Dv4I,KAAK04I,oBAAoBpB,GACzB,IAAImB,EAAUz4I,KAAK24I,qBAAqBrB,GAKxC,OAJAt3I,KAAK44I,sBAAsBH,GAC3Bz4I,KAAK64I,iBAAiBvB,GACtBt3I,KAAK84I,sBAAsBxB,GAEpB/+I,OAAO4a,OAAO,CAAC,EAAGnT,KAAK4L,KAAM,CAAC6sI,QAASA,GAClD,EAEAb,SAASp3I,UAAU63I,oBAAsB,SAA8Bf,EAAOQ,GAC1E,IAAIiB,EAAW,IAAI74I,IAEnBo3I,EAAMjzI,SAAQ,SAAU+yI,EAAM38I,GAC1B28I,EAAK37I,MAAQhB,EACb28I,EAAKK,YAAc,GACnBL,EAAKG,YAAc,GACnBH,EAAK3iJ,QAAiB+S,IAAZ4vI,EAAK3iJ,GAAmB2iJ,EAAK3iJ,GAAK2iJ,EAAKnmH,MAAMnD,KACvDirH,EAASp4I,IAAIy2I,EAAK3iJ,GAAI2iJ,EAC1B,IAEAU,EAAMzzI,SAAQ,SAAUmzI,GACpBA,EAAKr7I,OAAS48I,EAASt4I,IAAI+2I,EAAKwB,UAChCxB,EAAK/nI,OAASspI,EAASt4I,IAAI+2I,EAAKyB,UAChCzB,EAAKr7I,OAAOs7I,YAAYn4I,KAAKk4I,GAC7BA,EAAK/nI,OAAO8nI,YAAYj4I,KAAKk4I,EACjC,GACJ,EAEAI,SAASp3I,UAAU83I,oBAAsB,SAA8BhB,GACnEA,EAAMjzI,SAAQ,SAAU+yI,GACpBA,EAAK99I,MAAQ8I,KAAKC,IACdk0C,IAAI6gG,EAAKK,YAAan+I,OACtBi9C,IAAI6gG,EAAKG,YAAaj+I,OAE9B,GACJ,EAEAs+I,SAASp3I,UAAUk4I,oBAAsB,SAA8BpB,GAInE,IAHA,IAAI3/H,EAAU,IAAI1N,IAAIqtI,GAClB/wG,EAAO,IAAIt8B,IACXivI,EAAY,EACTvhI,EAAQnS,MAAM,CAEjB,IADA,IAAI2zI,EAAe5/I,MAAM4Q,KAAKwN,GACrBlL,EAAI,EAAGA,EAAI0sI,EAAat/I,OAAQ4S,IAAK,CAC1C,IAAI2qI,EAAO+B,EAAa1sI,GACxB2qI,EAAKlzI,MAAQg1I,EACb,IAAK,IAAIluD,EAAI,EAAGA,EAAIosD,EAAKK,YAAY59I,OAAQmxF,IAAK,CAC9C,IAAIwsD,EAAOJ,EAAKK,YAAYzsD,GAC5BzkD,EAAK58B,IAAI6tI,EAAK/nI,OAClB,CACJ,CACAypI,IACAvhI,EAAU4uB,EACVA,EAAO,IAAIt8B,GACf,CACJ,EAEA2tI,SAASp3I,UAAUg4I,qBAAuB,SAA+BlB,GAWrE,IAVA,IAAI8B,EAAc9B,EAAMz9I,OACpB8d,EAAU,IAAI1N,IAAIqtI,GAClB/wG,EAAO,IAAIt8B,IACXovI,EAAgB,EAChBC,EAAW,SAAUlC,GACrBA,EAAKzrI,OAAS0tI,EACdjC,EAAKG,YAAYlzI,SAAQ,SAAUmzI,GAC/BjxG,EAAK58B,IAAI6tI,EAAKr7I,OAClB,GACJ,EACOwb,EAAQnS,MAAM,CAGjB,GAFAmS,EAAQtT,QAAQi1I,KAChBD,EACoBD,EAChB,OAAO,EAEXzhI,EAAU4uB,EACVA,EAAO,IAAIt8B,GACf,CACA,OAAO,CACX,EAEA2tI,SAASp3I,UAAUm4I,qBAAuB,SAA+BrB,GAMrE,IALI,IAEAK,EAAWt1I,IAAIi1I,GAAO,SAAU5tH,GAAK,OAAOA,EAAExlB,KAAO,IACrDq1I,GAAev5I,KAAKxF,MAAQwF,KAAK4hE,QAAU5hE,KAAK+3I,WAAaJ,EAC7Dc,EAAU,IAAIl/I,MAAMo+I,EAAW,GAC1Bl9I,EAAI,EAAGA,EAAI68I,EAAMz9I,OAAQY,IAAK,CACnC,IAAI28I,EAAOE,EAAM78I,GACb8rI,EAAQnkI,KAAKC,IAAI,EAAGD,KAAKmF,IAAIowI,EAAUD,UAAUN,EAAMO,KAC3DP,EAAKoC,GARUx5I,KAQI4hE,QAAU2kE,EAAQgT,EACrCnC,EAAKxiI,GAAKwiI,EAAKoC,GATAx5I,KASc+3I,UAC7BX,EAAK7Q,MAAQA,EACbkS,EAAQlS,GAASkS,EAAQlS,IAAU,GACnCkS,EAAQlS,GAAOjnI,KAAK83I,EACxB,CAEA,OAAOqB,CACX,EAEAb,SAASp3I,UAAUo4I,sBAAwB,SAAgCH,GACnE,IAAIxlI,EAAWjT,KAEfy5I,EAAQlyI,IAAIkxI,GAAS,SAAU7vI,GAAK,OAAQqK,EAAStH,OAASsH,EAAS6uD,SAAWl5D,EAAE/O,OAAS,GAAKoZ,EAAS+kI,aAAezhG,IAAI3tC,EAAGtP,MAAQ,IAmB7I,GAjBAm/I,EAAQp0I,SAAQ,SAAUizI,GACtB,IAAIp8I,EAAI+X,EAAS6uD,QACjBw1E,EAAMjzI,SAAQ,SAAU+yI,GACpBA,EAAKH,GAAK/7I,EACVk8I,EAAKtiI,GAAK5Z,EAAIk8I,EAAK99I,MAAQmgJ,EAC3Bv+I,EAAIk8I,EAAKtiI,GAAK7B,EAAS+kI,YACvBZ,EAAKK,YAAYpzI,SAAQ,SAAUmzI,GAC/BA,EAAKh9I,MAAQg9I,EAAKl+I,MAAQmgJ,CAC9B,GACJ,IACAv+I,GAAK+X,EAAStH,OAASzQ,EAAI+X,EAAS+kI,cAAgBV,EAAMz9I,OAAS,GACnEy9I,EAAMjzI,SAAQ,SAAU+yI,EAAM38I,GAC1B28I,EAAKH,IAAM/7I,GAAKT,EAAI,GACpB28I,EAAKtiI,IAAM5Z,GAAKT,EAAI,EACxB,GACJ,KAEwB,IAApBuF,KAAKm4I,WAIL,IAHA,IAAID,OAAuB1wI,IAAfxH,KAAKk4I,MAAsBl4I,KAAKk4I,MAAQO,EAAQ5+I,OAAS,EACjEo+I,EAAoBj4I,KAAKi4I,mBAAqB,EAEzCx9I,EAAI,EAAGA,EAAIy9I,EAAOz9I,IAClBwY,EAASsc,SAIVtc,EAASymI,mBAAmBjB,EAASR,GACrChlI,EAAS0mI,kBAAkBlB,EAASR,KAJpChlI,EAAS0mI,kBAAkBlB,EAASR,GACpChlI,EAASymI,mBAAmBjB,EAASR,IAQjDQ,EAAQp0I,QAAQgzI,UACpB,EAEAO,SAASp3I,UAAUq4I,iBAAmB,SAA2BvB,GAC7DA,EAAMjzI,SAAQ,SAAU+yI,GACpB,IAAIx1E,GAAWw1E,EAAK/8I,OAAS+8I,EAAK/8I,OAAO+D,KAAO,IAAM,EAClD0jE,GAAWs1E,EAAK/8I,OAAS+8I,EAAK/8I,OAAO4D,IAAM,IAAM,EACrDm5I,EAAKoC,IAAM53E,EACXw1E,EAAKxiI,IAAMgtD,EACXw1E,EAAKH,IAAMn1E,EACXs1E,EAAKtiI,IAAMgtD,CACf,GACJ,EAEA81E,SAASp3I,UAAUs4I,sBAAwB,SAAgCxB,GACvEA,EAAMjzI,SAAQ,SAAU+yI,GACpB,IAAIK,EAAcL,EAAKK,YACfF,EAAcH,EAAKG,YACvBr8I,EAAIk8I,EAAKH,GACTniI,EAAK5Z,EACTu8I,EAAYpzI,SAAQ,SAAUmzI,GAC1BA,EAAKgC,GAAKhC,EAAKr7I,OAAOyY,GACtB4iI,EAAKP,GAAK/7I,EAAIs8I,EAAKh9I,MAAQ,EAC3BU,GAAKs8I,EAAKh9I,KACd,IACA+8I,EAAYlzI,SAAQ,SAAUmzI,GAC1BA,EAAK5iI,GAAK4iI,EAAK/nI,OAAO+pI,GACtBhC,EAAK1iI,GAAKA,EAAK0iI,EAAKh9I,MAAQ,EAC5Bsa,GAAM0iI,EAAKh9I,KACf,GACJ,GACJ,EAEAo9I,SAASp3I,UAAUk5I,mBAAqB,SAA6BjB,EAASR,GAI1E,IAHI,IAAIhlI,EAAWjT,KAEfyM,EAAIgsI,EAAQ5+I,OACPY,EAAIw9I,EAAmBx9I,EAAIgS,EAAGhS,IAAK,CACxC,IAAImlG,EAAS64C,EAAQh+I,GACrBmlG,EAAOv7F,SAAQ,SAAUoL,GACrB,IAAIvU,EAAI,EACJq7C,EAAM,EACV9mC,EAAO8nI,YAAYlzI,SAAQ,SAAUmzI,GACjC,IAAI5hC,EAAS4hC,EAAKl+I,OAASmW,EAAO82H,MAAQiR,EAAKr7I,OAAOoqI,OACtDrrI,GAAK+X,EAAS2mI,aAAapC,EAAKr7I,OAAQsT,GAAUmmG,EAClDr/D,GAAOq/D,CACX,IAEA,IAAI1gG,EAAW,IAANha,EAAU,EAAKA,EAAIq7C,EAAM9mC,EAAOwnI,GACzCxnI,EAAOwnI,IAAM/hI,EACbzF,EAAOqF,IAAMI,EACbmiI,UAAU,CAAC5nI,GACf,IACAmwF,EAAOj/E,KAAKq2H,SACZ/jI,EAAS4mI,uBAAuBj6C,EACpC,CACJ,EAEAg4C,SAASp3I,UAAUm5I,kBAAoB,SAA4BlB,EAASR,GAKxE,IAJI,IAAIhlI,EAAWjT,KAIVvF,EAFDg+I,EAAQ5+I,OACK,EAAIo+I,EACAx9I,GAAK,EAAGA,IAAK,CAiB9B,IAhBJ,IAAImlG,EAAS64C,EAAQh+I,GACjByS,EAAO,SAAWP,GAClB,IAAIxQ,EAASyjG,EAAOjzF,GAChBzR,EAAI,EACJq7C,EAAM,EACVp6C,EAAOs7I,YAAYpzI,SAAQ,SAAUmzI,GACjC,IAAI5hC,EAAS4hC,EAAKl+I,OAASk+I,EAAK/nI,OAAO82H,MAAQpqI,EAAOoqI,OACtDrrI,GAAK+X,EAAS6mI,aAAa39I,EAAQq7I,EAAK/nI,QAAUmmG,EAClDr/D,GAAOq/D,CACX,IACA,IAAI1gG,EAAW,IAANha,EAAU,EAAKA,EAAIq7C,EAAMp6C,EAAO86I,GACzC96I,EAAO86I,IAAM/hI,EACb/Y,EAAO2Y,IAAMI,EACbmiI,UAAU,CAACl7I,GACf,EAEawQ,EAAI,EAAGA,EAAIizF,EAAO/lG,OAAQ8S,IAAKO,EAAMP,GAElDizF,EAAOj/E,KAAKq2H,SACZ/jI,EAAS4mI,uBAAuBj6C,EACpC,CACJ,EAEAg4C,SAASp3I,UAAUq5I,uBAAyB,SAAiCvC,GACzE,IACI10G,EAAW00G,EAAMz9I,OAAS,EAE9BmG,KAAK+5I,UAAUzC,EAAOt3I,KAAK2L,OAAQi3B,GACnC5iC,KAAKg6I,YAAY1C,EAAOt3I,KAAK8hE,QAJZ,EAKrB,EAEA81E,SAASp3I,UAAUw5I,YAAc,SAAsB1C,EAAO2C,EAAMx+I,GAKhE,IAJI,IAEAy+I,EAAWD,EAENx/I,EAAIgB,EAAOhB,EAAI68I,EAAMz9I,OAAQY,IAAK,CACvC,IAAI28I,EAAOE,EAAM78I,GACbya,EAAK9S,KAAKC,IAAI,EAAG63I,EAAW9C,EAAKH,IACrCG,EAAKH,IAAM/hI,EACXkiI,EAAKtiI,IAAMI,EACXglI,EAAW9C,EAAKtiI,GATD9U,KASeg4I,WAClC,CACJ,EAEAJ,SAASp3I,UAAUu5I,UAAY,SAAoBzC,EAAO2C,EAAMx+I,GAI5D,IAHI,IAEAy+I,EAAWD,EACNx/I,EAAIgB,EAAOhB,GAAK,IAAKA,EAAG,CAC7B,IAAI28I,EAAOE,EAAM78I,GACbya,EAAK9S,KAAKC,IAAI,EAAG+0I,EAAKtiI,GAAKolI,GAC/B9C,EAAKH,IAAM/hI,EACXkiI,EAAKtiI,IAAMI,EACXglI,EAAW9C,EAAKH,GARDj3I,KAQeg4I,WAClC,CACJ,EAEAJ,SAASp3I,UAAUs5I,aAAe,SAAuB39I,EAAQsT,GAI7D,IAHI,IAEAvU,EAAIuU,EAAOwnI,IAAOxnI,EAAO8nI,YAAY19I,OAAS,GAAKmG,KAAKg4I,YAAe,EAClEv9I,EAAI,EAAGA,EAAIgV,EAAO8nI,YAAY19I,OAAQY,IAAK,CAChD,IAAI+8I,EAAO/nI,EAAO8nI,YAAY98I,GAC9B,GAAI+8I,EAAKr7I,SAAWA,EAChB,MAEJjB,GAAKs8I,EAAKh9I,MARKwF,KAQYg4I,WAC/B,CACA,IAAK,IAAIzqI,EAAM,EAAGA,EAAMpR,EAAOs7I,YAAY59I,OAAQ0T,IAAO,CACtD,IAAI4sI,EAASh+I,EAAOs7I,YAAYlqI,GAChC,GAAI4sI,EAAO1qI,SAAWA,EAClB,MAEJvU,GAAKi/I,EAAO3/I,KAChB,CACA,OAAOU,CACX,EAEA08I,SAASp3I,UAAUo5I,aAAe,SAAuBz9I,EAAQsT,GAI7D,IAHI,IAEAvU,EAAIiB,EAAO86I,IAAO96I,EAAOs7I,YAAY59I,OAAS,GAAKmG,KAAKg4I,YAAe,EAClEv9I,EAAI,EAAGA,EAAI0B,EAAOs7I,YAAY59I,OAAQY,IAAK,CAChD,IAAI+8I,EAAOr7I,EAAOs7I,YAAYh9I,GAC9B,GAAI+8I,EAAK/nI,SAAWA,EAChB,MAEJvU,GAAKs8I,EAAKh9I,MARKwF,KAQYg4I,WAC/B,CACA,IAAK,IAAIzqI,EAAM,EAAGA,EAAMkC,EAAO8nI,YAAY19I,OAAQ0T,IAAO,CACtD,IAAI4sI,EAAS1qI,EAAO8nI,YAAYhqI,GAChC,GAAI4sI,EAAOh+I,SAAWA,EAClB,MAEJjB,GAAKi/I,EAAO3/I,KAChB,CACA,OAAOU,CACX,EAEA,IAAIk/I,gBAAkB,SAAU9/I,GAAW,OAAO,IAAIs9I,SAASt9I,GAAS89I,WAAa,EAEjFiC,aAAe,SAAUvC,GAIzB,IAHA,IAAIx+I,EAAQ,EACRghJ,EAAcxC,EAAMj+I,OAEfY,EAAI,EAAGA,EAAI6/I,EAAa7/I,IAG7B,IAFA,IAAI+8I,EAAOM,EAAMr9I,GAER8/I,EAAQ9/I,EAAI,EAAG8/I,EAAQD,EAAaC,IAAS,CAClD,IAAIC,EAAW1C,EAAMyC,GAEjBE,UAAUjD,EAAMgD,KAChBlhJ,GAAS8I,KAAKmF,IAAIiwI,EAAKl+I,MAAOkhJ,EAASlhJ,OAE/C,CAGJ,OAAOA,CACX,EAEA,SAASohJ,kBAAkBC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAChD,IAAIC,GAAeD,EAAMJ,IAAQC,EAAMF,GACnCO,GAAeJ,EAAMF,IAAQG,EAAMJ,GAEvC,OAAIM,EAAcC,EACP,EACAD,IAAgBC,EAChB,GAGH,CACZ,CAEA,SAAST,UAAUU,EAAOC,GACtB,IAAIC,EAAKX,kBAAkBS,EAAM3B,GAAI2B,EAAMlE,GAAIkE,EAAMvmI,GAAIumI,EAAMrmI,GAAIsmI,EAAMxmI,GAAIwmI,EAAMtmI,IAC/EwmI,EAAKZ,kBAAkBS,EAAM3B,GAAI2B,EAAMlE,GAAIkE,EAAMvmI,GAAIumI,EAAMrmI,GAAIsmI,EAAM5B,GAAI4B,EAAMnE,IAC/EsE,EAAKb,kBAAkBS,EAAM3B,GAAI2B,EAAMlE,GAAImE,EAAM5B,GAAI4B,EAAMnE,GAAImE,EAAMxmI,GAAIwmI,EAAMtmI,IAC/E0mI,EAAKd,kBAAkBS,EAAMvmI,GAAIumI,EAAMrmI,GAAIsmI,EAAM5B,GAAI4B,EAAMnE,GAAImE,EAAMxmI,GAAIwmI,EAAMtmI,IAEnF,OAAOumI,IAAOC,GAAMC,IAAOC,CAC/B,CAEA,IAAIC,cAAiB,SAAU9oJ,GAC3B,SAAS8oJ,EAAcnhJ,GACnB3H,EAAMwO,KAAKnB,MACXA,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,GAC5C0F,KAAK0iB,cACT,CAqCA,OAnCK/vB,IAAQ8oJ,EAAchjJ,UAAY9F,GACvC8oJ,EAAcj7I,UAAYjI,OAAOuN,OAAQnT,GAASA,EAAM6N,WACxDi7I,EAAcj7I,UAAUhE,YAAci/I,EAEtCA,EAAcj7I,UAAUkiB,aAAe,WACnC1iB,KAAK+iB,OAAS/iB,KAAKoH,eACvB,EAEAq0I,EAAcj7I,UAAU+yF,aAAe,WACnC,OAAOvzF,KAAK+iB,MAChB,EAEA04H,EAAcj7I,UAAU4G,cAAgB,WACpC,IAAI6L,EAAWjT,KAEXqkB,EAAerkB,KAAK1F,QAAQyoB,OAahC,OAVIsB,EACSA,EAAa,CAClBxR,OAAQ7S,KAAKkiB,YACb5nB,QAAS0F,KAAK4oB,gBACdlG,aAAc,WAAc,OAAOzP,EAASmV,YAAc,IAGrDpoB,KAAKooB,YAItB,EAEAqzH,EAAcj7I,UAAU0hB,UAAY,WAChC,OAAOliB,IACX,EAEOy7I,CACX,CA3CoB,CA2ClB9oJ,OAEE+oJ,KAAQ,SAAUD,GAClB,SAASC,IACLD,EAAc95I,MAAM3B,KAAMjD,UAC9B,CAgFA,OA9EK0+I,IAAgBC,EAAKjjJ,UAAYgjJ,GACtCC,EAAKl7I,UAAYjI,OAAOuN,OAAQ21I,GAAiBA,EAAcj7I,WAC/Dk7I,EAAKl7I,UAAUhE,YAAck/I,EAE7BA,EAAKl7I,UAAU4nB,WAAa,WACxB,OAAOr1B,OAAOy0B,SAASxnB,KAAK27I,UAAW37I,KAAK4oB,gBAChD,EAEA8yH,EAAKl7I,UAAUm7I,QAAU,WACrB,IAAIvE,EAAOp3I,KAAK1F,QAAQ88I,KACxB,OAAO,IAAIxkJ,KAAK,CAACwkJ,EAAKoC,GAAIpC,EAAKH,IAAK,CAACG,EAAKxiI,GAAKwiI,EAAKoC,GAAIpC,EAAKtiI,GAAKsiI,EAAKH,IAC3E,EAEAyE,EAAKl7I,UAAU+oD,aAAe,SAAuBjvD,GACjD,IAAI29B,EAAgB39B,EAAQ45B,OAAOt1B,aAEnC,GAAIq5B,EACA,OAAOA,EAAc,CAAEm/G,KAAM98I,EAAQ88I,MAE7C,EAEAsE,EAAKl7I,UAAUooB,cAAgB,WAC3B,IAAItuB,EAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAAS0F,KAAK1F,QAAQ88I,MACpDrvH,EAAY/nB,KAAKupD,aAAajvD,GAElC,MAAO,CACHkqB,KAAM,CACFzb,MAAOzO,EAAQyO,MACfqb,QAAS9pB,EAAQ8pB,SAErB7pB,OAAQ,CAAEC,MAAO,GACjBV,UAAW,gBACXguB,KAAM,kBACNE,oBAAqB,OACrBD,UAAWA,EAEnB,EAEA2zH,EAAKl7I,UAAU+kB,qBAAuB,WAClC,GAAKvlB,KAAK1F,QAAQshJ,YASlB,OALA57I,KAAKskB,WAAavxB,OAAOy0B,SAASxnB,KAAK27I,UAAW,CAC9CphJ,OAAQyF,KAAK1F,QAAQ2qB,eACrBxC,SAAS,IAGNziB,KAAKskB,UAChB,EAEAo3H,EAAKl7I,UAAUo6F,MAAQ,SAAgBtgG,GACnC,GAAI0F,KAAKskB,WAAY,CACjB,IACIN,GADM1pB,GAAW,CAAC,GACF0pB,eAA8B,IAAdA,IAAuBA,GAAY,GACnEA,GACAhkB,KAAKskB,WAAWhqB,QAAQqG,IAAI,WAAW,GAE3C,IAAIlM,EAAKuL,KAAK1F,QAAQ88I,KAAK3iJ,GAC3BuL,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAMlM,GAE1BuL,KAAK1F,QAAQkzD,QACbxtD,KAAK1F,QAAQkzD,OAAO/mD,aAAanR,uBAAwBb,EAEjE,CACJ,EAEAinJ,EAAKl7I,UAAUq7I,KAAO,WACd77I,KAAKskB,aACLtkB,KAAKskB,WAAWhqB,QAAQqG,IAAI,WAAW,GACvCX,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAM,IAE1BX,KAAK1F,QAAQkzD,QACbxtD,KAAK1F,QAAQkzD,OAAO6tC,gBAAgB/lG,wBAGhD,EAEOomJ,CACX,CApFW,CAoFTD,eAEEK,UAAY,SAAU1E,EAAM2E,EAAYtgJ,GAAS,OAAO27I,EAAKruI,OAASgzI,EAAWtgJ,EAAQsgJ,EAAWliJ,OAAS,EAE7GmiJ,mBAAqB,SAAU5E,EAAM98I,EAASyhJ,EAAYtgJ,GAC1D,IAAIwgJ,EAAcp/I,WAAW,CAAC,EAAGvC,EAASA,EAAQ88I,MAClD,OAAOv6I,WAAW,CAAC,EACf,CAAEkM,MAAO+yI,UAAU1E,EAAM2E,EAAYtgJ,IACrCwgJ,EACA,CAAE7E,KAAMA,GACR,CACIr0H,OAAQq0H,EAAKr0H,OACbqB,QAASgzH,EAAKhzH,QACd/pB,OAAQ+8I,EAAK/8I,OACb0O,MAAOquI,EAAKruI,OAGxB,EAEImzI,eAAiB,SAAU/vI,EAAM2P,GACjC,IAAIpZ,EAAMyJ,EAAK,GACXyI,EAAKlS,EAAI,GACToS,EAAKpS,EAAI,GACT8oB,EAAQrf,EAAK,GACb4I,EAAKyW,EAAM,GACXxW,EAAKwW,EAAM,GACX2wH,EAAKrgI,EAAM,GACXsgI,EAAKtgI,EAAM,GAEf,OAAO1Z,KAAKkZ,KAAKvG,EAAKH,IAAOwnI,EAAKtnI,IAAOqnI,EAAKvnI,IAAOI,EAAKF,IAAO1S,KAAKiT,KAAKjT,KAAKoZ,IAAMzG,EAAKH,EAAK,GAAMxS,KAAKoZ,IAAMxG,EAAKF,EAAK,GAC/H,EAEIunI,YAAc,SAAUt5G,EAAIC,EAAIgS,EAAIo3D,EAAI5mB,GACxC,IAAIvwC,EAAK,EAAIuwC,EACT82D,EAAOrnG,EAAKA,EACZsnG,EAAK/2D,EAAIA,EACb,OAAQziD,EAAKu5G,EAAOrnG,EAAO,EAAIjS,EAAKwiD,EAAI82D,EAAS,EAAItnG,EAAKunG,EAAKtnG,EAAOm3D,EAAKmwC,EAAK/2D,CACpF,EAEIg3D,qBAAuB,SAAUC,EAAOC,GACxC,IAAIh6I,EAAM+5I,EAAM,GACZ7nI,EAAKlS,EAAI,GACToS,EAAKpS,EAAI,GACT8oB,EAAQixH,EAAM,GACd1nI,EAAKyW,EAAM,GACXxW,EAAKwW,EAAM,GACXogE,EAAQ8wD,EAAM,GACdP,EAAKvwD,EAAM,GACXwwD,EAAKxwD,EAAM,GACX+wD,EAAQD,EAAM,GACdE,EAAKD,EAAM,GACXE,EAAKF,EAAM,GAEXl3D,EAAKrjF,KAAKmvC,MAAMv8B,EAAKF,EAAIC,EAAKH,GAC9B8wE,EAAKtjF,KAAKmvC,MAAMsrG,EAAKT,EAAIQ,EAAKT,GAElC,OAAO/5I,KAAKkZ,IAAImqE,EAAKC,EACzB,EAEIo3D,8BAAgC,SAAUtF,EAAMtkH,GAChD,IAAIsmH,EAAKhC,EAAKgC,GACV5kI,EAAK4iI,EAAK5iI,GACVqiI,EAAKO,EAAKP,GACVniI,EAAK0iI,EAAK1iI,GACVioI,GAAMvD,EAAK5kI,GAAM,EAEjBpa,EAAQg9I,EAAKh9I,MACb6tB,EAAY7tB,EAAQ,EAGpBwiJ,EAAuB,CAAC,EAAExD,EAAKuD,GAAM,EAAG9F,EAAK5uH,GAAY,EAAEzT,EAAKmoI,GAAM,EAAGjoI,EAAKuT,IAI9E40H,EAAwB,CAACF,EAAIV,YAAYpF,EAAK5uH,EAAW4uH,EAAK5uH,EAAWvT,EAAKuT,EAAWvT,EAAKuT,EAAW,KAKzG60H,GAAmB1iJ,EAFL0hJ,eAAec,EAAsBC,IAET,EAK1CjtG,EAAQwsG,qBAAqBQ,EAAsB,CAAC,CAACxD,EAAIvC,EAAK5uH,GAAY,CAAC00H,EAAI9F,EAAK5uH,KACpF3b,EAAIwwI,EACJv0I,EAAIvG,KAAKia,IAAI2zB,GAAStjC,EAKtB+nC,EAAOwiG,EAAKniI,EAAK,GAAM,EAAK,EAKhC,OAJIoe,IACAuhB,GAAQA,GAGLA,EATMryC,KAAKiT,KAAK3I,EAAIA,EAAI/D,EAAIA,EAUvC,EAEIw0I,KAAQ,SAAU1B,GAClB,SAAS0B,IACL1B,EAAc95I,MAAM3B,KAAMjD,UAC9B,CA8FA,OA5FK0+I,IAAgB0B,EAAK1kJ,UAAYgjJ,GACtC0B,EAAK38I,UAAYjI,OAAOuN,OAAQ21I,GAAiBA,EAAcj7I,WAC/D28I,EAAK38I,UAAUhE,YAAc2gJ,EAE7BA,EAAK38I,UAAU4nB,WAAa,WACxB,IAAIovH,EAAOx3I,KAAK1F,QAAQk9I,KACpBgC,EAAKhC,EAAKgC,GACV5kI,EAAK4iI,EAAK5iI,GACVqiI,EAAKO,EAAKP,GACVniI,EAAK0iI,EAAK1iI,GACVioI,GAAMvD,EAAK5kI,GAAM,EAErB,OAAO,IAAI7hB,OAAOiN,KAAK4oB,iBAClBJ,OAAOgxH,EAAIvC,GAAImG,QAAQ,CAACL,EAAI9F,GAAK,CAAC8F,EAAIjoI,GAAK,CAACF,EAAIE,GACzD,EAEAqoI,EAAK38I,UAAU+oD,aAAe,SAAuBjvD,GACjD,IAAI29B,EAAgB39B,EAAQ45B,OAAOt1B,aAEnC,GAAIq5B,EACA,OAAOA,EAAc,CAAEu/G,KAAMl9I,EAAQk9I,MAE7C,EAEA2F,EAAK38I,UAAUooB,cAAgB,WAC3B,IAAItuB,EAAU0F,KAAK1F,QACfk9I,EAAOx3I,KAAK1F,QAAQk9I,KACpBzvH,EAAY/nB,KAAKupD,aAAajvD,GAElC,MAAO,CACHC,OAAQ,CACJC,MAAOF,EAAQk9I,KAAKh9I,MACpBuO,MAAOyuI,EAAKzuI,OAASzO,EAAQyO,MAC7Bqb,QAASvhB,QAAQ20I,EAAKpzH,SAAWozH,EAAKpzH,QAAU9pB,EAAQ8pB,SAE5D0D,KAAM,kBACNE,oBAAqB,OACrBD,UAAWA,EAEnB,EAEAo1H,EAAK38I,UAAU+kB,qBAAuB,WAClC,GAAKvlB,KAAK1F,QAAQshJ,YAAlB,CAGA,IAAIl5I,EAAM1C,KAAK1F,QACXk9I,EAAO90I,EAAI80I,KACXtkH,EAAMxwB,EAAIwwB,IACVsmH,EAAKhC,EAAKgC,GACV5kI,EAAK4iI,EAAK5iI,GACVqiI,EAAKO,EAAKP,GACVniI,EAAK0iI,EAAK1iI,GACVioI,GAAMvD,EAAK5kI,GAAM,EACjByT,EAAYmvH,EAAKh9I,MAAQ,EAEzBH,EAASyiJ,8BAA8BtF,EAAMtkH,GAEjDlzB,KAAKskB,WAAa,IAAIvxB,OAAO,CAAEwH,OAAQyF,KAAK1F,QAAQ2qB,eAAgBxC,SAAS,IACxE+F,OAAOgxH,EAAIvC,EAAK5uH,GAChB3G,OAAO83H,EAAIvC,EAAK5uH,GAChB+0H,QAAQ,CAACL,EAAK1iJ,EAAQ48I,EAAK5uH,GAAY,CAAC00H,EAAK1iJ,EAAQya,EAAKuT,GAAY,CAACzT,EAAIE,EAAKuT,IAChF3G,OAAO9M,EAAIE,EAAKuT,GAChB+0H,QAAQ,CAACL,EAAK1iJ,EAAQya,EAAKuT,GAAY,CAAC00H,EAAK1iJ,EAAQ48I,EAAK5uH,GAAY,CAACmxH,EAAIvC,EAAK5uH,GAlBrF,CAmBJ,EAEA80H,EAAK38I,UAAUo6F,MAAQ,SAAgBtgG,GACnC,GAAI0F,KAAKskB,WAAY,CACjB,IACIN,GADM1pB,GAAW,CAAC,GACF0pB,eAA8B,IAAdA,IAAuBA,GAAY,GACnEA,GACAhkB,KAAKskB,WAAWhqB,QAAQqG,IAAI,WAAW,GAE3C,IAAIlM,EAAMuL,KAAK1F,QAAQk9I,KAAa,SAAI,KAAQx3I,KAAK1F,QAAQk9I,KAAa,SAC1Ex3I,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAMlM,GAE1BuL,KAAK1F,QAAQkzD,QACbxtD,KAAK1F,QAAQkzD,OAAO/mD,aAAanR,uBAAwBb,EAEjE,CACJ,EAEA0oJ,EAAK38I,UAAUq7I,KAAO,WACd77I,KAAKskB,aACLtkB,KAAKskB,WAAWhqB,QAAQqG,IAAI,WAAW,GACvCX,KAAK+iB,OAAOzoB,QAAQqG,IAAI,KAAM,IAE1BX,KAAK1F,QAAQkzD,QACbxtD,KAAK1F,QAAQkzD,OAAO6tC,gBAAgB/lG,wBAGhD,EAEO6nJ,CACX,CAlGW,CAkGT1B,eAEE4B,mBAAqB,SAAU7F,EAAMl9I,EAASgjJ,EAAYC,GAC1D,IAAIC,EAAc3gJ,WAAW,CAAC,EAC1BvC,EACA,CACIk9I,KAAMA,EACNpzH,QAASozH,EAAKpzH,QACdrb,MAAOyuI,EAAKzuI,MACZ00I,UAAWjG,EAAKiG,UAChB16H,OAAQy0H,EAAKz0H,OACbiB,UAAWwzH,EAAKxzH,YAUxB,MAN8B,WAA1Bw5H,EAAYC,UACZD,EAAYz0I,MAAQu0I,EAAWhjJ,QAAQkqB,KAAKzb,MACX,WAA1By0I,EAAYC,YACnBD,EAAYz0I,MAAQw0I,EAAWjjJ,QAAQkqB,KAAKzb,OAGzCy0I,CACX,EAEIzkJ,OAAS,SACT2kJ,OAAS,SACTC,MAAQ,QAERC,MAAS,SAAUnC,GACnB,SAASmC,IACLnC,EAAc95I,MAAM3B,KAAMjD,UAC9B,CAgEA,OA9DK0+I,IAAgBmC,EAAMnlJ,UAAYgjJ,GACvCmC,EAAMp9I,UAAYjI,OAAOuN,OAAQ21I,GAAiBA,EAAcj7I,WAChEo9I,EAAMp9I,UAAUhE,YAAcohJ,EAE9BA,EAAMp9I,UAAU4nB,WAAa,WACzB,IAAI9tB,EAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAAS0F,KAAK1F,QAAQ88I,KAAKnmH,OACzDmmH,EAAO98I,EAAQ88I,KACfyG,EAAcvjJ,EAAQujJ,YACtBC,EAAcxjJ,EAAQwjJ,YACtBhwH,EAAOxzB,EAAQwzB,KACfzzB,EAASC,EAAQD,OACjB64B,EAAM54B,EAAQ44B,IACdpE,EAAWx0B,EAAQw0B,SAKvB,GAJIoE,GAAOpE,IAAa/1B,SACpB+1B,EAAWA,IAAa4uH,OAASC,MAAQD,SAGxCpjJ,EAAQmoB,UAAYqL,EACrB,OAAO,KAGX,IAAIiwH,EAAU,IAAIlhI,IAAIu6H,EAAKoC,GAAIpC,EAAKH,GAAIG,EAAKxiI,GAAIwiI,EAAKtiI,IAClD8T,EAAgB5oB,KAAK4oB,gBACrBsK,IAAQtK,EAAclK,QACtBkK,EAAclK,MAAQ,SAE1B,IAAIsZ,EAAU,IAAI3K,QAAQS,EAAMlF,GAChCoP,EAAQlW,OAAO,IAAIjF,KACnB,IAAImhI,EAAchmH,EAAQlb,IACtBmhI,EAAQF,EAAQ5oI,SAASja,EAAK8iJ,EAAYryI,SAAW,EAErDuyI,EAAqB9G,EAAKxiI,GAAKopI,EAAYxjJ,QAAUsjJ,EACrDK,EAAuB/G,EAAKoC,GAAKwE,EAAYxjJ,QAAUqjJ,EACvDO,EAAOtvH,IAAa4uH,QAAW5uH,IAAa/1B,QAAUmlJ,EAAsBR,OAASC,MACrFzqH,IACAkrH,EAAOtvH,IAAa6uH,OAAU7uH,IAAa/1B,QAAUolJ,EAAwBR,MAAQD,QAEzF,IAAIW,EAAa,CAACD,IAASV,OAAStG,EAAKoC,GAAKwE,EAAYxjJ,QAAU48I,EAAKxiI,GAAIqpI,GAEzEK,EAAW,IAAIzhI,IAAIwhI,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAKL,EAAYxjJ,QAAS6jJ,EAAW,GAAKL,EAAYryI,UAMtH,OALA2yI,EAASzjJ,UAAUR,EAAO+D,MAAQ,EAAG/D,EAAO4D,KAAO,GACnD+5B,EAAQlW,OAAOw8H,GAEftmH,EAAQxV,eAEDwV,EAAQjV,MACnB,EAEA66H,EAAMp9I,UAAUooB,cAAgB,WAC5B,IAAItuB,EAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAAS0F,KAAK1F,QAAQ88I,KAAKnmH,OAC7D,MAAO,CACHloB,MAAOzO,EAAQyO,MACfvE,KAAMlK,EAAQkK,KACd8gB,OAAQhrB,EAAQgrB,OAChByB,OAAQzsB,EAAQysB,OAChBpJ,QAASrjB,EAAQqjB,QACjBe,MAAOpkB,EAAQokB,MACfqO,WAAYzyB,EAAQyyB,WACpBxyB,OAAQD,EAAQC,OAExB,EAEOqjJ,CACX,CApEY,CAoEVnC,eAEF73I,kBAAkBg6I,MAAO,CACrB9uH,SAAU/1B,SAGd,IAAIwlJ,oBAAsB,SAAUnH,EAAM98I,EAAS44B,EAAK2qH,EAAaC,GAAe,OAAOjhJ,WAAW,CAAC,EACnGvC,EACA,CACI88I,KAAMA,EACNyG,YAAaA,EACbC,YAAaA,EACb5qH,IAAKA,EACLnQ,OAAQq0H,EAAKnmH,MAAMlO,OACnBN,QAAS20H,EAAKnmH,MAAMxO,QACpBsE,OAAQqwH,EAAKnmH,MAAMlK,OACnBpJ,QAASy5H,EAAKnmH,MAAMtT,QACpB2H,OAAQ8xH,EAAKnmH,MAAM3L,OACnB5G,MAAO04H,EAAKnmH,MAAMvS,MAClBrkB,OAAQ+8I,EAAKnmH,MAAM52B,QAExB,EAECu0B,MAAS,SAAU6sH,GACnB,SAAS7sH,IACL6sH,EAAc95I,MAAM3B,KAAMjD,UAC9B,CA2BA,OAzBK0+I,IAAgB7sH,EAAMn2B,UAAYgjJ,GACvC7sH,EAAMpuB,UAAYjI,OAAOuN,OAAQ21I,GAAiBA,EAAcj7I,WAChEouB,EAAMpuB,UAAUhE,YAAcoyB,EAE9BA,EAAMpuB,UAAU4nB,WAAa,WACzB,IAAI9tB,EAAU0F,KAAK1F,QACfkkJ,EAAclkJ,EAAQkkJ,YACtB1wH,EAAOxzB,EAAQwzB,KAEnB,IAAwB,IAApBxzB,EAAQmoB,UAAsBqL,EAC9B,OAAO,KAGX,IAAImB,EAAQN,QAAQI,WAAWjB,EAAMxzB,GAKrC,OAHA20B,EAAMnN,OAAO08H,GAEbvvH,EAAMzM,eACCyM,EAAMlM,MACjB,EAEA6L,EAAMpuB,UAAU4G,cAAgB,WAC5B,OAAOpH,KAAKooB,YAChB,EAEOwG,CACX,CA/BY,CA+BV6sH,eAEF73I,kBAAkBgrB,MAAO,CACrBlQ,MAAOhpB,OACP4vB,OAAQ,CACJ9qB,MAAO,GAEXusB,OAAQjpB,WAAW,GACnB6f,QAAS7f,WAAW,KAGxB,IAAI2gJ,SAAW,SAAU/xI,EAAG/D,GACxB,OAAI+D,EAAE0qI,KAAKoC,GAAK7wI,EAAEyuI,KAAKoC,IAAO,EACnB9sI,EAAE0qI,KAAKoC,GAAK7wI,EAAEyuI,KAAKoC,GAEvB9sI,EAAE0qI,KAAKH,GAAKtuI,EAAEyuI,KAAKH,EAC9B,EAEIyH,YAAc,SAAUhyI,EAAG/D,GAC3B,OAAI+D,EAAE0qI,KAAKxiI,GAAKjM,EAAEyuI,KAAKxiI,IAAO,EACnBlI,EAAE0qI,KAAKxiI,GAAKjM,EAAEyuI,KAAKxiI,GAEvBjM,EAAEyuI,KAAKH,GAAKvqI,EAAE0qI,KAAKH,EAC9B,EAEIt2H,KAAO,SAAUuS,GAAO,OAAQA,EAAMwrH,YAAcD,QAAW,EAE/D5mE,OAAU,SAAU4jE,GACpB,SAAS5jE,IACL4jE,EAAc95I,MAAM3B,KAAMjD,UAC9B,CAyCA,OAvCK0+I,IAAgB5jE,EAAOp/E,UAAYgjJ,GACxC5jE,EAAOr3E,UAAYjI,OAAOuN,OAAQ21I,GAAiBA,EAAcj7I,WACjEq3E,EAAOr3E,UAAUhE,YAAcq7E,EAE/BA,EAAOr3E,UAAU4nB,WAAa,WAC1B,IAAI9tB,EAAU0F,KAAK1F,QACfkkJ,EAAclkJ,EAAQkkJ,YACtBtrH,EAAM54B,EAAQ44B,IACdokH,EAAQh9I,EAAQg9I,WAAsB,IAAVA,IAAmBA,EAAQ,IAC3D,IAAI5vI,EAAOpN,EAAQoN,KACfonB,EAAWx0B,EAAQw0B,SAEvB,IAAwB,IAApBx0B,EAAQmoB,UAAsB60H,EAAMz9I,OACpC,OAAO,KAGX,IAAI+R,EAAO0rI,EAAMl2I,KAAI,SAAUg2I,GAAQ,MAAO,CAC1CtpH,KAAOspH,EAAKnmH,OAASmmH,EAAKnmH,MAAMnD,MAAS,GACzCsqC,KAAM,CACFhzC,gBAAoC5d,IAAxBE,EAAKi3I,eAA+Bj3I,EAAKi3I,eAAiBvH,EAAKruI,MAC3Eqb,aAA8B5c,IAArBE,EAAKk3I,YAA4Bl3I,EAAKk3I,YAAcxH,EAAKhzH,SAEtEgzH,KAAMA,EACN,IAEJxrI,EAAK+U,KAAKA,KAAKuS,IAEf,IAAI3D,EAAU2D,GAAOpE,IAAan4B,MAAQm4B,IAAaz3B,MACnDilE,EAAS,IAAIsb,SAASr/E,OAAO4a,OAAO,CAAC,EAAG7Y,EAAS,CAACsR,KAAMA,EAAM2jB,QAASA,IAAW,CAAE2D,IAAKA,IAI7F,OAHAopC,EAAOx6C,OAAO08H,GAEdliF,EAAO95C,eACA85C,EAAOv5C,MAClB,EAEA80D,EAAOr3E,UAAU4G,cAAgB,WAC7B,OAAOpH,KAAKooB,YAChB,EAEOyvD,CACX,CA7Ca,CA6CX4jE,eAEF73I,kBAAkBi0E,OAAQ,CACtB1uB,QAAS,CAAE1mC,SAAS,GACpB/a,KAAM,CACF7D,KAAMs3C,KACNxzB,OAAQxvB,QACRisB,QAAS,GAEb0K,SAAUr5B,SACVipB,MAAOhpB,OACPsvB,cAAe,CACX8C,KAAM,eACNC,UAAW,KACXC,oBAAqB,MAEzB1C,OAAQ,CACJ9qB,MAAO,KAIf,IAAIqkJ,KAAO,OACPC,KAAO,OAEPC,MAAQ,SAAUC,GAClB,IAAI1H,EAAQ0H,EAAO1H,MACfQ,EAAQkH,EAAOlH,MACfmH,EAAS78I,KAAKmF,IAAI5F,MAAMS,KAAMk1I,EAAMl2I,KAAI,SAAUg2I,GAAQ,OAAOA,EAAKoC,EAAI,KAE1Eh/I,EADO4H,KAAKC,IAAIV,MAAMS,KAAMk1I,EAAMl2I,KAAI,SAAUg2I,GAAQ,OAAOA,EAAKxiI,EAAI,KACzDqqI,EAEnB3H,EAAMjzI,SAAQ,SAAU+yI,GACpB,IAAIoC,EAAKh/I,GAAS48I,EAAKxiI,GAAK,EAAIqqI,GAC5BrqI,EAAKpa,GAAS48I,EAAKoC,GAAK,EAAIyF,GAChC7H,EAAKoC,GAAKA,EACVpC,EAAKxiI,GAAKA,CACd,IAEAkjI,EAAMzzI,SAAQ,SAAUmzI,GACpB,IAAIgC,EAAKh/I,GAASg9I,EAAK5iI,GAAK,EAAIqqI,GAC5BrqI,EAAKpa,GAASg9I,EAAKgC,GAAK,EAAIyF,GAChCzH,EAAK5iI,GAAK4kI,EACVhC,EAAKgC,GAAK5kI,CACd,GACJ,EAEIsqI,OAAU,SAAUltI,GACpB,SAASktI,EAAOzlJ,EAASa,EAASwmF,GAC9B9uE,EAAW7Q,KAAKnB,MAEhBA,KAAKgvF,WAAWlO,GAChB9gF,KAAKijH,YAAY3oH,GACjB0F,KAAK6uF,aAAap1F,GAClBuG,KAAKmvF,eAED70F,GAAWA,EAAQsR,OACnB5L,KAAKqvF,UACLrvF,KAAKm/I,sBACLn/I,KAAKo/I,gBAAgB3lJ,GAE7B,CAm4BA,OAj4BKuY,IAAaktI,EAAOzmJ,UAAYuZ,GACrCktI,EAAO1+I,UAAYjI,OAAOuN,OAAQkM,GAAcA,EAAWxR,WAC3D0+I,EAAO1+I,UAAUhE,YAAc0iJ,EAE/BA,EAAO1+I,UAAU0R,QAAU,WACvBlS,KAAKmS,SACLnS,KAAK2xF,kBACL3xF,KAAKq/I,yBAEDr/I,KAAKvG,UACLuG,KAAKvG,QAAQsW,oBAAoB,UAAW/P,KAAK41F,iBACjD51F,KAAKvG,QAAQsW,oBAAoB,QAAS/P,KAAK81F,eAC/C91F,KAAKvG,QAAQsW,oBAAoB,YAAa/P,KAAKs/I,gBACnDt/I,KAAKvG,QAAQsW,oBAAoB,aAAc/P,KAAKs/I,gBACpDt/I,KAAKvG,QAAQsW,oBAAoB,cAAe/P,KAAKs/I,iBAGzDt/I,KAAKivF,YAAc,KAEnBjvF,KAAKvG,QAAU,IACnB,EAEAylJ,EAAO1+I,UAAUquF,aAAe,SAAuBp1F,GACnDuG,KAAKvG,QAAUA,EACfD,SAASC,EAAS,CAAE,UAAW,aAC/BA,EAAQgN,aAAa,OAAQ,qBAE7B,IACIwoB,EADMjvB,KAAK1F,QACC20B,MAEZA,EAAMnB,MACNr0B,EAAQgN,aAAa,aAAcwoB,EAAMnB,MAGzCmB,EAAMr6B,aACN6E,EAAQgN,aAAa,uBAAwBwoB,EAAMr6B,YAE3D,EAEAsqJ,EAAO1+I,UAAU2uF,aAAe,WACvBnvF,KAAK8Y,UACN9Y,KAAK2xF,kBACL3xF,KAAKkjH,sBACLljH,KAAK8Y,QAAU9Y,KAAKmjH,iBAE5B,EAEA+7B,EAAO1+I,UAAU4+I,gBAAkB,SAA0B3lJ,GACzDA,EAAQwxD,SAAWxxD,EAAQg2F,aAAa,aAAe,EAEnDzvF,KAAK1F,QAAQilJ,4BAIjBv/I,KAAK41F,gBAAkB51F,KAAK61F,SAAS3tF,KAAKlI,MAC1CA,KAAK81F,cAAgB91F,KAAK+1F,OAAO7tF,KAAKlI,MACtCA,KAAKg2F,aAAeh2F,KAAKi2F,MAAM/tF,KAAKlI,MACpCA,KAAKs/I,eAAiBt/I,KAAKw/I,QAAQt3I,KAAKlI,MAExCvG,EAAQ0V,iBAAiB,UAAWnP,KAAK41F,iBACzCn8F,EAAQ0V,iBAAiB,QAASnP,KAAK81F,eACvCr8F,EAAQ0V,iBAAiB,OAAQnP,KAAKg2F,cACtCv8F,EAAQ0V,iBAAiB,YAAanP,KAAKs/I,gBAC3C7lJ,EAAQ0V,iBAAiB,aAAcnP,KAAKs/I,gBAC5C7lJ,EAAQ0V,iBAAiB,cAAenP,KAAKs/I,gBAE7Ct/I,KAAKivF,YAAc,CACfmoD,KAAMp3I,KAAKy/I,qBACXjI,KAAM,MAEd,EAEA0H,EAAO1+I,UAAUi/I,mBAAqB,WAClC,OAAOz/I,KAAKy4I,QAAQ,GAAG,EAC3B,EAEAyG,EAAO1+I,UAAU2+I,oBAAsB,WACnC,IAAIlsI,EAAWjT,KAEXc,EAAW,IAAI4+I,gBAAe,SAAUC,GACxCA,EAAQt7I,SAAQ,SAAU80E,GACtB,IAAIz2E,EAAMy2E,EAAMymE,YACZplJ,EAAQkI,EAAIlI,MACZmR,EAASjJ,EAAIiJ,OACbwtE,EAAM1pE,SAAWwD,EAASxZ,SACzBwZ,EAASzN,MAAQyN,EAASzN,KAAKhL,QAAUA,GAASyY,EAASzN,KAAKmG,SAAWA,IAGhFsH,EAASzN,KAAO,CAAEhL,MAAOA,EAAOmR,OAAQA,GACxCsH,EAAS6F,QAAQyuF,QAAQt0F,EAASzN,MAClCyN,EAASm9E,QAAS,EAClBn9E,EAASo8E,UACb,GACJ,IACArvF,KAAK6/I,gBAAkB/+I,EACvBA,EAASg/I,QAAQ9/I,KAAKvG,QAC1B,EAEAylJ,EAAO1+I,UAAU2iH,eAAiB,WAC9B,OAAOhvH,UAAU2R,OAAO9F,KAAK2Z,eAAgB,CACzComI,WAAY//I,KAAK0lI,YAAYx9H,KAAKlI,MAClCggJ,WAAYhgJ,KAAKq2F,YAAYnuF,KAAKlI,MAClCigJ,UAAWjgJ,KAAKw2F,WAAWtuF,KAAKlI,MAChC4vB,MAAO5vB,KAAK21F,OAAOztF,KAAKlI,OAEhC,EAEAk/I,EAAO1+I,UAAUwuF,WAAa,SAAqBlO,GAC/C,IAAIkoB,EAAeloB,GAAS9gF,KAAK8gF,OAAS,CAAC,EAC3C9gF,KAAK8gF,MAAQkoB,EACbhpG,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmsG,EAAchpG,KAAK1F,QACrD,EAEA4kJ,EAAO1+I,UAAU0/I,gBAAkB,SAA0B97H,GACzD,IAAInR,EAAWjT,KAEfA,KAAKmgJ,aAAa97I,SAAQ,SAAUmzI,GAChCvkI,EAASmtI,WAAW5I,EAAMpzH,EAASozH,EAAKgG,YAAYp5H,QACxD,GACJ,EAEA86H,EAAO1+I,UAAU6/I,0BAA4B,SAAoCzjD,GAC7E,IAAI3pF,EAAWjT,KAEfA,KAAKmgJ,aAAa97I,SAAQ,SAAUmzI,GAChCvkI,EAASmtI,WAAW5I,EAAM56C,EAAiB46C,EAAKgG,YAAYx5H,UAAU44E,gBAC1E,GACJ,EAEAsiD,EAAO1+I,UAAU4/I,WAAa,SAAqB5I,EAAMpzH,EAASk8H,GAC9D9I,EAAKl9I,QAAQqG,IAAI,SAAUpI,OAAO4a,OAAO,CAAC,EAAGqkI,EAAKl9I,QAAQC,OACtD,CAAC6pB,QAASvhB,QAAQy9I,GAAaA,EAAYl8H,IACnD,EAEA86H,EAAO1+I,UAAUa,QAAU,SAAkB3M,EAAM6rJ,GAC/C,IAAI57H,EAAW47H,EAAG9mJ,QAAQkrB,SACtB67H,EAAaD,EAAG9mJ,QAAQoK,KAExBuL,EAAQ7W,OAAO4a,OAAO,CAAC,EAAGotI,EAC1B,CAAC18I,KAAMnP,EACP8rJ,WAAYA,EACZ77H,SAAUA,IAEd,OAAO3S,EAAWxR,UAAUa,QAAQF,KAAKnB,KAAMtL,EAAM0a,EACzD,EAEA8vI,EAAO1+I,UAAUklI,YAAc,SAAsB6a,GACjD,IAAI9mJ,EAAU8mJ,EAAG9mJ,QACbgnJ,EAAShnJ,EAAQoK,OAASg7I,KAC1B6B,EAASjnJ,EAAQoK,OAASi7I,KAC1B6B,EAAe7wI,QAAQrW,EAAQupB,cAAgBvpB,EAAQupB,aAAa1oB,QAAQ88I,MAEhF,KAAKqJ,GAAUzgJ,KAAKqB,QAAQ,YAAak/I,IACpCG,GAAU1gJ,KAAKqB,QAAQ,YAAak/I,IADzC,CAKA,IACIv8H,EADMhkB,KAAK1F,QAAQw9I,MACH9zH,UACpB,GAAIy8H,EACAzgJ,KAAKqgJ,0BAA0Br8H,EAAU44E,iBACzC58F,KAAKogJ,WAAW3mJ,EAASuqB,EAAUI,QAAS3qB,EAAQ+jJ,YAAYx5H,UAAUI,cACvE,GAAIs8H,EACP1gJ,KAAK4gJ,eAAennJ,EAASuqB,QAC1B,GAAI28H,EAAc,CACrB,IAAIE,EAAa7gJ,KAAK8gJ,aAAargJ,IAAIhH,EAAQupB,aAAa1oB,QAAQ88I,KAAK3iJ,IACzEuL,KAAK4gJ,eAAeC,EAAY78H,EACpC,CAZA,CAaJ,EAEAk7H,EAAO1+I,UAAU61F,YAAc,SAAsBkqD,GACjD,IAAIttI,EAAWjT,KAEXvG,EAAU8mJ,EAAG9mJ,QACbgnJ,EAAShnJ,EAAQoK,OAASg7I,KAC1B6B,EAASjnJ,EAAQoK,OAASi7I,KAC1B6B,EAAe7wI,QAAQrW,EAAQupB,cAAgBvpB,EAAQupB,aAAa1oB,QAAQ88I,MAC5E3nI,EAAS8wI,EAAG/qI,cAAcurI,cAE1BN,GAAUhxI,GAA8B,SAApBA,EAAOuxI,YAI3BP,GAAUC,KACN1gJ,KAAKihJ,iBACLlpI,aAAa/X,KAAKihJ,gBAClBjhJ,KAAKihJ,eAAiB,MAE1BjhJ,KAAKkhJ,cAAe,EACpBlhJ,KAAKqB,QAAQ,cAAek/I,IAG3BE,GAAUzgJ,KAAKqB,QAAQ,YAAak/I,IACpCG,GAAU1gJ,KAAKqB,QAAQ,YAAak/I,KAIrCE,GAAUC,GAAUC,IACpB3gJ,KAAKmgJ,aAAa97I,SAAQ,SAAUmzI,GAChCvkI,EAASmtI,WAAW5I,EAAMvkI,EAAS3Y,QAAQw9I,MAAM1zH,QAASozH,EAAKgG,YAAYp5H,QAC/E,IAER,EAEA86H,EAAO1+I,UAAUg2F,WAAa,SAAqB+pD,GAC/C,IAAIttI,EAAWjT,KAEX0C,EAAM1C,KAAK1F,QAAQ+5D,QACnB8sF,EAAgBz+I,EAAIy+I,cACpB9/F,EAAQ3+C,EAAI2+C,MACZ5nD,EAAU8mJ,EAAG9mJ,QACb2nJ,EAAgB3nJ,EAAQoK,KAE5B,KAAKu9I,IAAkBvC,MAAQuC,IAAkBtC,MAAU9+I,KAAKkhJ,eAAiBC,GAAjF,CAIA,IAAIE,EAAad,EAAG/qI,cAChBiT,EAAOzoB,KAAKvG,QAAQsiF,wBACpBulE,EAASD,EAAWpmI,QAAUwN,EAAKrqB,KAAOqqB,EAAKjuB,MAAQ,EACvD+mJ,EAAQF,EAAWnmI,QAAUuN,EAAKxqB,IAAMwqB,EAAK9c,OAAS,EAa1D,GAXA40I,EAAGiB,YAAc,CACbC,YAAa,CACTrjJ,KAAMijJ,EAAWtmI,MACjB9c,IAAKojJ,EAAWrmI,OAEpB0mI,WAAY,CACR/2F,WAAY22F,EAAS,OAAS,QAC9Bv2H,SAAUw2H,EAAQ,MAAQ,WAI9BH,IAAkBtC,KAAM,CACxB,IAAItzH,EAAQ/xB,EAAQkrB,SAChB8yH,EAAcjsH,EAAMisH,YACpBF,EAAc/rH,EAAM+rH,YACpBO,EAAQP,EAAY19I,OAAS09I,EAAcE,EAC/C8I,EAAGoB,UAAY7J,EAAMhyE,QAAO,SAAUC,EAAKyxE,GAAQ,OAAOzxE,EAAMyxE,EAAKl+I,KAAO,GAAG,EACnF,CAEI0G,KAAKihJ,iBACLlpI,aAAa/X,KAAKihJ,gBAClBjhJ,KAAKihJ,eAAiB,MAG1B,IAAIW,EAAYT,GAAiBnhJ,KAAKkhJ,aAAe,EAAI7/F,EAEzDrhD,KAAKihJ,eAAiBhqI,YAAW,WAC7BhE,EAAS5R,QAAQ,cAAek/I,GAChCttI,EAASiuI,cAAe,EACxBjuI,EAASguI,eAAiB,IAC9B,GAAGW,EArCH,CAsCJ,EAEA1C,EAAO1+I,UAAUm1F,OAAS,SAAiB4qD,GACvC,IAAI9mJ,EAAU8mJ,EAAG9mJ,QACbkrB,EAAWlrB,EAAQkrB,SACnB87H,EAAShnJ,EAAQoK,OAASg7I,KAC1B6B,EAASjnJ,EAAQoK,OAASi7I,KAC1B7kD,EAAaj6F,KAAKivF,aAAe,CAAC,EAEtC,GAAIyxD,GAC0BzmD,EAAWu9C,MAAQx3I,KAAK6hJ,SAAS5nD,EAAWm9C,KAAMzyH,KAGxE3kB,KAAKivF,YAAc,CAAEmoD,KAAMzyH,EAAU6yH,KAAM,MAC3Cx3I,KAAK8hJ,WAAW,CAAE99H,WAAW,KAGjChkB,KAAKqB,QAAQ,YAAak/I,QACvB,GAAIE,EAAQ,CACf,IAAIjJ,EAAO,CACPwB,SAAUr0H,EAASxoB,OAAO1H,GAC1BwkJ,SAAUt0H,EAASlV,OAAOhb,GAC1B6E,MAAOqrB,EAASrrB,OAEK0G,KAAK+hJ,SAAS9nD,EAAWu9C,KAAMA,KAGpDx3I,KAAKivF,YAAc,CAAEmoD,KAAMzyH,EAASxoB,OAAQq7I,KAAMA,GAClDx3I,KAAKgiJ,WAAW,CAAEh+H,WAAW,KAGjChkB,KAAKqB,QAAQ,YAAak/I,EAC9B,CACJ,EAEArB,EAAO1+I,UAAUqhJ,SAAW,SAAmBI,EAAOC,GAClD,OAAOD,GAASC,GAASD,EAAMxtJ,KAAOytJ,EAAMztJ,EAChD,EAEAyqJ,EAAO1+I,UAAUuhJ,SAAW,SAAmB5G,EAAOC,GAClD,OAAOD,GAASC,GAASD,EAAMnC,WAAaoC,EAAMpC,UAAYmC,EAAMlC,WAAamC,EAAMnC,QAC3F,EAEAiG,EAAO1+I,UAAUshJ,WAAa,SAAqBxnJ,GAC/C0F,KAAKmiJ,uBAEL,IAAIC,EAAWpiJ,KAAKivF,YAAYmoD,KACrBp3I,KAAKqiJ,OAAOjhJ,IAAIX,IAAI2hJ,EAAS3tJ,IACnCmmG,MAAMtgG,EACf,EAEA4kJ,EAAO1+I,UAAUwhJ,WAAa,SAAqB1nJ,GAC/C0F,KAAKmiJ,uBAEL,IAAIG,EAAWtiJ,KAAKivF,YAAYuoD,KACrBx3I,KAAKqiJ,OAAOjhJ,IAAIX,IAAM6hJ,EAAiB,SAAI,IAAOA,EAAiB,UACzE1nD,MAAMtgG,EACf,EAEA4kJ,EAAO1+I,UAAU+hJ,eAAiB,SAAyB98E,QACpC,IAAdA,IAAuBA,EAAY,GAExC,IAAI9tD,EAAU3X,KAAKivF,YAAYmoD,KAE3BloB,EAAclvH,KAAKy4I,QAAQtrD,WAAU,SAAUyS,GAAU,OAAOA,EAAO55F,MAAK,SAAUyG,GAAK,OAAOA,EAAEhY,KAAOkjB,EAAQljB,EAAI,GAAI,IAC3H+tJ,EAAcxiJ,KAAKy4I,QAAQvpB,GAC3BuzB,EAAYD,EAAYr1D,WAAU,SAAU1gF,GAAK,OAAOA,EAAEhY,KAAOkjB,EAAQljB,EAAI,IAE7EiuJ,EAAWF,EAAYC,EAAYh9E,GACnCi9E,IACA1iJ,KAAKivF,YAAYmoD,KAAOsL,EACxB1iJ,KAAK8hJ,aAEb,EAEA5C,EAAO1+I,UAAUmiJ,eAAiB,SAAyBl9E,QACpC,IAAdA,IAAuBA,EAAY,GAExC,IAAI2xE,EAAOp3I,KAAKivF,YAAYmoD,KACxBI,EAAOx3I,KAAKivF,YAAYuoD,KAExBoL,EAAkBxL,EAAKK,YAAYtqD,WAAU,SAAUnC,GAAK,OAAOA,EAAEguD,WAAaxB,EAAKwB,UAAYhuD,EAAEiuD,WAAazB,EAAKyB,QAAU,IACjI4J,EAAkBzL,EAAKG,YAAYpqD,WAAU,SAAUnC,GAAK,OAAOA,EAAEguD,WAAaxB,EAAKwB,UAAYhuD,EAAEiuD,WAAazB,EAAKyB,QAAU,IAErI,IAAyB,IAArB2J,EAAwB,CACxB,IAAIpI,EAAWpD,EAAKK,YAAYmL,EAAkBn9E,GAE9C+0E,IACAx6I,KAAKivF,YAAYuoD,KAAOgD,EACxBx6I,KAAKgiJ,aAEb,MAAO,IAAyB,IAArBa,EAAwB,CAC/B,IAAIC,EAAa1L,EAAKG,YAAYsL,EAAkBp9E,GAEhDq9E,IACA9iJ,KAAKivF,YAAYuoD,KAAOsL,EACxB9iJ,KAAKgiJ,aAEb,CACJ,EAEA9C,EAAO1+I,UAAUuiJ,iBAAmB,WAChC,IAAIT,EAAWtiJ,KAAKivF,YAAYuoD,KAC5B8F,EAAat9I,KAAKqiJ,OAAOjhJ,IAAIX,IAAI6hJ,EAAStJ,UAC9Ch5I,KAAKivF,YAAc,CAAEmoD,KAAMkG,EAAWhjJ,QAAQ88I,KAAMI,KAAM,MAC1Dx3I,KAAK8hJ,YACT,EAEA5C,EAAO1+I,UAAUwiJ,iBAAmB,WAChC,IAAIV,EAAWtiJ,KAAKivF,YAAYuoD,KAC5B+F,EAAav9I,KAAKqiJ,OAAOjhJ,IAAIX,IAAI6hJ,EAASrJ,UAC9Cj5I,KAAKivF,YAAc,CAAEmoD,KAAMmG,EAAWjjJ,QAAQ88I,KAAMI,KAAM,MAC1Dx3I,KAAK8hJ,YACT,EAEA5C,EAAO1+I,UAAUyiJ,iBAAmB,WAChC,IAEIX,EAFWtiJ,KAAKivF,YAAYmoD,KACLK,YACA,GACvB6K,IACAtiJ,KAAKivF,YAAYuoD,KAAO8K,EACxBtiJ,KAAKgiJ,aAEb,EAEA9C,EAAO1+I,UAAU0iJ,iBAAmB,WAChC,IAEIZ,EAFWtiJ,KAAKivF,YAAYmoD,KACLG,YACA,GACvB+K,IACAtiJ,KAAKivF,YAAYuoD,KAAO8K,EACxBtiJ,KAAKgiJ,aAEb,EAEA9C,EAAO1+I,UAAUu1F,OAAS,WACjB/1F,KAAKmjJ,sBACFnjJ,KAAKivF,YAAYuoD,KACjBx3I,KAAKgiJ,aAELhiJ,KAAK8hJ,cAIb9hJ,KAAKmjJ,qBAAsB,CAC/B,EAEAjE,EAAO1+I,UAAUy1F,MAAQ,WACrBj2F,KAAKmiJ,sBACT,EAEAjD,EAAO1+I,UAAUg/I,QAAU,WAClBx/I,KAAKw6F,cACNx6F,KAAKmjJ,qBAAsB,EAEnC,EAEAjE,EAAO1+I,UAAUg6F,UAAY,WACzB,OAAOx6F,KAAKvG,QAAQghG,cAAcC,gBAAkB16F,KAAKvG,OAC7D,EAEAylJ,EAAO1+I,UAAU2hJ,qBAAuB,WACpCniJ,KAAKqiJ,OAAO/K,MAAMjzI,SAAQ,SAAU+yI,GAAQ,OAAOA,EAAKyE,MAAQ,IAChE77I,KAAKqiJ,OAAOvK,MAAMzzI,SAAQ,SAAUmzI,GAAQ,OAAOA,EAAKqE,MAAQ,GACpE,EAEAqD,EAAO1+I,UAAUq1F,SAAW,SAAmB0qD,GAC3C,IAAI3xI,EAAU5O,KAAK,KAAOugJ,EAAG7/I,KACzBwyB,EAAMlzB,KAAK1F,QAAQ44B,IAEnBA,GAAkB,cAAXqtH,EAAG7/I,IACVkO,EAAU5O,KAAKojJ,aACRlwH,GAAkB,eAAXqtH,EAAG7/I,MACjBkO,EAAU5O,KAAKqjJ,aAGfz0I,GACAA,EAAQzN,KAAKnB,KAAMugJ,EAE3B,EAEArB,EAAO1+I,UAAU8iJ,SAAW,SAAmB/C,GAC3CA,EAAGztI,iBAEH9S,KAAKivF,YAAc,CAAEmoD,KAAMp3I,KAAKy/I,qBAAsBjI,KAAM,MAC5Dx3I,KAAK8hJ,YACT,EAEA5C,EAAO1+I,UAAU+iJ,YAAc,SAAsBhD,GACjDA,EAAGztI,iBAEC9S,KAAKivF,YAAYuoD,KACjBx3I,KAAK2iJ,eAAe,GAEpB3iJ,KAAKuiJ,eAAe,EAE5B,EAEArD,EAAO1+I,UAAUgjJ,UAAY,SAAoBjD,GAC7CA,EAAGztI,iBAEC9S,KAAKivF,YAAYuoD,KACjBx3I,KAAK2iJ,gBAAgB,GAErB3iJ,KAAKuiJ,gBAAgB,EAE7B,EAEArD,EAAO1+I,UAAU6iJ,YAAc,SAAsB9C,GACjDA,EAAGztI,iBAEC9S,KAAKivF,YAAYuoD,KACjBx3I,KAAK+iJ,mBAEL/iJ,KAAKkjJ,kBAEb,EAEAhE,EAAO1+I,UAAU4iJ,aAAe,SAAuB7C,GACnDA,EAAGztI,iBAEC9S,KAAKivF,YAAYuoD,KACjBx3I,KAAKgjJ,mBAELhjJ,KAAKijJ,kBAEb,EAEA/D,EAAO1+I,UAAUogJ,eAAiB,SAAyBxJ,EAAMpzH,GAC7D,IAAI/Q,EAAWjT,KAEXo3I,IACAp3I,KAAKqgJ,0BAA0Br8H,EAAU44E,iBACzCw6C,EAAKU,MAAMzzI,SAAQ,SAAUmzI,GACzBvkI,EAASmtI,WAAW5I,EAAMxzH,EAAUI,QAASozH,EAAKgG,YAAYx5H,UAAUI,QAC5E,IAER,EAEA86H,EAAO1+I,UAAUmxF,gBAAkB,WAC3B3xF,KAAK8Y,UACL9Y,KAAK8Y,QAAQ5G,UACblS,KAAK8Y,QAAU,KACf9Y,KAAKojH,yBAEb,EAEA87B,EAAO1+I,UAAU6+I,uBAAyB,WAClCr/I,KAAK6/I,kBACL7/I,KAAK6/I,gBAAgB4D,aACrBzjJ,KAAK6/I,gBAAkB,KAE/B,EAEAX,EAAO1+I,UAAU0iH,oBAAsB,WAC9BljH,KAAK2Z,iBACN3Z,KAAK2Z,eAAiBxV,SAASiD,cAAc,OAC7CpH,KAAKvG,QAAQoN,YAAY7G,KAAK2Z,gBAEtC,EAEAulI,EAAO1+I,UAAU4iH,uBAAyB,WAClCpjH,KAAK2Z,gBAAkB3Z,KAAK2Z,eAAes6D,aAC3Cj0E,KAAK2Z,eAAes6D,WAAWC,YAAYl0E,KAAK2Z,gBAChD3Z,KAAK2Z,eAAiB,KAE9B,EAEAulI,EAAO1+I,UAAUo+F,WAAa,SAAqBtkG,EAASwmF,GACxD9gF,KAAKijH,YAAY3oH,GACjB0F,KAAKgvF,WAAWlO,GAChB9gF,KAAKmvF,eACLnvF,KAAKqvF,SACT,EAEA6vD,EAAO1+I,UAAU6uF,QAAU,WACvBrvF,KAAK8Y,QAAQjP,QAEb,IAAInH,EAAM1C,KAAKmpG,WACX3uG,EAAQkI,EAAIlI,MACZmR,EAASjJ,EAAIiJ,OACjB3L,KAAKwF,KAAO,CAAEhL,MAAOA,EAAOmR,OAAQA,GACpC3L,KAAK8Y,QAAQyuF,QAAQvnG,KAAKwF,MAE1BxF,KAAK0iB,eAEL1iB,KAAK8Y,QAAQs5E,KAAKpyF,KAAK+iB,OAC3B,EAEAm8H,EAAO1+I,UAAU2oG,SAAW,WACxB,OAAOnpG,KAAKvG,QAAQsiF,uBACxB,EAEAmjE,EAAO1+I,UAAUkiB,aAAe,WAC5B1iB,KAAK+iB,OAAS/iB,KAAKqjH,SACvB,EAEA67B,EAAO1+I,UAAUkjJ,SAAW,SAAmBz0H,EAAOuvH,GAClD,OAAKvvH,IAA2B,IAAlBA,EAAMxM,SAAsBwM,EAAMnB,KAI7B,IAAIc,MAAMr2B,OAAO4a,OAAO,CAAC,EAAG,CAACqrI,YAAaA,GAAcvvH,IAC5CskE,eACZvwE,aAAalG,IALrB,IAMf,EAEAoiI,EAAO1+I,UAAUi4E,UAAY,SAAoBn+E,EAASg9I,EAAOkH,GAC7D,OAAKlkJ,IAA+B,IAApBA,EAAQmoB,QAIX,IAAIo1D,OAAOt/E,OAAO4a,OAAO,CAAC,EAAG,CAACmkI,MAAOA,GAAQh9I,EAAS,CAACkkJ,YAAaA,KACvDjrD,eAENvwE,aAAalG,IANtB,IAOf,EAEAoiI,EAAO1+I,UAAU45I,gBAAkB,SAA4BuJ,EAAaC,GACxE,IAAI30H,EAAQ20H,EAAc30H,MACtBqtC,EAASsnF,EAActnF,OACvB1wD,EAAOg4I,EAAch4I,KACrB0rI,EAAQsM,EAActM,MACtBpjH,EAAS0vH,EAAc1vH,OACvB6nH,EAAa6H,EAAc7H,WAC3B8H,EAAoBD,EAAcC,kBAClCtE,EAA4BqE,EAAcrE,0BAC1CrsH,EAAM0wH,EAAc1wH,IACpBilH,GAAc0L,EACdlmI,EAAU4hI,EAA4B,EAAIh7H,iBAAiB/pB,MAAQ,EAEnEspJ,EAAY,IAAIjnI,IAAI,EAAG,EAAG8mI,EAAYnpJ,MAAOmpJ,EAAYh4I,QAC7Dm4I,EAAUlmI,MAAMD,GAEhB,IAAI+lI,EAAW1jJ,KAAK0jJ,SAASz0H,EAAO60H,GAEhCC,EAAaD,EAAUnnJ,QAE3B,GAAI+mJ,EAAU,CACV,IAAI3wD,EAAc2wD,EAAS/3I,SACvBsjB,EAAMH,WAAar3B,KACnBqsJ,EAAUlmI,MAAM,CAAE3f,IAAK80F,IACvBgxD,EAAa,IAAIlnI,IAAI,EAAGk2E,EAAa4wD,EAAYnpJ,MAAOmpJ,EAAYh4I,UAEpEm4I,EAAUxmI,OAAO,EAAGy1E,GACpBgxD,EAAa,IAAIlnI,IAAI,EAAG,EAAG8mI,EAAYnpJ,MAAOmpJ,EAAYh4I,OAASonF,GAE3E,CAEA,IAAIta,EAAYz4E,KAAKy4E,UAAUnc,EAAQ1wD,EAAK0rI,MAAOyM,GAC/CvqD,EAAkBl9B,GAAUA,EAAOxtC,UAAa+oD,OAAOr3E,UAAUlG,QAAQw0B,SAEzE2pD,IACI+gB,IAAmB7iG,MACnBmtJ,EAAUlmI,MAAM,CAAExf,KAAMq6E,EAAUj+E,UAGlCg/F,IAAmBniG,OACnBysJ,EAAUxmI,OAAOm7D,EAAUj+E,QAAS,GAGpCg/F,IAAmB/hG,KACnBqsJ,EAAUlmI,MAAM,CAAE3f,IAAKw6E,EAAU9sE,WAGjC6tF,IAAmB/jG,UACnBquJ,EAAUxmI,OAAO,EAAGm7D,EAAU9sE,WAItC,IAAIjJ,EAAM03I,gBAAgB7hJ,OAAO4a,OAAO,CAAC,EAAGwwI,EAAa,CAAC/hF,QAAS,EAAGE,QAAS,EAAGtnE,MAAOspJ,EAAUtpJ,QAASmR,OAAQm4I,EAAUn4I,YAC1Hq4I,EAAkBthJ,EAAI40I,MACtBiB,EAAgB71I,EAAI61I,cACxB,GAAIA,EAEA,OADA0L,QAAQC,KAAK,kFACN,CAAElF,OAAQ,CAAE1H,MAAO,GAAIQ,MAAO,GAAIW,QAAS,CAAC,IAAKF,cAAeA,GAAiB9/D,UAAWA,EAAWirE,SAAUA,GAG5H,IAAI5mI,EAAM,IAAID,IAEVghI,EAAcmG,EAAgBl+E,QAAO,SAAUC,EAAKqxE,GAAQ,OAAOh1I,KAAKmF,IAAIw+D,EAAKqxE,EAAKoC,GAAK,GAAG2K,KAC9FrG,EAAckG,EAAgBl+E,QAAO,SAAUC,EAAKqxE,GAAQ,OAAOh1I,KAAKC,IAAI0jE,EAAKqxE,EAAKxiI,GAAK,GAAG,GAElGovI,EAAgB3/I,SAAQ,SAAU+/I,EAAQ3pJ,GACtC,GAAIy4B,EAAK,CACL,IAAIsmH,EAAK4K,EAAO5K,GACZ5kI,EAAKwvI,EAAOxvI,GAChBwvI,EAAO5K,GAAKsE,EAAclpI,EAC1BwvI,EAAOxvI,GAAKkpI,EAActE,CAC9B,CACA,IAAI6K,EAAUrI,mBAAmBoI,EAAQ9M,EAAOyE,EAAYthJ,GACxD6pJ,EAAe,IAAI5I,KAAK2I,GAC5BvnI,EAAIC,KAAKkQ,UAAUq3H,EAAa/wD,eAAegxD,YAE/C,IACIC,EADgB,IAAI5G,MAAMW,oBAAoB6F,EAAQlwH,EAAQhB,EAAK2qH,EAAaC,IACpDvqD,eAC5BixD,GACA1nI,EAAIC,KAAKkQ,UAAUu3H,EAAYD,WAEvC,IAEA,IAAI3iF,EAAUkiF,EAAUlvI,GACpBktD,EAAUgiF,EAAUhvI,GAEpBta,EAAQspJ,EAAUtpJ,QAAUonE,EAC5Bj2D,EAASm4I,EAAUn4I,SAAWm2D,EAQlC,GANAtnE,GAASsiB,EAAI/H,GAAK+uI,EAAUtpJ,QAAUsiB,EAAI/H,GAAK+uI,EAAUtpJ,QAAU,EACnEmR,GAAUmR,EAAI9H,GAAK8uI,EAAUn4I,SAAWmR,EAAI9H,GAAK8uI,EAAUn4I,SAAW,EAEtEi2D,GAAW9kD,EAAIlI,GAAK,GAAKkI,EAAIlI,GAAK,EAClCktD,GAAWhlD,EAAIhI,GAAK,GAAKgI,EAAIhI,GAAK,GAEf,IAAfqjI,EACA,MAAO,CACH6G,OAAQ5E,gBAAgB7hJ,OAAO4a,OAAO,CAAC,EAAGwwI,EAAa,CAAC/hF,QAASA,EAASE,QAASA,EAAStnE,MAAOA,EAAOmR,OAAQA,EAAQwsI,YAAY,KACtI1/D,UAAWA,EACXirE,SAAUA,GAIlB,GAAI1jJ,KAAKowF,QAAU+nD,GAAcn4I,KAAKykJ,YAElC,OADAzkJ,KAAKowF,QAAS,EACP,CACH4uD,OAAQ5E,gBAAgB7hJ,OAAO4a,OAAO,CAAC,EAAGwwI,EAAa,CAAC/hF,QAASA,EAASE,QAASA,EAAStnE,MAAOA,EAAOmR,OAAQA,GAAS3L,KAAKykJ,cAChIhsE,UAAWA,EACXirE,SAAUA,GAoBlB,IAhBA,IAEIgB,EAAgBtK,gBAAgB7hJ,OAAO4a,OAAO,CAAC,EAAGwwI,EAAa,CAAC/hF,QAASA,EAASE,QAASA,EAAStnE,MAAOA,EAAOmR,OAAQA,EAAQwsI,YAAY,KAASM,QAAQ5+I,OAC/J8qJ,EAAU,GAEVF,EAAc,SAAUxM,EAAmB1oH,GAC3C,IAAIq1H,EAAWxK,gBAAgB7hJ,OAAO4a,OAAO,CAAC,EAAGwwI,EAAa,CAAC/hF,QAASA,EAASE,QAASA,EAAStnE,MAAOA,EAAOmR,OAAQA,EAAQusI,MALzH,EAKuID,kBAAmBA,EAAmB1oH,QAASA,KAC1Ls1H,EAAUxK,aAAauK,EAAS9M,OAMpC,OALA6M,EAAQrlJ,KAAK,CACTulJ,QAASA,EACTt1H,QAASA,EACT0oH,kBAAmBA,IAEJ,IAAZ4M,CACX,EAESppJ,EAhBS,EAgBYA,GAASipJ,EAAgB,KAC/CD,EAAYhpJ,GAAO,KAAUgpJ,EAAYhpJ,GAAO,IADEA,KAM1D,IAAIqpJ,EAAa1iJ,KAAKmF,IAAI5F,MAAM,KAAMgjJ,EAAQvjJ,KAAI,SAAUqoB,GAAK,OAAOA,EAAEo7H,OAAS,KAC/EE,EAAaJ,EAAQ3+I,MAAK,SAAUyjB,GAAK,OAAOA,EAAEo7H,UAAYC,CAAY,IAI9E,OAHA9kJ,KAAKykJ,YAAc,CAAExM,kBAAmB8M,EAAW9M,kBAAmB1oH,QAASw1H,EAAWx1H,SAGnF,CACHyvH,OAHS5E,gBAAgB7hJ,OAAO4a,OAAO,CAAC,EAAGwwI,EAAa,CAAC/hF,QAASA,EAASE,QAASA,EAAStnE,MAAOA,EAAOmR,OAAQA,GAAS3L,KAAKykJ,cAIjIhsE,UAAWA,EACXirE,SAAUA,EAElB,EAEAxE,EAAO1+I,UAAU6iH,QAAU,SAAkB/oH,EAASk0B,GAClD,IAAIo1H,EAAgBtpJ,GAAW0F,KAAK1F,QAChC0qJ,EAAgBx2H,GAAWxuB,KAE3Bi1B,EAAe2uH,EAAc1vH,OAC7B2jH,EAAe+L,EAActM,MAC7BkG,EAAcoG,EAAc9L,MAC5BiE,EAAa6H,EAAc7H,WAC3B9sH,EAAQ20H,EAAc30H,MACtBqtC,EAASsnF,EAActnF,OACvBppC,EAAM0wH,EAAc1wH,IACpBqsH,EAA4BqE,EAAcrE,0BAC1C3zI,EAAOg4I,EAAch4I,KACrBlJ,EAAMsiJ,EAAcx/I,KACpBhL,EAAQkI,EAAIlI,MACZmR,EAASjJ,EAAIiJ,OAEbg4I,EAAcprJ,OAAO4a,OAAO,CAAC,EAAGvH,EAAM,CAACpR,MAAOA,EAAOmR,OAAQA,EAAQksI,aAAcA,EAAc5oH,MAAOA,EAAOqtC,OAAQA,IACvH9wC,EAAQxrB,KAAKo6I,gBAAgBuJ,EAAaC,GAC1C5E,EAASxzH,EAAMwzH,OACf0E,EAAWl4H,EAAMk4H,SACjBjrE,EAAYjtD,EAAMitD,UAClBvlD,GACA6rH,MAAMC,GAEV,IAAI1H,EAAQ0H,EAAO1H,MACfQ,EAAQkH,EAAOlH,MACfW,EAAUuG,EAAOvG,QAErBuM,EAAcvM,QAAUA,EAAQr3I,KAAI,SAAUw+F,GAC1C,IAAIqlD,EAAYrlD,EAAOt2F,QAEvB,OADA27I,EAAUtkI,MAAK,SAAUjU,EAAG/D,GAAK,OAAO+D,EAAEuqI,GAAKtuI,EAAEsuI,EAAI,IAC9CgO,CACX,IAEA,IAAIliI,EAAS,IAAI/vB,QAAQ,CACrBo3C,KAAMr3C,OAAOy0B,SAAS,IAAI50B,KAAK,CAAC,EAAG,GAAI,CAAC4H,EAAOmR,OAGnD,GAAI+3I,EAAU,CACV,IACIwB,EADe,IAAIt2H,MAAMr2B,OAAO4a,OAAO,CAAC,EAAG8b,EAAO,CAACuvH,YAAakF,KACrCnwD,eAC/BxwE,EAAOpgB,OAAOuiJ,EAClB,CAEA,GAAIlG,EAAOzG,cACP,OAAOx1H,EAGX,IAAIoiI,EAAc,IAAIjlJ,IACtB8kJ,EAAclE,aAAeqE,EAE7B,IAAI9C,EAAS,CACT/K,MAAO,GACPQ,MAAO,GACP12I,IAAK,IAAIlB,KAEb8kJ,EAAc3C,OAASA,EAEvB,IAAI+C,EAAkB,GAEtB9N,EAAMjzI,SAAQ,SAAU+yI,EAAM38I,GAC1B,IAAI4pJ,EAAUrI,mBAAmB5E,EAAMS,EAAckE,EAAYthJ,GACjE4pJ,EAAQ72F,KAAO,WAAc,OAAOw3F,EAAcvrJ,OAAS,EAC3D4qJ,EAAQzI,aAA4C,IAA9B2D,EAEtB,IAAI+E,EAAe,IAAI5I,KAAK2I,GACxBxD,EAAayD,EAAa/wD,eAC9BstD,EAAW/I,MAAQ,GACnB+I,EAAWh9I,KAAOi7I,KAElB1H,EAAKruI,MAAQs7I,EAAQt7I,MACrBquI,EAAKhzH,QAAUigI,EAAQjgI,QAEvBy8H,EAAWl8H,SAAWpsB,OAAO4a,OAAO,CAAC,EAAGvH,EAAK0rI,MAAM78I,GAC/C,CAACsO,MAAOs7I,EAAQt7I,MAChBqb,QAASigI,EAAQjgI,QACjBqzH,YAAaL,EAAKK,YAAYr2I,KAAI,SAAUo2I,GAAQ,MAAO,CAAGwB,SAAUxB,EAAKwB,SAAUC,SAAUzB,EAAKyB,SAAU3/I,MAAOk+I,EAAKl+I,MAAU,IACtIi+I,YAAaH,EAAKG,YAAYn2I,KAAI,SAAUo2I,GAAQ,MAAO,CAAGwB,SAAUxB,EAAKwB,SAAUC,SAAUzB,EAAKyB,SAAU3/I,MAAOk+I,EAAKl+I,MAAU,MAC1I6rJ,EAAYxkJ,IAAIy2I,EAAK3iJ,GAAIosJ,GAEzBwB,EAAO/K,MAAMh4I,KAAKglJ,GAClBjC,EAAOjhJ,IAAIT,IAAIy2I,EAAK3iJ,GAAI6vJ,GAExBvhI,EAAOpgB,OAAOk+I,GAEdyD,EAAa/+H,uBAET++H,EAAahgI,YACb8gI,EAAgB9lJ,KAAKglJ,EAAahgI,WAE1C,IAEA,IAAI+gI,EAAcvN,EAAMxuI,QAAQqX,MAAK,SAAUjU,EAAG/D,GAAK,OAAOA,EAAErP,MAAQoT,EAAEpT,KAAO,IAE7E6mJ,EAAe,GACnB6E,EAAc7E,aAAeA,EAE7BkF,EAAYhhJ,SAAQ,SAAUmzI,GAC1B,IAAIr7I,EAASq7I,EAAKr7I,OACdsT,EAAS+nI,EAAK/nI,OACd6tI,EAAa6H,EAAY1kJ,IAAItE,EAAO1H,IACpC8oJ,EAAa4H,EAAY1kJ,IAAIgP,EAAOhb,IACpC6wJ,EAAkBjI,mBAAmB7F,EAAMgG,EAAaF,EAAYC,GACxE+H,EAAgB93F,KAAO,WAAc,OAAOw3F,EAAcvrJ,OAAS,EACnE6rJ,EAAgB1J,aAA4C,IAA9B2D,EAC9B+F,EAAgBpyH,IAAMA,EACtB,IAAIqyH,EAAe,IAAIpI,KAAKmI,GACxBE,EAAaD,EAAahyD,eAE9BiyD,EAAW3hJ,KAAOg7I,KAClB2G,EAAW7gI,SAAW,CAClBxoB,OAAQ5D,OAAO4a,OAAO,CAAC,EAAGmqI,EAAW34H,UACrClV,OAAQlX,OAAO4a,OAAO,CAAC,EAAGoqI,EAAW54H,UACrCrrB,MAAOk+I,EAAKl+I,OAEhBksJ,EAAWhI,YAAc8H,EACzBnF,EAAa7gJ,KAAKkmJ,GAElBlI,EAAWxF,MAAMx4I,KAAKkmJ,GACtBjI,EAAWzF,MAAMx4I,KAAKkmJ,GAEtBnD,EAAOvK,MAAMx4I,KAAKimJ,GAClBlD,EAAOjhJ,IAAIT,IAAMxE,EAAS,GAAI,IAAOsT,EAAS,GAAI81I,GAElDA,EAAahgI,uBAETggI,EAAajhI,YACb8gI,EAAgB9lJ,KAAKimJ,EAAajhI,YAGtCvB,EAAOpgB,OAAO6iJ,EAClB,IAEA,IAAI3H,EAAcvG,EAAMxxE,QAAO,SAAUC,EAAKqxE,GAAQ,OAAOh1I,KAAKmF,IAAIw+D,EAAKqxE,EAAKoC,GAAK,GAAG2K,KACpFrG,EAAcxG,EAAMxxE,QAAO,SAAUC,EAAKqxE,GAAQ,OAAOh1I,KAAKC,IAAI0jE,EAAKqxE,EAAKxiI,GAAK,GAAG,GAYxF,GAVA0iI,EAAMjzI,SAAQ,SAAU+yI,GACpB,IAAIqO,EAAUlH,oBAAoBnH,EAAMniH,EAAc/B,EAAK2qH,EAAaC,GAEpE0G,EADgB,IAAI5G,MAAM6H,GACElyD,eAE5BixD,GACAzhI,EAAOpgB,OAAO6hJ,EAEtB,IAEI/rE,EAAW,CACX,IACIitE,EADgB,IAAI7tE,OAAOt/E,OAAO4a,OAAO,CAAC,EAAGmpD,EAAQ,CAACppC,IAAKA,EAAKsrH,YAAa/lE,EAAW6+D,MAAOA,KAClE/jD,eACjCxwE,EAAOpgB,OAAO+iJ,EAClB,CAEA,GAA+B,IAA3BN,EAAgBvrJ,OAAc,CAC9B,IAAIorB,EAAiB,IAAIjyB,QACzBiyB,EAAetiB,OAAOhB,MAAMsjB,EAAgBmgI,GAC5CriI,EAAOpgB,OAAOsiB,EAClB,CAEA,OAAOlC,CACX,EAEAm8H,EAAO1+I,UAAU+yF,aAAe,SAAuBD,GACnD,IAAIh5F,EAAWg5F,GAAiBA,EAAch5F,QAC1CuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASg5F,EAAch5F,SAAW0F,KAAK1F,QAE3Dk0B,EAAU,CACVhpB,KAAM,CACFhL,MAAOqI,QAAQywF,GAAiBA,EAAc94F,OAAS84F,EAAc94F,MAAQwF,KAAKwF,KAAKhL,MACvFmR,OAAQ9I,QAAQywF,GAAiBA,EAAc3nF,QAAU2nF,EAAc3nF,OAAS3L,KAAKwF,KAAKmG,SAIlG,OAAO3L,KAAKqjH,QAAQ/oH,EAASk0B,EACjC,EAEA0wH,EAAO1+I,UAAUyiH,YAAc,SAAsB3oH,GACjD0F,KAAK1F,QAAUuC,WAAW,CAAC,EAAGmD,KAAK1F,QAASA,EAChD,EAEO4kJ,CACX,CAl5Ba,CAk5BXltI,YAEEuS,iBAAmB,CACnBH,QAAS,EACT5pB,MAAO,EACPuO,MAAOvT,SAGXoO,kBAAkBs7I,OAAQ,CACtBjwH,MAAO,CACHH,SAAUr3B,KAEdy8B,OAAQ,CACJzR,SAAS,EACTsE,OAAQ,CACJ3oB,KAAM,EACNF,MAAO,GAEXyf,QAAS,EACT2H,OAAQ,CACJ9qB,MAAO,GAEXuyB,WAAY,SACZxyB,OAAQ,CACJ+2D,SAAU,QACV92D,MAAO,GAEXH,OAAQ,CAAE+D,KAAM,EAAGH,IAAK,IAE5Bq5I,MAAO,CACH98I,MAAO,GACPmjB,QAAS,GACTyG,QAAS,EACT1F,MAAO,UACPrkB,OAAQ,CAAE+D,KAAM,EAAGH,IAAK,GACxBgnB,eAAgB1sB,OAAO4a,OAAO,CAAC,EAAGoR,kBAClC2P,OAAQ,CACJt1B,aAAc,SAAU8D,GAGpB,OAFWA,EAAI00I,KAEHnmH,MAAMnD,IAClC,IAGIgqH,MAAO,CACH2F,UAAW,SACXr5H,QAAS,GACTJ,UAAW,CACPI,QAAS,GACTw4E,gBAAiB,IAErB33E,eAAgB1sB,OAAO4a,OAAO,CAAC,EAAGoR,kBAClC2P,OAAQ,CACJt1B,aAAc,SAAU8D,GACpB,IAAI80I,EAAO90I,EAAI80I,KAEf,OAASA,EAAKr7I,OAAO80B,MAAU,KAAI,OAAUumH,EAAK/nI,OAAOwhB,MAAU,IACnF,IAGIojC,QAAS,CACL8sF,eAAe,EACf9/F,MAAO,OAIf,IAAIskG,iBAAmB,SAAU/5I,EAAM24H,EAAY5B,GAC/C,IAAI2U,EAAQ,IAAIrtI,IACZ6tI,EAAQ,IAAI53I,IACZ0lJ,EAAW,IAAI1lJ,IAEnB0L,EAAKvH,SAAQ,SAAU4H,GACnBs4H,EAAWlgI,SAAQ,SAAU2/H,GACzBsT,EAAM3tI,IAAIq6H,EAAU1qI,MAAM2S,GAC9B,IAEA,IAAK,IAAIxR,EAAI,EAAGA,EAAI8pI,EAAW1qI,OAAS,EAAGY,IAAK,CAC5C,IAAI0B,EAASooI,EAAW9pI,GAAGnB,MAAM2S,GAC7BwD,EAAS80H,EAAW9pI,EAAI,GAAGnB,MAAM2S,GACjCvL,EAAMvE,EAAS,IAAMsT,EACrBnW,EAAQqpI,EAAQrpI,MAAM2S,GACtB45I,EAAgB/N,EAAMr3I,IAAIC,QAER8G,IAAlBq+I,EACA/N,EAAMn3I,IAAID,EAAKmlJ,EAAgBvsJ,IAE/Bw+I,EAAMn3I,IAAID,EAAKpH,GACfssJ,EAASjlJ,IAAID,EAAK,CAAEvE,OAAQA,EAAQsT,OAAQA,IAEpD,CACJ,IAEA,IAAIq2I,EAAU,IAAI5lJ,IACd6lJ,EAAaxsJ,MAAM4Q,KAAKmtI,GAAOl2I,KAAI,SAAUg2I,EAAM37I,GAEnD,OADAqqJ,EAAQnlJ,IAAIy2I,EAAM37I,GACX,CAAEhH,GAAIgH,EAAOw1B,MAAO,CAAEnD,KAAML,OAAO2pH,IAC9C,IAEI4O,EAAazsJ,MAAM4Q,KAAK2tI,GAAO12I,KAAI,SAAUsB,GAC7C,IAAIhC,EAAMgC,EAAI,GACVpJ,EAAQoJ,EAAI,GAEZ8oB,EAAQo6H,EAASnlJ,IAAIC,GACrBvE,EAASqvB,EAAMrvB,OACfsT,EAAS+b,EAAM/b,OACnB,MAAO,CACHupI,SAAU8M,EAAQrlJ,IAAItE,GACtB88I,SAAU6M,EAAQrlJ,IAAIgP,GACtBnW,MAAOA,EAEf,IAEA,MAAO,CAAEg+I,MAAOyO,EAAYjO,MAAOkO,EACvC,EAEA,SAASC,0BAA0BC,GAC/B,IAAItqJ,EAAS,GAiBb,OAfAsqJ,EAAS7hJ,SAAQ,SAAUqD,GACvB,IAAIid,EAAWjd,EAAKid,SAChBwhI,EAAcz+I,EAAKy+I,YAEnBl6I,EAAM,GACVk6I,EAAY9hJ,SAAQ,SAAUu7F,GAC1B3zF,EAAI3M,KAAK,CACLlC,MAAOwiG,EAAO3wE,OAAS2wE,EAAOxiG,MAC9B9D,MAAO4F,OAAO0gG,EAAOxiG,MAAd8B,CAAqBylB,IAEpC,IAEA/oB,EAAO0D,KAAK2M,EAChB,IAEOrQ,CACX,CAEA,IAAIwqJ,YAAc7tJ,OAAOC,OAAO,CAC5B8uE,WAAY,EACZ++E,QAAS,EAETC,cAAe,EACfC,WAAY,EAEZC,aAAc,EAEdC,eAAgB,EAChBC,gBAAiB,EACjBC,cAAe,EACfC,iBAAkB,EAClBjI,eAAgB,EAEhBkI,UAAW,GACXC,cAAe,GACfC,cAAe,GACfC,WAAY,GAEZC,aAAc,GACdC,iBAAkB,GAClBC,iBAAkB,GAClBC,cAAe,GAEfxyD,YAAa,GACbyyD,YAAa,GAEbC,cAAe,GACfC,eAAgB,GAChBC,eAAgB,GAChBC,YAAa,GACbjuD,eAAgB,GAEhBkuD,sBAAuB,GACvBC,0BAA2B,GAC3BC,0BAA2B,GAC3BC,uBAAwB,GACxBC,2BAA4B,GAC5BC,2BAA4B,GAC5BC,wBAAyB,GACzBC,2BAA4B,GAC5BC,yBAA0B,GAE1BC,mBAAoB,GACpBC,uBAAwB,GACxBC,uBAAwB,GACxBC,oBAAqB,GACrBC,sBAAuB,GACvBC,wBAAyB,GACzBC,wBAAyB,GACzBC,qBAAsB,GACtBC,wBAAyB,KAGzBC,UAAY,CACZ,CAAE96H,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,QACrB,CAAEw0B,KAAM,KAAMx0B,MAAO,SAGrBuvJ,iBAAmB,OACnBC,oBAAsB,OACtBC,iBAAmB,OACnBC,qBAAuB,OAEvBC,UAAY,CACZ,CACIn7H,KAAM,QACNx0B,MAAO,+BACPmE,MAAO,CAAEyrJ,WAAY,iCAEzB,CACIp7H,KAAM,cACNx0B,MAAO,oCACPmE,MAAO,CAAEyrJ,WAAY,sCAEzB,CACIp7H,KAAM,UACNx0B,MAAO,iBACPmE,MAAO,CAAEyrJ,WAAY,mBAEzB,CACIp7H,KAAM,SACNx0B,MAAO,+BACPmE,MAAO,CAAEyrJ,WAAY,iCAEzB,CACIp7H,KAAM,iBACNx0B,MAAO,sCACPmE,MAAO,CAAEyrJ,WAAY,wCAEzB,CACIp7H,KAAM,SACNx0B,MAAO,6BACPmE,MAAO,CAAEyrJ,WAAY,+BAEzB,CACIp7H,KAAM,kBACNx0B,MAAO,iCACPmE,MAAO,CAAEyrJ,WAAY,mCAEzB,CACIp7H,KAAM,eACNx0B,MAAO,wCACPmE,MAAO,CAAEyrJ,WAAY,0CAEzB,CACIp7H,KAAM,UACNx0B,MAAO,8BACPmE,MAAO,CAAEyrJ,WAAY,iCAGzBC,gBAAkBF,UAAU,GAAG3vJ,MAE/B8vJ,WAAa,SACbC,QAAU,MACVC,SAAW,OACXC,QAAU,MACVC,YAAc,UACdC,iBAAmB,CAACL,WAAYC,QAASC,SAAUE,aAEnDE,gBAAkB,CAClB7lJ,KAAMylJ,SACN9uJ,MAAO,GAGX,SAASmvJ,cAAc9lJ,GACnB,OAAOA,GAAQ4lJ,iBAAiBG,SAAS/lJ,EAC7C,CAEA,IAAIgmJ,cAAgB,CAAC,SAAU,OAAQ,UACnCC,WAAa,CAAC,UAEdC,gBAAkB,CAClBpqD,IAAK,CACD,CAAEltD,SAAU,WAAY8P,MAAOsnG,eAC/B,CAAEp3G,SAAU,QAAS8P,MAAOunG,aAChClqD,OAAQ,CACJ,CAAEntD,SAAU,WAAY8P,MAAOsnG,eAC/B,CAAEp3G,SAAU,QAAS8P,MAAOunG,aAChC39I,KAAM,CACF,CAAEsmC,SAAU,WAAY8P,MAAOsnG,eAC/B,CAAEp3G,SAAU,QAAS8P,MAAOunG,aAChC/pD,IAAK,CACD,CAAEttD,SAAU,WAAY8P,MAAOsnG,eAC/B,CAAEp3G,SAAU,QAAS8P,MAAOunG,WAAYpuJ,MAAO,IACnDwkG,QAAS,CACL,CAAEztD,SAAU,WAAY8P,MAAOsnG,eAC/B,CAAEp3G,SAAU,QAAS8P,MAAOunG,cAGpC,SAASE,QAAQxlJ,EAAMgB,GACnB,QAASA,GAAQ,IAAM,KAAOhB,GAAQ,KAAKupB,MAC/C,CAEA,SAASk8H,UAAUzlJ,GACf,IAAI0lJ,GAAc1lJ,GAAQ,IAAIzK,QAAQ,KAGtC,MAAO,CAAEyL,KAFEhB,GAAQA,EAAKuuB,UAAU,EAAGm3H,GAEhBx1J,KADV8P,GAAQA,EAAKuuB,UAAUm3H,EAAa,GAEnD,CAEA,IAAIC,eAAiB,SAAUC,EAAUhhD,EAAaihD,GAClD,IACI7kJ,EADMykJ,UAAUI,GACL7kJ,KACf,OAAO4kJ,EAAWJ,QAAQI,EAAU5kJ,GAAQ4jG,GAAe,EAC/D,EAEIkhD,eAAiB,SAAUC,EAAUC,EAAiBH,GACtD,IACI31J,EADMu1J,UAAUI,GACL31J,KACf,OAAO61J,EAAWP,QAAQt1J,GAAQ81J,EAAiBD,GAAY,EACnE,EAEIh2F,SAAW,SAAUj7D,GAAS,OAAOA,OAAuC,EAE5EmxJ,iBAAmB,SAAU7+I,GAC7B,IAAIhQ,EAASs7E,gBAAgBtrE,EAAK,IAalC,OAZAhQ,EAAOyI,SAAQ,SAAUqD,EAAMjN,GAC3B,IAAK85D,SAAS7sD,EAAKpO,OACf,IAAK,IAAImC,EAAQ,EAAGA,EAAQmQ,EAAK/R,OAAQ4B,IAAS,CAC9C,IAAInC,EAAQsS,EAAKnQ,GAAOhB,GAAGnB,MAC3B,GAAIi7D,SAASj7D,GAAQ,CACjBoO,EAAKpO,MAAQA,EACb,KACJ,CACJ,CAER,IAEOsC,CACX,EAEI8uJ,uBAAyB,SAAU9+I,EAAM++I,GACzC,IAAIC,EAAa,GACbC,EAAeJ,iBAAiB7+I,GAEpC++I,EAAYpoG,MAAMl+C,SAAQ,SAAUR,GAChCgnJ,EAAaxmJ,SAAQ,SAAUqD,EAAMjN,UACtBiN,EAAKpO,QAAUuK,GACtB+mJ,EAAWtrJ,KAAK7E,EAExB,GACJ,IAEA,IAAImB,EAASgvJ,EAAWz9D,WAAU,SAAU1xF,GACxC,IAAI0N,EAASyC,EAAKxK,KAAI,SAAU0pJ,GAAU,OAAOA,EAAOrvJ,GAAOnC,KAAO,IACtE,OAAO,IAAI2Q,IAAId,GAAQ3D,OAAS2D,EAAOtP,MAC3C,IAEA,OAAOuI,KAAKC,IAAIzG,EAAQ,EAC5B,EAEImvJ,sBAAwB,SAAUn/I,EAAMo/I,GACxC,IAAIJ,EAAa,GACbC,EAAeJ,iBAAiB7+I,GAYpC,OAVAo/I,EAAU3mJ,SAAQ,SAAU4mJ,GACxBA,EAAI1oG,MAAMl+C,SAAQ,SAAUR,GACxBgnJ,EAAaxmJ,SAAQ,SAAUqD,EAAMjN,UACtBiN,EAAKpO,QAAUuK,GACtB+mJ,EAAWtrJ,KAAK7E,EAExB,GACJ,GACJ,IAEOmwJ,CACX,EAEIM,WAAa,WAAc,OAAOh0E,gBAAgB,CAC9CuhE,QAAS,GACT7sI,KAAM,GACN8Y,OAAQ,GACRymI,cAAe,GACfjnG,aAAc,CAAE,CAAEhjB,WAAY,GAAIhN,OAAQ,CAAEzR,SAAS,EAAMvE,SAAU,QAAU+Q,MAAO,CAAEnB,KAAM,MAC9F8T,UAAW,CAAC,CAAE1N,OAAQ,CAAEzR,SAAS,EAAMvE,SAAU,UACjDk6C,KAAM,CACFrxC,OAAQ,CACJ3oB,UAAMoJ,EACNtJ,WAAOsJ,EACPvJ,SAAKuJ,EACLrJ,YAAQqJ,IAGhBynB,MAAO,CAAEnB,KAAM,IACfinE,SAAU,CAAEjnE,KAAM,IAClBs1B,OAAO,GACP,EAEJgoG,wBAA0B,SAAUx/I,EAAM07D,EAAYhtE,GACtD,IAAI2J,EAAQinJ,aACZjnJ,EAAMqjE,WAAaA,EACnBrjE,EAAM2H,KAAOA,GAAQ,GACrB3H,EAAMq4D,OAAS,CAAE75C,SAAS,EAAMqM,SAAU,UAC1C,IAAIu8H,EAAWtB,gBAAgBziF,GAE/B,IAAK+jF,IAAaz/I,EAAK/R,OACnB,OAAOoK,EAGX,IAAIqnJ,EAAc1/I,EAAK,GAAGtC,QAC1BrF,EAAMw0I,QAAU7sI,EAAK,GAAGxK,KAAI,SAAU3G,GAAK,OAAOgzB,OAAOhzB,EAAE2C,MAAQ,IAEnE,IAAIutJ,EAAcU,EAASrlJ,MAAK,SAAUilJ,GAAO,MAAwB,aAAjBA,EAAIx4G,QAAyB,IACjF84G,GAAY,EACZZ,IACAY,EACIjxJ,GAAWA,EAAQ4pD,aACbjgD,EAAMw0I,QAAQ1+I,QAAQO,EAAQ4pD,cAC9BwmG,uBAAuB9+I,EAAM++I,IAG3C,IAAIK,EAAYK,EAAS5hJ,QAAO,SAAUwhJ,GAAO,MAAwB,UAAjBA,EAAIx4G,QAAsB,IAC9E+4G,EAAgBT,sBAAsBn/I,EAAMo/I,GAE5CQ,EAAc5B,SAAS2B,KACnBC,EAAc3xJ,OAAS,EACvB2xJ,EAAgBA,EAAc/hJ,QAAO,SAAUhO,GAAS,OAAOA,IAAU8vJ,CAAU,IAEnFA,GAAY,GAIpB,IAAI7mI,EAAS,GACb8mI,EAAcnnJ,SAAQ,SAAU5I,GAC5B,IAAIgwJ,EAAeH,EAAY7vJ,GAC3BiwJ,EAAe,GACnB9/I,EAAKvH,SAAQ,SAAUymJ,GACnBY,EAAapsJ,KAAKwrJ,EAAOrvJ,GAAOnC,MACpC,IACAorB,EAAOplB,KAAK/G,OAAO4a,OAAO,CAAC,EAAG,CAACze,KAAM+2J,EAAaruJ,MAC9CyG,KAAMyjE,EACN17D,KAAM8/I,EACNtoG,OAAO,EACPlvB,OAAQ,CAAEzR,SAAS,IAClB6kD,IAAekiF,YAAcE,gBAAkB,CAAC,GACzD,IAEA,IAAIxoH,EACAqqH,GAAY,EACN3/I,EAAKxK,KAAI,SAAUsG,GAAQ,OAAO+lB,OAC5B8mC,SAAS7sD,EAAK6jJ,GAAUjyJ,OAClBoO,EAAK6jJ,GAAUjyJ,MACf,IACP,IAEL,GAWV,OATIorB,EAAO7qB,SACPoK,EAAMygB,OAASA,EAAOtjB,KAAI,SAAUyL,EAAGpS,GAAK,OAAQlC,OAAO4a,OAAO,CAAC,EAAGtG,EAAG,CAACpY,GAAIgG,GAAM,IACpFwJ,EAAMknJ,cAAgBj0E,gBAAgBjzE,EAAMygB,SAGhDzgB,EAAMigD,aAAe,CACjB,CAAEhjB,WAAYA,EAAYhN,OAAQ,CAAEzR,SAAS,EAAMvE,SAAU,UACjEja,EAAMonE,cAAgBpnE,EAAMw0I,QAAQ8S,GAE7BtnJ,CACX,EAEI0nJ,cAAgB,SAAU//I,EAAM07D,EAAYhtE,GAC5C,IAAI2J,EAAQinJ,aACZjnJ,EAAMqjE,WAAaA,EACnBrjE,EAAM2H,KAAOA,GAAQ,GAErB,IAAIy/I,EAAWtB,gBAAgBziF,GAE/B,IAAK+jF,IAAaz/I,EAAK/R,OACnB,OAAOoK,EAGX,IAAI2nJ,EAAiBhgJ,EAAK,GAAGxK,KAAI,SAAU3G,GAAK,OAAOA,EAAE2C,KAAO,IAC5DutJ,EAAcU,EAASrlJ,MAAK,SAAUilJ,GAAO,MAAwB,aAAjBA,EAAIx4G,QAAyB,IACjF84G,GAAY,EACZZ,IACAY,EACIjxJ,GAAWA,EAAQ4pD,aACb0nG,EAAe7xJ,QAAQO,EAAQ4pD,cAC/BwmG,uBAAuB9+I,EAAM++I,IAG3C,IAAIK,EAAYK,EAAS5hJ,QAAO,SAAUwhJ,GAAO,MAAwB,UAAjBA,EAAIx4G,QAAsB,IAE9E+4G,EAAgB,IAEhBA,EADAlxJ,GAAWA,EAAQsnC,UACH,CAACgqH,EAAe7xJ,QAAQO,EAAQsnC,YAEhCmpH,sBAAsBn/I,EAAMo/I,IAG9BpB,SAAS2B,IAAaC,EAAc3xJ,OAAS,IAC3D2xJ,EAAgBA,EAAc/hJ,QAAO,SAAUhO,GAAS,OAAOA,IAAU8vJ,CAAU,KAGrD,iBAAvBP,EAAU,GAAGtvJ,QACpB8vJ,EAAgBA,EAAcliJ,MAAM,EAAG0hJ,EAAU,GAAGtvJ,QAGxD,IAAIwlC,EACAqqH,GAAY,EAAI3/I,EAAKxK,KAAI,SAAUsG,GAAQ,OAAO+lB,OAAO/lB,EAAK6jJ,GAAUjyJ,MAAQ,IAAK,GAErFuyJ,EAAW,GA+Bf,OA7BAjgJ,EAAKvH,SAAQ,SAAUqD,GACnB,IAAIojJ,EAAS,CAAC,EACdU,EAAcnnJ,SAAQ,SAAU5I,GAC5B,IAAIyQ,EAAMxE,EAAKjM,GACfqvJ,EAAO5+I,EAAI9O,OAAS8O,EAAI5S,OAAS,EACjCwxJ,EAAOpjJ,EAAK6jJ,GAAUnuJ,OAASsK,EAAK6jJ,GAAUjyJ,OAAS,GAC3D,IACAuyJ,EAASvsJ,KAAKwrJ,EAClB,IAEA7mJ,EAAMw0I,QAAUmT,EAChB3nJ,EAAMigD,aAAe,CAAC,CAAEhjB,WAAYA,EAAYjS,MAAO,CAAEnB,KAAM,MAE/D7pB,EAAMygB,OAAS,CACX,CACIjwB,GAAI,EACJmX,KAAMigJ,EACNhoJ,KAAMyjE,EACN5yE,KAAMk3J,EAAeL,GACrBr3H,OAAQ,CAAEzR,SAAS,GACnB4oD,cAAeugF,EAAeL,GAC9BnuJ,MAAOwuJ,EAAeJ,EAAc,MAG5CvnJ,EAAMonE,cAAgBugF,EAAeL,GACrCtnJ,EAAMikI,WAAa0jB,EAAeJ,EAAc,IAEhDvnJ,EAAMknJ,cAAgBj0E,gBAAgBjzE,EAAMygB,QAErCzgB,CACX,EAEA,SAAS6nJ,mBAAmBlgJ,EAAM07D,EAAYykF,GAC1C,IAAI9nJ,EAAQ+nJ,YACRpgJ,EACCmgJ,GAAgBA,EAAazkF,YAAeA,GAGjD,YAAuD,KAAxCykF,GAAgBA,EAAa3oG,OACtC6oG,YAAYhoJ,EAAOmiJ,YAAYC,QAAS0F,EAAa3oG,OACrDn/C,CACV,CAEA,SAAS+nJ,YAAYpgJ,EAAM07D,GACvB,OAAQqiF,cAAcriF,GAAc8jF,wBAA0BO,eAC1D//I,EACA07D,EAER,CAEA,SAAS4kF,YAAY/vJ,EAAQsT,GACzB,IAAI08I,EAAWj1E,gBAAgBznE,GAK/B,GAJA08I,EAAS7vF,OAASngE,EAAOmgE,OACzB6vF,EAAS/zF,KAAOj8D,EAAOi8D,KACvB+zF,EAASl9H,MAAQ9yB,EAAO8yB,MACxBk9H,EAASp3D,SAAW54F,EAAO44F,SACvBo3D,EAASznI,OAAO7qB,SAAWsC,EAAOuoB,OAAO7qB,OACzC,IAAK,IAAIY,EAAI,EAAGA,EAAI0xJ,EAASznI,OAAO7qB,OAAQY,IACxC0xJ,EAASznI,OAAOjqB,GAAGsO,MAAQ5M,EAAOuoB,OAAOjqB,GAAGsO,MAC5CojJ,EAASznI,OAAOjqB,GAAGy5B,OAAS/3B,EAAOuoB,OAAOjqB,GAAGy5B,OAerD,OAVI/3B,EAAOuoB,OAAOomD,OAAM,SAAUj+D,GAAK,OAAOA,EAAEqnB,QAAUrnB,EAAEqnB,OAAOzR,OAAS,KACxEknI,cAAcwC,EAAS7kF,aACvBqiF,cAAcxtJ,EAAOmrE,aAErB6kF,EAASznI,OAAOrgB,SAAQ,SAAUwI,GAC9BA,EAAEqnB,OAASrnB,EAAEqnB,QAAU,CAAC,EACxBrnB,EAAEqnB,OAAOzR,SAAU,CACvB,IAGG0pI,CACX,CAGA,SAASF,YAAYG,EAAcC,EAAQ/yJ,GACvC,IAAI2K,EAAQ1L,OAAO4a,OAAO,CAAC,EAAGi5I,GAE9B,OAAQC,GACJ,KAAKjG,YAAY9+E,WACb,OAAO0kF,YAAY/nJ,EAAM2H,KAAMtS,GAEnC,KAAK8sJ,YAAYC,QAGb,OAFApiJ,EAAMygB,OAASzgB,EAAMygB,OAAOtjB,KAAI,SAAUyL,GAAK,OAAQtU,OAAO4a,OAAO,CAAC,EAAGtG,EAAG,CAACu2C,MAAO9pD,GAAU,IAC9F2K,EAAMm/C,MAAQ9pD,EACP2K,EAEX,KAAKmiJ,YAAYE,cACb,OAAIriJ,EAAMqjE,YAAcqiF,cAAc1lJ,EAAMqjE,YAMjC4kF,YAAYjoJ,EALJmnJ,wBACXnnJ,EAAM2H,KACN3H,EAAMqjE,WACN,CAAEpjB,aAAc5qD,KAGb2K,EAAMqjE,aAAeiiF,QAIrB2C,YAAYjoJ,EAHF0nJ,cAAc1nJ,EAAM2H,KAAM3H,EAAMqjE,WAAY,CACzDpjB,aAAc5qD,KAKf2K,EAGX,KAAKmiJ,YAAYG,WACb,OAAItiJ,EAAMqjE,aAAeiiF,QAKd2C,YAAYjoJ,EAJF0nJ,cAAc1nJ,EAAM2H,KAAM3H,EAAMqjE,WAAY,CACzDpjB,aAAcjgD,EAAMonE,cACpBzpC,UAAWtoC,KAKZ2K,EAGX,KAAKmiJ,YAAYI,aAEb,OADAviJ,EAAMygB,OAASprB,EACR2K,EAEX,KAAKmiJ,YAAYK,eAIb,OAHAxiJ,EAAMm0D,KAAO7/D,OAAO4a,OAAO,CAAC,EAAGlP,EAAMm0D,KACjC,CAACrxC,OAAQxuB,OAAO4a,OAAO,CAAC,EAAKlP,EAAMm0D,MAAQn0D,EAAMm0D,KAAKrxC,QAAW,CAAC,EAC9D,CAAC3oB,KAAM9E,MACR2K,EAEX,KAAKmiJ,YAAYM,gBAIb,OAHAziJ,EAAMm0D,KAAO7/D,OAAO4a,OAAO,CAAC,EAAGlP,EAAMm0D,KACjC,CAACrxC,OAAQxuB,OAAO4a,OAAO,CAAC,EAAKlP,EAAMm0D,MAAQn0D,EAAMm0D,KAAKrxC,QAAW,CAAC,EAC9D,CAAC7oB,MAAO5E,MACT2K,EAEX,KAAKmiJ,YAAYO,cAIb,OAHA1iJ,EAAMm0D,KAAO7/D,OAAO4a,OAAO,CAAC,EAAGlP,EAAMm0D,KACjC,CAACrxC,OAAQxuB,OAAO4a,OAAO,CAAC,EAAKlP,EAAMm0D,MAAQn0D,EAAMm0D,KAAKrxC,QAAW,CAAC,EAC9D,CAAC9oB,IAAK3E,MACP2K,EAEX,KAAKmiJ,YAAYQ,iBAIb,OAHA3iJ,EAAMm0D,KAAO7/D,OAAO4a,OAAO,CAAC,EAAGlP,EAAMm0D,KACjC,CAACrxC,OAAQxuB,OAAO4a,OAAO,CAAC,EAAKlP,EAAMm0D,MAAQn0D,EAAMm0D,KAAKrxC,QAAW,CAAC,EAC9D,CAAC5oB,OAAQ7E,MACV2K,EAEX,KAAKmiJ,YAAYzH,eAEb,OADA16I,EAAMm0D,KAAO7/D,OAAO4a,OAAO,CAAC,EAAGlP,EAAMm0D,KAAM,CAAChzC,WAAY9rB,IACjD2K,EAEX,KAAKmiJ,YAAYS,UAEb,OADA5iJ,EAAMgrB,MAAQ12B,OAAO4a,OAAO,CAAC,EAAGlP,EAAMgrB,MAAO,CAACnB,KAAMx0B,IAC7C2K,EAEX,KAAKmiJ,YAAYU,cAOb,OANA7iJ,EAAMgrB,MAAQ12B,OAAO4a,OAAO,CAAC,EAAGlP,EAAMgrB,MAClC,CAACzqB,KAAM2lJ,eACH7wJ,EACAuvJ,iBACA5kJ,EAAMgrB,OAAShrB,EAAMgrB,MAAMzqB,QAE5BP,EAEX,KAAKmiJ,YAAYW,cAOb,OANA9iJ,EAAMgrB,MAAQ12B,OAAO4a,OAAO,CAAC,EAAGlP,EAAMgrB,MAClC,CAACzqB,KAAM8lJ,eACHhxJ,EACA6vJ,gBACAllJ,EAAMgrB,OAAShrB,EAAMgrB,MAAMzqB,QAE5BP,EAEX,KAAKmiJ,YAAYY,WAEb,OADA/iJ,EAAMgrB,MAAQ12B,OAAO4a,OAAO,CAAC,EAAGlP,EAAMgrB,MAAO,CAAClmB,MAAOzP,IAC9C2K,EAEX,KAAKmiJ,YAAYa,aAEb,OADAhjJ,EAAM8wF,SAAWx8F,OAAO4a,OAAO,CAAC,EAAGlP,EAAM8wF,SAAU,CAACjnE,KAAMx0B,IACnD2K,EAEX,KAAKmiJ,YAAYc,iBAOb,OANAjjJ,EAAM8wF,SAAWx8F,OAAO4a,OAAO,CAAC,EAAGlP,EAAM8wF,SACrC,CAACvwF,KAAM2lJ,eACH7wJ,EACAwvJ,oBACA7kJ,EAAM8wF,UAAY9wF,EAAM8wF,SAASvwF,QAElCP,EAEX,KAAKmiJ,YAAYe,iBAOb,OANAljJ,EAAM8wF,SAAWx8F,OAAO4a,OAAO,CAAC,EAAGlP,EAAM8wF,SACrC,CAACvwF,KAAM8lJ,eACHhxJ,EACA6vJ,gBACAllJ,EAAM8wF,UAAY9wF,EAAM8wF,SAASvwF,QAElCP,EAEX,KAAKmiJ,YAAYgB,cAEb,OADAnjJ,EAAM8wF,SAAWx8F,OAAO4a,OAAO,CAAC,EAAGlP,EAAM8wF,SAAU,CAAChsF,MAAOzP,IACpD2K,EAEX,KAAKmiJ,YAAYxxD,YAGb,OAFA3wF,EAAMygB,OAASzgB,EAAMygB,OAAOtjB,KAAI,SAAUyL,GAAK,OAAQtU,OAAO4a,OAAO,CAAC,EAAGtG,EACrE,CAAC9D,MAAOzP,EAAM23F,aAAepkF,EAAEnY,KAAO4E,EAAMyP,MAAQ8D,EAAE9D,OAAU,IAC7D9E,EAEX,KAAKmiJ,YAAYiB,YAOb,OANApjJ,EAAMygB,OAASzgB,EAAMygB,OAAOtjB,KAAI,SAAUyL,GACtC,OAAIvT,EAAMqL,KAAOrL,EAAM23F,aAAepkF,EAAEnY,KAC7B6D,OAAO4a,OAAO,CAAC,EAAGtG,EAAG,CAACqnB,OAAQ,CAAEzR,QAASnpB,EAAMmpB,WAEnD5V,CACX,IACO5I,EAEX,KAAKmiJ,YAAYkB,cAEb,OADArjJ,EAAMq4D,OAAS/jE,OAAO4a,OAAO,CAAC,EAAGlP,EAAMq4D,OAAQ,CAAC75C,QAASnpB,IAClD2K,EAEX,KAAKmiJ,YAAYmB,eACb,IAAIjrF,EAASr4D,EAAMq4D,QAAU,CAAC,EAQ9B,OAPAr4D,EAAMq4D,OAAS/jE,OAAO4a,OAAO,CAAC,EAAGmpD,EAC7B,CAACpoC,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGmpD,EAAOpoC,OAC9B,CAAC1vB,KAAM2lJ,eACH7wJ,EACAyvJ,iBACAzsF,EAAOpoC,QAAUooC,EAAOpoC,OAAO1vB,UAEpCP,EAEX,KAAKmiJ,YAAYoB,eACb,IAAI8E,EAAWroJ,EAAMq4D,QAAU,CAAC,EAQhC,OAPAr4D,EAAMq4D,OAAS/jE,OAAO4a,OAAO,CAAC,EAAGm5I,EAC7B,CAACp4H,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGm5I,EAASp4H,OAChC,CAAC1vB,KAAM8lJ,eACHhxJ,EACA6vJ,gBACAmD,EAASp4H,QAAUo4H,EAASp4H,OAAO1vB,UAExCP,EAEX,KAAKmiJ,YAAYqB,YACb,IAAI8E,EAAWtoJ,EAAMq4D,QAAU,CAAC,EAGhC,OAFAr4D,EAAMq4D,OAAS/jE,OAAO4a,OAAO,CAAC,EAAGo5I,EAC7B,CAACr4H,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGo5I,EAASr4H,OAAQ,CAACnrB,MAAOzP,MACjD2K,EAEX,KAAKmiJ,YAAY5sD,eAEb,OADAv1F,EAAMq4D,OAAS/jE,OAAO4a,OAAO,CAAC,EAAGlP,EAAMq4D,OAAQ,CAACxtC,SAAUx1B,IACnD2K,EAEX,KAAKmiJ,YAAYsB,sBAEb,OADAzjJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAACnB,KAAMx0B,KAAY,IACxJ2K,EAEX,KAAKmiJ,YAAYuB,0BAEb,OADA1jJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAACzqB,KAAM2lJ,eAAe7wJ,EAAO0vJ,qBAAsBrzI,EAAKsZ,OAAStZ,EAAKsZ,MAAMzqB,SAAY,IAC7NP,EAEX,KAAKmiJ,YAAYwB,0BAEb,OADA3jJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAACzqB,KAAM8lJ,eAAehxJ,EAAO6vJ,gBAAiBxzI,EAAKsZ,OAAStZ,EAAKsZ,MAAMzqB,SAAY,IACxNP,EAEX,KAAKmiJ,YAAYyB,uBAEb,OADA5jJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAAClmB,MAAOzP,KAAY,IACzJ2K,EAEX,KAAKmiJ,YAAY0B,2BAEb,OADA7jJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAAC1vB,KAAM2lJ,eAAe7wJ,EAAOyvJ,iBAAkBpzI,EAAKue,QAAUve,EAAKue,OAAO1vB,SAAY,IAC7NP,EAGX,KAAKmiJ,YAAY2B,2BAEb,OADA9jJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAAC1vB,KAAM8lJ,eAAehxJ,EAAO6vJ,gBAAiBxzI,EAAKue,QAAUve,EAAKue,OAAO1vB,SAAY,IAC5NP,EAEX,KAAKmiJ,YAAY4B,wBAEb,OADA/jJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAACnrB,MAAOzP,KAAY,IAC3J2K,EAEX,KAAKmiJ,YAAY6B,2BACb,IAAI/pI,EAAWq2C,SAASj7D,GAASA,EAAQ,OAEzC,OADA2K,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAAChW,SAAUA,KAAe,IACjKja,EAEX,KAAKmiJ,YAAY8B,yBAEb,OADAjkJ,EAAMigD,cAAgBjgD,EAAMigD,cAAgB,IAAI9iD,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAAC4Z,QAASj2B,GAAU,IACnH2K,EAEX,KAAKmiJ,YAAY+B,mBAMb,OALKlkJ,EAAM29B,WAAwC,IAA3B39B,EAAM29B,UAAU/nC,OAGpCoK,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAACnB,KAAMx0B,KAAY,IAFzJ2K,EAAM29B,UAAY,CAAC,CAAE3S,MAAO,CAAEnB,KAAMx0B,KAIjC2K,EAEX,KAAKmiJ,YAAYgC,uBAEb,OADAnkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAACzqB,KAAM2lJ,eAAe7wJ,EAAO0vJ,qBAAsBrzI,EAAKsZ,OAAStZ,EAAKsZ,MAAMzqB,SAAY,IACvNP,EAEX,KAAKmiJ,YAAYiC,uBAEb,OADApkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAACzqB,KAAM8lJ,eAAehxJ,EAAO6vJ,gBAAiBxzI,EAAKsZ,OAAStZ,EAAKsZ,MAAMzqB,SAAY,IAClNP,EACX,KAAKmiJ,YAAYkC,oBAEb,OADArkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACsZ,MAAO12B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKsZ,MAAO,CAAClmB,MAAOzP,KAAY,IACnJ2K,EAEX,KAAKmiJ,YAAYmC,sBAEb,OADAtkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAACxE,OAAQp2B,KAAY,IACtJ2K,EAEX,KAAKmiJ,YAAYoC,wBAEb,OADAvkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAAC1vB,KAAM2lJ,eAAe7wJ,EAAOyvJ,iBAAkBpzI,EAAKue,QAAUve,EAAKue,OAAO1vB,SAAY,IACvNP,EAEX,KAAKmiJ,YAAYqC,wBAEb,OADAxkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAAC1vB,KAAM8lJ,eAAehxJ,EAAO6vJ,gBAAiBxzI,EAAKue,QAAUve,EAAKue,OAAO1vB,SAAY,IACtNP,EACX,KAAKmiJ,YAAYsC,qBAEb,OADAzkJ,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAACnrB,MAAOzP,KAAY,IACrJ2K,EAEX,KAAKmiJ,YAAYuC,wBACb,IAAI6D,EAAaj4F,SAASj7D,GAASA,EAAQ,OAE3C,OADA2K,EAAM29B,WAAa39B,EAAM29B,WAAa,IAAIxgC,KAAI,SAAUuU,GAAQ,OAAQpd,OAAO4a,OAAO,CAAC,EAAGwC,EAAM,CAACue,OAAQ37B,OAAO4a,OAAO,CAAC,EAAGwC,EAAKue,OAAQ,CAAChW,SAAUsuI,KAAiB,IAC7JvoJ,EAGX,QACI,OAAOA,EAEnB,CAEA,IAAI+sI,SAAWz4I,OAAOC,OAAO,CACzBi0J,YAAa,gBACbC,aAAc,SACdC,gBAAiB,WACjBC,gBAAiB,WACjBC,gBAAiB,WACjBC,SAAU,QACVC,QAAS,OACTC,UAAW,SACXv8E,SAAU,YACVw8E,YAAa,MACbC,mBAAoB,cACpBC,sBAAuB,mBACvBlnE,SAAU,YACVmnE,YAAa,MACbC,YAAa,eACbC,kBAAmB,SACnBC,yBAA0B,iBAC1BC,4BAA6B,sBAC7B58E,UAAW,aACX68E,cAAe,OACfC,qBAAsB,eACtBC,wBAAyB,oBACzB5lE,aAAc,gBACd6lE,oBAAqB,UACrBC,cAAe,gBACfC,0BAA2B,gBAC3BC,mBAAoB,SACpBC,uBAAwB,aACxBC,oBAAqB,SACrBC,uBAAwB,MACxBC,gBAAiB,aACjBC,uBAAwB,UACxBC,2BAA4B,OAC5BC,2BAA4B,OAC5BC,4BAA6B,QAC7BC,0BAA2B,MAC3BC,6BAA8B,SAC9BC,0BAA2B,aAC3BC,+BAAgC,QAChCC,YAAa,QACbC,mBAAoB,WACpBC,sBAAuB,cACvBC,yBAA0B,iBAC1BC,iBAAkB,QAClBC,gBAAiB,OACjBC,2BAA4B,mBAC5BC,gBAAiB,OACjBC,2BAA4B,KAC5BC,iBAAkB,QAClBC,aAAc,SACdC,oBAAqB,WACrBC,sBAAuB,aACvBC,kBAAmB,QACnBC,uBAAwB,cACxBC,aAAc,SACdC,uBAAwB,cACxBC,iBAAkB,OAClBC,4BAA6B,mBAC7BC,iBAAkB,OAClBC,4BAA6B,KAC7BC,kBAAmB,QACnBC,qBAAsB,WACtBC,wBAAyB,MACzBC,2BAA4B,SAC5BC,yBAA0B,OAC1BC,0BAA2B,QAC3BC,mBAAoB,gBACpBC,YAAa,SACbC,wBAAyB,QACzBC,mCAAoC,aACpCC,4BAA6B,OAC7BC,uCAAwC,mBACxCC,4BAA6B,OAC7BC,uCAAwC,KACxCC,6BAA8B,QAC9BC,yBAA0B,SAC1BC,6BAA8B,OAC9BC,wCAAyC,mBACzCC,6BAA8B,OAC9BC,wCAAyC,KACzCC,8BAA+B,QAC/BC,iCAAkC,WAClCC,qCAAsC,OACtCC,qCAAsC,gBACtCC,gBAAiB,aACjBC,YAAa,SACbC,qBAAsB,QACtBC,gCAAiC,aACjCC,yBAA0B,OAC1BC,oCAAqC,mBACrCC,yBAA0B,OAC1BC,oCAAqC,KACrCC,0BAA2B,QAC3BC,sBAAuB,SACvBC,4BAA6B,eAC7BC,gCAAiC,OACjCC,kCAAmC,SACnCC,oCAAqC,WACrCC,mCAAoC,UACpCC,0BAA2B,OAC3BC,qCAAsC,mBACtCC,0BAA2B,OAC3BC,qCAAsC,KACtCC,2BAA4B,QAC5BC,8BAA+B,WAC/BC,kCAAmC,SAGnCC,kBAAoBx6J,OAAOC,OAAO,CAClCytJ,0BAA2BA,0BAC3BG,YAAaA,YACb0F,mBAAoBA,mBACpBE,YAAaA,YACb/C,UAAWA,UACXL,UAAWA,UACXe,cAAeA,cACfuC,YAAaA,YACbjC,UAAWA,UACXgC,YAAaA,YACbjb,SAAUA,WAGVgiB,QAAU,IACVC,YAAc,GACdv6J,MAAQ,OACRw6J,KAAO,+BACPC,OAAS,QAAUD,KACnBE,OAAS,QAAUF,KACnBG,OAAS,QAAUH,KACnBI,YAAc,cACdl6J,MAAQ,OAERm6J,qBAAuB,CACvB1vJ,KAAMk4C,MAGNy3G,qBAAuB,CACvB3vJ,KAAMs3C,MAGNs4G,8BAAgCl7J,OAAO4a,OAAO,CAAC,EAAGqgJ,qBAClD,CAACrqG,QAAS,CACN1mC,SAAS,GAEbuB,UAAW,CACPvB,SAAS,KAGbsT,MAAQ,WAAc,MAAO,CAC7B7vB,KAAM,CACFof,OAAQ,CACJ9qB,MAAO,IAGfy2B,MAAO,CACHzsB,KAAM4uJ,OACNz1I,QAAS,GAEbxR,KAAM,CACFtS,OAAQ,GACRW,MAAO,GAEX86E,WAAYm+E,8BACZhxI,SAAS,EACT,EAEAy8E,aAAe,WAAc,MAAO,CACpChrE,OAAQ,CACJ1vB,KAAM4uJ,QAEVr9H,MAAOA,QACP9G,MAAO,CACHzqB,KAAM6uJ,OACNtsI,OAAQ,GAEZ,EAEA2sI,WAAa,WAAc,MAAO,CAClC1vI,UAAW,CACPmlC,QAAS,CACL7jC,OAAQ,CAAC,IAGjBnZ,KAAM,CACFiY,QAAS,EACT5pB,MAAO,GAEX2uD,QAAS,CACL3jD,KAAM,EACNid,SAAS,GAEb6yD,WAAYk+E,qBACZpvI,QAAS,GACT,EAEAuvI,gBAAkB,WAAc,MAAO,CACvC3vI,UAAW,CACPmlC,QAAS,CACL7jC,OAAQ,CAAC,IAGjBnZ,KAAM,CACFiY,QAAS,EACT5pB,MAAO,GAEX2uD,QAAS,CACL3jD,KAAM,EACNid,SAAS,GAEb6yD,WAAYk+E,qBACZpvI,QAAS,GACT,EAEAwvI,UAAY,WAAc,MAAO,CACjChiG,IAAKohG,QACLh1J,QAASi1J,YACT39E,WAAYm+E,8BACZ,EAEAI,cAAgB,WAAc,MAAO,CACrCC,cAAe,GACfC,UAAW,GACXzuI,OAAQ,CACJksC,YAAa,GACbh3D,MAAO,GAEXi6D,UAAWr7D,MACXw4D,IAAK,EACL5tC,UAAW,CACPsB,OAAQ,CACJlB,QAAS,EACT5pB,MAAO,GAEXy7D,SAAU,CACNz7D,MAAO,GAEX66D,KAAM,CACF76D,MAAO,GAEX46D,OAAQ,CACJ56D,MAAO,IAGf66D,KAAM,CACF76D,MAAO,GAEX46D,OAAQ,CACJ56D,MAAO,GAEXwD,QAAS,GACTi4D,SAAU,CACNz7D,MAAO,GAEX86E,WAAYm+E,8BACZ,EAEAO,aAAe,WAAc,MAAO,CACpC1uI,OAAQ,CACJ9qB,MAAO,GAEX05B,OAAQ,CACJ9O,WAAYkuI,aAEhBh+E,WAAYm+E,8BACZrvI,QAAS,GACT,EAEA6vI,aAAe,WAAc,MAAO,CACpCriG,IAAKohG,QACLh1J,QAASi1J,YACTxjJ,OAAQ,CACJ1G,MAAO,WAEXusE,WAAYm+E,8BACZ,EAEAS,kBAAoB,WAAc,MAAO,CACzC5uI,OAAQ,CACJksC,YAAa,GACbh3D,MAAO,GAEXi6D,UAAWr7D,MACXw4D,IAAK,EACL5tC,UAAW,CACPsB,OAAQ,CACJlB,QAAS,EACT5pB,MAAO,GAEX2R,KAAM,CACF3R,MAAO,IAGf2R,KAAM,CACFpD,MAAOrQ,MACP8B,MAAO,GAEX86E,WAAYm+E,8BACZz1J,QAAS,GACT,EAEAm2J,aAAe,WAAc,MAAO,CACpCviG,IAAKohG,QACLh1J,QAASi1J,YACT39E,WAAYm+E,8BACZ,EAEAW,kBAAoB,WAAc,MAAO,CACzC9+E,WAAYm+E,8BACZ,EAEAY,mBAAqB,WAAc,MAAO,CAC1C/+E,WAAYi+E,qBACZ,EAEAe,cAAgB,WAAc,MAAO,CACrCh/E,WAAYi+E,qBACZ,EAEAgB,YAAc,WAAc,MAAO,CACnCxtI,OAAQ,EACRuuD,WAAYm+E,8BACZ,EAEAe,WAAa,WAAc,MAAO,CAClCh6J,MAAO,EACP86E,WAAYi+E,qBACZ,EAEAkB,WAAa,WAAc,MAAO,CAClC7iG,IAAK,EACL5tC,UAAW,CACP7X,KAAM,CACFiY,QAAS,EACT5pB,MAAO,IAGf2R,KAAM,CACF3R,MAAO,GAEX86E,WAAYm+E,8BACZz1J,QAAS,GACT,EAEA02J,gBAAkB,WAAc,MAAO,CACvCvoJ,KAAM,CACFiY,QAAS,EACT5pB,MAAO,GAEX2uD,QAAS,CACL3jD,KAAM,EACNid,SAAS,GAEb6yD,WAAYk+E,qBACZpvI,QAAS,GACT,EAEAuwI,gBAAkB,WAAc,MAAO,CACvCxrG,QAAS,CACL1mC,SAAS,GAEb6yD,WAAYi+E,qBACZ/4J,MAAO,EACP,EAEAo6J,eAAiB,WAAc,MAAO,CACtChjG,IAAKohG,QACLh1J,QAASi1J,YACT39E,WAAYm+E,8BACZ,EAEAoB,kBAAoB,WAAc,MAAO,CACzCjjG,IAAKohG,QACLh1J,QAASi1J,YACT39E,WAAYm+E,8BACZ,EAEAqB,kBAAoB,WAAc,MAAO,CACzCt6J,MAAO,EACP86E,WAAYi+E,qBACZ,EAEAwB,gBAAkB,WAAc,MAAO,CACvCnjG,IAAK,GACLzlD,KAAM,CACFpD,MAAOrQ,MACP8B,MAAO,GAEX86E,WAAYm+E,8BACZz1J,QAASi1J,YACT,EAEA+B,UAAY,WAAc,MAAO,CACjC9gI,OAAQ,CACJ9O,WAAY,GACZrc,MAAO,GACP4U,QAAS,CACL1f,IAAK,EACLE,OAAQ,EACRC,KAAM,EACNF,MAAO,IAGfo3E,WAAYm+E,8BACZ,EAEAwB,aAAe,WAAc,MAAO,CACpC/gI,OAAQ,CACJ9O,WAAY,GACZrc,MAAO,GACP4U,QAAS,CACL1f,IAAK,EACLE,OAAQ,EACRC,KAAM,EACNF,MAAO,IAGfo3E,WAAYm+E,8BACZ,EAEAyB,cAAgBD,aAEhBE,cAAgB,WAAc,MAAO,CACrCjhI,OAAQ,CACJnrB,MAAO,GACPqc,WAAYkuI,YACZ7wI,SAAS,GAEbuB,UAAW,CACPsB,OAAQ,CACJ9qB,MAAO,IAGf86E,WAAYm+E,8BACZ,EAEA2B,wBAA0B,SAAU96J,GAAW,OAAO/B,OAAO4a,OAAO,CACpEpK,MAAOrS,QACP41E,UAAW,CAAC,EACZnjB,QAAS,CACL1mC,SAAS,GAEbjoB,MAAO,EACPktB,SAAU,WACV4tD,WAAYi+E,sBACbj5J,EAAU,EAETymF,eAAiB,SAAUzmF,GAAW,MAAO,CAC7CmoB,SAAS,EACTyR,OAAQ,CACJ1vB,KAAM2uJ,QAEVztI,QAASprB,EAAQ2vB,UAAY,CAAC,EAAI,CAC9BK,SAAU,QAEd8tC,KAAMs7F,aACN2B,UAAW1B,kBACX2B,kBAAmB3B,kBACnBh0D,IAAKi0D,YACLrzD,QAASszD,gBACTzzD,OAAQ4zD,eACRj7F,OAAQk7F,eACR5zD,YAAa6zD,oBACbt0D,OAAQu0D,eACRoB,QAASJ,gBACTp1D,IAAKi1D,YACLh1D,MAAOu0D,cACPiB,OAAQP,eACRQ,QAASP,gBACTQ,oBAAqBX,kBACrB5oJ,KAAMqoJ,aACNz+H,MAAOA,QACPuqE,KAAMm0D,aACN9zD,UAAW+zD,kBACX9zD,UAAW+zD,kBACXgB,YAAavB,oBACb3zD,UAAWi0D,kBACXh0D,UAAWi0D,kBACXiB,aAAcvB,qBACdwB,SAAUjB,iBACV/0D,YAAag1D,oBACb30D,QAASo0D,gBACTn0D,YAAa20D,oBACb70D,aAAcyzD,aACdoC,gBAAiBjC,gBACjBrzD,eAAgByzD,eAChBn0D,aAAc00D,aACd3zD,UAAWk0D,kBACXvpF,gBAAiB4pF,0BACjBlqF,qBAAsBkqF,wBAAwB,CAAE33J,MAAO,WACvDkuE,qBAAsBypF,wBAAwB,CAAE33J,MAAO,WACvDsvE,oBAAqBqoF,wBAAwB,CAAE33J,MAAO,WACtDyvE,eAAgBkoF,wBAAwB,CAAE33J,MAAO,WACjDyuE,uBAAwBkpF,0BACxB,EAEAnmI,MAAQ,WAAc,MAAO,CAC7BzqB,KAAM6uJ,OACN,EAEAt+D,SAAW,WAAc,MAAO,CAChCvwF,KAAM4uJ,OACN,EAEA92F,OAAS,WAAc,MAAO,CAC9BpoC,OAAQ,CACJ1vB,KAAM4uJ,QAEV,EAEA2C,UAAY,SAAUz7J,GAGtB,YAFiB,IAAZA,IAAqBA,EAAU,CAAC,GAE9B,CACP4kG,aAAcA,eACdh7C,aAAc,CACV9rB,eAAgB,CACZ3V,SAAS,IAGjBrS,UAAW,CACPonB,KAAM,CACF7rB,OAAQ,GACRob,OAAQ,CACJ9oB,IAAK,MAIjB8iF,eAAgBA,eAAezmF,GAC/B20B,MAAOA,QACP8lE,SAAUA,WACVz4B,OAAQA,SAEZ,EAEI05F,YAA2Bz9J,OAAOC,OAAO,CACzCC,UAAW,KACX69C,WAAYA,WACZiZ,UAAWA,UACXzB,YAAaA,YACbsC,sBAAuBA,sBACvBa,IAAKA,IACLgB,SAAUA,SACVtB,SAAUA,SACVgE,QAASA,QACTwB,aAAcA,aACdsB,YAAaA,YACba,OAAQA,OACRM,YAAaA,YACb3F,YAAaA,YACbqB,iBAAkBA,iBAClBrQ,iBAAkBA,iBAClB3C,oBAAqBA,oBACrBisB,oBAAqBA,oBACrBkhB,MAAOA,MACP/4C,UAAWA,UACX+kB,eAAgBA,eAChB5kB,UAAWA,UACXI,cAAeA,cACf+W,cAAeA,cACf2E,cAAeA,cACfwI,UAAWA,UACXT,iBAAkBA,iBAClB0N,kBAAmBA,kBACnBgf,WAAYA,WACZK,cAAeA,cACfP,aAAcA,aACdzlC,aAAcA,aACdjI,qBAAsBA,qBACtBk6B,UAAWA,UACXmF,OAAQD,SACRzB,WAAYA,WACZhB,aAAcA,aACdtnB,UAAWA,UACX7E,UAAWA,UACXkC,YAAaA,YACb6pB,eAAgBA,eAChBlL,UAAWA,UACXN,UAAWA,UACXtO,KAAMD,OACNwY,SAAUA,SACVuK,aAAcA,aACduE,SAAUA,SACVN,cAAeA,cACf+D,YAAaA,YACbpF,WAAYA,WACZvkB,aAAcA,aACd4J,oBAAqBA,oBACrBiT,gBAAiBA,gBACjBrwB,iBAAkBA,iBAClBwgB,eAAgBA,eAChBlB,eAAgBA,eAChBX,SAAUA,SACVK,cAAeA,cACfrR,aAAcA,aACdF,gBAAiBA,gBACjB2nB,iBAAkBA,iBAClBvE,UAAWA,UACXvT,iBAAkBA,iBAClBvvB,aAAcA,aACdmmC,cAAeD,gBACfztB,kBAAmBA,kBACnBpD,cAAeA,cACf+F,UAAWA,UACX4qB,QAASD,UACT3S,eAAgBA,eAChBD,iBAAkBA,iBAClBwV,WAAYA,WACZ1L,cAAeA,cACfpyB,aAAcA,aACdC,gBAAiBA,gBACjBC,WAAYA,WACZG,aAAcA,aACdpe,gBAAiBA,gBACjB+R,UAAW4K,YACX/J,aAAcA,aACdqN,uBAAwBA,uBACxB3B,iBAAkBA,iBAClBE,YAAaA,YACbK,mBAAoBA,mBACpB1M,eAAgBA,eAChBc,SAAUA,SACViM,mBAAoBA,mBACpB4R,SAAU3R,WACVC,WAAYA,WACZH,kBAAmBA,kBACnBf,eAAgBA,eAChBqB,kBAAmBA,2BAGd0wD,cAAe72F,SAAU4xE,WAAYl7D,sBAAuBiwE,iBAAkBlB,mBAAoBv5E,eAAgBy4E,eAAgB3gG,sBAAuB+rG,iBAAkBvJ,oBAAqB1nF,aAAci2F,iBAAkBj7D,kBAAmBtpB,aAAc2oI,iBAAkBD,eAAgBzgH,gBAAiB8K,iBAAkBv9C,aAAcrD,UAAWk3C,cAAejrC,oBAAqBrL,sBAAuBD,aAAc++I,YAAayG,sBAAuB5jJ,qBAAsB+xG,mBAAoBjK,iBAAkBsE,iBAAkB8C,mBAAoBztG,aAAcgwB,cAAeg3E,mBAAoByB,sBAAuBV,wBAAyBztG,gBAAiBslG,oBAAqB6C,gBAAiBzwD,uBACtsBhhD","ignoreList":[],"sourcesContent":["import { d as defined$1, r as round$2, s as support, u as util, l as logToConsole, M as Matrix$2, C as Color, a as Class, R as Rect, P as Point$6, A as Arc$1, b as Path$7, G as Group$8, c as Animation$1, e as dotsPattern$1, v as verticalStripesPattern$1, f as crosshatchPattern$1, g as diagonalStripesPattern$1, h as gridPattern$1, i as Circle$1, j as Circle$2, k as MultiPath, t as transform, L as LinearGradient, m as RadialGradient, T as Text$2, n as measureText, S as Segment, o as AnimationFactory, p as Layout, q as parseColor, w as Surface$1, x as throttle, y as Arc$2, z as Size, I as Image } from './kendo.drawing.cmn.chunk.js';\n\nconst __meta__ = {\n    id: \"charts.cmn.chunk\",\n    name: \"ChartsCmnChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: ['drawing.cmn.chunk'],\n    hidden: true,\n    chunk: true\n};\n\n\n\nvar ARC = \"arc\";\nvar ARROW_UP = \"ArrowUp\";\nvar ARROW_DOWN = \"ArrowDown\";\nvar ARROW_LEFT = \"ArrowLeft\";\nvar ARROW_RIGHT = \"ArrowRight\";\nvar TAB = \"Tab\";\nvar ARIA_ACTIVE_DESCENDANT = \"aria-activedescendant\";\nvar AXIS_LABEL_CLICK = \"axisLabelClick\";\nvar BLACK$1 = \"#000\";\nvar BOTTOM$1 = \"bottom\";\nvar CENTER = \"center\";\nvar CIRCLE = \"circle\";\nvar COORD_PRECISION = 3;\nvar CROSS = \"cross\";\nvar DATE = \"date\";\nvar DEFAULT_FONT = \"12px sans-serif\";\nvar DEFAULT_HEIGHT$1 = 400;\nvar DEFAULT_PRECISION = 10;\nvar DEFAULT_WIDTH$1 = 600;\nvar END$1 = \"end\";\nvar ENTER = \"Enter\";\nvar ESCAPE = \"Escape\";\nvar FORMAT_REGEX = /\\{\\d+:?/;\nvar HEIGHT = \"height\";\nvar HIGHLIGHT_ZINDEX = 100;\nvar INSIDE$2 = \"inside\";\nvar INHERIT = \"inherit\";\nvar LEFT = \"left\";\nvar MAX_VALUE = Number.MAX_VALUE;\nvar MIN_VALUE = -Number.MAX_VALUE;\nvar NONE = \"none\";\nvar NOTE_CLICK = \"noteClick\";\nvar NOTE_HOVER = \"noteHover\";\nvar NOTE_LEAVE = \"noteLeave\";\nvar OBJECT$1 = \"object\";\nvar OUTSIDE$1 = \"outside\";\nvar RIGHT = \"right\";\nvar ROUNDED_RECT = \"roundedRect\";\nvar START$1 = \"start\";\nvar STRING$1 = \"string\";\nvar TOP = \"top\";\nvar TRIANGLE = \"triangle\";\nvar SQUARE = \"square\";\nvar RECT = \"rect\";\nvar VALUE = \"value\";\nvar WHITE$1 = \"#fff\";\nvar WIDTH = \"width\";\nvar X = \"x\";\nvar Y = \"y\";\nvar DEFAULT_SERIES_OPACITY = 1;\nvar POINTER = \"pointer\";\nvar HORIZONTAL = \"horizontal\";\nvar VERTICAL = \"vertical\";\n\nvar constants$2 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    ARC: ARC,\n    ARIA_ACTIVE_DESCENDANT: ARIA_ACTIVE_DESCENDANT,\n    ARROW_DOWN: ARROW_DOWN,\n    ARROW_LEFT: ARROW_LEFT,\n    ARROW_RIGHT: ARROW_RIGHT,\n    ARROW_UP: ARROW_UP,\n    AXIS_LABEL_CLICK: AXIS_LABEL_CLICK,\n    BLACK: BLACK$1,\n    BOTTOM: BOTTOM$1,\n    CENTER: CENTER,\n    CIRCLE: CIRCLE,\n    COORD_PRECISION: COORD_PRECISION,\n    CROSS: CROSS,\n    DATE: DATE,\n    DEFAULT_FONT: DEFAULT_FONT,\n    DEFAULT_HEIGHT: DEFAULT_HEIGHT$1,\n    DEFAULT_PRECISION: DEFAULT_PRECISION,\n    DEFAULT_SERIES_OPACITY: DEFAULT_SERIES_OPACITY,\n    DEFAULT_WIDTH: DEFAULT_WIDTH$1,\n    END: END$1,\n    ENTER: ENTER,\n    ESCAPE: ESCAPE,\n    FORMAT_REGEX: FORMAT_REGEX,\n    HEIGHT: HEIGHT,\n    HIGHLIGHT_ZINDEX: HIGHLIGHT_ZINDEX,\n    HORIZONTAL: HORIZONTAL,\n    INHERIT: INHERIT,\n    INSIDE: INSIDE$2,\n    LEFT: LEFT,\n    MAX_VALUE: MAX_VALUE,\n    MIN_VALUE: MIN_VALUE,\n    NONE: NONE,\n    NOTE_CLICK: NOTE_CLICK,\n    NOTE_HOVER: NOTE_HOVER,\n    NOTE_LEAVE: NOTE_LEAVE,\n    OBJECT: OBJECT$1,\n    OUTSIDE: OUTSIDE$1,\n    POINTER: POINTER,\n    RECT: RECT,\n    RIGHT: RIGHT,\n    ROUNDED_RECT: ROUNDED_RECT,\n    SQUARE: SQUARE,\n    START: START$1,\n    STRING: STRING$1,\n    TAB: TAB,\n    TOP: TOP,\n    TRIANGLE: TRIANGLE,\n    VALUE: VALUE,\n    VERTICAL: VERTICAL,\n    WHITE: WHITE$1,\n    WIDTH: WIDTH,\n    X: X,\n    Y: Y\n});\n\nfunction isArray(value) {\n    return Array.isArray(value);\n}\n\nfunction addClass(element, classes) {\n    var classArray = isArray(classes) ? classes : [ classes ];\n\n    for (var idx = 0; idx < classArray.length; idx++) {\n        var className = classArray[idx];\n        if (element.className.indexOf(className) === -1) {\n            element.className += \" \" + className;\n        }\n    }\n}\n\nvar SPACE_REGEX = /\\s+/g;\n\nfunction removeClass(element, className) {\n    if (element && element.className) {\n        element.className = element.className.replace(className, \"\").replace(SPACE_REGEX, \" \");\n    }\n}\n\nfunction alignPathToPixel(path) {\n    var offset = 0.5;\n    if (path.options.stroke && defined$1(path.options.stroke.width)) {\n        if (path.options.stroke.width % 2 === 0) {\n            offset = 0;\n        }\n    }\n\n    for (var i = 0; i < path.segments.length; i++) {\n        path.segments[i].anchor().round(0).translate(offset, offset);\n    }\n\n    return path;\n}\n\nfunction clockwise(angle1, angle2) {\n    // True if angle2 is clockwise of angle1\n    // assuming angles grow in clock-wise direction\n    // (as in the pie and radar charts)\n    return -angle1.x * angle2.y + angle1.y * angle2.x < 0;\n}\n\nfunction isNumber(value) {\n    return typeof value === \"number\" && !isNaN(value);\n}\n\nfunction isString$1(value) {\n    return typeof value === STRING$1;\n}\n\nfunction convertableToNumber(value) {\n    return isNumber(value) || (isString$1(value) && isFinite(value));\n}\n\nfunction cycleUp(index, count) {\n    return (index + 1) % count;\n}\n\nfunction cycleDown(index, count) {\n    var result = index - 1;\n\n    return result < 0 ? count - 1 : result;\n}\n\nfunction cycleIndex(index, length) {\n    if (length === 1 || (index % length) === 0) {\n        return 0;\n    }\n\n    if (index < 0) {\n        return length + (index % length);\n    } else if (index >= length) {\n        return index % length;\n    }\n\n    return index;\n}\n\nfunction isFunction(fn) {\n    return typeof fn === \"function\";\n}\n\nvar OBJECT = \"object\";\nvar UNDEFINED = \"undefined\";\n\nfunction deepExtendOne(destination, source) {\n    for (var property in source) {\n        if (property === '__proto__' || property === 'constructor') {\n            continue;\n        }\n\n        var propValue = source[property];\n        var propType = typeof propValue;\n\n        var propInit = (void 0);\n        if (propType === OBJECT && propValue !== null) {\n            propInit = propValue.constructor;\n        } else {\n            propInit = null;\n        }\n\n        if (propInit && propInit !== Array) {\n            if (propValue instanceof Date) {\n                destination[property] = new Date(propValue.getTime());\n            } else if (isFunction(propValue.clone)) {\n                destination[property] = propValue.clone();\n            } else {\n                var destProp = destination[property];\n                if (typeof (destProp) === OBJECT) {\n                    destination[property] = destProp || {};\n                } else {\n                    destination[property] = {};\n                }\n                deepExtendOne(destination[property], propValue);\n            }\n        } else if (propType !== UNDEFINED) {\n            destination[property] = propValue;\n        }\n    }\n\n    return destination;\n}\n\nfunction deepExtend(destination) {\n    var arguments$1 = arguments;\n\n    var length = arguments.length;\n\n    for (var i = 1; i < length; i++) {\n        deepExtendOne(destination, arguments$1[i]);\n    }\n\n    return destination;\n}\n\nfunction isObject(value) {\n    return typeof value === \"object\";\n}\n\nfunction styleValue(value) {\n    if (isNumber(value)) {\n        return value + \"px\";\n    }\n    return value;\n}\n\nvar SIZE_STYLES_REGEX = /width|height|top|left|bottom|right/i;\n\nfunction isSizeField(field) {\n    return SIZE_STYLES_REGEX.test(field);\n}\n\nfunction elementStyles(element, styles) {\n    var stylesArray = isString$1(styles) ? [ styles ] : styles;\n\n    if (isArray(stylesArray)) {\n        var result = {};\n        var style = window.getComputedStyle(element);\n\n        for (var idx = 0; idx < stylesArray.length; idx++) {\n            var field = stylesArray[idx];\n            result[field] = isSizeField(field) ? parseFloat(style[field]) : style[field];\n        }\n\n        return result;\n    } else if (isObject(styles)) {\n        for (var field$1 in styles) {\n            element.style[field$1] = styleValue(styles[field$1]);\n        }\n    }\n}\n\nfunction getSpacing(value, defaultSpacing) {\n    if ( defaultSpacing === void 0 ) defaultSpacing = 0;\n\n    var spacing = { top: 0, right: 0, bottom: 0, left: 0 };\n\n    if (typeof(value) === \"number\") {\n        spacing[TOP] = spacing[RIGHT] = spacing[BOTTOM$1] = spacing[LEFT] = value;\n    } else {\n        spacing[TOP] = value[TOP] || defaultSpacing;\n        spacing[RIGHT] = value[RIGHT] || defaultSpacing;\n        spacing[BOTTOM$1] = value[BOTTOM$1] || defaultSpacing;\n        spacing[LEFT] = value[LEFT] || defaultSpacing;\n    }\n\n    return spacing;\n}\n\nvar current$2 = {\n    compile: function(template) {\n        return template;\n    }\n};\n\nvar TemplateService = function TemplateService () {};\n\nTemplateService.register = function register (userImplementation) {\n    current$2 = userImplementation;\n};\n\nTemplateService.compile = function compile (template, options) {\n    return current$2.compile(template, options);\n};\n\nfunction getTemplate$1(options) {\n    if ( options === void 0 ) options = {};\n\n    var template;\n    if (options.template) {\n        options.template = template = TemplateService.compile(options.template);\n    } else if (isFunction(options.content)) {\n        template = options.content;\n    }\n\n    return template;\n}\n\nfunction getTemplate(options) {\n    if ( options === void 0 ) options = {};\n\n    var ariaTemplate;\n    if (options.ariaTemplate) {\n        options.ariaTemplate = ariaTemplate = TemplateService.compile(options.ariaTemplate);\n    } else if (isFunction(options.ariaContent)) {\n        ariaTemplate = options.ariaContent;\n    }\n\n    return ariaTemplate;\n}\n\nvar FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\nvar getterCache = {};\n\ngetterCache['undefined'] = function(obj) {\n    return obj;\n};\n\nfunction getter(field) {\n    if (getterCache[field]) {\n        return getterCache[field];\n    }\n\n    var fields = [];\n    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {\n        fields.push(defined$1(index) ? index : (indexAccessor || field));\n    });\n\n    getterCache[field] = function(obj) {\n        var result = obj;\n        for (var idx = 0; idx < fields.length && result; idx++) {\n            result = result[fields[idx]];\n        }\n\n        return result;\n    };\n\n    return getterCache[field];\n}\n\nfunction grep(array, callback) {\n    var length = array.length;\n    var result = [];\n    for (var idx = 0; idx < length; idx++) {\n        if (callback(array[idx])) {\n            result .push(array[idx]);\n        }\n    }\n\n    return result;\n}\n\nfunction hasClasses(element, classNames) {\n    if (element.className) {\n        var names = classNames.split(\" \");\n        for (var idx = 0; idx < names.length; idx++) {\n            if (element.className.indexOf && element.className.indexOf(names[idx]) !== -1) {\n                return true;\n            }\n        }\n    }\n}\n\n// TODO: Remove and replace with Map/WeakMap.\nvar HashMap = function HashMap() {\n    this._map = new Map();\n};\n\nHashMap.prototype.get = function get (key) {\n    return this._map.get(key);\n};\n\nHashMap.prototype.set = function set (key, value) {\n    this._map.set(key, value);\n};\n\nfunction inArray(value, array) {\n    if (array) {\n        return array.indexOf(value) !== -1;\n    }\n}\n\nfunction interpolateValue(start, end, progress) {\n    return round$2(start + (end - start) * progress, COORD_PRECISION);\n}\n\nvar TRIGGER = 'trigger';\n\nvar InstanceObserver = function InstanceObserver(observer, handlers) {\n    this.observer = observer;\n    this.handlerMap = deepExtend({}, this.handlerMap, handlers);\n};\n\nInstanceObserver.prototype.trigger = function trigger (name, args) {\n    var ref = this;\n        var observer = ref.observer;\n        var handlerMap = ref.handlerMap;\n    var isDefaultPrevented;\n    if (handlerMap[name]) {\n        isDefaultPrevented = this.callObserver(handlerMap[name], args);\n    } else if (observer[TRIGGER]) {\n        isDefaultPrevented = this.callObserver(TRIGGER, name, args);\n    }\n\n    return isDefaultPrevented;\n};\n\nInstanceObserver.prototype.callObserver = function callObserver (fnName) {\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    return this.observer[fnName].apply(this.observer, args);\n};\n\nInstanceObserver.prototype.requiresHandlers = function requiresHandlers (names) {\n        var this$1$1 = this;\n\n    if (this.observer.requiresHandlers) {\n        return this.observer.requiresHandlers(names);\n    }\n\n    for (var idx = 0; idx < names.length; idx++) {\n        if (this$1$1.handlerMap[names[idx]]) {\n            return true;\n        }\n    }\n};\n\nfunction isPlainObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n\nfunction map(array, callback) {\n    var length = array.length;\n    var result = [];\n    for (var idx = 0; idx < length; idx++) {\n        var value = callback(array[idx]);\n        if (defined$1(value)) {\n            result.push(value);\n        }\n    }\n    return result;\n}\n\nvar browser$1 = support.browser || {};\n\nfunction mousewheelDelta(e) {\n    var delta = 0;\n\n    if (e.wheelDelta) {\n        delta = -e.wheelDelta / 120;\n\n        if (browser$1.webkit) {\n            // Webkit browsers scale the delta by twice the device resolution.\n            // Possibly related to https://bugs.webkit.org/show_bug.cgi?id=196339\n            //\n            // Low device resolutions (e.g. zoom-out to 30%) also behave strangely.\n            delta = delta / (2 * Math.max(window.devicePixelRatio, 0.625));\n        }\n    } else if (e.detail) {\n        delta = e.detail / 3;\n    }\n\n    delta = delta > 0 ? Math.ceil(delta) : Math.floor(delta);\n\n    return delta;\n}\n\nvar ref = util;\nvar append = ref.append;\nvar bindEvents = ref.bindEvents;\nvar defined = ref.defined;\nvar deg = ref.deg;\nvar elementOffset = ref.elementOffset;\nvar elementSize = ref.elementSize;\nvar eventCoordinates = ref.eventCoordinates;\nvar eventElement = ref.eventElement;\nvar hashKey = ref.hashKey;\nvar last = ref.last;\nvar limitValue = ref.limitValue;\nvar objectKey = ref.objectKey;\nvar rad = ref.rad;\nvar round$1 = ref.round;\nvar unbindEvents = ref.unbindEvents;\nvar valueOrDefault = ref.valueOrDefault;\n\nvar FontLoader = function FontLoader () {};\n\nFontLoader.fetchFonts = function fetchFonts (options, fonts, state) {\n        if ( state === void 0 ) state = { depth: 0 };\n\n    var MAX_DEPTH = 5;\n\n    if (!options || state.depth > MAX_DEPTH || !document.fonts) {\n        return;\n    }\n\n    Object.keys(options).forEach(function(key) {\n        var value = options[key];\n        if (key === \"dataSource\" || key[0] === \"$\" || !value) {\n            return;\n        }\n\n        if (key === \"font\") {\n            fonts.push(value);\n        } else if (typeof value === \"object\") {\n            state.depth++;\n            FontLoader.fetchFonts(value, fonts, state);\n            state.depth--;\n        }\n    });\n};\n\nFontLoader.loadFonts = function loadFonts (fonts, callback) {\n    var promises = [];\n\n    if (fonts.length > 0 && document.fonts) {\n        try {\n            promises = fonts.map(function(font) {\n                return document.fonts.load(font);\n            });\n        } catch (e) {\n            // Silence font-loading errors\n            logToConsole(e);\n        }\n\n        Promise.all(promises).then(callback, callback);\n    } else {\n        callback();\n    }\n};\n\nFontLoader.preloadFonts = function preloadFonts (options, callback) {\n    var fonts = [];\n    FontLoader.fetchFonts(options, fonts);\n\n    FontLoader.loadFonts(fonts, callback);\n};\n\nfunction setDefaultOptions(type, options) {\n    var proto = type.prototype;\n    if (proto.options) {\n        proto.options = deepExtend({}, proto.options, options);\n    } else {\n        proto.options = options;\n    }\n}\n\nvar KICON = 'k-icon';\nvar KI_PREFFIX = 'k-i-';\nvar KFONTICON = 'k-font-icon';\nvar KSVGICON = 'k-svg-icon';\nvar KSVG_PREFFIX = 'k-svg-i-';\n\nvar HTMLBaseIcon = function HTMLBaseIcon(element, options) {\n    this.element = element;\n    this.options = deepExtend({}, this.options, options);\n\n    this.wrapper();\n};\n\nHTMLBaseIcon.prototype.wrapper = function wrapper () {\n    this.addClasses();\n};\n\nHTMLBaseIcon.prototype.addClasses = function addClasses () {\n};\n\nHTMLBaseIcon.prototype.html = function html () {\n    return this.element.outerHTML;\n};\n\nsetDefaultOptions(HTMLBaseIcon, {\n    name: '',\n    size: 'none',\n    themeColor: 'none',\n    flip: 'default',\n    iconClass: '',\n    stylingOptions: [ 'size', 'themeColor', 'fill' ]\n});\n\nvar HTMLFontIcon = (function (HTMLBaseIcon) {\n    function HTMLFontIcon(element, options) {\n        HTMLBaseIcon.call(this, element, options);\n    }\n\n    if ( HTMLBaseIcon ) HTMLFontIcon.__proto__ = HTMLBaseIcon;\n    HTMLFontIcon.prototype = Object.create( HTMLBaseIcon && HTMLBaseIcon.prototype );\n    HTMLFontIcon.prototype.constructor = HTMLFontIcon;\n\n    HTMLFontIcon.prototype.wrapper = function wrapper () {\n        // Find if there is an existing k-i- class appended to the element.\n        var currentIconClass = this.element.className.split(\" \").find(function (x) { return x.startsWith(KI_PREFFIX); });\n        var className = this.options.icon ? (\"\" + (this.options.icon.startsWith(KI_PREFFIX) ? \"\" : KI_PREFFIX) + (this.options.icon)) : \"\";\n\n        this._className = className;\n\n        addClass(this.element, KICON);\n        addClass(this.element, KFONTICON);\n        removeClass(this.element, currentIconClass); // Remove any existing icons.\n        addClass(this.element, className);\n        addClass(this.element, this.options.iconClass || '');\n\n        HTMLBaseIcon.prototype.wrapper.call(this);\n    };\n\n    return HTMLFontIcon;\n}(HTMLBaseIcon));\n\nsetDefaultOptions(HTMLFontIcon, {\n    name: 'HTMLFontIcon',\n    icon: null\n});\n\nvar HTMLSvgIcon = (function (HTMLBaseIcon) {\n    function HTMLSvgIcon(element, options) {\n        // Ensure that the inner contents of the wrapping span element are always removed for re-rendering purposes.\n        element.innerHTML = \"\";\n\n        HTMLBaseIcon.call(this, element, options);\n    }\n\n    if ( HTMLBaseIcon ) HTMLSvgIcon.__proto__ = HTMLBaseIcon;\n    HTMLSvgIcon.prototype = Object.create( HTMLBaseIcon && HTMLBaseIcon.prototype );\n    HTMLSvgIcon.prototype.constructor = HTMLSvgIcon;\n\n    HTMLSvgIcon.prototype.wrapper = function wrapper () {\n        var icon = this.options.icon;\n        var iconClass = this.options.iconClass;\n        var currentIconClass = this.element.className.split(\" \").find(function (x) { return x.startsWith(KSVG_PREFFIX); });\n\n        if (!icon && iconClass) {\n            // match k-i-(some-icon-name)\n            var regex = /k-i-(\\w+(?:-\\w+)*)/;\n            var iconNameMatch = iconClass.match(regex);\n            if (iconNameMatch) {\n                icon = iconNameMatch[1];\n                iconClass = iconClass.replace(iconNameMatch[0], \"\");\n            }\n        }\n\n        if (isString$1(icon)) {\n            icon = icon.replace(\"k-i-\", \"\").replace(/-./g, function (x) { return x[1].toUpperCase(); });\n            icon = this.options.svgIcons[icon] || this.options.svgIcons[(icon + \"Icon\")];\n        }\n\n        var className = icon && icon.name ? (\"\" + KSVG_PREFFIX + (icon.name)) : \"\";\n        this._className = className;\n\n        addClass(this.element, KSVGICON);\n        removeClass(this.element, currentIconClass);\n        addClass(this.element, className);\n        addClass(this.element, iconClass || \"\");\n        this.element.setAttribute(\"aria-hidden\", \"true\");\n\n        if (icon && isPlainObject(icon)) {\n            var svgElement = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n            svgElement.setAttribute(\"viewBox\", icon.viewBox || \"\");\n            svgElement.setAttribute(\"focusable\", \"false\");\n            svgElement.innerHTML = icon.content || \"\";\n\n            this.element.appendChild(svgElement);\n        }\n\n        HTMLBaseIcon.prototype.wrapper.call(this);\n    };\n\n    return HTMLSvgIcon;\n}(HTMLBaseIcon));\n\nsetDefaultOptions(HTMLSvgIcon, {\n    name: 'HTMLSvgIcon',\n    icon: null,\n    svgIcons: {}\n});\n\nvar ICON_TYPES = {\n    'svg': HTMLSvgIcon,\n    'font': HTMLFontIcon\n};\n\nfunction renderIcon(iconElement, iconOptions) {\n    var element = iconElement;\n    var options = iconOptions;\n\n    if (!element\n        || (isObject(element) && !(element instanceof HTMLElement))\n        || isString$1(element)) {\n        options = element;\n        element = document.createElement(\"span\");\n    }\n\n    if (isString$1(options)) {\n        options = {\n            icon: options\n        };\n    }\n\n    if (!options.type) {\n        options.type = 'svg';\n    }\n\n    if (!ICON_TYPES[options.type]) {\n        return null;\n    }\n\n    return (new ICON_TYPES[options.type](element, options).html());\n}\n\nfunction sparseArrayLimits(arr) {\n    var min = MAX_VALUE;\n    var max = MIN_VALUE;\n\n    for (var idx = 0, length = arr.length; idx < length; idx++) {\n        var value = arr[idx];\n        if (value !== null && isFinite(value)) {\n            min = Math.min(min, value);\n            max = Math.max(max, value);\n        }\n    }\n\n    return {\n        min: min === MAX_VALUE ? undefined : min,\n        max: max === MIN_VALUE ? undefined : max\n    };\n}\n\nfunction find(array, predicate) {\n    for (var i = 0; i < array.length; i++) {\n        var item = array[i];\n        if (predicate(item, i, array)) {\n            return item;\n        }\n    }\n}\n\nvar Matrix$1 = Matrix$2;\nvar matrixRegexp = /matrix\\((.*)\\)/;\n\nfunction parseMatrix(matrixString) {\n    var match = matrixString.match(matrixRegexp);\n    if (match === null || match.length !== 2) {\n        return Matrix$1.unit();\n    }\n\n    var members = match[1].split(',').map(function (x) { return parseFloat(x); });\n    return new (Function.prototype.bind.apply( Matrix$1, [ null ].concat( members) ));\n}\n\nfunction transformMatrix(element) {\n    var transform = getComputedStyle(element).transform;\n\n    if (transform === 'none') {\n        return Matrix$1.unit();\n    }\n\n    return parseMatrix(transform);\n}\n\nfunction elementScale(element) {\n    if (!element) {\n        return Matrix$1.unit();\n    }\n\n    var matrix = transformMatrix(element);\n    var parent = element.parentElement;\n    while (parent) {\n        var parentMatrix = transformMatrix(parent);\n        matrix = matrix.multiplyCopy(parentMatrix);\n        parent = parent.parentElement;\n    }\n\n    matrix.b = matrix.c = matrix.e = matrix.f = 0;\n    return matrix;\n}\n\nfunction autoTextColor(color) {\n    var isDark = new Color(color).isDark();\n    if (isDark) {\n        return WHITE$1;\n    }\n\n    return BLACK$1;\n}\n\nvar DELETED = {};\n\nvar LegacySet = function LegacySet(values) {\n    var this$1$1 = this;\n\n    this._index = {};\n    this._values = values ? values.slice(0) : [];\n\n    for (var i = 0; i < this._values.length; i++) {\n        this$1$1._index[this$1$1._values[i]] = i;\n    }\n};\n\nvar prototypeAccessors$2 = { size: { configurable: true } };\n\nLegacySet.prototype.values = function values () {\n    return this._values.filter(function (item) { return item !== DELETED; });\n};\n\nLegacySet.prototype.has = function has (value) {\n    return this._index[value] !== undefined;\n};\n\nLegacySet.prototype.add = function add (value) {\n    if (!this.has(value)) {\n        this._index[value] = this._values.length;\n        this._values.push(value);\n    }\n};\n\nLegacySet.prototype.delete = function delete$1 (value) {\n    var index = this._index[value];\n    if (index !== undefined) {\n        this._values[index] = DELETED;\n        delete this._index[value];\n    }\n};\n\nLegacySet.prototype.clear = function clear () {\n    this._index = {};\n    this._values = [];\n};\n\nprototypeAccessors$2.size.get = function () {\n    return this._values.length;\n};\n\nObject.defineProperties( LegacySet.prototype, prototypeAccessors$2 );\n\nvar SetWrapper = function SetWrapper(values) {\n    this._set = new Set(values);\n};\n\nvar prototypeAccessors$1$1 = { size: { configurable: true } };\n\nSetWrapper.prototype.values = function values () {\n    return Array.from(this._set);\n};\n\nSetWrapper.prototype.has = function has (value) {\n    return this._set.has(value);\n};\n\nSetWrapper.prototype.add = function add (value) {\n    this._set.add(value);\n};\n\nSetWrapper.prototype.delete = function delete$2 (value) {\n    this._set.delete(value);\n};\n\nSetWrapper.prototype.clear = function clear () {\n    this._set.clear();\n};\n\nprototypeAccessors$1$1.size.get = function () {\n    return this._set.size;\n};\n\nObject.defineProperties( SetWrapper.prototype, prototypeAccessors$1$1 );\n\n// TODO: Drop LegacySet when removing support for IE10\nvar supportsSet = function () {\n    var supported = false;\n\n    if (typeof Set === 'function') {\n        var set = new Set([1]);\n        supported = set.has(1);\n    }\n\n    return supported;\n};\n\nfunction createHashSet(values) {\n    if (supportsSet()) {\n        return new SetWrapper(values);\n    }\n\n    return new LegacySet(values);\n}\n\nfunction defaultErrorHandler(error) {\n    throw error;\n}\n\nvar keys = {\n    INSERT: 45,\n    DELETE: 46,\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    END: 35,\n    HOME: 36,\n    SPACEBAR: 32,\n    PAGEUP: 33,\n    PAGEDOWN: 34,\n    F2: 113,\n    F10: 121,\n    F12: 123,\n    NUMPAD_PLUS: 107,\n    NUMPAD_MINUS: 109,\n    NUMPAD_DOT: 110\n};\n\nfunction hasOwnProperty(obj, property) {\n    return Object.prototype.hasOwnProperty.call(obj, property);\n}\n\n// Based on the implementation from kendo-spreadsheet-common/src/calc.js\nvar Matrix = function Matrix() {\n    this.height = 0;\n    this.width = 0;\n    this.data = [];\n};\n\nMatrix.prototype.clone = function clone () {\n    var m = new Matrix();\n    m.height = this.height;\n    m.width = this.width;\n    m.data = this.data.map(function (row) { return row.slice(); });\n    return m;\n};\n\nMatrix.prototype.get = function get (row, col) {\n    var line = this.data[row];\n    var val = line ? line[col] : null;\n    return val;\n};\n\nMatrix.prototype.set = function set (row, col, data) {\n    var line = this.data[row];\n    if (line == null) {\n        line = this.data[row] = [];\n    }\n    line[col] = data;\n    if (row >= this.height) {\n        this.height = row + 1;\n    }\n    if (col >= this.width) {\n        this.width = col + 1;\n    }\n};\n\nMatrix.prototype.each = function each (f, includeEmpty) {\n        var this$1$1 = this;\n\n    for (var row = 0; row < this.height; ++row) {\n        for (var col = 0; col < this.width; ++col) {\n            var val = this$1$1.get(row, col);\n            if (includeEmpty || val != null) {\n                val = f(val, row, col);\n                if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n    }\n};\n\nMatrix.prototype.map = function map (f, includeEmpty) {\n    var m = new Matrix();\n    this.each(function(el, row, col) {\n        m.set(row, col, f(el, row, col));\n    }, includeEmpty);\n    return m;\n};\n\nMatrix.prototype.transpose = function transpose () {\n    var m = new Matrix();\n    this.each(function(el, row, col) {\n        m.set(col, row, el);\n    });\n    return m;\n};\n\nMatrix.prototype.unit = function unit (n) {\n    this.width = this.height = n;\n    var a = this.data = new Array(n);\n    for (var i = n; --i >= 0;) {\n        var row = a[i] = new Array(n);\n        for (var j = n; --j >= 0;) {\n            row[j] = i === j ? 1 : 0;\n        }\n    }\n    return this;\n};\n\nMatrix.prototype.multiply = function multiply (b) {\n    var a = this;\n    var m = new Matrix();\n    for (var row = 0; row < a.height; ++row) {\n        for (var col = 0; col < b.width; ++col) {\n            var s = 0;\n            for (var i = 0; i < a.width; ++i) {\n                var va = a.get(row, i);\n                var vb = b.get(i, col);\n                if (typeof va === \"number\" && typeof vb === \"number\") {\n                    s += va * vb;\n                }\n            }\n            m.set(row, col, s);\n        }\n    }\n    return m;\n};\n\nMatrix.prototype.inverse = function inverse () {\n    var n = this.width;\n    var m = this.augment(new Matrix().unit(n));\n    var a = m.data;\n\n    // Gaussian elimination\n    // https://en.wikipedia.org/wiki/Gaussian_elimination#Finding_the_inverse_of_a_matrix\n\n    // 1. Get zeros below main diagonal\n    var loop = function ( k ) {\n        var imax = argmax(k, n, function(i) { return a[i][k]; });\n        if (!a[imax][k]) {\n            return { v: null }; // singular matrix\n        }\n        if (k !== imax) {\n            var tmp = a[k];\n            a[k] = a[imax];\n            a[imax] = tmp;\n        }\n        for (var i = k + 1; i < n; ++i) {\n            for (var j = k + 1; j < 2 * n; ++j) {\n                a[i][j] -= a[k][j] * a[i][k] / a[k][k];\n            }\n            a[i][k] = 0;\n        }\n    };\n\n        for (var k = 0; k < n; ++k) {\n            var returned = loop( k );\n\n            if ( returned ) return returned.v;\n        }\n\n    // 2. Get 1-s on main diagonal, dividing by pivot\n    for (var i$1 = 0; i$1 < n; ++i$1) {\n        for (var f = a[i$1][i$1], j$1 = 0; j$1 < 2 * n; ++j$1) {\n            a[i$1][j$1] /= f;\n        }\n    }\n\n    // 3. Get zeros above main diagonal.  Actually, we only care to compute the right side\n    // here (that will be the inverse), so in the inner loop below we go while j >= n,\n    // instead of j >= k.\n    for (var k$1 = n; --k$1 >= 0;) {\n        for (var i$2 = k$1; --i$2 >= 0;) {\n            if (a[i$2][k$1]) {\n                for (var j$2 = 2 * n; --j$2 >= n;) {\n                    a[i$2][j$2] -= a[k$1][j$2] * a[i$2][k$1];\n                }\n            }\n        }\n    }\n\n    return m.slice(0, n, n, n);\n};\n\nMatrix.prototype.augment = function augment (m) {\n    var ret = this.clone();\n    var n = ret.width;\n    m.each(function(val, row, col) {\n        ret.set(row, col + n, val);\n    });\n    return ret;\n};\n\nMatrix.prototype.slice = function slice (row, col, height, width) {\n        var this$1$1 = this;\n\n    var m = new Matrix();\n    for (var i = 0; i < height; ++i) {\n        for (var j = 0; j < width; ++j) {\n            m.set(i, j, this$1$1.get(row + i, col + j));\n        }\n    }\n    return m;\n};\n\nfunction argmax(start, end, f) {\n    var max = f(start), pos = start;\n    for (var i = start + 1; i < end; i++) {\n        var v = f(start);\n        if (v > max) {\n            max = v;\n            pos = start;\n        }\n    }\n    return pos;\n}\n\nvar eventMap = {\n    down: \"pointerdown\",\n    move: \"pointermove\",\n    up: \"pointerup\",\n    cancel: \"pointercancel pointerleave\"\n};\n\nfunction queryEventMap(e) {\n    return eventMap[e] || e;\n}\n\nvar applyEventMap = function (events) {\n    var eventRegEx = /([^ ]+)/g;\n    var appliedEvents = events.replace(eventRegEx, queryEventMap);\n\n    return appliedEvents;\n};\n\nfunction guid() {\n    var id = \"\";\n    var i;\n    var random;\n\n    for (i = 0; i < 32; i++) {\n        random = Math.random() * 16 | 0;\n\n        if (i === 8 || i === 12 || i === 16 || i === 20) {\n            id += \"-\";\n        }\n\n        id += (i === 12 ? 4 : (i === 16 ? (random & 3 | 8) : random)).toString(16); // eslint-disable-line no-nested-ternary\n    }\n\n    return id;\n}\n\nvar elementEventHandlers = new WeakMap();\nvar ID$1 = Symbol('id');\n\nfunction on(element, events, filter, handler, useCapture) {\n    addEventListeners(element, events, filter, handler, useCapture);\n}\n\nfunction off(element, events, filter, handler, useCapture) {\n    removeEventListeners(element, events, filter, handler, useCapture);\n}\n\nfunction isString(value) {\n    return typeof(value) === \"string\";\n}\n\nfunction addEventListeners(element, events, filter, handler, useCapture) {\n    var eventNames = isArray(events) ? events : (events || \"\").split(\" \");\n\n    eventNames.forEach(function(eventName) {\n        addEventListener(element, eventName, filter, handler, useCapture);\n    });\n}\n\nfunction addEventListener(element, event, filter, handler, useCapture) {\n    var eventHandler = handler;\n    var eventFilter;\n\n    if (filter && isFunction(filter) && !handler) {\n        eventHandler = filter;\n    } else if (filter && isString(filter) && isFunction(eventHandler)) {\n        eventFilter = filter;\n    }\n\n    var attachedHandler = function(e) {\n        var closestMatchingTarget = e.target ? e.target.closest(eventFilter) : null;\n\n        if (!eventFilter ||\n            (eventFilter && e.target && closestMatchingTarget)) {\n            var currentTarget = eventFilter ? closestMatchingTarget : e.currentTarget;\n\n            // reassign the property as it is a getters only\n            Object.defineProperty(e, \"currentTarget\", { value: currentTarget });\n            // keep a reference to the top-level target\n            Object.defineProperty(e, \"delegateTarget\", { value: element });\n\n            eventHandler(e);\n        }\n    };\n    eventHandler[ID$1] = guid();\n\n    var eventHandlers = elementEventHandlers.get(element);\n\n    if (!eventHandlers) {\n        eventHandlers = new Map();\n        elementEventHandlers.set(element, eventHandlers);\n    }\n\n    eventHandlers.set(eventHandler[ID$1], attachedHandler);\n    element.addEventListener(event, attachedHandler, Boolean(useCapture));\n}\n\nfunction removeEventListeners(element, events, handler, useCapture) {\n    var eventNames = isArray(events) ? events : (events || \"\").split(\" \");\n\n    eventNames.forEach(function(eventName) {\n        removeEventListener(element, eventName, handler, useCapture);\n    });\n}\n\nfunction removeEventListener(element, event, handler, useCapture) {\n    var eventHandlers = elementEventHandlers.get(element);\n\n    if (eventHandlers && handler && handler[ID$1]) {\n        var handlerId = handler[ID$1];\n        var attachedHandler = eventHandlers.get(handlerId);\n\n        eventHandlers.delete(handlerId);\n\n        if (attachedHandler) {\n            element.removeEventListener(event, attachedHandler, Boolean(useCapture));\n        }\n    }\n}\n\nfunction getSupportedFeatures() {\n    var os = detectOS(navigator.userAgent);\n    var support = {};\n\n    support.mobileOS = os;\n\n    return support;\n}\n\nfunction detectOS(ua) {\n    var os = false;\n    var agentRxs = {\n            wp: /(Windows Phone(?: OS)?)\\s(\\d+)\\.(\\d+(\\.\\d+)?)/,\n            fire: /(Silk)\\/(\\d+)\\.(\\d+(\\.\\d+)?)/,\n            android: /(Android|Android.*(?:Opera|Firefox).*?\\/)\\s*(\\d+)\\.?(\\d+(\\.\\d+)?)?/,\n            iphone: /(iPhone|iPod).*OS\\s+(\\d+)[\\._]([\\d\\._]+)/,\n            ipad: /(iPad).*OS\\s+(\\d+)[\\._]([\\d_]+)/,\n            playbook: /(PlayBook).*?Tablet\\s*OS\\s*(\\d+)\\.(\\d+(\\.\\d+)?)/,\n            windows: /(MSIE)\\s+(\\d+)\\.(\\d+(\\.\\d+)?)/,\n            tizen: /(tizen).*?Version\\/(\\d+)\\.(\\d+(\\.\\d+)?)/i,\n            sailfish: /(sailfish).*rv:(\\d+)\\.(\\d+(\\.\\d+)?).*firefox/i\n        },\n        osRxs = {\n            ios: /^i(phone|pad|pod)$/i,\n            android: /^android|fire$/i,\n            windows: /windows/,\n            wp: /wp/,\n            flat: /sailfish|ffos|tizen/i\n        };\n\n    for (var agent in agentRxs) {\n        var match = ua.match(agentRxs[agent]);\n        if (match) {\n            if (agent === \"windows\" && \"plugins\" in navigator) { return false; } // Break if not Metro/Mobile Windows\n\n            os = {};\n            os.device = agent;\n            os.name = testRegex(agent, osRxs);\n            os[os.name] = true;\n\n            break;\n        }\n    }\n\n    return os;\n}\n\nfunction testRegex(agent, regexes, dflt) {\n    for (var regex in regexes) {\n        if (regexes[regex].test(agent)) {\n            return regex;\n        }\n    }\n    return dflt !== undefined ? dflt : agent;\n}\n\nfunction noop() {}\n\nfunction now() {\n    return new Date().getTime();\n}\n\nvar STRING = \"string\";\nvar FUNCTION = \"function\";\n\nvar preventDefault$2 = function() {\n    this._defaultPrevented = true;\n};\n\nvar isDefaultPrevented = function() {\n    return this._defaultPrevented === true;\n};\n\nvar Observable = (function (Class) {\n    function Observable() {\n        Class.call(this);\n        this._events = {};\n    }\n\n    if ( Class ) Observable.__proto__ = Class;\n    Observable.prototype = Object.create( Class && Class.prototype );\n    Observable.prototype.constructor = Observable;\n\n    Observable.prototype.destroy = function destroy () {\n        this.unbind();\n    };\n\n    Observable.prototype.bind = function bind (event, handlers, one) {\n        var that = this,\n            idx,\n            eventNames = typeof event === STRING ? [event] : event || [],\n            length,\n            original,\n            handler,\n            handlersIsFunction = typeof handlers === FUNCTION,\n            events;\n\n        if (handlers === undefined) {\n            for (idx in event) {\n                that.bind(idx, event[idx]);\n            }\n\n            return that;\n        }\n\n        /* eslint-disable no-loop-func */\n        var loop = function (  ) {\n            var eventName = eventNames[idx];\n\n            handler = handlersIsFunction ? handlers : handlers[eventName];\n\n            if (handler) {\n                if (one) {\n                    original = handler;\n                    handler = function() {\n                        that.unbind(eventName, handler);\n                        original.apply(that, arguments);\n                    };\n\n                    handler.original = original;\n                }\n\n                events = that._events[eventName] = that._events[eventName] || [];\n                events.push(handler);\n            }\n        };\n\n        for (idx = 0, length = eventNames.length; idx < length; idx++) loop(  );\n        /* eslint-enable no-loop-func */\n\n        return that;\n    };\n\n    Observable.prototype.one = function one (eventNames, handlers) {\n        return this.bind(eventNames, handlers, true);\n    };\n\n    Observable.prototype.first = function first (eventName, handlers) {\n        var that = this,\n            idx,\n            eventNames = typeof eventName === STRING ? [eventName] : eventName,\n            length,\n            handler,\n            handlersIsFunction = typeof handlers === FUNCTION,\n            events;\n\n        for (idx = 0, length = eventNames.length; idx < length; idx++) {\n            var eventName$1 = eventNames[idx];\n\n            handler = handlersIsFunction ? handlers : handlers[eventName$1];\n\n            if (handler) {\n                events = that._events[eventName$1] = that._events[eventName$1] || [];\n                events.unshift(handler);\n            }\n        }\n\n        return that;\n    };\n\n    Observable.prototype.trigger = function trigger (eventName, eventArgs) {\n        var that = this,\n            events = that._events[eventName],\n            idx,\n            length;\n\n        if (events) {\n            var e = eventArgs || {};\n\n            e.sender = that;\n\n            e._defaultPrevented = false;\n\n            e.preventDefault = preventDefault$2;\n\n            e.isDefaultPrevented = isDefaultPrevented;\n\n            events = events.slice();\n\n            for (idx = 0, length = events.length; idx < length; idx++) {\n                events[idx].call(that, e);\n            }\n\n            return e._defaultPrevented === true;\n        }\n\n        return false;\n    };\n\n    Observable.prototype.unbind = function unbind (eventName, handler) {\n        var that = this,\n            events = that._events[eventName],\n            idx;\n\n        if (eventName === undefined) {\n            that._events = {};\n        } else if (events) {\n            if (handler) {\n                for (idx = events.length - 1; idx >= 0; idx--) {\n                    if (events[idx] === handler || events[idx].original === handler) {\n                        events.splice(idx, 1);\n                    }\n                }\n            } else {\n                that._events[eventName] = [];\n            }\n        }\n\n        return that;\n    };\n\n    Observable.prototype._setEvents = function _setEvents (options) {\n        var this$1$1 = this;\n\n        var length = (this.events || []).length;\n\n        for (var idx = 0; idx < length; idx ++) {\n            var e = this$1$1.events[idx];\n\n            if (this$1$1.options[e] && options[e]) {\n                this$1$1.unbind(e, this$1$1.options[e]);\n\n                if (this$1$1._events && this$1$1._events[e]) {\n                    delete this$1$1._events[e];\n                }\n            }\n        }\n\n        this.bind(this.events, options);\n    };\n\n    return Observable;\n}(Class));\n\nvar extend$e = Object.assign;\n\nvar preventDefault$1 = function (e) {\n    e.preventDefault();\n};\n\nvar\n    DEFAULT_MIN_HOLD = 800,\n    CLICK_DELAY = 300,\n    DEFAULT_THRESHOLD = 0,\n    PRESS = 'press',\n    HOLD = 'hold',\n    SELECT$1 = 'select',\n    START = 'start',\n    MOVE = 'move',\n    END = 'end',\n    CANCEL = 'cancel',\n    TAP = 'tap',\n    DOUBLETAP = 'doubleTap',\n    RELEASE = 'release',\n    GESTURESTART = 'gesturestart',\n    GESTURECHANGE = 'gesturechange',\n    GESTUREEND = 'gestureend',\n    GESTURETAP = 'gesturetap';\n\nvar THRESHOLD = {\n    'api': 0,\n    'touch': 0,\n    'mouse': 9,\n    'pointer': 9\n};\n\nfunction touchDelta(touch1, touch2) {\n    var x1 = touch1.x.location,\n        y1 = touch1.y.location,\n        x2 = touch2.x.location,\n        y2 = touch2.y.location,\n        dx = x1 - x2,\n        dy = y1 - y2;\n\n    return {\n        center: {\n            x: (x1 + x2) / 2,\n            y: (y1 + y2) / 2\n        },\n        distance: Math.sqrt(dx * dx + dy * dy)\n    };\n}\n\nfunction getTouches(e) {\n    var touches = [],\n        originalEvent = e.originalEvent || e,\n        currentTarget = e.currentTarget;\n\n    if (e.api) {\n        touches.push({\n            id: 2, // hardcoded ID for API call\n            event: e,\n            target: e.target,\n            currentTarget: e.target,\n            location: e,\n            type: 'api'\n        });\n    } else {\n        touches.push({\n            location: originalEvent,\n            event: e,\n            target: e.target,\n            currentTarget: currentTarget,\n            id: originalEvent.pointerId,\n            type: 'pointer'\n        });\n    }\n\n    return touches;\n}\nvar TouchAxis = (function (Class) {\n    function TouchAxis(axis, location) {\n        Class.call(this);\n        var that = this;\n\n        that.support = getSupportedFeatures();\n        that.invalidZeroEvents = this.support.mobileOS && this.support.mobileOS.android;\n        that.axis = axis;\n        that._updateLocationData(location);\n        that.startLocation = that.location;\n        that.velocity = that.delta = 0;\n        that.timeStamp = now();\n    }\n\n    if ( Class ) TouchAxis.__proto__ = Class;\n    TouchAxis.prototype = Object.create( Class && Class.prototype );\n    TouchAxis.prototype.constructor = TouchAxis;\n\n    TouchAxis.prototype.move = function move (location) {\n        var that = this,\n            offset = location['page' + that.axis],\n            timeStamp = now(),\n            timeDelta = timeStamp - that.timeStamp || 1;\n\n        if (!offset && this.invalidZeroEvents) {\n            return;\n        }\n\n        that.delta = offset - that.location;\n        that._updateLocationData(location);\n        that.initialDelta = offset - that.startLocation;\n        that.velocity = that.delta / timeDelta;\n        that.timeStamp = timeStamp;\n    };\n\n    TouchAxis.prototype._updateLocationData = function _updateLocationData (location) {\n        var that = this,\n            axis = that.axis;\n\n        that.location = location['page' + axis];\n        that.client = location['client' + axis];\n        that.screen = location['screen' + axis];\n    };\n\n    return TouchAxis;\n}(Class));\n\nvar Touch = (function (Class) {\n    function Touch(userEvents, target, touchInfo) {\n        Class.call(this);\n\n        extend$e(this, {\n            x: new TouchAxis('X', touchInfo.location),\n            y: new TouchAxis('Y', touchInfo.location),\n            type: touchInfo.type,\n            threshold: userEvents.threshold || THRESHOLD[touchInfo.type],\n            userEvents: userEvents,\n            target: target,\n            currentTarget: touchInfo.currentTarget,\n            initialTouch: touchInfo.target,\n            id: touchInfo.id,\n            pressEvent: touchInfo,\n            _clicks: userEvents._clicks,\n            supportDoubleTap: userEvents.supportDoubleTap,\n            _moved: false,\n            _finished: false\n        });\n    }\n\n    if ( Class ) Touch.__proto__ = Class;\n    Touch.prototype = Object.create( Class && Class.prototype );\n    Touch.prototype.constructor = Touch;\n\n    Touch.prototype.press = function press () {\n        var this$1$1 = this;\n\n        this._holdTimeout = setTimeout(function () { return this$1$1._hold(); }, this.userEvents.minHold);\n        this._trigger(PRESS, this.pressEvent);\n    };\n\n    Touch.prototype._tap = function _tap (touchInfo) {\n        var that = this;\n\n        that.userEvents._clicks++;\n\n        if (that.userEvents._clicks === 1) {\n            that._clickTimeout = setTimeout(function() {\n                if (that.userEvents._clicks === 1) {\n                    that._trigger(TAP, touchInfo);\n                } else {\n                    that._trigger(DOUBLETAP, touchInfo);\n                }\n\n                that.userEvents._clicks = 0;\n            }, CLICK_DELAY);\n        }\n    };\n\n    Touch.prototype._hold = function _hold () {\n        this._trigger(HOLD, this.pressEvent);\n    };\n\n    /* eslint-disable consistent-return */\n    Touch.prototype.move = function move (touchInfo) {\n        var that = this;\n        var preventMove = touchInfo.type !== 'api' && that.userEvents._shouldNotMove;\n\n        if (that._finished || preventMove) {\n            return;\n        }\n\n        that.x.move(touchInfo.location);\n        that.y.move(touchInfo.location);\n\n        if (!that._moved) {\n            if (that._withinIgnoreThreshold()) {\n                return;\n            }\n\n            if (!UserEvents.current || UserEvents.current === that.userEvents) {\n                that._start(touchInfo);\n            } else {\n                return that.dispose();\n            }\n        }\n\n        if (!that._finished) {\n            that._trigger(MOVE, touchInfo);\n        }\n    };\n    /* eslint-enable consistent-return */\n\n    Touch.prototype.end = function end (touchInfo) {\n        this.endTime = now();\n\n        if (this._finished) {\n            return;\n        }\n\n        this._finished = true;\n        this._trigger(RELEASE, touchInfo);\n\n        if (this._moved) {\n            this._trigger(END, touchInfo);\n        } else {\n            if (this.supportDoubleTap) {\n                this._tap(touchInfo);\n            } else {\n                this._trigger(TAP, touchInfo);\n            }\n        }\n\n        clearTimeout(this._holdTimeout);\n        this.dispose();\n    };\n\n    Touch.prototype.dispose = function dispose () {\n        var userEvents = this.userEvents,\n            activeTouches = userEvents.touches || [];\n\n        this._finished = true;\n        this.pressEvent = null;\n\n        clearTimeout(this._holdTimeout);\n        // activeTouches.splice($.inArray(this, activeTouches), 1);\n        var activeTouchIndex = activeTouches.indexOf(this);\n        activeTouches.splice(activeTouchIndex, 1);\n    };\n\n    Touch.prototype.skip = function skip () {\n        this.dispose();\n    };\n\n    Touch.prototype.cancel = function cancel () {\n        this.dispose();\n    };\n\n    Touch.prototype.isMoved = function isMoved () {\n        return this._moved;\n    };\n\n    Touch.prototype._start = function _start (touchInfo) {\n        clearTimeout(this._holdTimeout);\n        this.startTime = now();\n        this._moved = true;\n        this._trigger(START, touchInfo);\n    };\n\n    Touch.prototype._trigger = function _trigger (name, touchInfo) {\n        var e = touchInfo.event;\n        var data = {\n            touch: this,\n            x: this.x,\n            y: this.y,\n            target: this.target,\n            event: e\n        };\n\n        if (this.userEvents.notify(name, data)) {\n            e.preventDefault();\n        }\n    };\n\n    Touch.prototype._withinIgnoreThreshold = function _withinIgnoreThreshold () {\n        var xDelta = this.x.initialDelta,\n            yDelta = this.y.initialDelta;\n        return Math.sqrt(xDelta * xDelta + yDelta * yDelta) <= this.threshold;\n    };\n\n    return Touch;\n}(Class));\n\nfunction withEachUpEvent(callback) {\n    var downEvents = eventMap.up.split(' '),\n        idx = 0,\n        length = downEvents.length;\n\n    for (; idx < length; idx++) {\n        callback(downEvents[idx]);\n    }\n}\n\nvar UserEvents = (function (Observable) {\n    function UserEvents(element, options) {\n        Observable.call(this);\n        var that = this;\n        var filter;\n\n        var support = getSupportedFeatures();\n        this.support = support;\n\n        /* eslint-disable no-param-reassign */\n        options = options || {};\n        /* eslint-enable no-param-reassign */\n        this.options = options;\n\n        filter = that.filter = options.filter;\n        that.threshold = options.threshold || DEFAULT_THRESHOLD;\n        that.minHold = options.minHold || DEFAULT_MIN_HOLD;\n        that.touches = [];\n        that._maxTouches = options.multiTouch ? 2 : 1;\n        that.allowSelection = options.allowSelection;\n        that.captureUpIfMoved = options.captureUpIfMoved;\n        that._clicks = 0;\n        that.supportDoubleTap = options.supportDoubleTap;\n\n        extend$e(that, {\n            element: element,\n            surface: options.surface || element,\n            stopPropagation: options.stopPropagation,\n            pressed: false\n        });\n\n        this._surfaceMoveHandler = this._move.bind(this);\n        on(that.surface, applyEventMap('move'), this._surfaceMoveHandler);\n\n        this._surfaceEndHandler = this._end.bind(this);\n        on(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);\n\n        this._elementStartHandler = this._start.bind(this);\n        on(element, applyEventMap('down'), filter, this._elementStartHandler);\n\n        element.style['touch-action'] = options.touchAction || 'none';\n\n        if (options.preventDragEvent) {\n            this._elementDragStartHandler = preventDefault$1;\n            on(element, applyEventMap('dragstart'), this._elementDragStartHandler);\n        }\n\n        // element.on(kendo.applyEventMap('mousedown'), filter, {\n        //     root: element\n        // } '_select');\n\n        // todo: use root\n        this._elementSelectHandler = this._select.bind(this);\n        on(element, applyEventMap('mousedown'), filter, this._elementSelectHandler);\n\n        if (that.captureUpIfMoved) {\n            var surfaceElement = that.surface,\n                preventIfMovingProxy = that.preventIfMoving.bind(that);\n\n            withEachUpEvent(function(eventName) {\n                surfaceElement.addEventListener(eventName, preventIfMovingProxy, true);\n            });\n        }\n\n        that.bind([\n            PRESS,\n            HOLD,\n            TAP,\n            DOUBLETAP,\n            START,\n            MOVE,\n            END,\n            RELEASE,\n            CANCEL,\n            GESTURESTART,\n            GESTURECHANGE,\n            GESTUREEND,\n            GESTURETAP,\n            SELECT$1\n        ], options);\n    }\n\n    if ( Observable ) UserEvents.__proto__ = Observable;\n    UserEvents.prototype = Object.create( Observable && Observable.prototype );\n    UserEvents.prototype.constructor = UserEvents;\n\n    UserEvents.prototype.preventIfMoving = function preventIfMoving (e) {\n        if (this._isMoved()) {\n            e.preventDefault();\n        }\n    };\n\n    UserEvents.prototype.destroy = function destroy () {\n        var that = this;\n        var options = this.options;\n        var element = this.element;\n\n        if (that._destroyed) {\n            return;\n        }\n\n        that._destroyed = true;\n\n        if (that.captureUpIfMoved) {\n            var surfaceElement = that.surface;\n            withEachUpEvent(function(eventName) {\n                surfaceElement.removeEventListener(eventName, that.preventIfMoving);\n            });\n        }\n\n        off(that.surface, applyEventMap('move'), this._surfaceMoveHandler);\n        off(that.surface, applyEventMap('up cancel'), this._surfaceEndHandler);\n\n        off(element, applyEventMap('down'), this._elementStartHandler);\n\n        if (options.preventDragEvent) {\n            off(element, applyEventMap('dragstart'), this._elementDragStartHandler);\n        }\n\n        off(element, applyEventMap('mousedown'), this._elementSelectHandler);\n\n        that._disposeAll();\n        that.unbind();\n\n        delete that.surface;\n        delete that.element;\n        delete that.currentTarget;\n    };\n\n    UserEvents.prototype.capture = function capture () {\n        UserEvents.current = this;\n    };\n\n    UserEvents.prototype.cancel = function cancel () {\n        this._disposeAll();\n        this.trigger(CANCEL);\n    };\n\n    UserEvents.prototype.notify = function notify (event, data) {\n        var that = this,\n            touches = that.touches;\n        var eventName = event;\n\n        if (this._isMultiTouch()) {\n            switch (eventName) {\n                case MOVE:\n                    eventName = GESTURECHANGE;\n                    break;\n                case END:\n                    eventName = GESTUREEND;\n                    break;\n                case TAP:\n                    eventName = GESTURETAP;\n                    break;\n                default:\n                    break;\n            }\n\n            extend$e(data, {\n                touches: touches\n            }, touchDelta(touches[0], touches[1]));\n        }\n\n        return this.trigger(eventName, extend$e(data, {\n            type: eventName\n        }));\n    };\n\n    UserEvents.prototype.press = function press (x, y, target) {\n        this._apiCall('_start', x, y, target);\n    };\n\n    UserEvents.prototype.move = function move (x, y) {\n        this._apiCall('_move', x, y);\n    };\n\n    UserEvents.prototype.end = function end (x, y) {\n        this._apiCall('_end', x, y);\n    };\n\n    UserEvents.prototype._isMultiTouch = function _isMultiTouch () {\n        return this.touches.length > 1;\n    };\n\n    UserEvents.prototype._maxTouchesReached = function _maxTouchesReached () {\n        return this.touches.length >= this._maxTouches;\n    };\n\n    UserEvents.prototype._disposeAll = function _disposeAll () {\n        var touches = this.touches;\n        while (touches.length > 0) {\n            touches.pop().dispose();\n        }\n    };\n\n    UserEvents.prototype._isMoved = function _isMoved () {\n        return grep(this.touches, function(touch) {\n            return touch.isMoved();\n        }).length;\n    };\n\n    UserEvents.prototype._select = function _select (e) {\n        if (!this.allowSelection || this.trigger(SELECT$1, { event: e })) {\n            e.preventDefault();\n        }\n    };\n\n    UserEvents.prototype._start = function _start (e) {\n        var this$1$1 = this;\n\n        if (e.which && e.which > 1 || this._maxTouchesReached()) {\n            return;\n        }\n\n        UserEvents.current = null;\n        this.currentTarget = e.currentTarget;\n\n        if (this.stopPropagation) {\n            e.stopPropagation();\n        }\n\n        var target;\n        var eventTouches = getTouches(e);\n        for (var idx = 0; idx < eventTouches.length; idx++) {\n            if (this$1$1._maxTouchesReached()) {\n                break;\n            }\n\n            var eventTouch = eventTouches[idx];\n            if (this$1$1.filter) {\n                target = eventTouch.currentTarget;\n            } else {\n                target = this$1$1.element;\n            }\n\n            if (target && target.length === 0) {\n                continue;\n            }\n\n            var touch = new Touch(this$1$1, target, eventTouch);\n            this$1$1.touches.push(touch);\n            touch.press();\n\n            if (this$1$1._isMultiTouch()) {\n                this$1$1.notify('gesturestart', {});\n            }\n        }\n    };\n\n    UserEvents.prototype._move = function _move (e) {\n        this._eachTouch('move', e);\n    };\n\n    UserEvents.prototype._end = function _end (e) {\n        this._eachTouch('end', e);\n    };\n\n    UserEvents.prototype._eachTouch = function _eachTouch (methodName, e) {\n        var this$1$1 = this;\n\n        var that = this,\n            dict = {},\n            touches = getTouches(e),\n            activeTouches = that.touches,\n            idx,\n            touch,\n            touchInfo,\n            matchingTouch;\n\n        for (idx = 0; idx < activeTouches.length; idx++) {\n            touch = activeTouches[idx];\n            dict[touch.id] = touch;\n        }\n\n        for (idx = 0; idx < touches.length; idx++) {\n            touchInfo = touches[idx];\n            matchingTouch = dict[touchInfo.id];\n\n            if (matchingTouch) {\n                var shouldCapture = methodName === 'move' && touchInfo.type === 'pointer' && !this$1$1.surface.hasPointerCapture(touchInfo.id);\n                if (shouldCapture) {\n                    this$1$1.surface.setPointerCapture(touchInfo.id);\n                }\n\n                matchingTouch[methodName](touchInfo);\n            }\n        }\n    };\n\n    UserEvents.prototype._apiCall = function _apiCall (type, x, y, target) {\n        this[type]({\n            api: true,\n            pageX: x,\n            pageY: y,\n            clientX: x,\n            clientY: y,\n            target: target || this.element,\n            stopPropagation: noop,\n            preventDefault: noop\n        });\n    };\n\n    UserEvents.defaultThreshold = function defaultThreshold (value) {\n        DEFAULT_THRESHOLD = value;\n    };\n\n    UserEvents.minHold = function minHold (value) {\n        DEFAULT_MIN_HOLD = value;\n    };\n\n    return UserEvents;\n}(Observable));\n\nfunction autoMajorUnit(min, max) {\n    var diff = round$1(max - min, DEFAULT_PRECISION - 1);\n\n    if (diff === 0) {\n        if (max === 0) {\n            return 0.1;\n        }\n\n        diff = Math.abs(max);\n    }\n\n    var scale = Math.pow(10, Math.floor(Math.log(diff) / Math.log(10)));\n    var relativeValue = round$1((diff / scale), DEFAULT_PRECISION);\n    var scaleMultiplier = 1;\n\n    if (relativeValue < 1.904762) {\n        scaleMultiplier = 0.2;\n    } else if (relativeValue < 4.761904) {\n        scaleMultiplier = 0.5;\n    } else if (relativeValue < 9.523809) {\n        scaleMultiplier = 1;\n    } else {\n        scaleMultiplier = 2;\n    }\n\n    return round$1(scale * scaleMultiplier, DEFAULT_PRECISION);\n}\n\nvar Point$5 = (function (Class) {\n    function Point(x, y) {\n        Class.call(this);\n\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n\n    if ( Class ) Point.__proto__ = Class;\n    Point.prototype = Object.create( Class && Class.prototype );\n    Point.prototype.constructor = Point;\n\n    Point.prototype.clone = function clone () {\n        return new Point(this.x, this.y);\n    };\n\n    Point.prototype.equals = function equals (point) {\n        return point && this.x === point.x && this.y === point.y;\n    };\n\n    Point.prototype.rotate = function rotate (center, degrees) {\n        var theta = rad(degrees);\n        var cosT = Math.cos(theta);\n        var sinT = Math.sin(theta);\n        var cx = center.x;\n        var cy = center.y;\n        var ref = this;\n        var x = ref.x;\n        var y = ref.y;\n\n        this.x = round$1(\n            cx + (x - cx) * cosT + (y - cy) * sinT,\n            COORD_PRECISION\n        );\n\n        this.y = round$1(\n            cy + (y - cy) * cosT - (x - cx) * sinT,\n            COORD_PRECISION\n        );\n\n        return this;\n    };\n\n    Point.prototype.multiply = function multiply (a) {\n\n        this.x *= a;\n        this.y *= a;\n\n        return this;\n    };\n\n    Point.prototype.distanceTo = function distanceTo (point) {\n        var dx = this.x - point.x;\n        var dy = this.y - point.y;\n\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n\n    Point.onCircle = function onCircle (center, angle, radius) {\n        var radians = rad(angle);\n\n        return new Point(\n            center.x - radius * Math.cos(radians),\n            center.y - radius * Math.sin(radians)\n        );\n    };\n\n    return Point;\n}(Class));\n\nvar Box = (function (Class) {\n    function Box(x1, y1, x2, y2) {\n        Class.call(this);\n\n        this.x1 = x1 || 0;\n        this.y1 = y1 || 0;\n        this.x2 = x2 || 0;\n        this.y2 = y2 || 0;\n    }\n\n    if ( Class ) Box.__proto__ = Class;\n    Box.prototype = Object.create( Class && Class.prototype );\n    Box.prototype.constructor = Box;\n\n    Box.prototype.equals = function equals (box) {\n        return this.x1 === box.x1 && this.x2 === box.x2 &&\n            this.y1 === box.y1 && this.y2 === box.y2;\n    };\n\n    Box.prototype.width = function width () {\n        return this.x2 - this.x1;\n    };\n\n    Box.prototype.height = function height () {\n        return this.y2 - this.y1;\n    };\n\n    Box.prototype.translate = function translate (dx, dy) {\n        this.x1 += dx;\n        this.x2 += dx;\n        this.y1 += dy;\n        this.y2 += dy;\n\n        return this;\n    };\n\n    Box.prototype.move = function move (x, y) {\n        var height = this.height();\n        var width = this.width();\n\n        if (defined(x)) {\n            this.x1 = x;\n            this.x2 = this.x1 + width;\n        }\n\n        if (defined(y)) {\n            this.y1 = y;\n            this.y2 = this.y1 + height;\n        }\n\n        return this;\n    };\n\n    Box.prototype.wrap = function wrap (targetBox) {\n        this.x1 = Math.min(this.x1, targetBox.x1);\n        this.y1 = Math.min(this.y1, targetBox.y1);\n        this.x2 = Math.max(this.x2, targetBox.x2);\n        this.y2 = Math.max(this.y2, targetBox.y2);\n\n        return this;\n    };\n\n    Box.prototype.wrapPoint = function wrapPoint (point) {\n        var arrayPoint = isArray(point);\n        var x = arrayPoint ? point[0] : point.x;\n        var y = arrayPoint ? point[1] : point.y;\n        this.wrap(new Box(x, y, x, y));\n\n        return this;\n    };\n\n    Box.prototype.snapTo = function snapTo (targetBox, axis) {\n\n        if (axis === X || !axis) {\n            this.x1 = targetBox.x1;\n            this.x2 = targetBox.x2;\n        }\n\n        if (axis === Y || !axis) {\n            this.y1 = targetBox.y1;\n            this.y2 = targetBox.y2;\n        }\n\n        return this;\n    };\n\n    Box.prototype.alignTo = function alignTo (targetBox, anchor) {\n        var height = this.height();\n        var width = this.width();\n        var axis = anchor === TOP || anchor === BOTTOM$1 ? Y : X;\n        var offset = axis === Y ? height : width;\n\n        if (anchor === CENTER) {\n            var targetCenter = targetBox.center();\n            var center = this.center();\n\n            this.x1 += targetCenter.x - center.x;\n            this.y1 += targetCenter.y - center.y;\n        } else if (anchor === TOP || anchor === LEFT) {\n            this[axis + 1] = targetBox[axis + 1] - offset;\n        } else {\n            this[axis + 1] = targetBox[axis + 2];\n        }\n\n        this.x2 = this.x1 + width;\n        this.y2 = this.y1 + height;\n\n        return this;\n    };\n\n    Box.prototype.shrink = function shrink (dw, dh) {\n\n        this.x2 -= dw;\n        this.y2 -= dh;\n\n        return this;\n    };\n\n    Box.prototype.expand = function expand (dw, dh) {\n        this.shrink(-dw, -dh);\n        return this;\n    };\n\n    Box.prototype.pad = function pad (padding) {\n        var spacing = getSpacing(padding);\n\n        this.x1 -= spacing.left;\n        this.x2 += spacing.right;\n        this.y1 -= spacing.top;\n        this.y2 += spacing.bottom;\n\n        return this;\n    };\n\n    Box.prototype.unpad = function unpad (padding) {\n        var spacing = getSpacing(padding);\n\n        spacing.left = -spacing.left;\n        spacing.top = -spacing.top;\n        spacing.right = -spacing.right;\n        spacing.bottom = -spacing.bottom;\n\n        return this.pad(spacing);\n    };\n\n    Box.prototype.clone = function clone () {\n        return new Box(this.x1, this.y1, this.x2, this.y2);\n    };\n\n    Box.prototype.center = function center () {\n        return new Point$5(\n            this.x1 + this.width() / 2,\n            this.y1 + this.height() / 2\n        );\n    };\n\n    Box.prototype.containsPoint = function containsPoint (point) {\n\n        return point.x >= this.x1 && point.x <= this.x2 &&\n               point.y >= this.y1 && point.y <= this.y2;\n    };\n\n    Box.prototype.points = function points () {\n        return [\n            new Point$5(this.x1, this.y1),\n            new Point$5(this.x2, this.y1),\n            new Point$5(this.x2, this.y2),\n            new Point$5(this.x1, this.y2)\n        ];\n    };\n\n    Box.prototype.getHash = function getHash () {\n        return [ this.x1, this.y1, this.x2, this.y2 ].join(\",\");\n    };\n\n    Box.prototype.overlaps = function overlaps (box) {\n        return !(box.y2 < this.y1 || this.y2 < box.y1 || box.x2 < this.x1 || this.x2 < box.x1);\n    };\n\n    Box.prototype.rotate = function rotate (rotation) {\n        var width = this.width();\n        var height = this.height();\n        var ref = this.center();\n        var cx = ref.x;\n        var cy = ref.y;\n\n        var r1 = rotatePoint(0, 0, cx, cy, rotation);\n        var r2 = rotatePoint(width, 0, cx, cy, rotation);\n        var r3 = rotatePoint(width, height, cx, cy, rotation);\n        var r4 = rotatePoint(0, height, cx, cy, rotation);\n\n        width = Math.max(r1.x, r2.x, r3.x, r4.x) - Math.min(r1.x, r2.x, r3.x, r4.x);\n        height = Math.max(r1.y, r2.y, r3.y, r4.y) - Math.min(r1.y, r2.y, r3.y, r4.y);\n\n        this.x2 = this.x1 + width;\n        this.y2 = this.y1 + height;\n\n        return this;\n    };\n\n    Box.prototype.toRect = function toRect () {\n        return new Rect([ this.x1, this.y1 ], [ this.width(), this.height() ]);\n    };\n\n    Box.prototype.hasSize = function hasSize () {\n        return this.width() !== 0 && this.height() !== 0;\n    };\n\n    Box.prototype.align = function align (targetBox, axis, alignment) {\n        var c1 = axis + 1;\n        var c2 = axis + 2;\n        var sizeFunc = axis === X ? WIDTH : HEIGHT;\n        var size = this[sizeFunc]();\n\n        if (inArray(alignment, [ LEFT, TOP ])) {\n            this[c1] = targetBox[c1];\n            this[c2] = this[c1] + size;\n        } else if (inArray(alignment, [ RIGHT, BOTTOM$1 ])) {\n            this[c2] = targetBox[c2];\n            this[c1] = this[c2] - size;\n        } else if (alignment === CENTER) {\n            this[c1] = targetBox[c1] + (targetBox[sizeFunc]() - size) / 2;\n            this[c2] = this[c1] + size;\n        }\n    };\n\n    return Box;\n}(Class));\n\nfunction rotatePoint(x, y, cx, cy, angle) {\n    var theta = rad(angle);\n\n    return new Point$5(\n        cx + (x - cx) * Math.cos(theta) + (y - cy) * Math.sin(theta),\n        cy - (x - cx) * Math.sin(theta) + (y - cy) * Math.cos(theta)\n    );\n}\n\nvar Ring = (function (Class) {\n    function Ring(center, innerRadius, radius, startAngle, angle) {\n        Class.call(this);\n\n        this.center = center;\n        this.innerRadius = innerRadius;\n        this.radius = radius;\n        this.startAngle = startAngle;\n        this.angle = angle;\n    }\n\n    if ( Class ) Ring.__proto__ = Class;\n    Ring.prototype = Object.create( Class && Class.prototype );\n    Ring.prototype.constructor = Ring;\n\n    Ring.prototype.clone = function clone () {\n        return new Ring(this.center, this.innerRadius, this.radius, this.startAngle, this.angle);\n    };\n\n    Ring.prototype.middle = function middle () {\n        return this.startAngle + this.angle / 2;\n    };\n\n    Ring.prototype.setRadius = function setRadius (newRadius, innerRadius) {\n        if (innerRadius) {\n            this.innerRadius = newRadius;\n        } else {\n            this.radius = newRadius;\n        }\n\n        return this;\n    };\n\n    // TODO: Remove and replace with Point.onCircle\n    Ring.prototype.point = function point (angle, innerRadius) {\n        var radianAngle = rad(angle);\n        var ax = Math.cos(radianAngle);\n        var ay = Math.sin(radianAngle);\n        var radius = innerRadius ? this.innerRadius : this.radius;\n        var x = round$1(this.center.x - (ax * radius), COORD_PRECISION);\n        var y = round$1(this.center.y - (ay * radius), COORD_PRECISION);\n\n        return new Point$5(x, y);\n    };\n\n    Ring.prototype.adjacentBox = function adjacentBox (distance, width, height) {\n        var sector = this.clone().expand(distance);\n        var midAndle = sector.middle();\n        var midPoint = sector.point(midAndle);\n        var hw = width / 2;\n        var hh = height / 2;\n        var sa = Math.sin(rad(midAndle));\n        var ca = Math.cos(rad(midAndle));\n        var x = midPoint.x - hw;\n        var y = midPoint.y - hh;\n\n        if (Math.abs(sa) < 0.9) {\n            x += hw * -ca / Math.abs(ca);\n        }\n\n        if (Math.abs(ca) < 0.9) {\n            y += hh * -sa / Math.abs(sa);\n        }\n\n        return new Box(x, y, x + width, y + height);\n    };\n\n    Ring.prototype.containsPoint = function containsPoint (p) {\n        var center = this.center;\n        var innerRadius = this.innerRadius;\n        var radius = this.radius;\n        var startAngle = this.startAngle;\n        var endAngle = this.startAngle + this.angle;\n        var dx = p.x - center.x;\n        var dy = p.y - center.y;\n        var vector = new Point$5(dx, dy);\n        var startPoint = this.point(startAngle);\n        var startVector = new Point$5(startPoint.x - center.x, startPoint.y - center.y);\n        var endPoint = this.point(endAngle);\n        var endVector = new Point$5(endPoint.x - center.x, endPoint.y - center.y);\n        var dist = round$1(dx * dx + dy * dy, COORD_PRECISION);\n\n        return (startVector.equals(vector) || clockwise(startVector, vector)) &&\n               !clockwise(endVector, vector) &&\n               dist >= innerRadius * innerRadius && dist <= radius * radius;\n    };\n\n    Ring.prototype.getBBox = function getBBox () {\n        var this$1$1 = this;\n\n        var box = new Box(MAX_VALUE, MAX_VALUE, MIN_VALUE, MIN_VALUE);\n        var startAngle = round$1(this.startAngle % 360);\n        var endAngle = round$1((startAngle + this.angle) % 360);\n        var innerRadius = this.innerRadius;\n        var allAngles = [ 0, 90, 180, 270, startAngle, endAngle ].sort(numericComparer);\n        var startAngleIndex = allAngles.indexOf(startAngle);\n        var endAngleIndex = allAngles.indexOf(endAngle);\n        var angles;\n\n        if (startAngle === endAngle) {\n            angles = allAngles;\n        } else {\n            if (startAngleIndex < endAngleIndex) {\n                angles = allAngles.slice(startAngleIndex, endAngleIndex + 1);\n            } else {\n                angles = [].concat(\n                    allAngles.slice(0, endAngleIndex + 1),\n                    allAngles.slice(startAngleIndex, allAngles.length)\n                );\n            }\n        }\n\n        for (var i = 0; i < angles.length; i++) {\n            var point = this$1$1.point(angles[i]);\n            box.wrapPoint(point);\n            box.wrapPoint(point, innerRadius);\n        }\n\n        if (!innerRadius) {\n            box.wrapPoint(this.center);\n        }\n\n        return box;\n    };\n\n    Ring.prototype.expand = function expand (value) {\n        this.radius += value;\n        return this;\n    };\n\n    return Ring;\n}(Class));\n\nfunction numericComparer(a, b) {\n    return a - b;\n}\n\nvar Sector = (function (Ring) {\n    function Sector(center, radius, startAngle, angle) {\n        Ring.call(this, center, 0, radius, startAngle, angle);\n    }\n\n    if ( Ring ) Sector.__proto__ = Ring;\n    Sector.prototype = Object.create( Ring && Ring.prototype );\n    Sector.prototype.constructor = Sector;\n\n    Sector.prototype.expand = function expand (value) {\n        return Ring.prototype.expand.call(this, value);\n    };\n\n    Sector.prototype.clone = function clone () {\n        return new Sector(this.center, this.radius, this.startAngle, this.angle);\n    };\n\n    Sector.prototype.setRadius = function setRadius (newRadius) {\n        this.radius = newRadius;\n\n        return this;\n    };\n\n    return Sector;\n}(Ring));\n\nvar DIRECTION_ANGLE = 0.001; //any value that will make the endAngle bigger than the start angle will work here.\n\nvar ShapeBuilder = (function (Class) {\n    function ShapeBuilder () {\n        Class.apply(this, arguments);\n    }\n\n    if ( Class ) ShapeBuilder.__proto__ = Class;\n    ShapeBuilder.prototype = Object.create( Class && Class.prototype );\n    ShapeBuilder.prototype.constructor = ShapeBuilder;\n\n    ShapeBuilder.prototype.createRing = function createRing (sector, options) {\n        var startAngle = sector.startAngle + 180;\n        var endAngle = sector.angle + startAngle;\n\n        //required in order to avoid reversing the arc direction in cases like 0.000000000000001 + 100 === 100\n        if (sector.angle === 0 || sector.angle > 0 && startAngle === endAngle) {\n            endAngle += DIRECTION_ANGLE;\n        }\n\n        var center = new Point$6(sector.center.x, sector.center.y);\n        var radius = Math.max(sector.radius, 0);\n        var innerRadius = Math.max(sector.innerRadius, 0);\n        var arc = new Arc$1(center, {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: radius,\n            radiusY: radius\n        });\n        var path = Path$7.fromArc(arc, options).close();\n\n        if (innerRadius) {\n            arc.radiusX = arc.radiusY = innerRadius;\n            var innerEnd = arc.pointAt(endAngle);\n            path.lineTo(innerEnd.x, innerEnd.y);\n            path.arc(endAngle, startAngle, innerRadius, innerRadius, true);\n        } else {\n            path.lineTo(center.x, center.y);\n        }\n\n        return path;\n    };\n\n    return ShapeBuilder;\n}(Class));\n\nShapeBuilder.current = new ShapeBuilder();\n\nvar ChartElement = (function (Class) {\n    function ChartElement(options) {\n        Class.call(this);\n\n        this.children = [];\n\n        this.options = deepExtend({}, this.options, this.initUserOptions(options));\n    }\n\n    if ( Class ) ChartElement.__proto__ = Class;\n    ChartElement.prototype = Object.create( Class && Class.prototype );\n    ChartElement.prototype.constructor = ChartElement;\n\n    ChartElement.prototype.initUserOptions = function initUserOptions (options) {\n        return options;\n    };\n\n    ChartElement.prototype.reflow = function reflow (targetBox) {\n        var children = this.children;\n        var box;\n\n        for (var i = 0; i < children.length; i++) {\n            var currentChild = children[i];\n            currentChild.reflow(targetBox);\n\n            box = box ? box.wrap(currentChild.box) : currentChild.box.clone();\n        }\n\n        this.box = box || targetBox;\n    };\n\n    ChartElement.prototype.destroy = function destroy () {\n        var children = this.children;\n\n        if (this.animation) {\n            this.animation.destroy();\n        }\n\n        for (var i = 0; i < children.length; i++) {\n            children[i].destroy();\n        }\n    };\n\n    ChartElement.prototype.getRoot = function getRoot () {\n        var parent = this.parent;\n\n        return parent ? parent.getRoot() : null;\n    };\n\n    ChartElement.prototype.getSender = function getSender () {\n        var service = this.getService();\n        if (service) {\n            return service.sender;\n        }\n    };\n\n    ChartElement.prototype.getService = function getService () {\n        var element = this;\n        while (element) {\n            if (element.chartService) {\n                return element.chartService;\n            }\n            element = element.parent;\n        }\n    };\n\n    ChartElement.prototype.translateChildren = function translateChildren (dx, dy) {\n        var children = this.children;\n        var childrenCount = children.length;\n\n        for (var i = 0; i < childrenCount; i++) {\n            children[i].box.translate(dx, dy);\n        }\n    };\n\n    ChartElement.prototype.append = function append () {\n        var arguments$1 = arguments;\n        var this$1$1 = this;\n\n        for (var i = 0; i < arguments.length; i++) {\n            var item = arguments$1[i];\n            this$1$1.children.push(item);\n            item.parent = this$1$1;\n        }\n    };\n\n    ChartElement.prototype.renderVisual = function renderVisual () {\n        if (this.options.visible === false) {\n            return;\n        }\n\n        this.createVisual();\n\n        this.addVisual();\n\n        this.renderChildren();\n\n        this.createAnimation();\n        this.renderComplete();\n    };\n\n    ChartElement.prototype.addVisual = function addVisual () {\n        if (this.visual) {\n            this.visual.chartElement = this;\n\n            if (this.parent) {\n                this.parent.appendVisual(this.visual);\n            }\n        }\n    };\n\n    ChartElement.prototype.renderChildren = function renderChildren () {\n        var children = this.children;\n        var length = children.length;\n        for (var i = 0; i < length; i++) {\n            children[i].renderVisual();\n        }\n    };\n\n    ChartElement.prototype.createVisual = function createVisual () {\n        this.visual = new Group$8({\n            zIndex: this.options.zIndex,\n            visible: valueOrDefault(this.options.visible, true)\n        });\n    };\n\n    ChartElement.prototype.createAnimation = function createAnimation () {\n        if (this.visual && this.options.animation) {\n            this.animation = Animation$1.create(\n                this.visual, this.options.animation\n            );\n        }\n    };\n\n    ChartElement.prototype.appendVisual = function appendVisual (childVisual) {\n        if (!childVisual.chartElement) {\n            childVisual.chartElement = this;\n        }\n\n        if (childVisual.options.noclip) {\n            this.clipRoot().visual.append(childVisual);\n        } else if (defined(childVisual.options.zIndex)) {\n            this.stackRoot().stackVisual(childVisual);\n        } else if (this.isStackRoot) {\n            this.stackVisual(childVisual);\n        } else if (this.visual) {\n            this.visual.append(childVisual);\n        } else {\n            // Allow chart elements without visuals to\n            // pass through child visuals\n            this.parent.appendVisual(childVisual);\n        }\n    };\n\n    ChartElement.prototype.clipRoot = function clipRoot () {\n        if (this.parent) {\n            return this.parent.clipRoot();\n        }\n\n        return this;\n    };\n\n    ChartElement.prototype.stackRoot = function stackRoot () {\n        if (this.parent) {\n            return this.parent.stackRoot();\n        }\n\n        return this;\n    };\n\n    ChartElement.prototype.stackVisual = function stackVisual (childVisual) {\n        var zIndex = childVisual.options.zIndex || 0;\n        var visuals = this.visual.children;\n        var length = visuals.length;\n        var pos;\n\n        for (pos = 0; pos < length; pos++) {\n            var sibling = visuals[pos];\n            var here = valueOrDefault(sibling.options.zIndex, 0);\n            if (here > zIndex) {\n                break;\n            }\n        }\n\n        this.visual.insert(pos, childVisual);\n    };\n\n    ChartElement.prototype.traverse = function traverse (callback) {\n        var children = this.children;\n        var length = children.length;\n\n        for (var i = 0; i < length; i++) {\n            var child = children[i];\n\n            callback(child);\n            if (child.traverse) {\n                child.traverse(callback);\n            }\n        }\n    };\n\n    ChartElement.prototype.closest = function closest (match) {\n        var element = this;\n        var matched = false;\n\n        while (element && !matched) {\n            matched = match(element);\n\n            if (!matched) {\n                element = element.parent;\n            }\n        }\n\n        if (matched) {\n            return element;\n        }\n    };\n\n    ChartElement.prototype.renderComplete = function renderComplete () {};\n\n    ChartElement.prototype.hasHighlight = function hasHighlight () {\n        var options = (this.options || {}).highlight;\n        return !(!this.createHighlight || (options && options.visible === false) || this.visible === false);\n    };\n\n    ChartElement.prototype.toggleHighlight = function toggleHighlight (show, opacity) {\n        var this$1$1 = this;\n\n        var options = (this.options || {}).highlight || {};\n        var customVisual = options.visual;\n        var highlight = this._highlight;\n\n        if (!highlight) {\n            var highlightOptions = {\n                fill: {\n                    color: WHITE$1,\n                    opacity: opacity || 0.2\n                },\n                stroke: {\n                    color: WHITE$1,\n                    width: 1,\n                    opacity: opacity || 0.2\n                }\n            };\n\n            if (customVisual) {\n                highlight = this._highlight = customVisual(\n                    Object.assign(this.highlightVisualArgs(), {\n                        createVisual: function () { return this$1$1.createHighlight(highlightOptions); },\n                        sender: this.getSender(),\n                        series: this.series,\n                        dataItem: this.dataItem,\n                        category: this.category,\n                        value: this.value,\n                        percentage: this.percentage,\n                        runningTotal: this.runningTotal,\n                        total: this.total\n                    })\n                );\n\n                if (!highlight) {\n                    return;\n                }\n            } else {\n                highlight = this._highlight = this.createHighlight(highlightOptions);\n            }\n\n            if (!defined(highlight.options.zIndex)) {\n                highlight.options.zIndex = valueOrDefault(options.zIndex, this.options.zIndex);\n            }\n\n            this.appendVisual(highlight);\n        }\n\n        highlight.visible(show);\n    };\n\n    ChartElement.prototype.toggleFocusHighlight = function toggleFocusHighlight (show) {\n        var options = ((this.options || {}).accessibility || {}).highlight || {};\n        var focusHighlight = this._focusHighlight;\n\n        if (!show && !focusHighlight) {\n            return;\n        }\n\n        if (!focusHighlight) {\n            var rootBackground = this.getRoot().options.background;\n            var highlightColor = autoTextColor(rootBackground);\n            var focusHighlightOptions = {\n                fill: {\n                    opacity: options.opacity,\n                    color: options.color\n                },\n                stroke: Object.assign({}, {color: highlightColor}, options.border),\n                zIndex: options.zIndex\n            };\n\n            focusHighlight = this._focusHighlight = this.createFocusHighlight(focusHighlightOptions);\n\n            this.appendVisual(focusHighlight);\n        }\n\n        focusHighlight.visible(show);\n    };\n\n    ChartElement.prototype.createGradientOverlay = function createGradientOverlay (element, options, gradientOptions) {\n        var overlay = new Path$7(Object.assign({\n            stroke: {\n                color: \"none\"\n            },\n            fill: this.createGradient(gradientOptions),\n            closed: element.options.closed\n        }, options));\n\n        overlay.segments.elements(element.segments.elements());\n\n        return overlay;\n    };\n\n    ChartElement.prototype.createGradient = function createGradient (options) {\n        if (this.parent) {\n            return this.parent.createGradient(options);\n        }\n    };\n\n    ChartElement.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {\n        return true;\n    };\n\n    return ChartElement;\n}(Class));\n\nChartElement.prototype.options = { };\n\nvar dotsPattern = dotsPattern$1;\nvar verticalStripesPattern = verticalStripesPattern$1;\nvar crosshatchPattern = crosshatchPattern$1;\nvar diagonalStripesPattern = diagonalStripesPattern$1;\nvar gridPattern = gridPattern$1;\n\nvar patternMap = {\n    dots: dotsPattern,\n    verticalStripes: verticalStripesPattern,\n    crosshatch: crosshatchPattern,\n    diagonalStripes: diagonalStripesPattern,\n    grid: gridPattern\n};\n\nfunction evaluatePattern(options, point) {\n    return isFunction(options) ? options(point) : options;\n}\n\nfunction createPatternFill(options, fill, point) {\n    var patternOptions = evaluatePattern(options, point);\n    var pattern = patternOptions && patternMap[patternOptions.type];\n\n    return pattern ? pattern(Object.assign({}, fill, patternOptions)) : fill;\n}\n\nvar BoxElement = (function (ChartElement) {\n    function BoxElement(options) {\n        ChartElement.call(this, options);\n\n        this.options.margin = getSpacing(this.options.margin);\n        this.options.padding = getSpacing(this.options.padding);\n    }\n\n    if ( ChartElement ) BoxElement.__proto__ = ChartElement;\n    BoxElement.prototype = Object.create( ChartElement && ChartElement.prototype );\n    BoxElement.prototype.constructor = BoxElement;\n\n    BoxElement.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var width = options.width;\n        var height = options.height;\n        var shrinkToFit = options.shrinkToFit;\n        var hasSetSize = width && height;\n        var margin = options.margin;\n        var padding = options.padding;\n        var borderWidth = options.border.width;\n        var box;\n\n        var reflowPaddingBox = function () {\n            this$1$1.align(targetBox, X, options.align);\n            this$1$1.align(targetBox, Y, options.vAlign);\n            this$1$1.paddingBox = box.clone().unpad(margin).unpad(borderWidth);\n        };\n\n        var contentBox = targetBox.clone();\n        if (hasSetSize) {\n            contentBox.x2 = contentBox.x1 + width;\n            contentBox.y2 = contentBox.y1 + height;\n        }\n\n        if (shrinkToFit) {\n            contentBox.unpad(margin).unpad(borderWidth).unpad(padding);\n        }\n\n        ChartElement.prototype.reflow.call(this, contentBox);\n\n        if (hasSetSize) {\n            box = this.box = new Box(0, 0, width, height);\n        } else {\n            box = this.box;\n        }\n\n        if (shrinkToFit && hasSetSize) {\n            reflowPaddingBox();\n            contentBox = this.contentBox = this.paddingBox.clone().unpad(padding);\n        } else {\n            contentBox = this.contentBox = box.clone();\n            box.pad(padding).pad(borderWidth).pad(margin);\n            reflowPaddingBox();\n        }\n\n        this.translateChildren(\n            box.x1 - contentBox.x1 + margin.left + borderWidth + padding.left,\n            box.y1 - contentBox.y1 + margin.top + borderWidth + padding.top\n        );\n\n        var children = this.children;\n        for (var i = 0; i < children.length; i++) {\n            var item = children[i];\n            item.reflow(item.box);\n        }\n    };\n\n    BoxElement.prototype.align = function align (targetBox, axis, alignment) {\n        this.box.align(targetBox, axis, alignment);\n    };\n\n    BoxElement.prototype.hasBox = function hasBox () {\n        var options = this.options;\n        return options.border.width || options.background;\n    };\n\n    BoxElement.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        var options = this.options;\n        if (options.visible && this.hasBox()) {\n            this.visual.append(Path$7.fromRect(\n                this.paddingBox.toRect(),\n                this.visualStyle()\n            ));\n        }\n    };\n\n    BoxElement.prototype.visualStyle = function visualStyle () {\n        var options = this.options;\n        var border = options.border || {};\n\n        return {\n            stroke: {\n                width: border.width,\n                color: border.color,\n                opacity: valueOrDefault(border.opacity, options.opacity),\n                dashType: border.dashType\n            },\n            fill: createPatternFill(options.pattern, {\n                color: options.background,\n                opacity: options.opacity\n            }, undefined),\n            cursor: options.cursor\n        };\n    };\n\n    return BoxElement;\n}(ChartElement));\n\nsetDefaultOptions(BoxElement, {\n    align: LEFT,\n    vAlign: TOP,\n    margin: {},\n    padding: {},\n    border: {\n        color: BLACK$1,\n        width: 0\n    },\n    background: \"\",\n    shrinkToFit: false,\n    width: 0,\n    height: 0,\n    visible: true\n});\n\nfunction addAccessibilityAttributesToVisual(visual, accessibilityOptions) {\n    if (accessibilityOptions) {\n        visual.options.className = accessibilityOptions.className;\n        visual.options.role = accessibilityOptions.role;\n        visual.options.ariaLabel = accessibilityOptions.ariaLabel;\n        visual.options.ariaRoleDescription = accessibilityOptions.ariaRoleDescription;\n        visual.options.ariaChecked = accessibilityOptions.ariaChecked;\n    }\n}\n\nvar ShapeElement = (function (BoxElement) {\n    function ShapeElement(options, pointData) {\n        BoxElement.call(this, options);\n\n        this.pointData = pointData;\n    }\n\n    if ( BoxElement ) ShapeElement.__proto__ = BoxElement;\n    ShapeElement.prototype = Object.create( BoxElement && BoxElement.prototype );\n    ShapeElement.prototype.constructor = ShapeElement;\n\n    ShapeElement.prototype.getElement = function getElement () {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.paddingBox;\n        var type = options.type;\n        var rotation = options.rotation;\n        var center = box.center();\n        var halfWidth = box.width() / 2;\n        var halfHeight = box.height() / 2;\n\n        if (!options.visible || !this.hasBox()) {\n            return null;\n        }\n\n        var style = this.visualStyle();\n        var element;\n\n        if (type === CIRCLE) {\n            element = new Circle$1(\n                new Circle$2([\n                    round$1(box.x1 + halfWidth, COORD_PRECISION),\n                    round$1(box.y1 + halfHeight, COORD_PRECISION)\n                ], Math.min(halfWidth, halfHeight)),\n                style\n            );\n        } else if (type === TRIANGLE) {\n            element = Path$7.fromPoints([\n                [ box.x1 + halfWidth, box.y1 ],\n                [ box.x1, box.y2 ],\n                [ box.x2, box.y2 ]\n            ], style).close();\n        } else if (type === CROSS) {\n            element = new MultiPath(style);\n\n            element.moveTo(box.x1, box.y1).lineTo(box.x2, box.y2);\n            element.moveTo(box.x1, box.y2).lineTo(box.x2, box.y1);\n        } else {\n            var rect = box.toRect();\n            if (type === ROUNDED_RECT) {\n                var borderRadius = valueOrDefault(options.borderRadius, rect.width() / 5);\n                rect.setCornerRadius(borderRadius);\n            }\n\n            element = Path$7.fromRect(rect, style);\n        }\n\n        if (rotation) {\n            element.transform(transform()\n                .rotate(-rotation, [ center.x, center.y ])\n            );\n        }\n\n        element.options.zIndex = options.zIndex;\n\n        return element;\n    };\n\n    ShapeElement.prototype.createElement = function createElement () {\n        var this$1$1 = this;\n\n        var customVisual = this.options.visual;\n        var pointData = this.pointData || {};\n        var visual;\n\n        if (customVisual) {\n            visual = customVisual({\n                value: pointData.value,\n                dataItem: pointData.dataItem,\n                sender: this.getSender(),\n                series: pointData.series,\n                category: pointData.category,\n                rect: this.paddingBox.toRect(),\n                options: this.visualOptions(),\n                createVisual: function () { return this$1$1.getElement(); }\n            });\n        } else {\n            visual = this.getElement();\n        }\n\n        return visual;\n    };\n\n    ShapeElement.prototype.visualOptions = function visualOptions () {\n        var options = this.options;\n        return {\n            background: options.background,\n            border: options.border,\n            margin: options.margin,\n            padding: options.padding,\n            type: options.type,\n            size: options.width,\n            visible: options.visible\n        };\n    };\n\n    ShapeElement.prototype.createVisual = function createVisual () {\n        this.visual = this.createElement();\n\n        addAccessibilityAttributesToVisual(this.visual, this.options.accessibilityOptions);\n    };\n\n    return ShapeElement;\n}(BoxElement));\n\nsetDefaultOptions(ShapeElement, {\n    type: CIRCLE,\n    align: CENTER,\n    vAlign: CENTER\n});\n\nvar LINEAR$1 = \"linear\";\nvar RADIAL = \"radial\";\n\nvar GRADIENTS = {\n    glass: {\n        type: LINEAR$1,\n        rotation: 0,\n        stops: [ {\n            offset: 0,\n            color: WHITE$1,\n            opacity: 0\n        }, {\n            offset: 0.25,\n            color: WHITE$1,\n            opacity: 0.3\n        }, {\n            offset: 1,\n            color: WHITE$1,\n            opacity: 0\n        } ]\n    },\n    sharpBevel: {\n        type: RADIAL,\n        stops: [ {\n            offset: 0,\n            color: WHITE$1,\n            opacity: 0.55\n        }, {\n            offset: 0.65,\n            color: WHITE$1,\n            opacity: 0\n        }, {\n            offset: 0.95,\n            color: WHITE$1,\n            opacity: 0.25\n        } ]\n    },\n    roundedBevel: {\n        type: RADIAL,\n        stops: [ {\n            offset: 0.33,\n            color: WHITE$1,\n            opacity: 0.06\n        }, {\n            offset: 0.83,\n            color: WHITE$1,\n            opacity: 0.2\n        }, {\n            offset: 0.95,\n            color: WHITE$1,\n            opacity: 0\n        } ]\n    },\n    roundedGlass: {\n        type: RADIAL,\n        supportVML: false,\n        stops: [ {\n            offset: 0,\n            color: WHITE$1,\n            opacity: 0\n        }, {\n            offset: 0.5,\n            color: WHITE$1,\n            opacity: 0.3\n        }, {\n            offset: 0.99,\n            color: WHITE$1,\n            opacity: 0\n        } ]\n    },\n    sharpGlass: {\n        type: RADIAL,\n        supportVML: false,\n        stops: [ {\n            offset: 0,\n            color: WHITE$1,\n            opacity: 0.2\n        }, {\n            offset: 0.15,\n            color: WHITE$1,\n            opacity: 0.15\n        }, {\n            offset: 0.17,\n            color: WHITE$1,\n            opacity: 0.35\n        }, {\n            offset: 0.85,\n            color: WHITE$1,\n            opacity: 0.05\n        }, {\n            offset: 0.87,\n            color: WHITE$1,\n            opacity: 0.15\n        }, {\n            offset: 0.99,\n            color: WHITE$1,\n            opacity: 0\n        } ]\n    },\n    bubbleShadow: {\n        type: RADIAL,\n        center: [ 0.5, 0.5 ],\n        radius: 0.5\n    }\n};\n\nfunction boxDiff(r, s) {\n    if (r.x1 === s.x1 && r.y1 === s.y1 && r.x2 === s.x2 && r.y2 === s.y2) {\n        return s;\n    }\n\n    var a = Math.min(r.x1, s.x1);\n    var b = Math.max(r.x1, s.x1);\n    var c = Math.min(r.x2, s.x2);\n    var d = Math.max(r.x2, s.x2);\n    var e = Math.min(r.y1, s.y1);\n    var f = Math.max(r.y1, s.y1);\n    var g = Math.min(r.y2, s.y2);\n    var h = Math.max(r.y2, s.y2);\n    var boxes = [];\n\n    // X = intersection, 0-7 = possible difference areas\n    // h +-+-+-+\n    // . |5|6|7|\n    // g +-+-+-+\n    // . |3|X|4|\n    // f +-+-+-+\n    // . |0|1|2|\n    // e +-+-+-+\n    // . a b c d\n\n    // we'll always have rectangles 1, 3, 4 and 6\n    boxes[0] = new Box(b, e, c, f);\n    boxes[1] = new Box(a, f, b, g);\n    boxes[2] = new Box(c, f, d, g);\n    boxes[3] = new Box(b, g, c, h);\n\n    // decide which corners\n    if (r.x1 === a && r.y1 === e || s.x1 === a && s.y1 === e) { // corners 0 and 7\n        boxes[4] = new Box(a, e, b, f);\n        boxes[5] = new Box(c, g, d, h);\n    } else { // corners 2 and 5\n        boxes[4] = new Box(c, e, d, f);\n        boxes[5] = new Box(a, g, b, h);\n    }\n\n    return grep(boxes, function(box) {\n        return box.height() > 0 && box.width() > 0;\n    })[0];\n}\n\nvar RootElement = (function (ChartElement) {\n    function RootElement(options) {\n        ChartElement.call(this, options);\n\n        var rootOptions = this.options;\n        rootOptions.width = parseInt(rootOptions.width, 10);\n        rootOptions.height = parseInt(rootOptions.height, 10);\n\n        this.gradients = {};\n    }\n\n    if ( ChartElement ) RootElement.__proto__ = ChartElement;\n    RootElement.prototype = Object.create( ChartElement && ChartElement.prototype );\n    RootElement.prototype.constructor = RootElement;\n\n    RootElement.prototype.reflow = function reflow () {\n        var ref = this;\n        var options = ref.options;\n        var children = ref.children;\n        var currentBox = new Box(0, 0, options.width, options.height);\n\n        this.box = currentBox.unpad(options.margin);\n\n        for (var i = 0; i < children.length; i++) {\n            children[i].reflow(currentBox);\n            currentBox = boxDiff(currentBox, children[i].box) || new Box();\n        }\n    };\n\n    RootElement.prototype.createVisual = function createVisual () {\n        this.visual = new Group$8();\n        this.createBackground();\n    };\n\n    RootElement.prototype.createBackground = function createBackground () {\n        var options = this.options;\n        var border = options.border || {};\n        var box = this.box.clone().pad(options.margin).unpad(border.width);\n\n        var background = Path$7.fromRect(box.toRect(), {\n            stroke: {\n                color: border.width ? border.color : \"\",\n                width: border.width,\n                dashType: border.dashType\n            },\n            fill: {\n                color: options.background,\n                opacity: options.opacity\n            },\n            zIndex: -10\n        });\n\n        this.visual.append(background);\n    };\n\n    RootElement.prototype.getRoot = function getRoot () {\n        return this;\n    };\n\n    RootElement.prototype.createGradient = function createGradient (options) {\n        var gradients = this.gradients;\n        var hashCode = objectKey(options);\n        var gradient = GRADIENTS[options.gradient];\n        var drawingGradient;\n\n        if (gradients[hashCode]) {\n            drawingGradient = gradients[hashCode];\n        } else {\n            var gradientOptions = Object.assign({}, gradient, options);\n            if (gradient.type === \"linear\") {\n                drawingGradient = new LinearGradient(gradientOptions);\n            } else {\n                if (options.innerRadius) {\n                    gradientOptions.stops = innerRadialStops(gradientOptions);\n                }\n                drawingGradient = new RadialGradient(gradientOptions);\n                drawingGradient.supportVML = gradient.supportVML !== false;\n            }\n            gradients[hashCode] = drawingGradient;\n        }\n\n        return drawingGradient;\n    };\n\n    RootElement.prototype.cleanGradients = function cleanGradients () {\n        var gradients = this.gradients;\n        for (var hashCode in gradients) {\n            gradients[hashCode]._observers = [];//add clear observers method in drawing ObserversMixin\n        }\n    };\n\n    RootElement.prototype.size = function size () {\n        var options = this.options;\n        return new Box(0, 0, options.width, options.height);\n    };\n\n    return RootElement;\n}(ChartElement));\n\nsetDefaultOptions(RootElement, {\n    width: DEFAULT_WIDTH$1,\n    height: DEFAULT_HEIGHT$1,\n    background: WHITE$1,\n    border: {\n        color: BLACK$1,\n        width: 0\n    },\n    margin: getSpacing(5),\n    zIndex: -2\n});\n\nfunction innerRadialStops(options) {\n    var stops = options.stops;\n    var usedSpace = ((options.innerRadius / options.radius) * 100);\n    var length = stops.length;\n    var currentStops = [];\n\n    for (var i = 0; i < length; i++) {\n        var currentStop = Object.assign({}, stops[i]);\n        currentStop.offset = (currentStop.offset * (100 - usedSpace) + usedSpace) / 100;\n        currentStops.push(currentStop);\n    }\n\n    return currentStops;\n}\n\nvar FloatElement = (function (ChartElement) {\n    function FloatElement(options) {\n        ChartElement.call(this, options);\n        this._initDirection();\n    }\n\n    if ( ChartElement ) FloatElement.__proto__ = ChartElement;\n    FloatElement.prototype = Object.create( ChartElement && ChartElement.prototype );\n    FloatElement.prototype.constructor = FloatElement;\n\n    FloatElement.prototype._initDirection = function _initDirection () {\n        var options = this.options;\n        if (options.vertical) {\n            this.groupAxis = X;\n            this.elementAxis = Y;\n            this.groupSizeField = WIDTH;\n            this.elementSizeField = HEIGHT;\n            this.groupSpacing = options.spacing;\n            this.elementSpacing = options.vSpacing;\n        } else {\n            this.groupAxis = Y;\n            this.elementAxis = X;\n            this.groupSizeField = HEIGHT;\n            this.elementSizeField = WIDTH;\n            this.groupSpacing = options.vSpacing;\n            this.elementSpacing = options.spacing;\n        }\n    };\n\n    FloatElement.prototype.reflow = function reflow (targetBox) {\n        this.box = targetBox.clone();\n        this.reflowChildren();\n    };\n\n    FloatElement.prototype.reflowChildren = function reflowChildren () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var box = ref.box;\n        var elementAxis = ref.elementAxis;\n        var groupAxis = ref.groupAxis;\n        var elementSizeField = ref.elementSizeField;\n        var groupSizeField = ref.groupSizeField;\n        var ref$1 = this.groupOptions();\n        var groups = ref$1.groups;\n        var groupsSize = ref$1.groupsSize;\n        var maxGroupElementsSize = ref$1.maxGroupElementsSize;\n        var groupsCount = groups.length;\n        var groupsStart = box[groupAxis + 1] + this.alignStart(groupsSize, box[groupSizeField]());\n\n        if (groupsCount) {\n            var groupStart = groupsStart;\n\n            for (var groupIdx = 0; groupIdx < groupsCount; groupIdx++) {\n                var group = groups[groupIdx];\n                var groupElements = group.groupElements;\n                var elementStart = box[elementAxis + 1];\n                var groupElementsCount = groupElements.length;\n\n                for (var idx = 0; idx < groupElementsCount; idx++) {\n                    var element = groupElements[idx];\n                    var elementSize = this$1$1.elementSize(element);\n                    var groupElementStart = groupStart + this$1$1.alignStart(elementSize[groupSizeField], group.groupSize);\n\n                    var elementBox = new Box();\n                    elementBox[groupAxis + 1] = groupElementStart;\n                    elementBox[groupAxis + 2] = groupElementStart + elementSize[groupSizeField];\n                    elementBox[elementAxis + 1] = elementStart;\n                    elementBox[elementAxis + 2] = elementStart + elementSize[elementSizeField];\n\n                    element.reflow(elementBox);\n\n                    elementStart += elementSize[elementSizeField] + this$1$1.elementSpacing;\n                }\n                groupStart += group.groupSize + this$1$1.groupSpacing;\n            }\n            box[groupAxis + 1] = groupsStart;\n            box[groupAxis + 2] = groupsStart + groupsSize;\n            box[elementAxis + 2] = box[elementAxis + 1] + maxGroupElementsSize;\n        }\n    };\n\n    FloatElement.prototype.alignStart = function alignStart (size, maxSize) {\n        var start = 0;\n        var align = this.options.align;\n        if (align === RIGHT || align === BOTTOM$1) {\n            start = maxSize - size;\n        } else if (align === CENTER) {\n            start = (maxSize - size) / 2;\n        }\n        return start;\n    };\n\n    FloatElement.prototype.groupOptions = function groupOptions () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var box = ref.box;\n        var children = ref.children;\n        var elementSizeField = ref.elementSizeField;\n        var groupSizeField = ref.groupSizeField;\n        var elementSpacing = ref.elementSpacing;\n        var groupSpacing = ref.groupSpacing;\n        var maxSize = round$1(box[elementSizeField]());\n        var childrenCount = children.length;\n        var groups = [];\n\n        var groupSize = 0;\n        var groupElementsSize = 0;\n        var groupsSize = 0;\n        var maxGroupElementsSize = 0;\n        var groupElements = [];\n\n        for (var idx = 0; idx < childrenCount; idx++) {\n            var element = children[idx];\n            if (!element.box) {\n                element.reflow(box);\n            }\n\n            var elementSize = this$1$1.elementSize(element);\n            if (this$1$1.options.wrap && round$1(groupElementsSize + elementSpacing + elementSize[elementSizeField]) > maxSize) {\n                groups.push({\n                    groupElements: groupElements,\n                    groupSize: groupSize,\n                    groupElementsSize: groupElementsSize\n                });\n                maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);\n                groupsSize += groupSpacing + groupSize;\n                groupSize = 0;\n                groupElementsSize = 0;\n                groupElements = [];\n            }\n            groupSize = Math.max(groupSize, elementSize[groupSizeField]);\n            if (groupElementsSize > 0) {\n                groupElementsSize += elementSpacing;\n            }\n            groupElementsSize += elementSize[elementSizeField];\n            groupElements.push(element);\n        }\n\n        groups.push({\n            groupElements: groupElements,\n            groupSize: groupSize,\n            groupElementsSize: groupElementsSize\n        });\n        maxGroupElementsSize = Math.max(maxGroupElementsSize, groupElementsSize);\n        groupsSize += groupSize;\n\n        return {\n            groups: groups,\n            groupsSize: groupsSize,\n            maxGroupElementsSize: maxGroupElementsSize\n        };\n    };\n\n    FloatElement.prototype.elementSize = function elementSize (element) {\n        return {\n            width: element.box.width(),\n            height: element.box.height()\n        };\n    };\n\n    FloatElement.prototype.createVisual = function createVisual () {};\n\n    return FloatElement;\n}(ChartElement));\n\nsetDefaultOptions(FloatElement, {\n    vertical: true,\n    wrap: true,\n    vSpacing: 0,\n    spacing: 0\n});\n\nvar DrawingText = Text$2;\n\nvar Text$1 = (function (ChartElement) {\n    function Text(content, options) {\n        ChartElement.call(this, options);\n\n        this.content = content;\n\n        // Calculate size\n        this.reflow(new Box());\n    }\n\n    if ( ChartElement ) Text.__proto__ = ChartElement;\n    Text.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Text.prototype.constructor = Text;\n\n    Text.prototype.reflow = function reflow (targetBox) {\n        var options = this.options;\n        var size = options.size = measureText(this.content, { font: options.font });\n\n        this.baseline = size.baseline;\n\n        this.box = new Box(targetBox.x1, targetBox.y1,\n            targetBox.x1 + size.width, targetBox.y1 + size.height);\n    };\n\n    Text.prototype.createVisual = function createVisual () {\n        var ref = this.options;\n        var font = ref.font;\n        var color = ref.color;\n        var opacity = ref.opacity;\n        var cursor = ref.cursor;\n        var stroke = ref.stroke;\n        var paintOrder = ref.paintOrder;\n\n        this.visual = new DrawingText(this.content, this.box.toRect().topLeft(), {\n            font: font,\n            fill: { color: color, opacity: opacity },\n            cursor: cursor,\n            stroke: stroke,\n            paintOrder: paintOrder\n        });\n    };\n\n    return Text;\n}(ChartElement));\n\nsetDefaultOptions(Text$1, {\n    font: DEFAULT_FONT,\n    color: BLACK$1\n});\n\nfunction rectToBox(rect) {\n    var origin = rect.origin;\n    var bottomRight = rect.bottomRight();\n\n    return new Box(origin.x, origin.y, bottomRight.x, bottomRight.y);\n}\n\nvar ROWS_SPLIT_REGEX = /\\n/m;\n\nvar TextBox = (function (BoxElement) {\n    function TextBox(content, options, data) {\n        BoxElement.call(this, options);\n        this.content = content;\n        this.data = data;\n\n        this._initContainer();\n        if (this.options._autoReflow !== false) {\n            this.reflow(new Box());\n        }\n    }\n\n    if ( BoxElement ) TextBox.__proto__ = BoxElement;\n    TextBox.prototype = Object.create( BoxElement && BoxElement.prototype );\n    TextBox.prototype.constructor = TextBox;\n\n    TextBox.prototype._initContainer = function _initContainer () {\n        var options = this.options;\n        var rows = String(this.content).split(ROWS_SPLIT_REGEX);\n        var floatElement = new FloatElement({ vertical: true, align: options.align, wrap: false });\n        var textOptions = deepExtend({ }, options, { opacity: 1, animation: null });\n\n        this.container = floatElement;\n        this.append(floatElement);\n\n        for (var rowIdx = 0; rowIdx < rows.length; rowIdx++) {\n            var text = new Text$1(rows[rowIdx].trim(), textOptions);\n            floatElement.append(text);\n        }\n    };\n\n    TextBox.prototype.reflow = function reflow (targetBox) {\n        var options = this.options;\n        var visualFn = options.visual;\n        this.container.options.align = options.align;\n\n        if (visualFn && !this._boxReflow) {\n            var visualBox = targetBox;\n            if (!visualBox.hasSize()) {\n                this._boxReflow = true;\n                this.reflow(visualBox);\n                this._boxReflow = false;\n                visualBox = this.box;\n            }\n            var visual = this.visual = visualFn(this.visualContext(visualBox));\n\n            if (visual) {\n                visualBox = rectToBox(visual.clippedBBox() || new Rect());\n\n                visual.options.zIndex = options.zIndex;\n            }\n\n            this.box = this.contentBox = this.paddingBox = visualBox;\n        } else {\n            BoxElement.prototype.reflow.call(this, targetBox);\n\n            if (options.rotation) {\n                var margin = getSpacing(options.margin);\n                var box = this.box.unpad(margin);\n\n                this.targetBox = targetBox;\n                this.normalBox = box.clone();\n\n                box = this.rotate();\n                box.translate(margin.left - margin.right, margin.top - margin.bottom);\n\n                this.rotatedBox = box.clone();\n\n                box.pad(margin);\n            }\n        }\n    };\n\n    TextBox.prototype.createVisual = function createVisual () {\n        var options = this.options;\n\n        this.visual = new Group$8({\n            transform: this.rotationTransform(),\n            zIndex: options.zIndex,\n            noclip: options.noclip\n        });\n\n        if (this.hasBox()) {\n            var box = Path$7.fromRect(this.paddingBox.toRect(), this.visualStyle());\n            this.visual.append(box);\n        }\n    };\n\n    TextBox.prototype.renderVisual = function renderVisual () {\n        if (!this.options.visible) {\n            return;\n        }\n\n        if (this.options.visual) {\n            var visual = this.visual;\n            if (visual && !defined(visual.options.noclip)) {\n                visual.options.noclip = this.options.noclip;\n            }\n            this.addVisual();\n            this.createAnimation();\n        } else {\n            BoxElement.prototype.renderVisual.call(this);\n        }\n    };\n\n    TextBox.prototype.visualContext = function visualContext (targetBox) {\n        var this$1$1 = this;\n\n        var context = {\n            text: this.content,\n            rect: targetBox.toRect(),\n            sender: this.getSender(),\n            options: this.options,\n            createVisual: function () {\n                this$1$1._boxReflow = true;\n                this$1$1.reflow(targetBox);\n                this$1$1._boxReflow = false;\n                return this$1$1.getDefaultVisual();\n            }\n        };\n        if (this.data) {\n            Object.assign(context, this.data);\n        }\n\n        return context;\n    };\n\n    TextBox.prototype.getDefaultVisual = function getDefaultVisual () {\n        this.createVisual();\n        this.renderChildren();\n        var visual = this.visual;\n        delete this.visual;\n        return visual;\n    };\n\n    TextBox.prototype.rotate = function rotate () {\n        var options = this.options;\n        this.box.rotate(options.rotation);\n        this.align(this.targetBox, X, options.align);\n        this.align(this.targetBox, Y, options.vAlign);\n        return this.box;\n    };\n\n    TextBox.prototype.rotationTransform = function rotationTransform () {\n        var rotation = this.options.rotation;\n        if (!rotation) {\n            return null;\n        }\n\n        var ref = this.normalBox.center();\n        var cx = ref.x;\n        var cy = ref.y;\n        var boxCenter = this.rotatedBox.center();\n\n        return transform()\n            .translate(boxCenter.x - cx, boxCenter.y - cy)\n            .rotate(rotation, [ cx, cy ]);\n    };\n\n    return TextBox;\n}(BoxElement));\n\nvar Title$1 = (function (ChartElement) {\n    function Title(options) {\n        ChartElement.call(this, options);\n\n        this._textBox = new TextBox(this.options.text, Object.assign({}, this.options, {\n            vAlign: this.options.position\n        }));\n\n        this.append(this._textBox);\n    }\n\n    if ( ChartElement ) Title.__proto__ = ChartElement;\n    Title.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Title.prototype.constructor = Title;\n\n    Title.prototype.reflow = function reflow (targetBox) {\n        ChartElement.prototype.reflow.call(this, targetBox);\n        this.box.snapTo(targetBox, X);\n    };\n\n    Title.buildTitle = function buildTitle (options, defaultOptions) {\n        var titleOptions = options;\n\n        if (typeof options === \"string\") {\n            titleOptions = { text: options };\n        }\n\n        titleOptions = Object.assign({ visible: true }, defaultOptions, titleOptions);\n\n        var title;\n        if (titleOptions && titleOptions.visible && titleOptions.text) {\n            title = new Title(titleOptions);\n        }\n\n        return title;\n    };\n\n    Title.orderTitles = function orderTitles (titles) {\n        var items = [].concat(titles);\n        var top = items.filter(function (item) { return item && item.options.position !== BOTTOM$1; });\n        var bottom = items.filter(function (item) { return item && item.options.position === BOTTOM$1; });\n\n        collapseVerticalMargins(top);\n        collapseVerticalMargins(bottom);\n\n        bottom.reverse();\n        return top.concat(bottom);\n    };\n\n    return Title;\n}(ChartElement));\n\nfunction collapseVerticalMargins(items) {\n    for (var i = 1; i < items.length; i++) {\n        var box = items[i]._textBox;\n        var prevBox = items[i - 1]._textBox;\n        prevBox.options.margin = Object.assign(getSpacing(prevBox.options.margin), { bottom: 0 });\n        box.options.margin = Object.assign(getSpacing(box.options.margin), { top: 0 });\n    }\n}\n\nsetDefaultOptions(Title$1, {\n    color: BLACK$1,\n    position: TOP,\n    align: CENTER,\n    margin: getSpacing(5),\n    padding: getSpacing(5)\n});\n\nvar AxisLabel = (function (TextBox) {\n    function AxisLabel(value, text, index, dataItem, options) {\n        TextBox.call(this, text, options);\n\n        this.text = text;\n        this.value = value;\n        this.index = index;\n        this.dataItem = dataItem;\n        this.reflow(new Box());\n    }\n\n    if ( TextBox ) AxisLabel.__proto__ = TextBox;\n    AxisLabel.prototype = Object.create( TextBox && TextBox.prototype );\n    AxisLabel.prototype.constructor = AxisLabel;\n\n    AxisLabel.prototype.visualContext = function visualContext (targetBox) {\n        var context = TextBox.prototype.visualContext.call(this, targetBox);\n\n        context.value = this.value;\n        context.dataItem = this.dataItem;\n        context.format = this.options.format;\n        context.culture = this.options.culture;\n\n        return context;\n    };\n\n    AxisLabel.prototype.click = function click (widget, e) {\n\n        widget.trigger(AXIS_LABEL_CLICK, {\n            element: eventElement(e),\n            value: this.value,\n            text: this.text,\n            index: this.index,\n            dataItem: this.dataItem,\n            axis: this.parent.options\n        });\n    };\n\n    AxisLabel.prototype.rotate = function rotate () {\n        if (this.options.alignRotation !== CENTER) {\n            var box = this.normalBox.toRect();\n            var transform = this.rotationTransform();\n\n            this.box = rectToBox(box.bbox(transform.matrix()));\n        } else {\n            TextBox.prototype.rotate.call(this);\n        }\n\n        return this.box;\n    };\n\n    AxisLabel.prototype.rotationTransform = function rotationTransform () {\n        var options = this.options;\n        var rotation = options.rotation;\n        if (!rotation) {\n            return null;\n        }\n\n        if (options.alignRotation === CENTER) {\n            return TextBox.prototype.rotationTransform.call(this);\n        }\n\n        var rotationMatrix = transform().rotate(rotation).matrix();\n        var box = this.normalBox.toRect();\n        var rect = this.targetBox.toRect();\n\n        var rotationOrigin = options.rotationOrigin || TOP;\n        var alignAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM$1 ? X : Y;\n        var distanceAxis = rotationOrigin === TOP || rotationOrigin === BOTTOM$1 ? Y : X;\n        var axisAnchor = rotationOrigin === TOP || rotationOrigin === LEFT ? rect.origin : rect.bottomRight();\n\n        var topLeft = box.topLeft().transformCopy(rotationMatrix);\n        var topRight = box.topRight().transformCopy(rotationMatrix);\n        var bottomRight = box.bottomRight().transformCopy(rotationMatrix);\n        var bottomLeft = box.bottomLeft().transformCopy(rotationMatrix);\n        var rotatedBox = Rect.fromPoints(topLeft, topRight, bottomRight, bottomLeft);\n\n        var translate = {};\n        translate[distanceAxis] = rect.origin[distanceAxis] - rotatedBox.origin[distanceAxis];\n\n        var distanceLeft = Math.abs(topLeft[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\n        var distanceRight = Math.abs(topRight[distanceAxis] + translate[distanceAxis] - axisAnchor[distanceAxis]);\n\n        var alignStart, alignEnd;\n\n        if (round$1(distanceLeft, DEFAULT_PRECISION) === round$1(distanceRight, DEFAULT_PRECISION)) {\n            alignStart = topLeft;\n            alignEnd = topRight;\n        } else if (distanceRight < distanceLeft) {\n            alignStart = topRight;\n            alignEnd = bottomRight;\n        } else {\n            alignStart = topLeft;\n            alignEnd = bottomLeft;\n        }\n\n        var alignCenter = alignStart[alignAxis] + (alignEnd[alignAxis] - alignStart[alignAxis]) / 2;\n        translate[alignAxis] = rect.center()[alignAxis] - alignCenter;\n\n        return transform()\n            .translate(translate.x, translate.y)\n            .rotate(rotation);\n    };\n\n    return AxisLabel;\n}(TextBox));\n\nsetDefaultOptions(AxisLabel, {\n    _autoReflow: false\n});\n\nvar DEFAULT_ICON_SIZE = 7;\nvar DEFAULT_LABEL_COLOR = \"#fff\";\n\nvar Note = (function (BoxElement) {\n    function Note(fields, options, chartService) {\n        BoxElement.call(this, options);\n\n        this.fields = fields;\n        this.chartService = chartService;\n\n        this.render();\n    }\n\n    if ( BoxElement ) Note.__proto__ = BoxElement;\n    Note.prototype = Object.create( BoxElement && BoxElement.prototype );\n    Note.prototype.constructor = Note;\n\n    Note.prototype.hide = function hide () {\n        this.options.visible = false;\n    };\n\n    Note.prototype.show = function show () {\n        this.options.visible = true;\n    };\n\n    Note.prototype.render = function render () {\n        var this$1$1 = this;\n\n        var options = this.options;\n\n        if (options.visible) {\n            var label = options.label;\n            var icon = options.icon;\n            var box = new Box();\n            var childAlias = function () { return this$1$1; };\n            var size = icon.size;\n            var text = this.fields.text;\n            var width, height;\n\n            if (defined(label) && label.visible) {\n                var noteTemplate = getTemplate$1(label);\n                if (noteTemplate) {\n                    text = noteTemplate(this.fields);\n                } else if (label.format) {\n                    text = this.chartService.format.auto(label.format, text);\n                }\n\n                if (!label.color) {\n                    label.color = label.position === INSIDE$2 ? DEFAULT_LABEL_COLOR : icon.background;\n                }\n\n                this.label = new TextBox(text, deepExtend({}, label));\n                this.label.aliasFor = childAlias;\n\n                if (label.position === INSIDE$2 && !defined(size)) {\n                    if (icon.type === CIRCLE) {\n                        size = Math.max(this.label.box.width(), this.label.box.height());\n                    } else {\n                        width = this.label.box.width();\n                        height = this.label.box.height();\n                    }\n                    box.wrap(this.label.box);\n                }\n            }\n\n            icon.width = width || size || DEFAULT_ICON_SIZE;\n            icon.height = height || size || DEFAULT_ICON_SIZE;\n\n            var marker = new ShapeElement(deepExtend({}, icon));\n            marker.aliasFor = childAlias;\n\n            this.marker = marker;\n            this.append(marker);\n\n            if (this.label) {\n                this.append(this.label);\n            }\n\n            marker.reflow(new Box());\n            this.wrapperBox = box.wrap(marker.box);\n        }\n    };\n\n    Note.prototype.reflow = function reflow (targetBox) {\n        var ref = this;\n        var options = ref.options;\n        var label = ref.label;\n        var marker = ref.marker;\n        var wrapperBox = ref.wrapperBox;\n        var center = targetBox.center();\n        var length = options.line.length;\n        var position = options.position;\n\n        // TODO: Review\n        if (options.visible) {\n            var lineStart, box, contentBox;\n\n            if (inArray(position, [ LEFT, RIGHT ])) {\n                if (position === LEFT) {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(-length, targetBox.center().y - wrapperBox.center().y);\n\n                    if (options.line.visible) {\n                        lineStart = [ targetBox.x1, center.y ];\n                        this.linePoints = [\n                            lineStart,\n                            [ contentBox.x2, center.y ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                } else {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(length, targetBox.center().y - wrapperBox.center().y);\n\n                    if (options.line.visible) {\n                        lineStart = [ targetBox.x2, center.y ];\n                        this.linePoints = [\n                            lineStart,\n                            [ contentBox.x1, center.y ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                }\n            } else {\n                if (position === BOTTOM$1) {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, length);\n\n                    if (options.line.visible) {\n                        lineStart = [ center.x, targetBox.y2 ];\n                        this.linePoints = [\n                            lineStart,\n                            [ center.x, contentBox.y1 ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                } else {\n                    contentBox = wrapperBox.alignTo(targetBox, position).translate(targetBox.center().x - wrapperBox.center().x, -length);\n\n                    if (options.line.visible) {\n                        lineStart = [ center.x, targetBox.y1 ];\n                        this.linePoints = [\n                            lineStart,\n                            [ center.x, contentBox.y2 ]\n                        ];\n                        box = contentBox.clone().wrapPoint(lineStart);\n                    }\n                }\n            }\n\n            if (marker) {\n                marker.reflow(contentBox);\n            }\n\n            if (label) {\n                label.reflow(contentBox);\n                if (marker) {\n                    if (options.label.position === OUTSIDE$1) {\n                        label.box.alignTo(marker.box, position);\n                    }\n                    label.reflow(label.box);\n                }\n            }\n\n            this.contentBox = contentBox;\n            this.targetBox = targetBox;\n            this.box = box || contentBox;\n        }\n    };\n\n    Note.prototype.createVisual = function createVisual () {\n        BoxElement.prototype.createVisual.call(this);\n        this.visual.options.noclip = this.options.noclip;\n\n        if (this.options.visible) {\n            this.createLine();\n        }\n    };\n\n    Note.prototype.renderVisual = function renderVisual () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var customVisual = options.visual;\n        if (options.visible && customVisual) {\n            this.visual = customVisual(Object.assign(this.fields, {\n                sender: this.getSender(),\n                rect: this.targetBox.toRect(),\n                options: {\n                    background: options.background,\n                    border: options.background,\n                    icon: options.icon,\n                    label: options.label,\n                    line: options.line,\n                    position: options.position,\n                    visible: options.visible\n                },\n                createVisual: function () {\n                    this$1$1.createVisual();\n                    this$1$1.renderChildren();\n                    var defaultVisual = this$1$1.visual;\n                    delete this$1$1.visual;\n                    return defaultVisual;\n                }\n            }));\n            this.addVisual();\n        } else {\n            BoxElement.prototype.renderVisual.call(this);\n        }\n    };\n\n    Note.prototype.createLine = function createLine () {\n        var options = this.options.line;\n\n        if (this.linePoints) {\n            var path = Path$7.fromPoints(this.linePoints, {\n                stroke: {\n                    color: options.color,\n                    width: options.width,\n                    dashType: options.dashType\n                }\n            });\n\n            alignPathToPixel(path);\n            this.visual.append(path);\n        }\n    };\n\n    Note.prototype.click = function click (widget, e) {\n        var args = this.eventArgs(e);\n\n        if (!widget.trigger(NOTE_CLICK, args)) {\n            e.preventDefault();\n        }\n    };\n\n    Note.prototype.over = function over (widget, e) {\n        var args = this.eventArgs(e);\n\n        if (!widget.trigger(NOTE_HOVER, args)) {\n            e.preventDefault();\n        }\n    };\n\n    Note.prototype.out = function out (widget, e) {\n        var args = this.eventArgs(e);\n\n        widget.trigger(NOTE_LEAVE, args);\n    };\n\n    Note.prototype.eventArgs = function eventArgs (e) {\n        var options = this.options;\n\n        return Object.assign(this.fields, {\n            element: eventElement(e),\n            text: defined(options.label) ? options.label.text : \"\",\n            visual: this.visual\n        });\n    };\n\n    return Note;\n}(BoxElement));\n\nsetDefaultOptions(Note, {\n    icon: {\n        visible: true,\n        type: CIRCLE\n    },\n    label: {\n        position: INSIDE$2,\n        visible: true,\n        align: CENTER,\n        vAlign: CENTER\n    },\n    line: {\n        visible: true\n    },\n    visible: true,\n    position: TOP,\n    zIndex: 2\n});\n\nvar defaultImplementation = {\n    format: function (format, value) { return value; },\n\n    toString: function (value) { return value; },\n\n    parseDate: function (value) { return new Date(value); },\n\n    firstDay: function () { return 0; }\n};\n\nvar current$1 = defaultImplementation;\n\nvar IntlService = function IntlService () {};\n\nvar staticAccessors = { implementation: { configurable: true } };\n\nIntlService.register = function register (userImplementation) {\n    current$1 = userImplementation;\n};\n\nstaticAccessors.implementation.get = function () {\n    return current$1;\n};\n\nObject.defineProperties( IntlService, staticAccessors );\n\n// eslint-disable-next-line no-useless-escape\nvar FORMAT_REPLACE_REGEX = /\\{(\\d+)(:[^\\}]+)?\\}/g;\n\nvar FormatService = function FormatService(intlService) {\n    this._intlService = intlService;\n};\n\nvar prototypeAccessors$1 = { intl: { configurable: true } };\n\nprototypeAccessors$1.intl.get = function () {\n    return this._intlService || IntlService.implementation;\n};\n\nprototypeAccessors$1.intl.set = function (value) {\n    this._intlService = value;\n};\n\nFormatService.prototype.auto = function auto (formatString) {\n        var values = [], len = arguments.length - 1;\n        while ( len-- > 0 ) values[ len ] = arguments[ len + 1 ];\n\n    var intl = this.intl;\n\n    if (isString$1(formatString) && formatString.match(FORMAT_REGEX)) {\n        return intl.format.apply(intl, [ formatString ].concat( values ));\n    }\n\n    return intl.toString(values[0], formatString);\n};\n\nFormatService.prototype.localeAuto = function localeAuto (formatString, values, locale) {\n    var intl = this.intl;\n    var result;\n\n    if (isString$1(formatString) && formatString.match(FORMAT_REGEX)) {\n        result = formatString.replace(FORMAT_REPLACE_REGEX, function(match, index, placeholderFormat) {\n            var value = values[parseInt(index, 10)];\n\n            return intl.toString(value, placeholderFormat ? placeholderFormat.substring(1) : \"\", locale);\n        });\n    } else {\n        result = intl.toString(values[0], formatString, locale);\n    }\n\n    return result;\n};\n\nObject.defineProperties( FormatService.prototype, prototypeAccessors$1 );\n\nvar ChartService = function ChartService(chart, context) {\n    if ( context === void 0 ) context = {};\n\n    this._intlService = context.intlService;\n    this.sender = context.sender || chart;\n    this.format = new FormatService(context.intlService);\n    this.chart = chart;\n    this.rtl = Boolean(context.rtl);\n};\n\nvar prototypeAccessors = { intl: { configurable: true } };\n\nprototypeAccessors.intl.get = function () {\n    return this._intlService || IntlService.implementation;\n};\n\nprototypeAccessors.intl.set = function (value) {\n    this._intlService = value;\n    this.format.intl = value;\n};\n\nChartService.prototype.notify = function notify (name, args) {\n    if (this.chart) {\n        this.chart.trigger(name, args);\n    }\n};\n\nChartService.prototype.isPannable = function isPannable (axis) {\n    var pannable = ((this.chart || {}).options || {}).pannable;\n    return pannable && pannable.lock !== axis;\n};\n\nObject.defineProperties( ChartService.prototype, prototypeAccessors );\n\nvar current;\n\nvar DomEventsBuilder = function DomEventsBuilder () {};\n\nDomEventsBuilder.register = function register (userImplementation) {\n    current = userImplementation;\n};\n\nDomEventsBuilder.create = function create (element, events) {\n    var builder;\n\n    if (current) {\n        builder = current.create(element, events);\n    } else {\n        builder = new UserEvents(element, Object.assign({}, {multiTouch: true},\n\n            events));\n    }\n\n    return builder;\n};\n\nvar services = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    ChartService: ChartService,\n    DomEventsBuilder: DomEventsBuilder,\n    FormatService: FormatService,\n    IntlService: IntlService,\n    TemplateService: TemplateService\n});\n\nfunction createAxisTick(options, tickOptions) {\n    var tickX = options.tickX;\n    var tickY = options.tickY;\n    var position = options.position;\n\n    var tick = new Path$7({\n        stroke: {\n            width: tickOptions.width,\n            color: tickOptions.color\n        }\n    });\n\n    if (options.vertical) {\n        tick.moveTo(tickX, position)\n            .lineTo(tickX + tickOptions.size, position);\n    } else {\n        tick.moveTo(position, tickY)\n            .lineTo(position, tickY + tickOptions.size);\n    }\n\n    alignPathToPixel(tick);\n\n    return tick;\n}\n\nfunction createAxisGridLine(options, gridLine) {\n    var lineStart = options.lineStart;\n    var lineEnd = options.lineEnd;\n    var position = options.position;\n\n    var line = new Path$7({\n        stroke: {\n            width: gridLine.width,\n            color: gridLine.color,\n            dashType: gridLine.dashType\n        }\n    });\n\n    if (options.vertical) {\n        line.moveTo(lineStart, position)\n            .lineTo(lineEnd, position);\n    } else {\n        line.moveTo(position, lineStart)\n            .lineTo(position, lineEnd);\n    }\n\n    alignPathToPixel(line);\n\n    return line;\n}\n\nvar Axis = (function (ChartElement) {\n    function Axis(options, chartService) {\n        if ( chartService === void 0 ) chartService = new ChartService();\n\n        ChartElement.call(this, options);\n\n        this.chartService = chartService;\n\n        if (!this.options.visible) {\n            this.options = deepExtend({}, this.options, {\n                labels: {\n                    visible: false\n                },\n                line: {\n                    visible: false\n                },\n                margin: 0,\n                majorTickSize: 0,\n                minorTickSize: 0\n            });\n        }\n\n        this.options.minorTicks = deepExtend({}, {\n            color: this.options.line.color,\n            width: this.options.line.width,\n            visible: this.options.minorTickType !== NONE\n        }, this.options.minorTicks, {\n            size: this.options.minorTickSize,\n            align: this.options.minorTickType\n        });\n\n        this.options.majorTicks = deepExtend({}, {\n            color: this.options.line.color,\n            width: this.options.line.width,\n            visible: this.options.majorTickType !== NONE\n        }, this.options.majorTicks, {\n            size: this.options.majorTickSize,\n            align: this.options.majorTickType\n        });\n\n        this.initFields();\n\n        if (!this.options._deferLabels) {\n            this.createLabels();\n        }\n\n        this.createTitle();\n        this.createNotes();\n    }\n\n    if ( ChartElement ) Axis.__proto__ = ChartElement;\n    Axis.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Axis.prototype.constructor = Axis;\n\n    Axis.prototype.initFields = function initFields () {\n    };\n\n    // abstract labelsCount(): Number\n    // abstract createAxisLabel(index, options): AxisLabel\n\n    Axis.prototype.labelsRange = function labelsRange () {\n        return {\n            min: this.options.labels.skip,\n            max: this.labelsCount()\n        };\n    };\n\n    Axis.prototype.normalizeLabelRotation = function normalizeLabelRotation (labelOptions) {\n        var rotation = labelOptions.rotation;\n\n        if (isObject(rotation)) {\n            labelOptions.alignRotation = rotation.align;\n            labelOptions.rotation = rotation.angle;\n        }\n    };\n\n    Axis.prototype.createLabels = function createLabels () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var align = options.vertical ? RIGHT : CENTER;\n        var labelOptions = deepExtend({ }, options.labels, {\n            align: align,\n            zIndex: options.zIndex\n        });\n        var step = Math.max(1, labelOptions.step);\n\n        this.clearLabels();\n\n        if (labelOptions.visible) {\n            this.normalizeLabelRotation(labelOptions);\n            if (labelOptions.rotation === \"auto\") {\n                labelOptions.rotation = 0;\n                options.autoRotateLabels = true;\n            }\n\n            var range = this.labelsRange();\n            for (var idx = range.min; idx < range.max; idx += step) {\n                var labelContext = { index: idx, count: range.max };\n                var label = this$1$1.createAxisLabel(idx, labelOptions, labelContext);\n                if (label) {\n                    this$1$1.append(label);\n                    this$1$1.labels.push(label);\n                }\n            }\n        }\n    };\n\n    Axis.prototype.clearLabels = function clearLabels () {\n        this.children = grep(this.children, function (child) { return !(child instanceof AxisLabel); });\n        this.labels = [];\n    };\n\n    Axis.prototype.clearTitle = function clearTitle () {\n        var this$1$1 = this;\n\n        if (this.title) {\n            this.children = grep(this.children, function (child) { return child !== this$1$1.title; });\n            this.title = undefined;\n        }\n    };\n\n    Axis.prototype.clear = function clear () {\n        this.clearLabels();\n        this.clearTitle();\n    };\n\n    Axis.prototype.lineBox = function lineBox () {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var axisX = mirror ? box.x1 : box.x2;\n        var axisY = mirror ? box.y2 : box.y1;\n        var lineWidth = options.line.width || 0;\n\n        return vertical ?\n            new Box(axisX, box.y1, axisX, box.y2 - lineWidth) :\n            new Box(box.x1, axisY, box.x2 - lineWidth, axisY);\n    };\n\n    Axis.prototype.createTitle = function createTitle () {\n        var options = this.options;\n        var titleOptions = deepExtend({\n            rotation: options.vertical ? -90 : 0,\n            text: \"\",\n            zIndex: 1,\n            visualSize: true\n        }, options.title);\n\n        if (titleOptions.visible && titleOptions.text) {\n            var title = new TextBox(titleOptions.text, titleOptions);\n            this.append(title);\n            this.title = title;\n        }\n    };\n\n    Axis.prototype.createNotes = function createNotes () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var notes = options.notes;\n        var items = notes.data || [];\n\n        this.notes = [];\n\n        for (var i = 0; i < items.length; i++) {\n            var item = deepExtend({}, notes, items[i]);\n            item.value = this$1$1.parseNoteValue(item.value);\n\n            var note = new Note({\n                value: item.value,\n                text: item.label.text,\n                dataItem: item\n            }, item, this$1$1.chartService);\n\n            if (note.options.visible) {\n                if (defined(note.options.position)) {\n                    if (options.vertical && !inArray(note.options.position, [ LEFT, RIGHT ])) {\n                        note.options.position = options.reverse ? LEFT : RIGHT;\n                    } else if (!options.vertical && !inArray(note.options.position, [ TOP, BOTTOM$1 ])) {\n                        note.options.position = options.reverse ? BOTTOM$1 : TOP;\n                    }\n                } else {\n                    if (options.vertical) {\n                        note.options.position = options.reverse ? LEFT : RIGHT;\n                    } else {\n                        note.options.position = options.reverse ? BOTTOM$1 : TOP;\n                    }\n                }\n                this$1$1.append(note);\n                this$1$1.notes.push(note);\n            }\n        }\n    };\n\n    Axis.prototype.parseNoteValue = function parseNoteValue (value) {\n        return value;\n    };\n\n    Axis.prototype.renderVisual = function renderVisual () {\n        ChartElement.prototype.renderVisual.call(this);\n\n        this.createPlotBands();\n    };\n\n    Axis.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        this.createBackground();\n        this.createLine();\n    };\n\n    Axis.prototype.gridLinesVisual = function gridLinesVisual () {\n        var gridLines = this._gridLines;\n        if (!gridLines) {\n            gridLines = this._gridLines = new Group$8({\n                zIndex: -2\n            });\n            this.appendVisual(this._gridLines);\n        }\n\n        return gridLines;\n    };\n\n    Axis.prototype.createTicks = function createTicks (lineGroup) {\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var mirror = options.labels.mirror;\n        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\n        var tickLineOptions = {\n            // TODO\n            // _alignLines: options._alignLines,\n            vertical: options.vertical\n        };\n\n        function render(tickPositions, tickOptions, skipUnit) {\n            var count = tickPositions.length;\n            var step = Math.max(1, tickOptions.step);\n\n            if (tickOptions.visible) {\n                for (var i = tickOptions.skip; i < count; i += step) {\n                    if (defined(skipUnit) && (i % skipUnit === 0)) {\n                        continue;\n                    }\n\n                    tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n                    tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n                    tickLineOptions.position = tickPositions[i];\n\n                    lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\n                }\n            }\n        }\n\n        render(this.getMajorTickPositions(), options.majorTicks);\n        render(this.getMinorTickPositions(), options.minorTicks, majorUnit / options.minorUnit);\n    };\n\n    Axis.prototype.createLine = function createLine () {\n        var options = this.options;\n        var line = options.line;\n        var lineBox = this.lineBox();\n\n        if (line.width > 0 && line.visible) {\n            var path = new Path$7({\n                stroke: {\n                    width: line.width,\n                    color: line.color,\n                    dashType: line.dashType\n                }\n\n                /* TODO\n                zIndex: line.zIndex,\n                */\n            });\n\n            path.moveTo(lineBox.x1, lineBox.y1)\n                .lineTo(lineBox.x2, lineBox.y2);\n\n            if (options._alignLines) {\n                alignPathToPixel(path);\n            }\n\n            var group = this._lineGroup = new Group$8();\n            group.append(path);\n\n            this.visual.append(group);\n            this.createTicks(group);\n        }\n    };\n\n    Axis.prototype.getActualTickSize = function getActualTickSize () {\n        var options = this.options;\n        var tickSize = 0;\n\n        if (options.majorTicks.visible && options.minorTicks.visible) {\n            tickSize = Math.max(options.majorTicks.size, options.minorTicks.size);\n        } else if (options.majorTicks.visible) {\n            tickSize = options.majorTicks.size;\n        } else if (options.minorTicks.visible) {\n            tickSize = options.minorTicks.size;\n        }\n\n        return tickSize;\n    };\n\n    Axis.prototype.createBackground = function createBackground () {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var background = options.background;\n\n        if (background) {\n            this._backgroundPath = Path$7.fromRect(box.toRect(), {\n                fill: {\n                    color: background\n                },\n                stroke: null\n            });\n\n            this.visual.append(this._backgroundPath);\n        }\n    };\n\n    Axis.prototype.createPlotBands = function createPlotBands () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var plotBands = options.plotBands || [];\n        var vertical = options.vertical;\n        var plotArea = this.plotArea;\n\n        if (plotBands.length === 0) {\n            return;\n        }\n\n        var group = this._plotbandGroup = new Group$8({\n            zIndex: -1\n        });\n\n        var altAxis = grep(this.pane.axes, function (axis) { return axis.options.vertical !== this$1$1.options.vertical; })[0];\n\n        for (var idx = 0; idx < plotBands.length; idx++) {\n            var item = plotBands[idx];\n            var slotX = (void 0), slotY = (void 0);\n            var labelOptions = item.label;\n            var label = (void 0);\n\n            if (vertical) {\n                slotX = (altAxis || plotArea.axisX).lineBox();\n                slotY = this$1$1.getSlot(item.from, item.to, true);\n            } else {\n                slotX = this$1$1.getSlot(item.from, item.to, true);\n                slotY = (altAxis || plotArea.axisY).lineBox();\n            }\n\n            if (labelOptions) {\n                labelOptions.vAlign = labelOptions.position || LEFT;\n                label = this$1$1.createPlotBandLabel(\n                    labelOptions,\n                    item,\n                    new Box(\n                        slotX.x1,\n                        slotY.y1,\n                        slotX.x2,\n                        slotY.y2\n                    )\n\n                );\n            }\n\n            if (slotX.width() !== 0 && slotY.height() !== 0) {\n                var bandRect = new Rect(\n                    [ slotX.x1, slotY.y1 ],\n                    [ slotX.width(), slotY.height() ]\n                );\n\n                var path = Path$7.fromRect(bandRect, {\n                    fill: {\n                        color: item.color,\n                        opacity: item.opacity\n                    },\n                    stroke: null\n                });\n\n                group.append(path);\n                if (label) {\n                    group.append(label);\n                }\n            }\n        }\n\n        this.appendVisual(group);\n    };\n\n    Axis.prototype.createPlotBandLabel = function createPlotBandLabel (label, item, box) {\n\n        if (label.visible === false) {\n            return null;\n        }\n\n        var text = label.text;\n        var textbox;\n\n        if (defined(label) && label.visible) {\n            var labelTemplate = getTemplate$1(label);\n            if (labelTemplate) {\n                text = labelTemplate({ text: text, item: item });\n            } else if (label.format) {\n                text = this.chartService.format.auto(label.format, text);\n            }\n\n            if (!label.color) {\n                label.color = this.options.labels.color;\n            }\n        }\n\n        textbox = new TextBox(text, label);\n        textbox.reflow(box);\n        textbox.renderVisual();\n\n        return textbox.visual;\n    };\n\n    Axis.prototype.createGridLines = function createGridLines (altAxis) {\n        var options = this.options;\n        var minorGridLines = options.minorGridLines;\n        var majorGridLines = options.majorGridLines;\n        var minorUnit = options.minorUnit;\n        var vertical = options.vertical;\n        var axisLineVisible = altAxis.options.line.visible;\n        var majorUnit = majorGridLines.visible ? options.majorUnit : 0;\n        var lineBox = altAxis.lineBox();\n        var linePos = lineBox[vertical ? \"y1\" : \"x1\"];\n        var lineOptions = {\n            lineStart: lineBox[vertical ? \"x1\" : \"y1\"],\n            lineEnd: lineBox[vertical ? \"x2\" : \"y2\"],\n            vertical: vertical\n        };\n        var majorTicks = [];\n\n        var container = this.gridLinesVisual();\n\n        function render(tickPositions, gridLine, skipUnit) {\n            var count = tickPositions.length;\n            var step = Math.max(1, gridLine.step);\n\n            if (gridLine.visible) {\n                for (var i = gridLine.skip; i < count; i += step) {\n                    var pos = round$1(tickPositions[i]);\n                    if (!inArray(pos, majorTicks)) {\n                        if (i % skipUnit !== 0 && (!axisLineVisible || linePos !== pos)) {\n                            lineOptions.position = pos;\n                            container.append(createAxisGridLine(lineOptions, gridLine));\n\n                            majorTicks.push(pos);\n                        }\n                    }\n                }\n            }\n        }\n\n        render(this.getMajorTickPositions(), majorGridLines);\n        render(this.getMinorTickPositions(), minorGridLines, majorUnit / minorUnit);\n\n        return container.children;\n    };\n\n    Axis.prototype.reflow = function reflow (box) {\n        var ref = this;\n        var options = ref.options;\n        var labels = ref.labels;\n        var title = ref.title;\n        var vertical = options.vertical;\n        var count = labels.length;\n        var sizeFn = vertical ? WIDTH : HEIGHT;\n        var titleSize = title ? title.box[sizeFn]() : 0;\n        var space = this.getActualTickSize() + options.margin + titleSize;\n        var rootBox = (this.getRoot() || {}).box || box;\n        var boxSize = rootBox[sizeFn]();\n        var maxLabelSize = 0;\n\n        for (var i = 0; i < count; i++) {\n            var labelSize = labels[i].box[sizeFn]();\n            if (labelSize + space <= boxSize) {\n                maxLabelSize = Math.max(maxLabelSize, labelSize);\n            }\n        }\n\n        if (vertical) {\n            this.box = new Box(\n                box.x1, box.y1,\n                box.x1 + maxLabelSize + space, box.y2\n            );\n        } else {\n            this.box = new Box(\n                box.x1, box.y1,\n                box.x2, box.y1 + maxLabelSize + space\n            );\n        }\n\n        this.arrangeTitle();\n        this.arrangeLabels();\n        this.arrangeNotes();\n    };\n\n    Axis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {\n        return this.getMajorTickPositions();\n    };\n\n    Axis.prototype.labelTickIndex = function labelTickIndex (label) {\n        return label.index;\n    };\n\n    Axis.prototype.arrangeLabels = function arrangeLabels () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var labels = ref.labels;\n        var labelsBetweenTicks = this.labelsBetweenTicks();\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var tickPositions = this.getLabelsTickPositions();\n\n        for (var idx = 0; idx < labels.length; idx++) {\n            var label = labels[idx];\n            var tickIx = this$1$1.labelTickIndex(label);\n            var labelSize = vertical ? label.box.height() : label.box.width();\n            var firstTickPosition = tickPositions[tickIx];\n            var nextTickPosition = tickPositions[tickIx + 1];\n            var positionStart = (void 0), positionEnd = (void 0);\n\n            if (vertical) {\n                if (labelsBetweenTicks) {\n                    var middle = firstTickPosition + (nextTickPosition - firstTickPosition) / 2;\n                    positionStart = middle - (labelSize / 2);\n                } else {\n                    positionStart = firstTickPosition - (labelSize / 2);\n                }\n\n                positionEnd = positionStart;\n            } else {\n                if (labelsBetweenTicks) {\n                    positionStart = firstTickPosition;\n                    positionEnd = nextTickPosition;\n                } else {\n                    positionStart = firstTickPosition - (labelSize / 2);\n                    positionEnd = positionStart + labelSize;\n                }\n            }\n\n            this$1$1.positionLabel(label, mirror, positionStart, positionEnd);\n        }\n    };\n\n    Axis.prototype.positionLabel = function positionLabel (label, mirror, positionStart, positionEnd) {\n        if ( positionEnd === void 0 ) positionEnd = positionStart;\n\n        var options = this.options;\n        var vertical = options.vertical;\n        var lineBox = this.lineBox();\n        var labelOffset = this.getActualTickSize() + options.margin;\n        var labelBox;\n\n        if (vertical) {\n            var labelX = lineBox.x2;\n\n            if (mirror) {\n                labelX += labelOffset;\n                label.options.rotationOrigin = LEFT;\n            } else {\n                labelX -= labelOffset + label.box.width();\n                label.options.rotationOrigin = RIGHT;\n            }\n\n            labelBox = label.box.move(labelX, positionStart);\n        } else {\n            var labelY = lineBox.y1;\n\n            if (mirror) {\n                labelY -= labelOffset + label.box.height();\n                label.options.rotationOrigin = BOTTOM$1;\n            } else {\n                labelY += labelOffset;\n                label.options.rotationOrigin = TOP;\n            }\n\n            labelBox = new Box(\n                positionStart, labelY,\n                positionEnd, labelY + label.box.height()\n            );\n        }\n\n        label.reflow(labelBox);\n    };\n\n    Axis.prototype.autoRotateLabelAngle = function autoRotateLabelAngle (labelBox, slotWidth) {\n        if (labelBox.width() < slotWidth) {\n            return 0;\n        }\n\n        if (labelBox.height() > slotWidth) {\n            return -90;\n        }\n\n        return -45;\n    };\n\n    Axis.prototype.autoRotateLabels = function autoRotateLabels () {\n        var this$1$1 = this;\n\n        if (!this.options.autoRotateLabels || this.options.vertical) {\n            return false;\n        }\n\n        var tickPositions = this.getMajorTickPositions();\n        var labels = this.labels;\n        var limit = Math.min(labels.length, tickPositions.length - 1);\n        var angle = 0;\n\n        for (var idx = 0; idx < limit; idx++) {\n            var width = Math.abs(tickPositions[idx + 1] - tickPositions[idx]);\n            var labelBox = labels[idx].box;\n            var labelAngle = this$1$1.autoRotateLabelAngle(labelBox, width);\n\n            if (labelAngle !== 0) {\n                angle = labelAngle;\n            }\n\n            if (angle === -90) {\n                break;\n            }\n        }\n\n        if (angle !== 0) {\n            for (var idx$1 = 0; idx$1 < labels.length; idx$1++) {\n                labels[idx$1].options.rotation = angle;\n                labels[idx$1].reflow(new Box());\n            }\n\n            return true;\n        }\n    };\n\n    Axis.prototype.arrangeTitle = function arrangeTitle () {\n        var ref = this;\n        var options = ref.options;\n        var title = ref.title;\n        var mirror = options.labels.mirror;\n        var vertical = options.vertical;\n\n        if (title) {\n            if (vertical) {\n                title.options.align = mirror ? RIGHT : LEFT;\n                title.options.vAlign = title.options.position;\n            } else {\n                title.options.align = title.options.position;\n                title.options.vAlign = mirror ? TOP : BOTTOM$1;\n            }\n\n            title.reflow(this.box);\n        }\n    };\n\n    Axis.prototype.arrangeNotes = function arrangeNotes () {\n        var this$1$1 = this;\n\n        for (var idx = 0; idx < this.notes.length; idx++) {\n            var item = this$1$1.notes[idx];\n            var value = item.options.value;\n            var slot = (void 0);\n\n            if (defined(value)) {\n                if (this$1$1.shouldRenderNote(value)) {\n                    item.show();\n                } else {\n                    item.hide();\n                }\n\n                slot = this$1$1.noteSlot(value);\n            } else {\n                item.hide();\n            }\n\n            item.reflow(slot || this$1$1.lineBox());\n        }\n    };\n\n    Axis.prototype.noteSlot = function noteSlot (value) {\n        return this.getSlot(value);\n    };\n\n    Axis.prototype.alignTo = function alignTo (secondAxis) {\n        var lineBox = secondAxis.lineBox();\n        var vertical = this.options.vertical;\n        var pos = vertical ? Y : X;\n\n        this.box.snapTo(lineBox, pos);\n        if (vertical) {\n            this.box.shrink(0, this.lineBox().height() - lineBox.height());\n        } else {\n            this.box.shrink(this.lineBox().width() - lineBox.width(), 0);\n        }\n        this.box[pos + 1] -= this.lineBox()[pos + 1] - lineBox[pos + 1];\n        this.box[pos + 2] -= this.lineBox()[pos + 2] - lineBox[pos + 2];\n    };\n\n    Axis.prototype.axisLabelText = function axisLabelText (value, options, context) {\n        var this$1$1 = this;\n\n        var text;\n        var tmpl = getTemplate$1(options);\n        var defaultText = function () {\n            if (!options.format) {\n                return value;\n            }\n\n            return this$1$1.chartService.format.localeAuto(\n                options.format, [ value ], options.culture\n            );\n        };\n\n        if (tmpl) {\n            var templateContext = Object.assign({}, context, {\n                get text() { return defaultText(); },\n                value: value,\n                format: options.format,\n                culture: options.culture\n            });\n\n            text = tmpl(templateContext);\n        } else {\n            text = defaultText();\n        }\n\n        return text;\n    };\n\n    Axis.prototype.slot = function slot (from , to, limit) {\n        var slot = this.getSlot(from, to, limit);\n        if (slot) {\n            return slot.toRect();\n        }\n    };\n\n    Axis.prototype.contentBox = function contentBox () {\n        var box = this.box.clone();\n        var labels = this.labels;\n        if (labels.length) {\n            var axis = this.options.vertical ? Y : X;\n            if (this.chartService.isPannable(axis)) {\n                var offset = this.maxLabelOffset();\n                box[axis + 1] -= offset.start;\n                box[axis + 2] += offset.end;\n            } else {\n                if (labels[0].options.visible) {\n                    box.wrap(labels[0].box);\n                }\n                var lastLabel = labels[labels.length - 1];\n                if (lastLabel.options.visible) {\n                    box.wrap(lastLabel.box);\n                }\n            }\n        }\n\n        return box;\n    };\n\n    Axis.prototype.maxLabelOffset = function maxLabelOffset () {\n        var this$1$1 = this;\n\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        var labelsBetweenTicks = this.labelsBetweenTicks();\n        var tickPositions = this.getLabelsTickPositions();\n        var offsetField = vertical ? Y : X;\n        var labels = this.labels;\n        var startPosition = reverse ? 1 : 0;\n        var endPosition = reverse ? 0 : 1;\n        var maxStartOffset = 0;\n        var maxEndOffset = 0;\n\n        for (var idx = 0; idx < labels.length; idx++) {\n            var label = labels[idx];\n            var tickIx = this$1$1.labelTickIndex(label);\n            var startTick = (void 0), endTick = (void 0);\n\n            if (labelsBetweenTicks) {\n                startTick = tickPositions[tickIx + startPosition];\n                endTick = tickPositions[tickIx + endPosition];\n            } else {\n                startTick = endTick = tickPositions[tickIx];\n            }\n\n            maxStartOffset = Math.max(maxStartOffset, startTick - label.box[offsetField + 1]);\n            maxEndOffset = Math.max(maxEndOffset, label.box[offsetField + 2] - endTick);\n        }\n\n        return {\n            start: maxStartOffset,\n            end: maxEndOffset\n        };\n    };\n\n    Axis.prototype.limitRange = function limitRange (from, to, min, max, offset) {\n        var options = this.options;\n\n        if ((from < min && offset < 0 && (!defined(options.min) || options.min <= min)) || (max < to && offset > 0 && (!defined(options.max) || max <= options.max))) {\n            return null;\n        }\n\n        if ((to < min && offset > 0) || (max < from && offset < 0)) {\n            return {\n                min: from,\n                max: to\n            };\n        }\n\n        var rangeSize = to - from;\n        var minValue = from;\n        var maxValue = to;\n\n        if (from < min && offset < 0) {\n            minValue = limitValue(from, min, max);\n            maxValue = limitValue(from + rangeSize, min + rangeSize, max);\n        } else if (to > max && offset > 0) {\n            maxValue = limitValue(to, min, max);\n            minValue = limitValue(to - rangeSize, min, max - rangeSize);\n        }\n\n        return {\n            min: minValue,\n            max: maxValue\n        };\n    };\n\n    Axis.prototype.valueRange = function valueRange () {\n        return {\n            min: this.seriesMin,\n            max: this.seriesMax\n        };\n    };\n\n    Axis.prototype.lineDir = function lineDir () {\n        /*\n         * Axis line direction:\n         *   * Vertical: up.\n         *   * Horizontal: right.\n         */\n\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        return (vertical ? -1 : 1) * (reverse ? -1 : 1);\n    };\n\n    Axis.prototype.lineInfo = function lineInfo () {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var lineBox = this.lineBox();\n        var lineSize = vertical ? lineBox.height() : lineBox.width();\n        var axis = vertical ? Y : X;\n        var axisDir = this.lineDir();\n        var startEdge = axisDir === 1 ? 1 : 2;\n        var axisOrigin = axis + startEdge.toString();\n        var lineStart = lineBox[axisOrigin];\n\n        return {\n            axis: axis,\n            axisOrigin: axisOrigin,\n            axisDir: axisDir,\n            lineBox: lineBox,\n            lineSize: lineSize,\n            lineStart: lineStart\n        };\n    };\n\n    Axis.prototype.pointOffset = function pointOffset (point) {\n        var ref = this.lineInfo();\n        var axis = ref.axis;\n        var axisDir = ref.axisDir;\n        var axisOrigin = ref.axisOrigin;\n        var lineBox = ref.lineBox;\n        var lineSize = ref.lineSize;\n        var relative = axisDir > 0 ? point[axis] - lineBox[axisOrigin] : lineBox[axisOrigin] - point[axis];\n        var offset = relative / lineSize;\n\n        return offset;\n    };\n\n    // Computes the axis range change (delta) for a given scale factor.\n    // The delta is subtracted from the axis range:\n    //   * delta > 0 reduces the axis range (zoom-in)\n    //   * delta < 0 expands the axis range (zoom-out)\n    Axis.prototype.scaleToDelta = function scaleToDelta (rawScale, range) {\n        // Scale >= 1 would result in axis range of 0.\n        // Scale <= -1 would reverse the scale direction.\n        var MAX_SCALE = 0.999;\n        var scale = limitValue(rawScale, -MAX_SCALE, MAX_SCALE);\n\n        var delta;\n        if (scale > 0) {\n            delta = range * Math.min(1, scale);\n        } else {\n            delta = range - (range / (1 + scale));\n        }\n\n        return delta;\n    };\n\n    Axis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {\n        return !this.options.justified;\n    };\n\n    //add legacy fields to the options that are no longer generated by default\n    Axis.prototype.prepareUserOptions = function prepareUserOptions () {\n    };\n\n    return Axis;\n}(ChartElement));\n\nsetDefaultOptions(Axis, {\n    labels: {\n        visible: true,\n        rotation: 0,\n        mirror: false,\n        step: 1,\n        skip: 0\n    },\n    line: {\n        width: 1,\n        color: BLACK$1,\n        visible: true\n    },\n    title: {\n        visible: true,\n        position: CENTER\n    },\n    majorTicks: {\n        align: OUTSIDE$1,\n        size: 4,\n        skip: 0,\n        step: 1\n    },\n    minorTicks: {\n        align: OUTSIDE$1,\n        size: 3,\n        skip: 0,\n        step: 1\n    },\n    axisCrossingValue: 0,\n    majorTickType: OUTSIDE$1,\n    minorTickType: NONE,\n    majorGridLines: {\n        skip: 0,\n        step: 1\n    },\n    minorGridLines: {\n        visible: false,\n        width: 1,\n        color: BLACK$1,\n        skip: 0,\n        step: 1\n    },\n    // TODO: Move to line or labels options\n    margin: 5,\n    visible: true,\n    reverse: false,\n    justified: true,\n    notes: {\n        label: {\n            text: \"\"\n        }\n    },\n\n    _alignLines: true,\n    _deferLabels: false\n});\n\nvar MILLISECONDS = \"milliseconds\";\nvar SECONDS = \"seconds\";\nvar MINUTES = \"minutes\";\nvar HOURS = \"hours\";\nvar DAYS = \"days\";\nvar WEEKS = \"weeks\";\nvar MONTHS = \"months\";\nvar YEARS = \"years\";\n\nvar TIME_PER_MILLISECOND = 1;\nvar TIME_PER_SECOND = 1000;\nvar TIME_PER_MINUTE = 60 * TIME_PER_SECOND;\nvar TIME_PER_HOUR = 60 * TIME_PER_MINUTE;\nvar TIME_PER_DAY = 24 * TIME_PER_HOUR;\nvar TIME_PER_WEEK = 7 * TIME_PER_DAY;\nvar TIME_PER_MONTH = 31 * TIME_PER_DAY;\nvar TIME_PER_YEAR = 365 * TIME_PER_DAY;\nvar TIME_PER_UNIT = {\n    \"years\": TIME_PER_YEAR,\n    \"months\": TIME_PER_MONTH,\n    \"weeks\": TIME_PER_WEEK,\n    \"days\": TIME_PER_DAY,\n    \"hours\": TIME_PER_HOUR,\n    \"minutes\": TIME_PER_MINUTE,\n    \"seconds\": TIME_PER_SECOND,\n    \"milliseconds\": TIME_PER_MILLISECOND\n};\n\nfunction absoluteDateDiff(a, b) {\n    var diff = a.getTime() - b;\n    var offsetDiff = a.getTimezoneOffset() - b.getTimezoneOffset();\n\n    return diff - (offsetDiff * TIME_PER_MINUTE);\n}\n\nfunction addTicks(date, ticks) {\n    return new Date(date.getTime() + ticks);\n}\n\nfunction toDate(value) {\n    var result;\n\n    if (value instanceof Date) {\n        result = value;\n    } else if (value) {\n        result = new Date(value);\n    }\n\n    return result;\n}\n\nfunction startOfWeek(date, weekStartDay) {\n    if ( weekStartDay === void 0 ) weekStartDay = 0;\n\n    var daysToSubtract = 0;\n    var day = date.getDay();\n\n    if (!isNaN(day)) {\n        while (day !== weekStartDay) {\n            if (day === 0) {\n                day = 6;\n            } else {\n                day--;\n            }\n\n            daysToSubtract++;\n        }\n    }\n\n    return addTicks(date, -daysToSubtract * TIME_PER_DAY);\n}\n\nfunction adjustDST(date, hours) {\n    if (hours === 0 && date.getHours() === 23) {\n        date.setHours(date.getHours() + 2);\n        return true;\n    }\n\n    return false;\n}\n\nfunction addHours(date, hours) {\n    var roundedDate = new Date(date);\n\n    roundedDate.setMinutes(0, 0, 0);\n\n    var tzDiff = (date.getTimezoneOffset() - roundedDate.getTimezoneOffset()) * TIME_PER_MINUTE;\n\n    return addTicks(roundedDate, tzDiff + hours * TIME_PER_HOUR);\n}\n\nfunction addDuration(dateValue, value, unit, weekStartDay) {\n    var result = dateValue;\n\n    if (dateValue) {\n        var date = toDate(dateValue);\n        var hours = date.getHours();\n\n        if (unit === YEARS) {\n            result = new Date(date.getFullYear() + value, 0, 1);\n            adjustDST(result, 0);\n        } else if (unit === MONTHS) {\n            result = new Date(date.getFullYear(), date.getMonth() + value, 1);\n            adjustDST(result, hours);\n        } else if (unit === WEEKS) {\n            result = addDuration(startOfWeek(date, weekStartDay), value * 7, DAYS);\n            adjustDST(result, hours);\n        } else if (unit === DAYS) {\n            result = new Date(date.getFullYear(), date.getMonth(), date.getDate() + value);\n            adjustDST(result, hours);\n        } else if (unit === HOURS) {\n            result = addHours(date, value);\n        } else if (unit === MINUTES) {\n            result = addTicks(date, value * TIME_PER_MINUTE);\n\n            if (result.getSeconds() > 0) {\n                result.setSeconds(0);\n            }\n        } else if (unit === SECONDS) {\n            result = addTicks(date, value * TIME_PER_SECOND);\n        } else if (unit === MILLISECONDS) {\n            result = addTicks(date, value);\n        }\n\n        if (unit !== MILLISECONDS && result.getMilliseconds() > 0) {\n            result.setMilliseconds(0);\n        }\n    }\n\n    return result;\n}\n\nfunction floorDate(date, unit, weekStartDay) {\n    return addDuration(toDate(date), 0, unit, weekStartDay);\n}\n\nfunction ceilDate(dateValue, unit, weekStartDay) {\n    var date = toDate(dateValue);\n\n    if (date && floorDate(date, unit, weekStartDay).getTime() === date.getTime()) {\n        return date;\n    }\n\n    return addDuration(date, 1, unit, weekStartDay);\n}\n\nfunction dateComparer(a, b) {\n    if (a && b) {\n        return a.getTime() - b.getTime();\n    }\n\n    return -1;\n}\n\nfunction dateDiff(a, b) {\n    return a.getTime() - b;\n}\n\nfunction toTime(value) {\n    if (isArray(value)) {\n        var result = [];\n        for (var idx = 0; idx < value.length; idx++) {\n            result.push(toTime(value[idx]));\n        }\n\n        return result;\n    } else if (value) {\n        return toDate(value).getTime();\n    }\n}\n\nfunction dateEquals(a, b) {\n    if (a && b) {\n        return toTime(a) === toTime(b);\n    }\n\n    return a === b;\n}\n\nfunction timeIndex(date, start, baseUnit) {\n    return absoluteDateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n}\n\nfunction dateIndex(value, start, baseUnit, baseUnitStep) {\n    var date = toDate(value);\n    var startDate = toDate(start);\n    var index;\n\n    if (baseUnit === MONTHS) {\n        index = (date.getMonth() - startDate.getMonth() + (date.getFullYear() - startDate.getFullYear()) * 12) +\n            timeIndex(date, new Date(date.getFullYear(), date.getMonth()), DAYS) / new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n    } else if (baseUnit === YEARS) {\n        index = date.getFullYear() - startDate.getFullYear() + dateIndex(date, new Date(date.getFullYear(), 0), MONTHS, 1) / 12;\n    } else if (baseUnit === DAYS || baseUnit === WEEKS) {\n        index = timeIndex(date, startDate, baseUnit);\n    } else {\n        index = dateDiff(date, start) / TIME_PER_UNIT[baseUnit];\n    }\n\n    return index / baseUnitStep;\n}\n\nfunction duration(a, b, unit) {\n    var diff;\n\n    if (unit === YEARS) {\n        diff = b.getFullYear() - a.getFullYear();\n    } else if (unit === MONTHS) {\n        diff = duration(a, b, YEARS) * 12 + b.getMonth() - a.getMonth();\n    } else if (unit === DAYS) {\n        diff = Math.floor(dateDiff(b, a) / TIME_PER_DAY);\n    } else {\n        diff = Math.floor(dateDiff(b, a) / TIME_PER_UNIT[unit]);\n    }\n\n    return diff;\n}\n\nfunction lteDateIndex(date, sortedDates) {\n    var low = 0;\n    var high = sortedDates.length - 1;\n    var index;\n\n    while (low <= high) {\n        index = Math.floor((low + high) / 2);\n        var currentDate = sortedDates[index];\n\n        if (currentDate < date) {\n            low = index + 1;\n            continue;\n        }\n\n        if (currentDate > date) {\n            high = index - 1;\n            continue;\n        }\n\n        while (dateEquals(sortedDates[index - 1], date)) {\n            index--;\n        }\n\n        return index;\n    }\n\n    if (sortedDates[index] <= date) {\n        return index;\n    }\n\n    return index - 1;\n}\n\nfunction parseDate(intlService, date) {\n    var result;\n    if (isString$1(date)) {\n        result = intlService.parseDate(date) || toDate(date);\n    } else {\n        result = toDate(date);\n    }\n    return result;\n}\n\nfunction parseDates(intlService, dates) {\n    if (isArray(dates)) {\n        var result = [];\n        for (var idx = 0; idx < dates.length; idx++) {\n            result.push(parseDate(intlService, dates[idx]));\n        }\n\n        return result;\n    }\n\n    return parseDate(intlService, dates);\n}\n\nfunction firstDay(options, intlService) {\n    if (isNumber(options.weekStartDay)) {\n        return options.weekStartDay;\n    }\n\n    if (intlService && intlService.firstDay) {\n        return intlService.firstDay();\n    }\n\n    return 0;\n}\n\nvar MIN_CATEGORY_POINTS_RANGE = 0.01;\nvar MIN_CATEGORY_RANGE = 0.1;\n\nfunction indexOf(value, arr) {\n    if (value instanceof Date) {\n        var length = arr.length;\n        for (var idx = 0; idx < length; idx++) {\n            if (dateEquals(arr[idx], value)) {\n                return idx;\n            }\n        }\n\n        return -1;\n    }\n\n    return arr.indexOf(value);\n}\n\nvar CategoryAxis = (function (Axis) {\n    function CategoryAxis () {\n        Axis.apply(this, arguments);\n    }\n\n    if ( Axis ) CategoryAxis.__proto__ = Axis;\n    CategoryAxis.prototype = Object.create( Axis && Axis.prototype );\n    CategoryAxis.prototype.constructor = CategoryAxis;\n\n    CategoryAxis.prototype.initFields = function initFields () {\n        this._ticks = {};\n    };\n\n    CategoryAxis.prototype.categoriesHash = function categoriesHash () {\n        return \"\";\n    };\n\n    CategoryAxis.prototype.clone = function clone () {\n        var copy = new CategoryAxis(Object.assign({}, this.options, {\n            categories: this.options.srcCategories\n        }), this.chartService);\n        copy.createLabels();\n\n        return copy;\n    };\n\n    CategoryAxis.prototype.initUserOptions = function initUserOptions (options) {\n        var categories = options.categories || [];\n        var definedMin = defined(options.min);\n        var definedMax = defined(options.max);\n        options.srcCategories = options.categories = categories;\n\n        if ((definedMin || definedMax) && categories.length) {\n            var min = definedMin ? Math.floor(options.min) : 0;\n            var max;\n\n            if (definedMax) {\n                max = options.justified ? Math.floor(options.max) + 1 : Math.ceil(options.max);\n            } else {\n                max = categories.length;\n            }\n\n            options.categories = options.categories.slice(min, max);\n        }\n\n        return options;\n    };\n\n    CategoryAxis.prototype.rangeIndices = function rangeIndices () {\n        var options = this.options;\n        var length = options.categories.length || 1;\n        var min = isNumber(options.min) ? options.min % 1 : 0;\n        var max;\n\n        if (isNumber(options.max) && options.max % 1 !== 0 && options.max < this.totalRange().max) {\n            max = length - (1 - options.max % 1);\n        } else {\n            max = length - (options.justified ? 1 : 0);\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    CategoryAxis.prototype.range = function range () {\n        var options = this.options;\n        var min = isNumber(options.min) ? options.min : 0;\n        var max = isNumber(options.max) ? options.max : this.totalRange().max;\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    CategoryAxis.prototype.roundedRange = function roundedRange () {\n        return this.range();\n    };\n\n    CategoryAxis.prototype.totalRange = function totalRange () {\n        var options = this.options;\n        return { min: 0, max: Math.max(this._seriesMax || 0, options.srcCategories.length) - (options.justified ? 1 : 0) };\n    };\n\n    CategoryAxis.prototype.scaleOptions = function scaleOptions () {\n        var ref = this.rangeIndices();\n        var min = ref.min;\n        var max = ref.max;\n        var lineBox = this.lineBox();\n        var size = this.options.vertical ? lineBox.height() : lineBox.width();\n        var scale = size / ((max - min) || 1);\n\n        return {\n            scale: scale * (this.options.reverse ? -1 : 1),\n            box: lineBox,\n            min: min,\n            max: max\n        };\n    };\n\n    CategoryAxis.prototype.arrangeLabels = function arrangeLabels () {\n        Axis.prototype.arrangeLabels.call(this);\n        this.hideOutOfRangeLabels();\n    };\n\n    CategoryAxis.prototype.hideOutOfRangeLabels = function hideOutOfRangeLabels () {\n        var ref = this;\n        var box = ref.box;\n        var labels = ref.labels;\n\n        if (labels.length > 0) {\n            var valueAxis = this.options.vertical ? Y : X;\n            var start = box[valueAxis + 1];\n            var end = box[valueAxis + 2];\n            var firstLabel = labels[0];\n            var lastLabel = last(labels);\n\n            if (firstLabel.box[valueAxis + 1] > end || firstLabel.box[valueAxis + 2] < start) {\n                firstLabel.options.visible = false;\n            }\n            if (lastLabel.box[valueAxis + 1] > end || lastLabel.box[valueAxis + 2] < start) {\n                lastLabel.options.visible = false;\n            }\n        }\n    };\n\n    CategoryAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {\n        return this.getTicks().majorTicks;\n    };\n\n    CategoryAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {\n        return this.getTicks().minorTicks;\n    };\n\n    CategoryAxis.prototype.getLabelsTickPositions = function getLabelsTickPositions () {\n        return this.getTicks().labelTicks;\n    };\n\n    CategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {\n        var ref = this.rangeIndices();\n        var min = ref.min;\n        var max = ref.max;\n        var limit = Math.ceil(max);\n        var current = Math.floor(min);\n        var indices = [];\n\n        while (current <= limit) {\n            indices.push(current);\n            current += stepSize;\n        }\n\n        return indices;\n    };\n\n    CategoryAxis.prototype.getTickPositions = function getTickPositions (stepSize) {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        var ref$1 = this.scaleOptions();\n        var scale = ref$1.scale;\n        var box = ref$1.box;\n        var min = ref$1.min;\n        var pos = box[(vertical ? Y : X) + (reverse ? 2 : 1)];\n        var indices = this.tickIndices(stepSize);\n        var positions = [];\n\n        for (var idx = 0; idx < indices.length; idx++) {\n            positions.push(pos + round$1(scale * (indices[idx] - min), COORD_PRECISION));\n        }\n\n        return positions;\n    };\n\n    CategoryAxis.prototype.getTicks = function getTicks () {\n        var options = this.options;\n        var cache = this._ticks;\n        var range = this.rangeIndices();\n        var lineBox = this.lineBox();\n        var hash = lineBox.getHash() + range.min + \",\" + range.max + options.reverse + options.justified;\n\n        if (cache._hash !== hash) {\n            var hasMinor = options.minorTicks.visible || options.minorGridLines.visible;\n            cache._hash = hash;\n            cache.labelTicks = this.getTickPositions(1);\n            cache.majorTicks = this.filterOutOfRangePositions(cache.labelTicks, lineBox);\n            cache.minorTicks = hasMinor ? this.filterOutOfRangePositions(this.getTickPositions(0.5), lineBox) : [];\n        }\n\n        return cache;\n    };\n\n    CategoryAxis.prototype.filterOutOfRangePositions = function filterOutOfRangePositions (positions, lineBox) {\n        if (!positions.length) {\n            return positions;\n        }\n\n        var axis = this.options.vertical ? Y : X;\n        var inRange = function (position) { return lineBox[axis + 1] <= position && position <= lineBox[axis + 2]; };\n\n        var end = positions.length - 1;\n        var startIndex = 0;\n        while (!inRange(positions[startIndex]) && startIndex <= end) {\n            startIndex++;\n        }\n\n        var endIndex = end;\n\n        while (!inRange(positions[endIndex]) && endIndex >= 0) {\n            endIndex--;\n        }\n\n        return positions.slice(startIndex, endIndex + 1);\n    };\n\n    CategoryAxis.prototype.lineInfo = function lineInfo () {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n        var lineBox = this.lineBox();\n        var lineSize = vertical ? lineBox.height() : lineBox.width();\n        var axis = vertical ? Y : X;\n        var axisDir = reverse ? -1 : 1;\n        var startEdge = axisDir === 1 ? 1 : 2;\n        var axisOrigin = axis + startEdge.toString();\n        var lineStart = lineBox[axisOrigin];\n\n        return {\n            axis: axis,\n            axisOrigin: axisOrigin,\n            axisDir: axisDir,\n            lineBox: lineBox,\n            lineSize: lineSize,\n            lineStart: lineStart\n        };\n    };\n\n    CategoryAxis.prototype.lineDir = function lineDir () {\n        /*\n         *  Category axis line direction:\n         *    * Vertical: down.\n         *    * Horizontal: right.\n         */\n\n        var ref = this.options;\n        var reverse = ref.reverse;\n        return reverse ? -1 : 1;\n    };\n\n    // TODO: Rename to slotBox, valueSlot, slotByIndex?\n    CategoryAxis.prototype.getSlot = function getSlot (from, to, limit) {\n        var options = this.options;\n        var reverse = options.reverse;\n        var justified = options.justified;\n        var ref = this.scaleOptions();\n        var scale = ref.scale;\n        var box = ref.box;\n        var min = ref.min;\n        var ref$1 = this.lineInfo();\n        var valueAxis = ref$1.axis;\n        var lineStart = ref$1.lineStart;\n\n        var slotBox = box.clone();\n        var singleSlot = !defined(to);\n\n        var start = valueOrDefault(from, 0);\n        var end = valueOrDefault(to, start);\n        end = Math.max(end - 1, start);\n\n        // Fixes transient bug caused by iOS 6.0 JIT\n        // (one can never be too sure)\n        end = Math.max(start, end);\n\n        var p1 = lineStart + (start - min) * scale;\n        var p2 = lineStart + (end + 1 - min) * scale;\n\n        if (singleSlot && justified) {\n            p2 = p1;\n        }\n\n        if (limit) {\n            p1 = limitValue(p1, box[valueAxis + 1], box[valueAxis + 2]);\n            p2 = limitValue(p2, box[valueAxis + 1], box[valueAxis + 2]);\n        }\n\n        slotBox[valueAxis + 1] = reverse ? p2 : p1;\n        slotBox[valueAxis + 2] = reverse ? p1 : p2;\n\n        return slotBox;\n    };\n\n    CategoryAxis.prototype.limitSlot = function limitSlot (slot) {\n        var vertical = this.options.vertical;\n        var valueAxis = vertical ? Y : X;\n        var lineBox = this.lineBox();\n        var limittedSlot = slot.clone();\n\n        limittedSlot[valueAxis + 1] = limitValue(slot[valueAxis + 1], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n        limittedSlot[valueAxis + 2] = limitValue(slot[valueAxis + 2], lineBox[valueAxis + 1], lineBox[valueAxis + 2]);\n\n        return limittedSlot;\n    };\n\n    CategoryAxis.prototype.slot = function slot (from, to, limit) {\n        var min = Math.floor(this.options.min || 0);\n        var start = from;\n        var end = to;\n\n        if (typeof start === \"string\") {\n            start = this.categoryIndex(start);\n        } else if (isNumber(start)) {\n            start -= min;\n        }\n\n        if (typeof end === \"string\") {\n            end = this.categoryIndex(end);\n        } else if (isNumber(end)) {\n            end -= min;\n        }\n\n        return Axis.prototype.slot.call(this, start, end, limit);\n    };\n\n    CategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {\n        var ref = this.options;\n        var reverse = ref.reverse;\n        var justified = ref.justified;\n        var vertical = ref.vertical;\n        var valueAxis = vertical ? Y : X;\n        var ref$1 = this.scaleOptions();\n        var scale = ref$1.scale;\n        var box = ref$1.box;\n        var min = ref$1.min;\n        var max = ref$1.max;\n        var startValue = reverse ? max : min;\n        var lineStart = box[valueAxis + 1];\n        var lineEnd = box[valueAxis + 2];\n        var pos = point[valueAxis];\n\n        if (pos < lineStart || pos > lineEnd) {\n            return null;\n        }\n\n        var value = startValue + (pos - lineStart) / scale;\n        var diff = value % 1;\n\n        if (justified) {\n            value = Math.round(value);\n        } else if (diff === 0 && value > 0) {\n            value--;\n        }\n\n        return Math.floor(value);\n    };\n\n    CategoryAxis.prototype.getCategory = function getCategory (point) {\n        var index = this.pointCategoryIndex(point);\n\n        if (index === null) {\n            return null;\n        }\n\n        return this.options.categories[index];\n    };\n\n    CategoryAxis.prototype.categoryIndex = function categoryIndex (value) {\n        return this.totalIndex(value) - Math.floor(this.options.min || 0);\n    };\n\n    CategoryAxis.prototype.categoryAt = function categoryAt (index, total) {\n        var options = this.options;\n\n        return (total ? options.srcCategories : options.categories)[index];\n    };\n\n    CategoryAxis.prototype.categoriesCount = function categoriesCount () {\n        return (this.options.categories || []).length;\n    };\n\n    CategoryAxis.prototype.translateRange = function translateRange (delta) {\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var size = options.vertical ? lineBox.height() : lineBox.width();\n        var range = options.categories.length;\n        var scale = size / range;\n        var offset = round$1(delta / scale, DEFAULT_PRECISION);\n\n        return {\n            min: offset,\n            max: range + offset\n        };\n    };\n\n    CategoryAxis.prototype.scaleRange = function scaleRange (scale, cursor) {\n        var position = Math.abs(this.pointOffset(cursor));\n        var rangeIndices = this.limitedRangeIndices();\n        var range = rangeIndices.max - rangeIndices.min;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = position * delta;\n        var maxDelta = (1 - position) * delta;\n        var min = rangeIndices.min + minDelta;\n        var max = rangeIndices.max - maxDelta;\n\n        if (max - min < MIN_CATEGORY_RANGE) {\n            max = min + MIN_CATEGORY_RANGE;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    CategoryAxis.prototype.zoomRange = function zoomRange (scale, cursor) {\n        var ref = this.totalRange();\n        var totalMin = ref.min;\n        var totalMax = ref.max;\n        var range = this.scaleRange(scale, cursor);\n\n        return {\n            min: limitValue(range.min, totalMin, totalMax),\n            max: limitValue(range.max, totalMin, totalMax)\n        };\n    };\n\n    CategoryAxis.prototype.labelsCount = function labelsCount () {\n        var labelsRange = this.labelsRange();\n\n        return labelsRange.max - labelsRange.min;\n    };\n\n    CategoryAxis.prototype.labelsRange = function labelsRange () {\n        var options = this.options;\n        var justified = options.justified;\n        var labelOptions = options.labels;\n        var ref = this.limitedRangeIndices(true);\n        var min = ref.min;\n        var max = ref.max;\n        var start = Math.floor(min);\n\n        if (!justified) {\n            min = Math.floor(min);\n            max = Math.ceil(max);\n        } else {\n            min = Math.ceil(min);\n            max = Math.floor(max);\n        }\n\n        var skip;\n\n        if (min > labelOptions.skip) {\n            skip = labelOptions.skip + labelOptions.step * Math.ceil((min - labelOptions.skip) / labelOptions.step);\n        } else {\n            skip = labelOptions.skip;\n        }\n\n        return {\n            min: skip - start,\n            max: (options.categories.length ? max + (justified ? 1 : 0) : 0) - start\n        };\n    };\n\n    CategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {\n        var options = this.options;\n        var dataItem = options.dataItems ? options.dataItems[index] : null;\n        var category = valueOrDefault(options.categories[index], \"\");\n\n        labelContext.dataItem = dataItem;\n        var text = this.axisLabelText(category, labelOptions, labelContext);\n\n        return new AxisLabel(category, text, index, dataItem, labelOptions);\n    };\n\n    CategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {\n        var range = this.limitedRangeIndices();\n\n        return Math.floor(range.min) <= value && value <= Math.ceil(range.max);\n    };\n\n    CategoryAxis.prototype.noteSlot = function noteSlot (value) {\n        var options = this.options;\n        var index = value - Math.floor(options.min || 0);\n        return this.getSlot(index);\n    };\n\n    CategoryAxis.prototype.arrangeNotes = function arrangeNotes () {\n        Axis.prototype.arrangeNotes.call(this);\n        this.hideOutOfRangeNotes();\n    };\n\n    CategoryAxis.prototype.hideOutOfRangeNotes = function hideOutOfRangeNotes () {\n        var ref = this;\n        var notes = ref.notes;\n        var box = ref.box;\n        if (notes && notes.length) {\n            var valueAxis = this.options.vertical ? Y : X;\n            var start = box[valueAxis + 1];\n            var end = box[valueAxis + 2];\n\n            for (var idx = 0; idx < notes.length; idx++) {\n                var note = notes[idx];\n                if (note.box && (end < note.box[valueAxis + 1] || note.box[valueAxis + 2] < start)) {\n                    note.hide();\n                }\n            }\n        }\n    };\n\n    CategoryAxis.prototype.pan = function pan (delta) {\n        var range = this.limitedRangeIndices(true);\n        var ref = this.scaleOptions();\n        var scale = ref.scale;\n        var offset = round$1(delta / scale, DEFAULT_PRECISION);\n        var totalRange = this.totalRange();\n        var min = range.min + offset;\n        var max = range.max + offset;\n\n        return this.limitRange(min, max, 0, totalRange.max, offset);\n    };\n\n    CategoryAxis.prototype.pointsRange = function pointsRange (start, end) {\n        var ref = this.options;\n        var reverse = ref.reverse;\n        var vertical = ref.vertical;\n        var valueAxis = vertical ? Y : X;\n        var range = this.limitedRangeIndices(true);\n        var ref$1 = this.scaleOptions();\n        var scale = ref$1.scale;\n        var box = ref$1.box;\n        var lineStart = box[valueAxis + (reverse ? 2 : 1)];\n\n        var diffStart = start[valueAxis] - lineStart;\n        var diffEnd = end[valueAxis] - lineStart;\n\n        var min = range.min + diffStart / scale;\n        var max = range.min + diffEnd / scale;\n        var rangeMin = Math.min(min, max);\n        var rangeMax = Math.max(min, max);\n\n        if (rangeMax - rangeMin >= MIN_CATEGORY_POINTS_RANGE) {\n            return {\n                min: rangeMin,\n                max: rangeMax\n            };\n        }\n    };\n\n    CategoryAxis.prototype.valueRange = function valueRange () {\n        return this.range();\n    };\n\n    CategoryAxis.prototype.totalIndex = function totalIndex (value) {\n        var options = this.options;\n        var index = this._categoriesMap ?\n            this._categoriesMap.get(value) : indexOf(value, options.srcCategories);\n\n        return index;\n    };\n\n    CategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {\n        var options = this.options;\n        var min = 0;\n\n        if (isNumber(options.min)) {\n            min = Math.floor(options.min);\n        }\n\n        var max;\n        if (isNumber(options.max)) {\n            max = options.justified ? Math.floor(options.max) : Math.ceil(options.max) - 1;\n        } else {\n            max = this.totalCount() - 1;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    CategoryAxis.prototype.limitedRangeIndices = function limitedRangeIndices (totalLimit) {\n        var options = this.options;\n        var min = isNumber(options.min) ? options.min : 0;\n        var max;\n\n        if (isNumber(options.max)) {\n            max = options.max;\n        } else if (isNumber(options.min)) {\n            max = min + options.categories.length;\n        } else {\n            max = this.totalRange().max || 1;\n        }\n\n        if (totalLimit) {\n            var totalRange = this.totalRange();\n            min = limitValue(min, 0, totalRange.max);\n            max = limitValue(max, 0, totalRange.max);\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    CategoryAxis.prototype.totalRangeIndices = function totalRangeIndices () {\n        return {\n            min: 0,\n            max: this.totalRange().max || 1\n        };\n    };\n\n    CategoryAxis.prototype.indexCategories = function indexCategories () {\n        if (!this._categoriesMap) {\n            var map = this._categoriesMap = new HashMap();\n            var srcCategories = this.options.srcCategories;\n            for (var idx = 0; idx < srcCategories.length; idx++) {\n                map.set(srcCategories[idx], idx);\n            }\n        }\n    };\n\n    CategoryAxis.prototype.totalCount = function totalCount () {\n        return Math.max(this.options.srcCategories.length, this._seriesMax || 0);\n    };\n\n    return CategoryAxis;\n}(Axis));\n\nsetDefaultOptions(CategoryAxis, {\n    type: \"category\",\n    vertical: false,\n    majorGridLines: {\n        visible: false,\n        width: 1,\n        color: BLACK$1\n    },\n    labels: {\n        zIndex: 1\n    },\n    justified: false,\n    _deferLabels: true\n});\n\nvar COORDINATE_LIMIT = 300000;\n\nvar DateLabelFormats = {\n    milliseconds: \"HH:mm:ss.fff\",\n    seconds: \"HH:mm:ss\",\n    minutes: \"HH:mm\",\n    hours: \"HH:mm\",\n    days: \"M/d\",\n    weeks: \"M/d\",\n    months: \"MMM 'yy\",\n    years: \"yyyy\"\n};\n\nvar ZERO_THRESHOLD = 0.2;\n\nvar AUTO$1 = \"auto\";\nvar BASE_UNITS = [\n    MILLISECONDS, SECONDS, MINUTES, HOURS, DAYS, WEEKS, MONTHS, YEARS\n];\nvar FIT = \"fit\";\n\n\nfunction categoryRange(categories, clearCache) {\n    if (clearCache) {\n        categories._range = undefined;\n    }\n\n    var range = categories._range;\n    if (!range) {\n        range = categories._range = sparseArrayLimits(categories);\n        range.min = toDate(range.min);\n        range.max = toDate(range.max);\n    }\n\n    return range;\n}\n\nvar EmptyDateRange = function EmptyDateRange(options) {\n    this.options = options;\n};\n\nEmptyDateRange.prototype.displayIndices = function displayIndices () {\n    return {\n        min: 0,\n        max: 1\n    };\n};\n\nEmptyDateRange.prototype.displayRange = function displayRange () {\n    return {};\n};\n\nEmptyDateRange.prototype.total = function total () {\n    return {};\n};\n\nEmptyDateRange.prototype.valueRange = function valueRange () {\n    return {};\n};\n\nEmptyDateRange.prototype.valueIndex = function valueIndex () {\n    return -1;\n};\n\nEmptyDateRange.prototype.values = function values () {\n    return [];\n};\n\nEmptyDateRange.prototype.totalIndex = function totalIndex () {\n    return -1;\n};\n\nEmptyDateRange.prototype.valuesCount = function valuesCount () {\n    return 0;\n};\n\nEmptyDateRange.prototype.totalCount = function totalCount () {\n    return 0;\n};\n\nEmptyDateRange.prototype.dateAt = function dateAt () {\n    return null;\n};\n\nvar DateRange = function DateRange(start, end, options) {\n    this.options = options;\n    options.baseUnitStep = options.baseUnitStep || 1;\n\n    var roundToBaseUnit = options.roundToBaseUnit;\n    var justified = options.justified;\n\n    this.start = addDuration(start, 0, options.baseUnit, options.weekStartDay);\n    var lowerEnd = this.roundToTotalStep(end);\n    var expandEnd = !justified && dateEquals(end, lowerEnd) && !options.justifyEnd;\n\n    this.end = this.roundToTotalStep(end, !justified, expandEnd ? 1 : 0);\n\n    var min = options.min || start;\n    this.valueStart = this.roundToTotalStep(min);\n    this.displayStart = roundToBaseUnit ? this.valueStart : min;\n\n    var max = options.max;\n    if (!max) {\n        this.valueEnd = lowerEnd;\n        this.displayEnd = roundToBaseUnit || expandEnd ? this.end : end;\n    } else {\n        var next = !justified && dateEquals(max, this.roundToTotalStep(max)) ? -1 : 0;\n        this.valueEnd = this.roundToTotalStep(max, false, next);\n        this.displayEnd = roundToBaseUnit ? this.roundToTotalStep(max, !justified) : options.max;\n    }\n\n    if (this.valueEnd < this.valueStart) {\n        this.valueEnd = this.valueStart;\n    }\n    if (this.displayEnd <= this.displayStart) {\n        this.displayEnd = this.roundToTotalStep(this.displayStart, false, 1);\n    }\n};\n\nDateRange.prototype.displayRange = function displayRange () {\n    return {\n        min: this.displayStart,\n        max: this.displayEnd\n    };\n};\n\nDateRange.prototype.displayIndices = function displayIndices () {\n    if (!this._indices) {\n        var options = this.options;\n\n        var baseUnit = options.baseUnit;\n            var baseUnitStep = options.baseUnitStep;\n\n        var minIdx = dateIndex(this.displayStart, this.valueStart, baseUnit, baseUnitStep);\n        var maxIdx = dateIndex(this.displayEnd, this.valueStart, baseUnit, baseUnitStep);\n\n        this._indices = { min: minIdx, max: maxIdx };\n    }\n\n    return this._indices;\n};\n\nDateRange.prototype.total = function total () {\n    return {\n        min: this.start,\n        max: this.end\n    };\n};\n\nDateRange.prototype.totalCount = function totalCount () {\n    var last = this.totalIndex(this.end);\n\n    return last + (this.options.justified ? 1 : 0);\n};\n\nDateRange.prototype.valueRange = function valueRange () {\n    return {\n        min: this.valueStart,\n        max: this.valueEnd\n    };\n};\n\nDateRange.prototype.valueIndex = function valueIndex (value) {\n    var options = this.options;\n    return Math.floor(dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep));\n};\n\nDateRange.prototype.totalIndex = function totalIndex (value) {\n    var options = this.options;\n    return Math.floor(dateIndex(value, this.start, options.baseUnit, options.baseUnitStep));\n};\n\nDateRange.prototype.dateIndex = function dateIndex$1 (value) {\n    var options = this.options;\n    return dateIndex(value, this.valueStart, options.baseUnit, options.baseUnitStep);\n};\n\nDateRange.prototype.valuesCount = function valuesCount () {\n    var maxIdx = this.valueIndex(this.valueEnd);\n\n    return maxIdx + 1;\n};\n\nDateRange.prototype.values = function values () {\n    var values = this._values;\n    if (!values) {\n        var options = this.options;\n        var range = this.valueRange();\n        this._values = values = [];\n\n        for (var date = range.min; date <= range.max;) {\n            values.push(date);\n            date = addDuration(date, options.baseUnitStep, options.baseUnit, options.weekStartDay);\n        }\n    }\n\n    return values;\n};\n\nDateRange.prototype.dateAt = function dateAt (index, total) {\n    var options = this.options;\n\n    return addDuration(total ? this.start : this.valueStart, options.baseUnitStep * index, options.baseUnit, options.weekStartDay);\n};\n\nDateRange.prototype.roundToTotalStep = function roundToTotalStep (value, upper, next) {\n    var ref = this.options;\n        var baseUnit = ref.baseUnit;\n        var baseUnitStep = ref.baseUnitStep;\n        var weekStartDay = ref.weekStartDay;\n    var start = this.start;\n\n    var step = dateIndex(value, start, baseUnit, baseUnitStep);\n    var roundedStep = upper ? Math.ceil(step) : Math.floor(step);\n\n    if (next) {\n        roundedStep += next;\n    }\n\n    return addDuration(start, roundedStep * baseUnitStep, baseUnit, weekStartDay);\n};\n\nfunction autoBaseUnit(options, startUnit, startStep) {\n    var categoryLimits = categoryRange(options.categories);\n    var span = (options.max || categoryLimits.max) - (options.min || categoryLimits.min);\n    var autoBaseUnitSteps = options.autoBaseUnitSteps;\n    var maxDateGroups = options.maxDateGroups;\n    var autoUnit = options.baseUnit === FIT;\n    var autoUnitIx = startUnit ? BASE_UNITS.indexOf(startUnit) : 0;\n    var baseUnit = autoUnit ? BASE_UNITS[autoUnitIx++] : options.baseUnit;\n    var units = span / TIME_PER_UNIT[baseUnit];\n    var totalUnits = units;\n    var unitSteps, step, nextStep;\n\n    while (!step || units >= maxDateGroups) {\n        unitSteps = unitSteps || autoBaseUnitSteps[baseUnit].slice(0);\n\n        do {\n            nextStep = unitSteps.shift();\n        } while (nextStep && startUnit === baseUnit && nextStep < startStep);\n\n        if (nextStep) {\n            step = nextStep;\n            units = totalUnits / step;\n        } else if (baseUnit === last(BASE_UNITS)) {\n            step = Math.ceil(totalUnits / maxDateGroups);\n            break;\n        } else if (autoUnit) {\n            baseUnit = BASE_UNITS[autoUnitIx++] || last(BASE_UNITS);\n            totalUnits = span / TIME_PER_UNIT[baseUnit];\n            unitSteps = null;\n        } else {\n            if (units > maxDateGroups) {\n                step = Math.ceil(totalUnits / maxDateGroups);\n            }\n            break;\n        }\n    }\n\n    options.baseUnitStep = step;\n    options.baseUnit = baseUnit;\n}\n\nfunction defaultBaseUnit(options) {\n    var categories = options.categories;\n    var count = defined(categories) ? categories.length : 0;\n    var minDiff = MAX_VALUE;\n    var lastCategory, unit;\n\n    for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n        var category = categories[categoryIx];\n\n        if (category && lastCategory) {\n            var diff = Math.abs(absoluteDateDiff(category, lastCategory));\n\n            if (diff !== 0) {\n                minDiff = Math.min(minDiff, diff);\n\n                if (minDiff >= TIME_PER_YEAR) {\n                    unit = YEARS;\n                } else if (minDiff >= TIME_PER_MONTH - TIME_PER_DAY * 3) {\n                    unit = MONTHS;\n                } else if (minDiff >= TIME_PER_WEEK) {\n                    unit = WEEKS;\n                } else if (minDiff >= TIME_PER_DAY) {\n                    unit = DAYS;\n                } else if (minDiff >= TIME_PER_HOUR) {\n                    unit = HOURS;\n                } else if (minDiff >= TIME_PER_MINUTE) {\n                    unit = MINUTES;\n                } else {\n                    unit = SECONDS;\n                }\n            }\n        }\n\n        lastCategory = category;\n    }\n\n    options.baseUnit = unit || DAYS;\n}\n\nfunction initUnit(options) {\n    var baseUnit = (options.baseUnit || \"\").toLowerCase();\n    var useDefault = baseUnit !== FIT && !inArray(baseUnit, BASE_UNITS);\n\n    if (useDefault) {\n        defaultBaseUnit(options);\n    }\n\n    if (baseUnit === FIT || options.baseUnitStep === AUTO$1) {\n        autoBaseUnit(options);\n    }\n\n    return options;\n}\n\nvar DateCategoryAxis = (function (CategoryAxis) {\n    function DateCategoryAxis () {\n        CategoryAxis.apply(this, arguments);\n    }\n\n    if ( CategoryAxis ) DateCategoryAxis.__proto__ = CategoryAxis;\n    DateCategoryAxis.prototype = Object.create( CategoryAxis && CategoryAxis.prototype );\n    DateCategoryAxis.prototype.constructor = DateCategoryAxis;\n\n    DateCategoryAxis.prototype.clone = function clone () {\n        var copy = new DateCategoryAxis(Object.assign({}, this.options), this.chartService);\n        copy.createLabels();\n\n        return copy;\n    };\n\n    DateCategoryAxis.prototype.categoriesHash = function categoriesHash () {\n        var start = this.dataRange.total().min;\n        return this.options.baseUnit + this.options.baseUnitStep + start;\n    };\n\n    DateCategoryAxis.prototype.initUserOptions = function initUserOptions (options) {\n        return options;\n    };\n\n    DateCategoryAxis.prototype.initFields = function initFields () {\n        CategoryAxis.prototype.initFields.call(this);\n\n        var chartService = this.chartService;\n        var intlService = chartService.intl;\n        var options = this.options;\n\n        var categories = options.categories || [];\n        if (!categories._parsed) {\n            categories = parseDates(intlService, categories);\n            categories._parsed = true;\n        }\n\n        options = deepExtend({\n            roundToBaseUnit: true\n        }, options, {\n            categories: categories,\n            min: parseDate(intlService, options.min),\n            max: parseDate(intlService, options.max),\n            weekStartDay: firstDay(options, intlService)\n        });\n\n        if (chartService.panning && chartService.isPannable(options.vertical ? Y : X)) {\n            options.roundToBaseUnit = false;\n        }\n\n        options.userSetBaseUnit = options.userSetBaseUnit || options.baseUnit;\n        options.userSetBaseUnitStep = options.userSetBaseUnitStep || options.baseUnitStep;\n\n        this.options = options;\n        options.srcCategories = categories;\n\n        if (categories.length > 0) {\n            var range = categoryRange(categories, true);\n            var maxDivisions = options.maxDivisions;\n            var safeOptions = initUnit(options);\n\n            var forecast = options._forecast;\n            if (forecast) {\n                if (forecast.before > 0) {\n                    range.min = addDuration(range.min, -forecast.before, safeOptions.baseUnit, safeOptions.weekStartDay);\n                }\n\n                if (forecast.after > 0) {\n                    range.max = addDuration(range.max, forecast.after, safeOptions.baseUnit, safeOptions.weekStartDay);\n                }\n            }\n\n            this.dataRange = new DateRange(range.min, range.max, safeOptions);\n\n            if (maxDivisions) {\n                var dataRange = this.dataRange.displayRange();\n\n                var divisionOptions = Object.assign({}, options, {\n                    justified: true,\n                    roundToBaseUnit: false,\n                    baseUnit: 'fit',\n                    min: dataRange.min,\n                    max: dataRange.max,\n                    maxDateGroups: maxDivisions\n                });\n\n                var dataRangeOptions = this.dataRange.options;\n\n                autoBaseUnit(divisionOptions, dataRangeOptions.baseUnit, dataRangeOptions.baseUnitStep);\n\n                this.divisionRange = new DateRange(range.min, range.max, divisionOptions);\n            } else {\n                this.divisionRange = this.dataRange;\n            }\n\n        } else {\n            options.baseUnit = options.baseUnit || DAYS;\n            this.dataRange = this.divisionRange = new EmptyDateRange(options);\n        }\n\n        this.rangeLabels = [];\n    };\n\n    DateCategoryAxis.prototype.tickIndices = function tickIndices (stepSize) {\n        var ref = this;\n        var dataRange = ref.dataRange;\n        var divisionRange = ref.divisionRange;\n        var valuesCount = divisionRange.valuesCount();\n\n        if (!this.options.maxDivisions || !valuesCount) {\n            return CategoryAxis.prototype.tickIndices.call(this, stepSize);\n        }\n\n        var indices = [];\n        var values = divisionRange.values();\n        var offset = 0;\n\n        if (!this.options.justified) {\n            values = values.concat(divisionRange.dateAt(valuesCount));\n            offset = 0.5;//align ticks to the center of not justified categories\n        }\n\n        for (var idx = 0; idx < values.length; idx++) {\n            indices.push(dataRange.dateIndex(values[idx]) + offset);\n            if (stepSize !== 1 && idx >= 1) {\n                var last = indices.length - 1;\n                indices.splice(idx, 0, indices[last - 1] + (indices[last] - indices[last - 1]) * stepSize);\n            }\n        }\n\n        return indices;\n    };\n\n    DateCategoryAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {\n        var range = this.range();\n        var categories = this.options.categories || [];\n\n        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0 && categories.length;\n    };\n\n    DateCategoryAxis.prototype.parseNoteValue = function parseNoteValue (value) {\n        return parseDate(this.chartService.intl, value);\n    };\n\n    DateCategoryAxis.prototype.noteSlot = function noteSlot (value) {\n        return this.getSlot(value);\n    };\n\n    DateCategoryAxis.prototype.translateRange = function translateRange (delta) {\n        var options = this.options;\n        var baseUnit = options.baseUnit;\n        var weekStartDay = options.weekStartDay;\n        var vertical = options.vertical;\n        var lineBox = this.lineBox();\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var range = this.range();\n        var scale = size / (range.max - range.min);\n        var offset = round$1(delta / scale, DEFAULT_PRECISION);\n\n        if (range.min && range.max) {\n            var from = addTicks(options.min || range.min, offset);\n            var to = addTicks(options.max || range.max, offset);\n\n            range = {\n                min: addDuration(from, 0, baseUnit, weekStartDay),\n                max: addDuration(to, 0, baseUnit, weekStartDay)\n            };\n        }\n\n        return range;\n    };\n\n    DateCategoryAxis.prototype.labelsRange = function labelsRange () {\n        return {\n            min: this.options.labels.skip,\n            max: this.divisionRange.valuesCount()\n        };\n    };\n\n    DateCategoryAxis.prototype.pan = function pan (delta) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var size = options.vertical ? lineBox.height() : lineBox.width();\n        var ref = this.dataRange.displayRange();\n        var min = ref.min;\n        var max = ref.max;\n        var totalLimits = this.dataRange.total();\n        var scale = size / (max - min);\n        var offset = round$1(delta / scale, DEFAULT_PRECISION) * (options.reverse ? -1 : 1);\n        var from = addTicks(min, offset);\n        var to = addTicks(max, offset);\n\n        var panRange = this.limitRange(toTime(from), toTime(to), toTime(totalLimits.min), toTime(totalLimits.max), offset);\n\n        if (panRange) {\n            panRange.min = toDate(panRange.min);\n            panRange.max = toDate(panRange.max);\n            panRange.baseUnit = options.baseUnit;\n            panRange.baseUnitStep = options.baseUnitStep || 1;\n            panRange.userSetBaseUnit = options.userSetBaseUnit;\n            panRange.userSetBaseUnitStep = options.userSetBaseUnitStep;\n\n            return panRange;\n        }\n    };\n\n    DateCategoryAxis.prototype.pointsRange = function pointsRange (start, end) {\n        if (this.isEmpty()) {\n            return null;\n        }\n\n        var pointsRange = CategoryAxis.prototype.pointsRange.call(this, start, end);\n        var datesRange = this.dataRange.displayRange();\n        var indicesRange = this.dataRange.displayIndices();\n        var scale = dateDiff(datesRange.max, datesRange.min) / (indicesRange.max - indicesRange.min);\n        var options = this.options;\n\n        var min = addTicks(datesRange.min, pointsRange.min * scale);\n        var max = addTicks(datesRange.min, pointsRange.max * scale);\n\n        return {\n            min: min,\n            max: max,\n            baseUnit: options.userSetBaseUnit || options.baseUnit,\n            baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n        };\n    };\n\n    DateCategoryAxis.prototype.scaleRange = function scaleRange (scale, cursor) {\n        if (this.isEmpty()) {\n            return {};\n        }\n\n        var options = this.options;\n        var fit = options.userSetBaseUnit === FIT;\n        var totalLimits = this.dataRange.total();\n        var ref = this.dataRange.displayRange();\n        var rangeMin = ref.min;\n        var rangeMax = ref.max;\n\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = rangeMax - rangeMin;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = Math.round(position * delta);\n        var maxDelta = Math.round((1 - position) * delta);\n\n        var ref$1 = this.dataRange.options;\n        var baseUnit = ref$1.baseUnit;\n        var min = new Date(rangeMin.getTime() + minDelta);\n        var max = new Date(rangeMax.getTime() - maxDelta);\n\n        if (fit) {\n            var autoBaseUnitSteps = options.autoBaseUnitSteps;\n            var maxDateGroups = options.maxDateGroups;\n\n            var maxDiff = last(autoBaseUnitSteps[baseUnit]) * maxDateGroups * TIME_PER_UNIT[baseUnit];\n            var rangeDiff = dateDiff(rangeMax, rangeMin);\n            var diff = dateDiff(max, min);\n            var baseUnitIndex = BASE_UNITS.indexOf(baseUnit);\n            var autoBaseUnitStep, ticks;\n\n            if (diff < TIME_PER_UNIT[baseUnit] && baseUnit !== MILLISECONDS) {\n                baseUnit = BASE_UNITS[baseUnitIndex - 1];\n                autoBaseUnitStep = last(autoBaseUnitSteps[baseUnit]);\n                ticks = (rangeDiff - (maxDateGroups - 1) * autoBaseUnitStep * TIME_PER_UNIT[baseUnit]) / 2;\n                min = addTicks(rangeMin, ticks);\n                max = addTicks(rangeMax, -ticks);\n\n            } else if (diff > maxDiff && baseUnit !== YEARS) {\n                var stepIndex = 0;\n\n                do {\n                    baseUnitIndex++;\n                    baseUnit = BASE_UNITS[baseUnitIndex];\n                    stepIndex = 0;\n                    ticks = 2 * TIME_PER_UNIT[baseUnit];\n                    do {\n                        autoBaseUnitStep = autoBaseUnitSteps[baseUnit][stepIndex];\n                        stepIndex++;\n                    } while (stepIndex < autoBaseUnitSteps[baseUnit].length && ticks * autoBaseUnitStep < rangeDiff);\n                } while (baseUnit !== YEARS && ticks * autoBaseUnitStep < rangeDiff);\n\n                ticks = (ticks * autoBaseUnitStep - rangeDiff) / 2;\n                if (ticks > 0) {\n                    min = addTicks(rangeMin, -ticks);\n                    max = addTicks(rangeMax, ticks);\n                    min = addTicks(min, limitValue(max, totalLimits.min, totalLimits.max) - max);\n                    max = addTicks(max, limitValue(min, totalLimits.min, totalLimits.max) - min);\n                }\n            }\n        }\n\n        if (min && max && dateDiff(max, min) > 0) {\n            return {\n                min: min,\n                max: max,\n                baseUnit: options.userSetBaseUnit || options.baseUnit,\n                baseUnitStep: options.userSetBaseUnitStep || options.baseUnitStep\n            };\n        }\n    };\n\n    DateCategoryAxis.prototype.zoomRange = function zoomRange (scale, cursor) {\n        var totalLimits = this.dataRange.total();\n        var range = this.scaleRange(scale, cursor);\n\n        if (range) {\n            if (range.min < totalLimits.min) {\n                range.min = totalLimits.min;\n            }\n            if (range.max > totalLimits.max) {\n                range.max = totalLimits.max;\n            }\n        }\n\n        return range;\n    };\n\n    DateCategoryAxis.prototype.range = function range () {\n        return this.dataRange.displayRange();\n    };\n\n    DateCategoryAxis.prototype.createLabels = function createLabels () {\n        CategoryAxis.prototype.createLabels.call(this);\n        this.createRangeLabels();\n    };\n\n    DateCategoryAxis.prototype.clearLabels = function clearLabels () {\n        CategoryAxis.prototype.clearLabels.call(this);\n        this.rangeLabels = [];\n    };\n\n    DateCategoryAxis.prototype.arrangeLabels = function arrangeLabels () {\n        this.arrangeRangeLabels();\n        CategoryAxis.prototype.arrangeLabels.call(this);\n    };\n\n    DateCategoryAxis.prototype.arrangeRangeLabels = function arrangeRangeLabels () {\n        var ref = this;\n        var options = ref.options;\n        var rangeLabels = ref.rangeLabels;\n        if (rangeLabels.length === 0) {\n            return;\n        }\n\n        var lineBox = this.lineBox();\n        var vertical = options.vertical;\n        var mirror = options.rangeLabels.mirror || options.labels.mirror;\n\n        var firstLabel = rangeLabels[0];\n        if (firstLabel) {\n            var position = vertical ? lineBox.y1 - (firstLabel.box.height() / 2) : lineBox.x1;\n            this.positionLabel(firstLabel, mirror, position);\n        }\n\n        var lastLabel = rangeLabels[1];\n        if (lastLabel) {\n            var position$1 = vertical ? lineBox.y2 - (lastLabel.box.height() / 2) : lineBox.x2;\n            this.positionLabel(lastLabel, mirror, position$1);\n        }\n    };\n\n    DateCategoryAxis.prototype.autoRotateLabels = function autoRotateLabels () {\n        CategoryAxis.prototype.autoRotateLabels.call(this);\n        this.autoRotateRangeLabels();\n    };\n\n    DateCategoryAxis.prototype.hideOutOfRangeLabels = function hideOutOfRangeLabels () {\n        CategoryAxis.prototype.hideOutOfRangeLabels.call(this);\n        this.hideOverlappingLabels();\n    };\n\n    DateCategoryAxis.prototype.hideOverlappingLabels = function hideOverlappingLabels () {\n        var ref = this;\n        var rangeLabels = ref.rangeLabels;\n        var labels = ref.labels;\n        if (rangeLabels.length === 0) {\n            return;\n        }\n\n        function clip(rangeLabel, label) {\n            if (!label.options.visible || label.box.overlaps(rangeLabel.box)) {\n                label.options.visible = false;\n                return true;\n            }\n\n            return false;\n        }\n\n        var firstRangeLabel = rangeLabels[0];\n        if (firstRangeLabel && firstRangeLabel.options.visible) {\n            for (var i = 0; i < labels.length; i++) {\n                var overlaps = clip(firstRangeLabel, labels[i]);\n                if (!overlaps) {\n                    break;\n                }\n            }\n        }\n\n        var lastRangeLabel = rangeLabels[1];\n        if (lastRangeLabel && lastRangeLabel.options.visible) {\n            for (var i$1 = labels.length - 1; i$1 > 0; --i$1) {\n                var overlaps$1 = clip(lastRangeLabel, labels[i$1]);\n                if (!overlaps$1) {\n                    break;\n                }\n            }\n        }\n    };\n\n    DateCategoryAxis.prototype.contentBox = function contentBox () {\n        var box = CategoryAxis.prototype.contentBox.call(this);\n        var rangeLabels = this.rangeLabels;\n\n        for (var i = 0; i < rangeLabels.length; i++) {\n            var label = rangeLabels[i];\n            if (label.options.visible) {\n                box.wrap(label.box);\n            }\n        }\n\n        return box;\n    };\n\n    DateCategoryAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {\n        if ( labelContext === void 0 ) labelContext = {};\n\n        var options = this.options;\n        var dataItem = options.dataItems && !options.maxDivisions ? options.dataItems[index] : null;\n        var date = this.divisionRange.dateAt(index);\n        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n\n        labelOptions.format = labelOptions.format || unitFormat;\n        labelContext.dataItem = dataItem;\n\n        var text = this.axisLabelText(date, labelOptions, labelContext);\n        if (text) {\n            return new AxisLabel(date, text, index, dataItem, labelOptions);\n        }\n    };\n\n    DateCategoryAxis.prototype.createRangeLabels = function createRangeLabels () {\n        var this$1$1 = this;\n\n        var ref = this.divisionRange;\n        var displayStart = ref.displayStart;\n        var displayEnd = ref.displayEnd;\n        var options = this.options;\n        var labelOptions = Object.assign({}, options.labels, options.rangeLabels, {\n            align: CENTER,\n            zIndex: options.zIndex\n        });\n\n        if (labelOptions.visible !== true) {\n            return;\n        }\n\n        this.normalizeLabelRotation(labelOptions);\n        labelOptions.alignRotation = CENTER;\n\n        if (labelOptions.rotation === \"auto\") {\n            labelOptions.rotation = 0;\n            options.autoRotateRangeLabels = true;\n        }\n\n        var unitFormat = labelOptions.dateFormats[this.divisionRange.options.baseUnit];\n        labelOptions.format = labelOptions.format || unitFormat;\n\n        var createLabel = function (index, date, text) {\n            if (text) {\n                var label = new AxisLabel(date, text, index, null, labelOptions);\n                this$1$1.append(label);\n                this$1$1.rangeLabels.push(label);\n            }\n        };\n\n        var startText = this.axisLabelText(displayStart, labelOptions, { index: 0, count: 2 });\n        createLabel(0, displayStart, startText);\n\n        var endText = this.axisLabelText(displayEnd, labelOptions, { index: 1, count: 2 });\n        createLabel(1, displayEnd, endText);\n    };\n\n    DateCategoryAxis.prototype.autoRotateRangeLabels = function autoRotateRangeLabels () {\n        var this$1$1 = this;\n\n        var labels = this.rangeLabels;\n        if (!this.options.autoRotateRangeLabels || this.options.vertical || labels.length !== 2) {\n            return;\n        }\n\n        var rotateLabel = function (label, tickPositions, index) {\n            var width = Math.abs(tickPositions[index + 1] - tickPositions[index]) * 2;\n            var angle = this$1$1.autoRotateLabelAngle(label.box, width);\n            if (angle !== 0) {\n                label.options.rotation = angle;\n                label.reflow(new Box());\n            }\n        };\n\n        var tickPositions = this.getMajorTickPositions();\n        rotateLabel(labels[0], tickPositions, 0);\n        rotateLabel(labels[1], tickPositions, tickPositions.length - 2);\n    };\n\n    DateCategoryAxis.prototype.categoryIndex = function categoryIndex (value) {\n        return this.dataRange.valueIndex(value);\n    };\n\n    DateCategoryAxis.prototype.slot = function slot (from, to, limit) {\n        var dateRange = this.dataRange;\n        var start = from;\n        var end = to;\n\n        if (start instanceof Date) {\n            start = dateRange.dateIndex(start);\n        }\n\n        if (end instanceof Date) {\n            end = dateRange.dateIndex(end);\n        }\n\n        var slot = this.getSlot(start, end, limit);\n        if (slot) {\n            return slot.toRect();\n        }\n    };\n\n    DateCategoryAxis.prototype.getSlot = function getSlot (a, b, limit) {\n        var start = a;\n        var end = b;\n\n        if (typeof start === OBJECT$1) {\n            start = this.categoryIndex(start);\n        }\n\n        if (typeof end === OBJECT$1) {\n            end = this.categoryIndex(end);\n        }\n\n        return CategoryAxis.prototype.getSlot.call(this, start, end, limit);\n    };\n\n    DateCategoryAxis.prototype.valueRange = function valueRange () {\n        var options = this.options;\n        var range = categoryRange(options.srcCategories);\n\n        return {\n            min: toDate(range.min),\n            max: toDate(range.max)\n        };\n    };\n\n    DateCategoryAxis.prototype.categoryAt = function categoryAt (index, total) {\n        return this.dataRange.dateAt(index, total);\n    };\n\n    DateCategoryAxis.prototype.categoriesCount = function categoriesCount () {\n        return this.dataRange.valuesCount();\n    };\n\n    DateCategoryAxis.prototype.rangeIndices = function rangeIndices () {\n        return this.dataRange.displayIndices();\n    };\n\n    DateCategoryAxis.prototype.labelsBetweenTicks = function labelsBetweenTicks () {\n        return !this.divisionRange.options.justified;\n    };\n\n    DateCategoryAxis.prototype.prepareUserOptions = function prepareUserOptions () {\n        if (this.isEmpty()) {\n            return;\n        }\n\n        this.options.categories = this.dataRange.values();\n    };\n\n    DateCategoryAxis.prototype.getCategory = function getCategory (point) {\n        var index = this.pointCategoryIndex(point);\n\n        if (index === null) {\n            return null;\n        }\n\n        return this.dataRange.dateAt(index);\n    };\n\n    DateCategoryAxis.prototype.totalIndex = function totalIndex (value) {\n        return this.dataRange.totalIndex(value);\n    };\n\n    DateCategoryAxis.prototype.currentRangeIndices = function currentRangeIndices () {\n        var range = this.dataRange.valueRange();\n        return {\n            min: this.dataRange.totalIndex(range.min),\n            max: this.dataRange.totalIndex(range.max)\n        };\n    };\n\n    DateCategoryAxis.prototype.totalRange = function totalRange () {\n        return this.dataRange.total();\n    };\n\n    DateCategoryAxis.prototype.totalRangeIndices = function totalRangeIndices () {\n        var range = this.dataRange.total();\n        return {\n            min: this.dataRange.totalIndex(range.min),\n            max: this.dataRange.totalIndex(range.max)\n        };\n    };\n\n    DateCategoryAxis.prototype.totalCount = function totalCount () {\n        return this.dataRange.totalCount();\n    };\n\n    DateCategoryAxis.prototype.isEmpty = function isEmpty () {\n        return !this.options.srcCategories.length;\n    };\n\n    DateCategoryAxis.prototype.roundedRange = function roundedRange () {\n        if (this.options.roundToBaseUnit !== false || this.isEmpty()) {\n            return this.range();\n        }\n\n        var options = this.options;\n        var datesRange = categoryRange(options.srcCategories);\n\n        var dateRange = new DateRange(datesRange.min, datesRange.max, Object.assign({}, options, {\n            justified: false,\n            roundToBaseUnit: true,\n            justifyEnd: false\n        }));\n\n        return dateRange.displayRange();\n    };\n\n    return DateCategoryAxis;\n}(CategoryAxis));\n\nsetDefaultOptions(DateCategoryAxis, {\n    type: DATE,\n    labels: {\n        dateFormats: DateLabelFormats\n    },\n    rangeLabels: {\n        visible: false\n    },\n    autoBaseUnitSteps: {\n        milliseconds: [ 1, 10, 100 ],\n        seconds: [ 1, 2, 5, 15, 30 ],\n        minutes: [ 1, 2, 5, 15, 30 ],\n        hours: [ 1, 2, 3 ],\n        days: [ 1, 2, 3 ],\n        weeks: [ 1, 2 ],\n        months: [ 1, 2, 3, 6 ],\n        years: [ 1, 2, 3, 5, 10, 25, 50 ]\n    },\n    maxDateGroups: 10\n});\n\nfunction autoAxisMin$1(min, max, narrow) {\n    if (!min && !max) {\n        return 0;\n    }\n\n    var axisMin;\n\n    if (min >= 0 && max >= 0) {\n        var minValue = min === max ? 0 : min;\n\n        var diff = (max - minValue) / max;\n        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {\n            return 0;\n        }\n\n        axisMin = Math.max(0, minValue - ((max - minValue) / 2));\n    } else {\n        axisMin = min;\n    }\n\n    return axisMin;\n}\n\nfunction autoAxisMax$1(min, max, narrow) {\n    if (!min && !max) {\n        return 1;\n    }\n\n    var axisMax;\n\n    if (min <= 0 && max <= 0) {\n        var maxValue = min === max ? 0 : max;\n\n        var diff = Math.abs((maxValue - min) / maxValue);\n        if (narrow === false || (!narrow && diff > ZERO_THRESHOLD)) {\n            return 0;\n        }\n\n        axisMax = Math.min(0, maxValue - ((min - maxValue) / 2));\n    } else {\n        axisMax = max;\n    }\n\n    return axisMax;\n}\n\nfunction floor(value, step) {\n    return round$1(Math.floor(value / step) * step, DEFAULT_PRECISION);\n}\n\nfunction ceil(value, step) {\n    return round$1(Math.ceil(value / step) * step, DEFAULT_PRECISION);\n}\n\nfunction limitCoordinate(value) {\n    return Math.max(Math.min(value, COORDINATE_LIMIT), -COORDINATE_LIMIT);\n}\n\nvar MIN_VALUE_RANGE$2 = Math.pow(10, -DEFAULT_PRECISION + 1);\n\nvar NumericAxis = (function (Axis) {\n    function NumericAxis(seriesMin, seriesMax, options, chartService) {\n        Axis.call(this, Object.assign({}, options, {\n            seriesMin: seriesMin,\n            seriesMax: seriesMax\n        }), chartService);\n    }\n\n    if ( Axis ) NumericAxis.__proto__ = Axis;\n    NumericAxis.prototype = Object.create( Axis && Axis.prototype );\n    NumericAxis.prototype.constructor = NumericAxis;\n\n    NumericAxis.prototype.initUserOptions = function initUserOptions (options) {\n        var autoOptions = autoAxisOptions(options.seriesMin, options.seriesMax, options);\n        this.totalOptions = totalAxisOptions(autoOptions, options);\n\n        return axisOptions(autoOptions, options);\n    };\n\n    NumericAxis.prototype.initFields = function initFields () {\n        this.totalMin = this.totalOptions.min;\n        this.totalMax = this.totalOptions.max;\n        this.totalMajorUnit = this.totalOptions.majorUnit;\n        this.seriesMin = this.options.seriesMin;\n        this.seriesMax = this.options.seriesMax;\n    };\n\n    NumericAxis.prototype.clone = function clone () {\n        return new NumericAxis(\n            this.seriesMin,\n            this.seriesMax,\n            Object.assign({}, this.options),\n            this.chartService\n        );\n    };\n\n    NumericAxis.prototype.startValue = function startValue () {\n        return 0;\n    };\n\n    NumericAxis.prototype.range = function range () {\n        var options = this.options;\n        return { min: options.min, max: options.max };\n    };\n\n    NumericAxis.prototype.getDivisions = function getDivisions (stepValue) {\n        if (stepValue === 0) {\n            return 1;\n        }\n\n        var options = this.options;\n        var range = options.max - options.min;\n\n        return Math.floor(round$1(range / stepValue, COORD_PRECISION)) + 1;\n    };\n\n    NumericAxis.prototype.getTickPositions = function getTickPositions (unit, skipUnit) {\n        var options = this.options;\n        var ref = this.lineInfo();\n        var axisDir = ref.axisDir;\n        var axisOrigin = ref.axisOrigin;\n        var lineBox = ref.lineBox;\n        var lineSize = ref.lineSize;\n        var range = options.max - options.min;\n        var scale = lineSize / range;\n        var step = unit * scale;\n        var divisions = this.getDivisions(unit);\n        var positions = [];\n        var pos = lineBox[axisOrigin];\n        var skipStep = 0;\n\n        if (skipUnit) {\n            skipStep = skipUnit / unit;\n        }\n\n        for (var idx = 0; idx < divisions; idx++) {\n            if (idx % skipStep !== 0) {\n                positions.push(round$1(pos, COORD_PRECISION));\n            }\n\n            pos = pos + step * axisDir;\n        }\n\n        return positions;\n    };\n\n    NumericAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {\n        return this.getTickPositions(this.options.majorUnit);\n    };\n\n    NumericAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {\n        return this.getTickPositions(this.options.minorUnit);\n    };\n\n    NumericAxis.prototype.getSlot = function getSlot (a, b, limit) {\n        if ( limit === void 0 ) limit = false;\n\n        var options = this.options;\n        var ref = this.lineInfo();\n        var axis = ref.axis;\n        var axisDir = ref.axisDir;\n        var lineBox = ref.lineBox;\n        var lineSize = ref.lineSize;\n        var lineStart = ref.lineStart;\n        var step = axisDir * (lineSize / (options.max - options.min));\n\n        var start = valueOrDefault(a, b || 0);\n        var end = valueOrDefault(b, a || 0);\n\n        if (limit) {\n            start = limitValue(start, options.min, options.max);\n            end = limitValue(end, options.min, options.max);\n        }\n\n        var p1 = Math.min(start, end) - options.min;\n        var p2 = Math.max(start, end) - options.min;\n\n        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\n        slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));\n        slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));\n\n        return slotBox;\n    };\n\n    NumericAxis.prototype.getValue = function getValue (point) {\n        var options = this.options;\n        var max = Number(options.max);\n        var min = Number(options.min);\n        var offset = this.pointOffset(point);\n        var valueOffset = offset * (max - min);\n\n        if (offset < 0 || offset > 1) {\n            return null;\n        }\n\n        var value = min + valueOffset;\n        return round$1(value, DEFAULT_PRECISION);\n    };\n\n    NumericAxis.prototype.translateRange = function translateRange (delta) {\n        var options = this.options;\n        var vertical = options.vertical;\n        var reverse = options.reverse;\n        var max = options.max;\n        var min = options.min;\n        var ref = this.lineInfo();\n        var lineSize = ref.lineSize;\n        var range = max - min;\n        var scale = lineSize / range;\n        var offset = round$1(delta / scale, DEFAULT_PRECISION);\n\n        if ((vertical || reverse) && !(vertical && reverse )) {\n            offset = -offset;\n        }\n\n        return {\n            min: min + offset,\n            max: max + offset,\n            offset: offset\n        };\n    };\n\n    NumericAxis.prototype.labelsCount = function labelsCount () {\n        return this.getDivisions(this.options.majorUnit);\n    };\n\n    NumericAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {\n        var options = this.options;\n        var value = round$1(options.min + (index * options.majorUnit), DEFAULT_PRECISION);\n        var text = this.axisLabelText(value, labelOptions, labelContext);\n\n        return new AxisLabel(value, text, index, null, labelOptions);\n    };\n\n    NumericAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {\n        var range = this.range();\n        return range.min <= value && value <= range.max;\n    };\n\n    NumericAxis.prototype.pan = function pan (delta) {\n        var range = this.translateRange(delta);\n        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);\n    };\n\n    NumericAxis.prototype.pointsRange = function pointsRange (start, end) {\n        var startValue = this.getValue(start);\n        var endValue = this.getValue(end);\n        var min = Math.min(startValue, endValue);\n        var max = Math.max(startValue, endValue);\n\n        if (this.isValidRange(min, max)) {\n            return {\n                min: min,\n                max: max\n            };\n        }\n    };\n\n    NumericAxis.prototype.scaleRange = function scaleRange (scale, cursor) {\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = this.options.max - this.options.min;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = position * delta;\n        var maxDelta = (1 - position) * delta;\n        var min = round$1(this.options.min + minDelta, DEFAULT_PRECISION);\n        var max = round$1(this.options.max - maxDelta, DEFAULT_PRECISION);\n\n        if (max - min < MIN_VALUE_RANGE$2) {\n            max = min + MIN_VALUE_RANGE$2;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    NumericAxis.prototype.zoomRange = function zoomRange (scale, cursor) {\n        var ref = this;\n        var totalMin = ref.totalMin;\n        var totalMax = ref.totalMax;\n        var range = this.scaleRange(scale, cursor);\n\n        return {\n            min: limitValue(range.min, totalMin, totalMax),\n            max: limitValue(range.max, totalMin, totalMax),\n            narrowRange: false\n        };\n    };\n\n    NumericAxis.prototype.isValidRange = function isValidRange (min, max) {\n        return max - min > MIN_VALUE_RANGE$2;\n    };\n\n    return NumericAxis;\n}(Axis));\n\nfunction autoAxisOptions(seriesMin, seriesMax, options) {\n    var narrowRange = options.narrowRange;\n\n    var autoMin = autoAxisMin$1(seriesMin, seriesMax, narrowRange);\n    var autoMax = autoAxisMax$1(seriesMin, seriesMax, narrowRange);\n\n    var majorUnit = autoMajorUnit(autoMin, autoMax);\n    var autoOptions = {\n        majorUnit: majorUnit\n    };\n\n    if (options.roundToMajorUnit !== false) {\n        if (autoMin < 0 && remainderClose(autoMin, majorUnit, 1 / 3)) {\n            autoMin -= majorUnit;\n        }\n\n        if (autoMax > 0 && remainderClose(autoMax, majorUnit, 1 / 3)) {\n            autoMax += majorUnit;\n        }\n    }\n\n    autoOptions.min = floor(autoMin, majorUnit);\n    autoOptions.max = ceil(autoMax, majorUnit);\n\n    return autoOptions;\n}\n\nfunction totalAxisOptions(autoOptions, options) {\n    return {\n        min: defined(options.min) ? Math.min(autoOptions.min, options.min) : autoOptions.min,\n        max: defined(options.max) ? Math.max(autoOptions.max, options.max) : autoOptions.max,\n        majorUnit: autoOptions.majorUnit\n    };\n}\n\nfunction clearNullValues(options, fields) {\n    for (var idx = 0; idx < fields.length; idx++) {\n        var field = fields[idx];\n        if (options[field] === null) {\n            options[field] = undefined;\n        }\n    }\n}\n\nfunction axisOptions(autoOptions, userOptions) {\n    var options = userOptions;\n    var userSetMin, userSetMax;\n\n    if (userOptions) {\n        clearNullValues(userOptions, [ 'min', 'max' ]);\n\n        userSetMin = defined(userOptions.min);\n        userSetMax = defined(userOptions.max);\n\n        var userSetLimits = userSetMin || userSetMax;\n\n        if (userSetLimits) {\n            if (userOptions.min === userOptions.max) {\n                if (userOptions.min > 0) {\n                    userOptions.min = 0;\n                } else {\n                    userOptions.max = 1;\n                }\n            }\n        }\n\n        if (userOptions.majorUnit) {\n            autoOptions.min = floor(autoOptions.min, userOptions.majorUnit);\n            autoOptions.max = ceil(autoOptions.max, userOptions.majorUnit);\n        } else if (userSetLimits) {\n            options = deepExtend(autoOptions, userOptions);\n\n            // Determine an auto major unit after min/max have been set\n            autoOptions.majorUnit = autoMajorUnit(options.min, options.max);\n        }\n    }\n\n    autoOptions.minorUnit = (options.majorUnit || autoOptions.majorUnit) / 5;\n\n    var result = deepExtend(autoOptions, options);\n    if (result.min >= result.max) {\n        if (userSetMin && !userSetMax) {\n            result.max = result.min + result.majorUnit;\n        } else if (!userSetMin && userSetMax) {\n            result.min = result.max - result.majorUnit;\n        }\n    }\n\n    return result;\n}\n\nfunction remainderClose(value, divisor, ratio) {\n    var remainder = round$1(Math.abs(value % divisor), DEFAULT_PRECISION);\n    var threshold = divisor * (1 - ratio);\n\n    return remainder === 0 || remainder > threshold;\n}\n\nsetDefaultOptions(NumericAxis, {\n    type: \"numeric\",\n    min: 0,\n    max: 1,\n    vertical: true,\n    majorGridLines: {\n        visible: true,\n        width: 1,\n        color: BLACK$1\n    },\n    labels: {\n        format: \"#.####################\"\n    },\n    zIndex: 1\n});\n\nvar MIN_VALUE_RANGE$1 = 1000;\n\nvar DateValueAxis = (function (Axis) {\n    function DateValueAxis(seriesMin, seriesMax, axisOptions, chartService) {\n        var min = toDate(seriesMin);\n        var max = toDate(seriesMax);\n\n        var intlService = chartService.intl;\n        var options = axisOptions || {};\n        options = deepExtend(options || {}, {\n            min: parseDate(intlService, options.min),\n            max: parseDate(intlService, options.max),\n            axisCrossingValue: parseDates(intlService, options.axisCrossingValues || options.axisCrossingValue),\n            weekStartDay: firstDay(options, intlService)\n        });\n        options = applyDefaults(min, max, options);\n\n        Axis.call(this, options, chartService);\n\n        this.intlService = intlService;\n        this.seriesMin = min;\n        this.seriesMax = max;\n\n        var weekStartDay = options.weekStartDay || 0;\n        this.totalMin = toTime(floorDate(toTime(min) - 1, options.baseUnit, weekStartDay));\n        this.totalMax = toTime(ceilDate(toTime(max) + 1, options.baseUnit, weekStartDay));\n    }\n\n    if ( Axis ) DateValueAxis.__proto__ = Axis;\n    DateValueAxis.prototype = Object.create( Axis && Axis.prototype );\n    DateValueAxis.prototype.constructor = DateValueAxis;\n\n    DateValueAxis.prototype.clone = function clone () {\n        return new DateValueAxis(this.seriesMin, this.seriesMax, Object.assign({}, this.options), this.chartService);\n    };\n\n    DateValueAxis.prototype.range = function range () {\n        var options = this.options;\n        return { min: options.min, max: options.max };\n    };\n\n    DateValueAxis.prototype.getDivisions = function getDivisions (stepValue) {\n        var options = this.options;\n\n        return Math.floor(\n            duration(options.min, options.max, options.baseUnit) / stepValue + 1\n        );\n    };\n\n    DateValueAxis.prototype.getTickPositions = function getTickPositions (step) {\n        var options = this.options;\n        var ref = this.lineInfo();\n        var dir = ref.axisDir;\n        var lineSize = ref.lineSize;\n        var start = ref.lineStart;\n        var divisions = this.getDivisions(step);\n        var timeRange = dateDiff(options.max, options.min);\n        var scale = lineSize / timeRange;\n        var weekStartDay = options.weekStartDay || 0;\n\n        var positions = [ start ];\n        for (var i = 1; i < divisions; i++) {\n            var date = addDuration(options.min, i * step, options.baseUnit, weekStartDay);\n            var pos = start + dateDiff(date, options.min) * scale * dir;\n\n            positions.push(round$1(pos, COORD_PRECISION));\n        }\n\n        return positions;\n    };\n\n    DateValueAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {\n        return this.getTickPositions(this.options.majorUnit);\n    };\n\n    DateValueAxis.prototype.getMinorTickPositions = function getMinorTickPositions () {\n        return this.getTickPositions(this.options.minorUnit);\n    };\n\n    DateValueAxis.prototype.getSlot = function getSlot (a, b, limit) {\n        return NumericAxis.prototype.getSlot.call(\n            this, parseDate(this.intlService, a), parseDate(this.intlService, b), limit\n        );\n    };\n\n    DateValueAxis.prototype.getValue = function getValue (point) {\n        var value = NumericAxis.prototype.getValue.call(this, point);\n\n        return value !== null ? toDate(value) : null;\n    };\n\n    DateValueAxis.prototype.labelsCount = function labelsCount () {\n        return this.getDivisions(this.options.majorUnit);\n    };\n\n    DateValueAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {\n        var options = this.options;\n        var offset = index * options.majorUnit;\n        var weekStartDay = options.weekStartDay || 0;\n        var date = options.min;\n\n        if (offset > 0) {\n            date = addDuration(date, offset, options.baseUnit, weekStartDay);\n        }\n\n        var unitFormat = labelOptions.dateFormats[options.baseUnit];\n        labelOptions.format = labelOptions.format || unitFormat;\n\n        var text = this.axisLabelText(date, labelOptions, labelContext);\n        return new AxisLabel(date, text, index, null, labelOptions);\n    };\n\n    DateValueAxis.prototype.translateRange = function translateRange (delta) {\n        var options = this.options;\n        var lineBox = this.lineBox();\n        var vertical = options.vertical;\n        var reverse = options.reverse;\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var range = this.range();\n        var scale = size / dateDiff(range.max, range.min);\n\n        var offset = round$1(delta / scale, DEFAULT_PRECISION);\n        if ((vertical || reverse) && !(vertical && reverse )) {\n            offset = -offset;\n        }\n\n        var from = addTicks(options.min, offset);\n        var to = addTicks(options.max, offset);\n\n        return {\n            min: from,\n            max: to,\n            offset: offset\n        };\n    };\n\n    DateValueAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {\n        var range = this.range();\n\n        return dateComparer(value, range.min) >= 0 && dateComparer(value, range.max) <= 0;\n    };\n\n    DateValueAxis.prototype.pan = function pan (delta) {\n        var range = this.translateRange(delta, true);\n        var limittedRange = this.limitRange(toTime(range.min), toTime(range.max), this.totalMin, this.totalMax, range.offset);\n\n        if (limittedRange) {\n            return {\n                min: toDate(limittedRange.min),\n                max: toDate(limittedRange.max)\n            };\n        }\n    };\n\n    DateValueAxis.prototype.pointsRange = function pointsRange (start, end) {\n        var startValue = this.getValue(start);\n        var endValue = this.getValue(end);\n        var min = Math.min(startValue, endValue);\n        var max = Math.max(startValue, endValue);\n\n        return {\n            min: toDate(min),\n            max: toDate(max)\n        };\n    };\n\n    DateValueAxis.prototype.scaleRange = function scaleRange (scale, cursor) {\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = this.options.max - this.options.min;\n        var delta = this.scaleToDelta(scale, range);\n        var minDelta = position * delta;\n        var maxDelta = (1 - position) * delta;\n        var min = toDate(toTime(this.options.min) + minDelta);\n        var max = toDate(toTime(this.options.max) - maxDelta);\n\n        if (max - min < MIN_VALUE_RANGE$1) {\n            max = toDate(toTime(min) + MIN_VALUE_RANGE$1);\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    DateValueAxis.prototype.zoomRange = function zoomRange (scale, cursor) {\n        var range = this.scaleRange(scale, cursor);\n        var min = toDate(limitValue(toTime(range.min), this.totalMin, this.totalMax));\n        var max = toDate(limitValue(toTime(range.max), this.totalMin, this.totalMax));\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    return DateValueAxis;\n}(Axis));\n\nfunction timeUnits(delta) {\n    var unit = HOURS;\n\n    if (delta >= TIME_PER_YEAR) {\n        unit = YEARS;\n    } else if (delta >= TIME_PER_MONTH) {\n        unit = MONTHS;\n    } else if (delta >= TIME_PER_WEEK) {\n        unit = WEEKS;\n    } else if (delta >= TIME_PER_DAY) {\n        unit = DAYS;\n    }\n\n    return unit;\n}\n\nfunction applyDefaults(seriesMin, seriesMax, options) {\n    var min = options.min || seriesMin;\n    var max = options.max || seriesMax;\n    var baseUnit = options.baseUnit || (max && min ? timeUnits(absoluteDateDiff(max, min)) : HOURS);\n    var baseUnitTime = TIME_PER_UNIT[baseUnit];\n    var weekStartDay = options.weekStartDay || 0;\n    var autoMin = floorDate(toTime(min) - 1, baseUnit, weekStartDay) || toDate(max);\n    var autoMax = ceilDate(toTime(max) + 1, baseUnit, weekStartDay);\n    var userMajorUnit = options.majorUnit ? options.majorUnit : undefined;\n    var majorUnit = userMajorUnit || ceil(\n        autoMajorUnit(autoMin.getTime(), autoMax.getTime()),\n        baseUnitTime\n    ) / baseUnitTime;\n    var actualUnits = duration(autoMin, autoMax, baseUnit);\n    var totalUnits = ceil(actualUnits, majorUnit);\n    var unitsToAdd = totalUnits - actualUnits;\n    var head = Math.floor(unitsToAdd / 2);\n    var tail = unitsToAdd - head;\n\n    if (!options.baseUnit) {\n        delete options.baseUnit;\n    }\n\n    options.baseUnit = options.baseUnit || baseUnit;\n    options.min = options.min || addDuration(autoMin, -head, baseUnit, weekStartDay);\n    options.max = options.max || addDuration(autoMax, tail, baseUnit, weekStartDay);\n    options.minorUnit = options.minorUnit || majorUnit / 5;\n    options.majorUnit = majorUnit;\n\n    return options;\n}\n\nsetDefaultOptions(DateValueAxis, {\n    type: DATE,\n    majorGridLines: {\n        visible: true,\n        width: 1,\n        color: BLACK$1\n    },\n    labels: {\n        dateFormats: DateLabelFormats\n    }\n});\n\nvar DEFAULT_MAJOR_UNIT = 10;\nvar MIN_VALUE_RANGE = 1e-6;\n\nvar LogarithmicAxis = (function (Axis) {\n    function LogarithmicAxis(seriesMin, seriesMax, options, chartService) {\n\n        var axisOptions = deepExtend({ majorUnit: DEFAULT_MAJOR_UNIT, min: seriesMin, max: seriesMax }, options);\n        var base = axisOptions.majorUnit;\n        var autoMax = autoAxisMax(seriesMax, base);\n        var autoMin = autoAxisMin(seriesMin, seriesMax, axisOptions);\n        var range = initRange(autoMin, autoMax, axisOptions, options);\n\n        axisOptions.max = range.max;\n        axisOptions.min = range.min;\n        axisOptions.minorUnit = options.minorUnit || round$1(base - 1, DEFAULT_PRECISION);\n\n        Axis.call(this, axisOptions, chartService);\n\n        this.totalMin = defined(options.min) ? Math.min(autoMin, options.min) : autoMin;\n        this.totalMax = defined(options.max) ? Math.max(autoMax, options.max) : autoMax;\n        this.logMin = round$1(log$1(range.min, base), DEFAULT_PRECISION);\n        this.logMax = round$1(log$1(range.max, base), DEFAULT_PRECISION);\n        this.seriesMin = seriesMin;\n        this.seriesMax = seriesMax;\n\n        this.createLabels();\n    }\n\n    if ( Axis ) LogarithmicAxis.__proto__ = Axis;\n    LogarithmicAxis.prototype = Object.create( Axis && Axis.prototype );\n    LogarithmicAxis.prototype.constructor = LogarithmicAxis;\n\n    LogarithmicAxis.prototype.clone = function clone () {\n        return new LogarithmicAxis(\n            this.seriesMin,\n            this.seriesMax,\n            Object.assign({}, this.options),\n            this.chartService\n        );\n    };\n\n    LogarithmicAxis.prototype.startValue = function startValue () {\n        return this.options.min;\n    };\n\n    LogarithmicAxis.prototype.getSlot = function getSlot (a, b, limit) {\n        var ref = this;\n        var options = ref.options;\n        var logMin = ref.logMin;\n        var logMax = ref.logMax;\n        var base = options.majorUnit;\n        var min = options.min;\n        var max = options.max;\n        var ref$1 = this.lineInfo();\n        var axis = ref$1.axis;\n        var axisDir = ref$1.axisDir;\n        var lineBox = ref$1.lineBox;\n        var lineSize = ref$1.lineSize;\n        var lineStart = ref$1.lineStart;\n        var step = axisDir * (lineSize / (logMax - logMin));\n        var start = valueOrDefault(a, b || 1);\n        var end = valueOrDefault(b, a || 1);\n\n        if (start <= 0 || end <= 0) {\n            return null;\n        }\n\n        if (limit) {\n            start = limitValue(start, min, max);\n            end = limitValue(end, min, max);\n        }\n\n        start = log$1(start, base);\n        end = log$1(end, base);\n\n        var p1 = Math.min(start, end) - logMin;\n        var p2 = Math.max(start, end) - logMin;\n\n        var slotBox = new Box(lineBox.x1, lineBox.y1, lineBox.x1, lineBox.y1);\n        slotBox[axis + 1] = limitCoordinate(lineStart + step * (axisDir > 0 ? p1 : p2));\n        slotBox[axis + 2] = limitCoordinate(lineStart + step * (axisDir > 0 ? p2 : p1));\n\n        return slotBox;\n    };\n\n    LogarithmicAxis.prototype.getValue = function getValue (point) {\n        var ref = this;\n        var options = ref.options;\n        var logMin = ref.logMin;\n        var logMax = ref.logMax;\n        var base = options.majorUnit;\n        var ref$1 = this.lineInfo();\n        var axis = ref$1.axis;\n        var axisDir = ref$1.axisDir;\n        var lineStart = ref$1.lineStart;\n        var lineSize = ref$1.lineSize;\n        var step = ((logMax - logMin) / lineSize);\n        var offset = axisDir * (point[axis] - lineStart);\n        var valueOffset = offset * step;\n\n        if (offset < 0 || offset > lineSize) {\n            return null;\n        }\n\n        var value = logMin + valueOffset;\n\n        return round$1(Math.pow(base, value), DEFAULT_PRECISION);\n    };\n\n    LogarithmicAxis.prototype.range = function range () {\n        var options = this.options;\n        return { min: options.min, max: options.max };\n    };\n\n    LogarithmicAxis.prototype.translateRange = function translateRange (delta) {\n        var ref = this;\n        var options = ref.options;\n        var logMin = ref.logMin;\n        var logMax = ref.logMax;\n        var reverse = options.reverse;\n        var vertical = options.vertical;\n        var base = options.majorUnit;\n        var lineBox = this.lineBox();\n        var size = vertical ? lineBox.height() : lineBox.width();\n        var scale = size / (logMax - logMin);\n        var offset = round$1(delta / scale, DEFAULT_PRECISION);\n\n        if ((vertical || reverse) && !(vertical && reverse )) {\n            offset = -offset;\n        }\n\n        return {\n            min: Math.pow(base, logMin + offset),\n            max: Math.pow(base, logMax + offset),\n            offset: offset\n        };\n    };\n\n    LogarithmicAxis.prototype.labelsCount = function labelsCount () {\n        var floorMax = Math.floor(this.logMax);\n        var count = Math.floor(floorMax - this.logMin) + 1;\n\n        return count;\n    };\n\n    LogarithmicAxis.prototype.getMajorTickPositions = function getMajorTickPositions () {\n        var ticks = [];\n\n        this.traverseMajorTicksPositions(function (position) {\n            ticks.push(position);\n        }, { step: 1, skip: 0 });\n\n        return ticks;\n    };\n\n    LogarithmicAxis.prototype.createTicks = function createTicks (lineGroup) {\n        var options = this.options;\n        var majorTicks = options.majorTicks;\n        var minorTicks = options.minorTicks;\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var lineBox = this.lineBox();\n        var ticks = [];\n        var tickLineOptions = {\n            // TODO\n            // _alignLines: options._alignLines,\n            vertical: vertical\n        };\n\n        function render(tickPosition, tickOptions) {\n            tickLineOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n            tickLineOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n            tickLineOptions.position = tickPosition;\n\n            lineGroup.append(createAxisTick(tickLineOptions, tickOptions));\n        }\n\n        if (majorTicks.visible) {\n            this.traverseMajorTicksPositions(render, majorTicks);\n        }\n\n        if (minorTicks.visible) {\n            this.traverseMinorTicksPositions(render, minorTicks);\n        }\n\n        return ticks;\n    };\n\n    LogarithmicAxis.prototype.createGridLines = function createGridLines (altAxis) {\n        var options = this.options;\n        var minorGridLines = options.minorGridLines;\n        var majorGridLines = options.majorGridLines;\n        var vertical = options.vertical;\n        var lineBox = altAxis.lineBox();\n        var lineOptions = {\n            lineStart: lineBox[vertical ? \"x1\" : \"y1\"],\n            lineEnd: lineBox[vertical ? \"x2\" : \"y2\"],\n            vertical: vertical\n        };\n        var majorTicks = [];\n\n        var container = this.gridLinesVisual();\n        function render(tickPosition, gridLine) {\n            if (!inArray(tickPosition, majorTicks)) {\n                lineOptions.position = tickPosition;\n                container.append(createAxisGridLine(lineOptions, gridLine));\n\n                majorTicks.push(tickPosition);\n            }\n        }\n\n        if (majorGridLines.visible) {\n            this.traverseMajorTicksPositions(render, majorGridLines);\n        }\n\n        if (minorGridLines.visible) {\n            this.traverseMinorTicksPositions(render, minorGridLines);\n        }\n\n        return container.children;\n    };\n\n    LogarithmicAxis.prototype.traverseMajorTicksPositions = function traverseMajorTicksPositions (callback, tickOptions) {\n        var ref = this.lineInfo();\n        var lineStart = ref.lineStart;\n        var step = ref.step;\n        var ref$1 = this;\n        var logMin = ref$1.logMin;\n        var logMax = ref$1.logMax;\n\n        for (var power = Math.ceil(logMin) + tickOptions.skip; power <= logMax; power += tickOptions.step) {\n            var position = round$1(lineStart + step * (power - logMin), DEFAULT_PRECISION);\n            callback(position, tickOptions);\n        }\n    };\n\n    LogarithmicAxis.prototype.traverseMinorTicksPositions = function traverseMinorTicksPositions (callback, tickOptions) {\n        var this$1$1 = this;\n\n        var ref = this.options;\n        var min = ref.min;\n        var max = ref.max;\n        var minorUnit = ref.minorUnit;\n        var base = ref.majorUnit;\n        var ref$1 = this.lineInfo();\n        var lineStart = ref$1.lineStart;\n        var step = ref$1.step;\n        var ref$2 = this;\n        var logMin = ref$2.logMin;\n        var logMax = ref$2.logMax;\n        var start = Math.floor(logMin);\n\n        for (var power = start; power < logMax; power++) {\n            var minorOptions = this$1$1._minorIntervalOptions(power);\n            for (var idx = tickOptions.skip; idx < minorUnit; idx += tickOptions.step) {\n                var value = minorOptions.value + idx * minorOptions.minorStep;\n                if (value > max) {\n                    break;\n                }\n                if (value >= min) {\n                    var position = round$1(lineStart + step * (log$1(value, base) - logMin), DEFAULT_PRECISION);\n                    callback(position, tickOptions);\n                }\n            }\n        }\n    };\n\n    LogarithmicAxis.prototype.createAxisLabel = function createAxisLabel (index, labelOptions, labelContext) {\n        var power = Math.ceil(this.logMin + index);\n        var value = Math.pow(this.options.majorUnit, power);\n        var text = this.axisLabelText(value, labelOptions, labelContext);\n\n        return new AxisLabel(value, text, index, null, labelOptions);\n    };\n\n    LogarithmicAxis.prototype.shouldRenderNote = function shouldRenderNote (value) {\n        var range = this.range();\n        return range.min <= value && value <= range.max;\n    };\n\n    LogarithmicAxis.prototype.pan = function pan (delta) {\n        var range = this.translateRange(delta);\n        return this.limitRange(range.min, range.max, this.totalMin, this.totalMax, range.offset);\n    };\n\n    LogarithmicAxis.prototype.pointsRange = function pointsRange (start, end) {\n        var startValue = this.getValue(start);\n        var endValue = this.getValue(end);\n        var min = Math.min(startValue, endValue);\n        var max = Math.max(startValue, endValue);\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    LogarithmicAxis.prototype.scaleRange = function scaleRange (scale, cursor) {\n        var ref = this.options;\n        var base = ref.majorUnit;\n        var logMin = log$1(this.options.min, base);\n        var logMax = log$1(this.options.max, base);\n        var position = Math.abs(this.pointOffset(cursor));\n        var range = logMax - logMin;\n        var delta = this.scaleToDelta(scale, range);\n        var min = Math.pow(base, logMin + position * delta);\n        var max = Math.pow(base, logMax - (1 - position) * delta);\n\n        if (max - min < MIN_VALUE_RANGE) {\n            max = min + MIN_VALUE_RANGE;\n        }\n\n        return {\n            min: min,\n            max: max\n        };\n    };\n\n    LogarithmicAxis.prototype.zoomRange = function zoomRange (scale, cursor) {\n        var range = this.scaleRange(scale, cursor);\n        var ref = this;\n        var totalMin = ref.totalMin;\n        var totalMax = ref.totalMax;\n\n        return {\n            min: limitValue(range.min, totalMin, totalMax),\n            max: limitValue(range.max, totalMin, totalMax)\n        };\n    };\n\n    LogarithmicAxis.prototype._minorIntervalOptions = function _minorIntervalOptions (power) {\n        var ref = this.options;\n        var minorUnit = ref.minorUnit;\n        var base = ref.majorUnit;\n        var value = Math.pow(base, power);\n        var nextValue = Math.pow(base, power + 1);\n        var difference = nextValue - value;\n        var minorStep = difference / minorUnit;\n\n        return {\n            value: value,\n            minorStep: minorStep\n        };\n    };\n\n    LogarithmicAxis.prototype.lineInfo = function lineInfo () {\n        var info = Axis.prototype.lineInfo.call(this);\n        info.step = info.axisDir * (info.lineSize / (this.logMax - this.logMin));\n\n        return info;\n    };\n\n    return LogarithmicAxis;\n}(Axis));\n\nfunction initRange(autoMin, autoMax, axisOptions, options) {\n    var min = axisOptions.min;\n    var max = axisOptions.max;\n\n    if (defined(axisOptions.axisCrossingValue) && axisOptions.axisCrossingValue <= 0) {\n        throwNegativeValuesError();\n    }\n\n    if (!defined(options.max)) {\n        max = autoMax;\n    } else if (options.max <= 0) {\n        throwNegativeValuesError();\n    }\n\n    if (!defined(options.min)) {\n        min = autoMin;\n    } else if (options.min <= 0) {\n        throwNegativeValuesError();\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\nfunction autoAxisMin(min, max, options) {\n    var base = options.majorUnit;\n    var autoMin = min;\n    if (min <= 0) {\n        autoMin = max <= 1 ? Math.pow(base, -2) : 1;\n    } else if (!options.narrowRange) {\n        autoMin = Math.pow(base, Math.floor(log$1(min, base)));\n    }\n    return autoMin;\n}\n\nfunction autoAxisMax(max, base) {\n    var logMaxRemainder = round$1(log$1(max, base), DEFAULT_PRECISION) % 1;\n    var autoMax;\n    if (max <= 0) {\n        autoMax = base;\n    } else if (logMaxRemainder !== 0 && (logMaxRemainder < 0.3 || logMaxRemainder > 0.9)) {\n        autoMax = Math.pow(base, log$1(max, base) + 0.2);\n    } else {\n        autoMax = Math.pow(base, Math.ceil(log$1(max, base)));\n    }\n\n    return autoMax;\n}\n\nfunction throwNegativeValuesError() {\n    throw new Error(\"Non positive values cannot be used for a logarithmic axis\");\n}\n\nfunction log$1(x, base) {\n    return Math.log(x) / Math.log(base);\n}\n\nsetDefaultOptions(LogarithmicAxis, {\n    type: \"log\",\n    majorUnit: DEFAULT_MAJOR_UNIT,\n    minorUnit: 1,\n    axisCrossingValue: 1,\n    vertical: true,\n    majorGridLines: {\n        visible: true,\n        width: 1,\n        color: BLACK$1\n    },\n    zIndex: 1,\n    _deferLabels: true\n});\n\nvar GridLinesMixin = {\n    createGridLines: function(altAxis) {\n        var options = this.options;\n        var radius = Math.abs(this.box.center().y - altAxis.lineBox().y1);\n        var gridLines = [];\n        var skipMajor = false;\n        var majorAngles, minorAngles;\n\n        if (options.majorGridLines.visible) {\n            majorAngles = this.majorGridLineAngles(altAxis);\n            skipMajor = true;\n\n            gridLines = this.renderMajorGridLines(\n                majorAngles, radius, options.majorGridLines\n            );\n        }\n\n        if (options.minorGridLines.visible) {\n            minorAngles = this.minorGridLineAngles(altAxis, skipMajor);\n\n            append(gridLines, this.renderMinorGridLines(\n                minorAngles, radius, options.minorGridLines, altAxis, skipMajor\n            ));\n        }\n\n        return gridLines;\n    },\n\n    renderMajorGridLines: function(angles, radius, options) {\n        return this.renderGridLines(angles, radius, options);\n    },\n\n    renderMinorGridLines: function(angles, radius, options, altAxis, skipMajor) {\n        var radiusCallback = this.radiusCallback && this.radiusCallback(radius, altAxis, skipMajor);\n        return this.renderGridLines(angles, radius, options, radiusCallback);\n    },\n\n    renderGridLines: function(angles, radius, options, radiusCallback) {\n        var style = {\n            stroke: {\n                width: options.width,\n                color: options.color,\n                dashType: options.dashType\n            }\n        };\n\n        var center = this.box.center();\n        var circle = new Circle$2([ center.x, center.y ], radius);\n        var container = this.gridLinesVisual();\n\n        for (var i = 0; i < angles.length; i++) {\n            var line = new Path$7(style);\n            if (radiusCallback) {\n                circle.radius = radiusCallback(angles[i]);\n            }\n\n            line.moveTo(circle.center)\n                .lineTo(circle.pointAt(angles[i] + 180));\n\n            container.append(line);\n        }\n\n        return container.children;\n    },\n\n    gridLineAngles: function(altAxis, size, skip, step, skipAngles) {\n        var this$1$1 = this;\n\n        var divs = this.intervals(size, skip, step, skipAngles);\n        var options = altAxis.options;\n        var altAxisVisible = options.visible && (options.line || {}).visible !== false;\n\n        return map(divs, function (d) {\n            var alpha = this$1$1.intervalAngle(d);\n\n            if (!altAxisVisible || alpha !== 90) {\n                return alpha;\n            }\n        });\n    }\n};\n\nvar RadarCategoryAxis = (function (CategoryAxis) {\n    function RadarCategoryAxis () {\n        CategoryAxis.apply(this, arguments);\n    }\n\n    if ( CategoryAxis ) RadarCategoryAxis.__proto__ = CategoryAxis;\n    RadarCategoryAxis.prototype = Object.create( CategoryAxis && CategoryAxis.prototype );\n    RadarCategoryAxis.prototype.constructor = RadarCategoryAxis;\n\n    RadarCategoryAxis.prototype.range = function range () {\n        return { min: 0, max: this.options.categories.length };\n    };\n\n    RadarCategoryAxis.prototype.reflow = function reflow (box) {\n        this.box = box;\n        this.reflowLabels();\n    };\n\n    RadarCategoryAxis.prototype.lineBox = function lineBox () {\n        return this.box;\n    };\n\n    RadarCategoryAxis.prototype.reflowLabels = function reflowLabels () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var labels = ref.labels;\n        var labelOptions = ref.options.labels;\n        var skip = labelOptions.skip || 0;\n        var step = labelOptions.step || 1;\n        var measureBox = new Box();\n\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].reflow(measureBox);\n            var labelBox = labels[i].box;\n\n            labels[i].reflow(this$1$1.getSlot(skip + i * step).adjacentBox(\n                0, labelBox.width(), labelBox.height()\n            ));\n        }\n    };\n\n    RadarCategoryAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {\n        if ( skipAngles === void 0 ) skipAngles = false;\n\n        var options = this.options;\n        var categories = options.categories.length;\n        var divCount = categories / size || 1;\n        var divAngle = 360 / divCount;\n        var skip = skipOption || 0;\n        var step = stepOption || 1;\n        var divs = [];\n        var angle = 0;\n\n        for (var i = skip; i < divCount; i += step) {\n            if (options.reverse) {\n                angle = 360 - i * divAngle;\n            } else {\n                angle = i * divAngle;\n            }\n\n            angle = round$1(angle, COORD_PRECISION) % 360;\n\n            if (!(skipAngles && inArray(angle, skipAngles))) {\n                divs.push(angle);\n            }\n        }\n\n        return divs;\n    };\n\n    RadarCategoryAxis.prototype.majorIntervals = function majorIntervals () {\n        return this.intervals(1);\n    };\n\n    RadarCategoryAxis.prototype.minorIntervals = function minorIntervals () {\n        return this.intervals(0.5);\n    };\n\n    RadarCategoryAxis.prototype.intervalAngle = function intervalAngle (interval) {\n        return (360 + interval + this.options.startAngle) % 360;\n    };\n\n    RadarCategoryAxis.prototype.majorAngles = function majorAngles () {\n        var this$1$1 = this;\n\n        return map(this.majorIntervals(), function (interval) { return this$1$1.intervalAngle(interval); });\n    };\n\n    RadarCategoryAxis.prototype.createLine = function createLine () {\n        return [];\n    };\n\n    RadarCategoryAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {\n        var majorGridLines = this.options.majorGridLines;\n        return this.gridLineAngles(altAxis, 1, majorGridLines.skip, majorGridLines.step);\n    };\n\n    RadarCategoryAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {\n        var ref = this.options;\n        var minorGridLines = ref.minorGridLines;\n        var majorGridLines = ref.majorGridLines;\n        var majorGridLineAngles = skipMajor ? this.intervals(1, majorGridLines.skip, majorGridLines.step) : null;\n\n        return this.gridLineAngles(altAxis, 0.5, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\n    };\n\n    RadarCategoryAxis.prototype.radiusCallback = function radiusCallback (radius, altAxis, skipMajor) {\n        if (altAxis.options.type !== ARC) {\n            var minorAngle = rad(360 / (this.options.categories.length * 2));\n            var minorRadius = Math.cos(minorAngle) * radius;\n            var majorAngles = this.majorAngles();\n\n            var radiusCallback = function(angle) {\n                if (!skipMajor && inArray(angle, majorAngles)) {\n                    return radius;\n                }\n\n                return minorRadius;\n            };\n            return radiusCallback;\n        }\n    };\n\n    RadarCategoryAxis.prototype.createPlotBands = function createPlotBands () {\n        var this$1$1 = this;\n\n        var plotBands = this.options.plotBands || [];\n\n        var group = this._plotbandGroup = new Group$8({\n            zIndex: -1\n        });\n\n        for (var i = 0; i < plotBands.length; i++) {\n            var band = plotBands[i];\n            var slot = this$1$1.plotBandSlot(band);\n            var singleSlot = this$1$1.getSlot(band.from);\n\n            var head = band.from - Math.floor(band.from);\n            slot.startAngle += head * singleSlot.angle;\n\n            var tail = Math.ceil(band.to) - band.to;\n            slot.angle -= (tail + head) * singleSlot.angle;\n\n            var ring = ShapeBuilder.current.createRing(slot, {\n                fill: {\n                    color: band.color,\n                    opacity: band.opacity\n                },\n                stroke: {\n                    opacity: band.opacity\n                }\n            });\n            group.append(ring);\n        }\n\n        this.appendVisual(group);\n    };\n\n    RadarCategoryAxis.prototype.plotBandSlot = function plotBandSlot (band) {\n        return this.getSlot(band.from, band.to - 1);\n    };\n\n    RadarCategoryAxis.prototype.getSlot = function getSlot (from, to) {\n        var options = this.options;\n        var justified = options.justified;\n        var box = this.box;\n        var divs = this.majorAngles();\n        var totalDivs = divs.length;\n        var slotAngle = 360 / totalDivs;\n        var fromValue = from;\n\n        if (options.reverse && !justified) {\n            fromValue = (fromValue + 1) % totalDivs;\n        }\n\n        fromValue = limitValue(Math.floor(fromValue), 0, totalDivs - 1);\n        var slotStart = divs[fromValue];\n\n        if (justified) {\n            slotStart = slotStart - slotAngle / 2;\n\n            if (slotStart < 0) {\n                slotStart += 360;\n            }\n        }\n\n        var toValue = limitValue(Math.ceil(to || fromValue), fromValue, totalDivs - 1);\n        var slots = toValue - fromValue + 1;\n        var angle = slotAngle * slots;\n\n        return new Ring(box.center(), 0, box.height() / 2, slotStart, angle);\n    };\n\n    RadarCategoryAxis.prototype.slot = function slot (from, to) {\n        var slot = this.getSlot(from, to);\n        var startAngle = slot.startAngle + 180;\n        var endAngle = startAngle + slot.angle;\n\n        return new Arc$1([ slot.center.x, slot.center.y ], {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: slot.radius,\n            radiusY: slot.radius\n        });\n    };\n\n    RadarCategoryAxis.prototype.pointCategoryIndex = function pointCategoryIndex (point) {\n        var this$1$1 = this;\n\n        var length = this.options.categories.length;\n        var index = null;\n\n        for (var i = 0; i < length; i++) {\n            var slot = this$1$1.getSlot(i);\n            if (slot.containsPoint(point)) {\n                index = i;\n                break;\n            }\n        }\n\n        return index;\n    };\n\n    return RadarCategoryAxis;\n}(CategoryAxis));\n\nsetDefaultOptions(RadarCategoryAxis, {\n    startAngle: 90,\n    labels: {\n        margin: getSpacing(10)\n    },\n    majorGridLines: {\n        visible: true\n    },\n    justified: true\n});\ndeepExtend(RadarCategoryAxis.prototype, GridLinesMixin);\n\nvar PolarAxis = (function (Axis) {\n    function PolarAxis(options, chartService) {\n        Axis.call(this, options, chartService);\n\n        var instanceOptions = this.options;\n\n        instanceOptions.minorUnit = instanceOptions.minorUnit || instanceOptions.majorUnit / 2;\n    }\n\n    if ( Axis ) PolarAxis.__proto__ = Axis;\n    PolarAxis.prototype = Object.create( Axis && Axis.prototype );\n    PolarAxis.prototype.constructor = PolarAxis;\n\n    PolarAxis.prototype.getDivisions = function getDivisions (stepValue) {\n        return NumericAxis.prototype.getDivisions.call(this, stepValue) - 1;\n    };\n\n    PolarAxis.prototype.reflow = function reflow (box) {\n        this.box = box;\n        this.reflowLabels();\n    };\n\n    PolarAxis.prototype.reflowLabels = function reflowLabels () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var labels = ref.labels;\n        var labelOptions = ref.options.labels;\n        var skip = labelOptions.skip || 0;\n        var step = labelOptions.step || 1;\n\n        var measureBox = new Box();\n        var divs = this.intervals(options.majorUnit, skip, step);\n\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].reflow(measureBox);\n            var labelBox = labels[i].box;\n\n            labels[i].reflow(this$1$1.getSlot(divs[i]).adjacentBox(0, labelBox.width(), labelBox.height()));\n        }\n    };\n\n    PolarAxis.prototype.lineBox = function lineBox () {\n        return this.box;\n    };\n\n    PolarAxis.prototype.intervals = function intervals (size, skipOption, stepOption, skipAngles) {\n        if ( skipAngles === void 0 ) skipAngles = false;\n\n        var min = this.options.min;\n        var divisions = this.getDivisions(size);\n        var divs = [];\n        var skip = skipOption || 0;\n        var step = stepOption || 1;\n\n        for (var i = skip; i < divisions; i += step) {\n            var current = (360 + min + i * size) % 360;\n            if (!(skipAngles && inArray(current, skipAngles))) {\n                divs.push(current);\n            }\n        }\n\n        return divs;\n    };\n\n    PolarAxis.prototype.majorIntervals = function majorIntervals () {\n        return this.intervals(this.options.majorUnit);\n    };\n\n    PolarAxis.prototype.minorIntervals = function minorIntervals () {\n        return this.intervals(this.options.minorUnit);\n    };\n\n    PolarAxis.prototype.intervalAngle = function intervalAngle (i) {\n        return (540 - i - this.options.startAngle) % 360;\n    };\n\n    PolarAxis.prototype.createLine = function createLine () {\n        return [];\n    };\n\n    PolarAxis.prototype.majorGridLineAngles = function majorGridLineAngles (altAxis) {\n        var majorGridLines = this.options.majorGridLines;\n        return this.gridLineAngles(altAxis, this.options.majorUnit, majorGridLines.skip, majorGridLines.step);\n    };\n\n    PolarAxis.prototype.minorGridLineAngles = function minorGridLineAngles (altAxis, skipMajor) {\n        var options = this.options;\n        var minorGridLines = options.minorGridLines;\n        var majorGridLines = options.majorGridLines;\n        var majorGridLineAngles = skipMajor ? this.intervals(options.majorUnit, majorGridLines.skip, majorGridLines.step) : null;\n\n        return this.gridLineAngles(altAxis, options.minorUnit, minorGridLines.skip, minorGridLines.step, majorGridLineAngles);\n    };\n\n    PolarAxis.prototype.plotBandSlot = function plotBandSlot (band) {\n        return this.getSlot(band.from, band.to);\n    };\n\n    PolarAxis.prototype.getSlot = function getSlot (a, b) {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var startAngle = options.startAngle;\n        var start = limitValue(a, options.min, options.max);\n        var end = limitValue(b || start, start, options.max);\n\n        if (options.reverse) {\n            start *= -1;\n            end *= -1;\n        }\n\n        start = (540 - start - startAngle) % 360;\n        end = (540 - end - startAngle) % 360;\n\n        if (end < start) {\n            var tmp = start;\n            start = end;\n            end = tmp;\n        }\n\n        return new Ring(box.center(), 0, box.height() / 2, start, end - start);\n    };\n\n    PolarAxis.prototype.slot = function slot (from, to) {\n        if ( to === void 0 ) to = from;\n\n        var options = this.options;\n        var start = 360 - options.startAngle;\n        var slot = this.getSlot(from, to);\n        var min = Math.min(from, to);\n        var max = Math.max(from, to);\n        var startAngle, endAngle;\n\n        if (options.reverse) {\n            startAngle = min;\n            endAngle = max;\n        } else {\n            startAngle = 360 - max;\n            endAngle = 360 - min;\n        }\n\n        startAngle = (startAngle + start) % 360;\n        endAngle = (endAngle + start) % 360;\n\n        return new Arc$1([ slot.center.x, slot.center.y ], {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radiusX: slot.radius,\n            radiusY: slot.radius\n        });\n    };\n\n    PolarAxis.prototype.getValue = function getValue (point) {\n        var options = this.options;\n        var center = this.box.center();\n        var dx = point.x - center.x;\n        var dy = point.y - center.y;\n        var theta = Math.round(deg(Math.atan2(dy, dx)));\n        var start = options.startAngle;\n\n        if (!options.reverse) {\n            theta *= -1;\n            start *= -1;\n        }\n\n        return (theta + start + 360) % 360;\n    };\n\n    PolarAxis.prototype.valueRange = function valueRange () {\n        return {\n            min: 0,\n            max: Math.PI * 2\n        };\n    };\n\n    return PolarAxis;\n}(Axis));\n\nsetDefaultOptions(PolarAxis, {\n    type: \"polar\",\n    startAngle: 0,\n    reverse: false,\n    majorUnit: 60,\n    min: 0,\n    max: 360,\n    labels: {\n        margin: getSpacing(10)\n    },\n    majorGridLines: {\n        color: BLACK$1,\n        visible: true,\n        width: 1\n    },\n    minorGridLines: {\n        color: \"#aaa\"\n    }\n});\n\ndeepExtend(PolarAxis.prototype, GridLinesMixin, {\n    createPlotBands: RadarCategoryAxis.prototype.createPlotBands,\n    majorAngles: RadarCategoryAxis.prototype.majorAngles,\n    range: NumericAxis.prototype.range,\n    labelsCount: NumericAxis.prototype.labelsCount,\n    createAxisLabel: NumericAxis.prototype.createAxisLabel\n});\n\nvar RadarNumericAxisMixin = {\n    options: {\n        majorGridLines: {\n            visible: true\n        }\n    },\n\n    createPlotBands: function() {\n        var this$1$1 = this;\n\n        var ref = this.options;\n        var type = ref.majorGridLines.type;\n        var plotBands = ref.plotBands; if ( plotBands === void 0 ) plotBands = [];\n        var altAxis = this.plotArea.polarAxis;\n        var majorAngles = altAxis.majorAngles();\n        var center = altAxis.box.center();\n        var group = this._plotbandGroup = new Group$8({\n            zIndex: -1\n        });\n\n        for (var i = 0; i < plotBands.length; i++) {\n            var band = plotBands[i];\n            var bandStyle = {\n                fill: {\n                    color: band.color,\n                    opacity: band.opacity\n                },\n                stroke: {\n                    opacity: band.opacity\n                }\n            };\n\n            var slot = this$1$1.getSlot(band.from, band.to, true);\n            var ring = new Ring(center, center.y - slot.y2, center.y - slot.y1, 0, 360);\n\n            var shape = (void 0);\n            if (type === ARC) {\n                shape = ShapeBuilder.current.createRing(ring, bandStyle);\n            } else {\n                shape = Path$7.fromPoints(this$1$1.plotBandPoints(ring, majorAngles), bandStyle).close();\n            }\n\n            group.append(shape);\n        }\n\n        this.appendVisual(group);\n    },\n\n    plotBandPoints: function(ring, angles) {\n        var innerPoints = [];\n        var outerPoints = [];\n        var center = [ ring.center.x, ring.center.y ];\n        var innerCircle = new Circle$2(center, ring.innerRadius);\n        var outerCircle = new Circle$2(center, ring.radius);\n\n        for (var i = 0; i < angles.length; i++) {\n            innerPoints.push(innerCircle.pointAt(angles[i] + 180));\n            outerPoints.push(outerCircle.pointAt(angles[i] + 180));\n        }\n\n        innerPoints.reverse();\n        innerPoints.push(innerPoints[0]);\n        outerPoints.push(outerPoints[0]);\n\n        return outerPoints.concat(innerPoints);\n    },\n\n    createGridLines: function(altAxis) {\n        var options = this.options;\n        var majorTicks = this.radarMajorGridLinePositions();\n        var majorAngles = altAxis.majorAngles();\n        var center = altAxis.box.center();\n        var gridLines = [];\n\n        if (options.majorGridLines.visible) {\n            gridLines = this.renderGridLines(\n                center, majorTicks, majorAngles, options.majorGridLines\n            );\n        }\n\n        if (options.minorGridLines.visible) {\n            var minorTicks = this.radarMinorGridLinePositions();\n            append(gridLines, this.renderGridLines(\n                center, minorTicks, majorAngles, options.minorGridLines\n            ));\n        }\n\n        return gridLines;\n    },\n\n    renderGridLines: function(center, ticks, angles, options) {\n        var style = {\n            stroke: {\n                width: options.width,\n                color: options.color,\n                dashType: options.dashType\n            }\n        };\n        var skip = options.skip; if ( skip === void 0 ) skip = 0;\n        var step = options.step; if ( step === void 0 ) step = 0;\n        var container = this.gridLinesVisual();\n\n        for (var tickIx = skip; tickIx < ticks.length; tickIx += step) {\n            var tickRadius = center.y - ticks[tickIx];\n            if (tickRadius > 0) {\n                var circle = new Circle$2([ center.x, center.y ], tickRadius);\n                if (options.type === ARC) {\n                    container.append(new Circle$1(circle, style));\n                } else {\n                    var line = new Path$7(style);\n                    for (var angleIx = 0; angleIx < angles.length; angleIx++) {\n                        line.lineTo(circle.pointAt(angles[angleIx] + 180));\n                    }\n\n                    line.close();\n                    container.append(line);\n                }\n            }\n        }\n\n        return container.children;\n    },\n\n    getValue: function(point) {\n        var lineBox = this.lineBox();\n        var altAxis = this.plotArea.polarAxis;\n        var majorAngles = altAxis.majorAngles();\n        var center = altAxis.box.center();\n        var radius = point.distanceTo(center);\n        var distance = radius;\n\n        if (this.options.majorGridLines.type !== ARC && majorAngles.length > 1) {\n            var dx = point.x - center.x;\n            var dy = point.y - center.y;\n            var theta = (deg(Math.atan2(dy, dx)) + 540) % 360;\n\n            majorAngles.sort(function(a, b) {\n                return angularDistance(a, theta) - angularDistance(b, theta);\n            });\n\n            // Solve triangle (center, point, axis X) using one side (radius) and two angles.\n            // Angles are derived from triangle (center, point, gridline X)\n            var midAngle = angularDistance(majorAngles[0], majorAngles[1]) / 2;\n            var alpha = angularDistance(theta, majorAngles[0]);\n            var gamma = 90 - midAngle;\n            var beta = 180 - alpha - gamma;\n\n            distance = radius * (Math.sin(rad(beta)) / Math.sin(rad(gamma)));\n        }\n\n        return this.axisType().prototype.getValue.call(\n            this, new Point$5(lineBox.x1, lineBox.y2 - distance)\n        );\n    }\n};\n\nfunction angularDistance(a, b) {\n    return 180 - Math.abs(Math.abs(a - b) - 180);\n}\n\nvar RadarNumericAxis = (function (NumericAxis) {\n    function RadarNumericAxis () {\n        NumericAxis.apply(this, arguments);\n    }\n\n    if ( NumericAxis ) RadarNumericAxis.__proto__ = NumericAxis;\n    RadarNumericAxis.prototype = Object.create( NumericAxis && NumericAxis.prototype );\n    RadarNumericAxis.prototype.constructor = RadarNumericAxis;\n\n    RadarNumericAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {\n        return this.getTickPositions(this.options.majorUnit);\n    };\n\n    RadarNumericAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {\n        var options = this.options;\n        var minorSkipStep = 0;\n\n        if (options.majorGridLines.visible) {\n            minorSkipStep = options.majorUnit;\n        }\n        return this.getTickPositions(options.minorUnit, minorSkipStep);\n    };\n\n    RadarNumericAxis.prototype.axisType = function axisType () {\n        return NumericAxis;\n    };\n\n    return RadarNumericAxis;\n}(NumericAxis));\n\ndeepExtend(RadarNumericAxis.prototype, RadarNumericAxisMixin);\n\nvar RadarLogarithmicAxis = (function (LogarithmicAxis) {\n    function RadarLogarithmicAxis () {\n        LogarithmicAxis.apply(this, arguments);\n    }\n\n    if ( LogarithmicAxis ) RadarLogarithmicAxis.__proto__ = LogarithmicAxis;\n    RadarLogarithmicAxis.prototype = Object.create( LogarithmicAxis && LogarithmicAxis.prototype );\n    RadarLogarithmicAxis.prototype.constructor = RadarLogarithmicAxis;\n\n    RadarLogarithmicAxis.prototype.radarMajorGridLinePositions = function radarMajorGridLinePositions () {\n        var positions = [];\n\n        this.traverseMajorTicksPositions(function(position) {\n            positions.push(position);\n        }, this.options.majorGridLines);\n\n        return positions;\n    };\n\n    RadarLogarithmicAxis.prototype.radarMinorGridLinePositions = function radarMinorGridLinePositions () {\n        var positions = [];\n\n        this.traverseMinorTicksPositions(function(position) {\n            positions.push(position);\n        }, this.options.minorGridLines);\n\n        return positions;\n    };\n\n    RadarLogarithmicAxis.prototype.axisType = function axisType () {\n        return LogarithmicAxis;\n    };\n\n    return RadarLogarithmicAxis;\n}(LogarithmicAxis));\n\ndeepExtend(RadarLogarithmicAxis.prototype, RadarNumericAxisMixin);\n\nvar WEIGHT = 0.333;\nvar EXTREMUM_ALLOWED_DEVIATION = 0.01;\n\nvar CurveProcessor = (function (Class) {\n    function CurveProcessor(closed) {\n        Class.call(this);\n\n        this.closed = closed;\n    }\n\n    if ( Class ) CurveProcessor.__proto__ = Class;\n    CurveProcessor.prototype = Object.create( Class && Class.prototype );\n    CurveProcessor.prototype.constructor = CurveProcessor;\n\n    CurveProcessor.prototype.process = function process (dataPoints) {\n        var this$1$1 = this;\n\n        var points = dataPoints.slice(0);\n        var segments = [];\n        var closed = this.closed;\n        var length = points.length;\n\n        if (length > 2) {\n            this.removeDuplicates(0, points);\n            length = points.length;\n        }\n\n        if (length < 2 || (length === 2 && points[0].equals(points[1]))) {\n            return segments;\n        }\n\n        var p0 = points[0];\n        var p1 = points[1];\n        var p2 = points[2];\n\n        segments.push(new Segment(p0));\n\n        while (p0.equals(points[length - 1])) {\n            closed = true;\n            points.pop();\n            length--;\n        }\n\n        if (length === 2) {\n            var tangent = this.tangent(p0,p1, X, Y);\n\n            last(segments).controlOut(\n                this.firstControlPoint(tangent, p0, p1, X, Y)\n            );\n\n            segments.push(new Segment(\n                p1,\n                this.secondControlPoint(tangent, p0, p1, X, Y)\n            ));\n\n            return segments;\n        }\n\n        var initialControlPoint, lastControlPoint;\n\n        if (closed) {\n            p0 = points[length - 1]; p1 = points[0]; p2 = points[1];\n            var controlPoints = this.controlPoints(p0, p1, p2);\n            initialControlPoint = controlPoints[1];\n            lastControlPoint = controlPoints[0];\n        } else {\n            var tangent$1 = this.tangent(p0, p1, X,Y);\n            initialControlPoint = this.firstControlPoint(tangent$1, p0, p1, X, Y);\n        }\n\n        var cp0 = initialControlPoint;\n        for (var idx = 0; idx <= length - 3; idx++) {\n            this$1$1.removeDuplicates(idx, points);\n            length = points.length;\n            if (idx + 3 <= length) {\n                p0 = points[idx]; p1 = points[idx + 1]; p2 = points[idx + 2];\n                var controlPoints$1 = this$1$1.controlPoints(p0,p1,p2);\n\n                last(segments).controlOut(cp0);\n                cp0 = controlPoints$1[1];\n\n                var cp1 = controlPoints$1[0];\n                segments.push(new Segment(p1, cp1));\n            }\n        }\n\n        if (closed) {\n            p0 = points[length - 2]; p1 = points[length - 1]; p2 = points[0];\n            var controlPoints$2 = this.controlPoints(p0, p1, p2);\n\n            last(segments).controlOut(cp0);\n            segments.push(new Segment(\n                p1,\n                controlPoints$2[0]\n            ));\n\n            last(segments).controlOut(controlPoints$2[1]);\n            segments.push(new Segment(\n                p2,\n                lastControlPoint\n            ));\n        } else {\n            var tangent$2 = this.tangent(p1, p2, X, Y);\n\n            last(segments).controlOut(cp0);\n            segments.push(new Segment(\n                p2,\n                this.secondControlPoint(tangent$2, p1, p2, X, Y)\n            ));\n        }\n\n        return segments;\n    };\n\n    CurveProcessor.prototype.removeDuplicates = function removeDuplicates (idx, points) {\n        while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {\n            points.splice(idx + 1, 1);\n        }\n    };\n\n    CurveProcessor.prototype.invertAxis = function invertAxis (p0, p1, p2) {\n        var invertAxis = false;\n\n        if (p0.x === p1.x) {\n            invertAxis = true;\n        } else if (p1.x === p2.x) {\n            if ((p1.y < p2.y && p0.y <= p1.y) || (p2.y < p1.y && p1.y <= p0.y)) {\n                invertAxis = true;\n            }\n        } else {\n            var fn = this.lineFunction(p0,p1);\n            var y2 = this.calculateFunction(fn, p2.x);\n            if (!(p0.y <= p1.y && p2.y <= y2) &&\n                !(p1.y <= p0.y && p2.y >= y2)) {\n                invertAxis = true;\n            }\n        }\n\n        return invertAxis;\n    };\n\n    CurveProcessor.prototype.isLine = function isLine (p0, p1, p2) {\n        var fn = this.lineFunction(p0, p1);\n        var y2 = this.calculateFunction(fn, p2.x);\n\n        return (p0.x === p1.x && p1.x === p2.x) || round$1(y2, 1) === round$1(p2.y, 1);\n    };\n\n    CurveProcessor.prototype.lineFunction = function lineFunction (p1, p2) {\n        var a = (p2.y - p1.y) / (p2.x - p1.x);\n        var b = p1.y - a * p1.x;\n\n        return [ b, a ];\n    };\n\n    CurveProcessor.prototype.controlPoints = function controlPoints (p0, p1, p2) {\n        var xField = X;\n        var yField = Y;\n        var restrict = false;\n        var switchOrientation = false;\n        var tangent;\n\n        if (this.isLine(p0, p1, p2)) {\n            tangent = this.tangent(p0, p1, X, Y);\n        } else {\n            var monotonic = {\n                x: this.isMonotonicByField(p0, p1, p2, X),\n                y: this.isMonotonicByField(p0, p1, p2, Y)\n            };\n\n            if (monotonic.x && monotonic.y) {\n                tangent = this.tangent(p0, p2, X, Y);\n                restrict = true;\n            } else {\n                if (this.invertAxis(p0, p1, p2)) {\n                    xField = Y;\n                    yField = X;\n                }\n\n                if (monotonic[xField]) {\n                    tangent = 0;\n                } else {\n                    var sign;\n                    if ((p2[yField] < p0[yField] && p0[yField] <= p1[yField]) ||\n                        (p0[yField] < p2[yField] && p1[yField] <= p0[yField])) {\n                        sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));\n                    } else {\n                        sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));\n                    }\n\n                    tangent = EXTREMUM_ALLOWED_DEVIATION * sign;\n                    switchOrientation = true;\n                }\n            }\n        }\n\n        var secondControlPoint = this.secondControlPoint(tangent, p0, p1, xField, yField);\n\n        if (switchOrientation) {\n            var oldXField = xField;\n            xField = yField;\n            yField = oldXField;\n        }\n\n        var firstControlPoint = this.firstControlPoint(tangent, p1, p2, xField, yField);\n\n        if (restrict) {\n            this.restrictControlPoint(p0, p1, secondControlPoint, tangent);\n            this.restrictControlPoint(p1, p2, firstControlPoint, tangent);\n        }\n\n        return [ secondControlPoint, firstControlPoint ];\n    };\n\n    CurveProcessor.prototype.restrictControlPoint = function restrictControlPoint (p1, p2, cp, tangent) {\n        if (p1.y < p2.y) {\n            if (p2.y < cp.y) {\n                cp.x = p1.x + (p2.y - p1.y) / tangent;\n                cp.y = p2.y;\n            } else if (cp.y < p1.y) {\n                cp.x = p2.x - (p2.y - p1.y) / tangent;\n                cp.y = p1.y;\n            }\n        } else {\n            if (cp.y < p2.y) {\n                cp.x = p1.x - (p1.y - p2.y) / tangent;\n                cp.y = p2.y;\n            } else if (p1.y < cp.y) {\n                cp.x = p2.x + (p1.y - p2.y) / tangent;\n                cp.y = p1.y;\n            }\n        }\n    };\n\n    CurveProcessor.prototype.tangent = function tangent (p0, p1, xField, yField) {\n        var x = p1[xField] - p0[xField];\n        var y = p1[yField] - p0[yField];\n        var tangent;\n\n        if (x === 0) {\n            tangent = 0;\n        } else {\n            tangent = y / x;\n        }\n\n        return tangent;\n    };\n\n    CurveProcessor.prototype.isMonotonicByField = function isMonotonicByField (p0, p1, p2, field) {\n        return (p2[field] > p1[field] && p1[field] > p0[field]) ||\n                    (p2[field] < p1[field] && p1[field] < p0[field]);\n    };\n\n    CurveProcessor.prototype.firstControlPoint = function firstControlPoint (tangent, p0, p3, xField, yField) {\n        var t1 = p0[xField];\n        var t2 = p3[xField];\n        var distance = (t2 - t1) * WEIGHT;\n\n        return this.point(t1 + distance, p0[yField] + distance * tangent, xField, yField);\n    };\n\n    CurveProcessor.prototype.secondControlPoint = function secondControlPoint (tangent, p0, p3, xField, yField) {\n        var t1 = p0[xField];\n        var t2 = p3[xField];\n        var distance = (t2 - t1) * WEIGHT;\n\n        return this.point(t2 - distance, p3[yField] - distance * tangent, xField, yField);\n    };\n\n    CurveProcessor.prototype.point = function point (xValue, yValue, xField, yField) {\n        var controlPoint = new Point$6();\n        controlPoint[xField] = xValue;\n        controlPoint[yField] = yValue;\n\n        return controlPoint;\n    };\n\n    CurveProcessor.prototype.calculateFunction = function calculateFunction (fn, x) {\n        var length = fn.length;\n        var result = 0;\n\n        for (var i = 0; i < length; i++) {\n            result += Math.pow(x,i) * fn[i];\n        }\n        return result;\n    };\n\n    return CurveProcessor;\n}(Class));\n\nfunction numberSign(value) {\n    return value <= 0 ? -1 : 1;\n}\n\nvar coreExport = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    Axis: Axis,\n    AxisLabel: AxisLabel,\n    Box: Box,\n    BoxElement: BoxElement,\n    CategoryAxis: CategoryAxis,\n    ChartElement: ChartElement,\n    Class: Class,\n    CurveProcessor: CurveProcessor,\n    DateCategoryAxis: DateCategoryAxis,\n    DateValueAxis: DateValueAxis,\n    FloatElement: FloatElement,\n    FontLoader: FontLoader,\n    Gradients: GRADIENTS,\n    HashMap: HashMap,\n    InstanceObserver: InstanceObserver,\n    LogarithmicAxis: LogarithmicAxis,\n    Matrix: Matrix,\n    Note: Note,\n    NumericAxis: NumericAxis,\n    Observable: Observable,\n    Point: Point$5,\n    PolarAxis: PolarAxis,\n    RadarCategoryAxis: RadarCategoryAxis,\n    RadarLogarithmicAxis: RadarLogarithmicAxis,\n    RadarNumericAxis: RadarNumericAxis,\n    Ring: Ring,\n    RootElement: RootElement,\n    Sector: Sector,\n    ShapeBuilder: ShapeBuilder,\n    ShapeElement: ShapeElement,\n    Text: Text$1,\n    TextBox: TextBox,\n    Title: Title$1,\n    UserEvents: UserEvents,\n    absoluteDateDiff: absoluteDateDiff,\n    addClass: addClass,\n    addDuration: addDuration,\n    addTicks: addTicks,\n    alignPathToPixel: alignPathToPixel,\n    append: append,\n    applyEventMap: applyEventMap,\n    autoMajorUnit: autoMajorUnit,\n    autoTextColor: autoTextColor,\n    bindEvents: bindEvents,\n    ceilDate: ceilDate,\n    clockwise: clockwise,\n    constants: constants$2,\n    convertableToNumber: convertableToNumber,\n    createHashSet: createHashSet,\n    createPatternFill: createPatternFill,\n    cycleDown: cycleDown,\n    cycleIndex: cycleIndex,\n    cycleUp: cycleUp,\n    dateComparer: dateComparer,\n    dateDiff: dateDiff,\n    dateEquals: dateEquals,\n    dateIndex: dateIndex,\n    deepExtend: deepExtend,\n    defaultErrorHandler: defaultErrorHandler,\n    defined: defined,\n    deg: deg,\n    duration: duration,\n    elementOffset: elementOffset,\n    elementScale: elementScale,\n    elementSize: elementSize,\n    elementStyles: elementStyles,\n    eventCoordinates: eventCoordinates,\n    eventElement: eventElement,\n    eventMap: eventMap,\n    find: find,\n    firstDay: firstDay,\n    floorDate: floorDate,\n    getAriaTemplate: getTemplate,\n    getSpacing: getSpacing,\n    getSupportedFeatures: getSupportedFeatures,\n    getTemplate: getTemplate$1,\n    getter: getter,\n    grep: grep,\n    hasClasses: hasClasses,\n    hasOwnProperty: hasOwnProperty,\n    hashKey: hashKey,\n    inArray: inArray,\n    interpolateValue: interpolateValue,\n    isArray: isArray,\n    isFunction: isFunction,\n    isNumber: isNumber,\n    isObject: isObject,\n    isPlainObject: isPlainObject,\n    isString: isString$1,\n    keys: keys,\n    last: last,\n    limitValue: limitValue,\n    logToConsole: logToConsole,\n    lteDateIndex: lteDateIndex,\n    map: map,\n    mousewheelDelta: mousewheelDelta,\n    noop: noop,\n    now: now,\n    objectKey: objectKey,\n    off: off,\n    on: on,\n    parseDate: parseDate,\n    parseDates: parseDates,\n    rad: rad,\n    rectToBox: rectToBox,\n    removeClass: removeClass,\n    renderIcon: renderIcon,\n    round: round$1,\n    services: services,\n    setDefaultOptions: setDefaultOptions,\n    sparseArrayLimits: sparseArrayLimits,\n    startOfWeek: startOfWeek,\n    styleValue: styleValue,\n    toDate: toDate,\n    toTime: toTime,\n    unbindEvents: unbindEvents,\n    valueOrDefault: valueOrDefault\n});\n\nvar ChartAxis = (function (Class) {\n    function ChartAxis(axis) {\n        Class.call(this);\n\n        this._axis = axis;\n        this.options = axis.options;\n    }\n\n    if ( Class ) ChartAxis.__proto__ = Class;\n    ChartAxis.prototype = Object.create( Class && Class.prototype );\n    ChartAxis.prototype.constructor = ChartAxis;\n\n    ChartAxis.prototype.value = function value (point) {\n        var axis = this._axis;\n        var value = axis.getCategory ? axis.getCategory(point) : axis.getValue(point);\n\n        return value;\n    };\n\n    ChartAxis.prototype.slot = function slot (from, to, limit) {\n        if ( limit === void 0 ) limit = true;\n\n        return this._axis.slot(from, to, limit);\n    };\n\n    ChartAxis.prototype.range = function range () {\n        return this._axis.range();\n    };\n\n    ChartAxis.prototype.valueRange = function valueRange () {\n        return this._axis.valueRange();\n    };\n\n    return ChartAxis;\n}(Class));\n\nfunction findAxisByName(name, axes) {\n    for (var idx = 0; idx < axes.length; idx++) {\n        if (axes[idx].options.name === name) {\n            axes[idx].prepareUserOptions();\n            return new ChartAxis(axes[idx]);\n        }\n    }\n}\n\nvar ChartPane = function ChartPane(pane) {\n    this.visual = pane.visual;\n    this.chartsVisual = pane.chartContainer.visual;\n    this._pane = pane;\n};\n\nChartPane.prototype.findAxisByName = function findAxisByName$1 (name) {\n    return findAxisByName(name, this._pane.axes);\n};\n\nvar ChartPlotArea = (function (Class) {\n    function ChartPlotArea(plotArea) {\n        Class.call(this);\n\n        this._plotArea = plotArea;\n        this.visual = plotArea.visual;\n        this.backgroundVisual = plotArea._bgVisual;\n    }\n\n    if ( Class ) ChartPlotArea.__proto__ = Class;\n    ChartPlotArea.prototype = Object.create( Class && Class.prototype );\n    ChartPlotArea.prototype.constructor = ChartPlotArea;\n\n    return ChartPlotArea;\n}(Class));\n\nfunction countNumbers(values) {\n    var length = values.length;\n    var count = 0;\n\n    for (var i = 0; i < length; i++) {\n        var num = values[i];\n        if (isNumber(num)) {\n            count++;\n        }\n    }\n\n    return count;\n}\n\nvar Aggregates = {\n    min: function(values) {\n        var length = values.length;\n        var min = MAX_VALUE;\n\n        for (var i = 0; i < length; i++) {\n            var value = values[i];\n            if (isNumber(value)) {\n                min = Math.min(min, value);\n            }\n        }\n\n        return min === MAX_VALUE ? values[0] : min;\n    },\n\n    max: function(values) {\n        var length = values.length;\n        var max = MIN_VALUE;\n\n        for (var i = 0; i < length; i++) {\n            var value = values[i];\n            if (isNumber(value)) {\n                max = Math.max(max, value);\n            }\n        }\n\n        return max === MIN_VALUE ? values[0] : max;\n    },\n\n    sum: function(values) {\n        var length = values.length;\n        var sum = 0;\n\n        for (var i = 0; i < length; i++) {\n            var value = values[i];\n            if (isNumber(value)) {\n                sum += value;\n            }\n        }\n\n        return sum;\n    },\n\n    sumOrNull: function(values) {\n        var result = null;\n\n        if (countNumbers(values)) {\n            result = Aggregates.sum(values);\n        }\n\n        return result;\n    },\n\n    count: function(values) {\n        var length = values.length;\n        var count = 0;\n\n        for (var i = 0; i < length; i++) {\n            var value = values[i];\n            if (value !== null && defined(value)) {\n                count++;\n            }\n        }\n\n        return count;\n    },\n\n    avg: function(values) {\n        var count = countNumbers(values);\n        var result = values[0];\n\n        if (count > 0) {\n            result = Aggregates.sum(values) / count;\n        }\n\n        return result;\n    },\n\n    first: function(values) {\n        var length = values.length;\n\n        for (var i = 0; i < length; i++) {\n            var value = values[i];\n            if (value !== null && defined(value)) {\n                return value;\n            }\n        }\n\n        return values[0];\n    }\n};\n\nfunction getField(field, row) {\n    if (row === null) {\n        return row;\n    }\n\n    var get = getter(field, true);\n    return get(row);\n}\n\nvar SeriesBinder = (function (Class) {\n    function SeriesBinder() {\n        Class.call(this);\n\n        this._valueFields = {};\n        this._otherFields = {};\n        this._nullValue = {};\n        this._undefinedValue = {};\n    }\n\n    if ( Class ) SeriesBinder.__proto__ = Class;\n    SeriesBinder.prototype = Object.create( Class && Class.prototype );\n    SeriesBinder.prototype.constructor = SeriesBinder;\n\n    SeriesBinder.prototype.register = function register (seriesTypes, valueFields, otherFields) {\n        var this$1$1 = this;\n        if ( valueFields === void 0 ) valueFields = [ VALUE ];\n        if ( otherFields === void 0 ) otherFields = {};\n\n\n        for (var i = 0; i < seriesTypes.length; i++) {\n            var type = seriesTypes[i];\n\n            this$1$1._valueFields[type] = valueFields;\n            this$1$1._otherFields[type] = otherFields;\n            this$1$1._nullValue[type] = this$1$1._makeValue(valueFields, null);\n            this$1$1._undefinedValue[type] = this$1$1._makeValue(valueFields, undefined);\n        }\n    };\n\n    SeriesBinder.prototype.canonicalFields = function canonicalFields (series) {\n        return this.valueFields(series).concat(this.otherFields(series));\n    };\n\n    SeriesBinder.prototype.valueFields = function valueFields (series) {\n        return this._valueFields[series.type] || [ VALUE ];\n    };\n\n    SeriesBinder.prototype.otherFields = function otherFields (series) {\n        return this._otherFields[series.type] || [ VALUE ];\n    };\n\n    SeriesBinder.prototype.bindPoint = function bindPoint (series, pointIx, item) {\n        var data = series.data;\n        var pointData = defined(item) ? item : data[pointIx];\n        var result = { valueFields: { value: pointData } };\n        var valueFields = this.valueFields(series);\n        var otherFields = this._otherFields[series.type];\n        var fields, value;\n\n        if (pointData === null) {\n            value = this._nullValue[series.type];\n        } else if (!defined(pointData)) {\n            value = this._undefinedValue[series.type];\n        } else if (Array.isArray(pointData)) {\n            var fieldData = pointData.slice(valueFields.length);\n            value = this._bindFromArray(pointData, valueFields);\n            fields = this._bindFromArray(fieldData, otherFields);\n        } else if (typeof pointData === \"object\") {\n            var srcValueFields = this.sourceFields(series, valueFields);\n            var srcPointFields = this.sourceFields(series, otherFields);\n\n            value = this._bindFromObject(pointData, valueFields, srcValueFields);\n            fields = this._bindFromObject(pointData, otherFields, srcPointFields);\n        }\n\n        if (defined(value)) {\n            if (valueFields.length === 1) {\n                result.valueFields.value = value[valueFields[0]];\n            } else {\n                result.valueFields = value;\n            }\n        }\n\n        result.fields = fields || {};\n\n        return result;\n    };\n\n    SeriesBinder.prototype._makeValue = function _makeValue (fields, initialValue) {\n        var value = {};\n        var length = fields.length;\n\n        for (var i = 0; i < length; i++) {\n            var fieldName = fields[i];\n            value[fieldName] = initialValue;\n        }\n\n        return value;\n    };\n\n    SeriesBinder.prototype._bindFromArray = function _bindFromArray (array, fields) {\n        var value = {};\n\n        if (fields) {\n            var length = Math.min(fields.length, array.length);\n\n            for (var i = 0; i < length; i++) {\n                value[fields[i]] = array[i];\n            }\n        }\n\n        return value;\n    };\n\n    SeriesBinder.prototype._bindFromObject = function _bindFromObject (object, fields, srcFields) {\n        if ( srcFields === void 0 ) srcFields = fields;\n\n        var value = {};\n\n        if (fields) {\n            var length = fields.length;\n\n            for (var i = 0; i < length; i++) {\n                var fieldName = fields[i];\n                var srcFieldName = srcFields[i];\n                if (srcFieldName !== null) {\n                    value[fieldName] = getField(srcFieldName, object);\n                }\n            }\n        }\n\n        return value;\n    };\n\n    SeriesBinder.prototype.sourceFields = function sourceFields (series, canonicalFields) {\n        var sourceFields = [];\n\n        if (canonicalFields) {\n            var length = canonicalFields.length;\n\n            for (var i = 0; i < length; i++) {\n                var fieldName = canonicalFields[i];\n                var sourceFieldName = fieldName === VALUE ? \"field\" : fieldName + \"Field\";\n\n                sourceFields.push(series[sourceFieldName] !== null ? (series[sourceFieldName] || fieldName) : null);\n            }\n        }\n\n        return sourceFields;\n    };\n\n    return SeriesBinder;\n}(Class));\n\nSeriesBinder.current = new SeriesBinder();\n\nvar STD_ERR = \"stderr\";\nvar STD_DEV = \"stddev\";\nvar percentRegex = /percent(?:\\w*)\\((\\d+)\\)/;\nvar standardDeviationRegex = new RegExp(\"^\" + STD_DEV + \"(?:\\\\((\\\\d+(?:\\\\.\\\\d+)?)\\\\))?$\");\n\nvar ErrorRangeCalculator = (function (Class) {\n    function ErrorRangeCalculator(errorValue, series, field) {\n        Class.call(this);\n\n        this.initGlobalRanges(errorValue, series, field);\n    }\n\n    if ( Class ) ErrorRangeCalculator.__proto__ = Class;\n    ErrorRangeCalculator.prototype = Object.create( Class && Class.prototype );\n    ErrorRangeCalculator.prototype.constructor = ErrorRangeCalculator;\n\n    ErrorRangeCalculator.prototype.initGlobalRanges = function initGlobalRanges (errorValue, series, field) {\n        var data = series.data;\n        var deviationMatch = standardDeviationRegex.exec(errorValue);\n\n        if (deviationMatch) {\n            this.valueGetter = this.createValueGetter(series, field);\n\n            var average = this.getAverage(data);\n            var deviation = this.getStandardDeviation(data, average, false);\n            var multiple = deviationMatch[1] ? parseFloat(deviationMatch[1]) : 1;\n            var errorRange = { low: average.value - deviation * multiple, high: average.value + deviation * multiple };\n\n            this.globalRange = function() {\n                return errorRange;\n            };\n        } else if (errorValue.indexOf && errorValue.indexOf(STD_ERR) >= 0) {\n            this.valueGetter = this.createValueGetter(series, field);\n            var standardError = this.getStandardError(data, this.getAverage(data));\n\n            this.globalRange = function(value) {\n                return { low: value - standardError, high: value + standardError };\n            };\n        }\n    };\n\n    ErrorRangeCalculator.prototype.createValueGetter = function createValueGetter (series, field) {\n        var data = series.data;\n        var binder = SeriesBinder.current;\n        var valueFields = binder.valueFields(series);\n        var item = defined(data[0]) ? data[0] : {};\n        var valueGetter;\n\n        if (isArray(item)) {\n            var index = field ? valueFields.indexOf(field) : 0;\n            valueGetter = getter(\"[\" + index + \"]\");\n        } else if (isNumber(item)) {\n            valueGetter = getter();\n        } else if (typeof item === OBJECT$1) {\n            var srcValueFields = binder.sourceFields(series, valueFields);\n            valueGetter = getter(srcValueFields[valueFields.indexOf(field)]);\n        }\n\n        return valueGetter;\n    };\n\n    ErrorRangeCalculator.prototype.getErrorRange = function getErrorRange (pointValue, errorValue) {\n        var low, high, value;\n\n        if (!defined(errorValue)) {\n            return null;\n        }\n\n        if (this.globalRange) {\n            return this.globalRange(pointValue);\n        }\n\n        if (isArray(errorValue)) {\n            low = pointValue - errorValue[0];\n            high = pointValue + errorValue[1];\n        } else if (isNumber(value = parseFloat(errorValue))) {\n            low = pointValue - value;\n            high = pointValue + value;\n        } else if ((value = percentRegex.exec(errorValue))) {\n            var percentValue = pointValue * (parseFloat(value[1]) / 100);\n            low = pointValue - Math.abs(percentValue);\n            high = pointValue + Math.abs(percentValue);\n        } else {\n            throw new Error(\"Invalid ErrorBar value: \" + errorValue);\n        }\n\n        return { low: low, high: high };\n    };\n\n    ErrorRangeCalculator.prototype.getStandardError = function getStandardError (data, average) {\n        return this.getStandardDeviation(data, average, true) / Math.sqrt(average.count);\n    };\n\n    ErrorRangeCalculator.prototype.getStandardDeviation = function getStandardDeviation (data, average, isSample) {\n        var this$1$1 = this;\n\n        var length = data.length;\n        var total = isSample ? average.count - 1 : average.count;\n        var squareDifferenceSum = 0;\n\n        for (var idx = 0; idx < length; idx++) {\n            var value = this$1$1.valueGetter(data[idx]);\n            if (isNumber(value)) {\n                squareDifferenceSum += Math.pow(value - average.value, 2);\n            }\n        }\n\n        return Math.sqrt(squareDifferenceSum / total);\n    };\n\n    ErrorRangeCalculator.prototype.getAverage = function getAverage (data) {\n        var this$1$1 = this;\n\n        var length = data.length;\n        var sum = 0;\n        var count = 0;\n\n        for (var idx = 0; idx < length; idx++) {\n            var value = this$1$1.valueGetter(data[idx]);\n            if (isNumber(value)) {\n                sum += value;\n                count++;\n            }\n        }\n\n        return {\n            value: sum / count,\n            count: count\n        };\n    };\n\n    return ErrorRangeCalculator;\n}(Class));\n\nvar browser = support.browser || {};\n\nvar INITIAL_ANIMATION_DURATION = 600;\nvar FADEIN = \"fadeIn\";\n\nvar GLASS = \"glass\";\nvar BORDER_BRIGHTNESS = 0.8;\nvar TOOLTIP_OFFSET = 5;\nvar START_SCALE = browser.msie ? 0.001 : 0;\nvar ERROR_LOW_FIELD = \"errorLow\";\nvar ERROR_HIGH_FIELD = \"errorHigh\";\nvar X_ERROR_LOW_FIELD = \"xErrorLow\";\nvar X_ERROR_HIGH_FIELD = \"xErrorHigh\";\nvar Y_ERROR_LOW_FIELD = \"yErrorLow\";\nvar Y_ERROR_HIGH_FIELD = \"yErrorHigh\";\nvar LINE_MARKER_SIZE = 8;\nvar ZERO = \"zero\";\nvar INTERPOLATE = \"interpolate\";\nvar GAP = \"gap\";\nvar ABOVE = \"above\";\nvar BELOW = \"below\";\nvar BOTTOM = \"bottom\";\n\nvar SMOOTH = \"smooth\";\nvar STEP = \"step\";\n\nvar AREA = \"area\";\nvar BAR = \"bar\";\nvar BOX_PLOT = \"boxPlot\";\nvar BUBBLE = \"bubble\";\nvar BULLET = \"bullet\";\nvar CANDLESTICK = \"candlestick\";\nvar COLUMN = \"column\";\nvar DONUT = \"donut\";\nvar FUNNEL = \"funnel\";\nvar PYRAMID = \"pyramid\";\nvar HEATMAP = \"heatmap\";\nvar HORIZONTAL_WATERFALL = \"horizontalWaterfall\";\nvar LINE = \"line\";\nvar OHLC = \"ohlc\";\nvar PIE = \"pie\";\nvar POLAR_AREA = \"polarArea\";\nvar POLAR_LINE = \"polarLine\";\nvar POLAR_SCATTER = \"polarScatter\";\nvar RADAR_AREA = \"radarArea\";\nvar RADAR_COLUMN = \"radarColumn\";\nvar RADAR_LINE = \"radarLine\";\nvar RANGE_AREA = \"rangeArea\";\nvar RANGE_BAR = \"rangeBar\";\nvar RANGE_COLUMN = \"rangeColumn\";\nvar SCATTER = \"scatter\";\nvar SCATTER_LINE = \"scatterLine\";\nvar VERTICAL_AREA = \"verticalArea\";\nvar VERTICAL_BOX_PLOT = \"verticalBoxPlot\";\nvar VERTICAL_BULLET = \"verticalBullet\";\nvar VERTICAL_LINE = \"verticalLine\";\nvar VERTICAL_RANGE_AREA = \"verticalRangeArea\";\nvar WATERFALL = \"waterfall\";\nvar EQUALLY_SPACED_SERIES = [\n    BAR, COLUMN, OHLC, CANDLESTICK, BOX_PLOT, VERTICAL_BOX_PLOT,\n    BULLET, RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL\n];\n\nvar TRENDLINE_EXPONENTIAL = 'exponentialTrendline';\nvar TRENDLINE_LINEAR = 'linearTrendline';\nvar TRENDLINE_LOGARITHMIC = 'logarithmicTrendline';\nvar TRENDLINE_MOVING_AVERAGE = 'movingAverageTrendline';\nvar TRENDLINE_POLYNOMIAL = 'polynomialTrendline';\nvar TRENDLINE_POWER = 'powerTrendline';\nvar TRENDLINE_SERIES = [\n    TRENDLINE_EXPONENTIAL,\n    TRENDLINE_LINEAR,\n    TRENDLINE_LOGARITHMIC,\n    TRENDLINE_MOVING_AVERAGE,\n    TRENDLINE_POLYNOMIAL,\n    TRENDLINE_POWER\n];\n\nvar LEGEND_ITEM_CLICK = \"legendItemClick\";\nvar LEGEND_ITEM_HOVER = \"legendItemHover\";\nvar LEGEND_ITEM_LEAVE = \"legendItemLeave\";\nvar SERIES_CLICK = \"seriesClick\";\nvar SERIES_HOVER = \"seriesHover\";\nvar SERIES_OVER = \"seriesOver\";\nvar SERIES_LEAVE = \"seriesLeave\";\nvar PLOT_AREA_CLICK = \"plotAreaClick\";\nvar PLOT_AREA_HOVER = \"plotAreaHover\";\nvar PLOT_AREA_LEAVE = \"plotAreaLeave\";\nvar DRAG = \"drag\";\nvar DRAG_END = \"dragEnd\";\nvar DRAG_START = \"dragStart\";\nvar ZOOM_START = \"zoomStart\";\nvar ZOOM = \"zoom\";\nvar ZOOM_END = \"zoomEnd\";\nvar SELECT_START = \"selectStart\";\nvar SELECT = \"select\";\nvar SELECT_END = \"selectEnd\";\nvar RENDER = \"render\";\nvar SHOW_TOOLTIP$1 = \"showTooltip\";\nvar HIDE_TOOLTIP$1 = \"hideTooltip\";\nvar PANE_RENDER = \"paneRender\";\n\n\nvar CHART_POINT_ROLE = \"graphics-symbol\";\nvar CHART_POINT_CLASSNAME = \"k-chart-point\";\nvar CHART_POINT_ROLE_DESCRIPTION = \"Point\";\nvar LEGEND_ITEM_ROLE = \"checkbox\";\nvar LEGEND_ITEM_CLASSNAME = \"k-chart-legend-item\";\nvar LEGEND_ITEM_ARIA_ROLE_DESCRIPTION = \"Legend item\";\n\nvar LOGARITHMIC = \"log\";\nvar CATEGORY = \"category\";\n\nvar INSIDE_END = \"insideEnd\";\nvar INSIDE_BASE = \"insideBase\";\nvar OUTSIDE_END = \"outsideEnd\";\n\nvar MOUSEWHEEL$1 = \"wheel\";\nvar MOUSEWHEEL_DELAY = 150;\nvar MOUSEWHEEL_ZOOM_RATE = 0.3;\n\nvar DRILLDOWN = \"drilldown\";\nvar DRILLDOWN_FIELD = \"drilldown\";\nvar PATTERN_FIELD = \"pattern\";\n\nvar MIN_MOVING_AVERAGE_PERIOD = 2;\n\nvar constants$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    ABOVE: ABOVE,\n    AREA: AREA,\n    BAR: BAR,\n    BELOW: BELOW,\n    BORDER_BRIGHTNESS: BORDER_BRIGHTNESS,\n    BOTTOM: BOTTOM,\n    BOX_PLOT: BOX_PLOT,\n    BUBBLE: BUBBLE,\n    BULLET: BULLET,\n    CANDLESTICK: CANDLESTICK,\n    CATEGORY: CATEGORY,\n    CHART_POINT_CLASSNAME: CHART_POINT_CLASSNAME,\n    CHART_POINT_ROLE: CHART_POINT_ROLE,\n    CHART_POINT_ROLE_DESCRIPTION: CHART_POINT_ROLE_DESCRIPTION,\n    COLUMN: COLUMN,\n    DONUT: DONUT,\n    DRAG: DRAG,\n    DRAG_END: DRAG_END,\n    DRAG_START: DRAG_START,\n    DRILLDOWN: DRILLDOWN,\n    DRILLDOWN_FIELD: DRILLDOWN_FIELD,\n    EQUALLY_SPACED_SERIES: EQUALLY_SPACED_SERIES,\n    ERROR_HIGH_FIELD: ERROR_HIGH_FIELD,\n    ERROR_LOW_FIELD: ERROR_LOW_FIELD,\n    FADEIN: FADEIN,\n    FUNNEL: FUNNEL,\n    GAP: GAP,\n    GLASS: GLASS,\n    HEATMAP: HEATMAP,\n    HIDE_TOOLTIP: HIDE_TOOLTIP$1,\n    HORIZONTAL_WATERFALL: HORIZONTAL_WATERFALL,\n    INITIAL_ANIMATION_DURATION: INITIAL_ANIMATION_DURATION,\n    INSIDE_BASE: INSIDE_BASE,\n    INSIDE_END: INSIDE_END,\n    INTERPOLATE: INTERPOLATE,\n    LEGEND_ITEM_ARIA_ROLE_DESCRIPTION: LEGEND_ITEM_ARIA_ROLE_DESCRIPTION,\n    LEGEND_ITEM_CLASSNAME: LEGEND_ITEM_CLASSNAME,\n    LEGEND_ITEM_CLICK: LEGEND_ITEM_CLICK,\n    LEGEND_ITEM_HOVER: LEGEND_ITEM_HOVER,\n    LEGEND_ITEM_LEAVE: LEGEND_ITEM_LEAVE,\n    LEGEND_ITEM_ROLE: LEGEND_ITEM_ROLE,\n    LINE: LINE,\n    LINE_MARKER_SIZE: LINE_MARKER_SIZE,\n    LOGARITHMIC: LOGARITHMIC,\n    MIN_MOVING_AVERAGE_PERIOD: MIN_MOVING_AVERAGE_PERIOD,\n    MOUSEWHEEL: MOUSEWHEEL$1,\n    MOUSEWHEEL_DELAY: MOUSEWHEEL_DELAY,\n    MOUSEWHEEL_ZOOM_RATE: MOUSEWHEEL_ZOOM_RATE,\n    OHLC: OHLC,\n    OUTSIDE_END: OUTSIDE_END,\n    PANE_RENDER: PANE_RENDER,\n    PATTERN_FIELD: PATTERN_FIELD,\n    PIE: PIE,\n    PLOT_AREA_CLICK: PLOT_AREA_CLICK,\n    PLOT_AREA_HOVER: PLOT_AREA_HOVER,\n    PLOT_AREA_LEAVE: PLOT_AREA_LEAVE,\n    POLAR_AREA: POLAR_AREA,\n    POLAR_LINE: POLAR_LINE,\n    POLAR_SCATTER: POLAR_SCATTER,\n    PYRAMID: PYRAMID,\n    RADAR_AREA: RADAR_AREA,\n    RADAR_COLUMN: RADAR_COLUMN,\n    RADAR_LINE: RADAR_LINE,\n    RANGE_AREA: RANGE_AREA,\n    RANGE_BAR: RANGE_BAR,\n    RANGE_COLUMN: RANGE_COLUMN,\n    RENDER: RENDER,\n    SCATTER: SCATTER,\n    SCATTER_LINE: SCATTER_LINE,\n    SELECT: SELECT,\n    SELECT_END: SELECT_END,\n    SELECT_START: SELECT_START,\n    SERIES_CLICK: SERIES_CLICK,\n    SERIES_HOVER: SERIES_HOVER,\n    SERIES_LEAVE: SERIES_LEAVE,\n    SERIES_OVER: SERIES_OVER,\n    SHOW_TOOLTIP: SHOW_TOOLTIP$1,\n    SMOOTH: SMOOTH,\n    START_SCALE: START_SCALE,\n    STEP: STEP,\n    TOOLTIP_OFFSET: TOOLTIP_OFFSET,\n    TRENDLINE_EXPONENTIAL: TRENDLINE_EXPONENTIAL,\n    TRENDLINE_LINEAR: TRENDLINE_LINEAR,\n    TRENDLINE_LOGARITHMIC: TRENDLINE_LOGARITHMIC,\n    TRENDLINE_MOVING_AVERAGE: TRENDLINE_MOVING_AVERAGE,\n    TRENDLINE_POLYNOMIAL: TRENDLINE_POLYNOMIAL,\n    TRENDLINE_POWER: TRENDLINE_POWER,\n    TRENDLINE_SERIES: TRENDLINE_SERIES,\n    VERTICAL_AREA: VERTICAL_AREA,\n    VERTICAL_BOX_PLOT: VERTICAL_BOX_PLOT,\n    VERTICAL_BULLET: VERTICAL_BULLET,\n    VERTICAL_LINE: VERTICAL_LINE,\n    VERTICAL_RANGE_AREA: VERTICAL_RANGE_AREA,\n    WATERFALL: WATERFALL,\n    X_ERROR_HIGH_FIELD: X_ERROR_HIGH_FIELD,\n    X_ERROR_LOW_FIELD: X_ERROR_LOW_FIELD,\n    Y_ERROR_HIGH_FIELD: Y_ERROR_HIGH_FIELD,\n    Y_ERROR_LOW_FIELD: Y_ERROR_LOW_FIELD,\n    ZERO: ZERO,\n    ZOOM: ZOOM,\n    ZOOM_END: ZOOM_END,\n    ZOOM_START: ZOOM_START\n});\n\nvar DEFAULT_ERROR_BAR_WIDTH = 4;\n\nvar ErrorBarBase = (function (ChartElement) {\n    function ErrorBarBase(low, high, isVertical, chart, series, options) {\n        ChartElement.call(this, options);\n\n        this.low = low;\n        this.high = high;\n        this.isVertical = isVertical;\n        this.chart = chart;\n        this.series = series;\n    }\n\n    if ( ChartElement ) ErrorBarBase.__proto__ = ChartElement;\n    ErrorBarBase.prototype = Object.create( ChartElement && ChartElement.prototype );\n    ErrorBarBase.prototype.constructor = ErrorBarBase;\n\n    ErrorBarBase.prototype.reflow = function reflow (targetBox) {\n        var endCaps = this.options.endCaps;\n        var isVertical = this.isVertical;\n        var axis = this.getAxis();\n        var valueBox = axis.getSlot(this.low, this.high);\n        var centerBox = targetBox.center();\n        var capsWidth = this.getCapsWidth(targetBox, isVertical);\n        var capValue = isVertical ? centerBox.x : centerBox.y;\n        var capStart = capValue - capsWidth;\n        var capEnd = capValue + capsWidth;\n        var linePoints;\n\n        if (isVertical) {\n            linePoints = [\n                new Point$5(centerBox.x, valueBox.y1),\n                new Point$5(centerBox.x, valueBox.y2)\n            ];\n            if (endCaps) {\n                linePoints.push(new Point$5(capStart, valueBox.y1),\n                    new Point$5(capEnd, valueBox.y1),\n                    new Point$5(capStart, valueBox.y2),\n                    new Point$5(capEnd, valueBox.y2));\n            }\n            this.box = new Box(capStart, valueBox.y1, capEnd, valueBox.y2);\n        } else {\n            linePoints = [\n                new Point$5(valueBox.x1, centerBox.y),\n                new Point$5(valueBox.x2, centerBox.y)\n            ];\n            if (endCaps) {\n                linePoints.push(new Point$5(valueBox.x1, capStart),\n                    new Point$5(valueBox.x1, capEnd),\n                    new Point$5(valueBox.x2, capStart),\n                    new Point$5(valueBox.x2, capEnd));\n            }\n            this.box = new Box(valueBox.x1, capStart, valueBox.x2, capEnd);\n        }\n\n        this.linePoints = linePoints;\n    };\n\n    ErrorBarBase.prototype.getCapsWidth = function getCapsWidth (box, isVertical) {\n        var boxSize = isVertical ? box.width() : box.height();\n        var capsWidth = Math.min(Math.floor(boxSize / 2), DEFAULT_ERROR_BAR_WIDTH) || DEFAULT_ERROR_BAR_WIDTH;\n\n        return capsWidth;\n    };\n\n    ErrorBarBase.prototype.createVisual = function createVisual () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var visual = options.visual;\n\n        if (visual) {\n            this.visual = visual({\n                low: this.low,\n                high: this.high,\n                rect: this.box.toRect(),\n                sender: this.getSender(),\n                options: {\n                    endCaps: options.endCaps,\n                    color: options.color,\n                    line: options.line\n                },\n                createVisual: function () {\n                    this$1$1.createDefaultVisual();\n                    var defaultVisual = this$1$1.visual;\n                    delete this$1$1.visual;\n                    return defaultVisual;\n                }\n            });\n        } else {\n            this.createDefaultVisual();\n        }\n    };\n\n    ErrorBarBase.prototype.createDefaultVisual = function createDefaultVisual () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var linePoints = ref.linePoints;\n        var lineOptions = {\n            stroke: {\n                color: options.color,\n                width: options.line.width,\n                dashType: options.line.dashType\n            }\n        };\n\n        ChartElement.prototype.createVisual.call(this);\n\n        for (var idx = 0; idx < linePoints.length; idx += 2) {\n            var line = new Path$7(lineOptions)\n                .moveTo(linePoints[idx].x, linePoints[idx].y)\n                .lineTo(linePoints[idx + 1].x, linePoints[idx + 1].y);\n\n            alignPathToPixel(line);\n            this$1$1.visual.append(line);\n        }\n    };\n\n    return ErrorBarBase;\n}(ChartElement));\n\nsetDefaultOptions(ErrorBarBase, {\n    animation: {\n        type: FADEIN,\n        delay: INITIAL_ANIMATION_DURATION\n    },\n    endCaps: true,\n    line: {\n        width: 2\n    },\n    zIndex: 1\n});\n\nvar CategoricalErrorBar = (function (ErrorBarBase) {\n    function CategoricalErrorBar () {\n        ErrorBarBase.apply(this, arguments);\n    }\n\n    if ( ErrorBarBase ) CategoricalErrorBar.__proto__ = ErrorBarBase;\n    CategoricalErrorBar.prototype = Object.create( ErrorBarBase && ErrorBarBase.prototype );\n    CategoricalErrorBar.prototype.constructor = CategoricalErrorBar;\n\n    CategoricalErrorBar.prototype.getAxis = function getAxis () {\n        var axis = this.chart.seriesValueAxis(this.series);\n\n        return axis;\n    };\n\n    return CategoricalErrorBar;\n}(ErrorBarBase));\n\nfunction anyHasZIndex(elements) {\n    for (var idx = 0; idx < elements.length; idx++) {\n        if (defined(elements[idx].zIndex)) {\n            return true;\n        }\n    }\n}\n\nfunction appendIfNotNull(array, element) {\n    if (element !== null) {\n        array.push(element);\n    }\n}\n\nfunction areNumbers(values) {\n    return countNumbers(values) === values.length;\n}\n\nfunction segmentVisible(series, fields, index) {\n    var visible = fields.visible;\n    if (defined(visible)) {\n        return visible;\n    }\n\n    var pointVisibility = series.pointVisibility;\n    if (pointVisibility) {\n        return pointVisibility[index];\n    }\n}\n\nfunction bindSegments(series) {\n    var data = series.data;\n    var points = [];\n    var sum = 0;\n    var count = 0;\n\n    for (var idx = 0; idx < data.length; idx++) {\n        var pointData = SeriesBinder.current.bindPoint(series, idx);\n        var value = pointData.valueFields.value;\n\n\n        if (isString$1(value)) {\n            value = parseFloat(value);\n        }\n\n        if (isNumber(value)) {\n            pointData.visible = segmentVisible(series, pointData.fields, idx) !== false;\n\n            pointData.value = Math.abs(value);\n            points.push(pointData);\n\n            if (pointData.visible) {\n                sum += pointData.value;\n            }\n\n            if (value !== 0) {\n                count++;\n            }\n        } else {\n            points.push(null);\n        }\n    }\n\n    return {\n        total: sum,\n        points: points,\n        count: count\n    };\n}\n\nfunction categoriesCount(series) {\n    var seriesCount = series.length;\n    var categories = 0;\n\n    for (var i = 0; i < seriesCount; i++) {\n        categories = Math.max(categories, series[i].data.length);\n    }\n\n    return categories;\n}\n\nfunction equalsIgnoreCase(a, b) {\n    if (a && b) {\n        return a.toLowerCase() === b.toLowerCase();\n    }\n\n    return a === b;\n}\n\nvar MAX_EXPAND_DEPTH = 5;\n\nfunction evalOptions(options, context, state, dryRun) {\n    if ( state === void 0 ) state = {};\n    if ( dryRun === void 0 ) dryRun = false;\n\n    var defaults = state.defaults = state.defaults || {};\n    var depth = state.depth = state.depth || 0;\n    var needsEval = false;\n\n    state.excluded = state.excluded || [];\n\n    if (depth > MAX_EXPAND_DEPTH) {\n        return null;\n    }\n\n    for (var property in options) {\n        if (!inArray(property, state.excluded) && hasOwnProperty(options, property)) {\n            var propValue = options[property];\n            if (isFunction(propValue)) {\n                needsEval = true;\n                if (!dryRun) {\n                    options[property] = valueOrDefault(propValue(context), defaults[property]);\n                }\n            } else if (isObject(propValue)) {\n                if (!dryRun) {\n                    state.defaults = defaults[property];\n                }\n                state.depth++;\n                needsEval = evalOptions(propValue, context, state, dryRun) || needsEval;\n                state.depth--;\n            }\n        }\n    }\n\n    return needsEval;\n}\n\nfunction filterSeriesByType(series, types) {\n    var result = [];\n\n    var seriesTypes = [].concat(types);\n    for (var idx = 0; idx < series.length; idx++) {\n        var currentSeries = series[idx];\n        if (inArray(currentSeries.type, seriesTypes)) {\n            result.push(currentSeries);\n        }\n    }\n\n    return result;\n}\n\nvar dateCache = new WeakMap();\n\nfunction parseDateCategory(category, row, intlService) {\n    if (row === null || typeof row !== 'object') {\n        return parseDate(intlService, category);\n    }\n\n    var date = dateCache.get(row);\n    if (!date) {\n        date = parseDate(intlService, category);\n        dateCache.set(row, date);\n    }\n\n    return date;\n}\n\nfunction hasGradientOverlay(options) {\n    var overlay = options.overlay;\n\n    return overlay && overlay.gradient && overlay.gradient !== \"none\";\n}\n\nfunction hasValue$2(value) {\n    return defined(value) && value !== null;\n}\n\nfunction isDateAxis(axisOptions, sampleCategory) {\n    var type = axisOptions.type;\n    var dateCategory = sampleCategory instanceof Date;\n\n    return (!type && dateCategory) || equalsIgnoreCase(type, DATE);\n}\n\nfunction singleItemOrArray(array) {\n    return array.length === 1 ? array[0] : array;\n}\n\nvar AREA_REGEX = /area/i;\n\nfunction seriesMissingValues(series) {\n    if (series.missingValues) {\n        return series.missingValues;\n    }\n\n    return AREA_REGEX.test(series.type) || series.stack ? ZERO : INTERPOLATE;\n}\n\nfunction hasValue$1(series, item) {\n    var fields = SeriesBinder.current.bindPoint(series, null, item);\n    var valueFields = fields.valueFields;\n\n    for (var field in valueFields) {\n        if (convertableToNumber(valueFields[field])) {\n            return true;\n        }\n    }\n}\n\nfunction findNext(ref) {\n    var start = ref.start;\n    var dir = ref.dir;\n    var min = ref.min;\n    var max = ref.max;\n    var getter = ref.getter;\n    var hasItem = ref.hasItem;\n    var series = ref.series;\n\n    var pointHasValue, outPoint;\n    var idx = start;\n    do {\n        idx += dir;\n        //aggregating and binding the item takes too much time for large number of categories\n        //will assume that if the aggregation does not create value for a missing item for one it will not create for others\n        if (hasItem(idx)) {\n            outPoint = getter(idx);\n            pointHasValue = hasValue$1(series, outPoint.item);\n        }\n    } while (min <= idx && idx <= max && !pointHasValue);\n\n    if (pointHasValue) {\n        return outPoint;\n    }\n}\n\nfunction createOutOfRangePoints(series, range, count, getter, hasItem) {\n    var min = range.min;\n    var max = range.max;\n    var hasMinPoint = min > 0 && min < count;\n    var hasMaxPoint = max + 1 < count;\n\n    if (hasMinPoint || hasMaxPoint) {\n        var missingValues = seriesMissingValues(series);\n        var minPoint, maxPoint;\n        if (missingValues !== INTERPOLATE) {\n            if (hasMinPoint) {\n                minPoint = getter(min - 1);\n            }\n\n            if (hasMaxPoint) {\n                maxPoint = getter(max + 1);\n            }\n        } else {\n            var outPoint, pointHasValue;\n            if (hasMinPoint) {\n                outPoint = getter(min - 1);\n                pointHasValue = hasValue$1(series, outPoint.item);\n                if (!pointHasValue) {\n                    minPoint = findNext({\n                        start: min,\n                        dir: -1,\n                        min: 0,\n                        max: count - 1,\n                        getter: getter,\n                        hasItem: hasItem,\n                        series: series\n                    });\n                } else {\n                    minPoint = outPoint;\n                }\n            }\n\n            if (hasMaxPoint) {\n                outPoint = getter(max + 1);\n                pointHasValue = hasValue$1(series, outPoint.item);\n                if (!pointHasValue) {\n                    maxPoint = findNext({\n                        start: max,\n                        dir: 1,\n                        min: 0,\n                        max: count - 1,\n                        getter: getter,\n                        hasItem: hasItem,\n                        series: series\n                    });\n                } else {\n                    maxPoint = outPoint;\n                }\n            }\n        }\n\n        if (minPoint) {\n            series._outOfRangeMinPoint = minPoint;\n        }\n\n        if (maxPoint) {\n            series._outOfRangeMaxPoint = maxPoint;\n        }\n    }\n}\n\nvar CategoricalChart = (function (ChartElement) {\n    function CategoricalChart(plotArea, options) {\n        ChartElement.call(this, options);\n\n        this.plotArea = plotArea;\n        this.chartService = plotArea.chartService;\n        this.categoryAxis = plotArea.seriesCategoryAxis(options.series[0]);\n\n        // Value axis ranges grouped by axis name, e.g.:\n        // primary: { min: 0, max: 1 }\n        this.valueAxisRanges = {};\n\n        this.points = [];\n        this.categoryPoints = [];\n        this.seriesPoints = [];\n        this.seriesOptions = [];\n        this._evalSeries = [];\n\n        this.render();\n    }\n\n    if ( ChartElement ) CategoricalChart.__proto__ = ChartElement;\n    CategoricalChart.prototype = Object.create( ChartElement && ChartElement.prototype );\n    CategoricalChart.prototype.constructor = CategoricalChart;\n\n    CategoricalChart.prototype.render = function render () {\n        this.traverseDataPoints(this.addValue.bind(this));\n    };\n\n    CategoricalChart.prototype.pointOptions = function pointOptions (series, seriesIx) {\n        var options = this.seriesOptions[seriesIx];\n        if (!options) {\n            var defaults = this.pointType().prototype.defaults;\n            this.seriesOptions[seriesIx] = options = deepExtend({ }, defaults, {\n                vertical: !this.options.invertAxes\n            }, series);\n        }\n\n        return options;\n    };\n\n    CategoricalChart.prototype.plotValue = function plotValue (point) {\n        if (!point) {\n            return 0;\n        }\n\n        if (this.options.isStacked100 && isNumber(point.value)) {\n            var categoryIx = point.categoryIx;\n            var categoryPoints = this.categoryPoints[categoryIx];\n            var otherValues = [];\n            var categorySum = 0;\n\n            for (var i = 0; i < categoryPoints.length; i++) {\n                var other = categoryPoints[i];\n                if (other) {\n                    var stack = point.series.stack;\n                    var otherStack = other.series.stack;\n\n                    if ((stack && otherStack) && stack.group !== otherStack.group) {\n                        continue;\n                    }\n\n                    if (isNumber(other.value)) {\n                        categorySum += Math.abs(other.value);\n                        otherValues.push(Math.abs(other.value));\n                    }\n                }\n            }\n\n            if (categorySum > 0) {\n                return point.value / categorySum;\n            }\n        }\n\n        return point.value;\n    };\n\n    CategoricalChart.prototype.plotRange = function plotRange (point, startValue) {\n        var this$1$1 = this;\n        if ( startValue === void 0 ) startValue = 0;\n\n        var categoryPoints = this.categoryPoints[point.categoryIx];\n\n        if (this.options.isStacked) {\n            var plotValue = this.plotValue(point);\n            var positive = plotValue >= 0;\n            var prevValue = startValue;\n            var isStackedBar = false;\n            var stack = defined(point.series.stack) ? point.series.stack : this.options.defaultStack;\n            var isNonGroupStack = function (stack) { return stack === true || typeof stack === OBJECT$1 && !stack.group; };\n\n            if (stack) {\n                for (var i = 0; i < categoryPoints.length; i++) {\n                    var other = categoryPoints[i];\n\n                    if (point === other) {\n                        break;\n                    }\n\n                    var otherStack = defined(other.series.stack) ? other.series.stack : this$1$1.options.defaultStack;\n\n                    if (!otherStack) {\n                        continue;\n                    }\n\n                    if (typeof stack === STRING$1 && stack !== otherStack) {\n                        continue;\n                    }\n\n                    if (isNonGroupStack(stack) && !isNonGroupStack(otherStack)) {\n                        continue;\n                    }\n\n                    if (stack.group && stack.group !== otherStack.group) {\n                        continue;\n                    }\n\n                    var otherValue = this$1$1.plotValue(other);\n                    if ((otherValue >= 0 && positive) ||\n                        (otherValue < 0 && !positive)) {\n                        // zero values should be skipped for log axis (startValue !== 0)\n                        if (startValue === 0 || otherValue !== 0) {\n                            prevValue += otherValue;\n                            plotValue += otherValue;\n                            isStackedBar = true;\n\n                            if (this$1$1.options.isStacked100) {\n                                plotValue = Math.min(plotValue, 1);\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (isStackedBar) {\n                prevValue -= startValue;\n            }\n\n            return [ prevValue, plotValue ];\n        }\n\n        var series = point.series;\n        var valueAxis = this.seriesValueAxis(series);\n        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n\n        return [ axisCrossingValue, convertableToNumber(point.value) ? point.value : axisCrossingValue ];\n    };\n\n    CategoricalChart.prototype.stackLimits = function stackLimits (axisName, stackName) {\n        var this$1$1 = this;\n\n        var min = MAX_VALUE;\n        var max = MIN_VALUE;\n\n        for (var i = 0; i < this.categoryPoints.length; i++) {\n            var categoryPoints = this$1$1.categoryPoints[i];\n            if (!categoryPoints) {\n                continue;\n            }\n\n            for (var pIx = 0; pIx < categoryPoints.length; pIx++) {\n                var point = categoryPoints[pIx];\n                if (point) {\n                    if (point.series.stack === stackName || point.series.axis === axisName) {\n                        var to = this$1$1.plotRange(point, 0)[1];\n                        if (defined(to) && isFinite(to)) {\n                            max = Math.max(max, to);\n                            min = Math.min(min, to);\n                        }\n                    }\n                }\n            }\n        }\n\n        return { min: min, max: max };\n    };\n\n    CategoricalChart.prototype.updateStackRange = function updateStackRange () {\n        var this$1$1 = this;\n\n        var ref = this.options;\n        var isStacked = ref.isStacked;\n        var chartSeries = ref.series;\n        var limitsCache = {};\n\n        if (isStacked) {\n            for (var i = 0; i < chartSeries.length; i++) {\n                var series = chartSeries[i];\n                var axisName = series.axis;\n                var key = axisName + series.stack;\n\n                var limits = limitsCache[key];\n                if (!limits) {\n                    limits = this$1$1.stackLimits(axisName, series.stack);\n\n                    var errorTotals = this$1$1.errorTotals;\n                    if (errorTotals) {\n                        if (errorTotals.negative.length) {\n                            limits.min = Math.min(limits.min, sparseArrayLimits(errorTotals.negative).min);\n                        }\n                        if (errorTotals.positive.length) {\n                            limits.max = Math.max(limits.max, sparseArrayLimits(errorTotals.positive).max);\n                        }\n                    }\n\n                    if (limits.min !== MAX_VALUE || limits.max !== MIN_VALUE) {\n                        limitsCache[key] = limits;\n                    } else {\n                        limits = null;\n                    }\n                }\n\n                if (limits) {\n                    this$1$1.valueAxisRanges[axisName] = limits;\n                }\n            }\n        }\n    };\n\n    CategoricalChart.prototype.addErrorBar = function addErrorBar (point, data, categoryIx) {\n        var value = point.value;\n        var series = point.series;\n        var seriesIx = point.seriesIx;\n        var errorBars = point.options.errorBars;\n        var lowValue = data.fields[ERROR_LOW_FIELD];\n        var highValue = data.fields[ERROR_HIGH_FIELD];\n        var errorRange;\n\n        if (isNumber(lowValue) && isNumber(highValue)) {\n            errorRange = { low: lowValue, high: highValue };\n        } else if (errorBars && defined(errorBars.value)) {\n            this.seriesErrorRanges = this.seriesErrorRanges || [];\n            this.seriesErrorRanges[seriesIx] = this.seriesErrorRanges[seriesIx] ||\n                new ErrorRangeCalculator(errorBars.value, series, VALUE);\n\n            errorRange = this.seriesErrorRanges[seriesIx].getErrorRange(value, errorBars.value);\n        }\n\n        if (errorRange) {\n            point.low = errorRange.low;\n            point.high = errorRange.high;\n            this.addPointErrorBar(point, categoryIx);\n        }\n    };\n\n    CategoricalChart.prototype.addPointErrorBar = function addPointErrorBar (point, categoryIx) {\n        var isVertical = !this.options.invertAxes;\n        var options = point.options.errorBars;\n        var series = point.series;\n        var low = point.low;\n        var high = point.high;\n\n        if (this.options.isStacked) {\n            var stackedErrorRange = this.stackedErrorRange(point, categoryIx);\n            low = stackedErrorRange.low;\n            high = stackedErrorRange.high;\n        } else {\n            var fields = { categoryIx: categoryIx, series: series };\n            this.updateRange({ value: low }, fields);\n            this.updateRange({ value: high }, fields);\n        }\n\n        var errorBar = new CategoricalErrorBar(low, high, isVertical, this, series, options);\n        point.errorBars = [ errorBar ];\n        point.append(errorBar);\n    };\n\n    CategoricalChart.prototype.stackedErrorRange = function stackedErrorRange (point, categoryIx) {\n        var plotValue = this.plotRange(point, 0)[1] - point.value;\n        var low = point.low + plotValue;\n        var high = point.high + plotValue;\n\n        this.errorTotals = this.errorTotals || { positive: [], negative: [] };\n\n        if (low < 0) {\n            this.errorTotals.negative[categoryIx] = Math.min(this.errorTotals.negative[categoryIx] || 0, low);\n        }\n\n        if (high > 0) {\n            this.errorTotals.positive[categoryIx] = Math.max(this.errorTotals.positive[categoryIx] || 0, high);\n        }\n\n        return { low: low, high: high };\n    };\n\n    CategoricalChart.prototype.addValue = function addValue (data, fields) {\n        var categoryIx = fields.categoryIx;\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n\n        var categoryPoints = this.categoryPoints[categoryIx];\n        if (!categoryPoints) {\n            this.categoryPoints[categoryIx] = categoryPoints = [];\n        }\n\n        var seriesPoints = this.seriesPoints[seriesIx];\n        if (!seriesPoints) {\n            this.seriesPoints[seriesIx] = seriesPoints = [];\n        }\n\n        var point = this.createPoint(data, fields);\n        if (point) {\n            Object.assign(point, fields);\n\n            point.owner = this;\n            point.noteText = data.fields.noteText;\n            if (!defined(point.dataItem)) {\n                point.dataItem = series.data[categoryIx];\n            }\n            this.addErrorBar(point, data, categoryIx);\n        }\n\n        this.points.push(point);\n        seriesPoints.push(point);\n        categoryPoints.push(point);\n\n        this.updateRange(data.valueFields, fields);\n    };\n\n    CategoricalChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {\n        var categoryIx = fields.categoryIx;\n        var category = fields.category;\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var state = {\n            defaults: series._defaults,\n            excluded: [\n                \"data\", \"aggregate\", \"_events\", \"tooltip\", \"content\", \"template\",\n                \"visual\", \"toggle\", \"_outOfRangeMinPoint\", \"_outOfRangeMaxPoint\",\n                \"drilldownSeriesFactory\", \"ariaTemplate\", \"ariaContent\"\n            ]\n        };\n\n        var doEval = this._evalSeries[seriesIx];\n        if (!defined(doEval)) {\n            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n        }\n\n        var pointOptions = options;\n        if (doEval) {\n            pointOptions = deepExtend({}, pointOptions);\n            evalOptions(pointOptions, {\n                value: value,\n                category: category,\n                index: categoryIx,\n                series: series,\n                dataItem: series.data[categoryIx]\n            }, state);\n        }\n\n        return pointOptions;\n    };\n\n    CategoricalChart.prototype.updateRange = function updateRange (data, fields) {\n        var axisName = fields.series.axis;\n        var value = data.value;\n        var axisRange = this.valueAxisRanges[axisName];\n\n        if (isFinite(value) && value !== null) {\n            axisRange = this.valueAxisRanges[axisName] =\n                axisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            axisRange.min = Math.min(axisRange.min, value);\n            axisRange.max = Math.max(axisRange.max, value);\n        }\n    };\n\n    CategoricalChart.prototype.seriesValueAxis = function seriesValueAxis (series) {\n        var plotArea = this.plotArea;\n        var axisName = series.axis;\n        var axis = axisName ? plotArea.namedValueAxes[axisName] : plotArea.valueAxis;\n\n        if (!axis) {\n            throw new Error(\"Unable to locate value axis with name \" + axisName);\n        }\n\n        return axis;\n    };\n\n    CategoricalChart.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var categorySlots = this.categorySlots = [];\n        var chartPoints = this.points;\n        var categoryAxis = this.categoryAxis;\n        var pointIx = 0;\n\n        this.traverseDataPoints(function (data, fields) {\n            var categoryIx = fields.categoryIx;\n            var currentSeries = fields.series;\n\n            var valueAxis = this$1$1.seriesValueAxis(currentSeries);\n            var point = chartPoints[pointIx++];\n\n            var categorySlot = categorySlots[categoryIx];\n            if (!categorySlot) {\n                categorySlots[categoryIx] = categorySlot =\n                    this$1$1.categorySlot(categoryAxis, categoryIx, valueAxis);\n            }\n\n            if (point) {\n                var plotRange = this$1$1.plotRange(point, valueAxis.startValue());\n                var valueSlot = this$1$1.valueSlot(valueAxis, plotRange);\n                if (valueSlot) {\n                    var pointSlot = this$1$1.pointSlot(categorySlot, valueSlot);\n\n                    point.aboveAxis = this$1$1.aboveAxis(point, valueAxis);\n                    point.stackValue = plotRange[1];\n\n                    if (this$1$1.options.isStacked100) {\n                        point.percentage = this$1$1.plotValue(point);\n                    }\n\n                    this$1$1.reflowPoint(point, pointSlot);\n                } else {\n                    point.visible = false;\n                }\n            }\n        });\n\n        this.reflowCategories(categorySlots);\n        if (!this.options.clip && this.options.limitPoints && this.points.length) {\n            this.limitPoints();\n        }\n\n        this.box = targetBox;\n    };\n\n    CategoricalChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {\n        return valueAxis.getSlot(plotRange[0], plotRange[1], !this.options.clip);\n    };\n\n    CategoricalChart.prototype.limitPoints = function limitPoints () {\n        var this$1$1 = this;\n\n        var categoryPoints = this.categoryPoints;\n        var points = categoryPoints[0].concat(last(categoryPoints));\n        for (var idx = 0; idx < points.length; idx++) {\n            if (points[idx]) {\n                this$1$1.limitPoint(points[idx]);\n            }\n        }\n    };\n\n    CategoricalChart.prototype.limitPoint = function limitPoint (point) {\n        var limitedSlot = this.categoryAxis.limitSlot(point.box);\n        if (!limitedSlot.equals(point.box)) {\n            point.reflow(limitedSlot);\n        }\n    };\n\n    CategoricalChart.prototype.aboveAxis = function aboveAxis (point, valueAxis) {\n        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n        var value = point.value;\n\n        return valueAxis.options.reverse ?\n            value < axisCrossingValue : value >= axisCrossingValue;\n    };\n\n    CategoricalChart.prototype.categoryAxisCrossingValue = function categoryAxisCrossingValue (valueAxis) {\n        var categoryAxis = this.categoryAxis;\n        var options = valueAxis.options;\n        var crossingValues = [].concat(\n            options.axisCrossingValues || options.axisCrossingValue\n        );\n\n        return crossingValues[categoryAxis.axisIndex || 0] || 0;\n    };\n\n    CategoricalChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {\n        point.reflow(pointSlot);\n    };\n\n    CategoricalChart.prototype.reflowCategories = function reflowCategories () { };\n\n    CategoricalChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {\n        var options = this.options;\n        var invertAxes = options.invertAxes;\n        var slotX = invertAxes ? valueSlot : categorySlot;\n        var slotY = invertAxes ? categorySlot : valueSlot;\n\n        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n    };\n\n    CategoricalChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {\n        return categoryAxis.getSlot(categoryIx);\n    };\n\n    CategoricalChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {\n        var this$1$1 = this;\n\n        var series = this.options.series;\n        var count = categoriesCount(series);\n        var seriesCount = series.length;\n\n        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n            this$1$1._outOfRangeCallback(series[seriesIx], \"_outOfRangeMinPoint\", seriesIx, callback);\n        }\n\n        for (var categoryIx = 0; categoryIx < count; categoryIx++) {\n            for (var seriesIx$1 = 0; seriesIx$1 < seriesCount; seriesIx$1++) {\n                var currentSeries = series[seriesIx$1];\n                var currentCategory = this$1$1.categoryAxis.categoryAt(categoryIx);\n                var pointData = this$1$1.plotArea.bindPoint(currentSeries, categoryIx);\n\n                callback(pointData, {\n                    category: currentCategory,\n                    categoryIx: categoryIx,\n                    categoriesCount: count,\n                    series: currentSeries,\n                    seriesIx: seriesIx$1\n                });\n            }\n        }\n\n        for (var seriesIx$2 = 0; seriesIx$2 < seriesCount; seriesIx$2++) {\n            this$1$1._outOfRangeCallback(series[seriesIx$2], \"_outOfRangeMaxPoint\", seriesIx$2, callback);\n        }\n    };\n\n    CategoricalChart.prototype._outOfRangeCallback = function _outOfRangeCallback (series, field, seriesIx, callback) {\n        var outOfRangePoint = series[field];\n        if (outOfRangePoint) {\n            var categoryIx = outOfRangePoint.categoryIx;\n            var pointData = this.plotArea.bindPoint(series, categoryIx, outOfRangePoint.item);\n\n            callback(pointData, {\n                category: outOfRangePoint.category,\n                categoryIx: categoryIx,\n                series: series,\n                seriesIx: seriesIx,\n                dataItem: outOfRangePoint.item\n            });\n        }\n    };\n\n    CategoricalChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        if (point.value === null) {\n            return \"\";\n        }\n\n        return this.chartService.format.auto(format, point.value);\n    };\n\n    CategoricalChart.prototype.pointValue = function pointValue (data) {\n        return data.valueFields.value;\n    };\n\n    return CategoricalChart;\n}(ChartElement));\n\nsetDefaultOptions(CategoricalChart, {\n    series: [],\n    invertAxes: false,\n    isStacked: false,\n    clip: true,\n    limitPoints: true\n});\n\nvar PointEventsMixin = {\n    click: function(chart, e) {\n        return chart.trigger(\n            SERIES_CLICK,\n            this.eventArgs(e)\n        );\n    },\n\n    hover: function(chart, e) {\n        return chart.trigger(\n            SERIES_HOVER,\n            this.eventArgs(e)\n        );\n    },\n\n    over: function(chart, e) {\n        return chart.trigger(\n            SERIES_OVER,\n            this.eventArgs(e)\n        );\n    },\n\n    out: function(chart, e) {\n        return chart.trigger(\n            SERIES_LEAVE,\n            this.eventArgs(e)\n        );\n    },\n\n    eventArgs: function(e) {\n        return {\n            value: this.value,\n            percentage: this.percentage,\n            stackValue: this.stackValue,\n            category: this.category,\n            series: this.series,\n            dataItem: this.dataItem,\n            runningTotal: this.runningTotal,\n            total: this.total,\n            element: eventElement(e),\n            originalEvent: e,\n            point: this\n        };\n    }\n};\n\nvar NoteMixin = {\n    createNote: function() {\n        var options = this.options.notes;\n        var text = this.noteText || options.label.text;\n\n        if (options.visible !== false && defined(text) && text !== null) {\n            this.note = new Note({\n                value: this.value,\n                text: text,\n                dataItem: this.dataItem,\n                category: this.category,\n                series: this.series\n            }, this.options.notes, this.owner.chartService);\n\n            this.append(this.note);\n        }\n    }\n};\n\nvar LinePoint = (function (ChartElement) {\n    function LinePoint(value, options) {\n        ChartElement.call(this);\n\n        this.value = value;\n        this.options = options;\n        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n        this.tooltipTracking = true;\n        this._id = guid();\n    }\n\n    if ( ChartElement ) LinePoint.__proto__ = ChartElement;\n    LinePoint.prototype = Object.create( ChartElement && ChartElement.prototype );\n    LinePoint.prototype.constructor = LinePoint;\n\n    LinePoint.prototype.render = function render () {\n        var ref = this.options;\n        var markers = ref.markers;\n\n        if (this._rendered) {\n            return;\n        }\n\n        this._rendered = true;\n\n        if (markers.visible && markers.size) {\n            this.marker = this.createMarker();\n            this.append(this.marker);\n        }\n\n        this.createLabel();\n        this.createNote();\n\n        if (this.errorBar) {\n            this.append(this.errorBar);\n        }\n    };\n\n    LinePoint.prototype.createLabel = function createLabel () {\n        var options = this.options;\n        var labels = options.labels;\n\n        if (labels.visible) {\n            this.label = this.createLabelElement(labels);\n            this.append(this.label);\n        }\n    };\n\n    LinePoint.prototype.createLabelElement = function createLabelElement (options) {\n        return new TextBox(this.getLabelText(options),\n            deepExtend({\n                align: CENTER,\n                vAlign: CENTER,\n                margin: {\n                    left: 5,\n                    right: 5\n                },\n                zIndex: valueOrDefault(options.zIndex, this.series.zIndex)\n            }, options),\n            this.pointData()\n        );\n    };\n\n    LinePoint.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = getTemplate$1(options);\n\n        if (labelTemplate) {\n            return labelTemplate(this.pointData());\n        } else if (options.format) {\n            return this.formatValue(options.format);\n        }\n\n        return this.value;\n    };\n\n    LinePoint.prototype.getAriaLabelText = function getAriaLabelText () {\n        var labels = this.options.labels;\n        var ariaTemplate = getTemplate(labels);\n\n        if (ariaTemplate) {\n            return ariaTemplate(this.pointData());\n        }\n\n        return this.getLabelText(labels);\n    };\n\n    LinePoint.prototype.markerBorder = function markerBorder () {\n        var options = this.options.markers;\n        var background = options.background;\n        var border = deepExtend({ color: this.color }, options.border);\n\n        if (!defined(border.color)) {\n            border.color = new Color(background).brightness(BORDER_BRIGHTNESS).toHex();\n        }\n\n        return border;\n    };\n\n    LinePoint.prototype.createVisual = function createVisual () {};\n\n    LinePoint.prototype.createMarker = function createMarker () {\n        var options = this.options.markers;\n        var marker = new ShapeElement({\n            type: options.type,\n            width: options.size,\n            height: options.size,\n            rotation: options.rotation,\n            background: options.background,\n            border: this.markerBorder(),\n            opacity: options.opacity,\n            pattern: this.options.pattern,\n            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),\n            animation: options.animation,\n            visual: options.visual,\n            accessibilityOptions: deepExtend({\n                ariaLabel: this.getAriaLabelText(this.options.labels)\n            }, this.options.accessibility)\n        }, {\n            dataItem: this.dataItem,\n            value: this.value,\n            series: this.series,\n            category: this.category\n        });\n\n        return marker;\n    };\n\n    LinePoint.prototype.markerBox = function markerBox () {\n        if (!this.marker) {\n            this.marker = this.createMarker();\n            this.marker.reflow(this._childBox);\n        }\n\n        return this.marker.box;\n    };\n\n    LinePoint.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var aboveAxis = ref.aboveAxis;\n        var vertical = options.vertical;\n\n        this.render();\n\n        this.box = targetBox;\n        var childBox = targetBox.clone();\n\n        if (vertical) {\n            if (aboveAxis) {\n                childBox.y1 -= childBox.height();\n            } else {\n                childBox.y2 += childBox.height();\n            }\n        } else {\n            if (aboveAxis) {\n                childBox.x1 += childBox.width();\n            } else {\n                childBox.x2 -= childBox.width();\n            }\n        }\n\n        this._childBox = childBox;\n        if (this.marker) {\n            this.marker.reflow(childBox);\n        }\n\n        this.reflowLabel(childBox);\n\n        if (this.errorBars) {\n            for (var i = 0; i < this.errorBars.length; i++) {\n                this$1$1.errorBars[i].reflow(childBox);\n            }\n        }\n\n        if (this.note) {\n            var noteTargetBox = this.markerBox();\n\n            if (!(options.markers.visible && options.markers.size)) {\n                var center = noteTargetBox.center();\n                noteTargetBox = new Box(center.x, center.y, center.x, center.y);\n            }\n\n            this.note.reflow(noteTargetBox);\n        }\n    };\n\n    LinePoint.prototype.reflowLabel = function reflowLabel (box) {\n        var ref = this;\n        var options = ref.options;\n        var label = ref.label;\n        var anchor = options.labels.position;\n\n        if (label) {\n            anchor = anchor === ABOVE ? TOP : anchor;\n            anchor = anchor === BELOW ? BOTTOM$1 : anchor;\n\n            label.reflow(box);\n            label.box.alignTo(this.markerBox(), anchor);\n            label.reflow(label.box);\n        }\n    };\n\n    LinePoint.prototype.createHighlight = function createHighlight () {\n        var markers = this.options.highlight.markers;\n        var defaultColor = this.markerBorder().color;\n        var options = this.options.markers;\n        var size = options.size + (options.border.width || 0) + (markers.border.width || 0);\n\n        var shadow = new ShapeElement({\n            type: options.type,\n            width: size,\n            height: size,\n            rotation: options.rotation,\n            background: markers.color || defaultColor,\n            border: {\n                color: markers.border.color,\n                width: markers.border.width,\n                opacity: valueOrDefault(markers.border.opacity, 1)\n            },\n            opacity: valueOrDefault(markers.opacity, 1)\n        });\n        shadow.reflow(this._childBox);\n\n        return shadow.getElement();\n    };\n\n    LinePoint.prototype.highlightVisual = function highlightVisual () {\n        return (this.marker || {}).visual;\n    };\n\n    LinePoint.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        var marker = this.marker;\n        var visual, rect;\n\n        if (marker) {\n            rect = marker.paddingBox.toRect();\n            visual = marker.visual;\n        } else {\n            var size = this.options.markers.size;\n            var halfSize = size / 2;\n            var center = this.box.center();\n            rect = new Rect([ center.x - halfSize, center.y - halfSize ], [ size, size ]);\n        }\n\n        return {\n            options: this.options,\n            rect: rect,\n            visual: visual\n        };\n    };\n\n    LinePoint.prototype.createFocusHighlight = function createFocusHighlight () {\n        var markerOptions = this.options.markers;\n        var highlightOptions = this.options.accessibility.highlight;\n        var size = markerOptions.size + (markerOptions.border.width || 0);\n\n        var highlight = new ShapeElement({\n            type: markerOptions.type,\n            width: size,\n            height: size,\n            rotation: markerOptions.rotation,\n            background: highlightOptions.color,\n            border: highlightOptions.border,\n            opacity: highlightOptions.opacity,\n            padding: highlightOptions.border.width / 2,\n            zIndex: highlightOptions.zIndex\n        });\n\n        highlight.reflow(this._childBox);\n\n        return highlight.getElement();\n    };\n\n    LinePoint.prototype.tooltipAnchor = function tooltipAnchor () {\n        var markerBox = this.markerBox();\n        var clipBox = this.owner.pane.clipBox();\n        var showTooltip = !clipBox || clipBox.overlaps(markerBox);\n\n        if (showTooltip) {\n            var x = markerBox.x2 + TOOLTIP_OFFSET;\n            var horizontalAlign = LEFT;\n            var y, verticalAlign;\n\n            if (this.aboveAxis) {\n                y = markerBox.y1;\n                verticalAlign = BOTTOM$1;\n            } else {\n                y = markerBox.y2;\n                verticalAlign = TOP;\n            }\n\n            return {\n                point: new Point$5(x, y),\n                align: {\n                    horizontal: horizontalAlign,\n                    vertical: verticalAlign\n                }\n            };\n        }\n    };\n\n    LinePoint.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    LinePoint.prototype.overlapsBox = function overlapsBox (box) {\n        var markerBox = this.markerBox();\n        return markerBox.overlaps(box);\n    };\n\n    LinePoint.prototype.unclipElements = function unclipElements () {\n        if (this.label) {\n            this.label.options.noclip = true;\n        }\n\n        if (this.note) {\n            this.note.options.noclip = true;\n        }\n    };\n\n    LinePoint.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            category: this.category,\n            value: this.value,\n            percentage: this.percentage,\n            stackValue: this.stackValue,\n            series: this.series\n        };\n    };\n\n    LinePoint.prototype.focusVisual = function focusVisual () {\n        if (this.marker) {\n            if (this.marker.visual) {\n                this.marker.visual.options.set(\"id\", this._id);\n            }\n\n            this.toggleFocusHighlight(true);\n        }\n    };\n\n    LinePoint.prototype.clearFocusFromVisual = function clearFocusFromVisual () {\n        if (this.marker) {\n            if (this.marker.visual) {\n                this.marker.visual.options.set(\"id\", \"\");\n            }\n\n            this.toggleFocusHighlight(false);\n        }\n    };\n\n    LinePoint.prototype.getIndex = function getIndex () {\n        return defined(this.categoryIx) ? this.categoryIx : this.pointIx;\n    };\n\n    return LinePoint;\n}(ChartElement));\n\nLinePoint.prototype.defaults = {\n    vertical: true,\n    markers: {\n        visible: true,\n        background: WHITE$1,\n        size: LINE_MARKER_SIZE,\n        type: CIRCLE,\n        border: {\n            width: 2\n        },\n        opacity: 1\n    },\n    labels: {\n        visible: false,\n        position: ABOVE,\n        margin: getSpacing(3),\n        padding: getSpacing(4),\n        animation: {\n            type: FADEIN,\n            delay: INITIAL_ANIMATION_DURATION\n        }\n    },\n    notes: {\n        label: {}\n    },\n    highlight: {\n        markers: {\n            border: {\n                color: \"#fff\",\n                width: 2\n            }\n        },\n        zIndex: HIGHLIGHT_ZINDEX\n    },\n    errorBars: {\n        line: {\n            width: 1\n        }\n    },\n    accessibility: {\n        tabIndex: 0,\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n};\n\ndeepExtend(LinePoint.prototype, PointEventsMixin);\ndeepExtend(LinePoint.prototype, NoteMixin);\n\nvar LineSegment = (function (ChartElement) {\n    function LineSegment(linePoints, series, seriesIx) {\n        ChartElement.call(this);\n\n        this.linePoints = linePoints;\n        this.series = series;\n        this.seriesIx = seriesIx;\n    }\n\n    if ( ChartElement ) LineSegment.__proto__ = ChartElement;\n    LineSegment.prototype = Object.create( ChartElement && ChartElement.prototype );\n    LineSegment.prototype.constructor = LineSegment;\n\n    LineSegment.prototype.points = function points () {\n        return this.toGeometryPoints(this.linePoints);\n    };\n\n    LineSegment.prototype.toGeometryPoints = function toGeometryPoints (points) {\n        var result = [];\n        for (var i = 0, length = points.length; i < length; i++) {\n            if (points[i] && points[i].visible !== false) {\n                result.push(points[i]._childBox.toRect().center());\n            }\n        }\n\n        return result;\n    };\n\n    LineSegment.prototype.createVisual = function createVisual () {\n        var this$1$1 = this;\n\n        var customVisual = this.series.visual;\n        if (customVisual) {\n            this.visual = customVisual({\n                points: this.toGeometryPoints(this.linePoints),\n                series: this.series,\n                sender: this.getSender(),\n                createVisual: function () {\n                    this$1$1.segmentVisual();\n\n                    return this$1$1.visual;\n                }\n            });\n            if (this.visual && !defined(this.visual.options.zIndex)) {\n                this.visual.options.zIndex = this.series.zIndex;\n            }\n        } else {\n            this.segmentVisual();\n        }\n    };\n\n    LineSegment.prototype.segmentVisual = function segmentVisual () {\n        var ref = this;\n        var options = ref.options;\n        var series = ref.series;\n        var color = series.color;\n        var defaults = series._defaults;\n\n        if (isFunction(color) && defaults) {\n            color = defaults.color;\n        }\n\n        var line = Path$7.fromPoints(this.points(), {\n            stroke: {\n                color: color,\n                width: series.width,\n                opacity: series.opacity,\n                dashType: series.dashType\n            },\n            zIndex: series.zIndex\n        });\n\n        if (options.closed) {\n            line.close();\n        }\n\n        this.visual = line;\n    };\n\n    LineSegment.prototype.aliasFor = function aliasFor (e, coords) {\n        return this.parent.getNearestPoint(coords.x, coords.y, this.seriesIx);\n    };\n\n    return LineSegment;\n}(ChartElement));\n\nsetDefaultOptions(LineSegment, {\n    closed: false\n});\n\nvar StepLineMixin = {\n    calculateStepPoints: function(points) {\n        var categoryAxis = this.parent.plotArea.seriesCategoryAxis(this.series);\n        var ref = categoryAxis.options;\n        var justified = ref.justified;\n        var vertical = ref.vertical;\n        var reverse = ref.reverse;\n\n        var stepAxis = vertical ? X : Y;\n        var axis = vertical ? Y : X;\n        var stepDir = reverse ? 2 : 1;\n        var dir = stepDir;\n\n        var previousPoint = toGeometryPoint(points[0], stepAxis, stepDir, axis, dir);\n        var result = [ previousPoint ];\n\n        for (var idx = 1; idx < points.length; idx++) {\n            var point = toGeometryPoint(points[idx], stepAxis, stepDir, axis, dir);\n\n            if (previousPoint[stepAxis] !== point[stepAxis]) {\n                var stepPoint = new Point$6();\n                stepPoint[stepAxis] = previousPoint[stepAxis];\n                stepPoint[axis] = point[axis];\n\n                result.push(stepPoint, point);\n            }\n\n            previousPoint = point;\n        }\n\n        if (!justified) {\n            result.push(toGeometryPoint(last(points), stepAxis, stepDir, axis, reverse ? 1 : 2));\n        } else if (previousPoint !== last(result)) {\n            result.push(previousPoint);\n        }\n\n        return result;\n\n    }\n};\n\nfunction toGeometryPoint(lintPoint, stepAxis, stepDir, axis, dir) {\n    var box = lintPoint.box;\n    var result = new Point$6();\n\n    result[stepAxis] = box[stepAxis + stepDir];\n    result[axis] = box[axis + dir];\n\n    return result;\n}\n\nvar StepLineSegment = (function (LineSegment) {\n    function StepLineSegment () {\n        LineSegment.apply(this, arguments);\n    }\n\n    if ( LineSegment ) StepLineSegment.__proto__ = LineSegment;\n    StepLineSegment.prototype = Object.create( LineSegment && LineSegment.prototype );\n    StepLineSegment.prototype.constructor = StepLineSegment;\n\n    StepLineSegment.prototype.points = function points () {\n        return this.calculateStepPoints(this.linePoints);\n    };\n\n    return StepLineSegment;\n}(LineSegment));\n\ndeepExtend(StepLineSegment.prototype, StepLineMixin);\n\nvar SplineSegment = (function (LineSegment) {\n    function SplineSegment () {\n        LineSegment.apply(this, arguments);\n    }\n\n    if ( LineSegment ) SplineSegment.__proto__ = LineSegment;\n    SplineSegment.prototype = Object.create( LineSegment && LineSegment.prototype );\n    SplineSegment.prototype.constructor = SplineSegment;\n\n    SplineSegment.prototype.segmentVisual = function segmentVisual () {\n        var series = this.series;\n        var defaults = series._defaults;\n        var color = series.color;\n\n        if (isFunction(color) && defaults) {\n            color = defaults.color;\n        }\n\n        var curveProcessor = new CurveProcessor(this.options.closed);\n        var segments = curveProcessor.process(this.points());\n        var curve = new Path$7({\n            stroke: {\n                color: color,\n                width: series.width,\n                opacity: series.opacity,\n                dashType: series.dashType\n            },\n            zIndex: series.zIndex\n        });\n\n        curve.segments.push.apply(curve.segments, segments);\n\n        this.visual = curve;\n    };\n\n    return SplineSegment;\n}(LineSegment));\n\nvar LineChartMixin = {\n    renderSegments: function() {\n        var this$1$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var seriesPoints = ref.seriesPoints;\n        var series = options.series;\n        var seriesCount = seriesPoints.length;\n        var lastSegment;\n\n        this._segments = [];\n\n        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var sortedPoints = this$1$1.sortPoints(seriesPoints[seriesIx]);\n            var pointCount = sortedPoints.length;\n            var linePoints = [];\n\n            for (var pointIx = 0; pointIx < pointCount; pointIx++) {\n                var point = sortedPoints[pointIx];\n                if (point) {\n                    linePoints.push(point);\n                } else if (this$1$1.seriesMissingValues(currentSeries) !== INTERPOLATE) {\n                    if (linePoints.length > 1) {\n                        lastSegment = this$1$1.createSegment(\n                            linePoints, currentSeries, seriesIx, lastSegment\n                        );\n                        this$1$1._addSegment(lastSegment);\n                    }\n                    linePoints = [];\n                }\n            }\n\n            if (linePoints.length > 1) {\n                lastSegment = this$1$1.createSegment(\n                    linePoints, currentSeries, seriesIx, lastSegment\n                );\n                this$1$1._addSegment(lastSegment);\n            }\n        }\n\n        this.children.unshift.apply(this.children, this._segments);\n    },\n\n    _addSegment: function(segment) {\n        this._segments.push(segment);\n        segment.parent = this;\n    },\n\n    sortPoints: function(points) {\n        return points;\n    },\n\n    seriesMissingValues: function(series) {\n        var missingValues = series.missingValues;\n        var assumeZero = !missingValues && this.options.isStacked;\n\n        return assumeZero ? ZERO : missingValues || INTERPOLATE;\n    },\n\n    getNearestPoint: function(x, y, seriesIx) {\n        var target = new Point$5(x, y);\n        var allPoints = this.seriesPoints[seriesIx];\n        var nearestPointDistance = MAX_VALUE;\n        var nearestPoint;\n\n        for (var i = 0; i < allPoints.length; i++) {\n            var point = allPoints[i];\n\n            if (point && defined(point.value) && point.value !== null && point.visible !== false) {\n                var pointBox = point.box;\n                var pointDistance = pointBox.center().distanceTo(target);\n\n                if (pointDistance < nearestPointDistance) {\n                    nearestPoint = point;\n                    nearestPointDistance = pointDistance;\n                }\n            }\n        }\n\n        return nearestPoint;\n    }\n};\n\nvar ClipAnimation = (function (superclass) {\n    function ClipAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) ClipAnimation.__proto__ = superclass;\n    ClipAnimation.prototype = Object.create( superclass && superclass.prototype );\n    ClipAnimation.prototype.constructor = ClipAnimation;\n\n    ClipAnimation.prototype.setup = function setup () {\n        this._setEnd(this.options.box.x1);\n    };\n\n    ClipAnimation.prototype.step = function step (pos) {\n        var box = this.options.box;\n        this._setEnd(interpolateValue(box.x1, box.x2, pos));\n    };\n\n    ClipAnimation.prototype._setEnd = function _setEnd (x) {\n        var element = this.element;\n        var segments = element.segments;\n        var topRight = segments[1].anchor();\n        var bottomRight = segments[2].anchor();\n\n        element.suspend();\n        topRight.setX(x);\n        element.resume();\n        bottomRight.setX(x);\n    };\n\n    return ClipAnimation;\n}(Animation$1));\n\nsetDefaultOptions(ClipAnimation, {\n    duration: INITIAL_ANIMATION_DURATION\n});\n\nAnimationFactory.current.register(\"clip\", ClipAnimation);\n\nvar ClipAnimationMixin = {\n    createAnimation: function() {\n        var root = this.getRoot();\n        if (root && (root.options || {}).transitions !== false) {\n            var box = root.size();\n            var clipPath = Path$7.fromRect(box.toRect());\n            this.visual.clip(clipPath);\n            this.animation = new ClipAnimation(clipPath, {\n                box: box\n            });\n            if (anyHasZIndex(this.options.series)) {\n                this._setChildrenAnimation(clipPath);\n            }\n        }\n    },\n\n    _setChildrenAnimation: function(clipPath) {\n        var points = this.animationPoints();\n\n        for (var idx = 0; idx < points.length; idx++) {\n            var point = points[idx];\n            if (point && point.visual && defined(point.visual.options.zIndex)) {\n                point.visual.clip(clipPath);\n            }\n        }\n    }\n};\n\nvar LineChart = (function (CategoricalChart) {\n    function LineChart () {\n        CategoricalChart.apply(this, arguments);\n    }\n\n    if ( CategoricalChart ) LineChart.__proto__ = CategoricalChart;\n    LineChart.prototype = Object.create( CategoricalChart && CategoricalChart.prototype );\n    LineChart.prototype.constructor = LineChart;\n\n    LineChart.prototype.render = function render () {\n\n        CategoricalChart.prototype.render.call(this);\n\n        this.updateStackRange();\n        this.renderSegments();\n    };\n\n    LineChart.prototype.pointType = function pointType () {\n        return LinePoint;\n    };\n\n    LineChart.prototype.createPoint = function createPoint (data, fields) {\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var missingValues = this.seriesMissingValues(series);\n        var value = data.valueFields.value;\n\n        if (!defined(value) || value === null) {\n            if (missingValues === ZERO) {\n                value = 0;\n            } else {\n                return null;\n            }\n        }\n\n        var pointOptions = this.pointOptions(series, seriesIx);\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n\n        var color = data.fields.color || series.color;\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        var point = new LinePoint(value, pointOptions);\n        point.color = color;\n\n        this.append(point);\n\n        return point;\n    };\n\n    LineChart.prototype.plotRange = function plotRange (point) {\n        var this$1$1 = this;\n\n        var plotValue = this.plotValue(point);\n\n        if (this.options.isStacked) {\n            var categoryIx = point.categoryIx;\n            var categoryPoints = this.categoryPoints[categoryIx];\n\n            for (var i = 0; i < categoryPoints.length; i++) {\n                var other = categoryPoints[i];\n\n                if (point === other) {\n                    break;\n                }\n\n                plotValue += this$1$1.plotValue(other);\n\n                if (this$1$1.options.isStacked100) {\n                    plotValue = Math.min(plotValue, 1);\n                }\n            }\n\n        }\n\n        return [ plotValue, plotValue ];\n    };\n\n    LineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {\n        var style = currentSeries.style;\n        var pointType;\n\n        if (style === STEP) {\n            pointType = StepLineSegment;\n        } else if (style === SMOOTH) {\n            pointType = SplineSegment;\n        } else {\n            pointType = LineSegment;\n        }\n\n        return new pointType(linePoints, currentSeries, seriesIx);\n    };\n\n    LineChart.prototype.animationPoints = function animationPoints () {\n        var points = this.points;\n        var result = [];\n        for (var idx = 0; idx < points.length; idx++) {\n            result.push((points[idx] || {}).marker);\n        }\n        return result.concat(this._segments);\n    };\n\n    LineChart.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {\n        return false;\n    };\n\n    return LineChart;\n}(CategoricalChart));\n\ndeepExtend(LineChart.prototype, LineChartMixin, ClipAnimationMixin);\n\nvar AreaSegment = (function (LineSegment) {\n    function AreaSegment(linePoints, currentSeries, seriesIx, prevSegment, stackPoints) {\n        LineSegment.call(this, linePoints, currentSeries, seriesIx);\n\n        this.prevSegment = prevSegment;\n        this.stackPoints = stackPoints;\n    }\n\n    if ( LineSegment ) AreaSegment.__proto__ = LineSegment;\n    AreaSegment.prototype = Object.create( LineSegment && LineSegment.prototype );\n    AreaSegment.prototype.constructor = AreaSegment;\n\n    AreaSegment.prototype.createVisual = function createVisual () {\n        var series = this.series;\n        var defaults = series._defaults;\n        var lineOptions = series.line || {};\n        var color = series.color;\n\n        if (isFunction(color) && defaults) {\n            color = defaults.color;\n        }\n\n        this.visual = new Group$8({\n            zIndex: series.zIndex\n        });\n\n        this.createFill({\n            fill: createPatternFill(series.pattern, {\n                color: color,\n                opacity: series.opacity\n            }),\n            stroke: null\n        });\n\n        if (lineOptions.width > 0 && lineOptions.visible !== false) {\n            this.createStroke({\n                stroke: deepExtend({\n                    color: color,\n                    opacity: series.opacity,\n                    lineCap: \"butt\"\n                }, lineOptions)\n            });\n        }\n    };\n\n    AreaSegment.prototype.strokeSegments = function strokeSegments () {\n        var segments = this._strokeSegments;\n\n        if (!segments) {\n            segments = this._strokeSegments = this.createStrokeSegments();\n        }\n\n        return segments;\n    };\n\n    AreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {\n        return this.segmentsFromPoints(this.points());\n    };\n\n    AreaSegment.prototype.stackSegments = function stackSegments () {\n        if (this.prevSegment) {\n            return this.prevSegment.createStackSegments(this.stackPoints);\n        }\n\n        return this.createStackSegments(this.stackPoints);\n    };\n\n    AreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {\n        return this.segmentsFromPoints(this.toGeometryPoints(stackPoints)).reverse();\n    };\n\n    AreaSegment.prototype.segmentsFromPoints = function segmentsFromPoints (points) {\n        return points.map(function (point) { return new Segment(point); });\n    };\n\n    AreaSegment.prototype.createStroke = function createStroke (style) {\n        var stroke = new Path$7(style);\n        stroke.segments.push.apply(stroke.segments, this.strokeSegments());\n\n        this.visual.append(stroke);\n    };\n\n    AreaSegment.prototype.hasStackSegment = function hasStackSegment () {\n        return this.prevSegment || (this.stackPoints && this.stackPoints.length);\n    };\n\n    AreaSegment.prototype.createFill = function createFill (style) {\n        var strokeSegments = this.strokeSegments();\n        var fillSegments = strokeSegments.slice(0);\n        var hasStackSegments = this.hasStackSegment();\n\n        if (hasStackSegments) {\n            var stackSegments = this.stackSegments();\n\n            append(fillSegments, stackSegments);\n        }\n\n        var fill = new Path$7(style);\n        fill.segments.push.apply(fill.segments, fillSegments);\n\n        if (!hasStackSegments && strokeSegments.length > 1) {\n            this.fillToAxes(fill);\n        }\n\n        this.visual.append(fill);\n    };\n\n    AreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {\n        var chart = this.parent;\n        var invertAxes = chart.options.invertAxes;\n        var valueAxis = chart.seriesValueAxis(this.series);\n        var crossingValue = chart.categoryAxisCrossingValue(valueAxis);\n        var endSlot = valueAxis.getSlot(crossingValue, crossingValue, true);\n        var segments = this.strokeSegments();\n        var firstPoint = segments[0].anchor();\n        var lastPoint = last(segments).anchor();\n        var end = invertAxes ? endSlot.x1 : endSlot.y1;\n\n        if (invertAxes) {\n            fillPath.lineTo(end, lastPoint.y)\n                .lineTo(end, firstPoint.y);\n        } else {\n            fillPath.lineTo(lastPoint.x, end)\n                .lineTo(firstPoint.x, end);\n        }\n    };\n\n    return AreaSegment;\n}(LineSegment));\n\nvar StepAreaSegment = (function (AreaSegment) {\n    function StepAreaSegment () {\n        AreaSegment.apply(this, arguments);\n    }\n\n    if ( AreaSegment ) StepAreaSegment.__proto__ = AreaSegment;\n    StepAreaSegment.prototype = Object.create( AreaSegment && AreaSegment.prototype );\n    StepAreaSegment.prototype.constructor = StepAreaSegment;\n\n    StepAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {\n        return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints));\n    };\n\n    StepAreaSegment.prototype.createStackSegments = function createStackSegments (stackPoints) {\n        return this.segmentsFromPoints(this.calculateStepPoints(stackPoints)).reverse();\n    };\n\n    return StepAreaSegment;\n}(AreaSegment));\n\ndeepExtend(StepAreaSegment.prototype, StepLineMixin);\n\nvar SplineAreaSegment = (function (AreaSegment) {\n    function SplineAreaSegment () {\n        AreaSegment.apply(this, arguments);\n    }\n\n    if ( AreaSegment ) SplineAreaSegment.__proto__ = AreaSegment;\n    SplineAreaSegment.prototype = Object.create( AreaSegment && AreaSegment.prototype );\n    SplineAreaSegment.prototype.constructor = SplineAreaSegment;\n\n    SplineAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {\n        var curveProcessor = new CurveProcessor(this.options.closed);\n        var linePoints = this.points();\n\n        return curveProcessor.process(linePoints);\n    };\n\n    SplineAreaSegment.prototype.createStackSegments = function createStackSegments () {\n        var strokeSegments = this.strokeSegments();\n        var stackSegments = [];\n        for (var idx = strokeSegments.length - 1; idx >= 0; idx--) {\n            var segment = strokeSegments[idx];\n            stackSegments.push(new Segment(\n                segment.anchor(),\n                segment.controlOut(),\n                segment.controlIn()\n            ));\n        }\n\n        return stackSegments;\n    };\n\n    return SplineAreaSegment;\n}(AreaSegment));\n\nvar AreaChart = (function (LineChart) {\n    function AreaChart () {\n        LineChart.apply(this, arguments);\n    }\n\n    if ( LineChart ) AreaChart.__proto__ = LineChart;\n    AreaChart.prototype = Object.create( LineChart && LineChart.prototype );\n    AreaChart.prototype.constructor = AreaChart;\n\n    AreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {\n        var isStacked = this.options.isStacked;\n        var style = (currentSeries.line || {}).style;\n        var previousSegment;\n\n        var stackPoints;\n        if (isStacked && seriesIx > 0 && prevSegment) {\n            var missingValues = this.seriesMissingValues(currentSeries);\n            if (missingValues !== \"gap\") {\n                stackPoints = prevSegment.linePoints;\n                previousSegment = prevSegment;\n            } else {\n                stackPoints = this._gapStackPoints(linePoints, seriesIx, style);\n            }\n        }\n\n        var pointType;\n        if (style === STEP) {\n            pointType = StepAreaSegment;\n        } else if (style === SMOOTH) {\n            pointType = SplineAreaSegment;\n        } else {\n            pointType = AreaSegment;\n        }\n\n        return new pointType(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);\n    };\n\n    AreaChart.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        LineChart.prototype.reflow.call(this, targetBox);\n\n        var stackPoints = this._stackPoints;\n        if (stackPoints) {\n            for (var idx = 0; idx < stackPoints.length; idx++) {\n                var stackPoint = stackPoints[idx];\n                var pointSlot = this$1$1.categoryAxis.getSlot(stackPoint.categoryIx);\n                stackPoint.reflow(pointSlot);\n            }\n        }\n    };\n\n    AreaChart.prototype._gapStackPoints = function _gapStackPoints (linePoints, seriesIx, style) {\n        var this$1$1 = this;\n\n        var seriesPoints = this.seriesPoints;\n        var startIdx = linePoints[0].categoryIx;\n        var length = linePoints.length;\n        if (startIdx < 0) {\n            startIdx = 0;\n            length--;\n        }\n\n        var endIdx = startIdx + length;\n        var pointOffset = this.seriesOptions[0]._outOfRangeMinPoint ? 1 : 0;\n        var stackPoints = [];\n\n        this._stackPoints = this._stackPoints || [];\n        for (var categoryIx = startIdx; categoryIx < endIdx; categoryIx++) {\n            var pointIx = categoryIx + pointOffset;\n            var currentSeriesIx = seriesIx;\n            var point = (void 0);\n\n            do {\n                currentSeriesIx--;\n                point = seriesPoints[currentSeriesIx][pointIx];\n            } while (currentSeriesIx > 0 && !point);\n\n            if (point) {\n                if (style !== STEP && categoryIx > startIdx && !seriesPoints[currentSeriesIx][pointIx - 1]) {\n                    stackPoints.push(this$1$1._previousSegmentPoint(categoryIx, pointIx, pointIx - 1, currentSeriesIx));\n                }\n\n                stackPoints.push(point);\n\n                if (style !== STEP && categoryIx + 1 < endIdx && !seriesPoints[currentSeriesIx][pointIx + 1]) {\n                    stackPoints.push(this$1$1._previousSegmentPoint(categoryIx, pointIx, pointIx + 1, currentSeriesIx));\n                }\n            } else {\n                var gapStackPoint = this$1$1._createGapStackPoint(categoryIx);\n                this$1$1._stackPoints.push(gapStackPoint);\n                stackPoints.push(gapStackPoint);\n            }\n        }\n\n        return stackPoints;\n    };\n\n    AreaChart.prototype._previousSegmentPoint = function _previousSegmentPoint (categoryIx, pointIx, segmentIx, seriesIdx) {\n        var seriesPoints = this.seriesPoints;\n        var index = seriesIdx;\n        var point;\n\n        while (index > 0 && !point) {\n            index--;\n            point = seriesPoints[index][segmentIx];\n        }\n\n        if (!point) {\n            point = this._createGapStackPoint(categoryIx);\n            this._stackPoints.push(point);\n        } else {\n            point = seriesPoints[index][pointIx];\n        }\n\n        return point;\n    };\n\n    AreaChart.prototype._createGapStackPoint = function _createGapStackPoint (categoryIx) {\n        var options = this.pointOptions({}, 0);\n        var point = new LinePoint(0, options);\n        point.categoryIx = categoryIx;\n        point.series = {};\n\n        return point;\n    };\n\n    AreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {\n        return series.missingValues || ZERO;\n    };\n\n    AreaChart.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {\n        return false;\n    };\n\n    return AreaChart;\n}(LineChart));\n\nvar AxisGroupRangeTracker = (function (Class) {\n    function AxisGroupRangeTracker() {\n        Class.call(this);\n\n        this.axisRanges = {};\n    }\n\n    if ( Class ) AxisGroupRangeTracker.__proto__ = Class;\n    AxisGroupRangeTracker.prototype = Object.create( Class && Class.prototype );\n    AxisGroupRangeTracker.prototype.constructor = AxisGroupRangeTracker;\n\n    AxisGroupRangeTracker.prototype.update = function update (chartAxisRanges) {\n        var axisRanges = this.axisRanges;\n\n        for (var axisName in chartAxisRanges) {\n            var chartRange = chartAxisRanges[axisName];\n            var range = axisRanges[axisName];\n            axisRanges[axisName] = range = range || { min: MAX_VALUE, max: MIN_VALUE };\n\n            range.min = Math.min(range.min, chartRange.min);\n            range.max = Math.max(range.max, chartRange.max);\n        }\n    };\n\n    AxisGroupRangeTracker.prototype.reset = function reset (axisName) {\n        this.axisRanges[axisName] = undefined;\n    };\n\n    AxisGroupRangeTracker.prototype.query = function query (axisName) {\n        return this.axisRanges[axisName];\n    };\n\n    return AxisGroupRangeTracker;\n}(Class));\n\nvar BarLabel = (function (ChartElement) {\n    function BarLabel(content, options, pointData) {\n        ChartElement.call(this, options);\n\n        this.textBox = new TextBox(content, this.options, pointData);\n        this.append(this.textBox);\n    }\n\n    if ( ChartElement ) BarLabel.__proto__ = ChartElement;\n    BarLabel.prototype = Object.create( ChartElement && ChartElement.prototype );\n    BarLabel.prototype.constructor = BarLabel;\n\n    BarLabel.prototype.createVisual = function createVisual () {\n        this.textBox.options.noclip = this.options.noclip;\n    };\n\n    BarLabel.prototype.reflow = function reflow (targetBox) {\n        var options = this.options;\n        var vertical = options.vertical;\n        var aboveAxis = options.aboveAxis;\n        var text = this.children[0];\n        var textOptions = text.options;\n        var box = text.box;\n        var padding = text.options.padding;\n        var labelBox = targetBox;\n\n        textOptions.align = vertical ? CENTER : LEFT;\n        textOptions.vAlign = vertical ? TOP : CENTER;\n\n        if (options.position === INSIDE_END) {\n            if (vertical) {\n                textOptions.vAlign = TOP;\n\n                if (!aboveAxis && box.height() < targetBox.height()) {\n                    textOptions.vAlign = BOTTOM$1;\n                }\n            } else {\n                textOptions.align = aboveAxis ? RIGHT : LEFT;\n            }\n        } else if (options.position === CENTER) {\n            textOptions.vAlign = CENTER;\n            textOptions.align = CENTER;\n        } else if (options.position === INSIDE_BASE) {\n            if (vertical) {\n                textOptions.vAlign = aboveAxis ? BOTTOM$1 : TOP;\n            } else {\n                textOptions.align = aboveAxis ? LEFT : RIGHT;\n            }\n        } else if (options.position === OUTSIDE_END) {\n            if (vertical) {\n                if (aboveAxis) {\n                    labelBox = new Box(\n                        targetBox.x1, targetBox.y1 - box.height(),\n                        targetBox.x2, targetBox.y1\n                    );\n                } else {\n                    labelBox = new Box(\n                        targetBox.x1, targetBox.y2,\n                        targetBox.x2, targetBox.y2 + box.height()\n                    );\n                }\n            } else {\n                textOptions.align = CENTER;\n                if (aboveAxis) {\n                    labelBox = new Box(\n                        targetBox.x2, targetBox.y1,\n                        targetBox.x2 + box.width(), targetBox.y2\n                    );\n                } else {\n                    labelBox = new Box(\n                        targetBox.x1 - box.width(), targetBox.y1,\n                        targetBox.x1, targetBox.y2\n                    );\n                }\n            }\n        }\n\n        if (!options.rotation) {\n            if (vertical) {\n                padding.left = padding.right =\n                    (labelBox.width() - text.contentBox.width()) / 2;\n            } else {\n                padding.top = padding.bottom =\n                    (labelBox.height() - text.contentBox.height()) / 2;\n            }\n        }\n\n        text.reflow(labelBox);\n    };\n\n    BarLabel.prototype.alignToClipBox = function alignToClipBox (clipBox) {\n        var vertical = this.options.vertical;\n        var field = vertical ? Y : X;\n        var start = field + \"1\";\n        var end = field + \"2\";\n        var text = this.children[0];\n        var parentBox = this.parent.box;\n\n        if (parentBox[start] < clipBox[start] || clipBox[end] < parentBox[end]) {\n            var targetBox = text.paddingBox.clone();\n            targetBox[start] = Math.max(parentBox[start], clipBox[start]);\n            targetBox[end] = Math.min(parentBox[end], clipBox[end]);\n\n            this.reflow(targetBox);\n        }\n    };\n\n    return BarLabel;\n}(ChartElement));\n\nsetDefaultOptions(BarLabel, {\n    position: OUTSIDE_END,\n    margin: getSpacing(3),\n    padding: getSpacing(4),\n    color: BLACK$1,\n    background: \"\",\n    border: {\n        width: 1,\n        color: \"\"\n    },\n    aboveAxis: true,\n    vertical: false,\n    animation: {\n        type: FADEIN,\n        delay: INITIAL_ANIMATION_DURATION\n    },\n    zIndex: 2\n});\n\nvar AccessibilityAttributesMixin = {\n    addAccessibilityAttributesToVisual: function() {\n        this._id = this._id || guid();\n\n        var accessibilityOptions = deepExtend({\n            ariaLabel: this.getAriaLabelText()\n        }, this.options.accessibility);\n\n        addAccessibilityAttributesToVisual(this.visual, accessibilityOptions);\n    },\n\n    getAriaLabelText: function getAriaLabelText() {\n        var labels = this.options.labels;\n        var ariaTemplate = getTemplate(labels);\n\n        if (ariaTemplate) {\n            return ariaTemplate(this.pointData());\n        }\n\n        return this.getLabelText(labels);\n    },\n\n    focusVisual: function focusVisual() {\n        this.visual.options.set(\"id\", this._id);\n        this.toggleFocusHighlight(true);\n    },\n\n    clearFocusFromVisual: function clearFocusFromVisual() {\n        this.visual.options.set(\"id\", \"\");\n        this.toggleFocusHighlight(false);\n    }\n};\n\nvar BAR_ALIGN_MIN_WIDTH = 6;\n\nvar Bar = (function (ChartElement) {\n    function Bar(value, options) {\n        ChartElement.call(this);\n\n        this.options = options;\n        this.color = options.color || WHITE$1;\n        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n        this.value = value;\n    }\n\n    if ( ChartElement ) Bar.__proto__ = ChartElement;\n    Bar.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Bar.prototype.constructor = Bar;\n\n    Bar.prototype.render = function render () {\n        if (this._rendered) {\n            return;\n        }\n\n        this._rendered = true;\n\n        this.createLabel();\n        this.createNote();\n\n        if (this.errorBar) {\n            this.append(this.errorBar);\n        }\n    };\n\n    Bar.prototype.createLabel = function createLabel () {\n        var options = this.options;\n        var labels = options.labels;\n\n        if (labels.visible) {\n            this.label = this.createLabelElement(labels);\n            this.append(this.label);\n        }\n    };\n\n    Bar.prototype.createLabelElement = function createLabelElement (options) {\n        return new BarLabel(this.getLabelText(options),\n            deepExtend({\n                vertical: this.options.vertical\n            },\n            options\n            ), this.pointData());\n    };\n\n    Bar.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = getTemplate$1(options);\n\n        if (labelTemplate) {\n            return labelTemplate(this.pointData());\n        }\n\n        return this.formatValue(options.format);\n    };\n\n    Bar.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    Bar.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        this.render();\n\n        var label = this.label;\n\n        this.box = targetBox;\n\n        if (label) {\n            label.options.aboveAxis = this.aboveAxis;\n            label.reflow(targetBox);\n        }\n\n        if (this.note) {\n            this.note.reflow(targetBox);\n        }\n\n        if (this.errorBars) {\n            for (var i = 0; i < this.errorBars.length; i++) {\n                this$1$1.errorBars[i].reflow(targetBox);\n            }\n        }\n    };\n\n    Bar.prototype.createVisual = function createVisual () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var box = ref.box;\n        var options = ref.options;\n        var customVisual = options.visual;\n\n        if (this.visible !== false) {\n            ChartElement.prototype.createVisual.call(this);\n\n            this.addAccessibilityAttributesToVisual();\n\n            if (customVisual) {\n                var visual = this.rectVisual = customVisual({\n                    category: this.category,\n                    dataItem: this.dataItem,\n                    value: this.value,\n                    sender: this.getSender(),\n                    series: this.series,\n                    percentage: this.percentage,\n                    stackValue: this.stackValue,\n                    runningTotal: this.runningTotal,\n                    total: this.total,\n                    rect: box.toRect(),\n                    createVisual: function () {\n                        var group = new Group$8();\n                        this$1$1.createRect(group);\n                        return group;\n                    },\n                    options: options\n                });\n\n                if (visual) {\n                    this.visual.append(visual);\n                }\n            } else if (box.width() > 0 && box.height() > 0) {\n                this.createRect(this.visual);\n            }\n        }\n    };\n\n    Bar.prototype.createRect = function createRect (visual) {\n        var options = this.options;\n        var border = options.border;\n        var strokeOpacity = defined(border.opacity) ? border.opacity : options.opacity;\n        var rect = this.box.toRect();\n\n        rect.size.width = Math.round(rect.size.width);\n\n        var path = this.rectVisual = Path$7.fromRect(rect, {\n            fill: createPatternFill(options.pattern, {\n                color: this.color,\n                opacity: options.opacity\n            }),\n            stroke: {\n                color: this.getBorderColor(),\n                width: border.width,\n                opacity: strokeOpacity,\n                dashType: border.dashType\n            }\n        });\n\n        var width = this.box.width();\n        var height = this.box.height();\n\n        var size = options.vertical ? width : height;\n\n        if (size > BAR_ALIGN_MIN_WIDTH) {\n            alignPathToPixel(path);\n\n            // Fixes lineJoin issue in firefox when the joined lines are parallel\n            if (width < 1 || height < 1) {\n                path.options.stroke.lineJoin = \"round\";\n            }\n        }\n\n        visual.append(path);\n\n        if (hasGradientOverlay(options)) {\n            var overlay = this.createGradientOverlay(path, { baseColor: this.color }, deepExtend({\n                end: !options.vertical ? [ 0, 1 ] : undefined\n            }, options.overlay));\n\n            visual.append(overlay);\n        }\n    };\n\n    Bar.prototype.createHighlight = function createHighlight (style) {\n        var highlight = Path$7.fromRect(this.box.toRect(), style);\n\n        return alignPathToPixel(highlight);\n    };\n\n    Bar.prototype.highlightVisual = function highlightVisual () {\n        return this.rectVisual;\n    };\n\n    Bar.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            options: this.options,\n            rect: this.box.toRect(),\n            visual: this.rectVisual\n        };\n    };\n\n    Bar.prototype.createFocusHighlight = function createFocusHighlight (style) {\n        var borderWidth = this.options.accessibility.highlight.border.width;\n        var highlight = Path$7.fromRect(this.box.pad(borderWidth / 2).toRect(), style);\n\n        return alignPathToPixel(highlight);\n    };\n\n    Bar.prototype.getBorderColor = function getBorderColor () {\n        var color = this.color;\n        var border = this.options.border;\n        var brightness = border._brightness || BORDER_BRIGHTNESS;\n        var borderColor = border.color;\n\n        if (!defined(borderColor)) {\n            borderColor = new Color(color).brightness(brightness).toHex();\n        }\n\n        return borderColor;\n    };\n\n    Bar.prototype.tooltipAnchor = function tooltipAnchor () {\n        var ref = this;\n        var options = ref.options;\n        var box = ref.box;\n        var aboveAxis = ref.aboveAxis;\n        var clipBox = this.owner.pane.clipBox() || box;\n        var horizontalAlign = LEFT;\n        var verticalAlign = TOP;\n        var x, y;\n\n        if (options.vertical) {\n            x = Math.min(box.x2, clipBox.x2) + TOOLTIP_OFFSET;\n            if (aboveAxis) {\n                y = Math.max(box.y1, clipBox.y1);\n            } else {\n                y = Math.min(box.y2, clipBox.y2);\n                verticalAlign = BOTTOM$1;\n            }\n        } else {\n            var x1 = Math.max(box.x1, clipBox.x1);\n            var x2 = Math.min(box.x2, clipBox.x2);\n\n            if (options.isStacked) {\n                verticalAlign = BOTTOM$1;\n                if (aboveAxis) {\n                    horizontalAlign = RIGHT;\n                    x = x2;\n                } else {\n                    x = x1;\n                }\n                y = Math.max(box.y1, clipBox.y1) - TOOLTIP_OFFSET;\n            } else {\n                if (aboveAxis) {\n                    x = x2 + TOOLTIP_OFFSET;\n                } else {\n                    x = x1 - TOOLTIP_OFFSET;\n                    horizontalAlign = RIGHT;\n                }\n                y = Math.max(box.y1, clipBox.y1);\n            }\n        }\n\n        return {\n            point: new Point$5(x, y),\n            align: {\n                horizontal: horizontalAlign,\n                vertical: verticalAlign\n            }\n        };\n    };\n\n    Bar.prototype.overlapsBox = function overlapsBox (box) {\n        return this.box.overlaps(box);\n    };\n\n    Bar.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            category: this.category,\n            value: this.value,\n            percentage: this.percentage,\n            stackValue: this.stackValue,\n            runningTotal: this.runningTotal,\n            total: this.total,\n            series: this.series\n        };\n    };\n\n    Bar.prototype.getIndex = function getIndex () {\n        return this.categoryIx;\n    };\n\n    return Bar;\n}(ChartElement));\n\ndeepExtend(Bar.prototype, PointEventsMixin);\ndeepExtend(Bar.prototype, NoteMixin);\ndeepExtend(Bar.prototype, AccessibilityAttributesMixin);\n\nBar.prototype.defaults = {\n    border: {\n        width: 1\n    },\n    vertical: true,\n    overlay: {\n        gradient: \"glass\"\n    },\n    labels: {\n        visible: false,\n        format: \"{0}\"\n    },\n    opacity: 1,\n    notes: {\n        label: {}\n    },\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n};\n\nfunction forEach(elements, callback) {\n    elements.forEach(callback);\n}\n\nfunction forEachReverse(elements, callback) {\n    var length = elements.length;\n\n    for (var idx = length - 1; idx >= 0; idx--) {\n        callback(elements[idx], idx - length - 1);\n    }\n}\n\nvar ClusterLayout = (function (ChartElement) {\n    function ClusterLayout(options) {\n        ChartElement.call(this, options);\n\n        this.forEach = options.rtl ? forEachReverse : forEach;\n    }\n\n    if ( ChartElement ) ClusterLayout.__proto__ = ChartElement;\n    ClusterLayout.prototype = Object.create( ChartElement && ChartElement.prototype );\n    ClusterLayout.prototype.constructor = ClusterLayout;\n\n    ClusterLayout.prototype.reflow = function reflow (box) {\n        var ref = this.options;\n        var vertical = ref.vertical;\n        var gap = ref.gap;\n        var spacing = ref.spacing;\n        var children = this.children;\n        var count = children.length;\n        var axis = vertical ? Y : X;\n        var slots = count + gap + (spacing * (count - 1));\n        var slotSize = (vertical ? box.height() : box.width()) / slots;\n        var position = box[axis + 1] + slotSize * (gap / 2);\n\n        this.forEach(children, function (child, idx) {\n            var childBox = (child.box || box).clone();\n\n            childBox[axis + 1] = position;\n            childBox[axis + 2] = position + slotSize;\n\n            child.reflow(childBox);\n            if (idx < count - 1) {\n                position += (slotSize * spacing);\n            }\n\n            position += slotSize;\n        });\n    };\n\n    return ClusterLayout;\n}(ChartElement));\n\nsetDefaultOptions(ClusterLayout, {\n    vertical: false,\n    gap: 0,\n    spacing: 0\n});\n\nvar StackWrap = (function (ChartElement) {\n    function StackWrap () {\n        ChartElement.apply(this, arguments);\n    }\n\n    if ( ChartElement ) StackWrap.__proto__ = ChartElement;\n    StackWrap.prototype = Object.create( ChartElement && ChartElement.prototype );\n    StackWrap.prototype.constructor = StackWrap;\n\n    StackWrap.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var positionAxis = this.options.vertical ? X : Y;\n        var children = this.children;\n        var childrenCount = children.length;\n        var box = this.box = new Box();\n\n        for (var i = 0; i < childrenCount; i++) {\n            var currentChild = children[i];\n\n            if (currentChild.visible !== false) {\n                var childBox = currentChild.box.clone();\n                childBox.snapTo(targetBox, positionAxis);\n\n                if (i === 0) {\n                    box = this$1$1.box = childBox.clone();\n                }\n\n                currentChild.reflow(childBox);\n                box.wrap(childBox);\n            }\n        }\n    };\n\n    return StackWrap;\n}(ChartElement));\n\nsetDefaultOptions(StackWrap, {\n    vertical: true\n});\n\nvar BarChart = (function (CategoricalChart) {\n    function BarChart () {\n        CategoricalChart.apply(this, arguments);\n    }\n\n    if ( CategoricalChart ) BarChart.__proto__ = CategoricalChart;\n    BarChart.prototype = Object.create( CategoricalChart && CategoricalChart.prototype );\n    BarChart.prototype.constructor = BarChart;\n\n    BarChart.prototype.render = function render () {\n        CategoricalChart.prototype.render.call(this);\n        this.updateStackRange();\n    };\n\n    BarChart.prototype.pointType = function pointType () {\n        return Bar;\n    };\n\n    BarChart.prototype.clusterType = function clusterType () {\n        return ClusterLayout;\n    };\n\n    BarChart.prototype.stackType = function stackType () {\n        return StackWrap;\n    };\n\n    BarChart.prototype.stackLimits = function stackLimits (axisName, stackName) {\n        var limits = CategoricalChart.prototype.stackLimits.call(this, axisName, stackName);\n\n        return limits;\n    };\n\n    BarChart.prototype.createPoint = function createPoint (data, fields) {\n        var categoryIx = fields.categoryIx;\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var ref = this;\n        var options = ref.options;\n        var children = ref.children;\n        var stackOrDefault = defined(series.stack) ? series.stack : options.defaultStack;\n        var value = this.pointValue(data);\n        var pointOptions = this.pointOptions(series, seriesIx);\n\n        var labelOptions = pointOptions.labels;\n        if (stackOrDefault) {\n            if (labelOptions.position === OUTSIDE_END) {\n                labelOptions.position = INSIDE_END;\n            }\n        }\n\n        pointOptions.isStacked = stackOrDefault;\n\n        var color = data.fields.color || series.color;\n        if (value < 0 && pointOptions.negativeColor) {\n            color = pointOptions.negativeColor;\n        }\n\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        var pointType = this.pointType();\n        var point = new pointType(value, pointOptions);\n        point.color = color;\n\n        var cluster = children[categoryIx];\n        if (!cluster) {\n            var clusterType = this.clusterType();\n            cluster = new clusterType({\n                vertical: options.invertAxes,\n                gap: options.gap,\n                spacing: options.spacing,\n                rtl: !options.invertAxes && (this.chartService || {}).rtl\n            });\n            this.append(cluster);\n        }\n\n        if (options.isStacked) {\n            var stackWrap = this.getStackWrap(stackOrDefault, cluster);\n            stackWrap.append(point);\n        } else {\n            cluster.append(point);\n        }\n\n        return point;\n    };\n\n    BarChart.prototype.getStackWrap = function getStackWrap (stack, cluster) {\n        var stackGroup = (typeof stack === OBJECT$1) ? (stack.group || true) : stack;\n        var wraps = cluster.children;\n        var stackWrap;\n\n        if (typeof stackGroup === STRING$1 || stackGroup === true) {\n            for (var i = 0; i < wraps.length; i++) {\n                if (wraps[i]._stackGroup === stackGroup) {\n                    stackWrap = wraps[i];\n                    break;\n                }\n            }\n        }\n\n        if (!stackWrap) {\n            var stackType = this.stackType();\n            stackWrap = new stackType({\n                vertical: !this.options.invertAxes\n            });\n            stackWrap._stackGroup = stackGroup;\n            cluster.append(stackWrap);\n        }\n\n        return stackWrap;\n    };\n\n    BarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx, valueAxis) {\n        var options = this.options;\n        var categorySlot = categoryAxis.getSlot(categoryIx);\n        var startValue = valueAxis.startValue();\n\n        if (options.isStacked) {\n            var zeroSlot = valueAxis.getSlot(startValue, startValue, true);\n            var stackAxis = options.invertAxes ? X : Y;\n            categorySlot[stackAxis + 1] = categorySlot[stackAxis + 2] = zeroSlot[stackAxis + 1];\n        }\n\n        return categorySlot;\n    };\n\n    BarChart.prototype.reflowCategories = function reflowCategories (categorySlots) {\n        var children = this.children;\n        var childrenLength = children.length;\n\n        for (var i = 0; i < childrenLength; i++) {\n            children[i].reflow(categorySlots[i]);\n        }\n    };\n\n    BarChart.prototype.createAnimation = function createAnimation () {\n        this._setAnimationOptions();\n        CategoricalChart.prototype.createAnimation.call(this);\n\n        if (anyHasZIndex(this.options.series)) {\n            this._setChildrenAnimation();\n        }\n    };\n\n    BarChart.prototype._setChildrenAnimation = function _setChildrenAnimation () {\n        var this$1$1 = this;\n\n        var points = this.points;\n\n        for (var idx = 0; idx < points.length; idx++) {\n            var point = points[idx];\n            var pointVisual = point.visual;\n            if (pointVisual && defined(pointVisual.options.zIndex)) {\n                point.options.animation = this$1$1.options.animation;\n                point.createAnimation();\n            }\n        }\n    };\n\n    BarChart.prototype._setAnimationOptions = function _setAnimationOptions () {\n        var options = this.options;\n        var animation = options.animation || {};\n        var origin;\n\n        if (options.isStacked) {\n            var valueAxis = this.seriesValueAxis(options.series[0]);\n            origin = valueAxis.getSlot(valueAxis.startValue());\n        } else {\n            origin = this.categoryAxis.getSlot(0);\n        }\n\n        animation.origin = new Point$6(origin.x1, origin.y1);\n        animation.vertical = !options.invertAxes;\n    };\n\n    return BarChart;\n}(CategoricalChart));\n\nsetDefaultOptions(BarChart, {\n    animation: {\n        type: BAR\n    }\n});\n\nvar Candlestick = (function (ChartElement) {\n    function Candlestick(value, options) {\n        ChartElement.call(this, options);\n        this.value = value;\n    }\n\n    if ( ChartElement ) Candlestick.__proto__ = ChartElement;\n    Candlestick.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Candlestick.prototype.constructor = Candlestick;\n\n    Candlestick.prototype.getLabelText = function getLabelText (options) {\n        return this.formatValue(options.format);\n    };\n\n    Candlestick.prototype.reflow = function reflow (box) {\n        var ref = this;\n        var options = ref.options;\n        var value = ref.value;\n        var chart = ref.owner;\n        var valueAxis = chart.seriesValueAxis(options);\n        var ocSlot = valueAxis.getSlot(value.open, value.close);\n        var lhSlot = valueAxis.getSlot(value.low, value.high);\n\n        ocSlot.x1 = lhSlot.x1 = box.x1;\n        ocSlot.x2 = lhSlot.x2 = box.x2;\n\n        this.realBody = ocSlot;\n\n        var mid = lhSlot.center().x;\n        var points = [];\n\n        points.push([ [ mid, lhSlot.y1 ], [ mid, ocSlot.y1 ] ]);\n        points.push([ [ mid, ocSlot.y2 ], [ mid, lhSlot.y2 ] ]);\n\n        this.lines = points;\n\n        this.box = lhSlot.clone().wrap(ocSlot);\n\n        if (!this._rendered) {\n            this._rendered = true;\n            this.createNote();\n        }\n\n        this.reflowNote();\n    };\n\n    Candlestick.prototype.reflowNote = function reflowNote () {\n        if (this.note) {\n            this.note.reflow(this.box);\n        }\n    };\n\n    Candlestick.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        this.addAccessibilityAttributesToVisual();\n\n        this._mainVisual = this.mainVisual(this.options);\n        this.visual.append(\n            this._mainVisual\n        );\n\n        this.createOverlay();\n    };\n\n    Candlestick.prototype.mainVisual = function mainVisual (options) {\n        var group = new Group$8();\n\n        this.createBody(group, options);\n        this.createLines(group, options);\n\n        return group;\n    };\n\n    Candlestick.prototype.createBody = function createBody (container, options) {\n        var body = Path$7.fromRect(this.realBody.toRect(), {\n            fill: createPatternFill(options.pattern, {\n                color: this.color,\n                opacity: options.opacity\n            }),\n            stroke: null\n        });\n\n        if (options.border.width > 0) {\n            body.options.set(\"stroke\", {\n                color: this.getBorderColor(),\n                width: options.border.width,\n                dashType: options.border.dashType,\n                opacity: valueOrDefault(options.border.opacity, options.opacity)\n            });\n        }\n\n        alignPathToPixel(body);\n        container.append(body);\n\n        if (hasGradientOverlay(options)) {\n            container.append(this.createGradientOverlay(body, { baseColor: this.color }, deepExtend({\n                end: !options.vertical ? [ 0, 1 ] : undefined\n            }, options.overlay)));\n        }\n    };\n\n    Candlestick.prototype.createLines = function createLines (container, options) {\n        this.drawLines(container, options, this.lines, options.line);\n    };\n\n    Candlestick.prototype.drawLines = function drawLines (container, options, lines, lineOptions) {\n        if (!lines) {\n            return;\n        }\n\n        var lineStyle = {\n            stroke: {\n                color: lineOptions.color || this.color,\n                opacity: valueOrDefault(lineOptions.opacity, options.opacity),\n                width: lineOptions.width,\n                dashType: lineOptions.dashType,\n                lineCap: \"butt\"\n            }\n        };\n\n        for (var i = 0; i < lines.length; i++) {\n            var line = Path$7.fromPoints(lines[i], lineStyle);\n            alignPathToPixel(line);\n            container.append(line);\n        }\n    };\n\n    Candlestick.prototype.getBorderColor = function getBorderColor () {\n        var border = this.options.border;\n        var borderColor = border.color;\n\n        if (!defined(borderColor)) {\n            borderColor = new Color(this.color).brightness(border._brightness).toHex();\n        }\n\n        return borderColor;\n    };\n\n    Candlestick.prototype.createOverlay = function createOverlay () {\n        var overlay = Path$7.fromRect(this.box.toRect(), {\n            fill: {\n                color: WHITE$1,\n                opacity: 0\n            },\n            stroke: null\n        });\n\n        this.visual.append(overlay);\n    };\n\n    Candlestick.prototype.createHighlight = function createHighlight () {\n        var highlight = this.options.highlight;\n        var normalColor = this.color;\n\n        this.color = highlight.color || this.color;\n        var overlay = this.mainVisual(\n            deepExtend({}, this.options, {\n                line: {\n                    color: this.getBorderColor()\n                }\n            }, highlight)\n        );\n        this.color = normalColor;\n\n        return overlay;\n    };\n\n    Candlestick.prototype.highlightVisual = function highlightVisual () {\n        return this._mainVisual;\n    };\n\n    Candlestick.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            options: this.options,\n            rect: this.box.toRect(),\n            visual: this._mainVisual\n        };\n    };\n\n    Candlestick.prototype.tooltipAnchor = function tooltipAnchor () {\n        var box = this.box;\n        var clipBox = this.owner.pane.clipBox() || box;\n\n        return {\n            point: new Point$5(box.x2 + TOOLTIP_OFFSET, Math.max(box.y1, clipBox.y1) + TOOLTIP_OFFSET),\n            align: {\n                horizontal: LEFT,\n                vertical: TOP\n            }\n        };\n    };\n\n    Candlestick.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    Candlestick.prototype.overlapsBox = function overlapsBox (box) {\n        return this.box.overlaps(box);\n    };\n\n    Candlestick.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            value: this.value,\n            meanPoints: this.meanPoints,\n            medianPoints: this.medianPoints,\n            whiskerPoints: this.whiskerPoints,\n            stackValue: this.stackValue,\n            series: this.series\n        };\n    };\n\n    Candlestick.prototype.getIndex = function getIndex () {\n        return this.categoryIx;\n    };\n\n    return Candlestick;\n}(ChartElement));\n\nCandlestick.prototype.createFocusHighlight = Bar.prototype.createFocusHighlight;\n\nsetDefaultOptions(Candlestick, {\n    vertical: true,\n    border: {\n        _brightness: 0.8\n    },\n    line: {\n        width: 2\n    },\n    overlay: {\n        gradient: \"glass\"\n    },\n    tooltip: {\n        format: \"<table>\" +\n                    \"<tr><th colspan='2'>{4:d}</th></tr>\" +\n                    \"<tr><td>Open:</td><td>{0:C}</td></tr>\" +\n                    \"<tr><td>High:</td><td>{1:C}</td></tr>\" +\n                    \"<tr><td>Low:</td><td>{2:C}</td></tr>\" +\n                    \"<tr><td>Close:</td><td>{3:C}</td></tr>\" +\n                \"</table>\"\n    },\n    labels: {\n        format: \"\"\n    },\n    highlight: {\n        opacity: 1,\n        border: {\n            width: 1,\n            opacity: 1\n        },\n        line: {\n            width: 1,\n            opacity: 1\n        }\n    },\n    notes: {\n        visible: true,\n        label: {}\n    },\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n});\n\ndeepExtend(Candlestick.prototype, PointEventsMixin);\ndeepExtend(Candlestick.prototype, NoteMixin);\ndeepExtend(Candlestick.prototype, AccessibilityAttributesMixin);\n\nvar CandlestickChart = (function (CategoricalChart) {\n    function CandlestickChart () {\n        CategoricalChart.apply(this, arguments);\n    }\n\n    if ( CategoricalChart ) CandlestickChart.__proto__ = CategoricalChart;\n    CandlestickChart.prototype = Object.create( CategoricalChart && CategoricalChart.prototype );\n    CandlestickChart.prototype.constructor = CandlestickChart;\n\n    CandlestickChart.prototype.reflowCategories = function reflowCategories (categorySlots) {\n        var children = this.children;\n        var childrenLength = children.length;\n\n        for (var i = 0; i < childrenLength; i++) {\n            children[i].reflow(categorySlots[i]);\n        }\n    };\n\n    CandlestickChart.prototype.addValue = function addValue (data, fields) {\n        var categoryIx = fields.categoryIx;\n        var category = fields.category;\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var ref = this;\n        var children = ref.children;\n        var options = ref.options;\n        var value = data.valueFields;\n        var valueParts = this.splitValue(value);\n        var hasValue = areNumbers(valueParts);\n        var dataItem = series.data[categoryIx];\n        var categoryPoints = this.categoryPoints[categoryIx];\n        var point;\n\n        if (!categoryPoints) {\n            this.categoryPoints[categoryIx] = categoryPoints = [];\n        }\n\n        if (hasValue) {\n            point = this.createPoint(data, fields);\n        }\n\n        var cluster = children[categoryIx];\n        if (!cluster) {\n            cluster = new ClusterLayout({\n                vertical: options.invertAxes,\n                gap: options.gap,\n                spacing: options.spacing,\n                rtl: !options.invertAxes && (this.chartService || {}).rtl\n            });\n            this.append(cluster);\n        }\n\n        if (point) {\n            this.updateRange(value, fields);\n\n            cluster.append(point);\n\n            point.categoryIx = categoryIx;\n            point.category = category;\n            point.series = series;\n            point.seriesIx = seriesIx;\n            point.owner = this;\n            point.dataItem = dataItem;\n            point.noteText = data.fields.noteText;\n        }\n\n        this.points.push(point);\n        categoryPoints.push(point);\n    };\n\n    CandlestickChart.prototype.pointType = function pointType () {\n        return Candlestick;\n    };\n\n    CandlestickChart.prototype.createPoint = function createPoint (data, fields) {\n        var series = fields.series;\n        var pointType = this.pointType();\n        var value = data.valueFields;\n        var pointOptions = deepExtend({}, series);\n        var color = data.fields.color || series.color;\n\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n\n        if (series.type === CANDLESTICK || series.type === OHLC) {\n            if (value.open > value.close) {\n                color = data.fields.downColor || series.downColor || series.color;\n            }\n        }\n\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        pointOptions.vertical = !this.options.invertAxes;\n\n        var point = new pointType(value, pointOptions);\n        point.color = color;\n\n        return point;\n    };\n\n    CandlestickChart.prototype.splitValue = function splitValue (value) {\n        return [ value.low, value.open, value.close, value.high ];\n    };\n\n    CandlestickChart.prototype.updateRange = function updateRange (value, fields) {\n        var axisName = fields.series.axis;\n        var parts = this.splitValue(value);\n        var axisRange = this.valueAxisRanges[axisName] || { min: MAX_VALUE, max: MIN_VALUE };\n\n        this.valueAxisRanges[axisName] = {\n            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),\n            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))\n        };\n    };\n\n    CandlestickChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n\n        return this.chartService.format.auto(format,\n            value.open, value.high,\n            value.low, value.close, point.category\n        );\n    };\n\n    CandlestickChart.prototype.animationPoints = function animationPoints () {\n        return this.points;\n    };\n\n    return CandlestickChart;\n}(CategoricalChart));\n\ndeepExtend(CandlestickChart.prototype, ClipAnimationMixin);\n\nvar BoxPlot = (function (Candlestick) {\n    function BoxPlot(value, options) {\n        Candlestick.call(this, value, options);\n\n        this.createNote();\n    }\n\n    if ( Candlestick ) BoxPlot.__proto__ = Candlestick;\n    BoxPlot.prototype = Object.create( Candlestick && Candlestick.prototype );\n    BoxPlot.prototype.constructor = BoxPlot;\n\n    BoxPlot.prototype.reflow = function reflow (box) {\n        var ref = this;\n        var options = ref.options;\n        var value = ref.value;\n        var chart = ref.owner;\n        var valueAxis = chart.seriesValueAxis(options);\n        var whiskerSlot, boxSlot;\n\n        this.boxSlot = boxSlot = valueAxis.getSlot(value.q1, value.q3);\n        this.realBody = boxSlot;\n        this.reflowBoxSlot(box);\n\n        this.whiskerSlot = whiskerSlot = valueAxis.getSlot(value.lower, value.upper);\n        this.reflowWhiskerSlot(box);\n\n        var medianSlot = valueAxis.getSlot(value.median);\n\n        if (value.mean) {\n            var meanSlot = valueAxis.getSlot(value.mean);\n            this.meanPoints = this.calcMeanPoints(box, meanSlot);\n        }\n\n        this.whiskerPoints = this.calcWhiskerPoints(boxSlot, whiskerSlot);\n        this.medianPoints = this.calcMedianPoints(box, medianSlot);\n\n        this.box = whiskerSlot.clone().wrap(boxSlot);\n        this.reflowNote();\n    };\n\n    BoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {\n        this.boxSlot.x1 = box.x1;\n        this.boxSlot.x2 = box.x2;\n    };\n\n    BoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {\n        this.whiskerSlot.x1 = box.x1;\n        this.whiskerSlot.x2 = box.x2;\n    };\n\n    BoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {\n        return [\n            [ [ box.x1, meanSlot.y1 ], [ box.x2, meanSlot.y1 ] ]\n        ];\n    };\n\n    BoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {\n        var mid = whiskerSlot.center().x;\n        return [ [\n            [ mid - 5, whiskerSlot.y1 ], [ mid + 5, whiskerSlot.y1 ],\n            [ mid, whiskerSlot.y1 ], [ mid, boxSlot.y1 ]\n        ], [\n            [ mid - 5, whiskerSlot.y2 ], [ mid + 5, whiskerSlot.y2 ],\n            [ mid, whiskerSlot.y2 ], [ mid, boxSlot.y2 ]\n        ] ];\n    };\n\n    BoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {\n        return [\n            [ [ box.x1, medianSlot.y1 ], [ box.x2, medianSlot.y1 ] ]\n        ];\n    };\n\n    BoxPlot.prototype.renderOutliers = function renderOutliers (options) {\n        var this$1$1 = this;\n\n        var value = this.value;\n        var outliers = value.outliers || [];\n        var outerFence = Math.abs(value.q3 - value.q1) * 3;\n        var elements = [];\n        var markers = options.markers || {};\n\n        for (var i = 0; i < outliers.length; i++) {\n            var outlierValue = outliers[i];\n            if (outlierValue < value.q3 + outerFence && outlierValue > value.q1 - outerFence) {\n                markers = options.outliers;\n            } else {\n                markers = options.extremes;\n            }\n            var markersBorder = deepExtend({}, markers.border);\n\n            if (!defined(markersBorder.color)) {\n                if (defined(this$1$1.color)) {\n                    markersBorder.color = this$1$1.color;\n                } else {\n                    markersBorder.color =\n                        new Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex();\n                }\n            }\n\n            var shape = new ShapeElement({\n                type: markers.type,\n                width: markers.size,\n                height: markers.size,\n                rotation: markers.rotation,\n                background: markers.background,\n                border: markersBorder,\n                opacity: markers.opacity\n            });\n\n            shape.value = outlierValue;\n\n            elements.push(shape);\n        }\n\n        this.reflowOutliers(elements);\n        return elements;\n    };\n\n    BoxPlot.prototype.reflowOutliers = function reflowOutliers (outliers) {\n        var this$1$1 = this;\n\n        var valueAxis = this.owner.seriesValueAxis(this.options);\n        var center = this.box.center();\n\n        for (var i = 0; i < outliers.length; i++) {\n            var outlierValue = outliers[i].value;\n            var markerBox = valueAxis.getSlot(outlierValue);\n\n            if (this$1$1.options.vertical) {\n                markerBox.move(center.x);\n            } else {\n                markerBox.move(undefined, center.y);\n            }\n\n            this$1$1.box = this$1$1.box.wrap(markerBox);\n            outliers[i].reflow(markerBox);\n        }\n    };\n\n    BoxPlot.prototype.mainVisual = function mainVisual (options) {\n        var group = Candlestick.prototype.mainVisual.call(this, options);\n        var outliers = this.renderOutliers(options);\n\n        for (var i = 0; i < outliers.length; i++) {\n            var element = outliers[i].getElement();\n            if (element) {\n                group.append(element);\n            }\n        }\n\n        return group;\n    };\n\n    BoxPlot.prototype.createLines = function createLines (container, options) {\n        this.drawLines(container, options, this.whiskerPoints, options.whiskers);\n        this.drawLines(container, options, this.medianPoints, options.median);\n        this.drawLines(container, options, this.meanPoints, options.mean);\n    };\n\n    BoxPlot.prototype.getBorderColor = function getBorderColor () {\n        if ((this.options.border || {}).color) {\n            return this.options.border.color;\n        }\n\n        if (this.color) {\n            return this.color;\n        }\n\n        return Candlestick.prototype.getBorderColor.call(this);\n    };\n\n    return BoxPlot;\n}(Candlestick));\n\nsetDefaultOptions(BoxPlot, {\n    border: {\n        _brightness: 0.8\n    },\n    line: {\n        width: 2\n    },\n    median: {\n        color: \"#f6f6f6\"\n    },\n    mean: {\n        width: 2,\n        dashType: \"dash\",\n        color: \"#f6f6f6\"\n    },\n    overlay: {\n        gradient: \"glass\"\n    },\n    tooltip: {\n        format: \"<table>\" +\n                    \"<tr><th colspan='2'>{6:d}</th></tr>\" +\n                    \"<tr><td>Lower:</td><td>{0:C}</td></tr>\" +\n                    \"<tr><td>Q1:</td><td>{1:C}</td></tr>\" +\n                    \"<tr><td>Median:</td><td>{2:C}</td></tr>\" +\n                    \"<tr><td>Mean:</td><td>{5:C}</td></tr>\" +\n                    \"<tr><td>Q3:</td><td>{3:C}</td></tr>\" +\n                    \"<tr><td>Upper:</td><td>{4:C}</td></tr>\" +\n                \"</table>\"\n    },\n    highlight: {\n        opacity: 1,\n        border: {\n            width: 1,\n            opacity: 1\n        },\n        line: {\n            width: 1,\n            opacity: 1\n        }\n    },\n    notes: {\n        visible: true,\n        label: {}\n    },\n    outliers: {\n        visible: true,\n        size: LINE_MARKER_SIZE,\n        type: CROSS,\n        background: WHITE$1,\n        border: {\n            width: 2,\n            opacity: 1\n        },\n        opacity: 0\n    },\n    extremes: {\n        visible: true,\n        size: LINE_MARKER_SIZE,\n        type: CIRCLE,\n        background: WHITE$1,\n        border: {\n            width: 2,\n            opacity: 1\n        },\n        opacity: 0\n    }\n});\n\ndeepExtend(BoxPlot.prototype, PointEventsMixin);\n\nvar VerticalBoxPlot = (function (BoxPlot) {\n    function VerticalBoxPlot () {\n        BoxPlot.apply(this, arguments);\n    }\n\n    if ( BoxPlot ) VerticalBoxPlot.__proto__ = BoxPlot;\n    VerticalBoxPlot.prototype = Object.create( BoxPlot && BoxPlot.prototype );\n    VerticalBoxPlot.prototype.constructor = VerticalBoxPlot;\n\n    VerticalBoxPlot.prototype.reflowBoxSlot = function reflowBoxSlot (box) {\n        this.boxSlot.y1 = box.y1;\n        this.boxSlot.y2 = box.y2;\n    };\n\n    VerticalBoxPlot.prototype.reflowWhiskerSlot = function reflowWhiskerSlot (box) {\n        this.whiskerSlot.y1 = box.y1;\n        this.whiskerSlot.y2 = box.y2;\n    };\n\n    VerticalBoxPlot.prototype.calcMeanPoints = function calcMeanPoints (box, meanSlot) {\n        return [\n            [ [ meanSlot.x1, box.y1 ], [ meanSlot.x1, box.y2 ] ]\n        ];\n    };\n\n    VerticalBoxPlot.prototype.calcWhiskerPoints = function calcWhiskerPoints (boxSlot, whiskerSlot) {\n        var mid = whiskerSlot.center().y;\n        return [ [\n            [ whiskerSlot.x1, mid - 5 ], [ whiskerSlot.x1, mid + 5 ],\n            [ whiskerSlot.x1, mid ], [ boxSlot.x1, mid ]\n        ], [\n            [ whiskerSlot.x2, mid - 5 ], [ whiskerSlot.x2, mid + 5 ],\n            [ whiskerSlot.x2, mid ], [ boxSlot.x2, mid ]\n        ] ];\n    };\n\n    VerticalBoxPlot.prototype.calcMedianPoints = function calcMedianPoints (box, medianSlot) {\n        return [\n            [ [ medianSlot.x1, box.y1 ], [ medianSlot.x1, box.y2 ] ]\n        ];\n    };\n\n    return VerticalBoxPlot;\n}(BoxPlot));\n\nvar BoxPlotChart = (function (CandlestickChart) {\n    function BoxPlotChart () {\n        CandlestickChart.apply(this, arguments);\n    }\n\n    if ( CandlestickChart ) BoxPlotChart.__proto__ = CandlestickChart;\n    BoxPlotChart.prototype = Object.create( CandlestickChart && CandlestickChart.prototype );\n    BoxPlotChart.prototype.constructor = BoxPlotChart;\n\n    BoxPlotChart.prototype.addValue = function addValue (data, fields) {\n        var categoryIx = fields.categoryIx;\n        var category = fields.category;\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var ref = this;\n        var children = ref.children;\n        var options = ref.options;\n        var value = data.valueFields;\n        var valueParts = this.splitValue(value);\n        var hasValue = areNumbers(valueParts);\n        var dataItem = series.data[categoryIx];\n        var categoryPoints = this.categoryPoints[categoryIx];\n        var point;\n\n        if (!categoryPoints) {\n            this.categoryPoints[categoryIx] = categoryPoints = [];\n        }\n\n        if (hasValue) {\n            point = this.createPoint(data, fields);\n        }\n\n        var cluster = children[categoryIx];\n        if (!cluster) {\n            cluster = new ClusterLayout({\n                vertical: options.invertAxes,\n                gap: options.gap,\n                spacing: options.spacing,\n                rtl: !options.invertAxes && (this.chartService || {}).rtl\n            });\n            this.append(cluster);\n        }\n\n        if (point) {\n            this.updateRange(value, fields);\n\n            cluster.append(point);\n\n            point.categoryIx = categoryIx;\n            point.category = category;\n            point.series = series;\n            point.seriesIx = seriesIx;\n            point.owner = this;\n            point.dataItem = dataItem;\n        }\n\n        this.points.push(point);\n        categoryPoints.push(point);\n    };\n\n    BoxPlotChart.prototype.pointType = function pointType () {\n        if (this.options.invertAxes) {\n            return VerticalBoxPlot;\n        }\n\n        return BoxPlot;\n    };\n\n    BoxPlotChart.prototype.splitValue = function splitValue (value) {\n        return [\n            value.lower, value.q1, value.median,\n            value.q3, value.upper\n        ];\n    };\n\n    BoxPlotChart.prototype.updateRange = function updateRange (value, fields) {\n        var axisName = fields.series.axis;\n        var parts = this.splitValue(value).concat(this.filterOutliers(value.outliers));\n\n        if (defined(value.mean)) {\n            parts = parts.concat(value.mean);\n        }\n\n        var axisRange = this.valueAxisRanges[axisName] || { min: MAX_VALUE, max: MIN_VALUE };\n\n        this.valueAxisRanges[axisName] = {\n            min: Math.min.apply(Math, parts.concat([ axisRange.min ])),\n            max: Math.max.apply(Math, parts.concat([ axisRange.max ]))\n        };\n    };\n\n    BoxPlotChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n\n        return this.chartService.format.auto(format,\n            value.lower, value.q1, value.median,\n            value.q3, value.upper, value.mean, point.category\n        );\n    };\n\n    BoxPlotChart.prototype.filterOutliers = function filterOutliers (items) {\n        var length = (items || []).length;\n        var result = [];\n\n        for (var i = 0; i < length; i++) {\n            var item = items[i];\n            if (defined(item) && item !== null) {\n                result.push(item);\n            }\n        }\n\n        return result;\n    };\n\n    BoxPlotChart.prototype.supportsPointInactiveOpacity = function supportsPointInactiveOpacity () {\n        return false;\n    };\n\n    return BoxPlotChart;\n}(CandlestickChart));\n\nvar ScatterErrorBar = (function (ErrorBarBase) {\n    function ScatterErrorBar () {\n        ErrorBarBase.apply(this, arguments);\n    }\n\n    if ( ErrorBarBase ) ScatterErrorBar.__proto__ = ErrorBarBase;\n    ScatterErrorBar.prototype = Object.create( ErrorBarBase && ErrorBarBase.prototype );\n    ScatterErrorBar.prototype.constructor = ScatterErrorBar;\n\n    ScatterErrorBar.prototype.getAxis = function getAxis () {\n        var axes = this.chart.seriesAxes(this.series);\n        var axis = this.isVertical ? axes.y : axes.x;\n\n        return axis;\n    };\n\n    return ScatterErrorBar;\n}(ErrorBarBase));\n\nvar ScatterChart = (function (ChartElement) {\n    function ScatterChart(plotArea, options) {\n\n        ChartElement.call(this, options);\n\n        this.plotArea = plotArea;\n        this.chartService = plotArea.chartService;\n        this._initFields();\n\n        this.render();\n    }\n\n    if ( ChartElement ) ScatterChart.__proto__ = ChartElement;\n    ScatterChart.prototype = Object.create( ChartElement && ChartElement.prototype );\n    ScatterChart.prototype.constructor = ScatterChart;\n\n    ScatterChart.prototype._initFields = function _initFields () {\n        // X and Y axis ranges grouped by name, e.g.:\n        // primary: { min: 0, max: 1 }\n        this.xAxisRanges = {};\n        this.yAxisRanges = {};\n\n        this.points = [];\n        this.seriesPoints = [];\n        this.seriesOptions = [];\n        this._evalSeries = [];\n    };\n\n    ScatterChart.prototype.render = function render () {\n        this.traverseDataPoints(this.addValue.bind(this));\n    };\n\n    ScatterChart.prototype.addErrorBar = function addErrorBar (point, field, fields) {\n        var value = point.value[field];\n        var valueErrorField = field + \"Value\";\n        var lowField = field + \"ErrorLow\";\n        var highField = field + \"ErrorHigh\";\n        var seriesIx = fields.seriesIx;\n        var series = fields.series;\n        var errorBars = point.options.errorBars;\n        var lowValue = fields[lowField];\n        var highValue = fields[highField];\n\n        if (isNumber(value)) {\n            var errorRange;\n            if (isNumber(lowValue) && isNumber(highValue)) {\n                errorRange = { low: lowValue, high: highValue };\n            }\n\n            if (errorBars && defined(errorBars[valueErrorField])) {\n                this.seriesErrorRanges = this.seriesErrorRanges || { x: [], y: [] };\n                this.seriesErrorRanges[field][seriesIx] = this.seriesErrorRanges[field][seriesIx] ||\n                    new ErrorRangeCalculator(errorBars[valueErrorField], series, field);\n\n                errorRange = this.seriesErrorRanges[field][seriesIx].getErrorRange(value, errorBars[valueErrorField]);\n            }\n\n            if (errorRange) {\n                this.addPointErrorBar(errorRange, point, field);\n            }\n        }\n    };\n\n    ScatterChart.prototype.addPointErrorBar = function addPointErrorBar (errorRange, point, field) {\n        var low = errorRange.low;\n        var high = errorRange.high;\n        var series = point.series;\n        var options = point.options.errorBars;\n        var isVertical = field === Y;\n        var item = {};\n\n        point[field + \"Low\"] = low;\n        point[field + \"High\"] = high;\n\n        point.errorBars = point.errorBars || [];\n        var errorBar = new ScatterErrorBar(low, high, isVertical, this, series, options);\n        point.errorBars.push(errorBar);\n        point.append(errorBar);\n\n        item[field] = low;\n        this.updateRange(item, series);\n        item[field] = high;\n        this.updateRange(item, series);\n    };\n\n    ScatterChart.prototype.addValue = function addValue (value, fields) {\n        var x = value.x;\n        var y = value.y;\n        var seriesIx = fields.seriesIx;\n        var series = this.options.series[seriesIx];\n        var missingValues = this.seriesMissingValues(series);\n        var seriesPoints = this.seriesPoints[seriesIx];\n\n        var pointValue = value;\n        if (!(hasValue$2(x) && hasValue$2(y))) {\n            pointValue = this.createMissingValue(pointValue, missingValues);\n        }\n\n        var point;\n        if (pointValue) {\n            point = this.createPoint(pointValue, fields);\n            if (point) {\n                Object.assign(point, fields);\n                this.addErrorBar(point, X, fields);\n                this.addErrorBar(point, Y, fields);\n            }\n            this.updateRange(pointValue, fields.series);\n        }\n\n        this.points.push(point);\n        seriesPoints.push(point);\n    };\n\n    ScatterChart.prototype.seriesMissingValues = function seriesMissingValues (series) {\n        return series.missingValues;\n    };\n\n    ScatterChart.prototype.createMissingValue = function createMissingValue () {};\n\n    ScatterChart.prototype.updateRange = function updateRange (value, series) {\n        var intlService = this.chartService.intl;\n        var xAxisName = series.xAxis;\n        var yAxisName = series.yAxis;\n        var x = value.x;\n        var y = value.y;\n        var xAxisRange = this.xAxisRanges[xAxisName];\n        var yAxisRange = this.yAxisRanges[yAxisName];\n\n        if (hasValue$2(x)) {\n            xAxisRange = this.xAxisRanges[xAxisName] =\n                xAxisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            if (isString$1(x)) {\n                x = parseDate(intlService, x);\n            }\n\n            xAxisRange.min = Math.min(xAxisRange.min, x);\n            xAxisRange.max = Math.max(xAxisRange.max, x);\n        }\n\n        if (hasValue$2(y)) {\n            yAxisRange = this.yAxisRanges[yAxisName] =\n                yAxisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            if (isString$1(y)) {\n                y = parseDate(intlService, y);\n            }\n\n            yAxisRange.min = Math.min(yAxisRange.min, y);\n            yAxisRange.max = Math.max(yAxisRange.max, y);\n        }\n    };\n\n    ScatterChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var state = {\n            defaults: series._defaults,\n            excluded: [\n                \"data\", \"tooltip\", \"content\", \"template\", \"visual\", \"toggle\",\n                \"_outOfRangeMinPoint\", \"_outOfRangeMaxPoint\",\n                \"drilldownSeriesFactory\", \"ariaTemplate\", \"ariaContent\"\n            ]\n        };\n\n        var doEval = this._evalSeries[seriesIx];\n        if (!defined(doEval)) {\n            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n        }\n\n        var pointOptions = options;\n        if (doEval) {\n            pointOptions = deepExtend({}, options);\n            evalOptions(pointOptions, {\n                value: value,\n                series: series,\n                dataItem: fields.dataItem\n            }, state);\n        }\n\n        return pointOptions;\n    };\n\n    ScatterChart.prototype.pointType = function pointType () {\n        return LinePoint;\n    };\n\n    ScatterChart.prototype.pointOptions = function pointOptions (series, seriesIx) {\n        var options = this.seriesOptions[seriesIx];\n        if (!options) {\n            var defaults = this.pointType().prototype.defaults;\n            this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {\n                markers: {\n                    opacity: series.opacity\n                },\n                tooltip: {\n                    format: this.options.tooltip.format\n                },\n                labels: {\n                    format: this.options.labels.format\n                }\n            }, series);\n        }\n\n        return options;\n    };\n\n    ScatterChart.prototype.createPoint = function createPoint (value, fields) {\n        var series = fields.series;\n        var pointOptions = this.pointOptions(series, fields.seriesIx);\n        var color = fields.color || series.color;\n\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        var point = new LinePoint(value, pointOptions);\n        point.color = color;\n\n        this.append(point);\n\n        return point;\n    };\n\n    ScatterChart.prototype.seriesAxes = function seriesAxes (series) {\n        var xAxisName = series.xAxis;\n        var yAxisName = series.yAxis;\n        var plotArea = this.plotArea;\n        var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;\n        var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;\n\n        if (!xAxis) {\n            throw new Error(\"Unable to locate X axis with name \" + xAxisName);\n        }\n\n        if (!yAxis) {\n            throw new Error(\"Unable to locate Y axis with name \" + yAxisName);\n        }\n\n        return {\n            x: xAxis,\n            y: yAxis\n        };\n    };\n\n    ScatterChart.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var chartPoints = this.points;\n        var limit = !this.options.clip;\n        var pointIx = 0;\n\n\n        this.traverseDataPoints(function (value, fields) {\n            var point = chartPoints[pointIx++];\n            var seriesAxes = this$1$1.seriesAxes(fields.series);\n            var slotX = seriesAxes.x.getSlot(value.x, value.x, limit);\n            var slotY = seriesAxes.y.getSlot(value.y, value.y, limit);\n\n            if (point) {\n                if (slotX && slotY) {\n                    var pointSlot = this$1$1.pointSlot(slotX, slotY);\n                    point.reflow(pointSlot);\n                } else {\n                    point.visible = false;\n                }\n            }\n        });\n\n        this.box = targetBox;\n    };\n\n    ScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {\n        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n    };\n\n    ScatterChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var series = ref.options.series;\n        var seriesPoints = ref.seriesPoints;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var currentSeriesPoints = seriesPoints[seriesIx];\n            if (!currentSeriesPoints) {\n                seriesPoints[seriesIx] = [];\n            }\n\n            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\n                var ref$1 = this$1$1.plotArea.bindPoint(currentSeries, pointIx);\n                var value = ref$1.valueFields;\n                var fields = ref$1.fields;\n\n                callback(value, deepExtend({\n                    pointIx: pointIx,\n                    series: currentSeries,\n                    seriesIx: seriesIx,\n                    dataItem: currentSeries.data[pointIx],\n                    owner: this$1$1\n                }, fields));\n            }\n        }\n    };\n\n    ScatterChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n        return this.chartService.format.auto(format, value.x, value.y);\n    };\n\n    ScatterChart.prototype.animationPoints = function animationPoints () {\n        var points = this.points;\n        var result = [];\n        for (var idx = 0; idx < points.length; idx++) {\n            result.push((points[idx] || {}).marker);\n        }\n        return result;\n    };\n\n    return ScatterChart;\n}(ChartElement));\nsetDefaultOptions(ScatterChart, {\n    series: [],\n    tooltip: {\n        format: \"{0}, {1}\"\n    },\n    labels: {\n        format: \"{0}, {1}\"\n    },\n    clip: true\n});\ndeepExtend(ScatterChart.prototype, ClipAnimationMixin);\n\nvar Bubble = (function (LinePoint) {\n    function Bubble(value, options) {\n        LinePoint.call(this, value, options);\n\n        this.category = value.category;\n    }\n\n    if ( LinePoint ) Bubble.__proto__ = LinePoint;\n    Bubble.prototype = Object.create( LinePoint && LinePoint.prototype );\n    Bubble.prototype.constructor = Bubble;\n\n    Bubble.prototype.createHighlight = function createHighlight () {\n        var highlight = this.options.highlight;\n        var border = highlight.border;\n        var markers = this.options.markers;\n        var center = this.box.center();\n        var radius = (markers.size + markers.border.width + border.width) / 2;\n        var highlightGroup = new Group$8();\n        var shadow = new Circle$1(new Circle$2([ center.x, center.y + radius / 5 + border.width / 2 ], radius + border.width / 2), {\n            stroke: {\n                color: 'none'\n            },\n            fill: this.createGradient({\n                gradient: 'bubbleShadow',\n                color: markers.background,\n                stops: [ {\n                    offset: 0,\n                    color: markers.background,\n                    opacity: 0.3\n                }, {\n                    offset: 1,\n                    color: markers.background,\n                    opacity: 0\n                } ]\n            })\n        });\n        var overlay = new Circle$1(new Circle$2([ center.x, center.y ], radius), {\n            stroke: {\n                color: border.color ||\n                    new Color(markers.background).brightness(BORDER_BRIGHTNESS).toHex(),\n                width: border.width,\n                opacity: border.opacity\n            },\n            fill: createPatternFill(this.options.pattern, {\n                color: markers.background,\n                opacity: highlight.opacity\n            })\n        });\n\n        highlightGroup.append(shadow, overlay);\n\n        return highlightGroup;\n    };\n\n    Bubble.prototype.createFocusHighlight = function createFocusHighlight (style) {\n        var highlightOptions = this.options.accessibility.highlight;\n        var markers = this.options.markers;\n        var center = this.box.center();\n        var radius = (markers.size + markers.border.width) / 2 + highlightOptions.border.width / 2;\n        var highlight = new Circle$1(new Circle$2([ center.x, center.y ], radius), style);\n\n        return highlight;\n    };\n\n    return Bubble;\n}(LinePoint));\n\nBubble.prototype.defaults = deepExtend({}, Bubble.prototype.defaults, {\n    labels: {\n        position: CENTER\n    },\n    highlight: {\n        opacity: 1,\n        border: {\n            color: \"#fff\",\n            width: 2,\n            opacity: 1\n        }\n    }\n});\n\nBubble.prototype.defaults.highlight.zIndex = undefined;\n\nvar BubbleChart = (function (ScatterChart) {\n    function BubbleChart () {\n        ScatterChart.apply(this, arguments);\n    }\n\n    if ( ScatterChart ) BubbleChart.__proto__ = ScatterChart;\n    BubbleChart.prototype = Object.create( ScatterChart && ScatterChart.prototype );\n    BubbleChart.prototype.constructor = BubbleChart;\n\n    BubbleChart.prototype._initFields = function _initFields () {\n        this._maxSize = MIN_VALUE;\n        ScatterChart.prototype._initFields.call(this);\n    };\n\n    BubbleChart.prototype.addValue = function addValue (value, fields) {\n        if (value.size !== null && (value.size > 0 || (value.size < 0 && fields.series.negativeValues.visible))) {\n            this._maxSize = Math.max(this._maxSize, Math.abs(value.size));\n            ScatterChart.prototype.addValue.call(this, value, fields);\n        } else {\n            this.points.push(null);\n            this.seriesPoints[fields.seriesIx].push(null);\n        }\n    };\n\n    BubbleChart.prototype.reflow = function reflow (box) {\n        this.updateBubblesSize(box);\n        ScatterChart.prototype.reflow.call(this, box);\n    };\n\n    BubbleChart.prototype.pointType = function pointType () {\n        return Bubble;\n    };\n\n    BubbleChart.prototype.createPoint = function createPoint (value, fields) {\n        var series = fields.series;\n        var pointsCount = series.data.length;\n        var delay = fields.pointIx * (INITIAL_ANIMATION_DURATION / pointsCount);\n        var animationOptions = {\n            delay: delay,\n            duration: INITIAL_ANIMATION_DURATION - delay,\n            type: BUBBLE\n        };\n\n        var color = fields.color || series.color;\n        if (value.size < 0 && series.negativeValues.visible) {\n            color = valueOrDefault(\n                series.negativeValues.color, color\n            );\n        }\n\n        var pointOptions = deepExtend({\n            labels: {\n                animation: {\n                    delay: delay,\n                    duration: INITIAL_ANIMATION_DURATION - delay\n                }\n            }\n        }, this.pointOptions(series, fields.seriesIx), {\n            markers: {\n                type: CIRCLE,\n                border: series.border,\n                opacity: series.opacity,\n                animation: animationOptions\n            }\n        });\n\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        pointOptions.markers.background = color;\n\n        var point = new Bubble(value, pointOptions);\n        point.color = color;\n\n        this.append(point);\n\n        return point;\n    };\n\n    BubbleChart.prototype.updateBubblesSize = function updateBubblesSize (box) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var series = ref.options.series;\n        var boxSize = Math.min(box.width(), box.height());\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var seriesPoints = this$1$1.seriesPoints[seriesIx];\n            var minSize = currentSeries.minSize || Math.max(boxSize * 0.02, 10);\n            var maxSize = currentSeries.maxSize || boxSize * 0.2;\n            var minR = minSize / 2;\n            var maxR = maxSize / 2;\n            var minArea = Math.PI * minR * minR;\n            var maxArea = Math.PI * maxR * maxR;\n            var areaRange = maxArea - minArea;\n            var areaRatio = areaRange / this$1$1._maxSize;\n\n            for (var pointIx = 0; pointIx < seriesPoints.length; pointIx++) {\n                var point = seriesPoints[pointIx];\n                if (point) {\n                    var area = Math.abs(point.value.size) * areaRatio;\n                    var radius = Math.sqrt((minArea + area) / Math.PI);\n                    var baseZIndex = valueOrDefault(point.options.zIndex, 0);\n                    var zIndex = baseZIndex + (1 - radius / maxR);\n\n                    deepExtend(point.options, {\n                        zIndex: zIndex,\n                        markers: {\n                            size: radius * 2,\n                            zIndex: zIndex\n                        },\n                        labels: {\n                            zIndex: zIndex + 1\n                        }\n                    });\n                }\n            }\n        }\n    };\n\n    BubbleChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n        return this.chartService.format.auto(format, value.x, value.y, value.size, point.category);\n    };\n\n    BubbleChart.prototype.createAnimation = function createAnimation () {};\n    BubbleChart.prototype.createVisual = function createVisual () {};\n\n    return BubbleChart;\n}(ScatterChart));\n\nsetDefaultOptions(BubbleChart, {\n    tooltip: {\n        format: \"{3}\"\n    },\n    labels: {\n        format: \"{3}\"\n    }\n});\n\nvar Target = (function (ShapeElement) {\n\tfunction Target () {\n\t\tShapeElement.apply(this, arguments);\n\t}if ( ShapeElement ) Target.__proto__ = ShapeElement;\n\tTarget.prototype = Object.create( ShapeElement && ShapeElement.prototype );\n\tTarget.prototype.constructor = Target;\n\n\t\n\n\treturn Target;\n}(ShapeElement));\n\ndeepExtend(Target.prototype, PointEventsMixin);\n\nvar Bullet = (function (ChartElement) {\n    function Bullet(value, options) {\n        ChartElement.call(this, options);\n\n        this.aboveAxis = this.options.aboveAxis;\n        this.color = options.color || WHITE$1;\n        this.value = value;\n    }\n\n    if ( ChartElement ) Bullet.__proto__ = ChartElement;\n    Bullet.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Bullet.prototype.constructor = Bullet;\n\n    Bullet.prototype.render = function render () {\n        var options = this.options;\n\n        if (!this._rendered) {\n            this._rendered = true;\n\n            if (defined(this.value.target)) {\n                this.target = new Target({\n                    type: options.target.shape,\n                    background: options.target.color || this.color,\n                    opacity: options.opacity,\n                    zIndex: options.zIndex,\n                    border: options.target.border,\n                    vAlign: TOP,\n                    align: RIGHT\n                });\n\n                this.target.value = this.value;\n                this.target.dataItem = this.dataItem;\n                this.target.series = this.series;\n\n                this.append(this.target);\n            }\n\n            this.createLabel();\n            this.createNote();\n        }\n    };\n\n    Bullet.prototype.createLabel = function createLabel () {\n        var options = this.options;\n        var labels = options.labels;\n\n        if (labels.visible) {\n            this.label = this.createLabelElement(labels);\n            this.append(this.label);\n        }\n    };\n\n    Bullet.prototype.createLabelElement = function createLabelElement (options) {\n        return new BarLabel(this.getLabelText(options),\n            options,\n            this.pointData());\n    };\n\n    Bullet.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = getTemplate$1(options);\n\n        if (labelTemplate) {\n            return labelTemplate(this.pointData());\n        }\n\n        return this.formatValue(options.format);\n    };\n\n    Bullet.prototype.reflow = function reflow (box) {\n        this.render();\n\n        var ref = this;\n        var options = ref.options;\n        var target = ref.target;\n        var chart = ref.owner;\n        var invertAxes = options.invertAxes;\n        var valueAxis = chart.seriesValueAxis(this.options);\n        var categorySlot = chart.categorySlot(chart.categoryAxis, options.categoryIx, valueAxis);\n        var targetValueSlot = valueAxis.getSlot(this.value.target);\n        var targetSlotX = invertAxes ? targetValueSlot : categorySlot;\n        var targetSlotY = invertAxes ? categorySlot : targetValueSlot;\n\n        if (target) {\n            var targetSlot = new Box(\n                targetSlotX.x1, targetSlotY.y1,\n                targetSlotX.x2, targetSlotY.y2\n            );\n            target.options.height = invertAxes ? targetSlot.height() : options.target.line.width;\n            target.options.width = invertAxes ? options.target.line.width : targetSlot.width();\n            target.reflow(targetSlot);\n        }\n\n        var label = this.label;\n        if (label) {\n            label.options.aboveAxis = this.aboveAxis;\n            label.reflow(box);\n        }\n\n        if (this.note) {\n            this.note.reflow(box);\n        }\n\n        this.box = box;\n    };\n\n    Bullet.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        this.addAccessibilityAttributesToVisual();\n\n        var options = this.options;\n        var body = Path$7.fromRect(this.box.toRect(), {\n            fill: createPatternFill(options.pattern, {\n                color: this.color,\n                opacity: options.opacity\n            }),\n            stroke: null\n        });\n\n        if (options.border.width > 0) {\n            body.options.set(\"stroke\", {\n                color: options.border.color || this.color,\n                width: options.border.width,\n                dashType: options.border.dashType,\n                opacity: valueOrDefault(options.border.opacity, options.opacity)\n            });\n        }\n\n        this.bodyVisual = body;\n\n        alignPathToPixel(body);\n        this.visual.append(body);\n    };\n\n    Bullet.prototype.createAnimation = function createAnimation () {\n        if (this.bodyVisual) {\n            this.animation = Animation$1.create(\n                this.bodyVisual, this.options.animation\n            );\n        }\n    };\n\n    Bullet.prototype.createHighlight = function createHighlight (style) {\n        return Path$7.fromRect(this.box.toRect(), style);\n    };\n\n    Bullet.prototype.highlightVisual = function highlightVisual () {\n        return this.bodyVisual;\n    };\n\n    Bullet.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            rect: this.box.toRect(),\n            visual: this.bodyVisual,\n            options: this.options\n        };\n    };\n\n    Bullet.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    Bullet.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            category: this.category,\n            value: this.value,\n            series: this.series\n        };\n    };\n\n    Bullet.prototype.overlapsBox = function overlapsBox (box) {\n        return this.box.overlaps(box);\n    };\n\n    Bullet.prototype.getIndex = function getIndex () {\n        return this.categoryIx;\n    };\n\n    return Bullet;\n}(ChartElement));\n\nBullet.prototype.tooltipAnchor = Bar.prototype.tooltipAnchor;\nBullet.prototype.createFocusHighlight = Bar.prototype.createFocusHighlight;\n\nsetDefaultOptions(Bullet, {\n    border: {\n        width: 1\n    },\n    vertical: false,\n    opacity: 1,\n    target: {\n        shape: \"\",\n        border: {\n            width: 0,\n            color: \"green\"\n        },\n        line: {\n            width: 2\n        }\n    },\n    labels: {\n        visible: false\n    },\n    tooltip: {\n        format: \"Current: {0}<br />Target: {1}\"\n    },\n    notes: {\n        label: {}\n    },\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n});\n\ndeepExtend(Bullet.prototype, PointEventsMixin);\ndeepExtend(Bullet.prototype, NoteMixin);\ndeepExtend(Bullet.prototype, AccessibilityAttributesMixin);\n\nvar BulletChart = (function (CategoricalChart) {\n    function BulletChart(plotArea, options) {\n\n        wrapData(options);\n\n        CategoricalChart.call(this, plotArea, options);\n    }\n\n    if ( CategoricalChart ) BulletChart.__proto__ = CategoricalChart;\n    BulletChart.prototype = Object.create( CategoricalChart && CategoricalChart.prototype );\n    BulletChart.prototype.constructor = BulletChart;\n\n    BulletChart.prototype.reflowCategories = function reflowCategories (categorySlots) {\n        var children = this.children;\n        var childrenLength = children.length;\n\n        for (var i = 0; i < childrenLength; i++) {\n            children[i].reflow(categorySlots[i]);\n        }\n    };\n\n    BulletChart.prototype.plotRange = function plotRange (point) {\n        var series = point.series;\n        var valueAxis = this.seriesValueAxis(series);\n        var axisCrossingValue = this.categoryAxisCrossingValue(valueAxis);\n\n        return [ axisCrossingValue, point.value.current || axisCrossingValue ];\n    };\n\n    BulletChart.prototype.createPoint = function createPoint (data, fields) {\n        var categoryIx = fields.categoryIx;\n        var series = fields.series;\n        var ref = this;\n        var options = ref.options;\n        var children = ref.children;\n        var value = data.valueFields;\n\n        var bulletOptions = deepExtend({\n            vertical: !options.invertAxes,\n            overlay: series.overlay,\n            categoryIx: categoryIx,\n            invertAxes: options.invertAxes\n        }, series);\n\n        var color = data.fields.color || series.color;\n        bulletOptions = this.evalPointOptions(bulletOptions, value, fields);\n        if (isFunction(series.color)) {\n            color = bulletOptions.color;\n        }\n\n        var bullet = new Bullet(value, bulletOptions);\n        bullet.color = color;\n\n        var cluster = children[categoryIx];\n        if (!cluster) {\n            cluster = new ClusterLayout({\n                vertical: options.invertAxes,\n                gap: options.gap,\n                spacing: options.spacing,\n                rtl: !options.invertAxes && (this.chartService || {}).rtl\n            });\n            this.append(cluster);\n        }\n\n        cluster.append(bullet);\n\n        return bullet;\n    };\n\n    BulletChart.prototype.updateRange = function updateRange (value, fields) {\n        var current = value.current;\n        var target = value.target;\n        var axisName = fields.series.axis;\n        var axisRange = this.valueAxisRanges[axisName];\n\n        if (defined(current) && !isNaN(current) && defined(target && !isNaN(target))) {\n            axisRange = this.valueAxisRanges[axisName] =\n                axisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            axisRange.min = Math.min(axisRange.min, current, target);\n            axisRange.max = Math.max(axisRange.max, current, target);\n        }\n    };\n\n    BulletChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        return this.chartService.format.auto(format, point.value.current, point.value.target);\n    };\n\n    BulletChart.prototype.pointValue = function pointValue (data) {\n        return data.valueFields.current;\n    };\n\n    BulletChart.prototype.aboveAxis = function aboveAxis (point) {\n        var value = point.value.current;\n\n        return value > 0;\n    };\n\n    BulletChart.prototype.createAnimation = function createAnimation () {\n        var this$1$1 = this;\n\n        var points = this.points;\n\n        this._setAnimationOptions();\n\n        for (var idx = 0; idx < points.length; idx++) {\n            var point = points[idx];\n            point.options.animation = this$1$1.options.animation;\n            point.createAnimation();\n        }\n    };\n\n    return BulletChart;\n}(CategoricalChart));\n\nBulletChart.prototype._setAnimationOptions = BarChart.prototype._setAnimationOptions;\n\nsetDefaultOptions(BulletChart, {\n    animation: {\n        type: BAR\n    }\n});\n\nfunction wrapData(options) {\n    var series = options.series;\n\n    for (var i = 0; i < series.length; i++) {\n        var seriesItem = series[i];\n        var data = seriesItem.data;\n        if (data && !isArray(data[0]) && !isObject(data[0])) {\n            seriesItem.data = [ data ];\n        }\n    }\n}\n\nvar BaseTooltip = (function (Class) {\n    function BaseTooltip(chartService, options) {\n        Class.call(this);\n\n        this.chartService = chartService;\n        this.options = deepExtend({}, this.options, options);\n    }\n\n    if ( Class ) BaseTooltip.__proto__ = Class;\n    BaseTooltip.prototype = Object.create( Class && Class.prototype );\n    BaseTooltip.prototype.constructor = BaseTooltip;\n\n    BaseTooltip.prototype.getStyle = function getStyle (options, point) {\n        var background = options.background;\n        var border = options.border.color;\n\n        if (point) {\n            var pointColor = point.color || point.options.color;\n            background = valueOrDefault(background, pointColor);\n            border = valueOrDefault(border, pointColor);\n        }\n\n        var padding = getSpacing(options.padding || {}, \"auto\");\n\n        return {\n            backgroundColor: background,\n            borderColor: border,\n            font: options.font,\n            color: options.color,\n            opacity: options.opacity,\n            borderWidth: styleValue(options.border.width),\n            paddingTop: styleValue(padding.top),\n            paddingBottom: styleValue(padding.bottom),\n            paddingLeft: styleValue(padding.left),\n            paddingRight: styleValue(padding.right)\n        };\n    };\n\n    BaseTooltip.prototype.show = function show (options, tooltipOptions, point) {\n        options.format = tooltipOptions.format;\n\n        var style = this.getStyle(tooltipOptions, point);\n        options.style = style;\n\n        var background = new Color(style.backgroundColor);\n        if (!defined(tooltipOptions.color) && !background.isDark()) {\n            options.className = \"k-chart-tooltip-inverse\";\n        }\n\n        this.chartService.notify(SHOW_TOOLTIP$1, options);\n\n        this.visible = true;\n    };\n\n    BaseTooltip.prototype.hide = function hide () {\n        if (this.chartService) {\n            this.chartService.notify(HIDE_TOOLTIP$1);\n        }\n\n        this.visible = false;\n    };\n\n    BaseTooltip.prototype.destroy = function destroy () {\n        delete this.chartService;\n    };\n\n    return BaseTooltip;\n}(Class));\n\nsetDefaultOptions(BaseTooltip, {\n    border: {\n        width: 1\n    },\n    opacity: 1\n});\n\nvar CrosshairTooltip = (function (BaseTooltip) {\n    function CrosshairTooltip(chartService, crosshair, options) {\n        BaseTooltip.call(this, chartService, options);\n\n        this.crosshair = crosshair;\n        this.formatService = chartService.format;\n        this.initAxisName();\n    }\n\n    if ( BaseTooltip ) CrosshairTooltip.__proto__ = BaseTooltip;\n    CrosshairTooltip.prototype = Object.create( BaseTooltip && BaseTooltip.prototype );\n    CrosshairTooltip.prototype.constructor = CrosshairTooltip;\n\n    CrosshairTooltip.prototype.initAxisName = function initAxisName () {\n        var axis = this.crosshair.axis;\n        var plotArea = axis.plotArea;\n        var name;\n        if (plotArea.categoryAxis) {\n            name = axis.getCategory ? \"categoryAxis\" : \"valueAxis\";\n        } else {\n            name = axis.options.vertical ? \"yAxis\" : \"xAxis\";\n        }\n        this.axisName = name;\n    };\n\n    CrosshairTooltip.prototype.showAt = function showAt (point) {\n        var ref = this;\n        var axis = ref.crosshair.axis;\n        var options = ref.options;\n        var value = axis[options.stickyMode ? \"getCategory\" : \"getValue\"](point);\n        var formattedValue = value;\n\n        if (options.format) {\n            formattedValue = this.formatService.auto(options.format, value);\n        } else if (axis.options.type === DATE) {\n            formattedValue = this.formatService.auto(axis.options.labels.dateFormats[axis.options.baseUnit], value);\n        }\n\n        this.show({\n            point: point,\n            anchor: this.getAnchor(),\n            crosshair: this.crosshair,\n            value: formattedValue,\n            axisName: this.axisName,\n            axisIndex: this.crosshair.axis.axisIndex\n        }, this.options);\n    };\n\n    CrosshairTooltip.prototype.hide = function hide () {\n        this.chartService.notify(HIDE_TOOLTIP$1, {\n            crosshair: this.crosshair,\n            axisName: this.axisName,\n            axisIndex: this.crosshair.axis.axisIndex\n        });\n    };\n\n    CrosshairTooltip.prototype.getAnchor = function getAnchor () {\n        var ref = this;\n        var crosshair = ref.crosshair;\n        var ref_options = ref.options;\n        var position = ref_options.position;\n        var padding = ref_options.padding;\n        var vertical = !crosshair.axis.options.vertical;\n        var lineBox = crosshair.line.bbox();\n        var horizontalAlign, verticalAlign, point;\n\n        if (vertical) {\n            horizontalAlign = CENTER;\n            if (position === BOTTOM$1) {\n                verticalAlign = TOP;\n                point = lineBox.bottomLeft().translate(0, padding);\n            } else {\n                verticalAlign = BOTTOM$1;\n                point = lineBox.topLeft().translate(0, -padding);\n            }\n        } else {\n            verticalAlign = CENTER;\n            if (position === LEFT) {\n                horizontalAlign = RIGHT;\n                point = lineBox.topLeft().translate(-padding, 0);\n            } else {\n                horizontalAlign = LEFT;\n                point = lineBox.topRight().translate(padding, 0);\n            }\n        }\n\n        return {\n            point: point,\n            align: {\n                horizontal: horizontalAlign,\n                vertical: verticalAlign\n            }\n        };\n    };\n\n    return CrosshairTooltip;\n}(BaseTooltip));\n\nsetDefaultOptions(CrosshairTooltip, {\n    padding: 10\n});\n\nvar Crosshair = (function (ChartElement) {\n    function Crosshair(chartService, axis, options) {\n        ChartElement.call(this, options);\n\n        this.axis = axis;\n        this.stickyMode = axis instanceof CategoryAxis;\n\n        var tooltipOptions = this.options.tooltip;\n\n        if (tooltipOptions.visible) {\n            this.tooltip = new CrosshairTooltip(chartService, this,\n                deepExtend({}, tooltipOptions, { stickyMode: this.stickyMode })\n            );\n        }\n    }\n\n    if ( ChartElement ) Crosshair.__proto__ = ChartElement;\n    Crosshair.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Crosshair.prototype.constructor = Crosshair;\n\n    Crosshair.prototype.showAt = function showAt (point) {\n        this.point = point;\n        this.moveLine();\n        this.line.visible(true);\n\n        if (this.tooltip) {\n            this.tooltip.showAt(point);\n        }\n    };\n\n    Crosshair.prototype.hide = function hide () {\n        this.line.visible(false);\n\n        if (this.tooltip) {\n            this.tooltip.hide();\n        }\n    };\n\n    Crosshair.prototype.moveLine = function moveLine () {\n        var ref = this;\n        var axis = ref.axis;\n        var point = ref.point;\n        var vertical = axis.options.vertical;\n        var box = this.getBox();\n        var dim = vertical ? Y : X;\n        var lineStart = new Point$6(box.x1, box.y1);\n        var lineEnd;\n\n        if (vertical) {\n            lineEnd = new Point$6(box.x2, box.y1);\n        } else {\n            lineEnd = new Point$6(box.x1, box.y2);\n        }\n\n        if (point) {\n            if (this.stickyMode) {\n                var slot = axis.getSlot(axis.pointCategoryIndex(point));\n                lineStart[dim] = lineEnd[dim] = slot.center()[dim];\n            } else {\n                lineStart[dim] = lineEnd[dim] = point[dim];\n            }\n        }\n\n        this.box = box;\n\n        this.line.moveTo(lineStart).lineTo(lineEnd);\n    };\n\n    Crosshair.prototype.getBox = function getBox () {\n        var axis = this.axis;\n        var axes = axis.pane.axes;\n        var length = axes.length;\n        var vertical = axis.options.vertical;\n        var box = axis.lineBox().clone();\n        var dim = vertical ? X : Y;\n        var axisLineBox;\n\n        for (var i = 0; i < length; i++) {\n            var currentAxis = axes[i];\n            if (currentAxis.options.vertical !== vertical) {\n                if (!axisLineBox) {\n                    axisLineBox = currentAxis.lineBox().clone();\n                } else {\n                    axisLineBox.wrap(currentAxis.lineBox());\n                }\n            }\n        }\n\n        box[dim + 1] = axisLineBox[dim + 1];\n        box[dim + 2] = axisLineBox[dim + 2];\n\n        return box;\n    };\n\n    Crosshair.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        var options = this.options;\n        this.line = new Path$7({\n            stroke: {\n                color: options.color,\n                width: options.width,\n                opacity: options.opacity,\n                dashType: options.dashType\n            },\n            visible: false\n        });\n\n        this.moveLine();\n        this.visual.append(this.line);\n    };\n\n    Crosshair.prototype.destroy = function destroy () {\n        if (this.tooltip) {\n            this.tooltip.destroy();\n        }\n\n        ChartElement.prototype.destroy.call(this);\n    };\n\n    return Crosshair;\n}(ChartElement));\n\nsetDefaultOptions(Crosshair, {\n    color: BLACK$1,\n    width: 2,\n    zIndex: -1,\n    tooltip: {\n        visible: false\n    }\n});\n\nvar ChartContainer = (function (ChartElement) {\n    function ChartContainer(options, pane) {\n        ChartElement.call(this, options);\n        this.pane = pane;\n    }\n\n    if ( ChartElement ) ChartContainer.__proto__ = ChartElement;\n    ChartContainer.prototype = Object.create( ChartElement && ChartElement.prototype );\n    ChartContainer.prototype.constructor = ChartContainer;\n\n    ChartContainer.prototype.shouldClip = function shouldClip () {\n        var children = this.children;\n        var length = children.length;\n\n        for (var i = 0; i < length; i++) {\n            if (children[i].options.clip === true) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    ChartContainer.prototype._clipBox = function _clipBox () {\n        return this.pane.chartsBox();\n    };\n\n    ChartContainer.prototype.createVisual = function createVisual () {\n        this.visual = new Group$8({\n            zIndex: 0\n        });\n\n        if (this.shouldClip()) {\n            var clipBox = this.clipBox = this._clipBox();\n            var clipRect = clipBox.toRect();\n            var clipPath = Path$7.fromRect(clipRect);\n            alignPathToPixel(clipPath);\n\n            this.visual.clip(clipPath);\n            this.unclipLabels();\n        }\n    };\n\n    ChartContainer.prototype.stackRoot = function stackRoot () {\n        return this;\n    };\n\n    ChartContainer.prototype.unclipLabels = function unclipLabels () {\n        var ref = this;\n        var charts = ref.children;\n        var clipBox = ref.clipBox;\n\n        for (var i = 0; i < charts.length; i++) {\n            var points = charts[i].points || {};\n            var length = points.length;\n\n            for (var j = 0; j < length; j++) {\n                var point = points[j];\n                if (point && point.visible !== false && point.overlapsBox && point.overlapsBox(clipBox)) {\n                    if (point.unclipElements) {\n                        point.unclipElements();\n                    } else {\n                        var label = point.label;\n                        var note = point.note;\n\n                        if (label && label.options.visible) {\n                            if (label.alignToClipBox) {\n                                label.alignToClipBox(clipBox);\n                            }\n                            label.options.noclip = true;\n                        }\n\n                        if (note && note.options.visible) {\n                            note.options.noclip = true;\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    ChartContainer.prototype.destroy = function destroy () {\n        ChartElement.prototype.destroy.call(this);\n\n        delete this.parent;\n    };\n\n    return ChartContainer;\n}(ChartElement));\n\nChartContainer.prototype.isStackRoot = true;\n\nvar Pane$1 = (function (BoxElement) {\n    function Pane(options) {\n        BoxElement.call(this, options);\n\n        this.id = paneID();\n\n        this.createTitle();\n\n        this.content = new ChartElement();\n\n        this.chartContainer = new ChartContainer({}, this);\n        this.append(this.content);\n\n        this.axes = [];\n        this.charts = [];\n    }\n\n    if ( BoxElement ) Pane.__proto__ = BoxElement;\n    Pane.prototype = Object.create( BoxElement && BoxElement.prototype );\n    Pane.prototype.constructor = Pane;\n\n    Pane.prototype.createTitle = function createTitle () {\n        var titleOptions = this.options.title;\n        if (isObject(titleOptions)) {\n            titleOptions = deepExtend({}, titleOptions, {\n                align: titleOptions.position,\n                position: TOP\n            });\n        }\n\n        this.title = Title$1.buildTitle(titleOptions, Pane.prototype.options.title);\n        if (this.title) {\n            this.append(this.title);\n        }\n    };\n\n    Pane.prototype.appendAxis = function appendAxis (axis) {\n        this.content.append(axis);\n        this.axes.push(axis);\n        axis.pane = this;\n    };\n\n    Pane.prototype.appendAxisAt = function appendAxisAt (axis, pos) {\n        this.content.append(axis);\n        this.axes.splice(pos, 0, axis);\n        axis.pane = this;\n    };\n\n    Pane.prototype.appendChart = function appendChart (chart) {\n        if (this.chartContainer.parent !== this.content) {\n            this.content.append(this.chartContainer);\n        }\n\n        this.charts.push(chart);\n        this.chartContainer.append(chart);\n        chart.pane = this;\n    };\n\n    Pane.prototype.empty = function empty () {\n        var this$1$1 = this;\n\n        var plotArea = this.parent;\n\n        if (plotArea) {\n            for (var i = 0; i < this.axes.length; i++) {\n                plotArea.removeAxis(this$1$1.axes[i]);\n            }\n\n            for (var i$1 = 0; i$1 < this.charts.length; i$1++) {\n                plotArea.removeChart(this$1$1.charts[i$1]);\n            }\n        }\n\n        this.axes = [];\n        this.charts = [];\n\n        this.content.destroy();\n        this.content.children = [];\n        this.chartContainer.children = [];\n    };\n\n    Pane.prototype.reflow = function reflow (targetBox) {\n        // Content (such as charts) is rendered, but excluded from reflows\n        var content;\n        if (last(this.children) === this.content) {\n            content = this.children.pop();\n        }\n\n        BoxElement.prototype.reflow.call(this, targetBox);\n\n        if (content) {\n            this.children.push(content);\n        }\n\n        if (this.title) {\n            this.contentBox.y1 += this.title.box.height();\n        }\n    };\n\n    Pane.prototype.visualStyle = function visualStyle () {\n        var style = BoxElement.prototype.visualStyle.call(this);\n        style.zIndex = -10;\n\n        return style;\n    };\n\n    Pane.prototype.renderComplete = function renderComplete () {\n        if (this.options.visible) {\n            this.createGridLines();\n        }\n    };\n\n    Pane.prototype.stackRoot = function stackRoot () {\n        return this;\n    };\n\n    Pane.prototype.clipRoot = function clipRoot () {\n        return this;\n    };\n\n    Pane.prototype.createGridLines = function createGridLines () {\n        var axes = this.axes;\n        var allAxes = axes.concat(this.parent.axes);\n        var vGridLines = [];\n        var hGridLines = [];\n\n        // TODO\n        // Is full combination really necessary?\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i];\n            var vertical = axis.options.vertical;\n            var gridLines = vertical ? vGridLines : hGridLines;\n            for (var j = 0; j < allAxes.length; j++) {\n                if (gridLines.length === 0) {\n                    var altAxis = allAxes[j];\n                    if (vertical !== altAxis.options.vertical) {\n                        append(gridLines, axis.createGridLines(altAxis));\n                    }\n                }\n            }\n        }\n    };\n\n    Pane.prototype.refresh = function refresh () {\n        this.visual.clear();\n\n        this.content.parent = null;\n        this.content.createGradient = this.createGradient.bind(this);\n        this.content.renderVisual();\n        this.content.parent = this;\n\n        if (this.title) {\n            this.visual.append(this.title.visual);\n        }\n\n        this.visual.append(this.content.visual);\n\n        this.renderComplete();\n        this.notifyRender();\n    };\n\n    Pane.prototype.chartsBox = function chartsBox () {\n        var axes = this.axes;\n        var length = axes.length;\n        var chartsBox = new Box();\n\n        for (var idx = 0; idx < length; idx++) {\n            var axis = axes[idx];\n            var axisValueField = axis.options.vertical ? Y : X;\n            var lineBox = axis.lineBox();\n            chartsBox[axisValueField + 1] = lineBox[axisValueField + 1];\n            chartsBox[axisValueField + 2] = lineBox[axisValueField + 2];\n        }\n\n        if (chartsBox.x2 === 0) {\n            var allAxes = this.parent.axes;\n            var length$1 = allAxes.length;\n\n            for (var idx$1 = 0; idx$1 < length$1; idx$1++) {\n                var axis$1 = allAxes[idx$1];\n                if (!axis$1.options.vertical) {\n                    var lineBox$1 = axis$1.lineBox();\n                    chartsBox.x1 = lineBox$1.x1;\n                    chartsBox.x2 = lineBox$1.x2;\n                }\n            }\n        }\n        return chartsBox;\n    };\n\n    Pane.prototype.clipBox = function clipBox () {\n        return this.chartContainer.clipBox;\n    };\n\n    Pane.prototype.notifyRender = function notifyRender () {\n        var service = this.getService();\n        if (service) {\n            service.notify(PANE_RENDER, {\n                pane: new ChartPane(this),\n                index: this.paneIndex,\n                name: this.options.name\n            });\n        }\n    };\n\n    return Pane;\n}(BoxElement));\n\nvar ID = 1;\n\nfunction paneID() {\n    return \"pane\" + ID++;\n}\n\nPane$1.prototype.isStackRoot = true;\n\nsetDefaultOptions(Pane$1, {\n    zIndex: -1,\n    shrinkToFit: true,\n    title: {\n        align: LEFT\n    },\n    visible: true\n});\n\nvar PlotAreaBase = (function (ChartElement) {\n    function PlotAreaBase(series, options, chartService) {\n        ChartElement.call(this, options);\n\n        this.initFields(series, options);\n        this.series = series;\n        this.initSeries();\n        this.charts = [];\n        this.options.legend = this.options.legend || {};\n        this.options.legend.data = [];\n        this.axes = [];\n        this.crosshairs = [];\n        this.chartService = chartService;\n        this.originalOptions = options;\n        this.originalSeries = series;\n        this._bindCache = new WeakMap();\n\n        this.createPanes();\n        this.render();\n        this.createCrosshairs();\n    }\n\n    if ( ChartElement ) PlotAreaBase.__proto__ = ChartElement;\n    PlotAreaBase.prototype = Object.create( ChartElement && ChartElement.prototype );\n    PlotAreaBase.prototype.constructor = PlotAreaBase;\n\n    PlotAreaBase.prototype.initFields = function initFields () { };\n\n    PlotAreaBase.prototype.initSeries = function initSeries () {\n        var series = this.series;\n\n        for (var i = 0; i < series.length; i++) {\n            series[i].index = i;\n        }\n    };\n\n    PlotAreaBase.prototype.bindPoint = function bindPoint (series, pointIx, item) {\n        var cached = this._bindCache.get(series);\n        if (!cached) {\n            cached = [];\n            this._bindCache.set(series, cached);\n        }\n\n        var data = cached[pointIx];\n        if (!data) {\n            data = cached[pointIx] = SeriesBinder.current.bindPoint(series, pointIx, item);\n        }\n\n        return data;\n    };\n\n    PlotAreaBase.prototype.createPanes = function createPanes () {\n        var this$1$1 = this;\n\n        var titleOptions = this.options.title || {};\n        var paneDefaults = this.options.paneDefaults;\n        var paneOptions = this.options.panes || [];\n        var panesLength = Math.max(paneOptions.length, 1);\n        var panes = [];\n\n        var defaults = deepExtend({\n            title: {\n                color: titleOptions.color\n            }\n        }, paneDefaults);\n\n        for (var i = 0; i < panesLength; i++) {\n            var options = deepExtend({}, defaults, paneOptions[i]);\n            if (isString$1(options.title)) {\n                options.title = deepExtend({ text: options.title }, defaults.title);\n            }\n\n            var currentPane = new Pane$1(options);\n            currentPane.paneIndex = i;\n\n            panes.push(currentPane);\n            this$1$1.append(currentPane);\n        }\n\n        this.panes = panes;\n    };\n\n    PlotAreaBase.prototype.crosshairOptions = function crosshairOptions (axis) {\n        return axis.options.crosshair;\n    };\n\n    PlotAreaBase.prototype.createCrosshairs = function createCrosshairs (panes) {\n        var this$1$1 = this;\n        if ( panes === void 0 ) panes = this.panes;\n\n        for (var i = 0; i < panes.length; i++) {\n            var pane = panes[i];\n            for (var j = 0; j < pane.axes.length; j++) {\n                var axis = pane.axes[j];\n                var options = this$1$1.crosshairOptions(axis);\n                if (options && options.visible) {\n                    var currentCrosshair = new Crosshair(this$1$1.chartService, axis, options);\n\n                    this$1$1.crosshairs.push(currentCrosshair);\n                    pane.content.append(currentCrosshair);\n                }\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.removeCrosshairs = function removeCrosshairs (pane) {\n        var crosshairs = this.crosshairs;\n        var axes = pane.axes;\n\n        for (var i = crosshairs.length - 1; i >= 0; i--) {\n            for (var j = 0; j < axes.length; j++) {\n                if (crosshairs[i].axis === axes[j]) {\n                    crosshairs.splice(i, 1);\n                    break;\n                }\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.hideCrosshairs = function hideCrosshairs () {\n        var crosshairs = this.crosshairs;\n        for (var idx = 0; idx < crosshairs.length; idx++) {\n            crosshairs[idx].hide();\n        }\n    };\n\n    PlotAreaBase.prototype.findPane = function findPane (name) {\n        var panes = this.panes;\n        var matchingPane;\n\n        for (var i = 0; i < panes.length; i++) {\n            if (panes[i].options.name === name) {\n                matchingPane = panes[i];\n                break;\n            }\n        }\n\n        return matchingPane || panes[0];\n    };\n\n    PlotAreaBase.prototype.findPointPane = function findPointPane (point) {\n        var panes = this.panes;\n        var matchingPane;\n\n        for (var i = 0; i < panes.length; i++) {\n            if (panes[i].box.containsPoint(point)) {\n                matchingPane = panes[i];\n                break;\n            }\n        }\n\n        return matchingPane;\n    };\n\n    PlotAreaBase.prototype.appendAxis = function appendAxis (axis) {\n        var pane = this.findPane(axis.options.pane);\n\n        pane.appendAxis(axis);\n        this.axes.push(axis);\n        axis.plotArea = this;\n    };\n\n    PlotAreaBase.prototype.removeAxis = function removeAxis (axisToRemove) {\n        var this$1$1 = this;\n\n        var filteredAxes = [];\n\n        for (var i = 0; i < this.axes.length; i++) {\n            var axis = this$1$1.axes[i];\n            if (axisToRemove !== axis) {\n                filteredAxes.push(axis);\n            } else {\n                axis.destroy();\n            }\n        }\n\n        this.axes = filteredAxes;\n    };\n\n    PlotAreaBase.prototype.appendChart = function appendChart (chart, pane) {\n        this.charts.push(chart);\n        if (pane) {\n            pane.appendChart(chart);\n        } else {\n            this.append(chart);\n        }\n    };\n\n    PlotAreaBase.prototype.removeChart = function removeChart (chartToRemove) {\n        var this$1$1 = this;\n\n        var filteredCharts = [];\n\n        for (var i = 0; i < this.charts.length; i++) {\n            var chart = this$1$1.charts[i];\n            if (chart !== chartToRemove) {\n                filteredCharts.push(chart);\n            } else {\n                chart.destroy();\n            }\n        }\n\n        this.charts = filteredCharts;\n    };\n\n    PlotAreaBase.prototype.addToLegend = function addToLegend (series) {\n        var count = series.length;\n        var legend = this.options.legend;\n        var labels = legend.labels || {};\n        var inactiveItems = legend.inactiveItems || {};\n        var inactiveItemsLabels = inactiveItems.labels || {};\n        var data = [];\n\n        for (var i = 0; i < count; i++) {\n            var currentSeries = series[i];\n            var seriesVisible = currentSeries.visible !== false;\n            if (currentSeries.visibleInLegend === false) {\n                continue;\n            }\n\n            var text = currentSeries.name;\n            var labelTemplate = seriesVisible ? getTemplate$1(labels) : getTemplate$1(inactiveItemsLabels) || getTemplate$1(labels);\n            if (labelTemplate) {\n                text = labelTemplate({\n                    text: hasValue$2(text) ? text : \"\",\n                    series: currentSeries\n                });\n            }\n\n            var defaults = currentSeries._defaults;\n            var color = currentSeries.color;\n            if (isFunction(color) && defaults) {\n                color = defaults.color;\n            }\n\n            var itemLabelOptions = (void 0), markerColor = (void 0);\n            if (seriesVisible) {\n                itemLabelOptions = {};\n                markerColor = color;\n            } else {\n                itemLabelOptions = {\n                    color: inactiveItemsLabels.color,\n                    font: inactiveItemsLabels.font\n                };\n                markerColor = inactiveItems.markers.color;\n            }\n\n            if (hasValue$2(text) && text !== \"\") {\n                data.push({\n                    text: text,\n                    labels: itemLabelOptions,\n                    markerColor: markerColor,\n                    series: currentSeries,\n                    active: seriesVisible\n                });\n            }\n        }\n\n        append(legend.data, data);\n    };\n\n    PlotAreaBase.prototype.groupAxes = function groupAxes (panes) {\n        var xAxes = [];\n        var yAxes = [];\n\n        for (var paneIx = 0; paneIx < panes.length; paneIx++) {\n            var paneAxes = panes[paneIx].axes;\n            for (var axisIx = 0; axisIx < paneAxes.length; axisIx++) {\n                var axis = paneAxes[axisIx];\n                if (axis.options.vertical) {\n                    yAxes.push(axis);\n                } else {\n                    xAxes.push(axis);\n                }\n            }\n        }\n\n        return { x: xAxes, y: yAxes, any: xAxes.concat(yAxes) };\n    };\n\n    PlotAreaBase.prototype.groupSeriesByPane = function groupSeriesByPane () {\n        var this$1$1 = this;\n\n        var series = this.series;\n        var seriesByPane = {};\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n            var pane = this$1$1.seriesPaneName(currentSeries);\n\n            if (seriesByPane[pane]) {\n                seriesByPane[pane].push(currentSeries);\n            } else {\n                seriesByPane[pane] = [ currentSeries ];\n            }\n        }\n\n        return seriesByPane;\n    };\n\n    PlotAreaBase.prototype.filterVisibleSeries = function filterVisibleSeries (series) {\n        var result = [];\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n            if (currentSeries.visible !== false) {\n                result.push(currentSeries);\n            }\n        }\n\n        return result;\n    };\n\n    PlotAreaBase.prototype.reflow = function reflow (targetBox) {\n        var options = this.options.plotArea;\n        var panes = this.panes;\n        var margin = getSpacing(options.margin);\n\n        this.box = targetBox.clone().unpad(margin);\n        this.reflowPanes();\n\n        this.detachLabels();\n        this.reflowAxes(panes);\n        this.reflowCharts(panes);\n    };\n\n    PlotAreaBase.prototype.redraw = function redraw (panes) {\n        var this$1$1 = this;\n\n        var panesArray = [].concat(panes);\n        this.initSeries();\n\n        //prevents leak during partial redraws. the cached gradients observers retain reference to the destroyed elements.\n        var root = this.getRoot();\n        if (root) {\n            root.cleanGradients();\n        }\n\n        for (var i = 0; i < panesArray.length; i++) {\n            this$1$1.removeCrosshairs(panesArray[i]);\n            panesArray[i].empty();\n        }\n\n        this._bindCache = new WeakMap();\n\n        this.render(panesArray);\n        this.detachLabels();\n        this.reflowAxes(this.panes);\n        this.reflowCharts(panesArray);\n\n        this.createCrosshairs(panesArray);\n\n        for (var i$1 = 0; i$1 < panesArray.length; i$1++) {\n            panesArray[i$1].refresh();\n        }\n    };\n\n    PlotAreaBase.prototype.axisCrossingValues = function axisCrossingValues (axis, crossingAxes) {\n        var options = axis.options;\n        var crossingValues = [].concat(\n            options.axisCrossingValues || options.axisCrossingValue\n        );\n        var valuesToAdd = crossingAxes.length - crossingValues.length;\n        var defaultValue = crossingValues[0] || 0;\n\n        for (var i = 0; i < valuesToAdd; i++) {\n            crossingValues.push(defaultValue);\n        }\n\n        return crossingValues;\n    };\n\n    PlotAreaBase.prototype.alignAxisTo = function alignAxisTo (axis, targetAxis, crossingValue, targetCrossingValue) {\n        var slot = axis.getSlot(crossingValue, crossingValue, true);\n        var slotEdge = axis.options.reverse ? 2 : 1;\n        var targetSlot = targetAxis.getSlot(targetCrossingValue, targetCrossingValue, true);\n        var targetEdge = targetAxis.options.reverse ? 2 : 1;\n        var axisBox = axis.box.translate(\n            targetSlot[X + targetEdge] - slot[X + slotEdge],\n            targetSlot[Y + targetEdge] - slot[Y + slotEdge]\n        );\n\n        if (axis.pane !== targetAxis.pane) {\n            axisBox.translate(0, axis.pane.box.y1 - targetAxis.pane.box.y1);\n        }\n\n        axis.reflow(axisBox);\n    };\n\n    PlotAreaBase.prototype.alignAxes = function alignAxes (xAxes, yAxes) {\n        var this$1$1 = this;\n\n        var xAnchor = xAxes[0];\n        var yAnchor = yAxes[0];\n        var xAnchorCrossings = this.axisCrossingValues(xAnchor, yAxes);\n        var yAnchorCrossings = this.axisCrossingValues(yAnchor, xAxes);\n        var leftAnchors = {};\n        var rightAnchors = {};\n        var topAnchors = {};\n        var bottomAnchors = {};\n\n        for (var i = 0; i < yAxes.length; i++) {\n            var axis = yAxes[i];\n            var pane = axis.pane;\n            var paneId = pane.id;\n            var visible = axis.options.visible !== false;\n\n            // Locate pane anchor, if any, and use its axisCrossingValues\n            var anchor = paneAnchor(xAxes, pane) || xAnchor;\n            var anchorCrossings = xAnchorCrossings;\n\n            if (anchor !== xAnchor) {\n                anchorCrossings = this$1$1.axisCrossingValues(anchor, yAxes);\n            }\n\n            this$1$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);\n\n            if (axis.options._overlap) {\n                continue;\n            }\n\n            if (round$1(axis.lineBox().x1) === round$1(anchor.lineBox().x1)) {\n                // Push the axis to the left the previous y-axis so they don't overlap\n                if (leftAnchors[paneId]) {\n                    axis.reflow(axis.box\n                        .alignTo(leftAnchors[paneId].box, LEFT)\n                        .translate(-axis.options.margin, 0)\n                    );\n                }\n\n                if (visible) {\n                    leftAnchors[paneId] = axis;\n                }\n            }\n\n            if (round$1(axis.lineBox().x2) === round$1(anchor.lineBox().x2)) {\n                // Flip the labels on the right if we're at the right end of the pane\n                if (!axis._mirrored) {\n                    axis.options.labels.mirror = !axis.options.labels.mirror;\n                    axis._mirrored = true;\n                }\n\n                this$1$1.alignAxisTo(axis, anchor, yAnchorCrossings[i], anchorCrossings[i]);\n\n                // Push the axis to the right the previous y-axis so they don't overlap\n                if (rightAnchors[paneId]) {\n                    axis.reflow(axis.box\n                        .alignTo(rightAnchors[paneId].box, RIGHT)\n                        .translate(axis.options.margin, 0)\n                    );\n                }\n\n                if (visible) {\n                    rightAnchors[paneId] = axis;\n                }\n            }\n\n            // Locate pane anchor, if any, and align the axis to it\n            var paneYAnchor = paneAnchor(yAxes, pane) || yAnchor;\n            if (paneYAnchor !== axis) {\n                axis.alignTo(paneYAnchor);\n                axis.reflow(axis.box);\n            }\n        }\n\n        for (var i$1 = 0; i$1 < xAxes.length; i$1++) {\n            var axis$1 = xAxes[i$1];\n            var pane$1 = axis$1.pane;\n            var paneId$1 = pane$1.id;\n            var visible$1 = axis$1.options.visible !== false;\n\n            // Locate pane anchor and use its axisCrossingValues\n            var anchor$1 = paneAnchor(yAxes, pane$1) || yAnchor;\n            var anchorCrossings$1 = yAnchorCrossings;\n            if (anchor$1 !== yAnchor) {\n                anchorCrossings$1 = this$1$1.axisCrossingValues(anchor$1, xAxes);\n            }\n\n            this$1$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);\n\n            if (axis$1.options._overlap) {\n                continue;\n            }\n\n            if (round$1(axis$1.lineBox().y1) === round$1(anchor$1.lineBox().y1)) {\n                // Flip the labels on top if we're at the top of the pane\n                if (!axis$1._mirrored) {\n                    axis$1.options.labels.mirror = !axis$1.options.labels.mirror;\n                    axis$1._mirrored = true;\n                }\n                this$1$1.alignAxisTo(axis$1, anchor$1, xAnchorCrossings[i$1], anchorCrossings$1[i$1]);\n\n                // Push the axis above the previous x-axis so they don't overlap\n                if (topAnchors[paneId$1]) {\n                    axis$1.reflow(axis$1.box\n                        .alignTo(topAnchors[paneId$1].box, TOP)\n                        .translate(0, -axis$1.options.margin)\n                    );\n                }\n\n                if (visible$1) {\n                    topAnchors[paneId$1] = axis$1;\n                }\n            }\n\n            if (round$1(axis$1.lineBox().y2, COORD_PRECISION) === round$1(anchor$1.lineBox().y2, COORD_PRECISION)) {\n                // Push the axis below the previous x-axis so they don't overlap\n                if (bottomAnchors[paneId$1]) {\n                    axis$1.reflow(axis$1.box\n                        .alignTo(bottomAnchors[paneId$1].box, BOTTOM$1)\n                        .translate(0, axis$1.options.margin)\n                    );\n                }\n\n                if (visible$1) {\n                    bottomAnchors[paneId$1] = axis$1;\n                }\n            }\n\n            if (i$1 !== 0) {\n                axis$1.alignTo(xAnchor);\n                axis$1.reflow(axis$1.box);\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.shrinkAxisWidth = function shrinkAxisWidth (panes) {\n        var axes = this.groupAxes(panes).any;\n        var axisBox = axisGroupBox(axes);\n        var overflowX = 0;\n\n        for (var i = 0; i < panes.length; i++) {\n            var currentPane = panes[i];\n\n            if (currentPane.axes.length > 0) {\n                overflowX = Math.max(\n                    overflowX,\n                    axisBox.width() - currentPane.contentBox.width()\n                );\n            }\n        }\n\n        if (overflowX !== 0) {\n            for (var i$1 = 0; i$1 < axes.length; i$1++) {\n                var currentAxis = axes[i$1];\n\n                if (!currentAxis.options.vertical) {\n                    currentAxis.reflow(currentAxis.box.shrink(overflowX, 0));\n                }\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.shrinkAxisHeight = function shrinkAxisHeight (panes) {\n        var shrinked;\n\n        for (var i = 0; i < panes.length; i++) {\n            var currentPane = panes[i];\n            var axes = currentPane.axes;\n            var overflowY = Math.max(0, axisGroupBox(axes).height() - currentPane.contentBox.height());\n\n            if (overflowY !== 0) {\n                for (var j = 0; j < axes.length; j++) {\n                    var currentAxis = axes[j];\n\n                    if (currentAxis.options.vertical) {\n                        currentAxis.reflow(\n                            currentAxis.box.shrink(0, overflowY)\n                        );\n                    }\n                }\n                shrinked = true;\n            }\n        }\n\n        return shrinked;\n    };\n\n    PlotAreaBase.prototype.fitAxes = function fitAxes (panes) {\n        var axes = this.groupAxes(panes).any;\n        var offsetX = 0;\n\n        for (var i = 0; i < panes.length; i++) {\n            var currentPane = panes[i];\n            var paneAxes = currentPane.axes;\n            var paneBox = currentPane.contentBox;\n\n            if (paneAxes.length > 0) {\n                var axisBox = axisGroupBox(paneAxes);\n                // OffsetY is calculated and applied per pane\n                var offsetY = Math.max(paneBox.y1 - axisBox.y1, paneBox.y2 - axisBox.y2);\n\n                // OffsetX is calculated and applied globally\n                offsetX = Math.max(offsetX, paneBox.x1 - axisBox.x1);\n\n\n                for (var j = 0; j < paneAxes.length; j++) {\n                    var currentAxis = paneAxes[j];\n\n                    currentAxis.reflow(\n                        currentAxis.box.translate(0, offsetY)\n                    );\n                }\n            }\n        }\n\n        for (var i$1 = 0; i$1 < axes.length; i$1++) {\n            var currentAxis$1 = axes[i$1];\n\n            currentAxis$1.reflow(\n                currentAxis$1.box.translate(offsetX, 0)\n            );\n        }\n    };\n\n    PlotAreaBase.prototype.reflowAxes = function reflowAxes (panes) {\n        var this$1$1 = this;\n\n        var axes = this.groupAxes(panes);\n\n        for (var i = 0; i < panes.length; i++) {\n            this$1$1.reflowPaneAxes(panes[i]);\n        }\n\n        if (axes.x.length > 0 && axes.y.length > 0) {\n            this.alignAxes(axes.x, axes.y);\n            this.shrinkAxisWidth(panes);\n\n            this.autoRotateAxisLabels(axes);\n\n            this.alignAxes(axes.x, axes.y);\n            if (this.shrinkAxisWidth(panes)) {\n                this.alignAxes(axes.x, axes.y);\n            }\n\n            this.shrinkAxisHeight(panes);\n            this.alignAxes(axes.x, axes.y);\n\n            if (this.shrinkAxisHeight(panes)) {\n                this.alignAxes(axes.x, axes.y);\n            }\n\n            this.fitAxes(panes);\n        }\n    };\n\n    PlotAreaBase.prototype.autoRotateAxisLabels = function autoRotateAxisLabels (groupedAxes) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var panes = ref.panes;\n        var axes = allPaneAxes(panes);\n        var rotated;\n\n        for (var idx = 0; idx < axes.length; idx++) {\n            var axis = axes[idx];\n            if (axis.autoRotateLabels()) {\n                rotated = true;\n            }\n        }\n\n        if (rotated) {\n            for (var idx$1 = 0; idx$1 < panes.length; idx$1++) {\n                this$1$1.reflowPaneAxes(panes[idx$1]);\n            }\n\n            if (groupedAxes.x.length > 0 && groupedAxes.y.length > 0) {\n                this.alignAxes(groupedAxes.x, groupedAxes.y);\n                this.shrinkAxisWidth(panes);\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.reflowPaneAxes = function reflowPaneAxes (pane) {\n        var axes = pane.axes;\n        var length = axes.length;\n\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                axes[i].reflow(pane.contentBox);\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.reflowCharts = function reflowCharts (panes) {\n        var charts = this.charts;\n        var count = charts.length;\n        var box = this.box;\n\n        for (var i = 0; i < count; i++) {\n            var chartPane = charts[i].pane;\n            if (!chartPane || inArray(chartPane, panes)) {\n                charts[i].reflow(box);\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.reflowPanes = function reflowPanes () {\n        var ref = this;\n        var box = ref.box;\n        var panes = ref.panes;\n        var panesLength = panes.length;\n        var remainingHeight = box.height();\n        var autoHeightPanes = 0;\n        var top = box.y1;\n\n        for (var i = 0; i < panesLength; i++) {\n            var currentPane = panes[i];\n            var height = currentPane.options.height;\n\n            currentPane.options.width = box.width();\n\n            if (!currentPane.options.height) {\n                autoHeightPanes++;\n            } else {\n                if (height.indexOf && height.indexOf(\"%\")) {\n                    var percents = parseInt(height, 10) / 100;\n                    currentPane.options.height = percents * box.height();\n                }\n\n                currentPane.reflow(box.clone());\n\n                remainingHeight -= currentPane.options.height;\n            }\n        }\n\n        for (var i$1 = 0; i$1 < panesLength; i$1++) {\n            var currentPane$1 = panes[i$1];\n\n            if (!currentPane$1.options.height) {\n                currentPane$1.options.height = remainingHeight / autoHeightPanes;\n            }\n        }\n\n        for (var i$2 = 0; i$2 < panesLength; i$2++) {\n            var currentPane$2 = panes[i$2];\n            var paneBox = box\n                .clone()\n                .move(box.x1, top);\n\n            currentPane$2.reflow(paneBox);\n\n            top += currentPane$2.options.height;\n        }\n    };\n\n    PlotAreaBase.prototype.backgroundBox = function backgroundBox () {\n        var axes = this.axes;\n        var axesCount = axes.length;\n        var box;\n\n        for (var i = 0; i < axesCount; i++) {\n            var axisA = axes[i];\n\n            for (var j = 0; j < axesCount; j++) {\n                var axisB = axes[j];\n\n                if (axisA.options.vertical !== axisB.options.vertical) {\n                    var lineBox = axisA.lineBox().clone().wrap(axisB.lineBox());\n\n                    if (!box) {\n                        box = lineBox;\n                    } else {\n                        box = box.wrap(lineBox);\n                    }\n                }\n            }\n        }\n\n        return box || this.box;\n    };\n\n    PlotAreaBase.prototype.chartsBoxes = function chartsBoxes () {\n        var panes = this.panes;\n        var boxes = [];\n\n        for (var idx = 0; idx < panes.length; idx++) {\n            boxes.push(panes[idx].chartsBox());\n        }\n\n        return boxes;\n    };\n\n    PlotAreaBase.prototype.addBackgroundPaths = function addBackgroundPaths (multipath) {\n        var boxes = this.chartsBoxes();\n        for (var idx = 0; idx < boxes.length; idx++) {\n            multipath.paths.push(Path$7.fromRect(boxes[idx].toRect()));\n        }\n    };\n\n    PlotAreaBase.prototype.backgroundContainsPoint = function backgroundContainsPoint (point) {\n        var boxes = this.chartsBoxes();\n        for (var idx = 0; idx < boxes.length; idx++) {\n            if (boxes[idx].containsPoint(point)) {\n                return true;\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        var options = this.options.plotArea;\n        var opacity = options.opacity;\n        var background = options.background;\n        var border = options.border; if ( border === void 0 ) border = {};\n        if (isTransparent(background)) {\n            background = WHITE$1;\n            opacity = 0;\n        }\n\n        var bg = this._bgVisual = new MultiPath({\n            fill: {\n                color: background,\n                opacity: opacity\n            },\n            stroke: {\n                color: border.width ? border.color : \"\",\n                width: border.width,\n                dashType: border.dashType\n            },\n            zIndex: -1\n        });\n\n        this.addBackgroundPaths(bg);\n\n        this.appendVisual(bg);\n    };\n\n    PlotAreaBase.prototype.pointsByCategoryIndex = function pointsByCategoryIndex (categoryIndex) {\n        var charts = this.charts;\n        var result = [];\n\n        if (categoryIndex !== null) {\n            for (var i = 0; i < charts.length; i++) {\n                var chart = charts[i];\n\n                if (chart.pane.options.name === \"_navigator\") {\n                    continue;\n                }\n\n                var points = charts[i].categoryPoints[categoryIndex];\n                if (points && points.length) {\n                    for (var j = 0; j < points.length; j++) {\n                        var point = points[j];\n                        if (point && defined(point.value) && point.value !== null) {\n                            result.push(point);\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n\n    PlotAreaBase.prototype.pointsBySeriesIndex = function pointsBySeriesIndex (seriesIndex) {\n        return this.filterPoints(function(point) {\n            return point.series.index === seriesIndex;\n        });\n    };\n\n    PlotAreaBase.prototype.pointsByPointIndex = function pointsByPointIndex (pointIndex) {\n        return this.filterPoints(function(point) {\n            return point.getIndex() === pointIndex;\n        });\n    };\n\n    PlotAreaBase.prototype.pointsBySeriesName = function pointsBySeriesName (name) {\n        return this.filterPoints(function(point) {\n            return point.series.name === name;\n        });\n    };\n\n    PlotAreaBase.prototype.filterPoints = function filterPoints (callback) {\n        var charts = this.charts;\n        var result = [];\n\n        for (var i = 0; i < charts.length; i++) {\n            var chart = charts[i];\n            var points = chart.points;\n            for (var j = 0; j < points.length; j++) {\n                var point = points[j];\n                if (point && point.visible !== false && callback(point)) {\n                    result.push(point);\n                }\n            }\n        }\n\n        return result;\n    };\n\n    PlotAreaBase.prototype.findPoint = function findPoint (callback) {\n        var charts = this.charts;\n\n        for (var i = 0; i < charts.length; i++) {\n            var chart = charts[i];\n            var points = chart.points;\n            for (var j = 0; j < points.length; j++) {\n                var point = points[j];\n                if (point && point.visible !== false && callback(point)) {\n                    return point;\n                }\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.paneByPoint = function paneByPoint (point) {\n        var panes = this.panes;\n\n        for (var i = 0; i < panes.length; i++) {\n            var pane = panes[i];\n            if (pane.box.containsPoint(point)) {\n                return pane;\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.detachLabels = function detachLabels () {\n        var axes = this.groupAxes(this.panes);\n        var xAxes = axes.x;\n        var yAxes = axes.y;\n\n        this.detachAxisGroupLabels(yAxes, xAxes);\n        this.detachAxisGroupLabels(xAxes, yAxes);\n    };\n\n    PlotAreaBase.prototype.detachAxisGroupLabels = function detachAxisGroupLabels (axes, crossingAxes) {\n        var this$1$1 = this;\n\n        var labelAxisCount = 0;\n\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i];\n            var pane = axis.pane;\n            var anchor = paneAnchor(crossingAxes, pane) || crossingAxes[0];\n            var axisIndex = i + labelAxisCount;\n            var labelAxis = this$1$1.createLabelAxis(axis, axisIndex, anchor);\n\n            if (labelAxis) {\n                labelAxisCount++;\n\n                var pos = pane.axes.indexOf(axis) + labelAxisCount;\n                pane.appendAxisAt(labelAxis, pos);\n            }\n        }\n    };\n\n    PlotAreaBase.prototype.createLabelAxis = function createLabelAxis (axis, axisIndex, anchor) {\n        var labelOptions = axis.options.labels;\n        var position = labelOptions.position;\n        var onAxis = position !== END$1 && position !== START$1;\n        var visible = labelOptions.visible;\n\n        if (onAxis || visible === false) {\n            return null;\n        }\n\n        var allAxes = this.groupAxes(this.panes);\n        var crossingAxes = anchor.options.vertical ? allAxes.x : allAxes.y;\n        var anchorCrossings = this.axisCrossingValues(anchor, crossingAxes);\n        var end = position === END$1;\n        var range = anchor.range();\n        var edge = end ? range.max : range.min;\n        var crossingValue = limitValue(anchorCrossings[axisIndex], range.min, range.max);\n\n        if (crossingValue - edge === 0) {\n            return null;\n        }\n\n        anchorCrossings.splice(axisIndex + 1, 0, edge);\n        anchor.options.axisCrossingValues = anchorCrossings;\n\n        var labelAxis = axis.clone();\n        axis.clear();\n\n        labelAxis.options.name = undefined;\n        labelAxis.options.line.visible = false;\n\n        labelAxis.options.crosshair = undefined;\n        labelAxis.options.notes = undefined;\n        labelAxis.options.plotBands = undefined;\n\n        return labelAxis;\n    };\n\n    PlotAreaBase.prototype.isTrendline = function isTrendline (series) {\n        return series && inArray(series.type, TRENDLINE_SERIES);\n    };\n\n    PlotAreaBase.prototype.trendlineFactory = function trendlineFactory () { /* abstract */ };\n\n    PlotAreaBase.prototype.createTrendlineSeries = function createTrendlineSeries () {\n        var this$1$1 = this;\n\n        var modifiedSeries = [];\n\n        this.series = this.series.map(function (series) {\n            if (!this$1$1.isTrendline(series)) {\n                return series;\n            }\n\n            var forSeries = this$1$1.seriesByName(series.for);\n            if (!forSeries) {\n                throw new Error('Invalid Configuration: Unable to locate linked series ' +\n                    \"\\\"\" + (series.for) + \"\\\" for trendline \\\"\" + (series.name) + \"\\\".\");\n            }\n\n            var valueFields = SeriesBinder.current.valueFields(forSeries);\n            var field = last(valueFields); // Use the last field for multi-field series\n\n            var trendlineSeries = this$1$1.trendlineFactory(Object.assign({}, {field: field}, series), forSeries);\n            if (trendlineSeries) {\n                if (forSeries.visible === false) {\n                    trendlineSeries.visible = false;\n                }\n\n                if (trendlineSeries.color === INHERIT) {\n                    trendlineSeries.color = forSeries.color;\n                }\n\n                modifiedSeries.push(trendlineSeries);\n            }\n\n            return trendlineSeries;\n        }).filter(function (series) { return series !== null; });\n\n        return modifiedSeries;\n    };\n\n    PlotAreaBase.prototype.seriesByName = function seriesByName (name) {\n        return this.series.find(function (series) { return series.name === name; });\n    };\n\n    PlotAreaBase.prototype.getFirstPoint = function getFirstPoint () {\n        return this.pointsBySeriesIndex(0)[0];\n    };\n\n    PlotAreaBase.prototype.getPointBelow = function getPointBelow (point) {\n        return this._getNextPoint(point, this._pointsByVertical, 1);\n    };\n\n    PlotAreaBase.prototype.getPointAbove = function getPointAbove (point) {\n        return this._getNextPoint(point, this._pointsByVertical, -1);\n    };\n\n    PlotAreaBase.prototype.getPointToTheRight = function getPointToTheRight (point) {\n        return this._getNextPoint(point, this._pointsByHorizontal, 1);\n    };\n\n    PlotAreaBase.prototype.getPointToTheLeft = function getPointToTheLeft (point) {\n        return this._getNextPoint(point, this._pointsByHorizontal, -1);\n    };\n\n    PlotAreaBase.prototype._getNextPoint = function _getNextPoint (point, getPointsFunc, increment) {\n        var this$1$1 = this;\n\n        var points = getPointsFunc.call(this, point);\n        var pointIndex = points.indexOf(point);\n        var nextIndex = pointIndex + increment;\n        var loopPoints = function (direction) {\n            // loop over to last non-empty collection\n            var result;\n            var offset = 0;\n            do {\n                offset += direction;\n                result = getPointsFunc.call(this$1$1, point, offset);\n            } while (result.length === 0);\n\n            return result;\n        };\n\n        if (nextIndex < 0) {\n            points = loopPoints(-1);\n\n            return points.at(-1);\n        } else if (nextIndex >= points.length) {\n            points = loopPoints(1);\n\n            return points.at(0);\n        }\n\n        return points[nextIndex];\n    };\n\n    PlotAreaBase.prototype._pointsByVertical = function _pointsByVertical (basePoint) {\n        return this.pointsByPointIndex(basePoint.getIndex());\n    };\n\n    PlotAreaBase.prototype._pointsByHorizontal = function _pointsByHorizontal (basePoint, offset) {\n        if ( offset === void 0 ) offset = 0;\n\n        var index = cycleIndex(basePoint.series.index + offset, this.series.length);\n        return this.pointsBySeriesIndex(index);\n    };\n\n    return PlotAreaBase;\n}(ChartElement));\n\nfunction isSingleAxis(axis) {\n    return !axis.pane.axes.some(function (a) { return a.options.vertical === axis.options.vertical && a !== axis && a.options.visible !== false; }\n    );\n}\n\nfunction axisGroupBox(axes) {\n    var length = axes.length;\n    var box;\n\n    for (var i = 0; i < length; i++) {\n        var axis = axes[i];\n        var visible = axis.options.visible !== false;\n        if (visible || isSingleAxis(axis)) {\n            var axisBox = visible ? axis.contentBox() : axis.lineBox();\n\n            if (!box) {\n                box = axisBox.clone();\n            } else {\n                box.wrap(axisBox);\n            }\n        }\n    }\n\n    return box || new Box();\n}\n\nfunction paneAnchor(axes, pane) {\n    for (var i = 0; i < axes.length; i++) {\n        var anchor = axes[i];\n        if (anchor && anchor.pane === pane) {\n            return anchor;\n        }\n    }\n}\n\nfunction isTransparent(color) {\n    return color === \"\" || color === null || color === \"none\" || color === \"transparent\" || !defined(color);\n}\n\nvar allPaneAxes = function (panes) { return panes.reduce(function (acc, pane) { return acc.concat(pane.axes); }, []); };\n\nsetDefaultOptions(PlotAreaBase, {\n    series: [],\n    plotArea: {\n        margin: {}\n    },\n    background: \"\",\n    border: {\n        color: BLACK$1,\n        width: 0\n    },\n    paneDefaults: {\n        title: {}\n    },\n    legend: {\n        inactiveItems: {\n            labels: {\n                color: \"#919191\"\n            },\n            markers: {\n                color: \"#919191\"\n            }\n        }\n    }\n});\n\nvar PlotAreaEventsMixin = {\n    hover: function(chart, e) {\n        this._dispatchEvent(chart, e, PLOT_AREA_HOVER);\n    },\n\n    click: function(chart, e) {\n        this._dispatchEvent(chart, e, PLOT_AREA_CLICK);\n    }\n};\n\nvar SeriesAggregator = (function (Class) {\n    function SeriesAggregator(series, binder, defaultAggregates) {\n        Class.call(this);\n\n        var canonicalFields = binder.canonicalFields(series);\n        var valueFields = binder.valueFields(series);\n        var sourceFields = binder.sourceFields(series, canonicalFields);\n        var seriesFields = this._seriesFields = [];\n        var defaults = defaultAggregates.query(series.type);\n        var rootAggregate = series.aggregate || defaults;\n\n        this._series = series;\n        this._binder = binder;\n\n        for (var i = 0; i < canonicalFields.length; i++) {\n            var field = canonicalFields[i];\n            var fieldAggregate = (void 0);\n\n            if (isObject(rootAggregate)) {\n                fieldAggregate = rootAggregate[field];\n            } else if (i === 0 || inArray(field, valueFields)) {\n                fieldAggregate = rootAggregate;\n            } else {\n                break;\n            }\n\n            if (fieldAggregate) {\n                seriesFields.push({\n                    canonicalName: field,\n                    name: sourceFields[i],\n                    transform: isFunction(fieldAggregate) ? fieldAggregate : Aggregates[fieldAggregate]\n                });\n            }\n        }\n    }\n\n    if ( Class ) SeriesAggregator.__proto__ = Class;\n    SeriesAggregator.prototype = Object.create( Class && Class.prototype );\n    SeriesAggregator.prototype.constructor = SeriesAggregator;\n\n    SeriesAggregator.prototype.aggregatePoints = function aggregatePoints (srcPoints, group) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var series = ref._series;\n        var seriesFields = ref._seriesFields;\n        var data = this._bindPoints(srcPoints || []);\n        var firstDataItem = data.dataItems[0];\n        var result = {};\n\n        if (firstDataItem && !isNumber(firstDataItem) && !isArray(firstDataItem)) {\n            var fn = function() {};\n            fn.prototype = firstDataItem;\n            result = new fn();\n        }\n\n        for (var i = 0; i < seriesFields.length; i++) {\n            var field = seriesFields[i];\n            var srcValues = this$1$1._bindField(data.values, field.canonicalName);\n            var value = field.transform(srcValues, series, data.dataItems, group);\n\n            if (value !== null && isObject(value) && !defined(value.length) && !(value instanceof Date)) {\n                result = value;\n                break;\n            } else {\n                if (defined(value)) {\n                    setValue(field.name, result, value);\n                }\n            }\n        }\n\n        return result;\n    };\n\n    SeriesAggregator.prototype._bindPoints = function _bindPoints (points) {\n        var ref = this;\n        var binder = ref._binder;\n        var series = ref._series;\n        var values = [];\n        var dataItems = [];\n\n        for (var i = 0; i < points.length; i++) {\n            var pointIx = points[i];\n\n            values.push(binder.bindPoint(series, pointIx));\n            dataItems.push(series.data[pointIx]);\n        }\n\n        return {\n            values: values,\n            dataItems: dataItems\n        };\n    };\n\n    SeriesAggregator.prototype._bindField = function _bindField (data, field) {\n        var values = [];\n        var count = data.length;\n\n        for (var i = 0; i < count; i++) {\n            var item = data[i];\n            var valueFields = item.valueFields;\n            var value = (void 0);\n\n            if (defined(valueFields[field])) {\n                value = valueFields[field];\n            } else {\n                value = item.fields[field];\n            }\n\n            values.push(value);\n        }\n\n        return values;\n    };\n\n    return SeriesAggregator;\n}(Class));\n\nfunction setValue(fieldName, target, value) {\n    var parentObj = target;\n    var field = fieldName;\n\n    if (fieldName.indexOf(\".\") > -1) {\n        var parts = fieldName.split(\".\");\n\n        while (parts.length > 1) {\n            field = parts.shift();\n            if (!defined(parentObj[field])) {\n                parentObj[field] = {};\n            }\n            parentObj = parentObj[field];\n        }\n        field = parts.shift();\n    }\n\n    parentObj[field] = value;\n}\n\nvar DefaultAggregates = (function (Class) {\n    function DefaultAggregates() {\n        Class.call(this);\n\n        this._defaults = {};\n    }\n\n    if ( Class ) DefaultAggregates.__proto__ = Class;\n    DefaultAggregates.prototype = Object.create( Class && Class.prototype );\n    DefaultAggregates.prototype.constructor = DefaultAggregates;\n\n    DefaultAggregates.prototype.register = function register (seriesTypes, aggregates) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < seriesTypes.length; i++) {\n            this$1$1._defaults[seriesTypes[i]] = aggregates;\n        }\n    };\n\n    DefaultAggregates.prototype.query = function query (seriesType) {\n        return this._defaults[seriesType];\n    };\n\n    return DefaultAggregates;\n}(Class));\n\nDefaultAggregates.current = new DefaultAggregates();\n\nvar RangeBar = (function (Bar) {\n    function RangeBar () {\n        Bar.apply(this, arguments);\n    }\n\n    if ( Bar ) RangeBar.__proto__ = Bar;\n    RangeBar.prototype = Object.create( Bar && Bar.prototype );\n    RangeBar.prototype.constructor = RangeBar;\n\n    RangeBar.prototype.createLabel = function createLabel () {\n        var labels = this.options.labels;\n        var fromOptions = deepExtend({}, labels, labels.from);\n        var toOptions = deepExtend({}, labels, labels.to);\n\n        if (fromOptions.visible) {\n            this.labelFrom = this.createLabelElement(fromOptions);\n            this.append(this.labelFrom);\n        }\n\n        if (toOptions.visible) {\n            this.labelTo = this.createLabelElement(toOptions);\n            this.append(this.labelTo);\n        }\n    };\n\n    RangeBar.prototype.reflow = function reflow (targetBox) {\n        this.render();\n\n        var ref = this;\n        var labelFrom = ref.labelFrom;\n        var labelTo = ref.labelTo;\n        var value = ref.value;\n\n        this.box = targetBox;\n\n        if (labelFrom) {\n            labelFrom.options.aboveAxis = value.from > value.to;\n            labelFrom.reflow(targetBox);\n        }\n\n        if (labelTo) {\n            labelTo.options.aboveAxis = value.to > value.from;\n            labelTo.reflow(targetBox);\n        }\n\n        if (this.note) {\n            this.note.reflow(targetBox);\n        }\n    };\n\n    return RangeBar;\n}(Bar));\n\nRangeBar.prototype.defaults = deepExtend({}, RangeBar.prototype.defaults, {\n    labels: {\n        format: \"{0} - {1}\"\n    },\n    tooltip: {\n        format: \"{1}\"\n    }\n});\n\nvar RangeBarChart = (function (BarChart) {\n    function RangeBarChart () {\n        BarChart.apply(this, arguments);\n    }\n\n    if ( BarChart ) RangeBarChart.__proto__ = BarChart;\n    RangeBarChart.prototype = Object.create( BarChart && BarChart.prototype );\n    RangeBarChart.prototype.constructor = RangeBarChart;\n\n    RangeBarChart.prototype.pointType = function pointType () {\n        return RangeBar;\n    };\n\n    RangeBarChart.prototype.pointValue = function pointValue (data) {\n        return data.valueFields;\n    };\n\n    RangeBarChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        if (point.value.from === null && point.value.to === null) {\n            return \"\";\n        }\n\n        return this.chartService.format.auto(format, point.value.from, point.value.to);\n    };\n\n    RangeBarChart.prototype.plotRange = function plotRange (point) {\n        if (!point) {\n            return 0;\n        }\n\n        return [ point.value.from, point.value.to ];\n    };\n\n    RangeBarChart.prototype.updateRange = function updateRange (value, fields) {\n        var axisName = fields.series.axis;\n        var from = value.from;\n        var to = value.to;\n        var axisRange = this.valueAxisRanges[axisName];\n\n        if (value !== null && isNumber(from) && isNumber(to)) {\n            axisRange = this.valueAxisRanges[axisName] = axisRange || { min: MAX_VALUE, max: MIN_VALUE };\n\n            axisRange.min = Math.min(axisRange.min, from);\n            axisRange.max = Math.max(axisRange.max, from);\n\n            axisRange.min = Math.min(axisRange.min, to);\n            axisRange.max = Math.max(axisRange.max, to);\n        }\n    };\n\n    RangeBarChart.prototype.aboveAxis = function aboveAxis (point) {\n        var value = point.value;\n        return value.from < value.to;\n    };\n\n    return RangeBarChart;\n}(BarChart));\n\nRangeBarChart.prototype.plotLimits = CategoricalChart.prototype.plotLimits;\n\nvar RangeLinePoint = (function (LinePoint) {\n    function RangeLinePoint () {\n        LinePoint.apply(this, arguments);\n    }\n\n    if ( LinePoint ) RangeLinePoint.__proto__ = LinePoint;\n    RangeLinePoint.prototype = Object.create( LinePoint && LinePoint.prototype );\n    RangeLinePoint.prototype.constructor = RangeLinePoint;\n\n    RangeLinePoint.prototype.aliasFor = function aliasFor () {\n        return this.parent;\n    };\n\n    return RangeLinePoint;\n}(LinePoint));\n\nvar AUTO = 'auto';\nvar DEFAULT_FROM_FORMAT = '{0}';\nvar DEFAULT_TO_FORMAT = '{1}';\n\nvar RangeAreaPoint = (function (ChartElement) {\n    function RangeAreaPoint(value, options) {\n        ChartElement.call(this);\n\n        this.value = value;\n        this.options = options;\n        this.aboveAxis = valueOrDefault(this.options.aboveAxis, true);\n        this.tooltipTracking = true;\n        this._id = guid();\n        this.initLabelsFormat();\n    }\n\n    if ( ChartElement ) RangeAreaPoint.__proto__ = ChartElement;\n    RangeAreaPoint.prototype = Object.create( ChartElement && ChartElement.prototype );\n    RangeAreaPoint.prototype.constructor = RangeAreaPoint;\n\n    RangeAreaPoint.prototype.render = function render () {\n        if (this._rendered) {\n            return;\n        }\n\n        this._rendered = true;\n\n        var ref = this.options;\n        var markers = ref.markers;\n        var labels = ref.labels;\n        var value = this.value;\n\n        var fromPoint = this.fromPoint = new RangeLinePoint(value, deepExtend({}, this.options, {\n            labels: labels.from,\n            markers: markers.from\n        }));\n\n        var toPoint = this.toPoint = new RangeLinePoint(value, deepExtend({}, this.options, {\n            labels: labels.to,\n            markers: markers.to\n        }));\n\n        this.copyFields(fromPoint);\n        this.copyFields(toPoint);\n\n        this.append(fromPoint);\n        this.append(toPoint);\n    };\n\n    RangeAreaPoint.prototype.reflow = function reflow (targetBox) {\n        this.render();\n\n        var fromBox = targetBox.from;\n        var toBox = targetBox.to;\n\n        this.positionLabels(fromBox, toBox);\n\n        this.fromPoint.reflow(fromBox);\n        this.toPoint.reflow(toBox);\n\n        this.box = this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox());\n    };\n\n    RangeAreaPoint.prototype.createHighlight = function createHighlight () {\n        var group = new Group$8();\n        group.append(this.fromPoint.createHighlight());\n        group.append(this.toPoint.createHighlight());\n\n        return group;\n    };\n\n    RangeAreaPoint.prototype.highlightVisual = function highlightVisual () {\n        return this.visual;\n    };\n\n    RangeAreaPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            options: this.options,\n            from: this.fromPoint.highlightVisualArgs(),\n            to: this.toPoint.highlightVisualArgs()\n        };\n    };\n\n    RangeAreaPoint.prototype.createFocusHighlight = function createFocusHighlight () {\n        var group = new Group$8();\n        group.append(this.fromPoint.createFocusHighlight());\n        group.append(this.toPoint.createFocusHighlight());\n\n        return group;\n    };\n\n    RangeAreaPoint.prototype.tooltipAnchor = function tooltipAnchor () {\n        var clipBox = this.owner.pane.clipBox();\n        var showTooltip = !clipBox || clipBox.overlaps(this.box);\n\n        if (showTooltip) {\n            var box = this.box;\n            var center = box.center();\n            var horizontalAlign = LEFT;\n            var x, y, verticalAlign;\n\n            if (this.options.vertical) {\n                x = center.x;\n                y = box.y1 - TOOLTIP_OFFSET;\n                verticalAlign = BOTTOM$1;\n            } else {\n                x = box.x2 + TOOLTIP_OFFSET;\n                y = center.y;\n                verticalAlign = CENTER;\n            }\n\n            return {\n                point: new Point$5(x, y),\n                align: {\n                    horizontal: horizontalAlign,\n                    vertical: verticalAlign\n                }\n            };\n        }\n    };\n\n    RangeAreaPoint.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    RangeAreaPoint.prototype.overlapsBox = function overlapsBox (box) {\n        return this.box.overlaps(box);\n    };\n\n    RangeAreaPoint.prototype.unclipElements = function unclipElements () {\n        this.fromPoint.unclipElements();\n        this.toPoint.unclipElements();\n    };\n\n    RangeAreaPoint.prototype.initLabelsFormat = function initLabelsFormat () {\n        var labels = this.options.labels;\n        if (!labels.format) {\n            if (!labels.from || !labels.from.format) {\n                labels.from = Object.assign({}, labels.from, {\n                    format: DEFAULT_FROM_FORMAT\n                });\n            }\n\n            if (!labels.to || !labels.to.format) {\n                labels.to = Object.assign({}, labels.to, {\n                    format: DEFAULT_TO_FORMAT\n                });\n            }\n        }\n    };\n\n    RangeAreaPoint.prototype.positionLabels = function positionLabels (fromBox, toBox) {\n        var ref = this.options;\n        var labels = ref.labels;\n        var vertical = ref.vertical;\n\n        if (labels.position === AUTO) {\n            var fromLabelPosition, toLabelPosition;\n            if (vertical) {\n                if (toBox.y1 <= fromBox.y1) {\n                    toLabelPosition = ABOVE;\n                    fromLabelPosition = BELOW;\n                } else {\n                    toLabelPosition = BELOW;\n                    fromLabelPosition = ABOVE;\n                }\n            } else {\n                if (toBox.x1 <= fromBox.x1) {\n                    toLabelPosition = LEFT;\n                    fromLabelPosition = RIGHT;\n                } else {\n                    toLabelPosition = RIGHT;\n                    fromLabelPosition = LEFT;\n                }\n            }\n\n            if (!labels.from || !labels.from.position) {\n                this.fromPoint.options.labels.position = fromLabelPosition;\n            }\n\n            if (!labels.to || !labels.to.position) {\n                this.toPoint.options.labels.position = toLabelPosition;\n            }\n        }\n    };\n\n    RangeAreaPoint.prototype.copyFields = function copyFields (point) {\n        point.dataItem = this.dataItem;\n        point.category = this.category;\n        point.series = this.series;\n        point.color = this.color;\n        point.owner = this.owner;\n    };\n\n    RangeAreaPoint.prototype.focusVisual = function focusVisual () {\n        this.fromPoint.focusVisual();\n    };\n\n    RangeAreaPoint.prototype.clearFocusFromVisual = function clearFocusFromVisual () {\n        this.toPoint.clearFocusFromVisual();\n    };\n\n    RangeAreaPoint.prototype.getIndex = function getIndex () {\n        return this.categoryIx;\n    };\n\n    return RangeAreaPoint;\n}(ChartElement));\n\ndeepExtend(RangeAreaPoint.prototype, PointEventsMixin);\ndeepExtend(RangeAreaPoint.prototype, NoteMixin);\n\nRangeAreaPoint.prototype.defaults = {\n    markers: {\n        visible: false,\n        background: WHITE$1,\n        size: LINE_MARKER_SIZE,\n        type: CIRCLE,\n        border: {\n            width: 2\n        },\n        opacity: 1\n    },\n    labels: {\n        visible: false,\n        margin: getSpacing(3),\n        padding: getSpacing(4),\n        animation: {\n            type: FADEIN,\n            delay: INITIAL_ANIMATION_DURATION\n        },\n        position: AUTO\n    },\n    notes: {\n        label: {}\n    },\n    highlight: {\n        markers: {\n            border: {\n                color: WHITE$1,\n                width: 2\n            }\n        },\n        zIndex: HIGHLIGHT_ZINDEX\n    },\n    tooltip: {\n        format: '{0} - {1}'\n    },\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n};\n\nvar RangeAreaSegment = (function (AreaSegment) {\n    function RangeAreaSegment () {\n        AreaSegment.apply(this, arguments);\n    }\n\n    if ( AreaSegment ) RangeAreaSegment.__proto__ = AreaSegment;\n    RangeAreaSegment.prototype = Object.create( AreaSegment && AreaSegment.prototype );\n    RangeAreaSegment.prototype.constructor = RangeAreaSegment;\n\n    RangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {\n        return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()));\n    };\n\n    RangeAreaSegment.prototype.stackSegments = function stackSegments () {\n        var fromSegments = this.fromSegments;\n        if (!this.fromSegments) {\n            fromSegments = this.fromSegments = this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()));\n        }\n\n        return fromSegments;\n    };\n\n    RangeAreaSegment.prototype.createStroke = function createStroke (style) {\n        var toPath = new Path$7(style);\n        var fromPath = new Path$7(style);\n\n        toPath.segments.push.apply(toPath.segments, this.strokeSegments());\n        fromPath.segments.push.apply(fromPath.segments, this.stackSegments());\n\n        this.visual.append(toPath);\n        this.visual.append(fromPath);\n    };\n\n    RangeAreaSegment.prototype.hasStackSegment = function hasStackSegment () {\n        return true;\n    };\n\n    RangeAreaSegment.prototype.fromPoints = function fromPoints () {\n        return this.linePoints.map(function (point) { return point.fromPoint; });\n    };\n\n    RangeAreaSegment.prototype.toPoints = function toPoints () {\n        return this.linePoints.map(function (point) { return point.toPoint; });\n    };\n\n    return RangeAreaSegment;\n}(AreaSegment));\n\nvar SplineRangeAreaSegment = (function (RangeAreaSegment) {\n    function SplineRangeAreaSegment () {\n        RangeAreaSegment.apply(this, arguments);\n    }\n\n    if ( RangeAreaSegment ) SplineRangeAreaSegment.__proto__ = RangeAreaSegment;\n    SplineRangeAreaSegment.prototype = Object.create( RangeAreaSegment && RangeAreaSegment.prototype );\n    SplineRangeAreaSegment.prototype.constructor = SplineRangeAreaSegment;\n\n    SplineRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {\n        return this.createCurveSegments(this.toPoints());\n    };\n\n    SplineRangeAreaSegment.prototype.stackSegments = function stackSegments () {\n        var fromSegments = this.fromSegments;\n        if (!this.fromSegments) {\n            fromSegments = this.fromSegments = this.createCurveSegments(this.fromPoints().reverse());\n        }\n\n        return fromSegments;\n    };\n\n    SplineRangeAreaSegment.prototype.createCurveSegments = function createCurveSegments (points) {\n        var curveProcessor = new CurveProcessor();\n\n        return curveProcessor.process(this.toGeometryPoints(points));\n    };\n\n    return SplineRangeAreaSegment;\n}(RangeAreaSegment));\n\nvar StepRangeAreaSegment = (function (RangeAreaSegment) {\n    function StepRangeAreaSegment () {\n        RangeAreaSegment.apply(this, arguments);\n    }\n\n    if ( RangeAreaSegment ) StepRangeAreaSegment.__proto__ = RangeAreaSegment;\n    StepRangeAreaSegment.prototype = Object.create( RangeAreaSegment && RangeAreaSegment.prototype );\n    StepRangeAreaSegment.prototype.constructor = StepRangeAreaSegment;\n\n    StepRangeAreaSegment.prototype.createStrokeSegments = function createStrokeSegments () {\n        return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()));\n    };\n\n    StepRangeAreaSegment.prototype.stackSegments = function stackSegments () {\n        var fromSegments = this.fromSegments;\n        if (!this.fromSegments) {\n            fromSegments = this.fromSegments = this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints()));\n            fromSegments.reverse();\n        }\n\n        return fromSegments;\n    };\n\n    return StepRangeAreaSegment;\n}(RangeAreaSegment));\n\ndeepExtend(StepRangeAreaSegment.prototype, StepLineMixin);\n\nvar RangeAreaChart = (function (CategoricalChart) {\n    function RangeAreaChart () {\n        CategoricalChart.apply(this, arguments);\n    }\n\n    if ( CategoricalChart ) RangeAreaChart.__proto__ = CategoricalChart;\n    RangeAreaChart.prototype = Object.create( CategoricalChart && CategoricalChart.prototype );\n    RangeAreaChart.prototype.constructor = RangeAreaChart;\n\n    RangeAreaChart.prototype.render = function render () {\n        CategoricalChart.prototype.render.call(this);\n\n        this.renderSegments();\n    };\n\n    RangeAreaChart.prototype.pointType = function pointType () {\n        return RangeAreaPoint;\n    };\n\n    RangeAreaChart.prototype.createPoint = function createPoint (data, fields) {\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var value = data.valueFields;\n\n        if (!hasValue$2(value.from) && !hasValue$2(value.to)) {\n            if (this.seriesMissingValues(series) === ZERO) {\n                value = {\n                    from: 0,\n                    to: 0\n                };\n            } else {\n                return null;\n            }\n        }\n\n        var pointOptions = this.pointOptions(series, seriesIx);\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n\n        var color = data.fields.color || series.color;\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        }\n\n        var point = new RangeAreaPoint(value, pointOptions);\n        point.color = color;\n\n        this.append(point);\n\n        return point;\n    };\n\n    RangeAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {\n        var style = (currentSeries.line || {}).style;\n        var segmentType;\n        if (style === \"smooth\") {\n            segmentType = SplineRangeAreaSegment;\n        } else if (style === \"step\") {\n            segmentType = StepRangeAreaSegment;\n        } else {\n            segmentType = RangeAreaSegment;\n        }\n\n        return new segmentType(linePoints, currentSeries, seriesIx);\n    };\n\n    RangeAreaChart.prototype.plotRange = function plotRange (point, startValue) {\n        if (!point) {\n            return [ startValue, startValue ];\n        }\n\n        return [ point.value.from, point.value.to ];\n    };\n\n    RangeAreaChart.prototype.valueSlot = function valueSlot (valueAxis, plotRange) {\n        var fromSlot = valueAxis.getSlot(plotRange[0], plotRange[0], !this.options.clip);\n        var toSlot = valueAxis.getSlot(plotRange[1], plotRange[1], !this.options.clip);\n        if (fromSlot && toSlot) {\n            return {\n                from: fromSlot,\n                to: toSlot\n            };\n        }\n    };\n\n    RangeAreaChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {\n        var from = valueSlot.from;\n        var to = valueSlot.to;\n        var fromSlot, toSlot;\n\n        if (this.options.invertAxes) {\n            fromSlot = new Box(from.x1, categorySlot.y1, from.x2, categorySlot.y2);\n            toSlot = new Box(to.x1, categorySlot.y1, to.x2, categorySlot.y2);\n        } else {\n            fromSlot = new Box(categorySlot.x1, from.y1, categorySlot.x2, from.y2);\n            toSlot = new Box(categorySlot.x1, to.y1, categorySlot.x2, to.y2);\n        }\n\n        return {\n            from: fromSlot,\n            to: toSlot\n        };\n    };\n\n    RangeAreaChart.prototype.addValue = function addValue (data, fields) {\n        var valueFields = data.valueFields;\n        if (!isNumber(valueFields.from)) {\n            valueFields.from = valueFields.to;\n        }\n\n        if (!isNumber(valueFields.to)) {\n            valueFields.to = valueFields.from;\n        }\n\n        CategoricalChart.prototype.addValue.call(this, data, fields);\n    };\n\n    RangeAreaChart.prototype.updateRange = function updateRange (value, fields) {\n        if (value !== null && isNumber(value.from) && isNumber(value.to)) {\n            var axisName = fields.series.axis;\n            var axisRange = this.valueAxisRanges[axisName] = this.valueAxisRanges[axisName] || { min: MAX_VALUE, max: MIN_VALUE };\n            var from = value.from;\n            var to = value.to;\n\n            axisRange.min = Math.min(axisRange.min, from, to);\n            axisRange.max = Math.max(axisRange.max, from, to);\n        }\n    };\n\n    RangeAreaChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n\n        return this.chartService.format.auto(format, value.from, value.to);\n    };\n\n    RangeAreaChart.prototype.animationPoints = function animationPoints () {\n        var points = this.points;\n        var result = [];\n        for (var idx = 0; idx < points.length; idx++) {\n            var point = points[idx];\n            if (point) {\n                result.push((point.fromPoint || {}).marker);\n                result.push((point.toPoint || {}).marker);\n            }\n        }\n\n        return result.concat(this._segments);\n    };\n\n    return RangeAreaChart;\n}(CategoricalChart));\n\ndeepExtend(RangeAreaChart.prototype, LineChartMixin, ClipAnimationMixin);\n\nvar OHLCPoint = (function (Candlestick) {\n    function OHLCPoint () {\n        Candlestick.apply(this, arguments);\n    }\n\n    if ( Candlestick ) OHLCPoint.__proto__ = Candlestick;\n    OHLCPoint.prototype = Object.create( Candlestick && Candlestick.prototype );\n    OHLCPoint.prototype.constructor = OHLCPoint;\n\n    OHLCPoint.prototype.reflow = function reflow (box) {\n        var ref = this;\n        var options = ref.options;\n        var value = ref.value;\n        var chart = ref.owner;\n        var valueAxis = chart.seriesValueAxis(options);\n        var oPoints = [];\n        var cPoints = [];\n        var lhPoints = [];\n\n        var lhSlot = valueAxis.getSlot(value.low, value.high);\n        var oSlot = valueAxis.getSlot(value.open, value.open);\n        var cSlot = valueAxis.getSlot(value.close, value.close);\n\n        oSlot.x1 = cSlot.x1 = lhSlot.x1 = box.x1;\n        oSlot.x2 = cSlot.x2 = lhSlot.x2 = box.x2;\n\n        var mid = lhSlot.center().x;\n\n        oPoints.push([ oSlot.x1, oSlot.y1 ]);\n        oPoints.push([ mid, oSlot.y1 ]);\n        cPoints.push([ mid, cSlot.y1 ]);\n        cPoints.push([ cSlot.x2, cSlot.y1 ]);\n        lhPoints.push([ mid, lhSlot.y1 ]);\n        lhPoints.push([ mid, lhSlot.y2 ]);\n\n        this.lines = [\n            oPoints, cPoints, lhPoints\n        ];\n\n        this.box = lhSlot.clone().wrap(oSlot.clone().wrap(cSlot));\n\n        this.reflowNote();\n    };\n\n    OHLCPoint.prototype.createBody = function createBody () {};\n\n    return OHLCPoint;\n}(Candlestick));\n\nvar OHLCChart = (function (CandlestickChart) {\n    function OHLCChart () {\n        CandlestickChart.apply(this, arguments);\n    }\n\n    if ( CandlestickChart ) OHLCChart.__proto__ = CandlestickChart;\n    OHLCChart.prototype = Object.create( CandlestickChart && CandlestickChart.prototype );\n    OHLCChart.prototype.constructor = OHLCChart;\n\n    OHLCChart.prototype.pointType = function pointType () {\n        return OHLCPoint;\n    };\n\n    return OHLCChart;\n}(CandlestickChart));\n\nvar WaterfallSegment = (function (ChartElement) {\n    function WaterfallSegment(from, to, series) {\n        ChartElement.call(this);\n\n        this.from = from;\n        this.to = to;\n        this.series = series;\n    }\n\n    if ( ChartElement ) WaterfallSegment.__proto__ = ChartElement;\n    WaterfallSegment.prototype = Object.create( ChartElement && ChartElement.prototype );\n    WaterfallSegment.prototype.constructor = WaterfallSegment;\n\n    WaterfallSegment.prototype.linePoints = function linePoints () {\n        var from = this.from;\n        var ref = this;\n        var fromBox = ref.from.box;\n        var toBox = ref.to.box;\n        var points = [];\n\n        if (from.isVertical) {\n            var y = from.aboveAxis ? fromBox.y1 : fromBox.y2;\n            points.push(\n                [ fromBox.x1, y ],\n                [ toBox.x2, y ]\n            );\n        } else {\n            var x = from.aboveAxis ? fromBox.x2 : fromBox.x1;\n            points.push(\n                [ x, fromBox.y1 ],\n                [ x, toBox.y2 ]\n            );\n        }\n\n        return points;\n    };\n\n    WaterfallSegment.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        var line = this.series.line || {};\n\n        var path = Path$7.fromPoints(this.linePoints(), {\n            stroke: {\n                color: line.color,\n                width: line.width,\n                opacity: line.opacity,\n                dashType: line.dashType\n            }\n        });\n\n        alignPathToPixel(path);\n        this.visual.append(path);\n    };\n\n    return WaterfallSegment;\n}(ChartElement));\n\nsetDefaultOptions(WaterfallSegment, {\n    animation: {\n        type: FADEIN,\n        delay: INITIAL_ANIMATION_DURATION\n    }\n});\n\nvar WaterfallChart = (function (BarChart) {\n    function WaterfallChart () {\n        BarChart.apply(this, arguments);\n    }\n\n    if ( BarChart ) WaterfallChart.__proto__ = BarChart;\n    WaterfallChart.prototype = Object.create( BarChart && BarChart.prototype );\n    WaterfallChart.prototype.constructor = WaterfallChart;\n\n    WaterfallChart.prototype.render = function render () {\n        BarChart.prototype.render.call(this);\n        this.createSegments();\n    };\n\n    WaterfallChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {\n        var this$1$1 = this;\n\n        var series = this.options.series;\n        var totalCategories = categoriesCount(series);\n        var isVertical = !this.options.invertAxes;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var total = 0;\n            var runningTotal = 0;\n\n            for (var categoryIx = 0; categoryIx < totalCategories; categoryIx++) {\n                var data = SeriesBinder.current.bindPoint(currentSeries, categoryIx);\n                var value = data.valueFields.value;\n                var summary = data.fields.summary;\n                var from = total;\n                var to = (void 0);\n\n                if (summary) {\n                    if (summary.toLowerCase() === \"total\") {\n                        data.valueFields.value = total;\n                        from = 0;\n                        to = total;\n                    } else {\n                        data.valueFields.value = runningTotal;\n                        to = from - runningTotal;\n                        runningTotal = 0;\n                    }\n                } else if (isNumber(value)) {\n                    runningTotal += value;\n                    total += value;\n                    to = total;\n                }\n\n                callback(data, {\n                    category: this$1$1.categoryAxis.categoryAt(categoryIx),\n                    categoryIx: categoryIx,\n                    series: currentSeries,\n                    seriesIx: seriesIx,\n                    total: total,\n                    runningTotal: runningTotal,\n                    from: from,\n                    to: to,\n                    isVertical: isVertical\n                });\n            }\n        }\n    };\n\n    WaterfallChart.prototype.updateRange = function updateRange (value, fields) {\n        BarChart.prototype.updateRange.call(this, { value: fields.to }, fields);\n    };\n\n    WaterfallChart.prototype.aboveAxis = function aboveAxis (point) {\n        return point.value >= 0;\n    };\n\n    WaterfallChart.prototype.plotRange = function plotRange (point) {\n        return [ point.from, point.to ];\n    };\n\n    WaterfallChart.prototype.createSegments = function createSegments () {\n        var this$1$1 = this;\n\n        var series = this.options.series;\n        var seriesPoints = this.seriesPoints;\n        var segments = this.segments = [];\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var points = seriesPoints[seriesIx];\n\n            if (points) {\n                var prevPoint = (void 0);\n                for (var pointIx = 0; pointIx < points.length; pointIx++) {\n                    var point = points[pointIx];\n\n                    if (point && prevPoint) {\n                        var segment = new WaterfallSegment(prevPoint, point, currentSeries);\n                        segments.push(segment);\n                        this$1$1.append(segment);\n                    }\n\n                    prevPoint = point;\n                }\n            }\n        }\n    };\n\n    return WaterfallChart;\n}(BarChart));\n\nfunction trendlineFactory(registry, type, context) {\n    var impl = registry[String(type)];\n    if (impl) {\n        return impl(context);\n    }\n\n    return null;\n}\n\n// Optimized version of calculatePolynomial for order = 1\nfunction calculateSlope(sourceValues, valueGetter) {\n    var x = 0;\n    var y = 0;\n    var x2 = 0;\n    var xy = 0;\n    var count = 0;\n    var slope, intercept;\n    var xMin = Number.MAX_VALUE;\n    var xMax = Number.MIN_VALUE;\n\n    for (var i = 0; i < sourceValues.length; i++) {\n        var value = sourceValues[i];\n        var ref = valueGetter(value);\n        var xValue = ref.xValue;\n        var yValue = ref.yValue;\n\n        if (isFinite(xValue) && xValue !== null && isFinite(yValue) && yValue !== null) {\n            xMin = Math.min(xValue, xMin);\n            xMax = Math.max(xValue, xMax);\n\n            count++;\n            x += xValue;\n            y += yValue;\n            x2 += Math.pow(xValue, 2);\n            xy += xValue * yValue;\n        }\n    }\n\n    if (count > 0) {\n        slope = (count * xy - x * y) / (count * x2 - Math.pow(x, 2));\n        intercept = (y - slope * x) / count;\n    }\n\n    return { slope: slope, intercept: intercept, count: count, xMin: xMin, xMax: xMax };\n}\n\nvar checkAllPositive = function (sourceValues, fieldName) { return sourceValues.every(function (ref) {\n        var valueFields = ref.valueFields;\n\n        return !hasValue$2(valueFields[fieldName]) || valueFields[fieldName] > 0;\n        }); };\n\nfunction getTrendlineData(valueMapper, categoryAxis) {\n    var data = [];\n    var totalRange = categoryAxis.totalRangeIndices();\n    var currentRange = categoryAxis.currentRangeIndices();\n    var range = {\n        min: Math.floor(Math.max(currentRange.min - 1, totalRange.min)),\n        max: Math.ceil(Math.min(currentRange.max + 2, totalRange.max))\n    };\n\n    for (var i = range.min; i < range.max; i++) {\n        var x = (i + 1);\n        data[i] = {\n            category: categoryAxis.categoryAt(i, true),\n            value: valueMapper(x)\n        };\n    }\n\n    return data;\n}\n\nfunction exponentialTrendline(context) {\n    var options = context.options;\n    var categoryAxis = context.categoryAxis;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$b({ seriesValues: seriesValues, categoryAxis: categoryAxis, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'line',\n            data: data,\n            categoryField: 'category',\n            field: 'value'});\n    }\n\n    return null;\n}\n\nvar valueGetter$8 = function (fieldName) { return function (ref) {\n        var categoryIx = ref.categoryIx;\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: categoryIx + 1, yValue: Math.log(valueFields[fieldName]) });\n; }    };\n\nfunction getData$b(ref) {\n    var seriesValues = ref.seriesValues;\n    var categoryAxis = ref.categoryAxis;\n    var options = ref.options;\n\n    var sourceValues = seriesValues();\n    if (!checkAllPositive(sourceValues, options.field)) {\n        return null;\n    }\n\n    var ref$1 = calculateSlope(sourceValues, valueGetter$8(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    if (count > 0) {\n        // Exponential trendline equation:\n        // y = a * e ^ (b * x)\n        var a = Math.exp(intercept);\n        var b = slope;\n\n        return getTrendlineData(function (x) { return a * Math.exp(b * x); }, categoryAxis);\n    }\n\n    return null;\n}\n\nfunction linearTrendline(context) {\n    var options = context.options;\n    var categoryAxis = context.categoryAxis;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$a({ seriesValues: seriesValues, categoryAxis: categoryAxis, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'line',\n            data: data,\n            categoryField: 'category',\n            field: 'value'});\n    }\n\n    return null;\n}\n\nvar valueGetter$7 = function (fieldName) { return function (ref) {\n        var categoryIx = ref.categoryIx;\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: categoryIx + 1, yValue: valueFields[fieldName] });\n; }    };\n\nfunction getData$a(ref) {\n    var seriesValues = ref.seriesValues;\n    var categoryAxis = ref.categoryAxis;\n    var options = ref.options;\n\n    var ref$1 = calculateSlope(seriesValues(), valueGetter$7(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n\n    if (count > 0) {\n        return getTrendlineData(function (x) { return slope * x + intercept; }, categoryAxis);\n    }\n\n    return null;\n}\n\nfunction logarithmicTrendline(context) {\n    var options = context.options;\n    var categoryAxis = context.categoryAxis;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$9({ seriesValues: seriesValues, categoryAxis: categoryAxis, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'line',\n            data: data,\n            categoryField: 'category',\n            field: 'value'});\n    }\n\n    return null;\n}\n\nvar valueGetter$6 = function (fieldName) { return function (ref) {\n        var categoryIx = ref.categoryIx;\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: Math.log(categoryIx + 1), yValue: valueFields[fieldName] });\n; }    };\n\nfunction getData$9(ref) {\n    var seriesValues = ref.seriesValues;\n    var categoryAxis = ref.categoryAxis;\n    var options = ref.options;\n\n    var ref$1 = calculateSlope(seriesValues(), valueGetter$6(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    if (count > 0) {\n        // Logarithmic trendline equation:\n        // y = a * ln (x) + b\n        var a = slope;\n        var b = intercept;\n        return getTrendlineData(function (x) { return a * Math.log(x) + b; }, categoryAxis);\n    }\n\n    return null;\n}\n\nfunction calculateMovingAverage(sourceValues, valueGetter, period) {\n    var averagePoints = [];\n    var values = [];\n    var start = Math.max(MIN_MOVING_AVERAGE_PERIOD, period) - 1;\n\n    var end = 0;\n    var sum = 0;\n\n    for (var i = 0; i < sourceValues.length; i++) {\n        var value = sourceValues[i];\n        var ref = valueGetter(value);\n        var xValue = ref.xValue;\n        var yValue = ref.yValue;\n\n        if (isFinite(yValue) && yValue !== null) {\n            values.push(yValue);\n            sum += yValue;\n            end = Math.max(i, end);\n        } else {\n            values.push(null);\n        }\n\n        if (i >= start) {\n            var count = values.filter(function (value) { return value !== null; }).length;\n            var lastValue = values.shift() || 0;\n\n            if (count > 0) {\n                var average = sum / count;\n                averagePoints.push([xValue, average]);\n\n                sum -= lastValue;\n                continue;\n            }\n        }\n\n        averagePoints.push([xValue, null]);\n    }\n\n    return averagePoints.slice(0, end + 1);\n}\n\nfunction movingAverageTrendline(context) {\n    var options = context.options;\n\n    var data = getData$8(context);\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'line',\n            data: data,\n            categoryField: 'category',\n            field: 'value'});\n    }\n\n    return null;\n}\n\nvar valueGetter$5 = function (fieldName) { return function (ref) {\n        var categoryIx = ref.categoryIx;\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: categoryIx, yValue: valueFields[fieldName] });\n; }    };\n\nfunction calculatePoints(ref) {\n    var options = ref.options;\n    var categoryAxis = ref.categoryAxis;\n    var seriesValues = ref.seriesValues;\n\n    var period = (options.trendline || {}).period || MIN_MOVING_AVERAGE_PERIOD;\n    var totalRange = categoryAxis.totalRangeIndices();\n    var currentRange = categoryAxis.currentRangeIndices();\n    var range = {\n        min: Math.floor(Math.max(currentRange.min - period, totalRange.min)),\n        max: Math.ceil(Math.min(currentRange.max + period + 2, totalRange.max))\n    };\n\n    return calculateMovingAverage(seriesValues(range), valueGetter$5(options.field), period);\n}\n\nfunction getData$8(context) {\n    var categoryAxis = context.categoryAxis;\n    var points = calculatePoints(context);\n    var data = [];\n    points.forEach(function (ref) {\n        var categoryIx = ref[0];\n        var value = ref[1];\n\n        data[categoryIx] = {\n            category: categoryAxis.categoryAt(categoryIx, true),\n            value: value\n        };\n    });\n\n    if (data.length > 0) {\n        return data;\n    }\n\n    return null;\n}\n\nvar MIN_ORDER = 1;\nvar MAX_ORDER = 6;\n\nfunction calculatePolynomial(sourceValues, valueGetter, order) {\n    var k = Math.min(Math.max(order || MIN_ORDER, MIN_ORDER), MAX_ORDER) + 1;\n    var X = new Matrix();\n    var Y = new Matrix();\n    var count = 0;\n    var xMin = Number.MAX_VALUE;\n    var xMax = Number.MIN_VALUE;\n    var valueMapper = function (x) { return x; };\n    var coefficients = [];\n\n    for (var i = 0; i < sourceValues.length; i++) {\n        var value = sourceValues[i];\n        var ref = valueGetter(value);\n        var xValue = ref.xValue;\n        var yValue = ref.yValue;\n\n        if (isFinite(xValue) && xValue !== null && isFinite(yValue) && yValue !== null) {\n            xMin = Math.min(xValue, xMin);\n            xMax = Math.max(xValue, xMax);\n            count++;\n\n            // Set Y value in matrix\n            Y.set(i, 0, yValue);\n\n            // Set indicator column to 1 for valid values\n            X.set(i, 0, 1);\n            X.set(i, 1, xValue);\n            for (var pow = 2; pow <= k; pow++) {\n                X.set(i, pow, Math.pow(X.get(i, 1), pow));\n            }\n        } else {\n            // Set indicator column to 0 for missing values\n            X.set(i, 0, 0);\n        }\n    }\n\n    // Limit order to number of values.\n    X.width = Math.min(k, count);\n\n    if (count > 0) {\n        // Polynomial trendline equation:\n        // y = aN * x^N + ... + a2 * x^2 + a1 * x + a0\n        coefficients = linearRegression(X, Y);\n        valueMapper = function (x) { return coefficients.reduce(function (y, a, n) { return y + a * Math.pow(x, n); }, 0); };\n    }\n\n    return {\n        coefficients: coefficients,\n        count: count,\n        valueMapper: valueMapper,\n        xMin: xMin,\n        xMax: xMax\n    };\n}\n\nfunction linearRegression(X, Y) {\n    var Xt = X.transpose();\n    var B = Xt.multiply(X).inverse().multiply(Xt).multiply(Y); // the last square estimate of the coefficients\n\n    var coefficients = [];\n    for (var i = 0; i < B.height; i++) {\n        coefficients.push(B.get(i, 0));\n    }\n\n    // y_intercept and regression coefficients ('slopes')\n    return coefficients;\n\n    // It's possible to calculate statistics for the regression based on\n    // the LINEST function implementation in kendo-spreadsheet-common/src/calc.js\n    //\n    // * The standard errors (of coefficients and y-intercept)\n    // * The coefficient of determination (R^2)\n    // * The standard error for the y estimate\n    // * The F statistic\n    // * The degrees of freedom\n    // * The regression sum of squares (SSR)\n    // * The residual sum of squares (SSE)\n}\n\nfunction polynomialTrendline(context) {\n    var options = context.options;\n    var categoryAxis = context.categoryAxis;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$7({ seriesValues: seriesValues, categoryAxis: categoryAxis, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'line',\n            data: data,\n            categoryField: 'category',\n            field: 'value'});\n    }\n\n    return null;\n}\n\nvar valueGetter$4 = function (fieldName) { return function (ref) {\n        var categoryIx = ref.categoryIx;\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: categoryIx + 1, yValue: valueFields[fieldName] });\n; }    };\n\nfunction getData$7(ref) {\n    var seriesValues = ref.seriesValues;\n    var categoryAxis = ref.categoryAxis;\n    var options = ref.options;\n\n    var order = (options.trendline || {}).order;\n    var ref$1 = calculatePolynomial(seriesValues(), valueGetter$4(options.field), order);\n    var count = ref$1.count;\n    var valueMapper = ref$1.valueMapper;\n\n    if (count > 0) {\n        // Polynomial trendline equation:\n        // y = aN * x^N + ... + a2 * x^2 + a1 * x + a0\n\n        return getTrendlineData(function (x) { return valueMapper(x); }, categoryAxis);\n    }\n\n    return null;\n}\n\nfunction powerTrendline(context) {\n    var options = context.options;\n    var categoryAxis = context.categoryAxis;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$6({ seriesValues: seriesValues, categoryAxis: categoryAxis, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'line',\n            data: data,\n            categoryField: 'category',\n            field: 'value'});\n    }\n\n    return null;\n}\n\nvar valueGetter$3 = function (fieldName) { return function (ref) {\n        var categoryIx = ref.categoryIx;\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: Math.log(categoryIx + 1), yValue: Math.log(valueFields[fieldName]) });\n; }    };\n\nfunction getData$6(ref) {\n    var seriesValues = ref.seriesValues;\n    var categoryAxis = ref.categoryAxis;\n    var options = ref.options;\n\n    var sourceValues = seriesValues();\n    if (!checkAllPositive(sourceValues, options.field)) {\n        return null;\n    }\n\n    var ref$1 = calculateSlope(sourceValues, valueGetter$3(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    if (count > 0) {\n        // Power trendline equation:\n        // y = a * x ^ b\n        var a = Math.exp(intercept);\n        var b = slope;\n\n        return getTrendlineData(function (x) { return a * Math.pow(x, b); }, categoryAxis);\n    }\n\n    return null;\n}\n\nvar registry = {};\nregistry[TRENDLINE_EXPONENTIAL] = exponentialTrendline;\nregistry[TRENDLINE_LINEAR] = linearTrendline;\nregistry[TRENDLINE_LOGARITHMIC] = logarithmicTrendline;\nregistry[TRENDLINE_MOVING_AVERAGE] = movingAverageTrendline;\nregistry[TRENDLINE_POLYNOMIAL] = polynomialTrendline;\nregistry[TRENDLINE_POWER] = powerTrendline;\n\nvar AREA_SERIES = [ AREA, VERTICAL_AREA, RANGE_AREA, VERTICAL_RANGE_AREA ];\nvar OUT_OF_RANGE_SERIES = [ LINE, VERTICAL_LINE ].concat(AREA_SERIES);\n\nvar CategoricalPlotArea = (function (PlotAreaBase) {\n    function CategoricalPlotArea () {\n        PlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PlotAreaBase ) CategoricalPlotArea.__proto__ = PlotAreaBase;\n    CategoricalPlotArea.prototype = Object.create( PlotAreaBase && PlotAreaBase.prototype );\n    CategoricalPlotArea.prototype.constructor = CategoricalPlotArea;\n\n    CategoricalPlotArea.prototype.initFields = function initFields (series) {\n        var this$1$1 = this;\n\n        this.namedCategoryAxes = {};\n        this.namedValueAxes = {};\n        this.valueAxisRangeTracker = new AxisGroupRangeTracker();\n        this._seriesPointsCache = {};\n        this._currentPointsCache = {};\n\n        if (series.length > 0) {\n            this.invertAxes = inArray(\n                series[0].type, [ BAR, BULLET, VERTICAL_LINE, VERTICAL_AREA, VERTICAL_RANGE_AREA,\n                    RANGE_BAR, HORIZONTAL_WATERFALL, VERTICAL_BOX_PLOT ]\n            );\n\n            for (var i = 0; i < series.length; i++) {\n                var stack = series[i].stack;\n                if (stack && stack.type === \"100%\") {\n                    this$1$1.stack100 = true;\n                    break;\n                }\n            }\n        }\n    };\n\n    CategoricalPlotArea.prototype.render = function render (panes) {\n        if ( panes === void 0 ) panes = this.panes;\n\n        this.series = [].concat( this.originalSeries );\n        this.createCategoryAxes(panes);\n\n        this.aggregateCategories(panes);\n        this.createTrendlineSeries(panes);\n\n        this.createCategoryAxesLabels(panes);\n        this.createCharts(panes);\n        this.createValueAxes(panes);\n    };\n\n    CategoricalPlotArea.prototype.removeAxis = function removeAxis (axis) {\n        var axisName = axis.options.name;\n\n        PlotAreaBase.prototype.removeAxis.call(this, axis);\n\n        if (axis instanceof CategoryAxis) {\n            delete this.namedCategoryAxes[axisName];\n        } else {\n            this.valueAxisRangeTracker.reset(axisName);\n            delete this.namedValueAxes[axisName];\n        }\n\n        if (axis === this.categoryAxis) {\n            delete this.categoryAxis;\n        }\n\n        if (axis === this.valueAxis) {\n            delete this.valueAxis;\n        }\n    };\n\n    CategoricalPlotArea.prototype.trendlineFactory = function trendlineFactory$1 (options, series) {\n        var categoryAxis = this.seriesCategoryAxis(options);\n        var seriesValues = this.seriesValues.bind(this, series.index);\n\n        var trendline = trendlineFactory(registry, options.type, {\n            options: options,\n            categoryAxis: categoryAxis,\n            seriesValues: seriesValues\n        });\n\n        if (trendline) {\n            // Inherit settings\n            trendline.categoryAxis = series.categoryAxis;\n            trendline.valueAxis = series.valueAxis;\n\n            return this.filterSeries(trendline, categoryAxis);\n        }\n\n        return trendline;\n    };\n\n    CategoricalPlotArea.prototype.trendlineAggregateForecast = function trendlineAggregateForecast () {\n        return this.series\n            .map(function (series) { return (series.trendline || {}).forecast; })\n            .filter(function (forecast) { return forecast !== undefined; })\n            .reduce(function (result, forecast) { return ({\n                before: Math.max(result.before, forecast.before || 0),\n                after: Math.max(result.after, forecast.after || 0)\n            }); }, { before: 0, after: 0 });\n    };\n\n    CategoricalPlotArea.prototype.seriesValues = function seriesValues (seriesIx, range) {\n        var this$1$1 = this;\n\n        var result = [];\n\n        var series = this.srcSeries[seriesIx];\n        var categoryAxis = this.seriesCategoryAxis(series);\n        var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);\n        if (dateAxis) {\n            this._seriesPointsCache = {};\n            this._currentPointsCache = {};\n            categoryAxis.options.dataItems = [];\n            series = this.aggregateSeries(series, categoryAxis, categoryAxis.totalRangeIndices());\n        }\n\n        var min = range ? range.min : 0;\n        var max = range ? range.max : series.data.length;\n        for (var categoryIx = min; categoryIx < max; categoryIx++) {\n            var data = this$1$1.bindPoint(series, categoryIx);\n            result.push({ categoryIx: categoryIx, category: data.fields.category, valueFields: data.valueFields });\n        }\n\n        return result;\n    };\n\n    CategoricalPlotArea.prototype.createCharts = function createCharts (panes) {\n        var this$1$1 = this;\n\n        var seriesByPane = this.groupSeriesByPane();\n\n        for (var i = 0; i < panes.length; i++) {\n            var pane = panes[i];\n            var paneSeries = seriesByPane[pane.options.name || \"default\"] || [];\n            this$1$1.addToLegend(paneSeries);\n\n            var visibleSeries = this$1$1.filterVisibleSeries(paneSeries);\n            if (!visibleSeries) {\n                continue;\n            }\n\n            var groups = this$1$1.groupSeriesByCategoryAxis(visibleSeries);\n            for (var groupIx = 0; groupIx < groups.length; groupIx++) {\n                this$1$1.createChartGroup(groups[groupIx], pane);\n            }\n        }\n    };\n\n    CategoricalPlotArea.prototype.createChartGroup = function createChartGroup (series, pane) {\n        this.createAreaChart(\n            filterSeriesByType(series, [ AREA, VERTICAL_AREA ]), pane\n        );\n\n        this.createRangeAreaChart(\n            filterSeriesByType(series, [ RANGE_AREA, VERTICAL_RANGE_AREA ]), pane\n        );\n\n        this.createBarChart(\n            filterSeriesByType(series, [ COLUMN, BAR ]), pane\n        );\n\n        this.createRangeBarChart(\n            filterSeriesByType(series, [ RANGE_COLUMN, RANGE_BAR ]), pane\n        );\n\n        this.createBulletChart(\n            filterSeriesByType(series, [ BULLET, VERTICAL_BULLET ]), pane\n        );\n\n        this.createCandlestickChart(\n            filterSeriesByType(series, CANDLESTICK), pane\n        );\n\n        this.createBoxPlotChart(\n            filterSeriesByType(series, [ BOX_PLOT, VERTICAL_BOX_PLOT ]), pane\n        );\n\n        this.createOHLCChart(\n            filterSeriesByType(series, OHLC), pane\n        );\n\n        this.createWaterfallChart(\n            filterSeriesByType(series, [ WATERFALL, HORIZONTAL_WATERFALL ]), pane\n        );\n\n        this.createLineChart(\n            filterSeriesByType(series, [ LINE, VERTICAL_LINE ]), pane\n        );\n    };\n\n    CategoricalPlotArea.prototype.aggregateCategories = function aggregateCategories (panes) {\n        var this$1$1 = this;\n\n        var series = [].concat( this.series );\n        var processedSeries = [];\n        this._currentPointsCache = {};\n        this._seriesPointsCache = this._seriesPointsCache || {};\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n\n            if (!this$1$1.isTrendline(currentSeries)) {\n                var categoryAxis = this$1$1.seriesCategoryAxis(currentSeries);\n                var axisPane = this$1$1.findPane(categoryAxis.options.pane);\n                var dateAxis = equalsIgnoreCase(categoryAxis.options.type, DATE);\n\n                if ((dateAxis || currentSeries.categoryField) && inArray(axisPane, panes)) {\n                    currentSeries = this$1$1.aggregateSeries(currentSeries, categoryAxis, categoryAxis.currentRangeIndices());\n                } else {\n                    currentSeries = this$1$1.filterSeries(currentSeries, categoryAxis);\n                }\n            }\n\n            processedSeries.push(currentSeries);\n        }\n\n        this._seriesPointsCache = this._currentPointsCache;\n        this._currentPointsCache = null;\n\n        this.srcSeries = series;\n        this.series = processedSeries;\n    };\n\n    CategoricalPlotArea.prototype.filterSeries = function filterSeries (series, categoryAxis) {\n        var dataLength = (series.data || {}).length;\n        categoryAxis._seriesMax = Math.max(categoryAxis._seriesMax || 0, dataLength);\n\n        if (!(defined(categoryAxis.options.min) || defined(categoryAxis.options.max))) {\n            return series;\n        }\n\n        var range = categoryAxis.currentRangeIndices();\n        var outOfRangePoints = inArray(series.type, OUT_OF_RANGE_SERIES);\n        var currentSeries = deepExtend({}, series);\n\n        currentSeries.data = (currentSeries.data || []).slice(range.min, range.max + 1);\n\n        if (outOfRangePoints) {\n            createOutOfRangePoints(currentSeries, range, dataLength, function (idx) { return ({\n                item: series.data[idx],\n                category: categoryAxis.categoryAt(idx, true),\n                categoryIx: idx - range.min\n            }); }, function (idx) { return defined(series.data[idx]); });\n        }\n\n        return currentSeries;\n    };\n\n    CategoricalPlotArea.prototype.clearSeriesPointsCache = function clearSeriesPointsCache () {\n        this._seriesPointsCache = {};\n    };\n\n    CategoricalPlotArea.prototype.seriesSourcePoints = function seriesSourcePoints (series, categoryAxis) {\n        var this$1$1 = this;\n\n        var key = (series.index) + \";\" + (categoryAxis.categoriesHash());\n        if (this._seriesPointsCache && this._seriesPointsCache[key]) {\n            this._currentPointsCache[key] = this._seriesPointsCache[key];\n            return this._seriesPointsCache[key];\n        }\n\n        var axisOptions = categoryAxis.options;\n        var srcCategories = axisOptions.srcCategories;\n        var dateAxis = equalsIgnoreCase(axisOptions.type, DATE);\n        var srcData = series.data;\n        var result = [];\n        if (!dateAxis) {\n            categoryAxis.indexCategories();\n        }\n\n        for (var idx = 0; idx < srcData.length; idx++) {\n            var category = SeriesBinder.current.bindPoint(series, idx).fields.category;\n            if (dateAxis) {\n                category = parseDateCategory(category, srcData[idx], this$1$1.chartService.intl);\n            }\n\n            if (!defined(category)) {\n                category = srcCategories[idx];\n            }\n\n            if (defined(category) && category !== null) {\n                var categoryIx = categoryAxis.totalIndex(category);\n                result[categoryIx] = result[categoryIx] || { items: [], category: category };\n                result[categoryIx].items.push(idx);\n            }\n        }\n\n        this._currentPointsCache[key] = result;\n\n        return result;\n    };\n\n    CategoricalPlotArea.prototype.aggregateSeries = function aggregateSeries (series, categoryAxis, range) {\n        var srcData = series.data;\n        if (!srcData.length) {\n            return series;\n        }\n\n        var srcPoints = this.seriesSourcePoints(series, categoryAxis);\n        var result = deepExtend({}, series);\n        var aggregator = new SeriesAggregator(deepExtend({}, series), SeriesBinder.current, DefaultAggregates.current);\n        var data = result.data = [];\n\n        var dataItems = categoryAxis.options.dataItems || [];\n\n        var categoryItem = function (idx) {\n            var categoryIdx = idx - range.min;\n            var point = srcPoints[idx];\n            if (!point) {\n                point = srcPoints[idx] = {};\n            }\n\n            point.categoryIx = categoryIdx;\n\n            if (!point.item) {\n                var category = categoryAxis.categoryAt(idx, true);\n                point.category = category;\n                point.item = aggregator.aggregatePoints(point.items, category);\n            }\n\n            return point;\n        };\n\n        for (var idx = range.min; idx <= range.max; idx++) {\n            var point = categoryItem(idx);\n            data[point.categoryIx] = point.item;\n\n            if (point.items && point.items.length) {\n                dataItems[point.categoryIx] = point.item;\n            }\n        }\n\n        if (inArray(result.type, OUT_OF_RANGE_SERIES)) {\n            createOutOfRangePoints(result, range, categoryAxis.totalCount(), categoryItem, function (idx) { return srcPoints[idx]; });\n        }\n\n        categoryAxis.options.dataItems = dataItems;\n\n        return result;\n    };\n\n    CategoricalPlotArea.prototype.appendChart = function appendChart (chart, pane) {\n        var series = chart.options.series;\n        var categoryAxis = this.seriesCategoryAxis(series[0]);\n        var categories = categoryAxis.options.categories;\n        var categoriesToAdd = Math.max(0, categoriesCount(series) - categories.length);\n\n        if (categoriesToAdd > 0) {//consider setting an option to axis instead of adding fake categories\n            categories = categoryAxis.options.categories = categoryAxis.options.categories.slice(0);\n            while (categoriesToAdd--) {\n                categories.push(\"\");\n            }\n        }\n\n        this.valueAxisRangeTracker.update(chart.valueAxisRanges);\n\n        PlotAreaBase.prototype.appendChart.call(this, chart, pane);\n    };\n\n    // TODO: Refactor, optionally use series.pane option\n    CategoricalPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {\n        var options = this.options;\n        var axisName = series.axis;\n        var axisOptions = [].concat(options.valueAxis);\n        var axis = grep(axisOptions, function(a) { return a.name === axisName; })[0];\n        var panes = options.panes || [ {} ];\n        var defaultPaneName = (panes[0] || {}).name || \"default\";\n        var paneName = (axis || {}).pane || defaultPaneName;\n\n        return paneName;\n    };\n\n    CategoricalPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis (series) {\n        var axisName = series.categoryAxis;\n        var axis = axisName ? this.namedCategoryAxes[axisName] : this.categoryAxis;\n\n        if (!axis) {\n            throw new Error(\"Unable to locate category axis with name \" + axisName);\n        }\n\n        return axis;\n    };\n\n    CategoricalPlotArea.prototype.stackableChartOptions = function stackableChartOptions (series, pane) {\n        var anyStackedSeries = series.some(function (s) { return s.stack; });\n        var isStacked100 = series.some(function (s) { return s.stack && s.stack.type === \"100%\"; });\n        var clip = pane.options.clip;\n\n        return {\n            defaultStack: series[0].stack,\n            isStacked: anyStackedSeries,\n            isStacked100: isStacked100,\n            clip: clip\n        };\n    };\n\n    CategoricalPlotArea.prototype.groupSeriesByCategoryAxis = function groupSeriesByCategoryAxis (series) {\n        var categoryAxes = [];\n        var unique = {};\n        for (var idx = 0; idx < series.length; idx++) {\n            var name = series[idx].categoryAxis || \"$$default$$\";\n            if (!hasOwnProperty(unique, name)) {\n                unique[name] = true;\n                categoryAxes.push(name);\n            }\n        }\n\n        var groups = [];\n        for (var axisIx = 0; axisIx < categoryAxes.length; axisIx++) {\n            var axis = categoryAxes[axisIx];\n            var axisSeries = groupSeries(series, axis, axisIx);\n            if (axisSeries.length === 0) {\n                continue;\n            }\n\n            groups.push(axisSeries);\n        }\n\n        return groups;\n    };\n\n    CategoricalPlotArea.prototype.createBarChart = function createBarChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var barChart = new BarChart(this, Object.assign({\n            series: series,\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            spacing: firstSeries.spacing\n        }, this.stackableChartOptions(series, pane)));\n\n        this.appendChart(barChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createRangeBarChart = function createRangeBarChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var rangeColumnChart = new RangeBarChart(this, {\n            series: series,\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            spacing: firstSeries.spacing\n        });\n\n        this.appendChart(rangeColumnChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createBulletChart = function createBulletChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var bulletChart = new BulletChart(this, {\n            series: series,\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            spacing: firstSeries.spacing,\n            clip: pane.options.clip\n        });\n\n        this.appendChart(bulletChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createLineChart = function createLineChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var lineChart = new LineChart(this, Object.assign({\n            invertAxes: this.invertAxes,\n            series: series\n        }, this.stackableChartOptions(series, pane)));\n\n        this.appendChart(lineChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var areaChart = new AreaChart(this, Object.assign({\n            invertAxes: this.invertAxes,\n            series: series\n        }, this.stackableChartOptions(series, pane)));\n\n        this.appendChart(areaChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createRangeAreaChart = function createRangeAreaChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var rangeAreaChart = new RangeAreaChart(this, {\n            invertAxes: this.invertAxes,\n            series: series,\n            clip: pane.options.clip\n        });\n\n        this.appendChart(rangeAreaChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createOHLCChart = function createOHLCChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var chart = new OHLCChart(this, {\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            series: series,\n            spacing: firstSeries.spacing,\n            clip: pane.options.clip\n        });\n\n        this.appendChart(chart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createCandlestickChart = function createCandlestickChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var chart = new CandlestickChart(this, {\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            series: series,\n            spacing: firstSeries.spacing,\n            clip: pane.options.clip\n        });\n\n        this.appendChart(chart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createBoxPlotChart = function createBoxPlotChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var chart = new BoxPlotChart(this, {\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            series: series,\n            spacing: firstSeries.spacing,\n            clip: pane.options.clip\n        });\n\n        this.appendChart(chart, pane);\n    };\n\n    CategoricalPlotArea.prototype.createWaterfallChart = function createWaterfallChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var waterfallChart = new WaterfallChart(this, {\n            series: series,\n            invertAxes: this.invertAxes,\n            gap: firstSeries.gap,\n            spacing: firstSeries.spacing\n        });\n\n        this.appendChart(waterfallChart, pane);\n    };\n\n    CategoricalPlotArea.prototype.axisRequiresRounding = function axisRequiresRounding (categoryAxisName, categoryAxisIndex) {\n        var this$1$1 = this;\n\n        var centeredSeries = filterSeriesByType(this.series, EQUALLY_SPACED_SERIES);\n\n        for (var seriesIx = 0; seriesIx < this.series.length; seriesIx++) {\n            var currentSeries = this$1$1.series[seriesIx];\n            if (inArray(currentSeries.type, AREA_SERIES)) {\n                var line = currentSeries.line;\n                if (line && line.style === STEP) {\n                    centeredSeries.push(currentSeries);\n                }\n            }\n        }\n\n        for (var seriesIx$1 = 0; seriesIx$1 < centeredSeries.length; seriesIx$1++) {\n            var seriesAxis = centeredSeries[seriesIx$1].categoryAxis || \"\";\n            if (seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) {\n                return true;\n            }\n        }\n    };\n\n    CategoricalPlotArea.prototype.aggregatedAxis = function aggregatedAxis (categoryAxisName, categoryAxisIndex) {\n        var series = this.series;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var seriesAxis = series[seriesIx].categoryAxis || \"\";\n            if ((seriesAxis === categoryAxisName || (!seriesAxis && categoryAxisIndex === 0)) && series[seriesIx].categoryField) {\n                return true;\n            }\n        }\n    };\n\n    CategoricalPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {\n        var axes = this.axes;\n        for (var i = 0; i < axes.length; i++) {\n            if (axes[i] instanceof CategoryAxis) {\n                axes[i].createLabels();\n            }\n        }\n    };\n\n    CategoricalPlotArea.prototype.createCategoryAxes = function createCategoryAxes (panes) {\n        var this$1$1 = this;\n\n        var invertAxes = this.invertAxes;\n        var definitions = [].concat(this.options.categoryAxis);\n        var axes = [];\n\n        for (var i = 0; i < definitions.length; i++) {\n            var axisOptions = definitions[i];\n            var axisPane = this$1$1.findPane(axisOptions.pane);\n\n            if (inArray(axisPane, panes)) {\n                var name = axisOptions.name;\n                var categories = axisOptions.categories; if ( categories === void 0 ) categories = [];\n                axisOptions = deepExtend({\n                    vertical: invertAxes,\n                    reverse: !invertAxes && this$1$1.chartService.rtl,\n                    axisCrossingValue: invertAxes ? MAX_VALUE : 0\n                }, axisOptions);\n\n                if (!defined(axisOptions.justified)) {\n                    axisOptions.justified = this$1$1.isJustified();\n                }\n\n                if (this$1$1.axisRequiresRounding(name, i)) {\n                    axisOptions.justified = false;\n                }\n\n                var categoryAxis = (void 0);\n\n                if (isDateAxis(axisOptions, categories[0])) {\n                    axisOptions._forecast = this$1$1.trendlineAggregateForecast();\n                    categoryAxis = new DateCategoryAxis(axisOptions, this$1$1.chartService);\n                } else {\n                    categoryAxis = new CategoryAxis(axisOptions, this$1$1.chartService);\n                }\n\n                definitions[i].categories = categoryAxis.options.srcCategories;\n\n                if (name) {\n                    if (this$1$1.namedCategoryAxes[name]) {\n                        throw new Error((\"Category axis with name \" + name + \" is already defined\"));\n                    }\n                    this$1$1.namedCategoryAxes[name] = categoryAxis;\n                }\n\n                categoryAxis.axisIndex = i;\n                axes.push(categoryAxis);\n                this$1$1.appendAxis(categoryAxis);\n            }\n        }\n\n        var primaryAxis = this.categoryAxis || axes[0];\n        this.categoryAxis = primaryAxis;\n\n        if (invertAxes) {\n            this.axisY = primaryAxis;\n        } else {\n            this.axisX = primaryAxis;\n        }\n    };\n\n    CategoricalPlotArea.prototype.isJustified = function isJustified () {\n        var series = this.series;\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n            if (!inArray(currentSeries.type, AREA_SERIES)) {\n                return false;\n            }\n        }\n\n        return true;\n    };\n\n    CategoricalPlotArea.prototype.createValueAxes = function createValueAxes (panes) {\n        var this$1$1 = this;\n\n        var tracker = this.valueAxisRangeTracker;\n        var defaultRange = tracker.query();\n        var definitions = [].concat(this.options.valueAxis);\n        var invertAxes = this.invertAxes;\n        var baseOptions = { vertical: !invertAxes, reverse: invertAxes && this.chartService.rtl };\n        var axes = [];\n\n        if (this.stack100) {\n            baseOptions.roundToMajorUnit = false;\n            baseOptions.labels = { format: \"P0\" };\n        }\n\n        for (var i = 0; i < definitions.length; i++) {\n            var axisOptions = definitions[i];\n            var axisPane = this$1$1.findPane(axisOptions.pane);\n\n            if (inArray(axisPane, panes)) {\n                var name = axisOptions.name;\n                var defaultAxisRange = equalsIgnoreCase(axisOptions.type, LOGARITHMIC) ? { min: 0.1, max: 1 } : { min: 0, max: 1 };\n                var range = tracker.query(name) || defaultRange || defaultAxisRange;\n\n                if (i === 0 && range && defaultRange) {\n                    range.min = Math.min(range.min, defaultRange.min);\n                    range.max = Math.max(range.max, defaultRange.max);\n                }\n\n                var axisType = (void 0);\n                if (equalsIgnoreCase(axisOptions.type, LOGARITHMIC)) {\n                    axisType = LogarithmicAxis;\n                } else {\n                    axisType = NumericAxis;\n                }\n\n                var valueAxis = new axisType(range.min, range.max,\n                    deepExtend({}, baseOptions, axisOptions),\n                    this$1$1.chartService\n                );\n\n                if (name) {\n                    if (this$1$1.namedValueAxes[name]) {\n                        throw new Error((\"Value axis with name \" + name + \" is already defined\"));\n                    }\n                    this$1$1.namedValueAxes[name] = valueAxis;\n                }\n                valueAxis.axisIndex = i;\n\n                axes.push(valueAxis);\n                this$1$1.appendAxis(valueAxis);\n            }\n        }\n\n        var primaryAxis = this.valueAxis || axes[0];\n        this.valueAxis = primaryAxis;\n\n        if (invertAxes) {\n            this.axisX = primaryAxis;\n        } else {\n            this.axisY = primaryAxis;\n        }\n    };\n\n    CategoricalPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {\n        var coords = chart._eventCoordinates(e);\n        var point = new Point$5(coords.x, coords.y);\n        var pane = this.pointPane(point);\n        var categories = [];\n        var values = [];\n\n        if (!pane) {\n            return;\n        }\n\n        var allAxes = pane.axes;\n        for (var i = 0; i < allAxes.length; i++) {\n            var axis = allAxes[i];\n            if (axis.getValue) {\n                appendIfNotNull(values, axis.getValue(point));\n            } else {\n                appendIfNotNull(categories, axis.getCategory(point));\n            }\n        }\n\n        if (categories.length === 0) {\n            appendIfNotNull(categories, this.categoryAxis.getCategory(point));\n        }\n\n        if (categories.length > 0 && values.length > 0) {\n            chart.trigger(eventType, {\n                element: eventElement(e),\n                originalEvent: e,\n                category: singleItemOrArray(categories),\n                value: singleItemOrArray(values)\n            });\n        }\n    };\n\n    CategoricalPlotArea.prototype.pointPane = function pointPane (point) {\n        var panes = this.panes;\n\n        for (var i = 0; i < panes.length; i++) {\n            var currentPane = panes[i];\n            if (currentPane.contentBox.containsPoint(point)) {\n                return currentPane;\n            }\n        }\n    };\n\n    CategoricalPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {\n        updateAxisOptions$2(this.options, axis, options);\n        updateAxisOptions$2(this.originalOptions, axis, options);\n    };\n\n    CategoricalPlotArea.prototype._pointsByVertical = function _pointsByVertical (basePoint, offset) {\n        if ( offset === void 0 ) offset = 0;\n\n        if (this.invertAxes) {\n            return this._siblingsBySeriesIndex(basePoint.series.index, offset);\n        }\n\n        return this._siblingsByPointIndex(basePoint.getIndex());\n    };\n\n    CategoricalPlotArea.prototype._pointsByHorizontal = function _pointsByHorizontal (basePoint, offset) {\n        if ( offset === void 0 ) offset = 0;\n\n        if (this.invertAxes) {\n            return this._siblingsByPointIndex(basePoint.getIndex());\n        }\n\n        var siblings = this._siblingsBySeriesIndex(basePoint.series.index, offset);\n\n        if (this.chartService.rtl) {\n            return siblings.reverse();\n        }\n\n        return siblings;\n    };\n\n    CategoricalPlotArea.prototype._siblingsByPointIndex = function _siblingsByPointIndex (pointIndex) {\n        var this$1$1 = this;\n\n        var charts = this.charts;\n        var result = [];\n\n        for (var i = 0; i < charts.length; i++) {\n            var chart = charts[i];\n\n            if (chart.pane && chart.pane.options.name === \"_navigator\") {\n                continue;\n            }\n\n            var chartPoints = chart.points\n                .filter(function (point) { return point && point.visible !== false && point.getIndex() === pointIndex; }\n                );\n\n            result.push.apply(result, chartPoints.sort(this$1$1._getSeriesCompareFn(chartPoints[0])));\n        }\n\n        return result;\n    };\n\n    CategoricalPlotArea.prototype._siblingsBySeriesIndex = function _siblingsBySeriesIndex (seriesIndex, offset) {\n        var index = cycleIndex(seriesIndex + offset, this.series.length);\n\n        return this.pointsBySeriesIndex(index);\n    };\n\n    CategoricalPlotArea.prototype._getSeriesCompareFn = function _getSeriesCompareFn (point) {\n        var isStacked = this._isInStackedSeries(point);\n\n        if (isStacked && this.invertAxes || !isStacked && !this.invertAxes) {\n            return function (a, b) { return a.box.center().x - b.box.center().x; };\n        }\n\n        return function (a, b) { return a.box.center().y - b.box.center().y; };\n    };\n\n    CategoricalPlotArea.prototype._isInStackedSeries = function _isInStackedSeries (point) {\n        var sortableSeries = inArray(point.series.type,\n            [ AREA, VERTICAL_AREA, RANGE_AREA, VERTICAL_RANGE_AREA, LINE, VERTICAL_LINE, RADAR_LINE, RADAR_AREA]);\n\n        var stackableSeries = inArray(point.series.type, [ COLUMN, BAR]);\n\n        return sortableSeries || stackableSeries && point.options.isStacked;\n    };\n\n    return CategoricalPlotArea;\n}(PlotAreaBase));\n\nfunction updateAxisOptions$2(targetOptions, axis, options) {\n    var axesOptions = axis instanceof CategoryAxis ? [].concat(targetOptions.categoryAxis) : [].concat(targetOptions.valueAxis);\n    deepExtend(axesOptions[axis.axisIndex], options);\n}\n\nfunction groupSeries(series, axis, axisIx) {\n    return grep(series, function(s) {\n        return (axisIx === 0 && !s.categoryAxis) || (s.categoryAxis === axis);\n    });\n}\n\nsetDefaultOptions(CategoricalPlotArea, {\n    categoryAxis: {},\n    valueAxis: {}\n});\n\ndeepExtend(CategoricalPlotArea.prototype, PlotAreaEventsMixin);\n\nvar Highlight = (function (Class) {\n    function Highlight() {\n        Class.call(this);\n\n        this._points = [];\n    }\n\n    if ( Class ) Highlight.__proto__ = Class;\n    Highlight.prototype = Object.create( Class && Class.prototype );\n    Highlight.prototype.constructor = Highlight;\n\n    Highlight.prototype.destroy = function destroy () {\n        this._points = [];\n    };\n\n    Highlight.prototype.show = function show (points, opacity) {\n        var this$1$1 = this;\n\n        var arrayPoints = [].concat(points);\n        this.hide();\n\n        for (var i = 0; i < arrayPoints.length; i++) {\n            var point = arrayPoints[i];\n            if (point && point.toggleHighlight && point.hasHighlight()) {\n                this$1$1.togglePointHighlight(point, true, opacity);\n                this$1$1._points.push(point);\n            }\n        }\n    };\n\n    Highlight.prototype.togglePointHighlight = function togglePointHighlight (point, show, opacity) {\n        var toggleHandler = (point.options.highlight || {}).toggle;\n        if (toggleHandler) {\n            var eventArgs = {\n                category: point.category,\n                series: point.series,\n                dataItem: point.dataItem,\n                value: point.value,\n                stackValue: point.stackValue,\n                preventDefault: preventDefault,\n                visual: point.highlightVisual(),\n                show: show\n            };\n            toggleHandler(eventArgs);\n            if (!eventArgs._defaultPrevented) {\n                point.toggleHighlight(show, opacity);\n            }\n        } else {\n            point.toggleHighlight(show, opacity);\n        }\n    };\n\n    Highlight.prototype.hide = function hide () {\n        var this$1$1 = this;\n\n        var points = this._points;\n        while (points.length) {\n            this$1$1.togglePointHighlight(points.pop(), false);\n        }\n    };\n\n    Highlight.prototype.isHighlighted = function isHighlighted (element) {\n        var points = this._points;\n\n        for (var i = 0; i < points.length; i++) {\n            var point = points[i];\n            if (element === point) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    return Highlight;\n}(Class));\n\nfunction preventDefault() {\n    this._defaultPrevented = true;\n}\n\nfunction acceptKey(e, mouseKey) {\n    var key = (mouseKey || \"\").toLowerCase();\n    var event = e.event;\n    var accept = (key === \"none\" && !(event.ctrlKey || event.shiftKey || event.altKey)) || event[key + \"Key\"];\n\n    return accept;\n}\n\nfunction toChartAxisRanges(axisRanges) {\n    var ranges = {};\n    for (var idx = 0; idx < axisRanges.length; idx++) {\n        var axisRange = axisRanges[idx];\n        if (axisRange.axis.options.name) {\n            ranges[axisRange.axis.options.name] = {\n                min: axisRange.range.min,\n                max: axisRange.range.max\n            };\n        }\n    }\n    return ranges;\n}\n\nvar Pannable = (function (Class) {\n    function Pannable(plotArea, options) {\n        Class.call(this);\n\n        this.plotArea = plotArea;\n        this.options = deepExtend({}, this.options, options);\n    }\n\n    if ( Class ) Pannable.__proto__ = Class;\n    Pannable.prototype = Object.create( Class && Class.prototype );\n    Pannable.prototype.constructor = Pannable;\n\n    Pannable.prototype.start = function start (e) {\n        this._active = acceptKey(e, this.options.key);\n        return this._active;\n    };\n\n    Pannable.prototype.move = function move (e) {\n        if (this._active) {\n            var axisRanges = this.axisRanges = this._panAxes(e, X).concat(this._panAxes(e, Y));\n            if (axisRanges.length) {\n                this.axisRanges = axisRanges;\n                return toChartAxisRanges(axisRanges);\n            }\n        }\n    };\n\n    Pannable.prototype.end = function end () {\n        var active = this._active;\n        this._active = false;\n\n        return active;\n    };\n\n    Pannable.prototype.pan = function pan () {\n        var ref = this;\n        var plotArea = ref.plotArea;\n        var axisRanges = ref.axisRanges;\n        if (axisRanges.length) {\n            for (var idx = 0; idx < axisRanges.length; idx++) {\n                var range = axisRanges[idx];\n                plotArea.updateAxisOptions(range.axis, range.range);\n            }\n            plotArea.redraw(plotArea.panes);\n        }\n    };\n\n    Pannable.prototype.destroy = function destroy () {\n        delete this.plotArea;\n    };\n\n    Pannable.prototype._panAxes = function _panAxes (e, position) {\n        var plotArea = this.plotArea;\n        var delta = -e[position].delta;\n        var lock = (this.options.lock || \"\").toLowerCase();\n        var updatedAxes = [];\n\n        if (delta !== 0 && (lock || \"\").toLowerCase() !== position) {\n            var axes = plotArea.axes;\n            for (var idx = 0; idx < axes.length; idx++) {\n                var axis = axes[idx];\n\n                if (position === X && !axis.options.vertical || position === Y && axis.options.vertical) {\n                    var range = axis.pan(delta);\n\n                    if (range) {\n                        range.limitRange = true;\n                        updatedAxes.push({\n                            axis: axis,\n                            range: range\n                        });\n                    }\n                }\n            }\n        }\n\n        return updatedAxes;\n    };\n\n    return Pannable;\n}(Class));\n\nPannable.prototype.options = {\n    key: \"none\",\n    lock: \"none\"\n};\n\nvar ZoomSelection = (function (Class) {\n    function ZoomSelection(chart, options) {\n        Class.call(this);\n\n        this.chart = chart;\n        this.options = deepExtend({}, this.options, options);\n        this.createElement();\n    }\n\n    if ( Class ) ZoomSelection.__proto__ = Class;\n    ZoomSelection.prototype = Object.create( Class && Class.prototype );\n    ZoomSelection.prototype.constructor = ZoomSelection;\n\n    ZoomSelection.prototype.createElement = function createElement () {\n        var marquee = this._marquee = document.createElement(\"div\");\n        marquee.className = \"k-marquee\";\n        var marqueeColor = document.createElement(\"div\");\n        marqueeColor.className = \"k-marquee-color\";\n        marquee.appendChild(marqueeColor);\n    };\n\n    ZoomSelection.prototype.removeElement = function removeElement () {\n        if (this._marquee.parentNode) {\n            this._marquee.parentNode.removeChild(this._marquee);\n        }\n    };\n\n    ZoomSelection.prototype.setStyles = function setStyles (styles) {\n        elementStyles(this._marquee, styles);\n    };\n\n    ZoomSelection.prototype.start = function start (e) {\n        if (acceptKey(e, this.options.key)) {\n            var chart = this.chart;\n            var point = chart._eventCoordinates(e);\n            var zoomPane = this._zoomPane = chart._plotArea.paneByPoint(point);\n            var clipBox = zoomPane ? zoomPane.chartsBox().clone() : null;\n\n            if (zoomPane && clipBox) {\n                var offset = this._elementOffset();\n\n                clipBox.translate(offset.left, offset.top);\n                this._zoomPaneClipBox = clipBox;\n\n                document.body.appendChild(this._marquee);\n                this.setStyles({\n                    left: e.pageX + 1,\n                    top: e.pageY + 1,\n                    width: 0,\n                    height: 0\n                });\n\n                return true;\n            }\n        }\n        return false;\n    };\n\n    ZoomSelection.prototype._elementOffset = function _elementOffset () {\n        var chartElement = this.chart.element;\n        var ref = elementStyles(chartElement, [ \"paddingLeft\", \"paddingTop\" ]);\n        var paddingLeft = ref.paddingLeft;\n        var paddingTop = ref.paddingTop;\n        var offset = elementOffset(chartElement);\n\n        return {\n            left: paddingLeft + offset.left,\n            top: paddingTop + offset.top\n        };\n    };\n\n    ZoomSelection.prototype.move = function move (e) {\n        var zoomPane = this._zoomPane;\n        if (zoomPane) {\n            this.setStyles(this._selectionPosition(e));\n        }\n    };\n\n    ZoomSelection.prototype.end = function end (e) {\n        var zoomPane = this._zoomPane;\n        if (zoomPane) {\n            var elementOffset = this._elementOffset();\n            var selectionPosition = this._selectionPosition(e);\n            selectionPosition.left -= elementOffset.left;\n            selectionPosition.top -= elementOffset.top;\n\n            var start = { x: selectionPosition.left, y: selectionPosition.top };\n            var end = { x: selectionPosition.left + selectionPosition.width, y: selectionPosition.top + selectionPosition.height };\n            this._updateAxisRanges(start, end);\n\n            this.removeElement();\n            delete this._zoomPane;\n\n            return toChartAxisRanges(this.axisRanges);\n        }\n    };\n\n    ZoomSelection.prototype.zoom = function zoom () {\n        var axisRanges = this.axisRanges;\n        if (axisRanges && axisRanges.length) {\n            var plotArea = this.chart._plotArea;\n            for (var idx = 0; idx < axisRanges.length; idx++) {\n                var axisRange = axisRanges[idx];\n                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\n            }\n            plotArea.redraw(plotArea.panes);\n        }\n    };\n\n    ZoomSelection.prototype.destroy = function destroy () {\n        this.removeElement();\n        delete this._marquee;\n        delete this.chart;\n    };\n\n    ZoomSelection.prototype._updateAxisRanges = function _updateAxisRanges (start, end) {\n        var lock = (this.options.lock || \"\").toLowerCase();\n        var axisRanges = [];\n\n        var axes = this._zoomPane.axes;\n        for (var idx = 0; idx < axes.length; idx++) {\n            var axis = axes[idx];\n            var vertical = axis.options.vertical;\n            if (!(lock === X && !vertical) && !(lock === Y && vertical) && defined(axis.axisIndex)) {\n                var range = axis.pointsRange(start, end);\n                if (range) {\n                    axisRanges.push({\n                        axis: axis,\n                        range: range\n                    });\n                }\n            }\n        }\n\n        this.axisRanges = axisRanges;\n    };\n\n    ZoomSelection.prototype._selectionPosition = function _selectionPosition (e) {\n        var clipBox = this._zoomPaneClipBox;\n        var startLocation = {\n            x: e.x.startLocation,\n            y: e.y.startLocation\n        };\n        var pageX = e.x.location;\n        var pageY = e.y.location;\n        var lock = (this.options.lock || \"\").toLowerCase();\n        var left = Math.min(startLocation.x, pageX);\n        var top = Math.min(startLocation.y, pageY);\n        var width = Math.abs(startLocation.x - pageX);\n        var height = Math.abs(startLocation.y - pageY);\n\n        if (lock === X) {\n            left = clipBox.x1;\n            width = clipBox.width();\n        }\n        if (lock === Y) {\n            top = clipBox.y1;\n            height = clipBox.height();\n        }\n\n        if (pageX > clipBox.x2) {\n            width = clipBox.x2 - startLocation.x;\n        }\n\n        if (pageX < clipBox.x1) {\n            width = startLocation.x - clipBox.x1;\n        }\n\n        if (pageY > clipBox.y2) {\n            height = clipBox.y2 - startLocation.y;\n        }\n\n        if (pageY < clipBox.y1) {\n            height = startLocation.y - clipBox.y1;\n        }\n\n        return {\n            left: Math.max(left, clipBox.x1),\n            top: Math.max(top, clipBox.y1),\n            width: width,\n            height: height\n        };\n    };\n\n    return ZoomSelection;\n}(Class));\n\nZoomSelection.prototype.options = {\n    key: \"shift\",\n    lock: \"none\"\n};\n\n// Limit the zoom rate between 1% and 90% per mousewheel event.\n// At zoom rates close to 100% the axis range quickly becomes 0.\nvar MIN_RATE = 0.01;\nvar MAX_RATE = 0.9;\nvar DEFAULT_RATE = 0.3;\n\nvar MousewheelZoom = (function (Class) {\n    function MousewheelZoom(chart, options) {\n        Class.call(this);\n\n        this.chart = chart;\n        this.options = deepExtend({\n            rate: DEFAULT_RATE\n        }, this.options, options);\n    }\n\n    if ( Class ) MousewheelZoom.__proto__ = Class;\n    MousewheelZoom.prototype = Object.create( Class && Class.prototype );\n    MousewheelZoom.prototype.constructor = MousewheelZoom;\n\n    MousewheelZoom.prototype.updateRanges = function updateRanges (delta, coords) {\n        var this$1$1 = this;\n\n        var lock = (this.options.lock || \"\").toLowerCase();\n        var axisRanges = [];\n        var axes = this.chart._plotArea.axes;\n\n        for (var idx = 0; idx < axes.length; idx++) {\n            var axis = axes[idx];\n            var vertical = axis.options.vertical;\n\n            if (!(lock === X && !vertical) && !(lock === Y && vertical) && axis.zoomRange) {\n                var rate = limitValue(this$1$1.options.rate, MIN_RATE, MAX_RATE);\n                var range = axis.zoomRange(-delta * rate, coords);\n\n                if (range) {\n                    axisRanges.push({\n                        axis: axis,\n                        range: range\n                    });\n                }\n            }\n        }\n\n        this.axisRanges = axisRanges;\n        return toChartAxisRanges(axisRanges);\n    };\n\n    MousewheelZoom.prototype.zoom = function zoom () {\n        var axisRanges = this.axisRanges;\n        var plotArea = this.chart._plotArea;\n\n        if (axisRanges && axisRanges.length && plotArea.updateAxisOptions) {\n            for (var idx = 0; idx < axisRanges.length; idx++) {\n                var axisRange = axisRanges[idx];\n                plotArea.updateAxisOptions(axisRange.axis, axisRange.range);\n            }\n            plotArea.redraw(plotArea.panes);\n        }\n    };\n\n    MousewheelZoom.prototype.destroy = function destroy () {\n        delete this.chart;\n    };\n\n    return MousewheelZoom;\n}(Class));\n\nvar alignItems = function (rtl) { return (rtl ? END$1 : START$1); };\n\nvar LegendLayout = (function (ChartElement) {\n    function LegendLayout(options, chartService) {\n        ChartElement.call(this, options);\n\n        this.chartService = chartService;\n    }\n\n    if ( ChartElement ) LegendLayout.__proto__ = ChartElement;\n    LegendLayout.prototype = Object.create( ChartElement && ChartElement.prototype );\n    LegendLayout.prototype.constructor = LegendLayout;\n\n    LegendLayout.prototype.render = function render () {\n        var ref = this;\n        var children = ref.children;\n        var options = ref.options;\n        var vertical = options.vertical;\n\n        this.visual = new Layout(null, {\n            spacing: vertical ? 0 : options.spacing,\n            lineSpacing: vertical ? options.spacing : 0,\n            orientation: vertical ? VERTICAL : HORIZONTAL,\n            reverse: options.rtl,\n            alignItems: vertical ? alignItems(options.rtl) : CENTER\n        });\n\n        for (var idx = 0; idx < children.length; idx++) {\n            var legendItem = children[idx];\n            legendItem.reflow(new Box());\n            legendItem.renderVisual();\n        }\n    };\n\n    LegendLayout.prototype.reflow = function reflow (box) {\n        this.visual.rect(box.toRect());\n        this.visual.reflow();\n        var bbox = this.visual.clippedBBox();\n\n        if (bbox) {\n            this.box = rectToBox(bbox);\n        } else {\n            this.box = new Box();\n        }\n    };\n\n    LegendLayout.prototype.renderVisual = function renderVisual () {\n        this.addVisual();\n    };\n\n    LegendLayout.prototype.createVisual = function createVisual () {};\n\n    return LegendLayout;\n}(ChartElement));\n\nvar DEFAULT_MARKER_SIZE = 10;\nvar DEFAULT_MARKER_BORDER_WIDTH = 2;\n\nvar LegendItemMarker = (function (ShapeElement) {\n    function LegendItemMarker () {\n        ShapeElement.apply(this, arguments);\n    }\n\n    if ( ShapeElement ) LegendItemMarker.__proto__ = ShapeElement;\n    LegendItemMarker.prototype = Object.create( ShapeElement && ShapeElement.prototype );\n    LegendItemMarker.prototype.constructor = LegendItemMarker;\n\n    LegendItemMarker.prototype.visualStyle = function visualStyle () {\n        var options = this.markerOptions();\n        var border = options.border;\n\n        return {\n            stroke: {\n                width: border.width,\n                color: border.color,\n                opacity: valueOrDefault(border.opacity, options.opacity),\n                dashType: border.dashType\n            },\n            fill: {\n                color: options.background,\n                opacity: options.opacity\n            },\n            cursor: options.cursor\n        };\n    };\n\n    LegendItemMarker.prototype.markerOptions = function markerOptions () {\n        return this.options;\n    };\n\n    LegendItemMarker.prototype.markerHighlightOptions = function markerHighlightOptions () {\n        var options = this.markerOptions();\n        var borderWidth = options.highlight.border.width;\n\n        return deepExtend(\n            {},\n            options,\n            { background: options.border.color },\n            options.highlight,\n            options.type === CROSS ? {\n                background: options.highlight.border.color,\n                border: { color: options.highlight.background, width: borderWidth / 2 },\n                width: options.width,\n                height: options.height,\n                margin: { top: 0, left: 0 }\n            } : {}\n        );\n    };\n\n    LegendItemMarker.prototype.createHighlight = function createHighlight () {\n        var highlight = new ShapeElement(this.markerHighlightOptions());\n        var box = this.paddingBox.clone();\n        highlight.reflow(box.pad(highlight.options.border.width));\n        this.highlight = [ highlight.getElement() ];\n\n        return this.highlight;\n    };\n\n    return LegendItemMarker;\n}(ShapeElement));\n\nsetDefaultOptions(LegendItemMarker, {\n    border: {\n        width: DEFAULT_MARKER_BORDER_WIDTH\n    },\n    width: DEFAULT_MARKER_SIZE - DEFAULT_MARKER_BORDER_WIDTH,\n    height: DEFAULT_MARKER_SIZE - DEFAULT_MARKER_BORDER_WIDTH,\n    background: WHITE$1,\n    margin: {\n        top: -1,\n        left: -1\n    },\n    vAlign: TOP,\n    align: LEFT,\n    highlight: {\n        width: DEFAULT_MARKER_SIZE,\n        height: DEFAULT_MARKER_SIZE,\n        border: {\n            color: WHITE$1,\n            width: DEFAULT_MARKER_BORDER_WIDTH\n        }\n    }\n});\n\nvar MarkerLineArea = (function (ShapeElement) {\n    function MarkerLineArea () {\n        ShapeElement.apply(this, arguments);\n    }\n\n    if ( ShapeElement ) MarkerLineArea.__proto__ = ShapeElement;\n    MarkerLineArea.prototype = Object.create( ShapeElement && ShapeElement.prototype );\n    MarkerLineArea.prototype.constructor = MarkerLineArea;\n\n    MarkerLineArea.prototype.getElement = function getElement () {\n        var group = new Group$8();\n        var element = new MultiPath(this.visualStyle());\n        var ref = this;\n        var box = ref.paddingBox;\n        var halfHeight = box.height() / 2;\n\n        element\n            .moveTo(box.x1, box.y1 + halfHeight)\n            .lineTo(box.x1, box.y2)\n            .lineTo(box.x2, box.y2);\n\n        group.append(element);\n\n        return group;\n    };\n\n    return MarkerLineArea;\n}(ShapeElement));\n\nsetDefaultOptions(MarkerLineArea, {\n    width: 15,\n    height: 15,\n    align: RIGHT,\n    vAlign: BOTTOM$1,\n    margin: {\n        right: -2,\n        bottom: 2\n    }\n});\n\nvar LegendItemLine = (function (ShapeElement) {\n    function LegendItemLine () {\n        ShapeElement.apply(this, arguments);\n    }\n\n    if ( ShapeElement ) LegendItemLine.__proto__ = ShapeElement;\n    LegendItemLine.prototype = Object.create( ShapeElement && ShapeElement.prototype );\n    LegendItemLine.prototype.constructor = LegendItemLine;\n\n    LegendItemLine.prototype.getElement = function getElement () {\n        var group = new Group$8();\n        var element = new MultiPath({\n            stroke: {\n                color: this.options.border.color,\n                opacity: this.options.opacity,\n                width: this.options.height,\n                dashType: this.options.dashType\n            }\n        });\n        var box = this.paddingBox;\n        var centerY = box.center().y;\n\n        element\n            .moveTo(box.x1, centerY)\n            .lineTo(box.x2, centerY);\n\n        group.append(element);\n\n        return group;\n    };\n\n    LegendItemLine.prototype.createHighlight = function createHighlight () {\n        this.highlight = [ this.createHighlightLine(), this.createHighlightMarker() ];\n        return this.highlight;\n    };\n\n    LegendItemLine.prototype.createHighlightLine = function createHighlightLine () {\n        var options = deepExtend({}, {\n            border: {\n                color: this.options.border.color,\n                opacity: this.options.border.opacity,\n                dashType: this.options.border.dashType\n            }\n        }, this.options.highlight);\n        var highlightLine = new MarkerLineArea(options);\n        highlightLine.reflow(this.parent.paddingBox.clone());\n\n        this.highlightLine = highlightLine.getElement();\n\n        return this.highlightLine;\n    };\n\n    LegendItemLine.prototype.createHighlightMarker = function createHighlightMarker () {\n        var options = deepExtend({}, {\n            background: this.options.background,\n        }, this.options.highlight.markers);\n        var highlightMarker = new ShapeElement(options);\n        var paddingBox = this.parent.paddingBox;\n        var borderWidth = options.border.width;\n        var box = this.parent.box.clone();\n\n        box.pad({\n            left: borderWidth - paddingBox.x1,\n            top: borderWidth - paddingBox.y1\n        });\n\n        highlightMarker.reflow(box);\n        this.highlightMarker = highlightMarker.getElement();\n\n        return this.highlightMarker;\n    };\n\n    return LegendItemLine;\n}(ShapeElement));\n\nsetDefaultOptions(LegendItemLine, {\n    border: {\n        width: 0\n    },\n    type: RECT,\n    align: LEFT,\n    vAlign: CENTER,\n    highlight: {\n        border: {\n            width: DEFAULT_MARKER_BORDER_WIDTH\n        },\n        markers: {\n            type: CIRCLE,\n            width: DEFAULT_MARKER_SIZE,\n            height: DEFAULT_MARKER_SIZE,\n            border: {\n                width: DEFAULT_MARKER_BORDER_WIDTH,\n                color: WHITE$1\n            },\n            align: LEFT,\n            vAlign: TOP\n        }\n    }\n});\n\nvar LegendItemSquare = (function (ShapeElement) {\n    function LegendItemSquare () {\n        ShapeElement.apply(this, arguments);\n    }\n\n    if ( ShapeElement ) LegendItemSquare.__proto__ = ShapeElement;\n    LegendItemSquare.prototype = Object.create( ShapeElement && ShapeElement.prototype );\n    LegendItemSquare.prototype.constructor = LegendItemSquare;\n\n    LegendItemSquare.prototype.createHighlight = function createHighlight () {\n        var options = deepExtend({}, {\n            background: this.options.background,\n        }, this.options.highlight.markers);\n        var highlight = new ShapeElement(options);\n\n        var box = this.paddingBox.clone();\n        var targetBox = this.parent.box.clone();\n        box.align(targetBox, X, LEFT);\n        box.align(targetBox, Y, TOP);\n        highlight.reflow(box);\n\n        this.highlight = [ highlight.getElement() ];\n\n        return this.highlight;\n    };\n\n    return LegendItemSquare;\n}(ShapeElement));\n\nsetDefaultOptions(LegendItemSquare, {\n    highlight: {\n        markers: {\n            type: CIRCLE,\n            width: DEFAULT_MARKER_SIZE,\n            height: DEFAULT_MARKER_SIZE,\n            border: {\n                width: DEFAULT_MARKER_BORDER_WIDTH,\n                color: WHITE$1\n            },\n            margin: {\n                top: -3,\n                left: -3\n            }\n        }\n    }\n});\n\nvar LegendItem = (function (BoxElement) {\n    function LegendItem(options) {\n        BoxElement.call(this, options);\n\n        this.createContainer();\n        if (!options.rtl) {\n            this.createMarker();\n            this.createLabel();\n        } else {\n            this.createLabel();\n            this.createMarker();\n        }\n\n        this._id = guid();\n        this.options.accessibility.ariaChecked = options.active;\n    }\n\n    if ( BoxElement ) LegendItem.__proto__ = BoxElement;\n    LegendItem.prototype = Object.create( BoxElement && BoxElement.prototype );\n    LegendItem.prototype.constructor = LegendItem;\n\n    LegendItem.prototype.createContainer = function createContainer () {\n        this.container = new FloatElement({ vertical: false, wrap: false, align: CENTER, spacing: this.options.spacing });\n        this.append(this.container);\n    };\n\n    LegendItem.prototype.createMarker = function createMarker () {\n        this.markerWrap = new BoxElement({ vertical: false, shrinkToFit: true, wrap: false, margin: 1, width: 22, height: 22 });\n        this.container.append(this.markerWrap);\n\n        this.createMarkerArea();\n\n        if (this.options.markers.visible) {\n            this._marker = this._createMarker();\n            this.markerWrap.append(this._marker);\n        }\n    };\n\n    LegendItem.prototype.createMarkerArea = function createMarkerArea () {\n        var options = this.options;\n        var markerColor = options.markerColor;\n        var line = options.line; if ( line === void 0 ) line = {};\n        var lineOptions = {\n            border: {\n                color: line.color || markerColor,\n                opacity: line.opacity,\n                dashType: line.dashType\n            }\n        };\n        return this._createLine(lineOptions) ||\n            this._createMarkerLine(lineOptions, line) ||\n            this._createSquare();\n    };\n\n    LegendItem.prototype.markerOptions = function markerOptions () {\n        var options = this.options;\n        var markers = options.markers; if ( markers === void 0 ) markers = {};\n        var markerColor = options.markerColor;\n        var border = markers.border; if ( border === void 0 ) border = {};\n        markers.zIndex = undefined;\n\n        return deepExtend({}, markers, {\n            border: { color: border.color || markerColor },\n            highlight: options.highlight.markers\n        });\n    };\n\n    LegendItem.prototype._highlightOptions = function _highlightOptions () {\n        var options = this.options;\n        return deepExtend(\n            { markers: { type: options.markers.type } },\n            options.highlight\n        );\n    };\n\n    LegendItem.prototype._createLine = function _createLine (lineOptions) {\n        var options = this.options;\n        if (options.type === LINE && !options.markers.visible) {\n            this._line = new LegendItemLine(deepExtend({}, {\n                background: options.markerColor,\n                highlight: this._highlightOptions(),\n            }, lineOptions, options.line));\n\n            this.markerWrap.append(this._line);\n        }\n        return this._line;\n    };\n\n    LegendItem.prototype._createMarkerLine = function _createMarkerLine (lineOptions, line) {\n        var options = this.options;\n        if (options.type === LINE) {\n            this._markerLineArea = new MarkerLineArea(deepExtend({}, {\n                border: {\n                    width: line.height\n                }\n            }, lineOptions));\n\n            this.markerWrap.append(this._markerLineArea);\n        }\n\n        return this._markerLineArea;\n    };\n\n    LegendItem.prototype._reduceSize = function _reduceSize (object, prop, factor) {\n        if ( factor === void 0 ) factor = 0.6;\n\n        if (typeof object[prop] === 'number') {\n            object[prop] = object[prop] * factor;\n        }\n    };\n\n    LegendItem.prototype._createSquare = function _createSquare () {\n        var options = this.options;\n        if (options.type === AREA) {\n            var pattern = options.pattern || (options.series || {}).pattern;\n            if (pattern) {\n                if (typeof pattern === 'function') {\n                    pattern = pattern(options.series);\n                }\n                pattern = structuredClone(pattern);\n                this._reduceSize(pattern, 'gap');\n                this._reduceSize(pattern, 'width');\n                this._reduceSize(pattern, 'radius');\n            }\n\n            this._square = new LegendItemSquare(Object.assign({}, {border: options.border,\n                vAlign: options.markers.visible ? BOTTOM$1 : CENTER,\n                highlight: this._highlightOptions()},\n                options.area,\n                {pattern: pattern,\n                background: options.area.background || options.markerColor}));\n            this.markerWrap.append(this._square);\n        }\n        return this._square;\n    };\n\n    LegendItem.prototype._createMarker = function _createMarker () {\n        return new LegendItemMarker(this.markerOptions());\n    };\n\n    LegendItem.prototype._highlightMarkers = function _highlightMarkers () {\n        if (this.options.active) {\n            this._toggleHighlight(true);\n        }\n    };\n\n    LegendItem.prototype._restoreMarkers = function _restoreMarkers () {\n        this._toggleHighlight(false);\n    };\n\n    LegendItem.prototype._toggleHighlight = function _toggleHighlight (show) {\n        var this$1$1 = this;\n\n        if (!this.options.highlight.visible) {\n            return;\n        }\n\n        var element = this._marker || this._square || this._line;\n\n        if (element && element === this._line) {\n            this._line.visual.visible(!show);\n        }\n\n        if (element) {\n            var highlight = element.highlight;\n\n            if (!highlight) {\n                highlight = element.createHighlight();\n                highlight.forEach(function (h) { return h && this$1$1.markerWrap.appendVisual(h); });\n            }\n\n            highlight.forEach(function (h) { return h && h.visible(show); });\n        }\n    };\n\n    LegendItem.prototype.createLabel = function createLabel () {\n        var options = this.options;\n        var labelOptions = deepExtend({}, options.labels);\n\n        this.container.append(new TextBox(options.text, labelOptions));\n    };\n\n    LegendItem.prototype.getAriaLabelText = function getAriaLabelText () {\n        return this.options.text;\n    };\n\n    LegendItem.prototype.focusVisual = function focusVisual () {\n        this.visual.options.set(\"id\", this._id);\n        this.toggleFocusHighlight(true);\n        this._highlightMarkers();\n    };\n\n    LegendItem.prototype.clearFocusFromVisual = function clearFocusFromVisual () {\n        this.visual.options.set(\"id\", \"\");\n        this.toggleFocusHighlight(false);\n        this._restoreMarkers();\n    };\n\n    LegendItem.prototype.renderComplete = function renderComplete () {\n        BoxElement.prototype.renderComplete.call(this);\n\n        var cursor = this.options.cursor || {};\n        var eventSink = this._itemOverlay = Path$7.fromRect(this.container.box.toRect(), {\n            fill: {\n                color: WHITE$1,\n                opacity: 0\n            },\n            stroke: null,\n            cursor: cursor.style || cursor\n        });\n\n        this.appendVisual(eventSink);\n    };\n\n    LegendItem.prototype.click = function click (widget, e) {\n        var args = this.eventArgs(e);\n\n        if (!widget.trigger(LEGEND_ITEM_CLICK, args) && e && e.type === 'contextmenu') {\n            e.preventDefault();\n        }\n    };\n\n    LegendItem.prototype.over = function over (widget, e) {\n        var args = this.eventArgs(e);\n\n        if (!widget.trigger(LEGEND_ITEM_HOVER, args)) {\n            widget._legendItemHover(args.seriesIndex, args.pointIndex);\n            this._highlightMarkers();\n        }\n\n        // Don't trigger point hover for legend items\n        return true;\n    };\n\n    LegendItem.prototype.out = function out (widget, e) {\n        widget._unsetActivePoint();\n        this._restoreMarkers();\n\n        widget.trigger(LEGEND_ITEM_LEAVE, this.eventArgs(e));\n    };\n\n    LegendItem.prototype.eventArgs = function eventArgs (e) {\n        var options = this.options;\n\n        return {\n            element: eventElement(e),\n            text: options.text,\n            series: options.series,\n            seriesIndex: options.series.index,\n            pointIndex: options.pointIndex\n        };\n    };\n\n    LegendItem.prototype.createVisual = function createVisual () {\n        BoxElement.prototype.createVisual.call(this);\n        var options = this.options;\n\n        if (this.options.visible) {\n            var accessibilityOptions = deepExtend({\n                ariaLabel: options.accessibility.ariaLabel !== undefined ? options.accessibility.ariaLabel : options.text\n            }, options.accessibility);\n\n            addAccessibilityAttributesToVisual(this.visual, accessibilityOptions);\n        }\n    };\n\n    LegendItem.prototype.renderVisual = function renderVisual () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var customVisual = options.visual;\n\n        if (customVisual) {\n            this.visual = customVisual({\n                active: options.active,\n                series: options.series,\n                sender: this.getSender(),\n                pointIndex: options.pointIndex,\n                options: {\n                    type: options.type,\n                    // Passing the markerColor as a background option for backwards compatibility.\n                    // Example in jq docs - https://docs.telerik.com/kendo-ui/api/javascript/dataviz/ui/chart/configuration/legend.item#legenditemvisual\n                    markers: deepExtend({ background: this.options.markerColor }, this.markerOptions()),\n                    labels: options.labels\n                },\n                createVisual: function () {\n                    this$1$1.createVisual();\n                    this$1$1.renderChildren();\n                    this$1$1.renderComplete();\n\n                    var defaultVisual = this$1$1.visual;\n\n                    delete this$1$1.visual;\n\n                    return defaultVisual;\n                }\n            });\n            this._marker = this._markerLineArea = this._square = this._line = null;\n            this.addVisual();\n        } else {\n            BoxElement.prototype.renderVisual.call(this);\n        }\n    };\n\n    LegendItem.prototype.createFocusHighlight = function createFocusHighlight (style) {\n        var borderWidth = style.stroke.width;\n        return Path$7.fromRect(this.container.box.pad(borderWidth / 2).toRect(), style);\n    };\n\n    return LegendItem;\n}(BoxElement));\n\nsetDefaultOptions(LegendItem, {\n    accessibility: {\n        role: LEGEND_ITEM_ROLE,\n        className: LEGEND_ITEM_CLASSNAME,\n        ariaRoleDescription: LEGEND_ITEM_ARIA_ROLE_DESCRIPTION\n    },\n    markers: {},\n    highlight: {\n        visible: true,\n        markers: {}\n    }\n});\n\nvar CUSTOM = \"custom\";\n\nvar Legend$1 = (function (ChartElement) {\n    function Legend(options, chartService) {\n        if ( chartService === void 0 ) chartService = {};\n\n        ChartElement.call(this, options);\n\n        this.chartService = chartService;\n\n        if (!inArray(this.options.position, [ TOP, RIGHT, BOTTOM$1, LEFT, CUSTOM ])) {\n            this.options.position = RIGHT;\n        }\n\n        this.createContainers();\n\n        this.createLegendTitle(options.title);\n\n        this.createItems();\n    }\n\n    if ( ChartElement ) Legend.__proto__ = ChartElement;\n    Legend.prototype = Object.create( ChartElement && ChartElement.prototype );\n    Legend.prototype.constructor = Legend;\n\n    Legend.prototype.createContainers = function createContainers () {\n        var options = this.options;\n        var position = options.position;\n        var userAlign = options.align;\n        var align = position;\n        var vAlign = CENTER;\n\n        if (position === CUSTOM) {\n            align = LEFT;\n        } else if (inArray(position, [ TOP, BOTTOM$1 ])) {\n            if (userAlign === START$1) {\n                align = LEFT;\n            } else if (userAlign === END$1) {\n                align = RIGHT;\n            } else {\n                align = CENTER;\n            }\n            vAlign = position;\n        } else if (userAlign) {\n            if (userAlign === START$1) {\n                vAlign = TOP;\n            } else if (userAlign === END$1) {\n                vAlign = BOTTOM$1;\n            }\n        }\n\n        this.container = new BoxElement({\n            margin: options.margin,\n            padding: options.padding,\n            background: options.background,\n            border: options.border,\n            vAlign: vAlign,\n            align: align,\n            zIndex: options.zIndex,\n            shrinkToFit: true\n        });\n\n        if (this.hasTitle()) {\n            this.itemsContainer = new BoxElement({\n                vAlign: vAlign,\n                align: align,\n                zIndex: options.zIndex,\n                shrinkToFit: true\n            });\n        } else {\n            this.itemsContainer = this.container;\n        }\n\n        this.append(this.container);\n    };\n\n    Legend.prototype.createItems = function createItems () {\n        var chartService = this.getService();\n        var options = this.options;\n        var vertical = this.isVertical();\n        var innerElement = new LegendLayout({\n            vertical: vertical,\n            spacing: options.spacing,\n            rtl: chartService.rtl\n        }, chartService);\n        var data = options.data;\n\n        if (options.reverse) {\n            data = data.slice(0).reverse();\n        }\n\n        var count = data.length;\n\n        for (var i = 0; i < count; i++) {\n            var dataItem = data[i];\n            var ref = dataItem.series || {};\n            var markers = ref.markers; if ( markers === void 0 ) markers = {};\n            var dashType = ref.dashType;\n            var legendItem = ref.legendItem;\n            var opacity = ref.opacity;\n            var markersOptions = deepExtend({ visible: markers.visible !== false, type: CIRCLE }, markers);\n            delete markersOptions.size;\n\n            var itemOptions = deepExtend({},\n                {\n                    markers: markersOptions,\n                    labels: options.labels,\n                    rtl: chartService.rtl,\n                    line: Object.assign({}, {dashType: dashType},\n                        options.line),\n                    area: Object.assign({}, {opacity: opacity},\n                        options.area),\n                    opacity: opacity,\n                    accessibility: options.accessibility\n                },\n                options.item,\n                legendItem,\n                dataItem,\n                { markers: options.markers }\n            );\n\n            innerElement.append(new LegendItem(itemOptions));\n        }\n\n        innerElement.render();\n        this.itemsContainer.append(innerElement);\n    };\n\n    Legend.prototype.isVertical = function isVertical () {\n        var ref = this.options;\n        var orientation = ref.orientation;\n        var position = ref.position;\n        var vertical = (position === CUSTOM && orientation !== HORIZONTAL) ||\n               (defined(orientation) ? orientation !== HORIZONTAL : inArray(position, [ LEFT, RIGHT ]));\n\n        return vertical;\n    };\n\n    Legend.prototype.hasItems = function hasItems () {\n        return this.container.children[0].children.length > 0;\n    };\n\n    Legend.prototype.getItems = function getItems () {\n        return this.itemsContainer.children[0].children;\n    };\n\n    Legend.prototype.reflow = function reflow (targetBox) {\n        var options = this.options;\n        var legendBox = targetBox.clone();\n\n        if (!this.hasItems()) {\n            this.box = legendBox;\n            return;\n        }\n\n        if (options.position === CUSTOM) {\n            this.containerCustomReflow(legendBox);\n            this.box = legendBox;\n        } else {\n            this.containerReflow(legendBox);\n        }\n\n        if (this.hasTitle()) {\n            this.title.reflow(new Box(this.container.box.x1, this.title.box.y1, this.container.box.x2, this.title.box.y2));\n        }\n    };\n\n    Legend.prototype.containerReflow = function containerReflow (targetBox) {\n        var ref = this;\n        var options = ref.options;\n        var container = ref.container;\n        var position = options.position;\n        var width = options.width;\n        var height = options.height;\n        var pos = position === TOP || position === BOTTOM$1 ? X : Y;\n        var vertical = this.isVertical();\n        var alignTarget = targetBox.clone();\n        var containerBox = targetBox.clone();\n\n        if (position === LEFT || position === RIGHT) {\n            containerBox.y1 = alignTarget.y1 = 0;\n        }\n\n        if (vertical && height) {\n            containerBox.y2 = containerBox.y1 + height;\n            containerBox.align(alignTarget, Y, container.options.vAlign);\n        } else if (!vertical && width) {\n            containerBox.x2 = containerBox.x1 + width;\n            containerBox.align(alignTarget, X, container.options.align);\n        }\n\n        container.reflow(containerBox);\n        containerBox = container.box;\n\n        var box = containerBox.clone();\n\n        if (options.offsetX || options.offsetY) {\n            containerBox.translate(options.offsetX, options.offsetY);\n            container.reflow(containerBox);\n        }\n\n        box[pos + 1] = targetBox[pos + 1];\n        box[pos + 2] = targetBox[pos + 2];\n\n        this.box = box;\n    };\n\n    Legend.prototype.containerCustomReflow = function containerCustomReflow (targetBox) {\n        var ref = this;\n        var options = ref.options;\n        var container = ref.container;\n        var offsetX = options.offsetX;\n        var offsetY = options.offsetY;\n        var width = options.width;\n        var height = options.height;\n        var vertical = this.isVertical();\n        var containerBox = targetBox.clone();\n\n        if (vertical && height) {\n            containerBox.y2 = containerBox.y1 + height;\n        } else if (!vertical && width) {\n            containerBox.x2 = containerBox.x1 + width;\n        }\n        container.reflow(containerBox);\n        containerBox = container.box;\n\n        container.reflow(new Box(\n            offsetX, offsetY,\n            offsetX + containerBox.width(), offsetY + containerBox.height()\n        ));\n    };\n\n    Legend.prototype.renderVisual = function renderVisual () {\n        if (this.hasItems()) {\n            ChartElement.prototype.renderVisual.call(this);\n        }\n    };\n\n    Legend.prototype.createLegendTitle = function createLegendTitle (title) {\n        var titleOptions = deepExtend({}, {\n            color: BLACK$1,\n            position: TOP,\n            align: CENTER\n        }, title);\n        var text = titleOptions.text;\n\n        if (!title || title.visible === false || !title.text) {\n            return;\n        }\n\n        if (defined(titleOptions) && titleOptions.visible) {\n            var labelTemplate = getTemplate$1(titleOptions);\n            if (labelTemplate) {\n                text = labelTemplate({ text: text });\n            } else if (titleOptions.format) {\n                text = this.chartService.format.auto(titleOptions.format, text);\n            }\n        }\n\n        this.title = new TextBox(text, titleOptions);\n\n        this.createTitleLayout();\n\n        this.appendTitleLayoutContent();\n    };\n\n    Legend.prototype.createTitleLayout = function createTitleLayout () {\n        this.layout = new FloatElement({\n            vertical: true,\n            wrap: false\n        });\n\n        this.container.append(this.layout);\n    };\n\n    Legend.prototype.hasTitle = function hasTitle () {\n        return Boolean(this.options.title && this.options.title.visible !== false && this.options.title.text);\n    };\n\n    Legend.prototype.appendTitleLayoutContent = function appendTitleLayoutContent () {\n        var options = this.options;\n\n        if (options.title.position === BOTTOM$1) {\n            this.layout.append(this.itemsContainer);\n            this.layout.append(this.title);\n        } else {\n            this.layout.append(this.title);\n            this.layout.append(this.itemsContainer);\n        }\n    };\n\n    return Legend;\n}(ChartElement));\n\nsetDefaultOptions(Legend$1, {\n    position: RIGHT,\n    data: [],\n    offsetX: 0,\n    offsetY: 0,\n    margin: getSpacing(2),\n    padding: getSpacing(5),\n    border: {\n        color: BLACK$1,\n        width: 0\n    },\n    item: {\n        cursor: POINTER,\n        spacing: 6\n    },\n    spacing: 6,\n    background: \"\",\n    zIndex: 1,\n    markers: {},\n    line: {\n        width: 20,\n        height: 2,\n        cursor: POINTER,\n        opacity: 1\n    },\n    area: {\n        type: SQUARE,\n        align: RIGHT,\n        width: 15,\n        height: 15,\n    }\n});\n\nvar PlotAreaFactory = (function (Class) {\n    function PlotAreaFactory() {\n        Class.call(this);\n\n        this._registry = [];\n    }\n\n    if ( Class ) PlotAreaFactory.__proto__ = Class;\n    PlotAreaFactory.prototype = Object.create( Class && Class.prototype );\n    PlotAreaFactory.prototype.constructor = PlotAreaFactory;\n\n    PlotAreaFactory.prototype.register = function register (type, seriesTypes) {\n        this._registry.push({\n            type: type,\n            seriesTypes: seriesTypes\n        });\n    };\n\n    PlotAreaFactory.prototype.create = function create (srcSeries, options, chartService) {\n        var registry = this._registry;\n        var match = registry[0];\n        var series;\n\n        for (var idx = 0; idx < registry.length; idx++) {\n            var entry = registry[idx];\n            series = filterSeriesByType(srcSeries, entry.seriesTypes);\n            var trendlines = filterSeriesByType(srcSeries, TRENDLINE_SERIES);\n\n            if ((series.length - trendlines.length) > 0) {\n                match = entry;\n                break;\n            }\n        }\n\n        return new match.type(series, options, chartService);\n    };\n\n    return PlotAreaFactory;\n}(Class));\n\nPlotAreaFactory.current = new PlotAreaFactory();\n\nvar ZOOM_ACCELERATION$1 = 3;\nvar SELECTOR_HEIGHT_ADJUST = 0.1;\n\nfunction createDiv$1(classNames) {\n    var element = document.createElement(\"div\");\n    if (classNames) {\n        element.className = classNames;\n    }\n\n    return element;\n}\n\nfunction closestHandle(element) {\n    var current = element;\n    while (current && !hasClasses(current, \"k-handle\")) {\n        current = current.parentNode;\n    }\n\n    return current;\n}\n\nvar Selection = (function (Class) {\n    function Selection(chart, categoryAxis, options, observer) {\n        Class.call(this);\n\n        var chartElement = chart.element;\n\n        this.options = deepExtend({}, this.options, options);\n        this.chart = chart;\n        this.observer = observer;\n        this.chartElement = chartElement;\n        this.categoryAxis = categoryAxis;\n        this._dateAxis = this.categoryAxis instanceof DateCategoryAxis;\n\n        this.initOptions();\n\n        this.visible = this.options.visible && chartElement.offsetHeight;\n\n        if (this.visible) {\n            this.createElements();\n\n            this.set(this._index(this.options.from), this._index(this.options.to));\n\n            this.bindEvents();\n        }\n    }\n\n    if ( Class ) Selection.__proto__ = Class;\n    Selection.prototype = Object.create( Class && Class.prototype );\n    Selection.prototype.constructor = Selection;\n\n    Selection.prototype.onPane = function onPane (pane) {\n        return this.categoryAxis.pane === pane;\n    };\n\n    Selection.prototype.createElements = function createElements () {\n        var options = this.options;\n        var wrapper = this.wrapper = createDiv$1(\"k-selector k-pointer-events-none\");\n        elementStyles(wrapper, {\n            top: options.offset.top,\n            left: options.offset.left,\n            width: options.width,\n            height: options.height,\n            direction: 'ltr'\n        });\n\n        var selection = this.selection = createDiv$1(\"k-selection k-pointer-events-none\");\n\n        this.leftMask = createDiv$1(\"k-mask k-pointer-events-none\");\n        this.rightMask = createDiv$1(\"k-mask k-pointer-events-none\");\n\n        wrapper.appendChild(this.leftMask);\n        wrapper.appendChild(this.rightMask);\n        wrapper.appendChild(selection);\n\n        var body = this.body = createDiv$1(\"k-selection-bg k-pointer-events-none\");\n        selection.appendChild(body);\n\n        var leftHandle = this.leftHandle = createDiv$1(\"k-handle k-left-handle k-pointer-events-auto\");\n        var rightHandle = this.rightHandle = createDiv$1(\"k-handle k-right-handle k-pointer-events-auto\");\n        leftHandle.appendChild(createDiv$1());\n        rightHandle.appendChild(createDiv$1());\n\n        selection.appendChild(leftHandle);\n        selection.appendChild(rightHandle);\n\n        this.chartElement.appendChild(wrapper);\n        var selectionStyles = elementStyles(selection, [ \"borderLeftWidth\", \"borderRightWidth\", \"height\" ]);\n        var leftHandleHeight = elementStyles(leftHandle, \"height\").height;\n        var rightHandleHeight = elementStyles(rightHandle, \"height\").height;\n\n        options.selection = {\n            border: {\n                left: selectionStyles.borderLeftWidth,\n                right: selectionStyles.borderRightWidth\n            }\n        };\n\n        elementStyles(leftHandle, {\n            top: (selectionStyles.height - leftHandleHeight) / 2\n        });\n\n        elementStyles(rightHandle, {\n            top: (selectionStyles.height - rightHandleHeight) / 2\n        });\n\n        /* eslint no-self-assign: \"off\" */\n        wrapper.style.cssText = wrapper.style.cssText;\n    };\n\n    Selection.prototype.bindEvents = function bindEvents$1 () {\n        var obj;\n\n        if (this.options.mousewheel !== false) {\n            this._mousewheelHandler = this._mousewheel.bind(this);\n            bindEvents(this.chartElement, ( obj = {}, obj[ MOUSEWHEEL$1 ] = this._mousewheelHandler, obj ));\n        }\n\n        this._domEvents = DomEventsBuilder.create(this.chartElement, {\n            stopPropagation: true, // applicable for the jQuery UserEvents\n            start: this._start.bind(this),\n            move: this._move.bind(this),\n            end: this._end.bind(this),\n            tap: this._tap.bind(this),\n            press: this._press.bind(this),\n            gesturestart: this._gesturestart.bind(this),\n            gesturechange: this._gesturechange.bind(this),\n            gestureend: this._gestureend.bind(this)\n        });\n    };\n\n    Selection.prototype.initOptions = function initOptions () {\n        var ref = this;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var box = categoryAxis.pane.chartsBox();\n        var intlService = this.chart.chartService.intl;\n\n        if (this._dateAxis) {\n            deepExtend(options, {\n                min: parseDate(intlService, options.min),\n                max: parseDate(intlService, options.max),\n                from: parseDate(intlService, options.from),\n                to: parseDate(intlService, options.to)\n            });\n        }\n\n        var ref$1 = elementStyles(this.chartElement, [ \"paddingLeft\", \"paddingTop\" ]);\n        var paddingLeft = ref$1.paddingLeft;\n        var paddingTop = ref$1.paddingTop;\n\n        this.options = deepExtend({}, {\n            width: box.width(),\n            height: box.height() + SELECTOR_HEIGHT_ADJUST, //workaround for sub-pixel hover on the paths in chrome\n            padding: {\n                left: paddingLeft,\n                top: paddingTop\n            },\n            offset: {\n                left: box.x1 + paddingLeft,\n                top: box.y1 + paddingTop\n            },\n            from: options.min,\n            to: options.max\n        }, options);\n    };\n\n    Selection.prototype.destroy = function destroy () {\n        var obj;\n\n        if (this._domEvents) {\n            this._domEvents.destroy();\n            delete this._domEvents;\n        }\n\n        clearTimeout(this._mwTimeout);\n        this._state = null;\n\n        if (this.wrapper) {\n            if (this._mousewheelHandler) {\n                unbindEvents(this.chartElement, ( obj = {}, obj[ MOUSEWHEEL$1 ] = this._mousewheelHandler, obj ));\n                this._mousewheelHandler = null;\n            }\n\n            this.chartElement.removeChild(this.wrapper);\n            this.wrapper = null;\n        }\n    };\n\n    Selection.prototype._rangeEventArgs = function _rangeEventArgs (range) {\n\n        return {\n            axis: this.categoryAxis.options,\n            from: this._value(range.from),\n            to: this._value(range.to)\n        };\n    };\n\n    Selection.prototype._pointInPane = function _pointInPane (x, y) {\n        var paneBox = this.categoryAxis.pane.box;\n        var modelCoords = this.chart._toModelCoordinates(x, y);\n        return paneBox.containsPoint(modelCoords);\n    };\n\n    Selection.prototype._start = function _start (e) {\n        var options = this.options;\n        var target = eventElement(e);\n        if (this._state || !target) {\n            return;\n        }\n\n        var coords = eventCoordinates(e);\n        var inPane = this._pointInPane(coords.x, coords.y);\n        if (!inPane) {\n            return;\n        }\n\n        var handle = closestHandle(target);\n        var bodyRect = this.body.getBoundingClientRect();\n        var inBody = !handle && coords.x >= bodyRect.x && coords.x <= bodyRect.x + bodyRect.width &&\n                       coords.y >= bodyRect.y && coords.y <= bodyRect.y + bodyRect.height;\n\n        this.chart._unsetActivePoint();\n        this._state = {\n            moveTarget: handle,\n            startLocation: e.x ? e.x.location : 0,\n            inBody: inBody,\n            range: {\n                from: this._index(options.from),\n                to: this._index(options.to)\n            }\n        };\n\n        var args = this._rangeEventArgs({\n            from: this._index(options.from),\n            to: this._index(options.to)\n        });\n\n        if (this.trigger(SELECT_START, args)) {\n            this._state = null;\n        }\n    };\n\n    Selection.prototype._press = function _press (e) {\n        var handle;\n        if (this._state) {\n            handle = this._state.moveTarget;\n        } else {\n            handle = closestHandle(eventElement(e));\n        }\n        if (handle) {\n            addClass(handle, \"k-handle-active\");\n        }\n    };\n\n    Selection.prototype._move = function _move (e) {\n        if (!this._state) {\n            return;\n        }\n\n        var ref = this;\n        var state = ref._state;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var range = state.range;\n        var target = state.moveTarget;\n        var reverse = categoryAxis.options.reverse;\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var delta = state.startLocation - e.x.location;\n        var oldRange = { from: range.from, to: range.to };\n        var span = range.to - range.from;\n        var scale = elementStyles(this.wrapper, \"width\").width / (categoryAxis.categoriesCount() - 1);\n        var offset = Math.round(delta / scale) * (reverse ? -1 : 1);\n\n        if (!target && !state.inBody) {\n            return;\n        }\n\n        var leftHandle = target && hasClasses(target, \"k-left-handle\");\n        var rightHandle = target && hasClasses(target, \"k-right-handle\");\n\n        if (state.inBody) {\n            range.from = Math.min(\n                Math.max(min, from - offset),\n                max - span\n            );\n            range.to = Math.min(\n                range.from + span,\n                max\n            );\n        } else if ((leftHandle && !reverse) || (rightHandle && reverse)) {\n            range.from = Math.min(\n                Math.max(min, from - offset),\n                max - 1\n            );\n            range.to = Math.max(range.from + 1, range.to);\n        } else if ((leftHandle && reverse) || (rightHandle && !reverse)) {\n            range.to = Math.min(\n                Math.max(min + 1, to - offset),\n                max\n            );\n            range.from = Math.min(range.to - 1, range.from);\n        }\n\n        if (range.from !== oldRange.from || range.to !== oldRange.to) {\n            this.move(range.from, range.to);\n            this.trigger(SELECT, this._rangeEventArgs(range));\n        }\n    };\n\n    Selection.prototype._end = function _end () {\n        if (this._state) {\n            var moveTarget = this._state.moveTarget;\n            if (moveTarget) {\n                removeClass(moveTarget, \"k-handle-active\");\n            }\n\n            var range = this._state.range;\n            this.set(range.from, range.to);\n            this.trigger(SELECT_END, this._rangeEventArgs(range));\n\n            delete this._state;\n        }\n    };\n\n    Selection.prototype._tap = function _tap (e) {\n        var ref = this;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var coords = this.chart._eventCoordinates(e);\n        var categoryIx = categoryAxis.pointCategoryIndex(new Point$5(coords.x, categoryAxis.box.y1));\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var span = to - from;\n        var mid = from + span / 2;\n        var range = {};\n        var rightClick = e.event.which === 3;\n        var offset = Math.round(mid - categoryIx);\n\n        if (this._state || rightClick) {\n            return;\n        }\n\n\n        this.chart._unsetActivePoint();\n\n        if (!categoryAxis.options.justified) {\n            offset--;\n        }\n\n        range.from = Math.min(\n            Math.max(min, from - offset),\n            max - span\n        );\n\n        range.to = Math.min(range.from + span, max);\n\n        this._start(e);\n\n        if (this._state) {\n            this._state.range = range;\n            this.trigger(SELECT, this._rangeEventArgs(range));\n            this._end();\n        }\n    };\n\n    Selection.prototype._mousewheel = function _mousewheel (e) {\n        var this$1$1 = this;\n\n        var delta = mousewheelDelta(e);\n\n        this._start(e);\n\n        if (this._state) {\n            var range = this._state.range;\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (Math.abs(delta) > 1) {\n                delta *= ZOOM_ACCELERATION$1;\n            }\n\n            if (this.options.mousewheel.reverse) {\n                delta *= -1;\n            }\n\n            if (this.expand(delta)) {\n                this.trigger(SELECT, {\n                    axis: this.categoryAxis.options,\n                    delta: delta,\n                    originalEvent: e,\n                    from: this._value(range.from),\n                    to: this._value(range.to)\n                });\n            }\n\n            if (this._mwTimeout) {\n                clearTimeout(this._mwTimeout);\n            }\n\n            this._mwTimeout = setTimeout(function () {\n                this$1$1._end();\n            }, MOUSEWHEEL_DELAY);\n        }\n    };\n\n    Selection.prototype._gesturestart = function _gesturestart (e) {\n        var options = this.options;\n        var touch = e.touches[0];\n        var inPane = this._pointInPane(touch.pageX, touch.pageY);\n\n        if (!inPane) {\n            return;\n        }\n\n        this._state = {\n            range: {\n                from: this._index(options.from),\n                to: this._index(options.to)\n            }\n        };\n        var args = this._rangeEventArgs(this._state.range);\n\n        if (this.trigger(SELECT_START, args)) {\n            this._state = null;\n        } else {\n            e.preventDefault();\n        }\n    };\n\n    Selection.prototype._gestureend = function _gestureend () {\n        if (this._state) {\n            this.trigger(SELECT_END, this._rangeEventArgs(this._state.range));\n            delete this._state;\n        }\n    };\n\n    Selection.prototype._gesturechange = function _gesturechange (e) {\n        if (!this._state) {\n            return;\n        }\n\n        var ref = this;\n        var chart = ref.chart;\n        var state = ref._state;\n        var options = ref.options;\n        var categoryAxis = ref.categoryAxis;\n        var range = state.range;\n        var p0 = chart._toModelCoordinates(e.touches[0].x.location).x;\n        var p1 = chart._toModelCoordinates(e.touches[1].x.location).x;\n        var left = Math.min(p0, p1);\n        var right = Math.max(p0, p1);\n\n        e.preventDefault();\n\n        range.from = categoryAxis.pointCategoryIndex(new Point$5(left)) || options.min;\n\n        range.to = categoryAxis.pointCategoryIndex(new Point$5(right)) || options.max;\n\n        this.move(range.from, range.to);\n\n        this.trigger(SELECT, this._rangeEventArgs(range));\n    };\n\n    Selection.prototype._index = function _index (value) {\n        var index = value;\n\n        if (value instanceof Date) {\n            index = this.categoryAxis.categoryIndex(value);\n        }\n\n        return index;\n    };\n\n    Selection.prototype._value = function _value (index) {\n        var value = index;\n        if (this._dateAxis) {\n            value = this.categoryAxis.categoryAt(index);\n            if (value > this.options.max) {\n                value = this.options.max;\n            }\n        }\n\n        return value;\n    };\n\n    Selection.prototype._slot = function _slot (value) {\n        var categoryAxis = this.categoryAxis;\n        var index = this._index(value);\n\n        return categoryAxis.getSlot(index, index, true);\n    };\n\n    Selection.prototype.move = function move (from, to) {\n        var options = this.options;\n        var reverse = this.categoryAxis.options.reverse;\n        var offset = options.offset;\n        var padding = options.padding;\n        var border = options.selection.border;\n        var left = reverse ? to : from;\n        var right = reverse ? from : to;\n        var edge = 'x' + (reverse ? 2 : 1);\n\n        var box = this._slot(left);\n        var leftMaskWidth = round$1(box[edge] - offset.left + padding.left);\n\n        elementStyles(this.leftMask, {\n            width: leftMaskWidth\n        });\n        elementStyles(this.selection, {\n            left: leftMaskWidth\n        });\n\n        box = this._slot(right);\n\n        var rightMaskWidth = round$1(options.width - (box[edge] - offset.left + padding.left));\n        elementStyles(this.rightMask, {\n            width: rightMaskWidth\n        });\n\n        var distance = options.width - rightMaskWidth;\n        if (distance !== options.width) {\n            distance += border.right;\n        }\n\n        elementStyles(this.rightMask, {\n            left: distance\n        });\n        elementStyles(this.selection, {\n            width: Math.max(options.width - (leftMaskWidth + rightMaskWidth) - border.right, 0)\n        });\n    };\n\n    Selection.prototype.set = function set (from, to) {\n        var options = this.options;\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var fromValue = limitValue(this._index(from), min, max);\n        var toValue = limitValue(this._index(to), fromValue + 1, max);\n\n        if (options.visible) {\n            this.move(fromValue, toValue);\n        }\n\n        options.from = this._value(fromValue);\n        options.to = this._value(toValue);\n    };\n\n    Selection.prototype.expand = function expand (delta) {\n        var options = this.options;\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var zDir = options.mousewheel.zoom;\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var range = { from: from, to: to };\n        var oldRange = deepExtend({}, range);\n\n        if (this._state) {\n            range = this._state.range;\n        }\n\n        if (zDir !== RIGHT) {\n            range.from = limitValue(\n                limitValue(from - delta, 0, to - 1),\n                min, max\n            );\n        }\n\n        if (zDir !== LEFT) {\n            range.to = limitValue(\n                limitValue(to + delta, range.from + 1, max),\n                min,\n                max\n            );\n        }\n\n        if (range.from !== oldRange.from || range.to !== oldRange.to) {\n            this.set(range.from, range.to);\n            return true;\n        }\n    };\n\n    Selection.prototype.zoom = function zoom (delta, coords) {\n        var options = this.options;\n        var min = this._index(options.min);\n        var max = this._index(options.max);\n        var from = this._index(options.from);\n        var to = this._index(options.to);\n        var range = { from: from, to: to };\n        var oldRange = deepExtend({}, range);\n\n        var ref = this.categoryAxis.options;\n        var reverse = ref.reverse;\n        var origin = X + (reverse ? '2' : '1');\n        var lineBox = this.categoryAxis.lineBox();\n        var relative = Math.abs(lineBox[origin] - coords[X]);\n        var size = lineBox.width();\n        var position = round$1(relative / size, 2);\n        var minDelta = round$1(position * delta);\n        var maxDelta = round$1((1 - position) * delta);\n\n        if (this._state) {\n            range = this._state.range;\n        }\n\n        range.from = limitValue(\n            limitValue(from - minDelta, 0, to - 1),\n            min, max\n        );\n\n        range.to = limitValue(\n            limitValue(to + maxDelta, range.from + 1, max),\n            min,\n            max\n        );\n\n        if (range.from !== oldRange.from || range.to !== oldRange.to) {\n            this.set(range.from, range.to);\n            return true;\n        }\n    };\n\n    Selection.prototype.trigger = function trigger (name, args) {\n        return (this.observer || this.chart).trigger(name, args);\n    };\n\n    return Selection;\n}(Class));\n\nsetDefaultOptions(Selection, {\n    visible: true,\n    mousewheel: {\n        zoom: \"both\"\n    },\n    min: MIN_VALUE,\n    max: MAX_VALUE\n});\n\nvar Tooltip$1 = (function (BaseTooltip) {\n    function Tooltip () {\n        BaseTooltip.apply(this, arguments);\n    }\n\n    if ( BaseTooltip ) Tooltip.__proto__ = BaseTooltip;\n    Tooltip.prototype = Object.create( BaseTooltip && BaseTooltip.prototype );\n    Tooltip.prototype.constructor = Tooltip;\n\n    Tooltip.prototype.show = function show (point) {\n        if (!point || !point.tooltipAnchor || (this._current && this._current === point)) {\n            return;\n        }\n\n        var options = deepExtend({}, this.options, point.options.tooltip);\n        var anchor = point.tooltipAnchor();\n\n        if (anchor) {\n            this._current = point;\n            BaseTooltip.prototype.show.call(this, {\n                point: point,\n                anchor: anchor\n            }, options, point);\n        } else {\n            this.hide();\n        }\n    };\n\n    Tooltip.prototype.hide = function hide () {\n        delete this._current;\n        BaseTooltip.prototype.hide.call(this);\n    };\n\n    return Tooltip;\n}(BaseTooltip));\n\nvar SharedTooltip$1 = (function (BaseTooltip) {\n    function SharedTooltip(plotArea, options) {\n        BaseTooltip.call(this, plotArea.chartService, options);\n\n        this.plotArea = plotArea;\n        this.formatService = plotArea.chartService.format;\n    }\n\n    if ( BaseTooltip ) SharedTooltip.__proto__ = BaseTooltip;\n    SharedTooltip.prototype = Object.create( BaseTooltip && BaseTooltip.prototype );\n    SharedTooltip.prototype.constructor = SharedTooltip;\n\n    SharedTooltip.prototype.showAt = function showAt (points, coords) {\n        var tooltipPoints = grep(points, function(point) {\n            var tooltip = point.series.tooltip;\n            var excluded = tooltip && tooltip.visible === false;\n\n            return !excluded;\n        });\n\n        if (tooltipPoints.length > 0) {\n            var point = tooltipPoints[0];\n            var slot = this.plotArea.categoryAxis.getSlot(point.categoryIx);\n\n            var anchor = coords ? this._slotAnchor(coords, slot) : this._defaultAnchor(point, slot);\n\n            this.show({\n                anchor: anchor,\n                shared: true,\n                points: points,\n                category: point.category,\n                categoryText: this.formatService.auto(this.options.categoryFormat, point.category),\n                series: this.plotArea.series\n            }, this.options);\n        }\n    };\n\n    SharedTooltip.prototype._slotAnchor = function _slotAnchor (point, slot) {\n        var axis = this.plotArea.categoryAxis;\n        var align = {\n            horizontal: \"left\",\n            vertical: \"center\"\n        };\n\n        if (!axis.options.vertical) {\n            point.x = slot.center().x;\n        }\n\n        return {\n            point: point,\n            align: align\n        };\n    };\n\n    SharedTooltip.prototype._defaultAnchor = function _defaultAnchor (point, slot) {\n        var box = point.owner.pane.chartsBox();\n        var vertical = this.plotArea.categoryAxis.options.vertical;\n        var center = box.center();\n        var slotCenter = slot.center();\n        var align = {\n            horizontal: \"center\",\n            vertical: \"center\"\n        };\n\n        var centerPoint;\n        if (vertical) {\n            centerPoint = new Point$5(center.x, slotCenter.y);\n        } else {\n            centerPoint = new Point$5(slotCenter.x, center.y);\n        }\n\n        return {\n            point: centerPoint,\n            align: align\n        };\n    };\n\n    return SharedTooltip;\n}(BaseTooltip));\n\nsetDefaultOptions(SharedTooltip$1, {\n    categoryFormat: '{0:d}'\n});\n\nvar BarChartAnimation = (function (superclass) {\n    function BarChartAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) BarChartAnimation.__proto__ = superclass;\n    BarChartAnimation.prototype = Object.create( superclass && superclass.prototype );\n    BarChartAnimation.prototype.constructor = BarChartAnimation;\n\n    BarChartAnimation.prototype.setup = function setup () {\n        var ref = this;\n        var element = ref.element;\n        var options = ref.options;\n        var bbox = element.bbox();\n\n        if (bbox) {\n            this.origin = options.origin;\n            var axis = options.vertical ? Y : X;\n\n            var fromScale = this.fromScale = new Point$6(1, 1);\n            fromScale[axis] = START_SCALE;\n\n            element.transform(transform()\n                .scale(fromScale.x, fromScale.y)\n            );\n        } else {\n            this.abort();\n        }\n    };\n\n    BarChartAnimation.prototype.step = function step (pos) {\n        var scaleX = interpolateValue(this.fromScale.x, 1, pos);\n        var scaleY = interpolateValue(this.fromScale.y, 1, pos);\n\n        this.element.transform(transform()\n            .scale(scaleX, scaleY, this.origin)\n        );\n    };\n\n    BarChartAnimation.prototype.abort = function abort () {\n        superclass.prototype.abort.call(this);\n        this.element.transform(null);\n    };\n\n    return BarChartAnimation;\n}(Animation$1));\n\nsetDefaultOptions(BarChartAnimation, {\n    duration: INITIAL_ANIMATION_DURATION\n});\n\nAnimationFactory.current.register(BAR, BarChartAnimation);\n\nvar BubbleAnimation = (function (superclass) {\n    function BubbleAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) BubbleAnimation.__proto__ = superclass;\n    BubbleAnimation.prototype = Object.create( superclass && superclass.prototype );\n    BubbleAnimation.prototype.constructor = BubbleAnimation;\n\n    BubbleAnimation.prototype.setup = function setup () {\n        var center = this.center = this.element.bbox().center();\n        this.element.transform(transform()\n            .scale(START_SCALE, START_SCALE, center)\n        );\n    };\n\n    BubbleAnimation.prototype.step = function step (pos) {\n        this.element.transform(transform()\n            .scale(pos, pos, this.center)\n        );\n    };\n\n    return BubbleAnimation;\n}(Animation$1));\n\nsetDefaultOptions(BubbleAnimation, {\n    easing: \"easeOutElastic\"\n});\n\nAnimationFactory.current.register(BUBBLE, BubbleAnimation);\n\nvar FadeInAnimation = (function (superclass) {\n    function FadeInAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) FadeInAnimation.__proto__ = superclass;\n    FadeInAnimation.prototype = Object.create( superclass && superclass.prototype );\n    FadeInAnimation.prototype.constructor = FadeInAnimation;\n\n    FadeInAnimation.prototype.setup = function setup () {\n        this.fadeTo = this.element.opacity();\n        this.element.opacity(0);\n    };\n\n    FadeInAnimation.prototype.step = function step (pos) {\n        this.element.opacity(pos * this.fadeTo);\n    };\n\n    return FadeInAnimation;\n}(Animation$1));\n\nsetDefaultOptions(FadeInAnimation, {\n    duration: 200,\n    easing: \"linear\"\n});\n\nAnimationFactory.current.register(FADEIN, FadeInAnimation);\n\nvar PieAnimation = (function (superclass) {\n    function PieAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) PieAnimation.__proto__ = superclass;\n    PieAnimation.prototype = Object.create( superclass && superclass.prototype );\n    PieAnimation.prototype.constructor = PieAnimation;\n\n    PieAnimation.prototype.setup = function setup () {\n        this.element.transform(transform()\n            .scale(START_SCALE, START_SCALE, this.options.center)\n        );\n    };\n\n    PieAnimation.prototype.step = function step (pos) {\n        this.element.transform(transform()\n            .scale(pos, pos, this.options.center)\n        );\n    };\n\n    return PieAnimation;\n}(Animation$1));\n\nsetDefaultOptions(PieAnimation, {\n    easing: \"easeOutElastic\",\n    duration: INITIAL_ANIMATION_DURATION\n});\n\nAnimationFactory.current.register(PIE, PieAnimation);\n\nvar ScatterLineChart = (function (ScatterChart) {\n    function ScatterLineChart () {\n        ScatterChart.apply(this, arguments);\n    }\n\n    if ( ScatterChart ) ScatterLineChart.__proto__ = ScatterChart;\n    ScatterLineChart.prototype = Object.create( ScatterChart && ScatterChart.prototype );\n    ScatterLineChart.prototype.constructor = ScatterLineChart;\n\n    ScatterLineChart.prototype.render = function render () {\n        ScatterChart.prototype.render.call(this);\n\n        this.renderSegments();\n    };\n\n    ScatterLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {\n        var style = currentSeries.style;\n        var pointType;\n\n        if (style === SMOOTH) {\n            pointType = SplineSegment;\n        } else {\n            pointType = LineSegment;\n        }\n\n        return new pointType(linePoints, currentSeries, seriesIx);\n    };\n\n    ScatterLineChart.prototype.animationPoints = function animationPoints () {\n        var points = ScatterChart.prototype.animationPoints.call(this);\n        return points.concat(this._segments);\n    };\n\n    ScatterLineChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {\n        if (missingValues === ZERO) {\n            var missingValue = {\n                x: value.x,\n                y: value.y\n            };\n            if (!hasValue$2(missingValue.x)) {\n                missingValue.x = 0;\n            }\n            if (!hasValue$2(missingValue.y)) {\n                missingValue.y = 0;\n            }\n            return missingValue;\n        }\n    };\n\n    return ScatterLineChart;\n}(ScatterChart));\n\ndeepExtend(ScatterLineChart.prototype, LineChartMixin);\n\nfunction getScatterTrendlineData(valueMapper, range, options) {\n    var data = [];\n    var xMin = range.xMin;\n    var xMax = range.xMax;\n\n    var forecast = (options || {}).forecast;\n    if (forecast) {\n        if (forecast.before > 0) {\n            xMin -= forecast.before;\n        }\n\n        if (forecast.after > 0) {\n            xMax += forecast.after;\n        }\n    }\n\n    var samplingInterval = (options || {}).samplingInterval;\n    var delta = valueOrDefault(samplingInterval,  autoMajorUnit(xMin, xMax) / 10);\n    if (samplingInterval <= 0) {\n        delta = xMax - xMin;\n    }\n\n    for (var x = xMin; x <= xMax; x += delta) {\n        data.push([\n            x,\n            valueMapper(x)\n        ]);\n    }\n\n    return data;\n}\n\nfunction scatterExponentialTrendline(context) {\n    var options = context.options;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$5({ seriesValues: seriesValues, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'scatterLine',\n            data: data});\n    }\n\n    return null;\n}\n\nvar valueGetter$2 = function (fieldName) { return function (ref) {\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: valueFields.x, yValue: Math.log(valueFields[fieldName]) });\n; }    };\n\nfunction getData$5(ref) {\n    var seriesValues = ref.seriesValues;\n    var options = ref.options;\n\n    var sourceValues = seriesValues();\n    if (!checkAllPositive(sourceValues, options.field)) {\n        return null;\n    }\n\n    var ref$1 = calculateSlope(sourceValues, valueGetter$2(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    var xMin = ref$1.xMin;\n    var xMax = ref$1.xMax;\n    var range = { xMin: xMin, xMax: xMax };\n\n    if (count > 0) {\n        // Exponential trendline equation:\n        // y = a * e ^ (b * x)\n        var a = Math.exp(intercept);\n        var b = slope;\n\n        return getScatterTrendlineData(function (x) { return a * Math.exp(b * x); }, range, options.trendline);\n    }\n\n    return null;\n}\n\nvar scatterValueGetter = function (fieldName) { return function (ref) {\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: valueFields.x, yValue: valueFields[fieldName] });\n; }    };\n\nfunction scatterLinearTrendline(context) {\n    var options = context.options;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$4({ seriesValues: seriesValues, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'scatterLine',\n            data: data});\n    }\n\n    return null;\n}\n\nfunction getData$4(ref) {\n    var seriesValues = ref.seriesValues;\n    var options = ref.options;\n\n    var ref$1 = calculateSlope(seriesValues(), scatterValueGetter(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    var xMin = ref$1.xMin;\n    var xMax = ref$1.xMax;\n    var range = { xMin: xMin, xMax: xMax };\n\n    if (count > 0) {\n        return getScatterTrendlineData(function (x) { return slope * x + intercept; }, range, options.trendline);\n    }\n\n    return null;\n}\n\nfunction xValueLimits(sourceValues, valueGetter) {\n    var xMin = Number.MAX_VALUE;\n    var xMax = Number.MIN_VALUE;\n\n    for (var i = 0; i < sourceValues.length; i++) {\n        var value = sourceValues[i];\n        var ref = valueGetter(value);\n        var xValue = ref.xValue;\n        var yValue = ref.yValue;\n\n        if (isFinite(xValue) && xValue !== null && isFinite(yValue) && yValue !== null) {\n            xMin = Math.min(xValue, xMin);\n            xMax = Math.max(xValue, xMax);\n        }\n    }\n\n    return { xMin: xMin, xMax: xMax };\n}\n\nfunction scatterLogarithmicTrendline(context) {\n    var options = context.options;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$3({ seriesValues: seriesValues, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'scatterLine',\n            data: data});\n    }\n\n    return null;\n}\n\nvar valueGetter$1 = function (fieldName) { return function (ref) {\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: valueFields.x, yValue: valueFields[fieldName] });\n; }    };\n\nvar logValueGetter = function (fieldName) { return function (ref) {\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: Math.log(valueFields.x), yValue: valueFields[fieldName] });\n; }    };\n\nfunction getData$3(ref) {\n    var seriesValues = ref.seriesValues;\n    var options = ref.options;\n\n    var sourceValues = seriesValues();\n    if (!checkAllPositive(sourceValues, 'x')) {\n        return null;\n    }\n\n    var ref$1 = calculateSlope(sourceValues, logValueGetter(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    var range = xValueLimits(sourceValues, valueGetter$1(options.field));\n\n    if (count > 0) {\n        // Logarithmic trendline equation:\n        // y = a * ln (x) + b\n        var a = slope;\n        var b = intercept;\n\n        return getScatterTrendlineData(function (x) { return a * Math.log(x) + b; }, range, options.trendline);\n    }\n\n    return null;\n}\n\nfunction scatterMovingAverageTrendline(context) {\n    var options = context.options;\n\n    var data = getData$2(context);\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'scatterLine',\n            data: data});\n    }\n\n    return null;\n}\n\nfunction getData$2(ref) {\n    var options = ref.options;\n    var seriesValues = ref.seriesValues;\n\n    var period = (options.trendline || {}).period || MIN_MOVING_AVERAGE_PERIOD;\n    var range = { before: period, after: period };\n    var data = calculateMovingAverage(seriesValues(range), scatterValueGetter(options.field), period);\n\n    if (data.length > 0) {\n        return data;\n    }\n\n    return null;\n}\n\nfunction scatterPolynomialTrendline(context) {\n    var options = context.options;\n    var seriesValues = context.seriesValues;\n\n    var data = getData$1({ seriesValues: seriesValues, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'scatterLine',\n            data: data});\n    }\n\n    return null;\n}\n\nfunction getData$1(ref) {\n    var seriesValues = ref.seriesValues;\n    var options = ref.options;\n\n    var order = (options.trendline || {}).order;\n    var valueGetter = scatterValueGetter(options.field);\n    var ref$1 = calculatePolynomial(seriesValues(), valueGetter, order);\n    var count = ref$1.count;\n    var valueMapper = ref$1.valueMapper;\n    var xMin = ref$1.xMin;\n    var xMax = ref$1.xMax;\n    var range = { xMin: xMin, xMax: xMax };\n\n    if (count > 0) {\n        // Polynomial trendline equation:\n        // y = aN * x^N + ... + a2 * x^2 + a1 * x + a0\n        return getScatterTrendlineData(valueMapper, range, options.trendline);\n    }\n\n    return null;\n}\n\nfunction scatterPowerTrendline(context) {\n    var options = context.options;\n    var seriesValues = context.seriesValues;\n\n    var data = getData({ seriesValues: seriesValues, options: options });\n    if (data) {\n        return Object.assign({}, options,\n\n            {type: 'scatterLine',\n            data: data});\n    }\n\n    return null;\n}\n\nvar valueGetter = function (fieldName) { return function (ref) {\n        var valueFields = ref.valueFields;\n\n        return ({ xValue: Math.log(valueFields.x), yValue: Math.log(valueFields[fieldName]) });\n; }    };\n\nfunction getData(ref) {\n    var seriesValues = ref.seriesValues;\n    var options = ref.options;\n\n    var sourceValues = seriesValues();\n    if (!checkAllPositive(sourceValues, 'x')) {\n        return null;\n    }\n\n    var ref$1 = calculateSlope(sourceValues, valueGetter(options.field));\n    var slope = ref$1.slope;\n    var intercept = ref$1.intercept;\n    var count = ref$1.count;\n    var range = xValueLimits(sourceValues, scatterValueGetter(options.field));\n\n    if (count > 0) {\n        // Power trendline equation:\n        // y = a * x ^ b\n        var a = Math.exp(intercept);\n        var b = slope;\n        return getScatterTrendlineData(function (x) { return a * Math.pow(x, b); }, range, options.trendline);\n    }\n\n    return null;\n}\n\nvar scatterRegistry = {};\nscatterRegistry[TRENDLINE_EXPONENTIAL] = scatterExponentialTrendline;\nscatterRegistry[TRENDLINE_LINEAR] = scatterLinearTrendline;\nscatterRegistry[TRENDLINE_LOGARITHMIC] = scatterLogarithmicTrendline;\nscatterRegistry[TRENDLINE_MOVING_AVERAGE] = scatterMovingAverageTrendline;\nscatterRegistry[TRENDLINE_POLYNOMIAL] = scatterPolynomialTrendline;\nscatterRegistry[TRENDLINE_POWER] = scatterPowerTrendline;\n\nvar XYPlotArea = (function (PlotAreaBase) {\n    function XYPlotArea () {\n        PlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PlotAreaBase ) XYPlotArea.__proto__ = PlotAreaBase;\n    XYPlotArea.prototype = Object.create( PlotAreaBase && PlotAreaBase.prototype );\n    XYPlotArea.prototype.constructor = XYPlotArea;\n\n    XYPlotArea.prototype.initFields = function initFields () {\n        this.namedXAxes = {};\n        this.namedYAxes = {};\n\n        this.xAxisRangeTracker = new AxisGroupRangeTracker();\n        this.yAxisRangeTracker = new AxisGroupRangeTracker();\n    };\n\n    XYPlotArea.prototype.render = function render (panes) {\n        var this$1$1 = this;\n        if ( panes === void 0 ) panes = this.panes;\n\n        this.series = [].concat( this.originalSeries );\n        this.createTrendlineSeries();\n\n        var seriesByPane = this.groupSeriesByPane();\n        for (var i = 0; i < panes.length; i++) {\n            var pane = panes[i];\n            var paneSeries = seriesByPane[pane.options.name || \"default\"] || [];\n            this$1$1.addToLegend(paneSeries);\n            var filteredSeries = this$1$1.filterVisibleSeries(paneSeries);\n\n            if (!filteredSeries) {\n                continue;\n            }\n\n            this$1$1.createScatterChart(\n                filterSeriesByType(filteredSeries, SCATTER),\n                pane\n            );\n\n            this$1$1.createScatterLineChart(\n                filterSeriesByType(filteredSeries, SCATTER_LINE),\n                pane\n            );\n\n            this$1$1.createBubbleChart(\n                filterSeriesByType(filteredSeries, BUBBLE),\n                pane\n            );\n        }\n\n        this.createAxes(panes);\n    };\n\n    XYPlotArea.prototype.appendChart = function appendChart (chart, pane) {\n        this.xAxisRangeTracker.update(chart.xAxisRanges);\n        this.yAxisRangeTracker.update(chart.yAxisRanges);\n\n        PlotAreaBase.prototype.appendChart.call(this, chart, pane);\n    };\n\n    XYPlotArea.prototype.removeAxis = function removeAxis (axis) {\n        var axisName = axis.options.name;\n\n        PlotAreaBase.prototype.removeAxis.call(this, axis);\n\n        if (axis.options.vertical) {\n            this.yAxisRangeTracker.reset(axisName);\n            delete this.namedYAxes[axisName];\n        } else {\n            this.xAxisRangeTracker.reset(axisName);\n            delete this.namedXAxes[axisName];\n        }\n\n        if (axis === this.axisX) {\n            delete this.axisX;\n        }\n\n        if (axis === this.axisY) {\n            delete this.axisY;\n        }\n    };\n\n    // TODO: Refactor, optionally use series.pane option\n    XYPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {\n        var options = this.options;\n        var xAxisName = series.xAxis;\n        var xAxisOptions = [].concat(options.xAxis);\n        var xAxis = grep(xAxisOptions, function(a) { return a.name === xAxisName; })[0];\n        var yAxisName = series.yAxis;\n        var yAxisOptions = [].concat(options.yAxis);\n        var yAxis = grep(yAxisOptions, function(a) { return a.name === yAxisName; })[0];\n        var panes = options.panes || [ {} ];\n        var defaultPaneName = panes[0].name || \"default\";\n        var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;\n\n        return paneName;\n    };\n\n    XYPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {\n        if (series.length > 0) {\n            this.appendChart(\n                new ScatterChart(this, { series: series, clip: pane.options.clip }),\n                pane\n            );\n        }\n    };\n\n    XYPlotArea.prototype.createScatterLineChart = function createScatterLineChart (series, pane) {\n        if (series.length > 0) {\n            this.appendChart(\n                new ScatterLineChart(this, { series: series, clip: pane.options.clip }),\n                pane\n            );\n        }\n    };\n\n    XYPlotArea.prototype.createBubbleChart = function createBubbleChart (series, pane) {\n        if (series.length > 0) {\n            this.appendChart(\n                new BubbleChart(this, { series: series, clip: pane.options.clip }),\n                pane\n            );\n        }\n    };\n\n    XYPlotArea.prototype.createXYAxis = function createXYAxis (options, vertical, axisIndex) {\n        var axisName = options.name;\n        var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;\n        var tracker = vertical ? this.yAxisRangeTracker : this.xAxisRangeTracker;\n        var axisOptions = deepExtend({ reverse: !vertical && this.chartService.rtl }, options, { vertical: vertical });\n        var isLog = equalsIgnoreCase(axisOptions.type, LOGARITHMIC);\n        var defaultRange = tracker.query();\n        var defaultAxisRange = isLog ? { min: 0.1, max: 1 } : { min: 0, max: 1 };\n        var range = tracker.query(axisName) || defaultRange || defaultAxisRange;\n        var typeSamples = [ axisOptions.min, axisOptions.max ];\n        var series = this.series;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var seriesAxisName = currentSeries[vertical ? \"yAxis\" : \"xAxis\"];\n            if ((seriesAxisName === axisOptions.name) || (axisIndex === 0 && !seriesAxisName)) {\n                var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;\n                typeSamples.push(firstPointValue[vertical ? \"y\" : \"x\"]);\n\n                break;\n            }\n        }\n\n        if (axisIndex === 0 && defaultRange) {\n            range.min = Math.min(range.min, defaultRange.min);\n            range.max = Math.max(range.max, defaultRange.max);\n        }\n\n        var inferredDate;\n\n        for (var i = 0; i < typeSamples.length; i++) {\n            if (typeSamples[i] instanceof Date) {\n                inferredDate = true;\n                break;\n            }\n        }\n\n        var axisType;\n        if (equalsIgnoreCase(axisOptions.type, DATE) || (!axisOptions.type && inferredDate)) {\n            axisType = DateValueAxis;\n        } else if (isLog) {\n            axisType = LogarithmicAxis;\n        } else {\n            axisType = NumericAxis;\n        }\n\n        var axis = new axisType(range.min, range.max, axisOptions, this.chartService);\n        axis.axisIndex = axisIndex;\n\n        if (axisName) {\n            if (namedAxes[axisName]) {\n                throw new Error(((vertical ? \"Y\" : \"X\") + \" axis with name \" + axisName + \" is already defined\"));\n            }\n            namedAxes[axisName] = axis;\n        }\n\n        this.appendAxis(axis);\n\n        return axis;\n    };\n\n    XYPlotArea.prototype.createAxes = function createAxes (panes) {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var xAxesOptions = [].concat(options.xAxis);\n        var xAxes = [];\n        var yAxesOptions = [].concat(options.yAxis);\n        var yAxes = [];\n\n        for (var idx = 0; idx < xAxesOptions.length; idx++) {\n            var axisPane = this$1$1.findPane(xAxesOptions[idx].pane);\n            if (inArray(axisPane, panes)) {\n                xAxes.push(this$1$1.createXYAxis(xAxesOptions[idx], false, idx));\n            }\n        }\n\n        for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {\n            var axisPane$1 = this$1$1.findPane(yAxesOptions[idx$1].pane);\n            if (inArray(axisPane$1, panes)) {\n                yAxes.push(this$1$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));\n            }\n        }\n\n        this.axisX = this.axisX || xAxes[0];\n        this.axisY = this.axisY || yAxes[0];\n    };\n\n    XYPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {\n        var coords = chart._eventCoordinates(e);\n        var point = new Point$5(coords.x, coords.y);\n        var allAxes = this.axes;\n        var length = allAxes.length;\n        var xValues = [];\n        var yValues = [];\n\n        for (var i = 0; i < length; i++) {\n            var axis = allAxes[i];\n            var values = axis.options.vertical ? yValues : xValues;\n            var currentValue = axis.getValue(point);\n            if (currentValue !== null) {\n                values.push(currentValue);\n            }\n        }\n\n        if (xValues.length > 0 && yValues.length > 0) {\n            chart.trigger(eventType, {\n                element: eventElement(e),\n                originalEvent: e,\n                x: singleItemOrArray(xValues),\n                y: singleItemOrArray(yValues)\n            });\n        }\n    };\n\n    XYPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1$1 (axis, options) {\n        var vertical = axis.options.vertical;\n        var axes = this.groupAxes(this.panes);\n        var index = (vertical ? axes.y : axes.x).indexOf(axis);\n\n        updateAxisOptions$1(this.options, index, vertical, options);\n        updateAxisOptions$1(this.originalOptions, index, vertical, options);\n    };\n\n    XYPlotArea.prototype.trendlineFactory = function trendlineFactory$1 (options, series) {\n        var seriesValues = this.seriesValues.bind(this, series.index);\n\n        var trendline = trendlineFactory(scatterRegistry, options.type, {\n            options: options,\n            seriesValues: seriesValues\n        });\n\n        if (trendline) {\n            // Inherit settings\n            trendline.xAxis = series.xAxis;\n            trendline.yAxis = series.yAxis;\n        }\n\n        return trendline;\n    };\n\n    XYPlotArea.prototype.seriesValues = function seriesValues (seriesIx) {\n        var this$1$1 = this;\n\n        var result = [];\n        var currentSeries = this.series[seriesIx];\n\n        for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\n            var data = this$1$1.bindPoint(currentSeries, pointIx);\n            result.push({ pointIx: pointIx, valueFields: data.valueFields });\n        }\n\n        return result;\n    };\n\n    return XYPlotArea;\n}(PlotAreaBase));\n\nfunction updateAxisOptions$1(targetOptions, axisIndex, vertical, options) {\n    var axisOptions = ([].concat(vertical ? targetOptions.yAxis : targetOptions.xAxis))[axisIndex];\n    deepExtend(axisOptions, options);\n}\n\nsetDefaultOptions(XYPlotArea, {\n    xAxis: {},\n    yAxis: {}\n});\n\ndeepExtend(XYPlotArea.prototype, PlotAreaEventsMixin);\n\nvar PieSegment = (function (ChartElement) {\n    function PieSegment(value, sector, options) {\n        ChartElement.call(this, options);\n\n        this.value = value;\n        this.sector = sector;\n    }\n\n    if ( ChartElement ) PieSegment.__proto__ = ChartElement;\n    PieSegment.prototype = Object.create( ChartElement && ChartElement.prototype );\n    PieSegment.prototype.constructor = PieSegment;\n\n    PieSegment.prototype.render = function render () {\n        if (this._rendered || this.visible === false) {\n            return;\n        }\n        this._rendered = true;\n\n        this.createLabel();\n    };\n\n    PieSegment.prototype.createLabel = function createLabel () {\n        var labels = this.options.labels;\n        var chartService = this.owner.chartService;\n        var labelText = this.getLabelText(labels);\n\n        if (labels.visible && (labelText || labelText === 0)) {\n            if (labels.position === CENTER || labels.position === INSIDE_END) {\n                if (!labels.color) {\n                    labels.color = autoTextColor(this.options.color);\n                }\n                if (!labels.background) {\n                    labels.background = this.options.color;\n                }\n            } else {\n                var themeLabels = chartService.theme.seriesDefaults.labels;\n                labels.color = labels.color || themeLabels.color;\n                labels.background = labels.background || themeLabels.background;\n            }\n\n\n            this.label = new TextBox(labelText, deepExtend({}, labels, {\n                align: CENTER,\n                vAlign: \"\",\n                animation: {\n                    type: FADEIN,\n                    delay: this.animationDelay\n                }\n            }), this.pointData());\n\n            this.append(this.label);\n        }\n    };\n\n    PieSegment.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = getTemplate$1(options);\n\n        if (labelTemplate) {\n            return labelTemplate(this.pointData());\n        }\n\n        return this.owner.chartService.format.auto(options.format, this.value);\n    };\n\n    PieSegment.prototype.reflow = function reflow (targetBox) {\n        this.render();\n        this.box = targetBox;\n        this.reflowLabel();\n    };\n\n    PieSegment.prototype.reflowLabel = function reflowLabel () {\n        var ref = this;\n        var labelsOptions = ref.options.labels;\n        var label = ref.label;\n        var sector = this.sector.clone();\n        var labelsDistance = labelsOptions.distance;\n        var angle = sector.middle();\n\n        if (label) {\n            var labelHeight = label.box.height();\n            var labelWidth = label.box.width();\n            var lp;\n\n            if (labelsOptions.position === CENTER) {\n                sector.radius = Math.abs((sector.radius - labelHeight) / 2) + labelHeight;\n                lp = sector.point(angle);\n                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n            } else if (labelsOptions.position === INSIDE_END) {\n                sector.radius = sector.radius - labelHeight / 2;\n                lp = sector.point(angle);\n                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n            } else {\n                var x1;\n                lp = sector.clone().expand(labelsDistance).point(angle);\n                if (lp.x >= sector.center.x) {\n                    x1 = lp.x + labelWidth;\n                    label.orientation = RIGHT;\n                } else {\n                    x1 = lp.x - labelWidth;\n                    label.orientation = LEFT;\n                }\n                label.reflow(new Box(x1, lp.y - labelHeight, lp.x, lp.y));\n            }\n        }\n    };\n\n    PieSegment.prototype.createVisual = function createVisual () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var sector = ref.sector;\n        var options = ref.options;\n\n        ChartElement.prototype.createVisual.call(this);\n\n        this.addAccessibilityAttributesToVisual();\n\n        if (this.value) {\n            if (options.visual) {\n                var startAngle = (sector.startAngle + 180) % 360;\n                var visual = options.visual({\n                    category: this.category,\n                    dataItem: this.dataItem,\n                    value: this.value,\n                    series: this.series,\n                    percentage: this.percentage,\n                    center: new Point$6(sector.center.x, sector.center.y),\n                    radius: sector.radius,\n                    innerRadius: sector.innerRadius,\n                    startAngle: startAngle,\n                    endAngle: startAngle + sector.angle,\n                    options: options,\n                    sender: this.getSender(),\n                    createVisual: function () {\n                        var group = new Group$8();\n                        this$1$1.createSegmentVisual(group);\n\n                        return group;\n                    }\n                });\n\n                if (visual) {\n                    this.visual.append(visual);\n                }\n            } else {\n                this.createSegmentVisual(this.visual);\n            }\n        }\n    };\n\n    PieSegment.prototype.createSegmentVisual = function createSegmentVisual (group) {\n        var ref = this;\n        var sector = ref.sector;\n        var options = ref.options;\n        var borderOptions = options.border || {};\n        var border = borderOptions.width > 0 ? {\n            stroke: {\n                color: borderOptions.color,\n                width: borderOptions.width,\n                opacity: borderOptions.opacity,\n                dashType: borderOptions.dashType\n            }\n        } : {};\n        var color = options.color;\n        var fill = createPatternFill(options.pattern, {\n            color: color,\n            opacity: options.opacity\n        });\n        var visual = this.createSegment(sector, deepExtend({\n            fill: fill,\n            stroke: {\n                opacity: options.opacity\n            },\n            zIndex: options.zIndex\n        }, border));\n\n        group.append(visual);\n\n        if (hasGradientOverlay(options)) {\n            group.append(this.createGradientOverlay(visual, {\n                baseColor: color,\n                fallbackFill: fill\n            }, deepExtend({\n                center: [ sector.center.x, sector.center.y ],\n                innerRadius: sector.innerRadius,\n                radius: sector.radius,\n                userSpace: true\n            }, options.overlay)));\n        }\n    };\n\n    PieSegment.prototype.createSegment = function createSegment (sector, options) {\n        if (options.singleSegment) {\n            return new Circle$1(new Circle$2(new Point$6(sector.center.x, sector.center.y), sector.radius), options);\n        }\n\n        return ShapeBuilder.current.createRing(sector, options);\n    };\n\n    PieSegment.prototype.createAnimation = function createAnimation () {\n        var ref = this;\n        var options = ref.options;\n        var center = ref.sector.center;\n\n        deepExtend(options, {\n            animation: {\n                center: [ center.x, center.y ],\n                delay: this.animationDelay\n            }\n        });\n\n        ChartElement.prototype.createAnimation.call(this);\n    };\n\n    PieSegment.prototype.createHighlight = function createHighlight (options) {\n        var highlight = this.options.highlight || {};\n        var border = highlight.border || {};\n\n        return this.createSegment(this.sector, deepExtend({}, options, {\n            fill: {\n                color: highlight.color,\n                opacity: highlight.opacity\n            },\n            stroke: {\n                opacity: border.opacity,\n                width: border.width,\n                color: border.color\n            }\n        }));\n    };\n\n    PieSegment.prototype.highlightVisual = function highlightVisual () {\n        return this.visual.children[0];\n    };\n\n    PieSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        var sector = this.sector;\n\n        return {\n            options: this.options,\n            radius: sector.radius,\n            innerRadius: sector.innerRadius,\n            center: new Point$6(sector.center.x, sector.center.y),\n            startAngle: sector.startAngle,\n            endAngle: sector.angle + sector.startAngle,\n            visual: this.visual\n        };\n    };\n\n    PieSegment.prototype.createFocusHighlight = function createFocusHighlight (style) {\n        var borderWidth = this.options.accessibility.highlight.border.width;\n        var result = this.createSegment(this.sector, deepExtend({}, style, {\n            stroke: {\n                width: borderWidth * 2\n            }\n        }));\n\n        var clipPath = new MultiPath();\n\n        clipPath.paths.push(Path$7.fromRect(result.bbox()));\n        clipPath.paths.push(this.createSegment(this.sector, {}));\n\n        result.clip(clipPath);\n\n        return result;\n    };\n\n    PieSegment.prototype.tooltipAnchor = function tooltipAnchor () {\n        var sector = this.sector.clone().expand(TOOLTIP_OFFSET);\n        var midAndle = sector.middle();\n        var midPoint = sector.point(midAndle);\n\n        return {\n            point: midPoint,\n            align: tooltipAlignment(midAndle + 180)\n        };\n    };\n\n    PieSegment.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    PieSegment.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            category: this.category,\n            value: this.value,\n            series: this.series,\n            percentage: this.percentage\n        };\n    };\n\n    PieSegment.prototype.getIndex = function getIndex () {\n        return this.index;\n    };\n\n    return PieSegment;\n}(ChartElement));\n\nvar RAD_30 = round$1(rad(30), DEFAULT_PRECISION);\nvar RAD_60 = round$1(rad(60), DEFAULT_PRECISION);\n\nfunction tooltipAlignment(angle) {\n    var radians = rad(angle);\n    var sine = round$1(Math.sin(radians), DEFAULT_PRECISION);\n    var cosine = round$1(Math.cos(radians), DEFAULT_PRECISION);\n\n\n    var horizontal;\n    if (Math.abs(sine) > RAD_60) {\n        horizontal = CENTER;\n    } else if (cosine < 0) {\n        horizontal = RIGHT;\n    } else {\n        horizontal = LEFT;\n    }\n\n    var vertical;\n    if (Math.abs(sine) < RAD_30) {\n        vertical = CENTER;\n    } else if (sine < 0) {\n        vertical = BOTTOM$1;\n    } else {\n        vertical = TOP;\n    }\n\n    return {\n        horizontal: horizontal,\n        vertical: vertical\n    };\n}\n\nsetDefaultOptions(PieSegment, {\n    color: WHITE$1,\n    overlay: {\n        gradient: \"roundedBevel\"\n    },\n    border: {\n        width: 0.5\n    },\n    labels: {\n        visible: false,\n        distance: 35,\n        font: DEFAULT_FONT,\n        margin: getSpacing(0.5),\n        align: CIRCLE,\n        zIndex: 1,\n        position: OUTSIDE_END\n    },\n    animation: {\n        type: PIE\n    },\n    highlight: {\n        visible: true,\n        border: {\n            width: 1\n        }\n    },\n    visible: true,\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n});\n\ndeepExtend(PieSegment.prototype, PointEventsMixin);\ndeepExtend(PieSegment.prototype, AccessibilityAttributesMixin);\n\nvar PieChartMixin = {\n    createLegendItem: function(value, point, options) {\n        var legendOptions = this.options.legend || {};\n        var labelsOptions = legendOptions.labels || {};\n        var inactiveItems = legendOptions.inactiveItems || {};\n        var inactiveItemsLabels = inactiveItems.labels || {};\n\n        if (options && options.visibleInLegend !== false) {\n            var pointVisible = options.visible !== false;\n            var labelTemplate = pointVisible ? getTemplate$1(labelsOptions) :\n                getTemplate$1(inactiveItemsLabels) || getTemplate$1(labelsOptions);\n            var text = options.category;\n\n            if (labelTemplate) {\n                text = labelTemplate({\n                    text: text,\n                    series: options.series,\n                    dataItem: options.dataItem,\n                    percentage: options.percentage,\n                    value: value\n                });\n            }\n\n            var itemLabelOptions, markerColor;\n            if (pointVisible) {\n                itemLabelOptions = {};\n                markerColor = point.color;\n            } else {\n                itemLabelOptions = {\n                    color: inactiveItemsLabels.color,\n                    font: inactiveItemsLabels.font\n                };\n                markerColor = (inactiveItems.markers || {}).color;\n            }\n\n            if (hasValue$2(text) && text !== \"\") {\n                this.legendItems.push({\n                    active: pointVisible,\n                    pointIndex: options.index,\n                    text: text,\n                    series: options.series,\n                    markerColor: markerColor,\n                    pattern: point.pattern,\n                    labels: itemLabelOptions\n                });\n            }\n        }\n    }\n};\n\nvar PIE_SECTOR_ANIM_DELAY = 70;\n\nvar PieChart = (function (ChartElement) {\n    function PieChart(plotArea, options) {\n        ChartElement.call(this, options);\n\n        this.plotArea = plotArea;\n        this.chartService = plotArea.chartService;\n        this.points = [];\n        this.legendItems = [];\n        this.render();\n    }\n\n    if ( ChartElement ) PieChart.__proto__ = ChartElement;\n    PieChart.prototype = Object.create( ChartElement && ChartElement.prototype );\n    PieChart.prototype.constructor = PieChart;\n\n    PieChart.prototype.render = function render () {\n        this.traverseDataPoints(this.addValue.bind(this));\n    };\n\n    PieChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var options = ref.options;\n        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];\n        var colorsCount = seriesColors.length;\n        var series = options.series;\n        var seriesCount = series.length;\n\n        for (var seriesIx = 0; seriesIx < seriesCount; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var data = currentSeries.data;\n            var ref$1 = bindSegments(currentSeries);\n            var total = ref$1.total;\n            var points = ref$1.points;\n            var count = ref$1.count;\n            var anglePerValue = 360 / total;\n            var constantAngle = (void 0);\n            if (!isFinite(anglePerValue)) {\n                constantAngle = 360 / count;\n            }\n            var currentAngle = (void 0);\n\n            if (defined(currentSeries.startAngle)) {\n                currentAngle = currentSeries.startAngle;\n            } else {\n                currentAngle = options.startAngle;\n            }\n\n            if (seriesIx !== seriesCount - 1) {\n                if (currentSeries.labels.position === OUTSIDE_END) {\n                    currentSeries.labels.position = CENTER;\n                }\n            }\n\n            for (var i = 0; i < points.length; i++) {\n                var pointData = points[i];\n                if (!pointData) {\n                    continue;\n                }\n\n                var fields = pointData.fields;\n                var value = pointData.value;\n                var visible = pointData.visible;\n                var angle = value !== 0 ? (constantAngle || (value * anglePerValue)) : 0;\n                var explode = data.length !== 1 && Boolean(fields.explode);\n\n                if (!isFunction(currentSeries.color)) {\n                    currentSeries.color = fields.color || seriesColors[i % colorsCount];\n                }\n\n                callback(value, new Ring(null, 0, 0, currentAngle, angle), {\n                    owner: this$1$1,\n                    category: defined(fields.category) ? fields.category : \"\",\n                    pattern: defined(fields.pattern) ? fields.pattern : currentSeries.pattern,\n                    index: i,\n                    series: currentSeries,\n                    seriesIx: seriesIx,\n                    dataItem: data[i],\n                    percentage: total !== 0 ? value / total : 0,\n                    explode: explode,\n                    visibleInLegend: fields.visibleInLegend,\n                    visible: visible,\n                    zIndex: seriesCount - seriesIx,\n                    animationDelay: this$1$1.animationDelay(i, seriesIx, seriesCount)\n                });\n\n                if (visible !== false) {\n                    currentAngle += angle;\n                }\n            }\n        }\n    };\n\n    PieChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {\n        var series = fields.series;\n\n        evalOptions(options, {\n            value: value,\n            series: series,\n            dataItem: fields.dataItem,\n            category: fields.category,\n            percentage: fields.percentage\n        }, { defaults: series._defaults, excluded: [\n            \"data\", \"content\", \"template\", \"visual\", \"toggle\",\n            \"ariaTemplate\", \"ariaContent\"\n        ] });\n    };\n\n    PieChart.prototype.addValue = function addValue (value, sector, fields) {\n        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\n        segmentOptions.pattern = fields.pattern || segmentOptions.pattern;\n        this.evalSegmentOptions(segmentOptions, value, fields);\n\n        this.createLegendItem(value, segmentOptions, fields);\n\n        if (fields.visible === false) {\n            return;\n        }\n\n        var segment = new PieSegment(value, sector, segmentOptions);\n        Object.assign(segment, fields);\n        this.append(segment);\n        this.points.push(segment);\n    };\n\n    PieChart.prototype.reflow = function reflow (targetBox) {\n        var ref = this;\n        var options = ref.options;\n        var points = ref.points;\n        var seriesConfigs = ref.seriesConfigs; if ( seriesConfigs === void 0 ) seriesConfigs = [];\n        var count = points.length;\n        var box = targetBox.clone();\n        var space = 5;\n        var minWidth = Math.min(box.width(), box.height());\n        var halfMinWidth = minWidth / 2;\n        var defaultPadding = minWidth - minWidth * 0.85;\n        var newBox = new Box(box.x1, box.y1, box.x1 + minWidth, box.y1 + minWidth);\n        var newBoxCenter = newBox.center();\n        var boxCenter = box.center();\n        var seriesCount = options.series.length;\n        var leftSideLabels = [];\n        var rightSideLabels = [];\n        var padding = valueOrDefault(options.padding, defaultPadding);\n\n        this.targetBox = targetBox;\n\n        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\n        newBox.translate(boxCenter.x - newBoxCenter.x, boxCenter.y - newBoxCenter.y);\n\n        var radius = halfMinWidth - padding;\n        var center = new Point$5(\n            radius + newBox.x1 + padding,\n            radius + newBox.y1 + padding\n        );\n\n        for (var i = 0; i < count; i++) {\n            var segment = points[i];\n            var sector = segment.sector;\n            var seriesIndex = segment.seriesIx;\n            sector.radius = radius;\n            sector.center = center;\n\n            if (seriesConfigs.length) {\n                var seriesConfig = seriesConfigs[seriesIndex];\n                sector.innerRadius = seriesConfig.innerRadius;\n                sector.radius = seriesConfig.radius;\n            }\n\n            if (seriesIndex === seriesCount - 1 && segment.explode) {\n                sector.center = sector.clone().setRadius(sector.radius * 0.15).point(sector.middle());\n            }\n\n            segment.reflow(newBox);\n\n            var label = segment.label;\n            if (label) {\n                if (label.options.position === OUTSIDE_END) {\n                    if (seriesIndex === seriesCount - 1) {\n                        if (label.orientation === RIGHT) {\n                            rightSideLabels.push(label);\n                        } else {\n                            leftSideLabels.push(label);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (leftSideLabels.length > 0) {\n            leftSideLabels.sort(this.labelComparator(true));\n            this.leftLabelsReflow(leftSideLabels);\n        }\n\n        if (rightSideLabels.length > 0) {\n            rightSideLabels.sort(this.labelComparator(false));\n            this.rightLabelsReflow(rightSideLabels);\n        }\n\n        this.box = newBox;\n    };\n\n    PieChart.prototype.leftLabelsReflow = function leftLabelsReflow (labels) {\n        var distances = this.distanceBetweenLabels(labels);\n\n        this.distributeLabels(distances, labels);\n    };\n\n    PieChart.prototype.rightLabelsReflow = function rightLabelsReflow (labels) {\n        var distances = this.distanceBetweenLabels(labels);\n\n        this.distributeLabels(distances, labels);\n    };\n\n    PieChart.prototype.distanceBetweenLabels = function distanceBetweenLabels (labels) {\n        var segment = last(this.points);\n        var sector = segment.sector;\n        var count = labels.length - 1;\n        var lr = sector.radius + segment.options.labels.distance;\n        var distances = [];\n        var firstBox = labels[0].box;\n        var distance = round$1(firstBox.y1 - (sector.center.y - lr - firstBox.height() - firstBox.height() / 2));\n\n        distances.push(distance);\n\n        for (var i = 0; i < count; i++) {\n            var secondBox = labels[i + 1].box;\n\n            firstBox = labels[i].box;\n            distance = round$1(secondBox.y1 - firstBox.y2);\n            distances.push(distance);\n        }\n        distance = round$1(sector.center.y + lr - labels[count].box.y2 - labels[count].box.height() / 2);\n        distances.push(distance);\n\n        return distances;\n    };\n\n    PieChart.prototype.distributeLabels = function distributeLabels (distances, labels) {\n        var this$1$1 = this;\n\n        var count = distances.length;\n        var left, right, remaining;\n\n        for (var i = 0; i < count; i++) {\n            remaining = -distances[i];\n            left = right = i;\n\n            while (remaining > 0 && (left >= 0 || right < count)) {\n                remaining = this$1$1._takeDistance(distances, i, --left, remaining);\n                remaining = this$1$1._takeDistance(distances, i, ++right, remaining);\n            }\n        }\n\n        this.reflowLabels(distances, labels);\n    };\n\n    PieChart.prototype._takeDistance = function _takeDistance (distances, anchor, position, amount) {\n        var result = amount;\n        if (distances[position] > 0) {\n            var available = Math.min(distances[position], result);\n            result -= available;\n            distances[position] -= available;\n            distances[anchor] += available;\n        }\n\n        return result;\n    };\n\n    PieChart.prototype.reflowLabels = function reflowLabels (distances, labels) {\n        var this$1$1 = this;\n\n        var segment = last(this.points);\n        var sector = segment.sector;\n        var labelOptions = segment.options.labels;\n        var labelsCount = labels.length;\n        var labelDistance = labelOptions.distance;\n        var boxY = sector.center.y - (sector.radius + labelDistance) - labels[0].box.height();\n        var boxX;\n\n        distances[0] += 2;\n        for (var i = 0; i < labelsCount; i++) {\n            var label = labels[i];\n            var box = label.box;\n\n            boxY += distances[i];\n            boxX = this$1$1.hAlignLabel(\n                box.x2,\n                sector.clone().expand(labelDistance),\n                boxY,\n                boxY + box.height(),\n                label.orientation === RIGHT);\n\n            if (label.orientation === RIGHT) {\n                if (labelOptions.align !== CIRCLE) {\n                    boxX = sector.radius + sector.center.x + labelDistance;\n                }\n                label.reflow(new Box(boxX + box.width(), boxY, boxX, boxY));\n            } else {\n                if (labelOptions.align !== CIRCLE) {\n                    boxX = sector.center.x - sector.radius - labelDistance;\n                }\n                label.reflow(new Box(boxX - box.width(), boxY, boxX, boxY));\n            }\n\n            boxY += box.height();\n        }\n    };\n\n    PieChart.prototype.createVisual = function createVisual () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var connectors = ref.options.connectors;\n        var points = ref.points;\n        var count = points.length;\n        var space = 4;\n\n        ChartElement.prototype.createVisual.call(this);\n\n        this._connectorLines = [];\n\n        for (var i = 0; i < count; i++) {\n            var segment = points[i];\n            var sector = segment.sector;\n            var label = segment.label;\n            var angle = sector.middle();\n            var connectorsColor = (segment.options.connectors || {}).color || connectors.color;\n\n            if (label) {\n                var connectorLine = new Path$7({\n                    stroke: {\n                        color: connectorsColor,\n                        width: connectors.width\n                    },\n                    animation: {\n                        type: FADEIN,\n                        delay: segment.animationDelay\n                    }\n                });\n\n                if (label.options.position === OUTSIDE_END) {\n                    var box = label.box;\n                    var centerPoint = sector.center;\n                    var start = sector.point(angle);\n                    var middle = new Point$5(box.x1, box.center().y);\n                    var sr = (void 0), end = (void 0), crossing = (void 0);\n\n                    start = sector.clone().expand(connectors.padding).point(angle);\n                    connectorLine.moveTo(start.x, start.y);\n                    // TODO: Extract into a method to remove duplication\n                    if (label.orientation === RIGHT) {\n                        end = new Point$5(box.x1 - connectors.padding, box.center().y);\n                        crossing = intersection(centerPoint, start, middle, end);\n                        middle = new Point$5(end.x - space, end.y);\n                        crossing = crossing || middle;\n                        crossing.x = Math.min(crossing.x, middle.x);\n\n                        if (this$1$1.pointInCircle(crossing, sector.center, sector.radius + space) ||\n                            crossing.x < sector.center.x) {\n                            sr = sector.center.x + sector.radius + space;\n                            if (segment.options.labels.align !== COLUMN) {\n                                if (sr < middle.x) {\n                                    connectorLine.lineTo(sr, start.y);\n                                } else {\n                                    connectorLine.lineTo(start.x + space * 2, start.y);\n                                }\n                            } else {\n                                connectorLine.lineTo(sr, start.y);\n                            }\n                            connectorLine.lineTo(middle.x, end.y);\n                        } else {\n                            crossing.y = end.y;\n                            connectorLine.lineTo(crossing.x, crossing.y);\n                        }\n                    } else {\n                        end = new Point$5(box.x2 + connectors.padding, box.center().y);\n                        crossing = intersection(centerPoint, start, middle, end);\n                        middle = new Point$5(end.x + space, end.y);\n                        crossing = crossing || middle;\n                        crossing.x = Math.max(crossing.x, middle.x);\n\n                        if (this$1$1.pointInCircle(crossing, sector.center, sector.radius + space) ||\n                            crossing.x > sector.center.x) {\n                            sr = sector.center.x - sector.radius - space;\n                            if (segment.options.labels.align !== COLUMN) {\n                                if (sr > middle.x) {\n                                    connectorLine.lineTo(sr, start.y);\n                                } else {\n                                    connectorLine.lineTo(start.x - space * 2, start.y);\n                                }\n                            } else {\n                                connectorLine.lineTo(sr, start.y);\n                            }\n                            connectorLine.lineTo(middle.x, end.y);\n                        } else {\n                            crossing.y = end.y;\n                            connectorLine.lineTo(crossing.x, crossing.y);\n                        }\n                    }\n\n                    connectorLine.lineTo(end.x, end.y);\n\n                    this$1$1._connectorLines.push(connectorLine);\n                    this$1$1.visual.append(connectorLine);\n                }\n            }\n        }\n    };\n\n    PieChart.prototype.renderVisual = function renderVisual () {\n        ChartElement.prototype.renderVisual.call(this);\n\n        if (find(this.options.series, function (options) { return options.autoFit; })) {\n            var targetBox = this.targetBox;\n            var pieCenter = this.box.center();\n            var bbox = this.visual.bbox();\n            if (!bbox) {\n                return;\n            }\n\n            var bboxBottom = bbox.bottomRight();\n\n            var scale = Math.min(\n                (pieCenter.y - targetBox.y1) / (pieCenter.y - bbox.origin.y),\n                (targetBox.y2 - pieCenter.y) / (bboxBottom.y - pieCenter.y),\n                (pieCenter.x - targetBox.x1) / (pieCenter.x - bbox.origin.x),\n                (targetBox.x2 - pieCenter.x) / (bboxBottom.x - pieCenter.x)\n            );\n\n            if (scale < 1) {\n                this.visual.transform(transform().scale(scale, scale, [ pieCenter.x, pieCenter.y ]));\n            }\n        }\n    };\n\n    PieChart.prototype.labelComparator = function labelComparator (reverse) {\n        var reverseValue = reverse ? -1 : 1;\n\n        return function(a, b) {\n            var first = (a.parent.sector.middle() + 270) % 360;\n            var second = (b.parent.sector.middle() + 270) % 360;\n            return (first - second) * reverseValue;\n        };\n    };\n\n    PieChart.prototype.hAlignLabel = function hAlignLabel (originalX, sector, y1, y2, direction) {\n        var radius = sector.radius;\n        var sector_center = sector.center;\n        var cx = sector_center.x;\n        var cy = sector_center.y;\n        var t = Math.min(Math.abs(cy - y1), Math.abs(cy - y2));\n\n        if (t > radius) {\n            return originalX;\n        }\n\n        return cx + Math.sqrt((radius * radius) - (t * t)) * (direction ? 1 : -1);\n    };\n\n    PieChart.prototype.pointInCircle = function pointInCircle (point, center, radius) {\n        return Math.pow(center.x - point.x, 2) + Math.pow(center.y - point.y, 2) < Math.pow(radius, 2);\n    };\n\n    PieChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        return this.chartService.format.auto(format, point.value);\n    };\n\n    PieChart.prototype.animationDelay = function animationDelay (categoryIndex) {\n        return categoryIndex * PIE_SECTOR_ANIM_DELAY;\n    };\n\n    PieChart.prototype.stackRoot = function stackRoot () {\n        return this;\n    };\n\n    return PieChart;\n}(ChartElement));\n\nfunction intersection(a1, a2, b1, b2) {\n    var uat = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x);\n    var ub = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\n\n    var result;\n    if (ub !== 0) {\n        var ua = (uat / ub);\n\n        result = new Point$5(\n            a1.x + ua * (a2.x - a1.x),\n            a1.y + ua * (a2.y - a1.y)\n        );\n    }\n\n    return result;\n}\n\nsetDefaultOptions(PieChart, {\n    startAngle: 90,\n    connectors: {\n        width: 2,\n        color: \"#939393\",\n        padding: 8\n    },\n    inactiveItems: {\n        markers: {},\n        labels: {}\n    }\n});\n\ndeepExtend(PieChart.prototype, PieChartMixin);\n\nPieChart.prototype.isStackRoot = true;\n\nvar PiePlotArea = (function (PlotAreaBase) {\n    function PiePlotArea () {\n        PlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PlotAreaBase ) PiePlotArea.__proto__ = PlotAreaBase;\n    PiePlotArea.prototype = Object.create( PlotAreaBase && PlotAreaBase.prototype );\n    PiePlotArea.prototype.constructor = PiePlotArea;\n\n    PiePlotArea.prototype.render = function render () {\n        this.createPieChart(this.series);\n    };\n\n    PiePlotArea.prototype.createPieChart = function createPieChart (series) {\n        var firstSeries = series[0];\n        var pieChart = new PieChart(this, {\n            series: series,\n            padding: firstSeries.padding,\n            startAngle: firstSeries.startAngle,\n            connectors: firstSeries.connectors,\n            legend: this.options.legend\n        });\n\n        this.appendChart(pieChart);\n    };\n\n    PiePlotArea.prototype.appendChart = function appendChart (chart, pane) {\n        PlotAreaBase.prototype.appendChart.call(this, chart, pane);\n        append(this.options.legend.data, chart.legendItems);\n    };\n\n    PiePlotArea.prototype.getPointBelow = function getPointBelow (point) {\n        return this.getPointToTheRight(point);\n    };\n\n    PiePlotArea.prototype.getPointAbove = function getPointAbove (point) {\n        return this.getPointToTheLeft(point);\n    };\n\n    return PiePlotArea;\n}(PlotAreaBase));\n\nvar DonutSegment = (function (PieSegment) {\n    function DonutSegment () {\n        PieSegment.apply(this, arguments);\n    }\n\n    if ( PieSegment ) DonutSegment.__proto__ = PieSegment;\n    DonutSegment.prototype = Object.create( PieSegment && PieSegment.prototype );\n    DonutSegment.prototype.constructor = DonutSegment;\n\n    DonutSegment.prototype.reflowLabel = function reflowLabel () {\n        var ref = this;\n        var labelsOptions = ref.options.labels;\n        var label = ref.label;\n        var sector = this.sector.clone();\n        var angle = sector.middle();\n\n        if (label) {\n            var labelHeight = label.box.height();\n            if (labelsOptions.position === CENTER) {\n                sector.radius -= (sector.radius - sector.innerRadius) / 2;\n\n                var lp = sector.point(angle);\n\n                label.reflow(new Box(lp.x, lp.y - labelHeight / 2, lp.x, lp.y));\n            } else {\n                PieSegment.prototype.reflowLabel.call(this);\n            }\n        }\n    };\n\n    DonutSegment.prototype.createSegment = function createSegment (sector, options) {\n        return ShapeBuilder.current.createRing(sector, options);\n    };\n\n    return DonutSegment;\n}(PieSegment));\n\nsetDefaultOptions(DonutSegment, {\n    overlay: {\n        gradient: \"roundedGlass\"\n    },\n    labels: {\n        position: CENTER\n    },\n    animation: {\n        type: PIE\n    }\n});\n\ndeepExtend(DonutSegment.prototype, PointEventsMixin);\n\nvar DONUT_SECTOR_ANIM_DELAY = 50;\n\nvar DonutChart = (function (PieChart) {\n    function DonutChart () {\n        PieChart.apply(this, arguments);\n    }\n\n    if ( PieChart ) DonutChart.__proto__ = PieChart;\n    DonutChart.prototype = Object.create( PieChart && PieChart.prototype );\n    DonutChart.prototype.constructor = DonutChart;\n\n    DonutChart.prototype.addValue = function addValue (value, sector, fields) {\n        var segmentOptions = deepExtend({}, fields.series, { index: fields.index });\n        segmentOptions.pattern = fields.pattern || segmentOptions.pattern;\n\n        this.evalSegmentOptions(segmentOptions, value, fields);\n\n        this.createLegendItem(value, segmentOptions, fields);\n\n        if (fields.visible === false) {\n            return;\n        }\n\n        var segment = new DonutSegment(value, sector, segmentOptions);\n\n        Object.assign(segment, fields);\n        this.append(segment);\n        this.points.push(segment);\n    };\n\n    DonutChart.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var box = targetBox.clone();\n        var space = 5;\n        var minWidth = Math.min(box.width(), box.height());\n        var halfMinWidth = minWidth / 2;\n        var defaultPadding = minWidth - minWidth * 0.85;\n        var series = options.series;\n        var seriesCount = series.length;\n\n        var padding = valueOrDefault(options.padding, defaultPadding);\n        padding = padding > halfMinWidth - space ? halfMinWidth - space : padding;\n\n        var totalSize = halfMinWidth - padding;\n        var seriesWithoutSize = 0;\n        var holeSize;\n\n        for (var i = 0; i < seriesCount; i++) {\n            var currentSeries = series[i];\n            if (i === 0) {\n                if (defined(currentSeries.holeSize)) {\n                    holeSize = currentSeries.holeSize;\n                    totalSize -= currentSeries.holeSize;\n                }\n            }\n\n            if (defined(currentSeries.size)) {\n                totalSize -= currentSeries.size;\n            } else {\n                seriesWithoutSize++;\n            }\n\n            if (defined(currentSeries.margin) && i !== seriesCount - 1) {\n                totalSize -= currentSeries.margin;\n            }\n        }\n\n        if (!defined(holeSize)) {\n            var currentSize = (halfMinWidth - padding) / (seriesCount + 0.75);\n            holeSize = currentSize * 0.75;\n            totalSize -= holeSize;\n        }\n\n        var innerRadius = holeSize;\n        var margin = 0;\n        var size, radius;\n\n        this.seriesConfigs = [];\n\n        for (var i$1 = 0; i$1 < seriesCount; i$1++) {\n            var currentSeries$1 = series[i$1];\n            size = valueOrDefault(currentSeries$1.size, totalSize / seriesWithoutSize);\n            innerRadius += margin;\n            radius = innerRadius + size;\n            this$1$1.seriesConfigs.push({ innerRadius: innerRadius, radius: radius });\n            margin = currentSeries$1.margin || 0;\n            innerRadius = radius;\n        }\n\n        PieChart.prototype.reflow.call(this, targetBox);\n    };\n\n    DonutChart.prototype.animationDelay = function animationDelay (categoryIndex, seriesIndex, seriesCount) {\n        return categoryIndex * DONUT_SECTOR_ANIM_DELAY +\n            (INITIAL_ANIMATION_DURATION * (seriesIndex + 1) / (seriesCount + 1));\n    };\n\n    return DonutChart;\n}(PieChart));\n\n\nsetDefaultOptions(DonutChart, {\n    startAngle: 90,\n    connectors: {\n        width: 2,\n        color: \"#939393\",\n        padding: 8\n    }\n});\n\nvar DonutPlotArea = (function (PiePlotArea) {\n    function DonutPlotArea () {\n        PiePlotArea.apply(this, arguments);\n    }\n\n    if ( PiePlotArea ) DonutPlotArea.__proto__ = PiePlotArea;\n    DonutPlotArea.prototype = Object.create( PiePlotArea && PiePlotArea.prototype );\n    DonutPlotArea.prototype.constructor = DonutPlotArea;\n\n    DonutPlotArea.prototype.render = function render () {\n        this.createDonutChart(this.series);\n    };\n\n    DonutPlotArea.prototype.createDonutChart = function createDonutChart (series) {\n        var firstSeries = series[0];\n        var donutChart = new DonutChart(this, {\n            series: series,\n            padding: firstSeries.padding,\n            connectors: firstSeries.connectors,\n            legend: this.options.legend\n        });\n\n        this.appendChart(donutChart);\n    };\n\n    // These were overriden in the Pie, so revert to original behavior\n    DonutPlotArea.prototype.getPointBelow = function getPointBelow (point) {\n        return this._getNextPoint(point, this._pointsByVertical, -1);\n    };\n\n    DonutPlotArea.prototype.getPointAbove = function getPointAbove (point) {\n        return this._getNextPoint(point, this._pointsByVertical, 1);\n    };\n\n    return DonutPlotArea;\n}(PiePlotArea));\n\nvar DEFAULT_PADDING = 0.15;\n\nvar PolarPlotAreaBase = (function (PlotAreaBase) {\n    function PolarPlotAreaBase () {\n        PlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PlotAreaBase ) PolarPlotAreaBase.__proto__ = PlotAreaBase;\n    PolarPlotAreaBase.prototype = Object.create( PlotAreaBase && PlotAreaBase.prototype );\n    PolarPlotAreaBase.prototype.constructor = PolarPlotAreaBase;\n\n    PolarPlotAreaBase.prototype.initFields = function initFields () {\n        this.valueAxisRangeTracker = new AxisGroupRangeTracker();\n    };\n\n    PolarPlotAreaBase.prototype.render = function render () {\n        this.addToLegend(this.series);\n        this.createPolarAxis();\n        this.createCharts();\n        this.createValueAxis();\n    };\n\n    PolarPlotAreaBase.prototype.alignAxes = function alignAxes () {\n        var axis = this.valueAxis;\n        var range = axis.range();\n        var crossingValue = axis.options.reverse ? range.max : range.min;\n        var slot = axis.getSlot(crossingValue);\n        var center = this.polarAxis.getSlot(0).center;\n        var axisBox = axis.box.translate(\n            center.x - slot.x1,\n            center.y - slot.y1\n        );\n\n        axis.reflow(axisBox);\n    };\n\n    PolarPlotAreaBase.prototype.createValueAxis = function createValueAxis () {\n        var tracker = this.valueAxisRangeTracker;\n        var defaultRange = tracker.query();\n        var axisOptions = this.valueAxisOptions({\n            roundToMajorUnit: false,\n            zIndex: -1\n        });\n        var axisType, axisDefaultRange;\n\n        if (axisOptions.type === LOGARITHMIC) {\n            axisType = RadarLogarithmicAxis;\n            axisDefaultRange = { min: 0.1, max: 1 };\n        } else {\n            axisType = RadarNumericAxis;\n            axisDefaultRange = { min: 0, max: 1 };\n        }\n\n        var range = tracker.query(name) || defaultRange || axisDefaultRange;\n\n        if (range && defaultRange) {\n            range.min = Math.min(range.min, defaultRange.min);\n            range.max = Math.max(range.max, defaultRange.max);\n        }\n\n        var valueAxis = new axisType(\n            range.min, range.max,\n            axisOptions,\n            this.chartService\n        );\n\n        this.valueAxis = valueAxis;\n        this.appendAxis(valueAxis);\n    };\n\n    PolarPlotAreaBase.prototype.reflowAxes = function reflowAxes () {\n        var ref = this;\n        var options = ref.options.plotArea;\n        var valueAxis = ref.valueAxis;\n        var polarAxis = ref.polarAxis;\n        var box = ref.box;\n        var defaultPadding = Math.min(box.width(), box.height()) * DEFAULT_PADDING;\n        var padding = getSpacing(options.padding || {}, defaultPadding);\n        var paddingBox = box.clone().unpad(padding);\n        var axisBox = paddingBox.clone();\n\n        axisBox.y2 = axisBox.y1 + Math.min(axisBox.width(), axisBox.height());\n        axisBox.align(paddingBox, Y, CENTER);\n\n        var valueAxisBox = axisBox.clone().shrink(0, axisBox.height() / 2);\n\n        polarAxis.reflow(axisBox);\n        valueAxis.reflow(valueAxisBox);\n        var heightDiff = valueAxis.lineBox().height() - valueAxis.box.height();\n        valueAxis.reflow(valueAxis.box.unpad({ top: heightDiff }));\n\n        this.axisBox = axisBox;\n        this.alignAxes(axisBox);\n    };\n\n    PolarPlotAreaBase.prototype.backgroundBox = function backgroundBox () {\n        return this.box;\n    };\n\n    PolarPlotAreaBase.prototype.detachLabels = function detachLabels () {};\n\n    return PolarPlotAreaBase;\n}(PlotAreaBase));\n\nvar PolarScatterChart = (function (ScatterChart) {\n    function PolarScatterChart () {\n        ScatterChart.apply(this, arguments);\n    }\n\n    if ( ScatterChart ) PolarScatterChart.__proto__ = ScatterChart;\n    PolarScatterChart.prototype = Object.create( ScatterChart && ScatterChart.prototype );\n    PolarScatterChart.prototype.constructor = PolarScatterChart;\n\n    PolarScatterChart.prototype.pointSlot = function pointSlot (slotX, slotY) {\n        var valueRadius = slotX.center.y - slotY.y1;\n        var slot = Point$5.onCircle(slotX.center, slotX.startAngle, valueRadius);\n\n        return new Box(slot.x, slot.y, slot.x, slot.y);\n    };\n\n    return PolarScatterChart;\n}(ScatterChart));\n\nsetDefaultOptions(PolarScatterChart, {\n    clip: false\n});\n\nvar PolarLineChart = (function (ScatterLineChart) {\n    function PolarLineChart () {\n        ScatterLineChart.apply(this, arguments);\n    }if ( ScatterLineChart ) PolarLineChart.__proto__ = ScatterLineChart;\n    PolarLineChart.prototype = Object.create( ScatterLineChart && ScatterLineChart.prototype );\n    PolarLineChart.prototype.constructor = PolarLineChart;\n\n    \n\n    return PolarLineChart;\n}(ScatterLineChart));\n\nPolarLineChart.prototype.pointSlot = PolarScatterChart.prototype.pointSlot;\n\nsetDefaultOptions(PolarLineChart, {\n    clip: false\n});\n\nvar SplinePolarAreaSegment = (function (SplineAreaSegment) {\n    function SplinePolarAreaSegment () {\n        SplineAreaSegment.apply(this, arguments);\n    }\n\n    if ( SplineAreaSegment ) SplinePolarAreaSegment.__proto__ = SplineAreaSegment;\n    SplinePolarAreaSegment.prototype = Object.create( SplineAreaSegment && SplineAreaSegment.prototype );\n    SplinePolarAreaSegment.prototype.constructor = SplinePolarAreaSegment;\n\n    SplinePolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {\n        var center = this._polarAxisCenter();\n        fillPath.lineTo(center.x, center.y);\n    };\n\n    SplinePolarAreaSegment.prototype._polarAxisCenter = function _polarAxisCenter () {\n        var polarAxis = this.parent.plotArea.polarAxis;\n        var center = polarAxis.box.center();\n        return center;\n    };\n\n    SplinePolarAreaSegment.prototype.strokeSegments = function strokeSegments () {\n        var segments = this._strokeSegments;\n\n        if (!segments) {\n            var center = this._polarAxisCenter();\n            var curveProcessor = new CurveProcessor(false);\n            var linePoints = this.points();\n\n            linePoints.push(center);\n            segments = this._strokeSegments = curveProcessor.process(linePoints);\n            segments.pop();\n        }\n\n        return segments;\n    };\n\n    return SplinePolarAreaSegment;\n}(SplineAreaSegment));\n\nvar PolarAreaSegment = (function (AreaSegment) {\n    function PolarAreaSegment () {\n        AreaSegment.apply(this, arguments);\n    }\n\n    if ( AreaSegment ) PolarAreaSegment.__proto__ = AreaSegment;\n    PolarAreaSegment.prototype = Object.create( AreaSegment && AreaSegment.prototype );\n    PolarAreaSegment.prototype.constructor = PolarAreaSegment;\n\n    PolarAreaSegment.prototype.fillToAxes = function fillToAxes (fillPath) {\n        var polarAxis = this.parent.plotArea.polarAxis;\n        var center = polarAxis.box.center();\n        var centerSegment = new Segment([ center.x, center.y ]);\n\n        fillPath.segments.unshift(centerSegment);\n        fillPath.segments.push(centerSegment);\n    };\n\n    return PolarAreaSegment;\n}(AreaSegment));\n\nvar PolarAreaChart = (function (PolarLineChart) {\n    function PolarAreaChart () {\n        PolarLineChart.apply(this, arguments);\n    }\n\n    if ( PolarLineChart ) PolarAreaChart.__proto__ = PolarLineChart;\n    PolarAreaChart.prototype = Object.create( PolarLineChart && PolarLineChart.prototype );\n    PolarAreaChart.prototype.constructor = PolarAreaChart;\n\n    PolarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {\n        var style = (currentSeries.line || {}).style;\n        var segment;\n\n        if (style === SMOOTH) {\n            segment = new SplinePolarAreaSegment(linePoints, currentSeries, seriesIx);\n        } else {\n            segment = new PolarAreaSegment(linePoints, currentSeries, seriesIx);\n        }\n        return segment;\n    };\n\n    PolarAreaChart.prototype.createMissingValue = function createMissingValue (value, missingValues) {\n        var missingValue;\n\n        if (hasValue$2(value.x) && missingValues !== INTERPOLATE) {\n            missingValue = {\n                x: value.x,\n                y: value.y\n            };\n            if (missingValues === ZERO) {\n                missingValue.y = 0;\n            }\n        }\n\n        return missingValue;\n    };\n\n    PolarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {\n        return series.missingValues || ZERO;\n    };\n\n    PolarAreaChart.prototype._hasMissingValuesGap = function _hasMissingValuesGap () {\n        var this$1$1 = this;\n\n        var series = this.options.series;\n\n        for (var idx = 0; idx < series.length; idx++) {\n            if (this$1$1.seriesMissingValues(series[idx]) === GAP) {\n                return true;\n            }\n        }\n    };\n\n    PolarAreaChart.prototype.sortPoints = function sortPoints (points) {\n        var this$1$1 = this;\n\n        points.sort(xComparer);\n\n        if (this._hasMissingValuesGap()) {\n            for (var idx = 0; idx < points.length; idx++) {\n                var point = points[idx];\n                if (point) {\n                    var value = point.value;\n                    if (!hasValue$2(value.y) && this$1$1.seriesMissingValues(point.series) === GAP) {\n                        delete points[idx];\n                    }\n                }\n            }\n        }\n\n        return points;\n    };\n\n    return PolarAreaChart;\n}(PolarLineChart));\n\nfunction xComparer(a, b) {\n    return a.value.x - b.value.x;\n}\n\nvar PolarPlotArea = (function (PolarPlotAreaBase) {\n    function PolarPlotArea () {\n        PolarPlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PolarPlotAreaBase ) PolarPlotArea.__proto__ = PolarPlotAreaBase;\n    PolarPlotArea.prototype = Object.create( PolarPlotAreaBase && PolarPlotAreaBase.prototype );\n    PolarPlotArea.prototype.constructor = PolarPlotArea;\n\n    PolarPlotArea.prototype.createPolarAxis = function createPolarAxis () {\n        var polarAxis = new PolarAxis(this.options.xAxis, this.chartService);\n\n        this.polarAxis = polarAxis;\n        this.axisX = polarAxis;\n        this.appendAxis(polarAxis);\n    };\n\n    PolarPlotArea.prototype.render = function render () {\n        this.series = [].concat( this.originalSeries );\n        this.createTrendlineSeries();\n\n        PolarPlotAreaBase.prototype.render.call(this);\n    };\n\n    PolarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {\n        return deepExtend(defaults, {\n            majorGridLines: { type: ARC },\n            minorGridLines: { type: ARC }\n        }, this.options.yAxis);\n    };\n\n    PolarPlotArea.prototype.createValueAxis = function createValueAxis () {\n        PolarPlotAreaBase.prototype.createValueAxis.call(this);\n        this.axisY = this.valueAxis;\n    };\n\n    PolarPlotArea.prototype.trendlineFactory = function trendlineFactory (options, series) {\n        var trendline = XYPlotArea.prototype.trendlineFactory.call(this, options, series);\n        if (trendline) {\n            trendline.type = POLAR_LINE;\n        }\n\n        return trendline;\n    };\n\n    PolarPlotArea.prototype.appendChart = function appendChart (chart, pane) {\n        this.valueAxisRangeTracker.update(chart.yAxisRanges);\n\n        PlotAreaBase.prototype.appendChart.call(this, chart, pane);\n    };\n\n    PolarPlotArea.prototype.createCharts = function createCharts () {\n        var series = this.filterVisibleSeries(this.series);\n        var pane = this.panes[0];\n\n        this.createLineChart(\n            filterSeriesByType(series, [ POLAR_LINE ]),\n            pane\n        );\n\n        this.createScatterChart(\n            filterSeriesByType(series, [ POLAR_SCATTER ]),\n            pane\n        );\n\n        this.createAreaChart(\n            filterSeriesByType(series, [ POLAR_AREA ]),\n            pane\n        );\n    };\n\n    PolarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var lineChart = new PolarLineChart(this, { series: series });\n\n        this.appendChart(lineChart, pane);\n    };\n\n    PolarPlotArea.prototype.createScatterChart = function createScatterChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var scatterChart = new PolarScatterChart(this, { series: series });\n\n        this.appendChart(scatterChart, pane);\n    };\n\n    PolarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var areaChart = new PolarAreaChart(this, { series: series });\n\n        this.appendChart(areaChart, pane);\n    };\n\n    PolarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {\n        var coords = chart._eventCoordinates(e);\n        var point = new Point$5(coords.x, coords.y);\n        var xValue = this.axisX.getValue(point);\n        var yValue = this.axisY.getValue(point);\n\n        if (xValue !== null && yValue !== null) {\n            chart.trigger(eventType, {\n                element: eventElement(e),\n                x: xValue,\n                y: yValue\n            });\n        }\n    };\n\n    PolarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};\n\n    return PolarPlotArea;\n}(PolarPlotAreaBase));\n\nsetDefaultOptions(PolarPlotArea, {\n    xAxis: {},\n    yAxis: {}\n});\n\ndeepExtend(PolarPlotArea.prototype, PlotAreaEventsMixin, {\n    seriesValues: XYPlotArea.prototype.seriesValues\n});\n\nfunction groupBySeriesIx(segments) {\n    var seriesSegments = [];\n    for (var idx = 0; idx < segments.length; idx++) {\n        var segment = segments[idx];\n        seriesSegments[segment.seriesIx] = seriesSegments[segment.seriesIx] || [];\n        seriesSegments[segment.seriesIx].push(segment);\n    }\n\n    return seriesSegments;\n}\n\nvar RadarLineChart = (function (LineChart) {\n    function RadarLineChart () {\n        LineChart.apply(this, arguments);\n    }\n\n    if ( LineChart ) RadarLineChart.__proto__ = LineChart;\n    RadarLineChart.prototype = Object.create( LineChart && LineChart.prototype );\n    RadarLineChart.prototype.constructor = RadarLineChart;\n\n    RadarLineChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {\n        var valueRadius = categorySlot.center.y - valueSlot.y1;\n        var slot = Point$5.onCircle(categorySlot.center, categorySlot.middle(), valueRadius);\n\n        return new Box(slot.x, slot.y, slot.x, slot.y);\n    };\n\n    RadarLineChart.prototype.renderSegments = function renderSegments () {\n        LineChart.prototype.renderSegments.call(this);\n\n        if (this._segments && this._segments.length > 1) {\n            var seriesSegments = groupBySeriesIx(this._segments);\n\n            for (var idx = 0; idx < seriesSegments.length; idx++) {\n                var segments = seriesSegments[idx];\n                if (segments && segments.length > 1) {\n                    var firstPoint = segments[0].linePoints[0];\n                    var lastSegment = last(segments);\n                    var lastPoint = last(lastSegment.linePoints);\n                    var isFirstDataPoint = firstPoint.categoryIx === 0;\n                    var isLastDataPoint = lastPoint.categoryIx === lastPoint.categoriesCount - 1;\n                    if (isFirstDataPoint && isLastDataPoint) {\n                        last(segments).linePoints.push(firstPoint);\n                    }\n                }\n            }\n        }\n    };\n\n    RadarLineChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx) {\n        var style = currentSeries.style;\n        var pointType;\n\n        if (style === SMOOTH) {\n            pointType = SplineSegment;\n        } else {\n            pointType = LineSegment;\n        }\n\n        var segment = new pointType(linePoints, currentSeries, seriesIx);\n        var missingValues = this.seriesMissingValues(currentSeries);\n\n        if (linePoints.length === currentSeries.data.length || missingValues === INTERPOLATE) {\n            segment.options.closed = true;\n        }\n\n        return segment;\n    };\n\n    return RadarLineChart;\n}(LineChart));\n\nsetDefaultOptions(RadarLineChart, {\n    clip: false,\n    limitPoints: false\n});\n\nvar SplineRadarAreaSegment = (function (SplineAreaSegment) {\n    function SplineRadarAreaSegment () {\n        SplineAreaSegment.apply(this, arguments);\n    }\n\n    if ( SplineAreaSegment ) SplineRadarAreaSegment.__proto__ = SplineAreaSegment;\n    SplineRadarAreaSegment.prototype = Object.create( SplineAreaSegment && SplineAreaSegment.prototype );\n    SplineRadarAreaSegment.prototype.constructor = SplineRadarAreaSegment;\n\n    SplineRadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};\n\n    return SplineRadarAreaSegment;\n}(SplineAreaSegment));\n\nvar RadarAreaSegment = (function (AreaSegment) {\n    function RadarAreaSegment () {\n        AreaSegment.apply(this, arguments);\n    }\n\n    if ( AreaSegment ) RadarAreaSegment.__proto__ = AreaSegment;\n    RadarAreaSegment.prototype = Object.create( AreaSegment && AreaSegment.prototype );\n    RadarAreaSegment.prototype.constructor = RadarAreaSegment;\n\n    RadarAreaSegment.prototype.fillToAxes = function fillToAxes () {};\n\n    return RadarAreaSegment;\n}(AreaSegment));\n\nvar RadarAreaChart = (function (RadarLineChart) {\n    function RadarAreaChart () {\n        RadarLineChart.apply(this, arguments);\n    }\n\n    if ( RadarLineChart ) RadarAreaChart.__proto__ = RadarLineChart;\n    RadarAreaChart.prototype = Object.create( RadarLineChart && RadarLineChart.prototype );\n    RadarAreaChart.prototype.constructor = RadarAreaChart;\n\n    RadarAreaChart.prototype.createSegment = function createSegment (linePoints, currentSeries, seriesIx, prevSegment) {\n        var isStacked = this.options.isStacked;\n        var style = (currentSeries.line || {}).style;\n        var previousSegment;\n        var stackPoints;\n        var segment;\n\n        if (isStacked && seriesIx > 0 && prevSegment) {\n            stackPoints = prevSegment.linePoints.slice(0);\n            previousSegment = prevSegment;\n        }\n\n        if (style === SMOOTH) {\n            segment = new SplineRadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);\n            segment.options.closed = true;\n        } else {\n            linePoints.push(linePoints[0]);\n            segment = new RadarAreaSegment(linePoints, currentSeries, seriesIx, previousSegment, stackPoints);\n        }\n\n        return segment;\n    };\n\n    RadarAreaChart.prototype.seriesMissingValues = function seriesMissingValues (series) {\n        return series.missingValues || ZERO;\n    };\n\n    return RadarAreaChart;\n}(RadarLineChart));\n\nvar RadarSegment = (function (DonutSegment) {\n    function RadarSegment(value, options) {\n        DonutSegment.call(this, value, null, options);\n    }\n\n    if ( DonutSegment ) RadarSegment.__proto__ = DonutSegment;\n    RadarSegment.prototype = Object.create( DonutSegment && DonutSegment.prototype );\n    RadarSegment.prototype.constructor = RadarSegment;\n\n    RadarSegment.prototype.getIndex = function getIndex () {\n        return this.categoryIx;\n    };\n\n    return RadarSegment;\n}(DonutSegment));\n\nsetDefaultOptions(RadarSegment, {\n    overlay: {\n        gradient: \"none\"\n    },\n    labels: {\n        distance: 10\n    }\n});\n\nvar RadarClusterLayout = (function (ChartElement) {\n    function RadarClusterLayout(options) {\n        ChartElement.call(this, options);\n\n        this.forEach = options.rtl ? forEachReverse : forEach;\n    }\n\n    if ( ChartElement ) RadarClusterLayout.__proto__ = ChartElement;\n    RadarClusterLayout.prototype = Object.create( ChartElement && ChartElement.prototype );\n    RadarClusterLayout.prototype.constructor = RadarClusterLayout;\n\n    RadarClusterLayout.prototype.reflow = function reflow (sector) {\n        var ref = this;\n        var options = ref.options;\n        var children = ref.children;\n        var gap = options.gap;\n        var spacing = options.spacing;\n        var count = children.length;\n        var slots = count + gap + (spacing * (count - 1));\n        var slotAngle = sector.angle / slots;\n        var angle = sector.startAngle + slotAngle * (gap / 2);\n\n        this.forEach(children, function (child) {\n            var slotSector = sector.clone();\n            slotSector.startAngle = angle;\n            slotSector.angle = slotAngle;\n\n            if (child.sector) {\n                slotSector.radius = child.sector.radius;\n            }\n\n            child.reflow(slotSector);\n            child.sector = slotSector;\n\n            angle += slotAngle + (slotAngle * spacing);\n        });\n    };\n\n    return RadarClusterLayout;\n}(ChartElement));\n\nsetDefaultOptions(RadarClusterLayout, {\n    gap: 1,\n    spacing: 0\n});\n\nvar RadarStackLayout = (function (ChartElement) {\n    function RadarStackLayout () {\n        ChartElement.apply(this, arguments);\n    }\n\n    if ( ChartElement ) RadarStackLayout.__proto__ = ChartElement;\n    RadarStackLayout.prototype = Object.create( ChartElement && ChartElement.prototype );\n    RadarStackLayout.prototype.constructor = RadarStackLayout;\n\n    RadarStackLayout.prototype.reflow = function reflow (sector) {\n        var ref = this;\n        var reverse = ref.options.reverse;\n        var children = ref.children;\n        var childrenCount = children.length;\n        var first = reverse ? childrenCount - 1 : 0;\n        var step = reverse ? -1 : 1;\n\n        this.box = new Box();\n\n        for (var i = first; i >= 0 && i < childrenCount; i += step) {\n            var childSector = children[i].sector;\n            childSector.startAngle = sector.startAngle;\n            childSector.angle = sector.angle;\n        }\n    };\n\n    return RadarStackLayout;\n}(ChartElement));\n\nvar RadarBarChart = (function (BarChart) {\n    function RadarBarChart () {\n        BarChart.apply(this, arguments);\n    }\n\n    if ( BarChart ) RadarBarChart.__proto__ = BarChart;\n    RadarBarChart.prototype = Object.create( BarChart && BarChart.prototype );\n    RadarBarChart.prototype.constructor = RadarBarChart;\n\n    RadarBarChart.prototype.pointType = function pointType () {\n        return RadarSegment;\n    };\n\n    RadarBarChart.prototype.clusterType = function clusterType () {\n        return RadarClusterLayout;\n    };\n\n    RadarBarChart.prototype.stackType = function stackType () {\n        return RadarStackLayout;\n    };\n\n    RadarBarChart.prototype.categorySlot = function categorySlot (categoryAxis, categoryIx) {\n        return categoryAxis.getSlot(categoryIx);\n    };\n\n    RadarBarChart.prototype.pointSlot = function pointSlot (categorySlot, valueSlot) {\n        var slot = categorySlot.clone();\n        var y = categorySlot.center.y;\n\n        slot.radius = y - valueSlot.y1;\n        slot.innerRadius = y - valueSlot.y2;\n\n        return slot;\n    };\n\n    RadarBarChart.prototype.reflowPoint = function reflowPoint (point, pointSlot) {\n        point.sector = pointSlot;\n        point.reflow();\n    };\n\n    RadarBarChart.prototype.createAnimation = function createAnimation () {\n        this.options.animation.center = this.box.toRect().center();\n        BarChart.prototype.createAnimation.call(this);\n    };\n\n    return RadarBarChart;\n}(BarChart));\n\nRadarBarChart.prototype.reflow = CategoricalChart.prototype.reflow;\n\nsetDefaultOptions(RadarBarChart, {\n    clip: false,\n    limitPoints: false,\n    animation: {\n        type: \"pie\"\n    }\n});\n\nvar RadarPlotArea = (function (PolarPlotAreaBase) {\n    function RadarPlotArea () {\n        PolarPlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PolarPlotAreaBase ) RadarPlotArea.__proto__ = PolarPlotAreaBase;\n    RadarPlotArea.prototype = Object.create( PolarPlotAreaBase && PolarPlotAreaBase.prototype );\n    RadarPlotArea.prototype.constructor = RadarPlotArea;\n\n    RadarPlotArea.prototype.createPolarAxis = function createPolarAxis () {\n        var categoryAxis = new RadarCategoryAxis(this.options.categoryAxis, this.chartService);\n\n        this.polarAxis = categoryAxis;\n        this.categoryAxis = categoryAxis;\n        this.appendAxis(categoryAxis);\n        this.aggregateCategories();\n        this.createTrendlineSeries();\n        this.createCategoryAxesLabels();\n    };\n\n    RadarPlotArea.prototype.valueAxisOptions = function valueAxisOptions (defaults) {\n        if (this._hasBarCharts) {\n            deepExtend(defaults, {\n                majorGridLines: { type: ARC },\n                minorGridLines: { type: ARC }\n            });\n        }\n\n        if (this._isStacked100) {\n            deepExtend(defaults, {\n                roundToMajorUnit: false,\n                labels: { format: \"P0\" }\n            });\n        }\n\n        return deepExtend(defaults, this.options.valueAxis);\n    };\n\n    RadarPlotArea.prototype.aggregateCategories = function aggregateCategories () {\n        // No separate panes in radar charts\n        CategoricalPlotArea.prototype.aggregateCategories.call(this, this.panes);\n    };\n\n    RadarPlotArea.prototype.createCategoryAxesLabels = function createCategoryAxesLabels () {\n        CategoricalPlotArea.prototype.createCategoryAxesLabels.call(this, this.panes);\n    };\n\n    RadarPlotArea.prototype.filterSeries = function filterSeries (currentSeries) {\n        // Not supported for radar charts\n        return currentSeries;\n    };\n\n    RadarPlotArea.prototype.trendlineFactory = function trendlineFactory (options, series) {\n        var trendline = CategoricalPlotArea.prototype.trendlineFactory.call(this, options, series);\n        if (trendline) {\n            trendline.type = RADAR_LINE;\n        }\n\n        return trendline;\n    };\n\n    RadarPlotArea.prototype.createCharts = function createCharts () {\n        var series = this.filterVisibleSeries(this.series);\n        var pane = this.panes[0];\n\n        this.createAreaChart(\n            filterSeriesByType(series, [ RADAR_AREA ]),\n            pane\n        );\n\n        this.createLineChart(\n            filterSeriesByType(series, [ RADAR_LINE ]),\n            pane\n        );\n\n        this.createBarChart(\n            filterSeriesByType(series, [ RADAR_COLUMN ]),\n            pane\n        );\n    };\n\n    RadarPlotArea.prototype.chartOptions = function chartOptions (series) {\n        var options = { series: series };\n        var firstSeries = series[0];\n        if (firstSeries) {\n            var filteredSeries = this.filterVisibleSeries(series);\n            var stack = firstSeries.stack;\n            options.isStacked = stack && filteredSeries.length > 1;\n            options.isStacked100 = stack && stack.type === \"100%\" && filteredSeries.length > 1;\n\n            if (options.isStacked100) {\n                this._isStacked100 = true;\n            }\n        }\n\n        return options;\n    };\n\n    RadarPlotArea.prototype.createAreaChart = function createAreaChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var areaChart = new RadarAreaChart(this, this.chartOptions(series));\n        this.appendChart(areaChart, pane);\n    };\n\n    RadarPlotArea.prototype.createLineChart = function createLineChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var lineChart = new RadarLineChart(this, this.chartOptions(series));\n        this.appendChart(lineChart, pane);\n    };\n\n    RadarPlotArea.prototype.createBarChart = function createBarChart (series, pane) {\n        if (series.length === 0) {\n            return;\n        }\n\n        var firstSeries = series[0];\n        var options = this.chartOptions(series);\n        var filteredSeries = this.filterVisibleSeries(series);\n        var anyStackedSeries = filteredSeries.some(function (s) { return s.stack; });\n        var isStacked100 = filteredSeries.some(function (s) { return s.stack && s.stack.type === \"100%\"; });\n        options.gap = firstSeries.gap;\n        options.spacing = firstSeries.spacing;\n        options.defaultStack = firstSeries.stack && filteredSeries.length > 1;\n        options.isStacked = anyStackedSeries && filteredSeries.length > 1;\n        options.isStacked100 = isStacked100 && filteredSeries.length > 1;\n\n        var barChart = new RadarBarChart(this, options);\n        this.appendChart(barChart, pane);\n\n        this._hasBarCharts = true;\n    };\n\n    RadarPlotArea.prototype.seriesCategoryAxis = function seriesCategoryAxis () {\n        return this.categoryAxis;\n    };\n\n    RadarPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {\n        var coords = chart._eventCoordinates(e);\n        var point = new Point$5(coords.x, coords.y);\n        var category = this.categoryAxis.getCategory(point);\n        var value = this.valueAxis.getValue(point);\n\n        if (category !== null && value !== null) {\n            chart.trigger(eventType, {\n                element: eventElement(e),\n                category: category,\n                value: value\n            });\n        }\n    };\n\n    RadarPlotArea.prototype.createCrosshairs = function createCrosshairs () {};\n\n    RadarPlotArea.prototype._pointsByVertical = function _pointsByVertical (basePoint) {\n        return PolarPlotAreaBase.prototype._pointsByVertical.call(this, basePoint).sort(this._getSeriesCompareFn());\n    };\n\n    RadarPlotArea.prototype._getSeriesCompareFn = function _getSeriesCompareFn () {\n        return function (a, b) { return b.value - a.value; };\n    };\n\n    return RadarPlotArea;\n}(PolarPlotAreaBase));\n\ndeepExtend(RadarPlotArea.prototype, PlotAreaEventsMixin, {\n    appendChart: CategoricalPlotArea.prototype.appendChart,\n    aggregateSeries: CategoricalPlotArea.prototype.aggregateSeries,\n    seriesSourcePoints: CategoricalPlotArea.prototype.seriesSourcePoints,\n    seriesValues: CategoricalPlotArea.prototype.seriesValues\n});\n\nsetDefaultOptions(RadarPlotArea, {\n    categoryAxis: {\n        categories: []\n    },\n    valueAxis: {}\n});\n\nvar FunnelSegment = (function (ChartElement) {\n    function FunnelSegment(value, options, segmentOptions) {\n        ChartElement.call(this, options);\n\n        this.value = value;\n        this.options.index = segmentOptions.index;\n    }\n\n    if ( ChartElement ) FunnelSegment.__proto__ = ChartElement;\n    FunnelSegment.prototype = Object.create( ChartElement && ChartElement.prototype );\n    FunnelSegment.prototype.constructor = FunnelSegment;\n\n    FunnelSegment.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = getTemplate$1(options);\n\n        if (labelTemplate) {\n            return labelTemplate(this.pointData());\n        } else if (options.format) {\n            return this.formatValue(options.format);\n        }\n\n        return this.value;\n    };\n\n    FunnelSegment.prototype.reflow = function reflow (chartBox) {\n        var points = this.points;\n        var label = this.children[0];\n        var x1 = Math.min(points[0].x, points[3].x);\n        var x2 = Math.max(points[1].x, points[2].x);\n\n        this.box = new Box(x1, points[0].y, x2, points[2].y);\n\n        if (label) {\n            label.reflow(new Box(chartBox.x1, points[0].y, chartBox.x2, points[2].y));\n        }\n    };\n\n    FunnelSegment.prototype.createVisual = function createVisual () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var visual;\n\n        ChartElement.prototype.createVisual.call(this);\n\n        this.addAccessibilityAttributesToVisual();\n\n        if (options.visual) {\n            visual = options.visual({\n                category: this.category,\n                dataItem: this.dataItem,\n                value: this.value,\n                series: this.series,\n                percentage: this.percentage,\n                points: this.points,\n                options: options,\n                sender: this.getSender(),\n                createVisual: function () { return this$1$1.createPath(); }\n            });\n        } else {\n            visual = this.createPath();\n        }\n\n        if (visual) {\n            this.visual.append(visual);\n        }\n    };\n\n    FunnelSegment.prototype.createPath = function createPath () {\n        var options = this.options;\n        var border = options.border;\n        var path = Path$7.fromPoints(this.points, {\n            fill: createPatternFill(options.pattern, {\n                color: options.color,\n                opacity: options.opacity\n            }),\n            stroke: {\n                color: border.color,\n                opacity: border.opacity,\n                width: border.width\n            }\n        }).close();\n\n        return path;\n    };\n\n    FunnelSegment.prototype.createHighlight = function createHighlight (style) {\n        return Path$7.fromPoints(this.points, style);\n    };\n\n    FunnelSegment.prototype.highlightVisual = function highlightVisual () {\n        return this.visual.children[0];\n    };\n\n    FunnelSegment.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        var path = Path$7.fromPoints(this.points).close();\n\n        return {\n            options: this.options,\n            path: path\n        };\n    };\n\n    FunnelSegment.prototype.createFocusHighlight = function createFocusHighlight (style) {\n        var borderWidth = this.options.accessibility.highlight.border.width;\n        var result = Path$7.fromPoints(this.points, deepExtend({}, style, {\n            stroke: {\n                width: borderWidth * 2\n            }\n        })).close();\n\n        var clipPath = new MultiPath();\n\n        clipPath.paths.push(Path$7.fromRect(this.box.clone().pad(borderWidth).toRect()));\n        clipPath.paths.push(Path$7.fromPoints(this.points));\n\n        result.clip(clipPath);\n\n        return result;\n    };\n\n    FunnelSegment.prototype.tooltipAnchor = function tooltipAnchor () {\n        var box = this.box;\n        return {\n            point: new Point$5(box.center().x, box.y1),\n            align: {\n                horizontal: \"center\",\n                vertical: \"top\"\n            }\n        };\n    };\n\n    FunnelSegment.prototype.formatValue = function formatValue (format) {\n        var point = this;\n        return point.owner.formatPointValue(point, format);\n    };\n\n    FunnelSegment.prototype.pointData = function pointData () {\n        return {\n            dataItem: this.dataItem,\n            category: this.category,\n            value: this.value,\n            series: this.series,\n            percentage: this.percentage\n        };\n    };\n\n    FunnelSegment.prototype.getIndex = function getIndex () {\n        return this.index;\n    };\n\n    return FunnelSegment;\n}(ChartElement));\n\nsetDefaultOptions(FunnelSegment, {\n    color: WHITE$1,\n    border: {\n        width: 1\n    },\n    labels: {\n        format: \"\"\n    },\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n});\n\ndeepExtend(FunnelSegment.prototype, PointEventsMixin);\ndeepExtend(FunnelSegment.prototype, AccessibilityAttributesMixin);\n\nvar FunnelChart = (function (ChartElement) {\n    function FunnelChart(plotArea, options) {\n        ChartElement.call(this, options);\n\n        this.plotArea = plotArea;\n        this.chartService = plotArea.chartService;\n        this.points = [];\n        this.labels = [];\n        this.legendItems = [];\n        this.render();\n    }\n\n    if ( ChartElement ) FunnelChart.__proto__ = ChartElement;\n    FunnelChart.prototype = Object.create( ChartElement && ChartElement.prototype );\n    FunnelChart.prototype.constructor = FunnelChart;\n\n    FunnelChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        return this.plotArea.chartService.format.auto(format,point.value);\n    };\n\n    FunnelChart.prototype.render = function render () {\n        var this$1$1 = this;\n\n        var seriesIx = 0;\n        var ref = this;\n        var options = ref.options;\n        var seriesColors = ref.plotArea.options.seriesColors; if ( seriesColors === void 0 ) seriesColors = [];\n        var series = options.series[seriesIx];\n        var data = series.data;\n\n        if (!data) {\n            return;\n        }\n\n        var ref$1 = bindSegments(series);\n        var total = ref$1.total;\n        var points = ref$1.points;\n\n        for (var i = 0; i < points.length; i++) {\n            var pointData = points[i];\n\n            if (!pointData) {\n                continue;\n            }\n\n            var fields = pointData.fields;\n\n            if (!isFunction(series.color)) {\n                series.color = fields.color || seriesColors[i % seriesColors.length];\n            }\n\n            fields = deepExtend({\n                index: i,\n                owner: this$1$1,\n                series: series,\n                seriesIx: seriesIx,\n                dataItem: data[i],\n                percentage: pointData.value / total\n            }, fields, { visible: pointData.visible });\n\n            var value = pointData.valueFields.value;\n            var segment = this$1$1.createSegment(value, fields);\n            var label = this$1$1.createLabel(value, fields);\n\n            if (segment && label) {\n                segment.append(label);\n            }\n        }\n    };\n\n    FunnelChart.prototype.evalSegmentOptions = function evalSegmentOptions (options, value, fields) {\n        var series = fields.series;\n\n        evalOptions(options, {\n            value: value,\n            series: series,\n            dataItem: fields.dataItem,\n            index: fields.index\n        }, { defaults: series._defaults, excluded: [\n            \"data\", \"content\", \"template\", \"toggle\", \"visual\",\n            \"ariaTemplate\", \"ariaContent\"\n        ] });\n    };\n\n    FunnelChart.prototype.createSegment = function createSegment (value, fields) {\n        var seriesOptions = deepExtend({}, fields.series);\n        seriesOptions.pattern = fields.pattern || seriesOptions.pattern;\n\n        this.evalSegmentOptions(seriesOptions, value, fields);\n\n        this.createLegendItem(value, seriesOptions, fields);\n\n        if (fields.visible !== false) {\n\n            var segment = new FunnelSegment(value, seriesOptions, fields);\n            Object.assign(segment, fields);\n\n            this.append(segment);\n            this.points.push(segment);\n\n            return segment;\n        }\n    };\n\n    FunnelChart.prototype.createLabel = function createLabel (value, fields) {\n        var series = fields.series;\n        var dataItem = fields.dataItem;\n        var labels = deepExtend({}, this.options.labels, series.labels);\n        var text = value;\n\n        if (labels.visible) {\n            var labelTemplate = getTemplate$1(labels);\n            var data = {\n                dataItem: dataItem,\n                value: value,\n                percentage: fields.percentage,\n                category: fields.category,\n                series: series\n            };\n            if (labelTemplate) {\n                text = labelTemplate(data);\n            } else if (labels.format) {\n                text = this.chartService.format.auto(labels.format, text);\n            }\n\n            if (!labels.color) {\n                labels.color = autoTextColor(series.color);\n                if (!labels.background) {\n                    labels.background = series.color;\n                }\n            }\n\n            this.evalSegmentOptions(labels, value, fields);\n            var textBox = new TextBox(text, deepExtend({\n                vAlign: labels.position\n            }, labels), data);\n\n            this.labels.push(textBox);\n\n            return textBox;\n        }\n    };\n\n    FunnelChart.prototype.labelPadding = function labelPadding () {\n        var labels = this.labels;\n        var padding = { left: 0, right: 0 };\n\n        for (var i = 0; i < labels.length; i++) {\n            var label = labels[i];\n            var align = label.options.align;\n            if (align !== CENTER) {\n                var width = labels[i].box.width();\n\n                if (align === LEFT) {\n                    padding.left = Math.max(padding.left, width);\n                } else {\n                    padding.right = Math.max(padding.right, width);\n                }\n            }\n        }\n\n        return padding;\n    };\n\n    FunnelChart.prototype.dynamicSlopeReflow = function dynamicSlopeReflow (box, width, totalHeight) {\n        var ref = this;\n        var options = ref.options;\n        var segments = ref.points;\n        var count = segments.length;\n        var firstSegment = segments[0];\n        var maxSegment = firstSegment;\n\n        for (var idx = 0; idx < segments.length; idx++) {\n            if (segments[idx].percentage > maxSegment.percentage) {\n                maxSegment = segments[idx];\n            }\n        }\n\n        var lastUpperSide = (firstSegment.percentage / maxSegment.percentage) * width;\n        var previousOffset = (width - lastUpperSide) / 2;\n        var previousHeight = 0;\n\n        for (var idx$1 = 0; idx$1 < count; idx$1++) {\n            var percentage = segments[idx$1].percentage;\n            var nextSegment = segments[idx$1 + 1];\n            var nextPercentage = (nextSegment ? nextSegment.percentage : percentage);\n            var points = segments[idx$1].points = [];\n            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);\n            var offset = (void 0);\n\n            if (!percentage) {\n                offset = nextPercentage ? 0 : width / 2;\n            } else {\n                offset = (width - lastUpperSide * (nextPercentage / percentage)) / 2;\n            }\n\n            offset = limitValue(offset, 0, width);\n\n            points.push(new Point$6(box.x1 + previousOffset, box.y1 + previousHeight));\n            points.push(new Point$6(box.x1 + width - previousOffset, box.y1 + previousHeight));\n            points.push(new Point$6(box.x1 + width - offset, box.y1 + height + previousHeight));\n            points.push(new Point$6(box.x1 + offset, box.y1 + height + previousHeight));\n\n            previousOffset = offset;\n            previousHeight += height + options.segmentSpacing;\n            lastUpperSide = limitValue(width - 2 * offset, 0, width);\n        }\n    };\n\n    FunnelChart.prototype.constantSlopeReflow = function constantSlopeReflow (box, width, totalHeight) {\n        var ref = this;\n        var options = ref.options;\n        var segments = ref.points;\n        var count = segments.length;\n        var decreasingWidth = options.neckRatio <= 1;\n        var neckRatio = decreasingWidth ? options.neckRatio * width : width;\n        var previousOffset = decreasingWidth ? 0 : (width - width / options.neckRatio) / 2;\n        var topMostWidth = decreasingWidth ? width : width - previousOffset * 2;\n        var finalNarrow = (topMostWidth - neckRatio) / 2;\n        var previousHeight = 0;\n\n        for (var idx = 0; idx < count; idx++) {\n            var points = segments[idx].points = [];\n            var percentage = segments[idx].percentage;\n            var offset = (options.dynamicHeight) ? (finalNarrow * percentage) : (finalNarrow / count);\n            var height = (options.dynamicHeight) ? (totalHeight * percentage) : (totalHeight / count);\n\n            points.push(new Point$6(box.x1 + previousOffset, box.y1 + previousHeight));\n            points.push(new Point$6(box.x1 + width - previousOffset, box.y1 + previousHeight));\n            points.push(new Point$6(box.x1 + width - previousOffset - offset, box.y1 + height + previousHeight));\n            points.push(new Point$6(box.x1 + previousOffset + offset,box.y1 + height + previousHeight));\n            previousOffset += offset;\n            previousHeight += height + options.segmentSpacing;\n        }\n    };\n\n    FunnelChart.prototype.reflow = function reflow (chartBox) {\n        var points = this.points;\n        var count = points.length;\n\n        if (!count) {\n            return;\n        }\n\n        var options = this.options;\n        var box = chartBox.clone().unpad(this.labelPadding());\n        var totalHeight = box.height() - options.segmentSpacing * (count - 1);\n        var width = box.width();\n\n        if (options.dynamicSlope) {\n            this.dynamicSlopeReflow(box, width, totalHeight);\n        } else {\n            this.constantSlopeReflow(box, width, totalHeight);\n        }\n\n        for (var idx = 0; idx < count; idx++) {\n            points[idx].reflow(chartBox);\n        }\n    };\n\n    return FunnelChart;\n}(ChartElement));\n\nsetDefaultOptions(FunnelChart, {\n    neckRatio: 0.3,\n    width: 300,\n    dynamicSlope: false,\n    dynamicHeight: true,\n    segmentSpacing: 0,\n    labels: {\n        visible: false,\n        align: CENTER,\n        position: CENTER,\n        zIndex: 1\n    }\n});\n\ndeepExtend(FunnelChart.prototype, PieChartMixin);\n\nvar MAX_NECK_RATIO = 1e6;\n\nvar PyramidChart = (function (FunnelChart) {\n    function PyramidChart(plotArea, options) {\n        options.dynamicSlope = false;\n        options.neckRatio = MAX_NECK_RATIO;\n\n        FunnelChart.call(this, plotArea, options);\n    }\n\n    if ( FunnelChart ) PyramidChart.__proto__ = FunnelChart;\n    PyramidChart.prototype = Object.create( FunnelChart && FunnelChart.prototype );\n    PyramidChart.prototype.constructor = PyramidChart;\n\n    return PyramidChart;\n}(FunnelChart));\n\nvar FunnelPlotArea = (function (PlotAreaBase) {\n    function FunnelPlotArea () {\n        PlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PlotAreaBase ) FunnelPlotArea.__proto__ = PlotAreaBase;\n    FunnelPlotArea.prototype = Object.create( PlotAreaBase && PlotAreaBase.prototype );\n    FunnelPlotArea.prototype.constructor = FunnelPlotArea;\n\n    FunnelPlotArea.prototype.render = function render () {\n        this.createChart(FunnelChart, filterSeriesByType(this.series, [ FUNNEL ]));\n        this.createChart(PyramidChart, filterSeriesByType(this.series, [ PYRAMID ]));\n    };\n\n    FunnelPlotArea.prototype.createChart = function createChart (chartType, series) {\n        var firstSeries = series[0];\n        if (!firstSeries) {\n            return;\n        }\n\n        var chart = new chartType(this, {\n            series: series,\n            legend: this.options.legend,\n            neckRatio: firstSeries.neckRatio,\n            dynamicHeight: firstSeries.dynamicHeight,\n            dynamicSlope: firstSeries.dynamicSlope,\n            segmentSpacing: firstSeries.segmentSpacing,\n            highlight: firstSeries.highlight\n        });\n\n        this.appendChart(chart);\n    };\n\n    FunnelPlotArea.prototype.appendChart = function appendChart (chart, pane) {\n        PlotAreaBase.prototype.appendChart.call(this, chart, pane);\n        append(this.options.legend.data, chart.legendItems);\n    };\n\n    FunnelPlotArea.prototype._pointsByVertical = function _pointsByVertical (basePoint) {\n        return this.pointsBySeriesIndex(basePoint.series.index);\n    };\n\n    FunnelPlotArea.prototype.getPointToTheRight = function getPointToTheRight (point) {\n        return this.getPointBelow(point);\n    };\n\n    FunnelPlotArea.prototype.getPointToTheLeft = function getPointToTheLeft (point) {\n        return this.getPointAbove(point);\n    };\n\n    return FunnelPlotArea;\n}(PlotAreaBase));\n\n// Linear color scale from the given color to white minus minimum lightness offset.\nvar colorScale = function (color, minLightnessOffset) {\n    if ( minLightnessOffset === void 0 ) minLightnessOffset = 0.05;\n\n    var baseColor = parseColor(color);\n    var offset = 1 - minLightnessOffset;\n\n    return function (value) {\n        var hsl = baseColor.toHSL();\n        var range = 100 - hsl.l;\n        var point = offset - value;\n        hsl.l += Math.min(point * range, range);\n\n        return hsl.toCss();\n    };\n};\n\nvar HeatmapPoint = (function (ChartElement) {\n    function HeatmapPoint(value, options) {\n        ChartElement.call(this);\n\n        this.options = options;\n        this.color = options.color || WHITE$1;\n        this.value = value;\n    }\n\n    if ( ChartElement ) HeatmapPoint.__proto__ = ChartElement;\n    HeatmapPoint.prototype = Object.create( ChartElement && ChartElement.prototype );\n    HeatmapPoint.prototype.constructor = HeatmapPoint;\n\n    HeatmapPoint.prototype.render = function render () {\n        if (this._rendered) {\n            return;\n        }\n\n        this._rendered = true;\n\n        this.createMarker();\n        this.createLabel();\n        this.createNote();\n    };\n\n    HeatmapPoint.prototype.createLabel = function createLabel () {\n        var options = this.options;\n        var labels = options.labels;\n\n        if (labels.visible) {\n            this.label = this.createLabelElement(labels);\n            this.append(this.label);\n        }\n    };\n\n    HeatmapPoint.prototype.createLabelElement = function createLabelElement (options) {\n        var labelColor = options.color;\n\n        if (!labelColor) {\n            labelColor = autoTextColor(this.color);\n        }\n\n        return new TextBox(this.getLabelText(options),\n            deepExtend({\n                align: CENTER,\n                vAlign: CENTER,\n                margin: {\n                    left: 5,\n                    right: 5\n                },\n                zIndex: valueOrDefault(options.zIndex, this.series.zIndex)\n            },\n            options, {\n                color: labelColor\n            }),\n            this.pointData()\n        );\n    };\n\n    HeatmapPoint.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = getTemplate$1(options);\n\n        if (labelTemplate) {\n            return labelTemplate(this.pointData());\n        }\n\n        return this.formatValue(options.format);\n    };\n\n    HeatmapPoint.prototype.formatValue = function formatValue (format) {\n        return this.owner.formatPointValue(this, format);\n    };\n\n    HeatmapPoint.prototype.reflow = function reflow (targetBox) {\n        this.render();\n\n        var label = this.label;\n\n        this.box = targetBox;\n\n        if (label) {\n            label.reflow(this.markerBox());\n        }\n\n        if (this.note) {\n            this.note.reflow(targetBox);\n        }\n\n        this.marker.reflow(this.markerBox());\n    };\n\n    HeatmapPoint.prototype.createVisual = function createVisual () {\n        ChartElement.prototype.createVisual.call(this);\n\n        this.addAccessibilityAttributesToVisual();\n    };\n\n    HeatmapPoint.prototype.markerBox = function markerBox () {\n        var options = this.options;\n        var markers = options.markers;\n        var border = markers.border;\n        var rect = this.box.toRect();\n        var type = valueOrDefault(markers.type, 'rect');\n        var isRoundRect = type === ROUNDED_RECT;\n        var borderWidth = valueOrDefault(border.width, isRoundRect ? 1 : 0);\n        var halfBorderWidth = Math.round(borderWidth / 2);\n\n        if (markers.size) {\n            var center = rect.center();\n            rect.size.width = rect.size.height = markers.size;\n            rect.origin.x = Math.round(center.x - rect.size.width / 2);\n            rect.origin.y = Math.round(center.y - rect.size.height / 2);\n        }\n\n        rect.size.width -= borderWidth;\n        rect.size.height -= borderWidth;\n        rect.origin.y += halfBorderWidth + 0.5;\n        rect.origin.x += halfBorderWidth + 0.5;\n\n        return rectToBox(rect);\n    };\n\n    HeatmapPoint.prototype.markerBorder = function markerBorder () {\n        var options = this.options;\n        var markers = options.markers;\n        var border = markers.border;\n        var opacity = valueOrDefault(border.opacity, options.opacity);\n\n        return {\n            color: border.color || this.color,\n            width: border.width,\n            opacity: opacity,\n            dashType: border.dashType\n        };\n    };\n\n    HeatmapPoint.prototype.createMarker = function createMarker () {\n        var options = this.options;\n        var markerOptions = options.markers;\n        var marker = new ShapeElement({\n            type: valueOrDefault(markerOptions.type, 'rect'),\n            width: markerOptions.size,\n            height: markerOptions.size,\n            rotation: markerOptions.rotation,\n            background: this.color,\n            border: this.markerBorder(),\n            pattern: options.pattern,\n            borderRadius: markerOptions.borderRadius,\n            opacity: this.series.opacity || options.opacity,\n            zIndex: valueOrDefault(options.zIndex, this.series.zIndex),\n            animation: options.animation,\n            visual: options.visual\n        }, {\n            dataItem: this.dataItem,\n            value: this.value,\n            series: this.series,\n            category: this.category\n        });\n\n        this.marker = marker;\n        this.append(marker);\n    };\n\n    HeatmapPoint.prototype.createHighlight = function createHighlight (style) {\n        var options = this.options;\n        var markerOptions = this.options.highlight.markers || this.options.markers;\n\n        var highlight = new ShapeElement({\n            type: valueOrDefault(markerOptions.type, 'rect'),\n            width: markerOptions.size,\n            height: markerOptions.size,\n            rotation: markerOptions.rotation,\n            background: markerOptions.color || this.color,\n            border: this.markerBorder(),\n            borderRadius: markerOptions.borderRadius,\n            opacity: this.series.opacity || options.opacity,\n            zIndex: valueOrDefault(options.zIndex, this.series.zIndex)\n        });\n\n        highlight.reflow(this.markerBox());\n        var visual = highlight.getElement();\n\n        visual.options.fill = style.fill;\n        visual.options.stroke = style.stroke;\n\n        return visual;\n    };\n\n    HeatmapPoint.prototype.highlightVisual = function highlightVisual () {\n        return this.rectVisual;\n    };\n\n    HeatmapPoint.prototype.highlightVisualArgs = function highlightVisualArgs () {\n        return {\n            options: this.options,\n            rect: this.box.toRect(),\n            visual: this.rectVisual\n        };\n    };\n\n    HeatmapPoint.prototype.createFocusHighlight = function createFocusHighlight () {\n        var markerOptions = this.options.markers;\n        var highlightOptions = this.options.accessibility.highlight;\n\n        var highlight = new ShapeElement({\n            type: valueOrDefault(markerOptions.type, 'rect'),\n            width: markerOptions.size,\n            height: markerOptions.size,\n            rotation: markerOptions.rotation,\n            background: highlightOptions.color,\n            border: highlightOptions.border,\n            borderRadius: markerOptions.borderRadius,\n            padding: highlightOptions.border.width / 2,\n            zIndex: highlightOptions.zIndex\n        });\n\n        highlight.reflow(this.markerBox());\n\n        return highlight.getElement();\n    };\n\n    HeatmapPoint.prototype.tooltipAnchor = function tooltipAnchor () {\n        var left = this.box.center().x;\n        var top = this.box.y1 - TOOLTIP_OFFSET;\n\n        return {\n            point: new Point$5(left, top),\n            align: {\n                horizontal: CENTER,\n                vertical: BOTTOM$1\n            }\n        };\n    };\n\n    HeatmapPoint.prototype.overlapsBox = function overlapsBox (box) {\n        return this.box.overlaps(box);\n    };\n\n    HeatmapPoint.prototype.unclipElements = function unclipElements () {\n        /* noop, clip labels */\n    };\n\n    HeatmapPoint.prototype.pointData = function pointData () {\n        return {\n            x: this.value.x,\n            y: this.value.y,\n            value: this.value.value,\n            dataItem: this.dataItem,\n            series: this.series\n        };\n    };\n\n    return HeatmapPoint;\n}(ChartElement));\n\ndeepExtend(HeatmapPoint.prototype, PointEventsMixin);\ndeepExtend(HeatmapPoint.prototype, NoteMixin);\ndeepExtend(HeatmapPoint.prototype, AccessibilityAttributesMixin);\n\nHeatmapPoint.prototype.defaults = {\n    markers: {\n        type: 'rect',\n        borderRadius: 4,\n        border: {\n            color: 'transparent'\n        }\n    },\n    padding: { top: 1 },\n    labels: {\n        visible: false,\n        padding: 3\n    },\n    opacity: 1,\n    notes: {\n        label: {}\n    },\n    accessibility: {\n        role: CHART_POINT_ROLE,\n        className: CHART_POINT_CLASSNAME,\n        ariaRoleDescription: CHART_POINT_ROLE_DESCRIPTION\n    }\n};\n\nvar HeatmapChart = (function (ChartElement) {\n    function HeatmapChart(plotArea, options) {\n        ChartElement.call(this, options);\n\n        this.plotArea = plotArea;\n        this.chartService = plotArea.chartService;\n        this._initFields();\n\n        this.render();\n    }\n\n    if ( ChartElement ) HeatmapChart.__proto__ = ChartElement;\n    HeatmapChart.prototype = Object.create( ChartElement && ChartElement.prototype );\n    HeatmapChart.prototype.constructor = HeatmapChart;\n\n    HeatmapChart.prototype._initFields = function _initFields () {\n        this.points = [];\n        this.seriesOptions = [];\n        this.valueRange = { min: MAX_VALUE, max: MIN_VALUE };\n        this._evalSeries = [];\n    };\n\n    HeatmapChart.prototype.render = function render () {\n        this.setRange();\n        this.traverseDataPoints(this.addValue.bind(this));\n    };\n\n    HeatmapChart.prototype.setRange = function setRange () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var series = ref.options.series;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n\n            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\n                var ref$1 = this$1$1.plotArea.bindPoint(currentSeries, pointIx);\n                var valueFields = ref$1.valueFields;\n                if (defined(valueFields.value) && valueFields.value !== null) {\n                    this$1$1.valueRange.min = Math.min(this$1$1.valueRange.min, valueFields.value);\n                    this$1$1.valueRange.max = Math.max(this$1$1.valueRange.max, valueFields.value);\n                }\n            }\n        }\n    };\n\n    HeatmapChart.prototype.addValue = function addValue (value, fields) {\n        var point;\n        if (value && defined(value.value) && value.value !== null) {\n            point = this.createPoint(value, fields);\n            if (point) {\n                Object.assign(point, fields);\n            }\n        }\n\n        this.points.push(point);\n    };\n\n    HeatmapChart.prototype.evalPointOptions = function evalPointOptions (options, value, fields) {\n        var series = fields.series;\n        var seriesIx = fields.seriesIx;\n        var state = {\n            defaults: series._defaults,\n            excluded: [\n                \"data\", \"tooltip\", \"content\", \"template\",\n                \"visual\", \"toggle\", \"drilldownSeriesFactory\",\n                \"ariaTemplate\", \"ariaContent\"\n            ]\n        };\n\n        var doEval = this._evalSeries[seriesIx];\n        if (!defined(doEval)) {\n            this._evalSeries[seriesIx] = doEval = evalOptions(options, {}, state, true);\n        }\n\n        var pointOptions = options;\n        if (doEval) {\n            pointOptions = deepExtend({}, options);\n            evalOptions(pointOptions, {\n                value: value,\n                series: series,\n                dataItem: fields.dataItem,\n                min: this.valueRange.min,\n                max: this.valueRange.max\n            }, state);\n        }\n\n        return pointOptions;\n    };\n\n    HeatmapChart.prototype.pointType = function pointType () {\n        return HeatmapPoint;\n    };\n\n    HeatmapChart.prototype.pointOptions = function pointOptions (series, seriesIx) {\n        var options = this.seriesOptions[seriesIx];\n        if (!options) {\n            var defaults = this.pointType().prototype.defaults;\n            this.seriesOptions[seriesIx] = options = deepExtend({}, defaults, {\n                markers: {\n                    opacity: series.opacity\n                },\n                tooltip: {\n                    format: this.options.tooltip.format\n                },\n                labels: {\n                    format: this.options.labels.format\n                }\n            }, series);\n        }\n\n        return Object.assign({}, options);\n    };\n\n    HeatmapChart.prototype.createPoint = function createPoint (value, fields) {\n        var series = fields.series;\n        var pointOptions = this.pointOptions(series, fields.seriesIx);\n        var color = fields.color || series.color;\n\n        pointOptions.pattern = fields.pattern || pointOptions.pattern;\n        pointOptions = this.evalPointOptions(pointOptions, value, fields);\n\n        if (isFunction(series.color)) {\n            color = pointOptions.color;\n        } else if (this.valueRange.max !== 0) {\n            var scale = colorScale(color);\n            color = scale(value.value / this.valueRange.max);\n        }\n\n        var point = new HeatmapPoint(value, pointOptions);\n        point.color = color;\n\n        this.append(point);\n\n        return point;\n    };\n\n    HeatmapChart.prototype.seriesAxes = function seriesAxes (series) {\n        var xAxisName = series.xAxis;\n        var yAxisName = series.yAxis;\n        var plotArea = this.plotArea;\n        var xAxis = xAxisName ? plotArea.namedXAxes[xAxisName] : plotArea.axisX;\n        var yAxis = yAxisName ? plotArea.namedYAxes[yAxisName] : plotArea.axisY;\n\n        if (!xAxis) {\n            throw new Error(\"Unable to locate X axis with name \" + xAxisName);\n        }\n\n        if (!yAxis) {\n            throw new Error(\"Unable to locate Y axis with name \" + yAxisName);\n        }\n\n        return { xAxis: xAxis, yAxis: yAxis };\n    };\n\n    HeatmapChart.prototype.reflow = function reflow (targetBox) {\n        var this$1$1 = this;\n\n        var chartPoints = this.points;\n        var limit = !this.options.clip;\n        var pointIx = 0;\n\n\n        this.traverseDataPoints(function (value, fields) {\n            var point = chartPoints[pointIx++];\n            var ref = this$1$1.seriesAxes(fields.series);\n            var xAxis = ref.xAxis;\n            var yAxis = ref.yAxis;\n            var indexX = xAxis.categoryIndex(value.x);\n            var indexY = yAxis.categoryIndex(value.y);\n            var slotX = xAxis.getSlot(indexX, indexX, limit);\n            var slotY = yAxis.getSlot(indexY, indexY, limit);\n\n            if (point) {\n                if (slotX && slotY) {\n                    var pointSlot = this$1$1.pointSlot(slotX, slotY);\n                    point.reflow(pointSlot);\n                } else {\n                    point.visible = false;\n                }\n            }\n        });\n\n        this.box = targetBox;\n    };\n\n    HeatmapChart.prototype.pointSlot = function pointSlot (slotX, slotY) {\n        return new Box(slotX.x1, slotY.y1, slotX.x2, slotY.y2);\n    };\n\n    HeatmapChart.prototype.traverseDataPoints = function traverseDataPoints (callback) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var series = ref.options.series;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var ref$1 = this$1$1.seriesAxes(currentSeries);\n            var xAxis = ref$1.xAxis;\n            var yAxis = ref$1.yAxis;\n            var xRange = xAxis.currentRangeIndices();\n            var yRange = yAxis.currentRangeIndices();\n\n            for (var pointIx = 0; pointIx < currentSeries.data.length; pointIx++) {\n                var ref$2 = this$1$1.plotArea.bindPoint(currentSeries, pointIx);\n                var value = ref$2.valueFields;\n                var fields = ref$2.fields;\n                var xIndex = xAxis.totalIndex(value.x);\n                var yIndex = yAxis.totalIndex(value.y);\n                var xIn = xRange.min <= xIndex && xIndex <= xRange.max;\n                var yIn = yRange.min <= yIndex && yIndex <= yRange.max;\n\n                if (xIn && yIn) {\n                    callback(value, deepExtend({\n                        pointIx: pointIx,\n                        series: currentSeries,\n                        seriesIx: seriesIx,\n                        dataItem: currentSeries.data[pointIx],\n                        owner: this$1$1\n                    }, fields));\n                }\n            }\n        }\n    };\n\n    HeatmapChart.prototype.formatPointValue = function formatPointValue (point, format) {\n        var value = point.value;\n        return this.chartService.format.auto(format, value.x, value.y, value.value);\n    };\n\n    HeatmapChart.prototype.animationPoints = function animationPoints () {\n        var points = this.points;\n        var result = [];\n        for (var idx = 0; idx < points.length; idx++) {\n            result.push((points[idx] || {}).marker);\n        }\n        return result;\n    };\n\n    return HeatmapChart;\n}(ChartElement));\nsetDefaultOptions(HeatmapChart, {\n    series: [],\n    tooltip: {\n        format: \"{0}, {1}: {2}\"\n    },\n    labels: {\n        format: \"{2}\"\n    },\n    clip: true\n});\n\nvar HeatmapPlotArea = (function (PlotAreaBase) {\n    function HeatmapPlotArea () {\n        PlotAreaBase.apply(this, arguments);\n    }\n\n    if ( PlotAreaBase ) HeatmapPlotArea.__proto__ = PlotAreaBase;\n    HeatmapPlotArea.prototype = Object.create( PlotAreaBase && PlotAreaBase.prototype );\n    HeatmapPlotArea.prototype.constructor = HeatmapPlotArea;\n\n    HeatmapPlotArea.prototype.initFields = function initFields () {\n        this.namedXAxes = {};\n        this.namedYAxes = {};\n    };\n\n    HeatmapPlotArea.prototype.render = function render (panes) {\n        if ( panes === void 0 ) panes = this.panes;\n\n        this.bindCategories();\n        this.createAxes(panes);\n        this.createCharts(panes);\n        this.createAxisLabels();\n    };\n\n    HeatmapPlotArea.prototype.bindCategories = function bindCategories () {\n        var this$1$1 = this;\n\n        var series = this.srcSeries || this.series;\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n            var data = currentSeries.data || [];\n            var ref = this$1$1.seriesAxes(currentSeries);\n            var xAxis = ref.xAxis;\n            var yAxis = ref.yAxis;\n\n            var xCategories = createHashSet(xAxis.categories || []);\n            var yCategories = createHashSet(yAxis.categories || []);\n\n            for (var pointIndex = 0; pointIndex < data.length; pointIndex++) {\n                var ref$1 = SeriesBinder.current.bindPoint(currentSeries, pointIndex).valueFields;\n                var x = ref$1.x;\n                var y = ref$1.y;\n\n                if (!xCategories.has(x)) {\n                    xCategories.add(x);\n                }\n\n                if (!yCategories.has(y)) {\n                    yCategories.add(y);\n                }\n            }\n\n            xAxis.categories = xCategories.values();\n            yAxis.categories = yCategories.values();\n        }\n    };\n\n    HeatmapPlotArea.prototype.createCharts = function createCharts (panes) {\n        var this$1$1 = this;\n\n        var seriesByPane = this.groupSeriesByPane();\n\n        for (var i = 0; i < panes.length; i++) {\n            var pane = panes[i];\n            var paneSeries = seriesByPane[pane.options.name || \"default\"] || [];\n            this$1$1.addToLegend(paneSeries);\n            var filteredSeries = this$1$1.filterVisibleSeries(paneSeries);\n\n            if (!filteredSeries) {\n                continue;\n            }\n\n            this$1$1.createHeatmapChart(\n                filterSeriesByType(filteredSeries, [ HEATMAP ]),\n                pane\n            );\n        }\n    };\n\n    HeatmapPlotArea.prototype.createHeatmapChart = function createHeatmapChart (series, pane) {\n        var chart = new HeatmapChart(this, {\n            series: series\n        });\n\n        this.appendChart(chart, pane);\n    };\n\n    HeatmapPlotArea.prototype.seriesPaneName = function seriesPaneName (series) {\n        var options = this.options;\n        var xAxisName = series.xAxis;\n        var xAxisOptions = [].concat(options.xAxis);\n        var xAxis = grep(xAxisOptions, function(a) { return a.name === xAxisName; })[0];\n        var yAxisName = series.yAxis;\n        var yAxisOptions = [].concat(options.yAxis);\n        var yAxis = grep(yAxisOptions, function(a) { return a.name === yAxisName; })[0];\n        var panes = options.panes || [ {} ];\n        var defaultPaneName = panes[0].name || \"default\";\n        var paneName = (xAxis || {}).pane || (yAxis || {}).pane || defaultPaneName;\n\n        return paneName;\n    };\n\n    HeatmapPlotArea.prototype.seriesAxes = function seriesAxes (series) {\n        var xAxis;\n        var yAxis;\n\n        var options = this.options;\n\n        var xAxisOptions = [].concat(options.xAxis);\n        var xAxisName = series.xAxis;\n        if (xAxisName) {\n            xAxis = xAxisOptions.find(function (axis) { return axis.name === xAxisName; });\n        } else {\n            xAxis = xAxisOptions[0];\n        }\n\n        var yAxisOptions = [].concat(options.yAxis);\n        var yAxisName = series.yAxis;\n        if (yAxisName) {\n            yAxis = yAxisOptions.find(function (axis) { return axis.name === yAxisName; });\n        } else {\n            yAxis = yAxisOptions[0];\n        }\n\n        if (!xAxis) {\n            throw new Error(\"Unable to locate X axis with name \" + xAxisName);\n        }\n\n        if (!yAxis) {\n            throw new Error(\"Unable to locate Y axis with name \" + yAxisName);\n        }\n\n        return { xAxis: xAxis, yAxis: yAxis };\n    };\n\n    HeatmapPlotArea.prototype.createAxisLabels = function createAxisLabels () {\n        var axes = this.axes;\n        for (var i = 0; i < axes.length; i++) {\n            axes[i].createLabels();\n        }\n    };\n\n    HeatmapPlotArea.prototype.createXYAxis = function createXYAxis (options, vertical, axisIndex) {\n        var axisName = options.name;\n        var namedAxes = vertical ? this.namedYAxes : this.namedXAxes;\n        var axisOptions = Object.assign({\n            axisCrossingValue: 0\n        }, options, {\n            vertical: vertical,\n            reverse: (vertical || this.chartService.rtl) ? !options.reverse : options.reverse,\n            justified: false\n        });\n        var firstCategory = axisOptions.categories ? axisOptions.categories[0] : null;\n        var typeSamples = [ axisOptions.min, axisOptions.max, firstCategory ];\n        var series = this.series;\n\n        for (var seriesIx = 0; seriesIx < series.length; seriesIx++) {\n            var currentSeries = series[seriesIx];\n            var seriesAxisName = currentSeries[vertical ? \"yAxis\" : \"xAxis\"];\n            if ((seriesAxisName === axisOptions.name) || (axisIndex === 0 && !seriesAxisName)) {\n                var firstPointValue = SeriesBinder.current.bindPoint(currentSeries, 0).valueFields;\n                typeSamples.push(firstPointValue[vertical ? \"y\" : \"x\"]);\n\n                break;\n            }\n        }\n\n        var inferredDate;\n\n        for (var i = 0; i < typeSamples.length; i++) {\n            if (typeSamples[i] instanceof Date) {\n                inferredDate = true;\n                break;\n            }\n        }\n\n        var axisType;\n        if (equalsIgnoreCase(axisOptions.type, DATE) || (!axisOptions.type && inferredDate)) {\n            axisType = DateCategoryAxis;\n        } else {\n            axisType = CategoryAxis;\n        }\n\n        var axis = new axisType(axisOptions, this.chartService);\n        axis.axisIndex = axisIndex;\n\n        if (axisName) {\n            if (namedAxes[axisName]) {\n                throw new Error(((vertical ? \"Y\" : \"X\") + \" axis with name \" + axisName + \" is already defined\"));\n            }\n            namedAxes[axisName] = axis;\n        }\n\n        this.appendAxis(axis);\n        axis.indexCategories();\n\n        return axis;\n    };\n\n    HeatmapPlotArea.prototype.createAxes = function createAxes (panes) {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var xAxesOptions = [].concat(options.xAxis);\n        var xAxes = [];\n        var yAxesOptions = [].concat(options.yAxis);\n        var yAxes = [];\n\n        for (var idx = 0; idx < xAxesOptions.length; idx++) {\n            var axisPane = this$1$1.findPane(xAxesOptions[idx].pane);\n            if (inArray(axisPane, panes)) {\n                xAxes.push(this$1$1.createXYAxis(xAxesOptions[idx], false, idx));\n            }\n        }\n\n        for (var idx$1 = 0; idx$1 < yAxesOptions.length; idx$1++) {\n            var axisPane$1 = this$1$1.findPane(yAxesOptions[idx$1].pane);\n            if (inArray(axisPane$1, panes)) {\n                yAxes.push(this$1$1.createXYAxis(yAxesOptions[idx$1], true, idx$1));\n            }\n        }\n\n        this.axisX = this.axisX || xAxes[0];\n        this.axisY = this.axisY || yAxes[0];\n    };\n\n    HeatmapPlotArea.prototype.removeAxis = function removeAxis (axis) {\n        var axisName = axis.options.name;\n\n        PlotAreaBase.prototype.removeAxis.call(this, axis);\n\n        if (axis.options.vertical) {\n            delete this.namedYAxes[axisName];\n        } else {\n            delete this.namedXAxes[axisName];\n        }\n\n        if (axis === this.axisX) {\n            delete this.axisX;\n        }\n\n        if (axis === this.axisY) {\n            delete this.axisY;\n        }\n    };\n\n    HeatmapPlotArea.prototype._dispatchEvent = function _dispatchEvent (chart, e, eventType) {\n        var coords = chart._eventCoordinates(e);\n        var point = new Point$5(coords.x, coords.y);\n        var allAxes = this.axes;\n        var length = allAxes.length;\n        var xValues = [];\n        var yValues = [];\n\n        for (var i = 0; i < length; i++) {\n            var axis = allAxes[i];\n            var values = axis.options.vertical ? yValues : xValues;\n            appendIfNotNull(values, axis.getCategory(point));\n        }\n\n        if (xValues.length > 0 && yValues.length > 0) {\n            chart.trigger(eventType, {\n                element: eventElement(e),\n                originalEvent: e,\n                x: singleItemOrArray(xValues),\n                y: singleItemOrArray(yValues)\n            });\n        }\n    };\n\n    HeatmapPlotArea.prototype.updateAxisOptions = function updateAxisOptions$1 (axis, options) {\n        var vertical = axis.options.vertical;\n        var axes = this.groupAxes(this.panes);\n        var index = (vertical ? axes.y : axes.x).indexOf(axis);\n\n        updateAxisOptions(this.options, index, vertical, options);\n        updateAxisOptions(this.originalOptions, index, vertical, options);\n    };\n\n    HeatmapPlotArea.prototype.crosshairOptions = function crosshairOptions (axis) {\n        // Stack the crosshair above the series points.\n        return Object.assign({}, axis.options.crosshair, { zIndex: 0 });\n    };\n\n    HeatmapPlotArea.prototype._pointsByVertical = function _pointsByVertical (basePoint, offset) {\n        var this$1$1 = this;\n        if ( offset === void 0 ) offset = 0;\n\n        var normalizedOffset = this.axisX.options.reverse ? offset * -1 : offset;\n        var axisXItems = this.axisX.children;\n        var xIndex = this._getPointAxisXIndex(basePoint) + normalizedOffset;\n\n        xIndex = cycleIndex(xIndex, axisXItems.length);\n        var targetXValue = axisXItems[xIndex].value;\n\n        var points = this\n            .filterPoints(function (point) { return compareValues(point.pointData().x, targetXValue); })\n            .sort(function (a, b) { return this$1$1._getPointAxisYIndex(a) - this$1$1._getPointAxisYIndex(b); });\n\n        if (this.axisY.options.reverse) {\n            return points.reverse();\n        }\n\n        return points;\n    };\n\n    HeatmapPlotArea.prototype._pointsByHorizontal = function _pointsByHorizontal (basePoint, offset) {\n        var this$1$1 = this;\n        if ( offset === void 0 ) offset = 0;\n\n        var normalizedOffset = this.axisY.options.reverse ? offset * -1 : offset;\n        var axisYItems = this.axisY.children;\n        var yIndex = this._getPointAxisYIndex(basePoint) + normalizedOffset;\n\n        yIndex = cycleIndex(yIndex, axisYItems.length);\n        var targetYValue = axisYItems[yIndex].value;\n\n        var points = this\n            .filterPoints(function (point) { return compareValues(point.pointData().y, targetYValue); })\n            .sort(function (a, b) { return this$1$1._getPointAxisXIndex(a) - this$1$1._getPointAxisXIndex(b); });\n\n        if (this.axisX.options.reverse) {\n            return points.reverse();\n        }\n\n        return points;\n    };\n\n    HeatmapPlotArea.prototype._getPointAxisXIndex = function _getPointAxisXIndex (point) {\n        return this._getPointAxisIndex(this.axisX, point.pointData().x);\n    };\n\n    HeatmapPlotArea.prototype._getPointAxisYIndex = function _getPointAxisYIndex (point) {\n        return this._getPointAxisIndex(this.axisY, point.pointData().y);\n    };\n\n    HeatmapPlotArea.prototype._getPointAxisIndex = function _getPointAxisIndex (axis, pointValue) {\n        return axis.children.findIndex(function (axisItem) { return compareValues(pointValue, axisItem.value); });\n    };\n\n    return HeatmapPlotArea;\n}(PlotAreaBase));\n\nfunction compareValues(a, b) {\n    if (a instanceof Date && b instanceof Date) {\n        return dateEquals(a, b);\n    }\n\n    return a === b;\n}\n\nfunction updateAxisOptions(targetOptions, axisIndex, vertical, options) {\n    var axisOptions = ([].concat(vertical ? targetOptions.yAxis : targetOptions.xAxis))[axisIndex];\n    deepExtend(axisOptions, options);\n}\n\nsetDefaultOptions(HeatmapPlotArea, {\n    xAxis: {},\n    yAxis: {}\n});\n\ndeepExtend(HeatmapPlotArea.prototype, PlotAreaEventsMixin);\n\nvar COLOR = \"color\";\nvar FIRST = \"first\";\nvar FROM = \"from\";\nvar MAX = \"max\";\nvar MIN = \"min\";\nvar NOTE_TEXT = \"noteText\";\nvar SUMMARY_FIELD = \"summary\";\nvar TO = \"to\";\n\nPlotAreaFactory.current.register(CategoricalPlotArea, [\n    BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA,\n    CANDLESTICK, OHLC, BULLET, VERTICAL_BULLET, BOX_PLOT, VERTICAL_BOX_PLOT,\n    RANGE_COLUMN, RANGE_BAR, WATERFALL, HORIZONTAL_WATERFALL, RANGE_AREA, VERTICAL_RANGE_AREA ].concat( TRENDLINE_SERIES\n));\n\nPlotAreaFactory.current.register(XYPlotArea, [\n    SCATTER, SCATTER_LINE, BUBBLE ].concat( TRENDLINE_SERIES\n));\n\nPlotAreaFactory.current.register(PiePlotArea, [ PIE ]);\nPlotAreaFactory.current.register(DonutPlotArea, [ DONUT ]);\nPlotAreaFactory.current.register(FunnelPlotArea, [ FUNNEL, PYRAMID ]);\n\nPlotAreaFactory.current.register(PolarPlotArea, [\n    POLAR_AREA, POLAR_LINE, POLAR_SCATTER ].concat( TRENDLINE_SERIES\n));\n\nPlotAreaFactory.current.register(RadarPlotArea, [\n    RADAR_AREA, RADAR_COLUMN, RADAR_LINE ].concat( TRENDLINE_SERIES\n));\n\nPlotAreaFactory.current.register(HeatmapPlotArea, [ HEATMAP ]);\n\nSeriesBinder.current.register(\n    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA ],\n    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, ERROR_LOW_FIELD, ERROR_HIGH_FIELD, DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nSeriesBinder.current.register(\n    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],\n    [ FROM, TO ], [ CATEGORY, COLOR, NOTE_TEXT, DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nSeriesBinder.current.register(\n    [ WATERFALL, HORIZONTAL_WATERFALL ],\n    [ VALUE ], [ CATEGORY, COLOR, NOTE_TEXT, SUMMARY_FIELD, DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nSeriesBinder.current.register([ POLAR_AREA, POLAR_LINE, POLAR_SCATTER ], [ X, Y ], [ COLOR, DRILLDOWN_FIELD, PATTERN_FIELD ]);\nSeriesBinder.current.register([ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ], [ VALUE ], [ CATEGORY, COLOR, DRILLDOWN_FIELD, PATTERN_FIELD ]);\n\nSeriesBinder.current.register(\n    [ FUNNEL, PYRAMID ],\n    [ VALUE ], [ CATEGORY, COLOR, \"visibleInLegend\", \"visible\", DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nDefaultAggregates.current.register(\n    [ BAR, COLUMN, LINE, VERTICAL_LINE, AREA, VERTICAL_AREA, WATERFALL, HORIZONTAL_WATERFALL ],\n    { value: MAX, color: FIRST, noteText: FIRST, errorLow: MIN, errorHigh: MAX }\n);\n\nDefaultAggregates.current.register(\n    [ RANGE_COLUMN, RANGE_BAR, RANGE_AREA, VERTICAL_RANGE_AREA ],\n    { from: MIN, to: MAX, color: FIRST, noteText: FIRST }\n);\n\nDefaultAggregates.current.register(\n    [ RADAR_AREA, RADAR_COLUMN, RADAR_LINE ],\n    { value: MAX, color: FIRST }\n);\n\nSeriesBinder.current.register(\n    [ SCATTER, SCATTER_LINE, BUBBLE ],\n    [ X, Y ], [ COLOR, NOTE_TEXT, X_ERROR_LOW_FIELD, X_ERROR_HIGH_FIELD, Y_ERROR_LOW_FIELD, Y_ERROR_HIGH_FIELD ]\n);\n\nSeriesBinder.current.register(\n    [ BUBBLE ], [ X, Y, \"size\" ], [ COLOR, CATEGORY, NOTE_TEXT, PATTERN_FIELD ]\n);\n\nSeriesBinder.current.register(\n    [ HEATMAP ],\n    [ X, Y, VALUE ], [ COLOR, NOTE_TEXT, PATTERN_FIELD ]\n);\n\nSeriesBinder.current.register(\n    [ CANDLESTICK, OHLC ],\n    [ \"open\", \"high\", \"low\", \"close\" ], [ CATEGORY, COLOR, \"downColor\", NOTE_TEXT, PATTERN_FIELD ]\n);\n\nDefaultAggregates.current.register(\n    [ CANDLESTICK, OHLC ],\n    { open: MAX, high: MAX, low: MIN, close: MAX,\n        color: FIRST, downColor: FIRST, noteText: FIRST }\n);\n\nSeriesBinder.current.register(\n    [ BOX_PLOT, VERTICAL_BOX_PLOT ],\n    [ \"lower\", \"q1\", \"median\", \"q3\", \"upper\", \"mean\", \"outliers\" ], [ CATEGORY, COLOR, NOTE_TEXT, DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nDefaultAggregates.current.register(\n    [ BOX_PLOT, VERTICAL_BOX_PLOT ],\n    { lower: MAX, q1: MAX, median: MAX, q3: MAX, upper: MAX, mean: MAX, outliers: FIRST,\n        color: FIRST, noteText: FIRST }\n);\n\nSeriesBinder.current.register(\n    [ BULLET, VERTICAL_BULLET ],\n    [ \"current\", \"target\" ], [ CATEGORY, COLOR, \"visibleInLegend\", NOTE_TEXT, DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nDefaultAggregates.current.register(\n    [ BULLET, VERTICAL_BULLET ],\n    { current: MAX, target: MAX, color: FIRST, noteText: FIRST }\n);\n\nSeriesBinder.current.register(\n    [ PIE, DONUT ],\n    [ VALUE ], [ CATEGORY, COLOR, \"explode\", \"visibleInLegend\", \"visible\", DRILLDOWN_FIELD, PATTERN_FIELD ]\n);\n\nvar AXIS_NAMES = [ CATEGORY, VALUE, X, Y ];\n\nvar MOUSEDOWN = \"mousedown\";\nvar MOUSEMOVE = \"mousemove\";\nvar CONTEXTMENU = \"contextmenu\";\nvar MOUSELEAVE = \"mouseleave\";\nvar KEYDOWN = \"keydown\";\nvar FOCUS = \"focus\";\nvar BLUR = \"blur\";\nvar MOUSEMOVE_DELAY = 20;\nvar NO_DATA_OVERLAY_TOP_CLASS = \"k-chart-overlay-top\";\n\nvar Chart = (function (Class) {\n    function Chart(element, userOptions, themeOptions, context) {\n        var this$1$1 = this;\n        if ( context === void 0 ) context = {};\n\n        Class.call(this);\n\n        this.observers = [];\n        this.addObserver(context.observer);\n        this.chartService = new ChartService(this, context);\n        this.chartService.theme = themeOptions;\n\n        this._initElement(element);\n\n        var options = deepExtend({}, this.options, userOptions);\n        this._originalOptions = deepExtend({}, options);\n        this._theme = themeOptions;\n        this._initTheme(options, themeOptions);\n        this._focusState = {};\n\n        this._initHandlers();\n        this._initSurface();\n\n        this.bindCategories();\n        FontLoader.preloadFonts(userOptions, function () {\n            this$1$1.fontLoaded = true;\n            if (!this$1$1._destroyed) {\n                this$1$1.trigger('init');\n                this$1$1._redraw();\n                this$1$1._attachEvents();\n                this$1$1._restoreOverlayElement();\n            }\n        });\n    }\n\n    if ( Class ) Chart.__proto__ = Class;\n    Chart.prototype = Object.create( Class && Class.prototype );\n    Chart.prototype.constructor = Chart;\n\n    Chart.prototype._initElement = function _initElement (element) {\n        var this$1$1 = this;\n\n        this._setElementClass(element);\n        element.style.position = \"relative\";\n        element.tabIndex = element.getAttribute(\"tabindex\") ? element.getAttribute(\"tabindex\") : 0;\n        // To support user agents and assistive technologies based on the ARIA 1.0 specification, authors may wish to include the document role as a fallback value, in the form role=\"graphics-document document\".\n        element.setAttribute(\"role\", \"graphics-document document\");\n\n        for (var i = element.childNodes.length - 1; i >= 0; i--) {\n            var child = element.childNodes[i];\n\n            if (!hasClasses(child, \"k-chart-overlay\")) {\n                element.removeChild(child);\n            } else {\n                // this is necessary if the overlay is rendered server-side, e.g. in blazor\n                // but drawing the surface clears the contents of the element\n                // and thus the no data overlay is lost\n                this$1$1.overlayElement = child;\n            }\n        }\n\n        this.element = element;\n    };\n\n    Chart.prototype._setElementClass = function _setElementClass (element) {\n        addClass(element, \"k-chart\");\n    };\n\n    Chart.prototype._restoreOverlayElement = function _restoreOverlayElement () {\n        if (!this.overlayElement) {\n            return;\n        }\n\n        if (this._hasSeriesData()) {\n            this.overlayElement.style.display = \"none\";\n        } else {\n            if (!this.options.title || (this.options.title && this.options.title.position !== BOTTOM$1)) {\n                addClass(this.overlayElement, NO_DATA_OVERLAY_TOP_CLASS);\n            } else {\n                removeClass(this.overlayElement, NO_DATA_OVERLAY_TOP_CLASS);\n            }\n\n            this.overlayElement.style.display = \"\";\n        }\n\n        if (this.overlayElement.parentElement !== this.element) {\n            this.element.appendChild(this.overlayElement);\n        }\n    };\n\n    Chart.prototype._hasSeriesData = function _hasSeriesData () {\n        var series = this.options.series || [];\n        var hasData = series.length > 0 && series.some(function (x) { return x.data && x.data.length > 0; });\n        return hasData;\n    };\n\n    Chart.prototype._initTheme = function _initTheme (options, themeOptions) {\n        var seriesCopies = [];\n        var series = options.series || [];\n\n        for (var i = 0; i < series.length; i++) {\n            seriesCopies.push(Object.assign({}, series[i]));\n        }\n        options.series = seriesCopies;\n\n        resolveAxisAliases(options);\n        this.applyDefaults(options, themeOptions);\n\n        // Clean up default if not overriden by data attributes\n        if (options.seriesColors === null) {\n            delete options.seriesColors;\n        }\n\n        if (isString$1(options.title)) {\n            options.title = { text: options.title };\n        }\n\n        this.options = deepExtend({}, themeOptions, options);\n        this.applySeriesColors();\n    };\n\n    Chart.prototype.getSize = function getSize () {\n        var chartArea = this.options.chartArea || {};\n        var width = chartArea.width ? parseInt(chartArea.width, 10) : Math.floor(this.element.offsetWidth);\n        var height = chartArea.height ? parseInt(chartArea.height, 10) : Math.floor(this.element.offsetHeight);\n\n        return {\n            width: width,\n            height: height\n        };\n    };\n\n    Chart.prototype.resize = function resize (force) {\n        var size = this.getSize();\n        var currentSize = this._size;\n        var hasSize = size.width > 0 || size.height > 0;\n\n        if (force || hasSize && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {\n            this._size = size;\n            this._resize(size, force);\n            this.trigger(\"resize\", size);\n        } else if (hasSize && this._selections && find(this._selections, function (s) { return !s.visible; })) {\n            this._destroySelections();\n            this._setupSelection();\n        }\n    };\n\n    Chart.prototype._resize = function _resize () {\n        this._noTransitionsRedraw();\n    };\n\n    Chart.prototype.redraw = function redraw (paneName) {\n        this.applyDefaults(this.options);\n        this.applySeriesColors();\n\n        if (paneName) {\n            var plotArea = this._model._plotArea;\n            var pane = plotArea.findPane(paneName);\n            plotArea.redraw(pane);\n        } else {\n            this._redraw();\n        }\n    };\n\n    Chart.prototype.getAxis = function getAxis (name) {\n        return findAxisByName(name, this._plotArea.axes);\n    };\n\n    Chart.prototype.findAxisByName = function findAxisByName (name) {\n        return this.getAxis(name);\n    };\n\n    Chart.prototype.findPaneByName = function findPaneByName (name) {\n        var panes = this._plotArea.panes;\n\n        for (var idx = 0; idx < panes.length; idx++) {\n            if (panes[idx].options.name === name) {\n                return new ChartPane(panes[idx]);\n            }\n        }\n    };\n\n    Chart.prototype.findPaneByIndex = function findPaneByIndex (idx) {\n        var panes = this._plotArea.panes;\n        if (panes[idx]) {\n            return new ChartPane(panes[idx]);\n        }\n    };\n\n    Chart.prototype.plotArea = function plotArea () {\n        return new ChartPlotArea(this._plotArea);\n    };\n\n    Chart.prototype.toggleHighlight = function toggleHighlight (show, filter) {\n        var plotArea = this._plotArea;\n        var firstSeries = (plotArea.srcSeries || plotArea.series || [])[0];\n        var points;\n\n        if (isFunction(filter)) {\n            points = plotArea.filterPoints(filter);\n        } else {\n            var seriesName, categoryName;\n            if (isObject(filter)) {\n                seriesName = filter.series;\n                categoryName = filter.category;\n            } else {\n                seriesName = categoryName = filter;\n            }\n\n            if (firstSeries.type === DONUT) {\n                points = pointByCategoryName(plotArea.pointsBySeriesName(seriesName), categoryName);\n            } else if (inArray(firstSeries.type, [ PIE, FUNNEL, PYRAMID ])) {\n                points = pointByCategoryName((plotArea.charts[0] || {}).points, categoryName);\n            } else {\n                points = plotArea.pointsBySeriesName(seriesName);\n            }\n        }\n\n        if (points) {\n            this.togglePointsHighlight(show, points);\n        }\n    };\n\n    Chart.prototype.togglePointsHighlight = function togglePointsHighlight (show, points) {\n        var highlight = this._highlight;\n        for (var idx = 0; idx < points.length; idx++) {\n            highlight.togglePointHighlight(points[idx], show);\n        }\n    };\n\n    Chart.prototype.showTooltip = function showTooltip (filter) {\n        var shared = this._sharedTooltip();\n        var ref = this;\n        var tooltip = ref._tooltip;\n        var plotArea = ref._plotArea;\n        var point, categoryIndex;\n\n        if (isFunction(filter)) {\n            point = plotArea.findPoint(filter);\n            if (point && shared) {\n                categoryIndex = point.categoryIx;\n            }\n        } else if (shared && defined(filter)) {\n            categoryIndex = plotArea.categoryAxis.categoryIndex(filter);\n        }\n\n        if (shared) {\n            if (categoryIndex >= 0) {\n                var points = this._plotArea.pointsByCategoryIndex(categoryIndex);\n                tooltip.showAt(points);\n            }\n        } else if (point) {\n            tooltip.show(point);\n        }\n    };\n\n    Chart.prototype.hideTooltip = function hideTooltip () {\n        this._tooltip.hide();\n    };\n\n    Chart.prototype._initSurface = function _initSurface () {\n        var surface = this.surface;\n        var wrap = this._surfaceWrap();\n\n        var chartArea = this.options.chartArea || {};\n        if (chartArea.width) {\n            elementSize(wrap, { width: chartArea.width });\n        }\n        if (chartArea.height) {\n            elementSize(wrap, { height: chartArea.height });\n        }\n\n        if (!surface || surface.options.type !== this.options.renderAs) {\n            this._destroySurface();\n\n            this.surface = Surface$1.create(wrap, {\n                type: this.options.renderAs\n            });\n\n            this.surface.bind(\"mouseenter\", this._surfaceMouseenterHandler);\n            this.surface.bind(\"mouseleave\", this._surfaceMouseleaveHandler);\n\n        } else {\n            this.surface.clear();\n            this.surface.resize();\n        }\n\n        // Override the surface _kendoExportVisual in order to accept export options with size.\n        this.element._kendoExportVisual = this._kendoExportVisual.bind(this);\n    };\n\n    Chart.prototype._surfaceWrap = function _surfaceWrap () {\n        return this.element;\n    };\n\n    Chart.prototype._redraw = function _redraw () {\n        var model = this._getModel();\n        this._size = {\n            width: model.options.width,\n            height: model.options.height\n        };\n\n        this._destroyView();\n\n        this._setElementAccessibilityAttributes();\n\n        this._model = model;\n        this._plotArea = model._plotArea;\n        this._legend = model._legend;\n\n        model.renderVisual();\n\n        if (this.options.transitions !== false) {\n            model.traverse(function(element) {\n                if (element.animation) {\n                    element.animation.setup();\n                }\n            });\n        }\n\n        this._initSurface();\n        this.surface.draw(model.visual);\n\n        if (this.options.transitions !== false) {\n            model.traverse(function(element) {\n                if (element.animation) {\n                    element.animation.play();\n                }\n            });\n        }\n\n        this._tooltip = this._createTooltip();\n        this._highlight = new Highlight();\n        this._setupSelection();\n        this._createPannable();\n        this._createZoomSelection();\n        this._createMousewheelZoom();\n        this._setComputedStyles();\n\n        this.trigger(RENDER);\n        triggerPaneRender(this._plotArea.panes);\n\n        if (!this._navState) {\n            this._cancelDomEvents();\n        }\n\n        this._redrawFocusHighlight();\n    };\n\n    Chart.prototype._setComputedStyles = function _setComputedStyles () {\n        var titleHeight = this.titleHeight();\n        this.element.style.setProperty('--kendo-chart-computed-title-height', (titleHeight + \"px\"));\n    };\n\n    Chart.prototype._redrawFocusHighlight = function _redrawFocusHighlight () {\n        if (this._destroyed) {\n            return;\n        }\n\n        var ref = this;\n        var ref_focusState = ref._focusState;\n        var legendInFocus = ref_focusState.legendInFocus;\n        var preserveHighlight = ref_focusState.preserveHighlight;\n\n        if (legendInFocus && preserveHighlight) {\n            this._focusElement(this._getFocusedLegendItem(), false);\n            this._focusState.preserveHighlight = false;\n        }\n    };\n\n    Chart.prototype._setElementAccessibilityAttributes = function _setElementAccessibilityAttributes () {\n        var titleOptions = this.options.title;\n        var title = isString$1(titleOptions) ? titleOptions : (titleOptions.description || titleOptions.text);\n\n        if (title) {\n            this.element.setAttribute(\"aria-roledescription\", title);\n        }\n    };\n\n    Chart.prototype._kendoExportVisual = function _kendoExportVisual (size) {\n        if (size && size.width && size.height) {\n            var chartArea = this._originalOptions.chartArea || {};\n            var exportOptions = {\n                width: chartArea.width || size.width,\n                height: chartArea.height || size.height\n            };\n\n            return this.exportVisual(exportOptions);\n        }\n\n        return this.exportVisual();\n    };\n\n    Chart.prototype.exportVisual = function exportVisual (exportOptions) {\n        var visual;\n        if (exportOptions && (exportOptions.width || exportOptions.height || exportOptions.options)) {\n            var currentOptions = this.options;\n            var options = deepExtend({}, exportOptions.options, {\n                chartArea: {\n                    width: exportOptions.width,\n                    height: exportOptions.height\n                }\n            });\n\n            clearMissingValues(this._originalOptions, options);\n            this.options = deepExtend({}, this._originalOptions, options);\n            this._initTheme(this.options, this._theme);\n            this.bindCategories();\n\n            var model = this._getModel();\n\n            model.renderVisual();\n            triggerPaneRender(model._plotArea.panes);\n\n            visual = model.visual;\n\n            this.options = currentOptions;\n        } else {\n            visual = this.surface.exportVisual();\n        }\n\n        return visual;\n    };\n\n    Chart.prototype._sharedTooltip = function _sharedTooltip () {\n        return this._plotArea instanceof CategoricalPlotArea && this.options.tooltip && this.options.tooltip.shared;\n    };\n\n    Chart.prototype._createPannable = function _createPannable () {\n        var options = this.options;\n        if (options.pannable !== false) {\n            this._pannable = new Pannable(this._plotArea, options.pannable);\n        }\n    };\n\n    Chart.prototype._createZoomSelection = function _createZoomSelection () {\n        var zoomable = this.options.zoomable;\n        var selection = (zoomable || {}).selection;\n        if (zoomable !== false && selection !== false) {\n            this._zoomSelection = new ZoomSelection(this, selection);\n        }\n    };\n\n    Chart.prototype._createMousewheelZoom = function _createMousewheelZoom () {\n        var zoomable = this.options.zoomable;\n        var mousewheel = (zoomable || {}).mousewheel;\n        if (zoomable !== false && mousewheel !== false) {\n            this._mousewheelZoom = new MousewheelZoom(this, mousewheel);\n        }\n    };\n\n    Chart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {\n        var pannable = this.options.pannable;\n        var zoomable = this.options.zoomable;\n        var selection = (zoomable || {}).selection;\n        var mousewheel = (zoomable || {}).mousewheel;\n        var allowDrag = !pannable && (zoomable === false || selection === false) && !this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ]);\n        var allowZoom = (zoomable === false || mousewheel === false) && !this.requiresHandlers([ ZOOM_START, ZOOM, ZOOM_END ]);\n        var element = this.element;\n\n        if (this._dragZoomEnabled && allowDrag && allowZoom) {\n            element.style.touchAction = this._touchAction || '';\n            this._dragZoomEnabled = false;\n        } else if (!this._dragZoomEnabled && !(allowDrag && allowZoom)) {\n            element.style.touchAction = \"none\";\n\n            this._dragZoomEnabled = true;\n        }\n\n        this._toggleDomEvents(!allowDrag, !allowZoom);\n    };\n\n    Chart.prototype._toggleDomEvents = function _toggleDomEvents (drag, zoom) {\n        var domEvents = this.domEvents;\n        if (!domEvents) {\n            return;\n        }\n\n        if (domEvents.toggleDrag) {\n            domEvents.toggleDrag(drag);\n        }\n\n        if (domEvents.toggleZoom) {\n            domEvents.toggleZoom(zoom);\n        }\n    };\n\n    Chart.prototype._createTooltip = function _createTooltip () {\n        var ref = this;\n        var tooltipOptions = ref.options.tooltip;\n        var tooltip;\n\n        if (this._sharedTooltip()) {\n            tooltip = this._createSharedTooltip(tooltipOptions);\n        } else {\n            tooltip = new Tooltip$1(this.chartService, tooltipOptions);\n        }\n\n        return tooltip;\n    };\n\n    Chart.prototype._createSharedTooltip = function _createSharedTooltip (options) {\n        return new SharedTooltip$1(this._plotArea, options);\n    };\n\n    Chart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {\n        applyAxisDefaults(options, themeOptions);\n        applySeriesDefaults(options, themeOptions);\n    };\n\n    Chart.prototype.applySeriesColors = function applySeriesColors () {\n        var options = this.options;\n        var series = options.series;\n        var colors = options.seriesColors || [];\n\n        for (var i = 0; i < series.length; i++) {\n            var currentSeries = series[i];\n            var seriesColor = colors[i % colors.length];\n            var defaults = currentSeries._defaults;\n\n            currentSeries.color = currentSeries.color || seriesColor;\n            if (defaults) {\n                defaults.color = defaults.color || seriesColor;\n            }\n        }\n    };\n\n    Chart.prototype._getModel = function _getModel () {\n        var options = this.options;\n        var plotArea = this._createPlotArea();\n        var model = new RootElement(this._modelOptions());\n        model.chart = this;\n        model._plotArea = plotArea;\n\n        var title = Title$1.buildTitle(options.title);\n        var subtitle = Title$1.buildTitle(options.subtitle, {\n            align: options.title.align,\n            position: options.title.position\n        });\n        model.append.apply(model, Title$1.orderTitles([title, subtitle]));\n\n        if (options.legend && options.legend.visible) {\n            var legend = new Legend$1(plotArea.options.legend, this.chartService);\n            model.append(legend);\n            model._legend = legend;\n        }\n        model.append(plotArea);\n        model.reflow();\n\n        this._setTitleBox(title, subtitle);\n\n        return model;\n    };\n\n    Chart.prototype._setTitleBox = function _setTitleBox (title, subtitle) {\n        if (!title && !subtitle) {\n            return;\n        }\n\n        this._titleBox = (title || subtitle).box.clone();\n\n        var titlePosition = title ? title.options.position : '';\n        var subtitlePosition = subtitle ? subtitle.options.position : '';\n        var samePosition = titlePosition === subtitlePosition;\n        var subtitleAtTop = subtitlePosition !== BOTTOM$1;\n\n        if (samePosition && subtitle) {\n            this._titleBox.wrap(subtitle.box);\n        } else if (title && subtitle && subtitleAtTop) {\n            this._titleBox = subtitle.box.clone();\n        }\n    };\n\n    Chart.prototype._modelOptions = function _modelOptions () {\n        var options = this.options;\n        var size = this.getSize();\n\n        return deepExtend({\n            transitions: options.transitions,\n            width: size.width || DEFAULT_WIDTH$1,\n            height: size.height || DEFAULT_HEIGHT$1\n        }, options.chartArea);\n    };\n\n    Chart.prototype._createPlotArea = function _createPlotArea (skipSeries) {\n        var options = this.options;\n\n        var plotArea = PlotAreaFactory.current.create(skipSeries ? [] : options.series, options, this.chartService);\n\n        return plotArea;\n    };\n\n    Chart.prototype._setupSelection = function _setupSelection () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var axes = ref._plotArea.axes;\n        var selections = this._selections = [];\n\n        for (var i = 0; i < axes.length; i++) {\n            var axis = axes[i];\n            var options = axis.options;\n            if (axis instanceof CategoryAxis && options.select && !options.vertical) {\n                var range = axis.range();\n\n                var selection = new Selection(this$1$1, axis,\n                    deepExtend({ min: range.min, max: range.max }, options.select)\n                );\n\n                selections.push(selection);\n            }\n        }\n    };\n\n    Chart.prototype._selectStart = function _selectStart (e) {\n        return this.trigger(SELECT_START, e);\n    };\n\n    Chart.prototype._select = function _select (e) {\n        return this.trigger(SELECT, e);\n    };\n\n    Chart.prototype._selectEnd = function _selectEnd (e) {\n        return this.trigger(SELECT_END, e);\n    };\n\n    Chart.prototype._initHandlers = function _initHandlers () {\n        this._clickHandler = this._click.bind(this);\n        this._keydownHandler = this._keydown.bind(this);\n        this._focusHandler = this._focus.bind(this);\n        this._blurHandler = this._blur.bind(this);\n        this._mousedownHandler = this._mousedown.bind(this);\n        this._mousewheelHandler = this._mousewheel.bind(this);\n        this._mouseleaveHandler = this._mouseleave.bind(this);\n        this._surfaceMouseenterHandler = this._mouseover.bind(this);\n        this._surfaceMouseleaveHandler = this._mouseout.bind(this);\n\n        this._mousemove = throttle(\n            this._mousemove.bind(this),\n            MOUSEMOVE_DELAY\n        );\n    };\n\n    Chart.prototype.addObserver = function addObserver (observer) {\n        if (observer) {\n            this.observers.push(observer);\n        }\n    };\n\n    Chart.prototype.removeObserver = function removeObserver (observer) {\n        var index = this.observers.indexOf(observer);\n        if (index >= 0) {\n            this.observers.splice(index, 1);\n        }\n    };\n\n    Chart.prototype.requiresHandlers = function requiresHandlers (eventNames) {\n        var observers = this.observers;\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].requiresHandlers(eventNames)) {\n                return true;\n            }\n        }\n    };\n\n    Chart.prototype.trigger = function trigger (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        if (name === SHOW_TOOLTIP$1) {\n            args.anchor.point = this._toDocumentCoordinates(args.anchor.point);\n        } else if (name === SERIES_OVER) {\n            this._updateDrilldownPoint(args.point);\n        } else if (name === SERIES_LEAVE) {\n            this._resetDrilldownPoint();\n        } else if (name === SERIES_CLICK) {\n            this._focusPoint(args.point);\n            this._startDrilldown(args.point);\n        } else if (name === LEGEND_ITEM_CLICK) {\n            this._focusLegendItem(args);\n        }\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Chart.prototype.titleHeight = function titleHeight () {\n        if (!this._titleBox) {\n            return 0;\n        }\n\n        return this._titleBox.height();\n    };\n\n    Chart.prototype._attachEvents = function _attachEvents () {\n        var obj, obj$1;\n\n        var element = this.element;\n\n        this._touchAction = element.style.touchAction;\n\n        bindEvents(element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL$1 ] = this._mousewheelHandler, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj[ KEYDOWN ] = this._keydownHandler, obj[ MOUSEDOWN ] = this._mousedownHandler, obj[ FOCUS ] = this._focusHandler, obj[ BLUR] = this._blurHandler, obj ));\n\n        if (this._shouldAttachMouseMove()) {\n            bindEvents(element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));\n        }\n\n        this.domEvents = DomEventsBuilder.create(this.element, {\n            start: this._start.bind(this),\n            move: this._move.bind(this),\n            end: this._end.bind(this),\n            tap: this._tap.bind(this),\n            gesturestart: this._gesturestart.bind(this),\n            gesturechange: this._gesturechange.bind(this),\n            gestureend: this._gestureend.bind(this)\n        });\n\n        this._toggleDragZoomEvents();\n    };\n\n    Chart.prototype._mouseleave = function _mouseleave (e) {\n        if (this._hoveredPoint) {\n            this._hoveredPoint.out(this, e);\n            this._hoveredPoint = null;\n        }\n\n        if (this._plotAreaHovered) {\n            this._plotAreaHovered = false;\n            this.trigger(PLOT_AREA_LEAVE);\n        }\n\n        if (this._hasInactiveOpacity() && this._activeChartInstance) {\n            this._applySeriesOpacity(this._activeChartInstance.children, null, true);\n            this._updateSeriesOpacity(null, true);\n        }\n    };\n\n    Chart.prototype._cancelDomEvents = function _cancelDomEvents () {\n        if (this.domEvents && this.domEvents.cancel) {\n            this.domEvents.cancel();\n        }\n    };\n\n    Chart.prototype._gesturestart = function _gesturestart (e) {\n        if (this._mousewheelZoom && !this._stopChartHandlers(e)) {\n            this._gestureDistance = e.distance;\n            this._unsetActivePoint();\n            this._clearFocusedElement();\n            this.surface.suspendTracking();\n        }\n    };\n\n    Chart.prototype._gestureend = function _gestureend (e) {\n        if (this._zooming && !this._stopChartHandlers(e)) {\n            if (this.surface) {\n                this.surface.resumeTracking();\n            }\n            this._zooming = false;\n            this.trigger(ZOOM_END, {});\n        }\n    };\n\n    Chart.prototype._gesturechange = function _gesturechange (e) {\n        var mousewheelZoom = this._mousewheelZoom;\n\n        if (mousewheelZoom && !this._stopChartHandlers(e)) {\n            e.preventDefault();\n            var previousGestureDistance = this._gestureDistance;\n            var scaleDelta = -e.distance / previousGestureDistance + 1;\n\n            if (Math.abs(scaleDelta) >= 0.1) {\n                scaleDelta = Math.round(scaleDelta * 10);\n\n                this._gestureDistance = e.distance;\n                var args = { delta: scaleDelta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };\n                if (this._zooming || !this.trigger(ZOOM_START, args)) {\n                    var coords = this._eventCoordinates(e);\n\n                    if (!this._zooming) {\n                        this._zooming = true;\n                    }\n\n                    var ranges = args.axisRanges = mousewheelZoom.updateRanges(scaleDelta, coords);\n                    if (ranges && !this.trigger(ZOOM, args)) {\n                        mousewheelZoom.zoom();\n                    }\n                }\n            }\n        }\n    };\n\n    Chart.prototype._mouseout = function _mouseout (e) {\n        if (e.element) {\n            var element = this._drawingChartElement(e.element, e);\n\n            if (element && element.leave) {\n                element.leave(this, e.originalEvent);\n            }\n        }\n    };\n\n    Chart.prototype._start = function _start (e) {\n        var coords = this._eventCoordinates(e);\n\n        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n            return;\n        }\n\n\n        if (this.requiresHandlers([ DRAG_START, DRAG, DRAG_END ])) {\n            this._startNavigation(e, coords, DRAG_START);\n        }\n\n        if (this._pannable && this._pannable.start(e)) {\n            this.surface.suspendTracking();\n            this._unsetActivePoint();\n            this._clearFocusedElement();\n            this._suppressHover = true;\n            this.chartService.panning = true;\n        }\n\n        if (this._zoomSelection) {\n            if (this._zoomSelection.start(e)) {\n                this.trigger(ZOOM_START, { axisRanges: axisRanges(this._plotArea.axes), originalEvent: e });\n            }\n        }\n    };\n\n    Chart.prototype._move = function _move (e) {\n        var ref = this;\n        var state = ref._navState;\n        var pannable = ref._pannable;\n\n        if (this._stopChartHandlers(e)) {\n            return;\n        }\n\n        if (pannable) {\n            var ranges = pannable.move(e);\n\n            if (ranges && !this.trigger(DRAG, { axisRanges: ranges, originalEvent: e })) {\n                pannable.pan();\n            }\n        } else if (state) {\n            var ranges$1 = {};\n            var axes = state.axes;\n\n            for (var i = 0; i < axes.length; i++) {\n                var currentAxis = axes[i];\n                var axisName = currentAxis.options.name;\n                if (axisName) {\n                    var axis = currentAxis.options.vertical ? e.y : e.x;\n                    var delta = axis.startLocation - axis.location;\n\n                    if (delta !== 0) {\n                        ranges$1[currentAxis.options.name] = currentAxis.translateRange(delta);\n                    }\n                }\n            }\n\n            state.axisRanges = ranges$1;\n            this.trigger(DRAG, {\n                axisRanges: ranges$1,\n                originalEvent: e\n            });\n        }\n\n        if (this._zoomSelection) {\n            this._zoomSelection.move(e);\n        }\n    };\n\n    Chart.prototype._end = function _end (e) {\n        if (this._stopChartHandlers(e)) {\n            return;\n        }\n\n        var pannable = this._pannable;\n        if (pannable && pannable.end(e)) {\n            this.surface.resumeTracking();\n            this.trigger(DRAG_END, {\n                axisRanges: axisRanges(this._plotArea.axes),\n                originalEvent: e\n            });\n            this._suppressHover = false;\n            this.chartService.panning = false;\n        } else {\n            this._endNavigation(e, DRAG_END);\n        }\n\n        if (this._zoomSelection) {\n            var ranges = this._zoomSelection.end(e);\n            if (ranges && !this.trigger(ZOOM, { axisRanges: ranges, originalEvent: e })) {\n                this._zoomSelection.zoom();\n                this.trigger(ZOOM_END, { axisRanges: ranges, originalEvent: e });\n            }\n        }\n    };\n\n    Chart.prototype._stopChartHandlers = function _stopChartHandlers (e) {\n        var selections = this._selections || [];\n        if (!selections.length) {\n            return false;\n        }\n\n        var coords = this._eventCoordinates(e);\n        var pane = this._plotArea.paneByPoint(coords);\n        if (pane) {\n            for (var idx = 0; idx < selections.length; idx++) {\n                if (selections[idx].onPane(pane)) {\n                    return true;\n                }\n            }\n        }\n    };\n\n    Chart.prototype._mousewheelZoomRate = function _mousewheelZoomRate () {\n        var zoomable = this.options.zoomable;\n        var mousewheel = (zoomable || {}).mousewheel || {};\n        return valueOrDefault(mousewheel.rate, MOUSEWHEEL_ZOOM_RATE);\n    };\n\n    Chart.prototype._mousewheel = function _mousewheel (e) {\n        var this$1$1 = this;\n\n        var delta = mousewheelDelta(e);\n        var mousewheelZoom = this._mousewheelZoom;\n        var coords = this._eventCoordinates(e);\n\n        if (this._stopChartHandlers(e) || !this._plotArea.backgroundContainsPoint(coords)) {\n            return;\n        }\n\n        if (mousewheelZoom) {\n            var args = { delta: delta, axisRanges: axisRanges(this._plotArea.axes), originalEvent: e };\n            if (this._zooming || !this.trigger(ZOOM_START, args)) {\n                e.preventDefault();\n\n                if (!this._zooming) {\n                    this._unsetActivePoint();\n                    this._clearFocusedElement();\n                    this.surface.suspendTracking();\n                    this._zooming = true;\n                }\n\n                if (this._mwTimeout) {\n                    clearTimeout(this._mwTimeout);\n                }\n\n                args.axisRanges = mousewheelZoom.updateRanges(delta, coords);\n                if (args.axisRanges && !this.trigger(ZOOM, args)) {\n                    mousewheelZoom.zoom();\n                }\n\n                this._mwTimeout = setTimeout(function () {\n                    this$1$1.trigger(ZOOM_END, args);\n                    this$1$1._zooming = false;\n                    if (this$1$1.surface) {\n                        this$1$1.surface.resumeTracking();\n                    }\n                }, MOUSEWHEEL_DELAY);\n            }\n        } else {\n            var state = this._navState;\n            if (!state) {\n                var prevented = this._startNavigation(e, coords, ZOOM_START);\n                if (!prevented) {\n                    state = this._navState;\n                }\n            }\n\n            if (state) {\n                var totalDelta = state.totalDelta || delta;\n                state.totalDelta = totalDelta + delta;\n\n                var axes = this._navState.axes;\n                var ranges = {};\n\n                for (var i = 0; i < axes.length; i++) {\n                    var currentAxis = axes[i];\n                    var axisName = currentAxis.options.name;\n                    if (axisName) {\n                        ranges[axisName] = currentAxis.scaleRange(-totalDelta * this$1$1._mousewheelZoomRate(), coords);\n                    }\n                }\n\n                this.trigger(ZOOM, {\n                    delta: delta,\n                    axisRanges: ranges,\n                    originalEvent: e\n                });\n\n                if (this._mwTimeout) {\n                    clearTimeout(this._mwTimeout);\n                }\n\n                this._mwTimeout = setTimeout(function () {\n                    this$1$1._endNavigation(e, ZOOM_END);\n                }, MOUSEWHEEL_DELAY);\n            }\n        }\n    };\n\n    Chart.prototype._startNavigation = function _startNavigation (e, coords, chartEvent) {\n        var plotArea = this._model._plotArea;\n        var pane = plotArea.findPointPane(coords);\n        var axes = plotArea.axes.slice(0);\n\n        if (!pane) {\n            return;\n        }\n\n        var ranges = axisRanges(axes);\n\n        var prevented = this.trigger(chartEvent, {\n            axisRanges: ranges,\n            originalEvent: e\n        });\n\n        if (prevented) {\n            this._cancelDomEvents();\n        } else {\n            this._suppressHover = true;\n            this._unsetActivePoint();\n            this._clearFocusedElement();\n            this._navState = {\n                axisRanges: ranges,\n                pane: pane,\n                axes: axes\n            };\n        }\n    };\n\n    Chart.prototype._endNavigation = function _endNavigation (e, chartEvent) {\n        if (this._navState) {\n            this.trigger(chartEvent, {\n                axisRanges: this._navState.axisRanges,\n                originalEvent: e\n            });\n            this._suppressHover = false;\n            this._navState = null;\n        }\n    };\n\n    Chart.prototype._getChartElement = function _getChartElement (e, match) {\n        var element = this.surface.eventTarget(e);\n        if (element) {\n            return this._drawingChartElement(element, e, match);\n        }\n    };\n\n    Chart.prototype._drawingChartElement = function _drawingChartElement (element, e, match) {\n        var current = element;\n        var chartElement;\n        while (current && !chartElement) {\n            chartElement = current.chartElement;\n            current = current.parent;\n        }\n\n        if (chartElement) {\n            if (chartElement.aliasFor) {\n                chartElement = chartElement.aliasFor(e, this._eventCoordinates(e));\n            }\n\n            if (match) {\n                chartElement = chartElement.closest(match);\n                if (chartElement && chartElement.aliasFor) {\n                    chartElement = chartElement.aliasFor();\n                }\n            }\n\n            return chartElement;\n        }\n    };\n\n    Chart.prototype._eventCoordinates = function _eventCoordinates (e) {\n        var coordinates = eventCoordinates(e);\n        return this._toModelCoordinates(coordinates.x, coordinates.y);\n    };\n\n    Chart.prototype._elementPadding = function _elementPadding () {\n        if (!this._padding) {\n            var ref = elementStyles(this.element, [ \"paddingLeft\", \"paddingTop\" ]);\n            var paddingLeft = ref.paddingLeft;\n            var paddingTop = ref.paddingTop;\n            this._padding = {\n                top: paddingTop,\n                left: paddingLeft\n            };\n        }\n\n        return this._padding;\n    };\n\n    Chart.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {\n        var padding = this._elementPadding();\n        var offset = elementOffset(this.element);\n\n        return {\n            left: round$1(point.x + padding.left + offset.left),\n            top: round$1(point.y + padding.top + offset.top)\n        };\n    };\n\n    // TODO: Breaking change due to peer version change\n    // Reuse by exposing _surfacePoint on Surface\n    Chart.prototype._toModelCoordinates = function _toModelCoordinates (clientX, clientY) {\n        var element = this.element;\n        var offset = elementOffset(element);\n        var padding = this._elementPadding();\n        var inverseTransform = elementScale(element).invert();\n        var point = new Point$6(\n            clientX - offset.left - padding.left,\n            clientY - offset.top - padding.top\n        ).transform(inverseTransform);\n\n        return new Point$5(point.x, point.y);\n    };\n\n    Chart.prototype._tap = function _tap (e) {\n        var this$1$1 = this;\n\n        var drawingElement = this.surface.eventTarget(e);\n        var element = this._drawingChartElement(drawingElement, e);\n        var sharedTooltip = this._sharedTooltip();\n\n        if (!this._startHover(drawingElement, e) && !sharedTooltip) {\n            this._unsetActivePoint();\n        }\n\n        if (sharedTooltip) {\n            this._trackSharedTooltip(this._eventCoordinates(e), e, true);\n        }\n\n        this._propagateClick(element, e);\n\n        //part of fix for hover issue on windows touch\n        this.handlingTap = true;\n        setTimeout(function () {\n            this$1$1.handlingTap = false;\n        }, 0);\n    };\n\n    Chart.prototype._click = function _click (e) {\n        var element = this._getChartElement(e);\n        this._propagateClick(element, e);\n    };\n\n    Chart.prototype._propagateClick = function _propagateClick (element, e) {\n        var this$1$1 = this;\n\n        var current = element;\n        while (current) {\n            if (current.click) {\n                current.click(this$1$1, e);\n            }\n\n            current = current.parent;\n        }\n    };\n\n    Chart.prototype._isLegendBeforeChart = function _isLegendBeforeChart () {\n        var ref = this;\n        var legendPosition = ref.options.legend.position;\n        var legend = ref._legend;\n\n        return legend && legend.hasItems() && (legendPosition === TOP || legendPosition === LEFT);\n    };\n\n    Chart.prototype._focus = function _focus () {\n        if (!this._preventInitialPointFocus) {\n            if (this._isLegendBeforeChart()) {\n                this._focusFirstLegendItem();\n            } else {\n                this._focusFirstPoint();\n            }\n        }\n\n        this._preventInitialPointFocus = false;\n    };\n\n    Chart.prototype._keydown = function _keydown (e) {\n        var ref = this;\n        var ref_focusState = ref._focusState;\n        var legendInFocus = ref_focusState.legendInFocus;\n        var focusedElement = ref_focusState.focusedElement;\n        var legend = ref._legend;\n\n        if (e.key === TAB) {\n            this._clearFocusedElement();\n            var isLegendBeforeChart = this._isLegendBeforeChart();\n\n            if (legendInFocus && isLegendBeforeChart !== e.shiftKey) {\n                this._navigatePoints(e);\n            } else if (!legendInFocus && isLegendBeforeChart === e.shiftKey && legend.hasItems()) {\n                this._navigateLegend(e);\n            }\n        } else if (e.key === ESCAPE) {\n            if (focusedElement) {\n                e.stopPropagation();\n            }\n\n            if (this._tooltip && this._tooltip.visible) {\n                this._hideTooltip();\n            } else {\n                this._blur();\n            }\n        } else if (e.key === ENTER) {\n            if (focusedElement) {\n                this._focusState.preserveHighlight = true;\n                this._propagateClick(focusedElement, e);\n                this._focusElement(focusedElement);\n            }\n        } else if (!legendInFocus) {\n            this._navigatePoints(e);\n        } else {\n            this._navigateLegend(e);\n        }\n    };\n\n    Chart.prototype._navigatePoints = function _navigatePoints (e) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var focusState = ref._focusState;\n        var plotArea = ref._plotArea;\n\n        focusState.legendInFocus = false;\n\n        if (!focusState.focusedElement) {\n            this._focusFirstPoint();\n            e.preventDefault();\n            return;\n        }\n\n        var moveFocus = function (point) {\n            focusState.focusedPoint = point;\n\n            this$1$1._focusElement(focusState.focusedPoint);\n            this$1$1._displayTooltip(point);\n            e.preventDefault();\n        };\n\n        switch (e.key) {\n            case ARROW_RIGHT:\n                moveFocus(plotArea.getPointToTheRight(focusState.focusedPoint));\n                break;\n            case ARROW_LEFT:\n                moveFocus(plotArea.getPointToTheLeft(focusState.focusedPoint));\n                break;\n            case ARROW_DOWN:\n                moveFocus(plotArea.getPointBelow(focusState.focusedPoint));\n                break;\n            case ARROW_UP:\n                moveFocus(plotArea.getPointAbove(focusState.focusedPoint));\n                break;\n            default:\n                break;\n        }\n    };\n\n    Chart.prototype._navigateLegend = function _navigateLegend (e) {\n        var this$1$1 = this;\n\n        var ref = this;\n        var focusState = ref._focusState;\n        var legend = ref._legend;\n        var rtl = ref.chartService.rtl;\n\n        focusState.legendInFocus = true;\n\n        if (!focusState.focusedElement) {\n            this._focusFirstLegendItem();\n            e.preventDefault();\n            return;\n        }\n\n        var itemsLength = legend.getItems().length;\n        var moveFocus = function (cycleFunc) {\n            focusState.focusedLegendItemIndex = cycleFunc(\n                focusState.focusedLegendItemIndex,\n                itemsLength\n            );\n            this$1$1._focusElement(this$1$1._getFocusedLegendItem());\n            e.preventDefault();\n        };\n\n        switch (e.key) {\n            case ARROW_UP:\n            case ARROW_LEFT:\n                moveFocus(rtl ? cycleUp : cycleDown);\n                break;\n            case ARROW_DOWN:\n            case ARROW_RIGHT:\n                moveFocus(rtl ? cycleDown : cycleUp);\n                break;\n            default:\n                break;\n        }\n    };\n\n    Chart.prototype._focusFirstPoint = function _focusFirstPoint () {\n        var point = this._focusState.focusedPoint = this._plotArea.getFirstPoint();\n\n        if (point) {\n            this._focusElement(point);\n            this._displayTooltip(point);\n        }\n    };\n\n    Chart.prototype._hasFocus = function _hasFocus () {\n        return this.element.ownerDocument.activeElement === this.element;\n    };\n\n    Chart.prototype._mousedown = function _mousedown () {\n        if (!this._hasFocus()) {\n            this._preventInitialPointFocus = true;\n        }\n    };\n\n    Chart.prototype._focusChart = function _focusChart () {\n        if (!this._hasFocus()) {\n            this._preventInitialPointFocus = true;\n            this.element.focus();\n        }\n    };\n\n    Chart.prototype._focusPoint = function _focusPoint (point) {\n        this._focusState.focusedPoint = point;\n\n        this._focusChart();\n\n        this._focusElement(point, true);\n    };\n\n    Chart.prototype._focusFirstLegendItem = function _focusFirstLegendItem () {\n        var ref = this;\n        var focusState = ref._focusState;\n\n        focusState.focusedLegendItemIndex = 0;\n        this._focusElement(this._getFocusedLegendItem());\n        focusState.legendInFocus = true;\n\n        this._hideTooltip();\n    };\n\n    Chart.prototype._focusLegendItem = function _focusLegendItem (args) {\n        var ref = this;\n        var focusState = ref._focusState;\n\n        focusState.focusedLegendItemIndex = this._legend\n            .getItems()\n            .findIndex(function (x) { return x.options.series.index === args.seriesIndex\n                && x.options.pointIndex === args.pointIndex; });\n\n        focusState.legendInFocus = true;\n\n        this._focusChart();\n\n        this._focusElement(this._getFocusedLegendItem(), true);\n    };\n\n    Chart.prototype._getFocusedLegendItem = function _getFocusedLegendItem () {\n        var ref = this;\n        var focusState = ref._focusState;\n        var legend = ref._legend;\n\n        return legend.getItems()[focusState.focusedLegendItemIndex];\n    };\n\n    Chart.prototype._focusElement = function _focusElement (element, omitHighlight) {\n        var ref = this;\n        var focusState = ref._focusState;\n\n        this._clearFocusedElement();\n\n        if (!element) {\n            return;\n        }\n\n        focusState.focusedElement = element;\n\n        this._setElementActiveDescendant(element);\n\n        if (!omitHighlight) {\n            element.focusVisual();\n\n            if (focusState.legendInFocus) {\n                var options = element.options;\n\n                this._showSeriesInactiveOpacity(options.series.index, options.pointIndex);\n            } else {\n                this._showInactiveOpacity(element);\n            }\n        }\n    };\n\n    Chart.prototype._clearFocusedElement = function _clearFocusedElement () {\n        var ref = this;\n        var focusState = ref._focusState;\n\n        if (!focusState) {\n            return;\n        }\n\n        if (focusState.focusedElement) {\n            focusState.focusedElement.clearFocusFromVisual();\n            this._clearElementActiveDescendant();\n        }\n\n        focusState.focusedElement = null;\n    };\n\n    Chart.prototype._setElementActiveDescendant = function _setElementActiveDescendant (element) {\n        if (this.options.renderAs === \"canvas\") {\n            this._pseudoFocusedElement = this._createPseudoFocusedElement(element);\n            this.element.append(this._pseudoFocusedElement);\n        }\n\n        this.element.setAttribute(ARIA_ACTIVE_DESCENDANT, element._id);\n    };\n\n    Chart.prototype._clearElementActiveDescendant = function _clearElementActiveDescendant () {\n        if (this._pseudoFocusedElement) {\n            this._pseudoFocusedElement.remove();\n            this._pseudoFocusedElement = null;\n        }\n\n        this.element.removeAttribute(ARIA_ACTIVE_DESCENDANT);\n    };\n\n    Chart.prototype._createPseudoFocusedElement = function _createPseudoFocusedElement (element) {\n        var pseudoElement = document.createElement(\"div\");\n        var accessibilityOptions = element.options.accessibility;\n\n        pseudoElement.id = element._id;\n        pseudoElement.setAttribute(\"aria-label\", element.getAriaLabelText());\n        pseudoElement.setAttribute(\"role\", accessibilityOptions.role);\n        pseudoElement.setAttribute(\"aria-roledescription\", accessibilityOptions.ariaRoleDescription);\n\n        var checked = accessibilityOptions.ariaChecked;\n        if (defined(checked)) {\n            pseudoElement.setAttribute(\"aria-checked\", checked);\n        }\n\n        return pseudoElement;\n    };\n\n    Chart.prototype._blur = function _blur () {\n        this._focusState.legendInFocus = false;\n        this._clearFocusedElement();\n        this._hideInactiveOpacity();\n    };\n\n    Chart.prototype._startHover = function _startHover (element, e) {\n        if (this._suppressHover) {\n            return false;\n        }\n\n        var point = this._drawingChartElement(element, e, function(element) {\n            return (element.hover || element.over) && !(element instanceof PlotAreaBase);\n        });\n\n        var activePoint = this._activePoint;\n\n        this._updateHoveredPoint(point, e);\n\n        if (point && activePoint !== point && point.hover) {\n            this._activePoint = point;\n\n            if (!this._sharedTooltip() && !point.hover(this, e)) {\n                this._displayTooltip(point);\n\n                this._showInactiveOpacity(point);\n            }\n        }\n\n        return point;\n    };\n\n    Chart.prototype._displayTooltip = function _displayTooltip (point) {\n        var tooltipOptions = deepExtend({}, this.options.tooltip, point.options.tooltip);\n        if (tooltipOptions.visible) {\n            if (this._sharedTooltip() && point.box) {\n                this._trackSharedTooltip(point.box.center(), {});\n            } else {\n                this._tooltip.show(point);\n            }\n        }\n    };\n\n    Chart.prototype._hideTooltip = function _hideTooltip () {\n        if (this._tooltip) {\n            this._tooltip.hide();\n        }\n    };\n\n    Chart.prototype._displayInactiveOpacity = function _displayInactiveOpacity (activePoint, multipleSeries, highlightPoints) {\n        var chartInstance = this._activeChartInstance = this._chartInstanceFromPoint(activePoint);\n        if (!chartInstance) {\n            return;\n        }\n\n        if (multipleSeries) {\n            this._updateSeriesOpacity(activePoint);\n            this._applySeriesOpacity(chartInstance.children, null, true);\n            this._applySeriesOpacity(chartInstance.children, activePoint.series);\n            this._highlight.show(highlightPoints || activePoint);\n        } else {\n            var inactivePoints;\n\n            if (!chartInstance.supportsPointInactiveOpacity()) {\n                this._highlight.show(activePoint);\n                return;\n            }\n\n            inactivePoints = this._getInactivePoints(activePoint, chartInstance);\n\n            if (inactivePoints && inactivePoints.length) {\n                this._highlight.show(inactivePoints, 1 - this._getInactiveOpacityForSeries(activePoint.series));\n            }\n        }\n    };\n\n    Chart.prototype._getInactivePoints = function _getInactivePoints (activePoint, chartInstance) {\n        var allPoints = this._getAllPointsOfType(chartInstance, activePoint.constructor);\n\n        return allPoints.filter(function (point) { return point !== activePoint; });\n    };\n\n    Chart.prototype._getAllPointsOfType = function _getAllPointsOfType (container, type) {\n        var this$1$1 = this;\n\n        var points = [];\n\n        for (var i = 0; i < container.children.length; i++) {\n            var element = container.children[i];\n\n            if (element.constructor === type) {\n                points.push(element);\n            } else if (element.children && element.children.length) {\n                points = points.concat(this$1$1._getAllPointsOfType(element, type));\n            }\n        }\n\n        return points;\n    };\n\n    Chart.prototype._updateHoveredPoint = function _updateHoveredPoint (point, e) {\n        var hoveredPoint = this._hoveredPoint;\n\n        if (hoveredPoint && hoveredPoint !== point) {\n            hoveredPoint.out(this, e);\n            this._hoveredPoint = null;\n        }\n\n        if (point && hoveredPoint !== point && point.over) {\n            this._hoveredPoint = point;\n            point.over(this, e);\n        }\n    };\n\n    Chart.prototype._updateDrilldownPoint = function _updateDrilldownPoint (point) {\n        if (!point || !point.series) {\n            return;\n        }\n\n        var ref = SeriesBinder.current.bindPoint(point.series, null, point.dataItem);\n        var fields = ref.fields;\n        if (fields.drilldown) {\n            this._drilldownState = { cursor: this.element.style.cursor };\n            this.element.style.cursor = 'pointer';\n        }\n    };\n\n    Chart.prototype._resetDrilldownPoint = function _resetDrilldownPoint () {\n        if (this._drilldownState) {\n            this.element.style.cursor = this._drilldownState.cursor;\n            this._drilldownState = null;\n        }\n    };\n\n    Chart.prototype._startDrilldown = function _startDrilldown (point) {\n        if (!point || !point.series) {\n            return;\n        }\n\n        var series = point.series;\n        var ref = SeriesBinder.current.bindPoint(series, null, point.dataItem);\n        var fields = ref.fields;\n        var value = fields.drilldown;\n        if (value) {\n            var args = { series: series, point: point, value: value, sender: this };\n            this.trigger(DRILLDOWN, args);\n        }\n    };\n\n    Chart.prototype._updateSeriesOpacity = function _updateSeriesOpacity (point, resetOpacity) {\n        var this$1$1 = this;\n\n        var plotArea = this._plotArea;\n        var length = plotArea.series.length;\n\n        for (var i = 0; i < length; i++) {\n            var currSeries = plotArea.series[i];\n            var defaultOpacity = this$1$1._getDefaultOpacityForSeries(currSeries);\n            var inactiveOpacity = this$1$1._getInactiveOpacityForSeries(currSeries);\n\n            if (!resetOpacity && currSeries !== point.series) {\n                currSeries.defaultOpacity = defaultOpacity;\n                currSeries.opacity = inactiveOpacity;\n\n                if (currSeries.line) {\n                    currSeries.line.opacity = inactiveOpacity;\n                }\n            } else {\n                currSeries.opacity = defaultOpacity;\n\n                if (currSeries.line) {\n                    currSeries.line.opacity = defaultOpacity;\n                }\n            }\n        }\n    };\n\n    Chart.prototype._applySeriesOpacity = function _applySeriesOpacity (elements, activeSeries, reset, series) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var currSeries = element.series || series;\n            var shouldHighlight = currSeries && (currSeries.highlight || {}).visible;\n\n            if (shouldHighlight && element.visual) {\n                var opacity = series ? series.opacity : element.series.opacity;\n                if (currSeries !== activeSeries || reset) {\n                    element.visual.opacity(reset ? 1 : opacity);\n                }\n            }\n\n            if (element.children && element.children.length) {\n                this$1$1._applySeriesOpacity(element.children, activeSeries, reset, element.series);\n            }\n        }\n    };\n\n    Chart.prototype._chartInstanceFromPoint = function _chartInstanceFromPoint (point) {\n        var chartInstance = point.parent;\n\n        while (chartInstance && !chartInstance.plotArea) {\n            chartInstance = chartInstance.parent;\n        }\n\n        return chartInstance;\n    };\n\n    Chart.prototype._showInactiveOpacity = function _showInactiveOpacity (point) {\n        var multipleSeries = this._plotArea.series.length > 1;\n        var hasInactiveOpacity = this._hasInactiveOpacity();\n\n        if (hasInactiveOpacity) {\n            this._displayInactiveOpacity(point, multipleSeries);\n        } else {\n            this._highlight.show(point);\n        }\n    };\n\n    Chart.prototype._hideInactiveOpacity = function _hideInactiveOpacity (point) {\n        var multipleSeries = this._plotArea.series.length > 1;\n        var hasInactiveOpacity = this._hasInactiveOpacity();\n        if (hasInactiveOpacity) {\n            if (multipleSeries && this._activeChartInstance) {\n                this._updateSeriesOpacity(point, true);\n                this._applySeriesOpacity(this._activeChartInstance.children, null, true);\n                this._activeChartInstance = null;\n            }\n            this._highlight && this._highlight.hide();\n            this._activePoint = null;\n        }\n    };\n\n    Chart.prototype._hasInactiveOpacity = function _hasInactiveOpacity () {\n        var hasDefaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity !== undefined;\n        var hasInactiveOpacity = this.options.series.filter(function (s) { return s.highlight.inactiveOpacity !== undefined; } ).length > 0;\n        return hasDefaultInactiveOpacity || hasInactiveOpacity;\n    };\n\n    Chart.prototype._getInactiveOpacityForSeries = function _getInactiveOpacityForSeries (series) {\n        var defaultInactiveOpacity = this.options.seriesDefaults.highlight.inactiveOpacity;\n        var seriesInactiveOpacity = series.highlight.inactiveOpacity;\n        return seriesInactiveOpacity || defaultInactiveOpacity || series.opacity || DEFAULT_SERIES_OPACITY;\n    };\n\n    Chart.prototype._getDefaultOpacityForSeries = function _getDefaultOpacityForSeries (series) {\n        return series.defaultOpacity || series.opacity || DEFAULT_SERIES_OPACITY;\n    };\n\n    Chart.prototype._mouseover = function _mouseover (e) {\n        var obj;\n\n        var point = this._startHover(e.element, e.originalEvent);\n\n        if (point && point.tooltipTracking && !this._mouseMoveTrackHandler && !this._sharedTooltip()) {\n            this._mouseMoveTrackHandler = this._mouseMoveTracking.bind(this);\n            bindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));\n        }\n    };\n\n    Chart.prototype._mouseMoveTracking = function _mouseMoveTracking (e) {\n        var obj;\n\n        var ref = this;\n        var options = ref.options;\n        var tooltip = ref._tooltip;\n        var highlight = ref._highlight;\n        var point = ref._activePoint;\n        var coords = this._eventCoordinates(e);\n\n        if (this._plotArea.box.containsPoint(coords)) {\n            if (point && point.tooltipTracking && point.series && point.parent.getNearestPoint) {\n                var seriesPoint = point.parent.getNearestPoint(coords.x, coords.y, point.seriesIx);\n                if (seriesPoint && seriesPoint !== point) {\n                    this._activePoint = seriesPoint;\n\n                    if (!seriesPoint.hover(this, e)) {\n                        var tooltipOptions = deepExtend({}, options.tooltip, seriesPoint.options.tooltip);\n                        if (tooltipOptions.visible) {\n                            tooltip.show(seriesPoint);\n                        }\n\n                        highlight.show(seriesPoint);\n                    }\n                }\n            }\n        } else {\n            unbindEvents(document, ( obj = {}, obj[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj ));\n            this._unsetActivePoint();\n            this._clearFocusedElement();\n            this._mouseMoveTrackHandler = null;\n\n            this._hideInactiveOpacity(point);\n        }\n    };\n\n    Chart.prototype._mousemove = function _mousemove (e) {\n        var coords = this._eventCoordinates(e);\n        var plotArea = this._plotArea;\n\n        this._trackCrosshairs(coords);\n\n        if (plotArea.hover) {\n            var overPlotArea = plotArea.backgroundContainsPoint(coords);\n            if (overPlotArea) {\n                this._plotAreaHovered = true;\n                this._plotArea.hover(this, e);\n            } else if (this._plotAreaHovered && !overPlotArea) {\n                this._plotAreaHovered = false;\n                this.trigger(PLOT_AREA_LEAVE);\n            }\n        }\n\n        if (this._sharedTooltip()) {\n            this._trackSharedTooltip(coords, e);\n        }\n    };\n\n    Chart.prototype._trackCrosshairs = function _trackCrosshairs (coords) {\n        var crosshairs = this._plotArea.crosshairs;\n\n        for (var i = 0; i < crosshairs.length; i++) {\n            var current = crosshairs[i];\n\n            if (current.box.containsPoint(coords)) {\n                current.showAt(coords);\n            } else {\n                current.hide();\n            }\n        }\n    };\n\n    Chart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords, e, toggle) {\n        if (this._suppressHover) {\n            return;\n        }\n\n        var ref = this;\n        var tooltipOptions = ref.options.tooltip;\n        var plotArea = ref._plotArea;\n        var categoryAxis = ref._plotArea.categoryAxis;\n        var tooltip = ref._tooltip;\n        var highlight = ref._highlight;\n\n        if (plotArea.backgroundContainsPoint(coords)) {\n            var index = categoryAxis.pointCategoryIndex(coords);\n            if (index !== this._tooltipCategoryIx || (!this._sharedHighlight && toggle)) {\n                var points = plotArea.pointsByCategoryIndex(index);\n                var pointArgs = points.map(function(point) {\n                    return point.eventArgs(e);\n                });\n                var hoverArgs = pointArgs[0] || {};\n                hoverArgs.categoryPoints = pointArgs;\n\n                if (points.length > 0 && !this.trigger(SERIES_HOVER, hoverArgs)) {\n                    if (tooltipOptions.visible) {\n                        tooltip.showAt(points, coords);\n                    }\n\n                    highlight.show(points);\n\n                    this._sharedHighlight = true;\n                } else {\n                    tooltip.hide();\n                }\n\n                this._tooltipCategoryIx = index;\n            } else if (toggle && this._sharedHighlight) {\n                highlight.hide();\n                tooltip.hide();\n                this._sharedHighlight = false;\n            }\n        } else if (this._sharedHighlight) {\n            highlight.hide();\n            tooltip.hide();\n            this._tooltipCategoryIx = null;\n            this._sharedHighlight = false;\n        }\n    };\n\n    Chart.prototype.hideElements = function hideElements (options) {\n        var plotArea = this._plotArea;\n        this._mousemove.cancel();\n\n        plotArea.hideCrosshairs();\n\n        this._unsetActivePoint(options);\n    };\n\n    Chart.prototype._unsetActivePoint = function _unsetActivePoint (options) {\n        var ref = this;\n        var highlight = ref._highlight;\n\n        this._activePoint = null;\n        this._hoveredPoint = null;\n\n        if (!options || !options.keepTooltipOpen) {\n            this._hideTooltip();\n        }\n\n        this._tooltipCategoryIx = null;\n        this._sharedHighlight = false;\n\n        if (highlight) {\n            highlight.hide();\n        }\n    };\n\n    Chart.prototype._deferRedraw = function _deferRedraw () {\n        this._redraw();\n    };\n\n    Chart.prototype._clearRedrawTimeout = function _clearRedrawTimeout () {\n        if (this._redrawTimeout) {\n            clearInterval(this._redrawTimeout);\n            this._redrawTimeout = null;\n        }\n    };\n\n    Chart.prototype.bindCategories = function bindCategories () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var definitions = [].concat(options.categoryAxis);\n\n        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {\n            var axis = definitions[axisIx];\n            if (axis.autoBind !== false) {\n                this$1$1.bindCategoryAxisFromSeries(axis, axisIx);\n            }\n        }\n    };\n\n    Chart.prototype.bindCategoryAxisFromSeries = function bindCategoryAxisFromSeries (axis, axisIx) {\n        var this$1$1 = this;\n\n        var uniqueCategories = new Set();\n        var seriesOnAxis = this.options.series.filter(function (series) { return series.categoryAxis === axis.name || (!series.categoryAxis && axisIx === 0); });\n        var hasCategoryBinding = seriesOnAxis.some(function (series) { return Boolean(series.categoryField); });\n        var seriesWithData = seriesOnAxis.filter(function (series) { return series.data && series.data.length > 0; });\n        var categorySamples = seriesWithData.map(function (series) { return SeriesBinder.current.bindPoint(series, 0).fields.category; });\n        var dateAxis = categorySamples.reduce(function (result, firstCategory) { return result || isDateAxis(axis, firstCategory); }, false);\n        var seriesWithBinding = seriesWithData.filter(function (series, seriesIx) { return series.categoryField || defined(categorySamples[seriesIx]); });\n\n        seriesWithBinding.forEach(function (series) { return series.data.forEach(function (row, index) {\n            var category = SeriesBinder.current.bindPoint(series, index).fields.category;\n            if (dateAxis) {\n                var date = parseDateCategory(category, row, this$1$1.chartService.intl);\n                category = date ? date.getTime() : undefined;\n            }\n\n            uniqueCategories.add(category);\n        }); });\n\n        if (uniqueCategories.size > 0) {\n            var categories = Array.from(uniqueCategories.values());\n            if (dateAxis) {\n                categories = categories.sort().map(function (time) { return time && new Date(time); });\n            }\n\n            axis.categories = categories;\n        } else if (hasCategoryBinding) {\n            axis.categories = [];\n        }\n    };\n\n    Chart.prototype._isBindable = function _isBindable (series) {\n        var valueFields = SeriesBinder.current.valueFields(series);\n        var result = true;\n\n        for (var i = 0; i < valueFields.length; i++) {\n            var field = valueFields[i];\n            if (field === VALUE) {\n                field = \"field\";\n            } else {\n                field = field + \"Field\";\n            }\n\n            if (!defined(series[field])) {\n                result = false;\n                break;\n            }\n        }\n\n        return result;\n    };\n\n    Chart.prototype._noTransitionsRedraw = function _noTransitionsRedraw () {\n        var options = this.options;\n        var transitionsState;\n\n        if (options.transitions !== false) {\n            options.transitions = false;\n            transitionsState = true;\n        }\n\n        this._redraw();\n\n        if (transitionsState) {\n            options.transitions = true;\n        }\n    };\n\n    Chart.prototype._legendItemHover = function _legendItemHover (seriesIndex, pointIndex) {\n        this._showSeriesInactiveOpacity(seriesIndex, pointIndex);\n    };\n\n    Chart.prototype._showSeriesInactiveOpacity = function _showSeriesInactiveOpacity (seriesIndex, pointIndex) {\n        var ref = this;\n        var plotArea = ref._plotArea;\n        var highlight = ref._highlight;\n        var currentSeries = (plotArea.srcSeries || plotArea.series)[seriesIndex];\n        var items;\n\n        if (inArray(currentSeries.type, [ PIE, DONUT, FUNNEL, PYRAMID ])) {\n            items = plotArea.findPoint(function(point) {\n                return point.series.index === seriesIndex && point.index === pointIndex;\n            });\n        } else {\n            items = plotArea.pointsBySeriesIndex(seriesIndex);\n        }\n\n        if (this._hasInactiveOpacity() && currentSeries.visible && items) {\n            var multipleSeries = plotArea.series.length > 1;\n            var point = items.length ? items[0] : items;\n\n            this._displayInactiveOpacity(point, multipleSeries, items);\n        } else {\n            highlight.show(items);\n        }\n    };\n\n    Chart.prototype._shouldAttachMouseMove = function _shouldAttachMouseMove () {\n        return this._plotArea.crosshairs.length || (this._tooltip && this._sharedTooltip()) || this.requiresHandlers([ PLOT_AREA_HOVER, PLOT_AREA_LEAVE ]);\n    };\n\n    Chart.prototype.updateMouseMoveHandler = function updateMouseMoveHandler () {\n        var obj, obj$1;\n\n        unbindEvents(this.element, ( obj = {}, obj[ MOUSEMOVE ] = this._mousemove, obj ));\n\n        if (this._shouldAttachMouseMove()) {\n            bindEvents(this.element, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mousemove, obj$1 ));\n        }\n    };\n\n    Chart.prototype.applyOptions = function applyOptions (options, theme) {\n        clearMissingValues(this._originalOptions, options);\n        this._originalOptions = deepExtend(this._originalOptions, options);\n        this.options = deepExtend({}, this._originalOptions);\n\n        if (theme) {\n            this._theme = theme;\n            this.chartService.theme = theme;\n        }\n        this._initTheme(this.options, this._theme);\n\n        this._toggleDragZoomEvents();\n    };\n\n    Chart.prototype.setOptions = function setOptions (options, theme) {\n        this.applyOptions(options, theme);\n        this.bindCategories();\n        this.redraw();\n        this.updateMouseMoveHandler();\n        this._restoreOverlayElement();\n    };\n\n    Chart.prototype.setDirection = function setDirection (rtl) {\n        this.chartService.rtl = Boolean(rtl);\n        if (this.surface && this.surface.type === 'svg') {\n            this._destroySurface();\n        }\n    };\n\n    Chart.prototype.setIntlService = function setIntlService (intl) {\n        this.chartService.intl = intl;\n    };\n\n    Chart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {\n        this._noTransitionsRedraw();\n    };\n\n    Chart.prototype.destroy = function destroy () {\n        var obj, obj$1;\n\n        this._destroyed = true;\n\n        unbindEvents(this.element, ( obj = {}, obj[ CONTEXTMENU ] = this._clickHandler, obj[ MOUSEWHEEL$1 ] = this._mousewheelHandler, obj[ MOUSEMOVE ] = this._mousemove, obj[ MOUSELEAVE ] = this._mouseleaveHandler, obj[ KEYDOWN ] = this._keydownHandler, obj[ FOCUS ] = this._focusHandler, obj[ BLUR] = this._blurHandler, obj ));\n\n        if (this.domEvents) {\n            this.domEvents.destroy();\n            delete this.domEvents;\n        }\n\n        if (this._mouseMoveTrackHandler) {\n            unbindEvents(document, ( obj$1 = {}, obj$1[ MOUSEMOVE ] = this._mouseMoveTrackHandler, obj$1 ));\n        }\n\n        this._focusState = null;\n\n        this._destroyView();\n\n        this._destroySurface();\n\n        this._clearRedrawTimeout();\n    };\n\n    Chart.prototype._destroySurface = function _destroySurface () {\n        var surface = this.surface;\n        if (surface) {\n            surface.unbind(\"mouseenter\", this._surfaceMouseenterHandler);\n            surface.unbind(\"mouseleave\", this._surfaceMouseleaveHandler);\n            surface.destroy();\n\n            this.surface = null;\n        }\n    };\n\n    Chart.prototype._destroySelections = function _destroySelections () {\n        var selections = this._selections;\n\n        if (selections) {\n            while (selections.length > 0) {\n                selections.shift().destroy();\n            }\n        }\n    };\n\n    Chart.prototype._destroyView = function _destroyView () {\n        var model = this._model;\n\n        if (model) {\n            model.destroy();\n            this._model = null;\n        }\n\n        this._unsetActivePoint();\n        this._clearFocusedElement();\n        this._resetDrilldownPoint();\n        this._destroySelections();\n\n        if (this._tooltip) {\n            this._tooltip.destroy();\n        }\n\n        if (this._highlight) {\n            this._highlight.destroy();\n        }\n\n        if (this._zoomSelection) {\n            this._zoomSelection.destroy();\n            delete this._zoomSelection;\n        }\n\n        if (this._pannable) {\n            this._pannable.destroy();\n            delete this._pannable;\n        }\n\n        if (this._mousewheelZoom) {\n            this._mousewheelZoom.destroy();\n            delete this._mousewheelZoom;\n        }\n    };\n\n    return Chart;\n}(Class));\n\nfunction resolveAxisAliases(options) {\n    var aliases = AXIS_NAMES;\n\n    for (var idx = 0; idx < aliases.length; idx++) {\n        var alias = aliases[idx] + \"Axes\";\n        if (options[alias]) {\n            options[aliases[idx] + \"Axis\"] = options[alias];\n            delete options[alias];\n        }\n    }\n}\n\nfunction pointByCategoryName(points, name) {\n    if (points) {\n        for (var idx = 0; idx < points.length; idx++) {\n            if (points[idx].category === name) {\n                return [ points[idx] ];\n            }\n        }\n    }\n}\n\nfunction applyAxisDefaults(options, themeOptions) {\n    var themeAxisDefaults = ((themeOptions || {}).axisDefaults) || {};\n    var axisName, axisDefaults, axes;\n\n    function mapAxisOptions(axisOptions) {\n        var axisColor = (axisOptions || {}).color || axisDefaults.color;\n        var result = deepExtend({},\n            themeAxisDefaults,\n            themeAxisDefaults[axisName],\n            axisDefaults,\n            axisDefaults[axisName], {\n                line: { color: axisColor },\n                labels: { color: axisColor },\n                title: { color: axisColor }\n            },\n            axisOptions\n        );\n\n        delete result[axisName];\n\n        return result;\n    }\n\n    for (var idx = 0; idx < AXIS_NAMES.length; idx++) {\n        axisName = AXIS_NAMES[idx] + \"Axis\";\n        axisDefaults = options.axisDefaults || {};\n        axes = [].concat(options[axisName]);\n\n        axes = axes.map(mapAxisOptions);\n\n        options[axisName] = axes.length > 1 ? axes : axes[0];\n    }\n}\n\nfunction applySeriesDefaults(options, themeOptions) {\n    var series = options.series;\n    var seriesLength = series.length;\n    var seriesDefaults = options.seriesDefaults;\n    var commonDefaults = deepExtend({}, options.seriesDefaults);\n    var themeSeriesDefaults = themeOptions ? deepExtend({}, themeOptions.seriesDefaults) : {};\n    var commonThemeDefaults = deepExtend({}, themeSeriesDefaults);\n\n    cleanupNestedSeriesDefaults(commonDefaults);\n    cleanupNestedSeriesDefaults(commonThemeDefaults);\n\n    for (var i = 0; i < seriesLength; i++) {\n        var seriesType = series[i].type || options.seriesDefaults.type;\n\n        var baseOptions = deepExtend(\n            { data: [] },\n            commonThemeDefaults,\n            themeSeriesDefaults[seriesType],\n            { tooltip: options.tooltip },\n            commonDefaults,\n            seriesDefaults[seriesType]\n        );\n\n        series[i]._defaults = baseOptions;\n        series[i] = deepExtend({}, baseOptions, series[i]);\n        series[i].data = series[i].data || [];\n    }\n}\n\nfunction cleanupNestedSeriesDefaults(seriesDefaults) {\n    delete seriesDefaults.bar;\n    delete seriesDefaults.column;\n    delete seriesDefaults.rangeColumn;\n    delete seriesDefaults.line;\n    delete seriesDefaults.verticalLine;\n    delete seriesDefaults.pie;\n    delete seriesDefaults.donut;\n    delete seriesDefaults.area;\n    delete seriesDefaults.verticalArea;\n    delete seriesDefaults.scatter;\n    delete seriesDefaults.scatterLine;\n    delete seriesDefaults.bubble;\n    delete seriesDefaults.candlestick;\n    delete seriesDefaults.ohlc;\n    delete seriesDefaults.boxPlot;\n    delete seriesDefaults.bullet;\n    delete seriesDefaults.verticalBullet;\n    delete seriesDefaults.polarArea;\n    delete seriesDefaults.polarLine;\n    delete seriesDefaults.radarArea;\n    delete seriesDefaults.radarLine;\n    delete seriesDefaults.waterfall;\n}\n\n\nfunction axisRanges(axes) {\n    var ranges = {};\n\n    for (var i = 0; i < axes.length; i++) {\n        var axis = axes[i];\n        var axisName = axis.options.name;\n        if (axisName) {\n            ranges[axisName] = axis.range();\n        }\n    }\n\n    return ranges;\n}\n\nvar DATA_FIELDS = [ 'data', 'categories' ];\n\nfunction clearMissingValues(originalOptions, options) {\n    for (var field in options) {\n        if (!inArray(field, DATA_FIELDS) && hasOwnProperty(options, field)) {\n            var fieldValue = options[field];\n            var originalValue = originalOptions[field];\n            if (defined(originalValue)) {\n                var nullValue = fieldValue === null;\n                if ((nullValue || !defined(fieldValue))) {\n                    delete originalOptions[field];\n                    if (nullValue) {\n                        delete options[field];\n                    }\n                } else if (originalValue && isObject(fieldValue)) {\n                    if (isObject(originalValue)) {\n                        clearMissingValues(originalValue, fieldValue);\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction triggerPaneRender(panes) {\n    for (var idx = 0; idx < panes.length; idx++) {\n        panes[idx].notifyRender();\n    }\n}\n\nsetDefaultOptions(Chart, {\n    renderAs: \"\",\n    chartArea: {},\n    legend: {\n        visible: true,\n        labels: {},\n        accessibility: {\n            highlight: {\n                border: {\n                    opacity: 1,\n                    color: BLACK$1,\n                    width: 2\n                }\n            }\n        }\n    },\n    categoryAxis: {},\n    seriesDefaults: {\n        type: COLUMN,\n        data: [],\n        highlight: {\n            visible: true\n        },\n        labels: {},\n        negativeValues: {\n            visible: false\n        },\n        accessibility: {\n            highlight: {\n                border: {\n                    opacity: 1,\n                    width: 2\n                },\n                zIndex: 200\n            }\n        }\n    },\n    series: [],\n    seriesColors: null,\n    tooltip: {\n        visible: false\n    },\n    transitions: true,\n    valueAxis: {},\n    plotArea: {},\n    title: {},\n    xAxis: {},\n    yAxis: {},\n    panes: [ {} ],\n    pannable: false,\n    zoomable: false\n});\n\nvar TOP_OFFSET = -2;\n\nvar SharedTooltip = (function (ChartSharedTooltip) {\n    function SharedTooltip () {\n        ChartSharedTooltip.apply(this, arguments);\n    }\n\n    if ( ChartSharedTooltip ) SharedTooltip.__proto__ = ChartSharedTooltip;\n    SharedTooltip.prototype = Object.create( ChartSharedTooltip && ChartSharedTooltip.prototype );\n    SharedTooltip.prototype.constructor = SharedTooltip;\n\n    SharedTooltip.prototype._slotAnchor = function _slotAnchor (coords, slot) {\n        var axis = this.plotArea.categoryAxis;\n        var vertical = axis.options.vertical;\n        var align = vertical ? {\n            horizontal: \"left\",\n            vertical: \"center\"\n        } : {\n            horizontal: \"center\",\n            vertical: \"bottom\"\n        };\n\n        var point;\n\n        if (vertical) {\n            point = new Point$5(this.plotArea.box.x2, slot.center().y);\n        } else {\n            point = new Point$5(slot.center().x, TOP_OFFSET);\n        }\n\n        return {\n            point: point,\n            align: align\n        };\n    };\n\n    SharedTooltip.prototype._defaultAnchor = function _defaultAnchor (point, slot) {\n        return this._slotAnchor({}, slot);\n    };\n\n    return SharedTooltip;\n}(SharedTooltip$1));\n\nvar DEAULT_BAR_WIDTH = 150;\nvar DEAULT_BULLET_WIDTH = 150;\nvar NO_CROSSHAIR = [ BAR, BULLET ];\n\nfunction hide(children) {\n    var state = [];\n    for (var idx = 0; idx < children.length; idx++) {\n        var child = children[idx];\n        state[idx] = child.style.display;\n        child.style.display = \"none\";\n    }\n\n    return state;\n}\n\nfunction show(children, state) {\n    for (var idx = 0; idx < children.length; idx++) {\n        children[idx].style.display = state[idx];\n    }\n}\n\nfunction wrapNumber(value) {\n    return isNumber(value) ? [ value ] : value;\n}\n\nvar Sparkline = (function (Chart) {\n    function Sparkline () {\n        Chart.apply(this, arguments);\n    }\n\n    if ( Chart ) Sparkline.__proto__ = Chart;\n    Sparkline.prototype = Object.create( Chart && Chart.prototype );\n    Sparkline.prototype.constructor = Sparkline;\n\n    Sparkline.prototype._setElementClass = function _setElementClass (element) {\n        addClass(element, 'k-sparkline');\n    };\n\n    Sparkline.prototype._initElement = function _initElement (element) {\n        Chart.prototype._initElement.call(this, element);\n\n        this._initialWidth = Math.floor(elementSize(element).width);\n    };\n\n    Sparkline.prototype._resize = function _resize () {\n        var element = this.element;\n        var state = hide(element.childNodes);\n\n        this._initialWidth = Math.floor(elementSize(element).width);\n\n        show(element.childNodes, state);\n\n        Chart.prototype._resize.call(this);\n    };\n\n    Sparkline.prototype._modelOptions = function _modelOptions () {\n        var chartOptions = this.options;\n        var stage = this._surfaceWrap();\n        var displayState = hide(stage.childNodes);\n\n        var space = document.createElement('span');\n        space.innerHTML = '&nbsp;';\n\n        stage.appendChild(space);\n\n        var options = deepExtend({\n            width: this._autoWidth,\n            height: elementSize(stage).height,\n            transitions: chartOptions.transitions\n        }, chartOptions.chartArea, {\n            inline: true,\n            align: false\n        });\n\n        elementSize(stage, {\n            width: options.width,\n            height: options.height\n        });\n\n        stage.removeChild(space);\n\n        show(stage.childNodes, displayState);\n\n        if (this.surface) {\n            this.surface.resize();\n        }\n\n        return options;\n    };\n\n    Sparkline.prototype._surfaceWrap = function _surfaceWrap () {\n        if (!this.stage) {\n            var stage = this.stage = document.createElement('span');\n            this.element.appendChild(stage);\n        }\n        return this.stage;\n    };\n\n    Sparkline.prototype._createPlotArea = function _createPlotArea (skipSeries) {\n        var plotArea = Chart.prototype._createPlotArea.call(this, skipSeries);\n        this._autoWidth = this._initialWidth || this._calculateWidth(plotArea);\n\n        return plotArea;\n    };\n\n    Sparkline.prototype._calculateWidth = function _calculateWidth (plotArea) {\n        var options = this.options;\n        var margin = getSpacing(options.chartArea.margin);\n        var charts = plotArea.charts;\n        var stage = this._surfaceWrap();\n        var total = 0;\n\n\n        for (var i = 0; i < charts.length; i++) {\n            var currentChart = charts[i];\n            var firstSeries = (currentChart.options.series || [])[0];\n            if (!firstSeries) {\n                continue;\n            }\n\n            if (firstSeries.type === BAR) {\n                return DEAULT_BAR_WIDTH;\n            }\n\n            if (firstSeries.type === BULLET) {\n                return DEAULT_BULLET_WIDTH;\n            }\n\n            if (firstSeries.type === PIE) {\n                return elementSize(stage).height;\n            }\n\n            var categoryAxis = currentChart.categoryAxis;\n            if (categoryAxis) {\n                var pointsCount = categoryAxis.categoriesCount() *\n                    (!currentChart.options.isStacked && inArray(firstSeries.type, [ COLUMN, VERTICAL_BULLET ]) ? currentChart.seriesOptions.length : 1);\n\n                total = Math.max(total, pointsCount);\n            }\n        }\n\n        var size = total * options.pointWidth;\n        if (size > 0) {\n            size += margin.left + margin.right;\n        }\n\n        return size;\n    };\n\n    Sparkline.prototype._createSharedTooltip = function _createSharedTooltip (options) {\n        return new SharedTooltip(this._plotArea, options);\n    };\n\n    Sparkline.normalizeOptions = function normalizeOptions (userOptions) {\n        var options = wrapNumber(userOptions);\n\n        if (isArray(options)) {\n            options = { seriesDefaults: { data: options } };\n        } else {\n            options = deepExtend({}, options);\n        }\n\n        if (!options.series) {\n            options.series = [ { data: wrapNumber(options.data) } ];\n        }\n\n        deepExtend(options, {\n            seriesDefaults: {\n                type: options.type\n            }\n        });\n\n        if (inArray(options.series[0].type, NO_CROSSHAIR) ||\n            inArray(options.seriesDefaults.type, NO_CROSSHAIR)) {\n            options = deepExtend({}, {\n                categoryAxis: {\n                    crosshair: {\n                        visible: false\n                    }\n                }\n            }, options);\n        }\n\n        return options;\n    };\n\n    return Sparkline;\n}(Chart));\n\nsetDefaultOptions(Sparkline, {\n    chartArea: {\n        margin: 2\n    },\n    axisDefaults: {\n        visible: false,\n        majorGridLines: {\n            visible: false\n        },\n        valueAxis: {\n            narrowRange: true\n        }\n    },\n    seriesDefaults: {\n        type: \"line\",\n        area: {\n            line: {\n                width: 0.5\n            }\n        },\n        bar: {\n            stack: true\n        },\n        padding: 2,\n        width: 0.5,\n        overlay: {\n            gradient: null\n        },\n        highlight: {\n            visible: false\n        },\n        border: {\n            width: 0\n        },\n        markers: {\n            size: 2,\n            visible: false\n        }\n    },\n    tooltip: {\n        visible: true,\n        shared: true\n    },\n    categoryAxis: {\n        crosshair: {\n            visible: true,\n            tooltip: {\n                visible: false\n            }\n        }\n    },\n    legend: {\n        visible: false\n    },\n    transitions: false,\n\n    pointWidth: 5,\n\n    panes: [ { clip: false } ]\n});\n\nvar FadeOutAnimation = (function (superclass) {\n    function FadeOutAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) FadeOutAnimation.__proto__ = superclass;\n    FadeOutAnimation.prototype = Object.create( superclass && superclass.prototype );\n    FadeOutAnimation.prototype.constructor = FadeOutAnimation;\n\n    FadeOutAnimation.prototype.setup = function setup () {\n        this._initialOpacity = parseFloat(elementStyles(this.element, 'opacity').opacity);\n    };\n\n    FadeOutAnimation.prototype.step = function step (pos) {\n        elementStyles(this.element, {\n            opacity: String(interpolateValue(this._initialOpacity, 0, pos))\n        });\n    };\n\n    FadeOutAnimation.prototype.abort = function abort () {\n        superclass.prototype.abort.call(this);\n        elementStyles(this.element, {\n            display: 'none',\n            opacity: String(this._initialOpacity)\n        });\n    };\n\n    FadeOutAnimation.prototype.cancel = function cancel () {\n        superclass.prototype.abort.call(this);\n        elementStyles(this.element, {\n            opacity: String(this._initialOpacity)\n        });\n    };\n\n    return FadeOutAnimation;\n}(Animation$1));\n\nfunction createDiv(className, style) {\n    var div = document.createElement(\"div\");\n    div.className = className;\n    if (style) {\n        div.style.cssText = style;\n    }\n\n    return div;\n}\n\nvar NavigatorHint = (function (Class) {\n    function NavigatorHint(container, chartService, options) {\n        Class.call(this);\n\n        this.options = deepExtend({}, this.options, options);\n        this.container = container;\n        this.chartService = chartService;\n\n        var padding = elementStyles(container, [ \"paddingLeft\", \"paddingTop\" ]);\n        this.chartPadding = {\n            top: padding.paddingTop,\n            left: padding.paddingLeft\n        };\n\n        this.createElements();\n        container.appendChild(this.element);\n    }\n\n    if ( Class ) NavigatorHint.__proto__ = Class;\n    NavigatorHint.prototype = Object.create( Class && Class.prototype );\n    NavigatorHint.prototype.constructor = NavigatorHint;\n\n    NavigatorHint.prototype.createElements = function createElements () {\n        var element = this.element = createDiv('k-navigator-hint', 'display: none; position: absolute; top: 1px; left: 1px;');\n        var tooltip = this.tooltip = createDiv('k-tooltip k-chart-tooltip');\n        var scroll = this.scroll = createDiv('k-scroll');\n\n        tooltip.innerHTML = '&nbsp;';\n\n        element.appendChild(tooltip);\n        element.appendChild(scroll);\n    };\n\n    NavigatorHint.prototype.show = function show (from, to, bbox) {\n        var ref = this;\n        var element = ref.element;\n        var options = ref.options;\n        var scroll = ref.scroll;\n        var tooltip = ref.tooltip;\n        var middle = toDate(toTime(from) + toTime(to - from) / 2);\n        var scrollWidth = bbox.width() * 0.4;\n        var minPos = bbox.center().x - scrollWidth;\n        var maxPos = bbox.center().x;\n        var posRange = maxPos - minPos;\n        var range = options.max - options.min;\n        var scale = posRange / range;\n        var offset = middle - options.min;\n        var text = this.chartService.intl.format(options.format, from, to);\n        var template = getTemplate$1(options);\n\n        this.clearHideTimeout();\n\n        if (!this._visible) {\n            elementStyles(element, {\n                visibility: 'hidden',\n                display: 'block'\n            });\n            this._visible = true;\n        }\n\n        if (template) {\n            text = template({\n                from: from,\n                to: to\n            });\n        }\n\n        tooltip.innerHTML = text;\n        elementStyles(tooltip, {\n            left: bbox.center().x - tooltip.offsetWidth / 2,\n            top: bbox.y1\n        });\n\n        var tooltipStyle = elementStyles(tooltip, [ 'marginTop', 'borderTopWidth', 'height' ]);\n\n        elementStyles(scroll, {\n            width: scrollWidth,\n            left: minPos + offset * scale,\n            top: bbox.y1 + tooltipStyle.marginTop + tooltipStyle.borderTopWidth + tooltipStyle.height / 2\n        });\n\n        elementStyles(element, {\n            visibility: 'visible'\n        });\n    };\n\n    NavigatorHint.prototype.clearHideTimeout = function clearHideTimeout () {\n        if (this._hideTimeout) {\n            clearTimeout(this._hideTimeout);\n        }\n\n        if (this._hideAnimation) {\n            this._hideAnimation.cancel();\n        }\n    };\n\n    NavigatorHint.prototype.hide = function hide () {\n        var this$1$1 = this;\n\n        this.clearHideTimeout();\n\n        this._hideTimeout = setTimeout(function () {\n            this$1$1._visible = false;\n            this$1$1._hideAnimation = new FadeOutAnimation(this$1$1.element);\n            this$1$1._hideAnimation.setup();\n            this$1$1._hideAnimation.play();\n        }, this.options.hideDelay);\n    };\n\n    NavigatorHint.prototype.destroy = function destroy () {\n        this.clearHideTimeout();\n        if (this.container) {\n            this.container.removeChild(this.element);\n        }\n        delete this.container;\n        delete this.chartService;\n        delete this.element;\n        delete this.tooltip;\n        delete this.scroll;\n    };\n\n    return NavigatorHint;\n}(Class));\n\nsetDefaultOptions(NavigatorHint, {\n    format: \"{0:d} - {1:d}\",\n    hideDelay: 500\n});\n\nvar NAVIGATOR_PANE = \"_navigator\";\nvar NAVIGATOR_AXIS = NAVIGATOR_PANE;\nvar DEFAULT_PANE = \"_default\";\n\nvar constants = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    DEFAULT_PANE: DEFAULT_PANE,\n    NAVIGATOR_AXIS: NAVIGATOR_AXIS,\n    NAVIGATOR_PANE: NAVIGATOR_PANE\n});\n\nvar ZOOM_ACCELERATION = 3;\n\nvar Navigator$1 = (function (Class) {\n    function Navigator(chart) {\n        var obj;\n\n        Class.call(this);\n\n        this.chart = chart;\n        var options = this.options = deepExtend({}, this.options, chart.options.navigator);\n        var select = options.select;\n        if (select) {\n            select.from = this.parseDate(select.from);\n            select.to = this.parseDate(select.to);\n        }\n\n        if (!defined(options.hint.visible)) {\n            options.hint.visible = options.visible;\n        }\n\n        this.chartObserver = new InstanceObserver(this, ( obj = {}, obj[DRAG] = '_drag', obj[DRAG_END] = '_dragEnd', obj[ZOOM] = '_zoom', obj[ZOOM_END] = '_zoomEnd', obj ));\n        chart.addObserver(this.chartObserver);\n    }\n\n    if ( Class ) Navigator.__proto__ = Class;\n    Navigator.prototype = Object.create( Class && Class.prototype );\n    Navigator.prototype.constructor = Navigator;\n\n    Navigator.prototype.parseDate = function parseDate$1 (value) {\n        return parseDate(this.chart.chartService.intl, value);\n    };\n\n    Navigator.prototype.clean = function clean () {\n        if (this.selection) {\n            this.selection.destroy();\n            this.selection = null;\n        }\n\n        if (this.hint) {\n            this.hint.destroy();\n            this.hint = null;\n        }\n    };\n\n    Navigator.prototype.destroy = function destroy () {\n        if (this.chart) {\n            this.chart.removeObserver(this.chartObserver);\n            delete this.chart;\n        }\n\n        this.clean();\n    };\n\n    Navigator.prototype.redraw = function redraw () {\n        this._redrawSelf();\n        this.initSelection();\n    };\n\n    Navigator.prototype.initSelection = function initSelection () {\n        var ref = this;\n        var chart = ref.chart;\n        var options = ref.options;\n        var axis = this.mainAxis();\n        var ref$1 = axis.roundedRange();\n        var min = ref$1.min;\n        var max = ref$1.max;\n        var ref$2 = options.select;\n        var from = ref$2.from;\n        var to = ref$2.to;\n        var mousewheel = ref$2.mousewheel;\n        var axisClone = clone(axis);\n\n        if (axis.categoriesCount() === 0) {\n            return;\n        }\n\n        this.clean();\n\n        // \"Freeze\" the selection axis position until the next redraw\n        axisClone.box = axis.box;\n\n        this.selection = new Selection(chart, axisClone, {\n            min: min,\n            max: max,\n            from: from || min,\n            to: to || max,\n            mousewheel: valueOrDefault(mousewheel, { zoom: \"left\" }),\n            visible: options.visible\n        }, new InstanceObserver(this, {\n            selectStart: '_selectStart',\n            select: '_select',\n            selectEnd: '_selectEnd'\n        }));\n\n        if (options.hint.visible) {\n            this.hint = new NavigatorHint(chart.element, chart.chartService, {\n                min: min,\n                max: max,\n                template: getTemplate$1(options.hint),\n                format: options.hint.format\n            });\n        }\n    };\n\n    Navigator.prototype.setRange = function setRange () {\n        var plotArea = this.chart._createPlotArea(true);\n        var axis = plotArea.namedCategoryAxes[NAVIGATOR_AXIS];\n\n        var ref = axis.roundedRange();\n        var min = ref.min;\n        var max = ref.max;\n\n        var select = this.options.select || {};\n        var from = select.from || min;\n        if (from < min) {\n            from = min;\n        }\n\n        var to = select.to || max;\n        if (to > max) {\n            to = max;\n        }\n\n        this.options.select = deepExtend({}, select, {\n            from: from,\n            to: to\n        });\n\n        this.filterAxes();\n    };\n\n    Navigator.prototype._redrawSelf = function _redrawSelf (silent) {\n        var plotArea = this.chart._plotArea;\n\n        if (plotArea) {\n            plotArea.redraw(last(plotArea.panes), silent);\n        }\n    };\n\n    Navigator.prototype.redrawSlaves = function redrawSlaves () {\n        var chart = this.chart;\n        var plotArea = chart._plotArea;\n        var slavePanes = plotArea.panes.filter(function (pane) { return pane.options.name !== NAVIGATOR_PANE; });\n\n        // Update the original series and categoryAxis before partial refresh.\n        plotArea.srcSeries = chart.options.series;\n        plotArea.options.categoryAxis = chart.options.categoryAxis;\n        plotArea.clearSeriesPointsCache();\n\n        plotArea.redraw(slavePanes);\n    };\n\n    Navigator.prototype._drag = function _drag (e) {\n        var ref = this;\n        var chart = ref.chart;\n        var selection = ref.selection;\n        var coords = chart._eventCoordinates(e.originalEvent);\n        var navigatorAxis = this.mainAxis();\n        var naviRange = navigatorAxis.roundedRange();\n        var inNavigator = navigatorAxis.pane.box.containsPoint(coords);\n        var axis = chart._plotArea.categoryAxis;\n        var range = e.axisRanges[axis.options.name];\n        var select = this.options.select;\n        var duration;\n\n        if (!range || inNavigator || !selection) {\n            return;\n        }\n\n        if (select.from && select.to) {\n            duration = toTime(select.to) - toTime(select.from);\n        } else {\n            duration = toTime(selection.options.to) - toTime(selection.options.from);\n        }\n\n        var from = toDate(limitValue(\n            toTime(range.min),\n            naviRange.min, toTime(naviRange.max) - duration\n        ));\n\n        var to = toDate(limitValue(\n            toTime(from) + duration,\n            toTime(naviRange.min) + duration, naviRange.max\n        ));\n\n        this.options.select = { from: from, to: to };\n\n        if (this.options.liveDrag) {\n            this.filterAxes();\n            this.redrawSlaves();\n        }\n\n        selection.set(from, to);\n\n        this.showHint(from, to);\n    };\n\n    Navigator.prototype._dragEnd = function _dragEnd () {\n        this.filterAxes();\n        this.filter();\n        this.redrawSlaves();\n\n        if (this.hint) {\n            this.hint.hide();\n        }\n    };\n\n    Navigator.prototype.readSelection = function readSelection () {\n        var ref = this;\n        var ref_selection_options = ref.selection.options;\n        var from = ref_selection_options.from;\n        var to = ref_selection_options.to;\n        var select = ref.options.select;\n\n        select.from = from;\n        select.to = to;\n    };\n\n    Navigator.prototype.filterAxes = function filterAxes () {\n        var ref = this;\n        var select = ref.options.select; if ( select === void 0 ) select = { };\n        var chart = ref.chart;\n        var allAxes = chart.options.categoryAxis;\n        var from = select.from;\n        var to = select.to;\n\n        for (var idx = 0; idx < allAxes.length; idx++) {\n            var axis = allAxes[idx];\n            if (axis.pane !== NAVIGATOR_PANE) {\n                axis.min = from;\n                axis.max = to;\n            }\n        }\n    };\n\n    Navigator.prototype.filter = function filter () {\n        var ref = this;\n        var chart = ref.chart;\n        var select = ref.options.select;\n\n        if (!chart.requiresHandlers([ \"navigatorFilter\" ])) {\n            return;\n        }\n\n        var mainAxis = this.mainAxis();\n        var args = {\n            from: select.from,\n            to: select.to\n        };\n\n        if (mainAxis.options.type !== 'category') {\n            var axisOptions = new DateCategoryAxis(deepExtend({\n                baseUnit: \"fit\"\n            }, chart.options.categoryAxis[0], {\n                categories: [ select.from, select.to ]\n            }), chart.chartService).options;\n\n            args.from = addDuration(axisOptions.min, -axisOptions.baseUnitStep, axisOptions.baseUnit);\n            args.to = addDuration(axisOptions.max, axisOptions.baseUnitStep, axisOptions.baseUnit);\n        }\n\n        this.chart.trigger(\"navigatorFilter\", args);\n    };\n\n    Navigator.prototype._zoom = function _zoom (e) {\n        var ref = this;\n        var axis = ref.chart._plotArea.categoryAxis;\n        var selection = ref.selection;\n        var ref_options = ref.options;\n        var select = ref_options.select;\n        var liveDrag = ref_options.liveDrag;\n        var mainAxis = this.mainAxis();\n        var delta = e.delta;\n\n        if (!selection) {\n            return;\n        }\n\n        var fromIx = mainAxis.categoryIndex(selection.options.from);\n        var toIx = mainAxis.categoryIndex(selection.options.to);\n        var coords = this.chart._eventCoordinates(e.originalEvent);\n\n        e.originalEvent.preventDefault();\n\n        if (Math.abs(delta) > 1) {\n            delta *= ZOOM_ACCELERATION;\n        }\n\n        if (toIx - fromIx > 1) {\n            selection.zoom(delta, coords);\n            this.readSelection();\n        } else {\n            axis.options.min = select.from;\n            select.from = axis.scaleRange(-e.delta * this.chart._mousewheelZoomRate(), coords).min;\n        }\n\n        if (liveDrag) {\n            this.filterAxes();\n            this.redrawSlaves();\n        }\n\n        selection.set(select.from, select.to);\n\n        this.showHint(this.options.select.from, this.options.select.to);\n    };\n\n    Navigator.prototype._zoomEnd = function _zoomEnd (e) {\n        this._dragEnd(e);\n    };\n\n    Navigator.prototype.showHint = function showHint (from, to) {\n        var plotArea = this.chart._plotArea;\n\n        if (this.hint) {\n            this.hint.show(from, to, plotArea.backgroundBox());\n        }\n    };\n\n    Navigator.prototype._selectStart = function _selectStart (e) {\n        return this.chart._selectStart(e);\n    };\n\n    Navigator.prototype._select = function _select (e) {\n        this.showHint(e.from, e.to);\n\n        return this.chart._select(e);\n    };\n\n    Navigator.prototype._selectEnd = function _selectEnd (e) {\n        if (this.hint) {\n            this.hint.hide();\n        }\n\n        this.readSelection();\n        this.filterAxes();\n        this.filter();\n        this.redrawSlaves();\n\n        return this.chart._selectEnd(e);\n    };\n\n    Navigator.prototype.mainAxis = function mainAxis () {\n        var plotArea = this.chart._plotArea;\n\n        if (plotArea) {\n            return plotArea.namedCategoryAxes[NAVIGATOR_AXIS];\n        }\n    };\n\n    Navigator.prototype.select = function select (from, to) {\n        var select = this.options.select;\n\n        if (from && to) {\n            select.from = this.parseDate(from);\n            select.to = this.parseDate(to);\n\n            this.filterAxes();\n            this.filter();\n            this.redrawSlaves();\n\n            this.selection.set(from, to);\n        }\n\n        return {\n            from: select.from,\n            to: select.to\n        };\n    };\n\n    Navigator.setup = function setup (options, themeOptions) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n\n        if (options.__navi) {\n            return;\n        }\n        options.__navi = true;\n\n        var naviOptions = deepExtend({}, themeOptions.navigator, options.navigator);\n        var panes = options.panes = [].concat(options.panes);\n        var paneOptions = deepExtend({}, naviOptions.pane, { name: NAVIGATOR_PANE });\n\n        if (!naviOptions.visible) {\n            paneOptions.visible = false;\n            paneOptions.height = 0.1;\n        }\n\n        if (options.navigator.position !== 'top') {\n            panes.push(paneOptions);\n        } else {\n            panes.unshift(paneOptions);\n        }\n\n        panes.forEach(function (pane) {\n            pane.name = pane.name || DEFAULT_PANE;\n        });\n\n        Navigator.attachAxes(options, naviOptions);\n        Navigator.attachSeries(options, naviOptions, themeOptions);\n    };\n\n    Navigator.attachAxes = function attachAxes (options, naviOptions) {\n        var series = naviOptions.series || [];\n        var categoryAxes = options.categoryAxis = [].concat(options.categoryAxis);\n        var valueAxes = options.valueAxis = [].concat(options.valueAxis);\n        var allAxes = categoryAxes.concat(valueAxes);\n        allAxes.forEach(function (axis) {\n            axis.pane = axis.pane || DEFAULT_PANE;\n        });\n\n        var equallySpacedSeries = filterSeriesByType(series, EQUALLY_SPACED_SERIES);\n        var justifyAxis = equallySpacedSeries.length === 0;\n\n        var base = deepExtend({\n            type: \"date\",\n            pane: NAVIGATOR_PANE,\n            roundToBaseUnit: !justifyAxis,\n            justified: justifyAxis,\n            _collapse: false,\n            majorTicks: { visible: true },\n            tooltip: { visible: false },\n            labels: { step: 1 },\n            autoBind: naviOptions.autoBindElements,\n            autoBaseUnitSteps: {\n                minutes: [ 1 ],\n                hours: [ 1, 2 ],\n                days: [ 1, 2 ],\n                weeks: [],\n                months: [ 1 ],\n                years: [ 1 ]\n            }\n        });\n        var user = naviOptions.categoryAxis;\n\n        categoryAxes.push(\n            deepExtend({}, base, {\n                maxDateGroups: 200\n            }, user, {\n                name: NAVIGATOR_AXIS,\n                title: null,\n                baseUnit: \"fit\",\n                baseUnitStep: \"auto\",\n                labels: { visible: false },\n                majorTicks: { visible: false }\n            }), deepExtend({}, base, user, {\n                name: NAVIGATOR_AXIS + \"_labels\",\n                maxDateGroups: 20,\n                baseUnitStep: \"auto\",\n                labels: { position: \"\" },\n                plotBands: [],\n                autoBaseUnitSteps: {\n                    minutes: []\n                },\n                _overlap: true\n            }), deepExtend({}, base, user, {\n                name: NAVIGATOR_AXIS + \"_ticks\",\n                maxDateGroups: 200,\n                majorTicks: {\n                    width: 0.5\n                },\n                plotBands: [],\n                title: null,\n                labels: { visible: false, mirror: true },\n                _overlap: true\n            })\n        );\n\n        valueAxes.push(deepExtend({\n            name: NAVIGATOR_AXIS,\n            pane: NAVIGATOR_PANE,\n            majorGridLines: {\n                visible: false\n            },\n            visible: false\n        }, naviOptions.valueAxis));\n    };\n\n    Navigator.attachSeries = function attachSeries (options, naviOptions, themeOptions) {\n        var series = options.series = options.series || [];\n        var navigatorSeries = [].concat(naviOptions.series || []);\n        var seriesColors = themeOptions.seriesColors;\n        var defaults = naviOptions.seriesDefaults;\n\n        for (var idx = 0; idx < navigatorSeries.length; idx++) {\n            series.push(\n                deepExtend({\n                    color: seriesColors[idx % seriesColors.length],\n                    categoryField: naviOptions.dateField,\n                    visibleInLegend: false,\n                    tooltip: {\n                        visible: false\n                    }\n                }, defaults, navigatorSeries[idx], {\n                    axis: NAVIGATOR_AXIS,\n                    categoryAxis: NAVIGATOR_AXIS,\n                    autoBind: naviOptions.autoBindElements\n                })\n            );\n        }\n    };\n\n    return Navigator;\n}(Class));\n\nfunction ClonedObject() { }\nfunction clone(obj) {\n    ClonedObject.prototype = obj;\n    return new ClonedObject();\n}\n\nvar AUTO_CATEGORY_WIDTH = 28;\n\nvar StockChart = (function (Chart) {\n    function StockChart () {\n        Chart.apply(this, arguments);\n    }\n\n    if ( Chart ) StockChart.__proto__ = Chart;\n    StockChart.prototype = Object.create( Chart && Chart.prototype );\n    StockChart.prototype.constructor = StockChart;\n\n    StockChart.prototype.applyDefaults = function applyDefaults (options, themeOptions) {\n        var width = elementSize(this.element).width || DEFAULT_WIDTH$1;\n        var theme = themeOptions;\n\n        var stockDefaults = {\n            seriesDefaults: {\n                categoryField: options.dateField\n            },\n            axisDefaults: {\n                categoryAxis: {\n                    name: \"default\",\n                    majorGridLines: {\n                        visible: false\n                    },\n                    labels: {\n                        step: 2\n                    },\n                    majorTicks: {\n                        visible: false\n                    },\n                    maxDateGroups: Math.floor(width / AUTO_CATEGORY_WIDTH)\n                }\n            }\n        };\n\n        if (theme) {\n            theme = deepExtend({}, theme, stockDefaults);\n        }\n\n        Navigator$1.setup(options, theme);\n\n        Chart.prototype.applyDefaults.call(this, options, theme);\n    };\n\n    StockChart.prototype._setElementClass = function _setElementClass (element) {\n        addClass(element, 'k-chart k-stockchart');\n    };\n\n    StockChart.prototype.setOptions = function setOptions (options) {\n        this.destroyNavigator();\n        Chart.prototype.setOptions.call(this, options);\n    };\n\n    StockChart.prototype.noTransitionsRedraw = function noTransitionsRedraw () {\n        var transitions = this.options.transitions;\n\n        this.options.transitions = false;\n        this._fullRedraw();\n        this.options.transitions = transitions;\n    };\n\n    StockChart.prototype._resize = function _resize () {\n        this.noTransitionsRedraw();\n    };\n\n    StockChart.prototype._redraw = function _redraw () {\n        var navigator = this.navigator;\n\n        if (!this._dirty() && navigator && navigator.options.partialRedraw) {\n            navigator.redrawSlaves();\n        } else {\n            this._fullRedraw();\n        }\n    };\n\n    StockChart.prototype._dirty = function _dirty () {\n        var options = this.options;\n        var series = [].concat(options.series, options.navigator.series);\n        var seriesCount = grep(series, function(s) { return s && s.visible; }).length;\n        var dirty = this._seriesCount !== seriesCount;\n        this._seriesCount = seriesCount;\n\n        return dirty;\n    };\n\n    StockChart.prototype._fullRedraw = function _fullRedraw () {\n        var navigator = this.navigator;\n\n        if (!navigator) {\n            navigator = this.navigator = new Navigator$1(this);\n            this.trigger(\"navigatorCreated\", { navigator: navigator });\n        }\n\n        navigator.clean();\n        navigator.setRange();\n\n        Chart.prototype._redraw.call(this);\n\n        navigator.initSelection();\n    };\n\n    StockChart.prototype._trackSharedTooltip = function _trackSharedTooltip (coords) {\n        var plotArea = this._plotArea;\n        var pane = plotArea.paneByPoint(coords);\n\n        if (pane && pane.options.name === NAVIGATOR_PANE) {\n            this._unsetActivePoint();\n        } else {\n            Chart.prototype._trackSharedTooltip.call(this, coords);\n        }\n    };\n\n    StockChart.prototype.bindCategories = function bindCategories () {\n        Chart.prototype.bindCategories.call(this);\n        this.copyNavigatorCategories();\n    };\n\n    StockChart.prototype.copyNavigatorCategories = function copyNavigatorCategories () {\n        var definitions = [].concat(this.options.categoryAxis);\n        var categories;\n\n        for (var axisIx = 0; axisIx < definitions.length; axisIx++) {\n            var axis = definitions[axisIx];\n            if (axis.name === NAVIGATOR_AXIS) {\n                categories = axis.categories;\n            } else if (categories && axis.pane === NAVIGATOR_PANE) {\n                axis.categories = categories;\n            }\n        }\n    };\n\n    StockChart.prototype.destroyNavigator = function destroyNavigator () {\n        if (this.navigator) {\n            this.navigator.destroy();\n            this.navigator = null;\n        }\n    };\n\n    StockChart.prototype.destroy = function destroy () {\n        this.destroyNavigator();\n        Chart.prototype.destroy.call(this);\n    };\n\n    StockChart.prototype._stopChartHandlers = function _stopChartHandlers (e) {\n        var coords = this._eventCoordinates(e);\n        var pane = this._plotArea.paneByPoint(coords);\n\n        return Chart.prototype._stopChartHandlers.call(this, e) || (pane && pane.options.name === NAVIGATOR_PANE);\n    };\n\n    StockChart.prototype._toggleDragZoomEvents = function _toggleDragZoomEvents () {\n        if (!this._dragZoomEnabled) {\n            this.element.style.touchAction = \"none\";\n\n            this._dragZoomEnabled = true;\n        }\n    };\n\n    return StockChart;\n}(Chart));\n\nsetDefaultOptions(StockChart, {\n    dateField: \"date\",\n    axisDefaults: {\n        categoryAxis: {\n            type: \"date\",\n            baseUnit: \"fit\",\n            justified: true\n        },\n        valueAxis: {\n            narrowRange: true,\n            labels: {\n                format: \"C\"\n            }\n        }\n    },\n    navigator: {\n        select: {},\n        seriesDefaults: {\n            markers: {\n                visible: false\n            },\n            tooltip: {\n                visible: false\n            },\n            highlight: {\n                visible: false\n            },\n            line: {\n                width: 2\n            }\n        },\n        hint: {},\n        visible: true\n    },\n    tooltip: {\n        visible: true\n    },\n    legend: {\n        visible: false\n    }\n});\n\nvar ANGULAR_SPEED = 150;\nvar LINEAR_SPEED = 250;\nvar ARROW = \"arrow\";\nvar ARROW_POINTER = \"arrowPointer\";\nvar BAR_POINTER = \"barPointer\";\nvar DEFAULT_HEIGHT = 200;\nvar DEFAULT_LINE_WIDTH = 0.5;\nvar DEFAULT_WIDTH = 200;\nvar DEGREE = Math.PI / 180;\nvar INSIDE$1 = \"inside\";\nvar LINEAR = \"linear\";\nvar OUTSIDE = \"outside\";\nvar RADIAL_POINTER = \"radialPointer\";\nvar RADIAL_RANGE_POINTER = \"radialRangePointer\";\n\nfunction pad(bbox, value) {\n    var origin = bbox.getOrigin();\n    var size = bbox.getSize();\n    var spacing = getSpacing(value);\n\n    bbox.setOrigin([ origin.x - spacing.left, origin.y - spacing.top ]);\n    bbox.setSize([ size.width + (spacing.left + spacing.right), size.height + (spacing.top + spacing.bottom) ]);\n\n    return bbox;\n}\n\nvar Group$7 = Group$8;\nvar Path$6 = Path$7;\nvar Text = Text$2;\n\nfunction buildLabelElement(label, options) {\n    var labelBox = label.box;\n    var textBox = label.children[0].box;\n    var border = options.border || {};\n    var background = options.background || \"\";\n\n    var wrapper = Path$6.fromRect(new Rect([ labelBox.x1, labelBox.y1 ], [ labelBox.width(), labelBox.height() ]), {\n        stroke: {}\n    });\n\n    var text = new Text(label.text, new Point$6(textBox.x1, textBox.y1), {\n        font: options.font,\n        fill: { color: options.color }\n    });\n\n    var styleGeometry = pad(text.bbox().clone(), options.padding);\n\n    var styleBox = Path$6.fromRect(styleGeometry, {\n        stroke: {\n            color: border.width ? border.color : \"\",\n            width: border.width,\n            opacity: border.opacity,\n            dashType: border.dashType,\n            lineJoin: \"round\",\n            lineCap: \"round\"\n        },\n        fill: {\n            color: background\n        }\n    });\n\n    var elements = new Group$7();\n    elements.append(wrapper);\n    elements.append(styleBox);\n    elements.append(text);\n\n    return elements;\n}\n\nfunction getRange(range, min, max) {\n    var from = defined(range.from) ? range.from : MIN_VALUE;\n    var to = defined(range.to) ? range.to : MAX_VALUE;\n\n    range.from = Math.max(Math.min(to, from), min);\n    range.to = Math.min(Math.max(to, from), max);\n\n    return range;\n}\n\nfunction unpad(bbox, value) {\n    var spacing = getSpacing(value);\n\n    spacing.left = -spacing.left; spacing.top = -spacing.top;\n    spacing.right = -spacing.right; spacing.bottom = -spacing.bottom;\n\n    return pad(bbox, spacing);\n}\n\nvar DEFAULT_MARGIN = 5;\nvar Path$5 = Path$7;\nvar Surface = Surface$1;\n\nvar Gauge = (function (Class) {\n    function Gauge(element, userOptions, theme, context) {\n        if ( context === void 0 ) context = {};\n\n        Class.call(this);\n\n        this.element = element;\n        this.theme = theme;\n        this.contextService = new ChartService(this, context);\n        this._originalOptions = deepExtend({}, this.options, userOptions);\n        this.options = deepExtend({}, this._originalOptions);\n        this._initTheme(theme);\n\n        this.redraw();\n    }\n\n    if ( Class ) Gauge.__proto__ = Class;\n    Gauge.prototype = Object.create( Class && Class.prototype );\n    Gauge.prototype.constructor = Gauge;\n\n    Gauge.prototype.destroy = function destroy () {\n        if (this.surface) {\n            this.surface.destroy();\n            this.surface = null;\n        }\n\n        delete this.element;\n        delete this.surfaceElement;\n    };\n\n    Gauge.prototype.value = function value (pointerValue) {\n        var pointer = this.pointers[0];\n\n        if (arguments.length === 0) {\n            return pointer.value();\n        }\n\n        pointer.value(pointerValue);\n        this._setValueOptions(pointerValue);\n    };\n\n    Gauge.prototype._draw = function _draw () {\n        var surface = this.surface;\n\n        surface.clear();\n        surface.draw(this._visuals);\n    };\n\n    Gauge.prototype.exportVisual = function exportVisual () {\n        return this._visuals;\n    };\n\n    Gauge.prototype.allValues = function allValues (values) {\n        var pointers = this.pointers;\n        var allValues = [];\n\n        if (arguments.length === 0) {\n            for (var i = 0; i < pointers.length; i++) {\n                allValues.push(pointers[i].value());\n            }\n\n            return allValues;\n        }\n\n        if (isArray(values)) {\n            for (var i$1 = 0; i$1 < values.length; i$1++) {\n                if (isNumber(values[i$1])) {\n                    pointers[i$1].value(values[i$1]);\n                }\n            }\n        }\n\n        this._setValueOptions(values);\n    };\n\n    Gauge.prototype._setValueOptions = function _setValueOptions (values) {\n        var pointers = [].concat(this.options.pointer);\n        var arrayValues = [].concat(values);\n\n        for (var i = 0; i < arrayValues.length; i++) {\n            pointers[i].value = arrayValues[i];\n        }\n    };\n\n    Gauge.prototype.resize = function resize () {\n        this.noTransitionsRedraw();\n    };\n\n    Gauge.prototype.noTransitionsRedraw = function noTransitionsRedraw () {\n        var transitions = this.options.transitions;\n\n        this._toggleTransitions(false);\n\n        this.redraw();\n\n        this._toggleTransitions(transitions);\n    };\n\n    Gauge.prototype.redraw = function redraw () {\n        var size = this._surfaceSize();\n        var wrapper = new Rect([ 0, 0 ], [ size.width, size.height ]);\n\n        this._initSurface();\n\n        this.gaugeArea = this._createGaugeArea();\n\n        this._createModel();\n\n        var bbox = unpad(wrapper.bbox(), this._gaugeAreaMargin);\n        this.reflow(bbox);\n    };\n\n    Gauge.prototype.setOptions = function setOptions (options, theme) {\n        this._originalOptions = deepExtend(this._originalOptions, options);\n        this.options = deepExtend({}, this._originalOptions);\n\n        this._initTheme(theme);\n\n        this.redraw();\n    };\n\n    Gauge.prototype.setDirection = function setDirection (rtl) {\n        this.contextService.rtl = Boolean(rtl);\n        if (this.surface && this.surface.type === 'svg') {\n            this.surface.destroy();\n            this.surface = null;\n        }\n    };\n\n    Gauge.prototype.setIntlService = function setIntlService (intl) {\n        this.contextService.intl = intl;\n    };\n\n    Gauge.prototype._initTheme = function _initTheme (theme) {\n        var currentTheme = theme || this.theme || {};\n        this.theme = currentTheme;\n\n        this.options = deepExtend({}, currentTheme, this.options);\n        var options = this.options;\n        var pointer = options.pointer;\n\n        if (isArray(pointer)) {\n            var pointers = [];\n            for (var i = 0; i < pointer.length; i++) {\n                pointers.push(deepExtend({}, currentTheme.pointer, pointer[i]));\n            }\n            options.pointer = pointers;\n        }\n    };\n\n    Gauge.prototype._createGaugeArea = function _createGaugeArea () {\n        var options = this.options.gaugeArea;\n        var size = this.surface.size();\n        var border = options.border || {};\n        var areaGeometry = new Rect([ 0, 0 ], [ size.width, size.height ]);\n\n        this._gaugeAreaMargin = options.margin || DEFAULT_MARGIN;\n\n        if (border.width > 0) {\n            areaGeometry = unpad(areaGeometry, border.width);\n        }\n\n        var gaugeArea = Path$5.fromRect(areaGeometry, {\n            stroke: {\n                color: border.width ? border.color : \"\",\n                width: border.width,\n                opacity: border.opacity,\n                dashType: border.dashType,\n                lineJoin: \"round\",\n                lineCap: \"round\"\n            },\n            fill: {\n                color: options.background\n            }\n        });\n\n        return gaugeArea;\n    };\n\n    Gauge.prototype._initSurface = function _initSurface () {\n        var ref = this;\n        var options = ref.options;\n        var surface = ref.surface;\n        var element = this._surfaceElement();\n        var size = this._surfaceSize();\n\n        elementSize(element, size);\n\n        if (!surface || surface.options.type !== options.renderAs) {\n            if (surface) {\n                surface.destroy();\n            }\n\n            this.surface = Surface.create(element, {\n                type: options.renderAs\n            });\n        } else {\n            this.surface.clear();\n            this.surface.resize();\n        }\n    };\n\n    Gauge.prototype._surfaceSize = function _surfaceSize () {\n        var options = this.options;\n        var size = this._getSize();\n\n        if (options.gaugeArea) {\n            deepExtend(size, options.gaugeArea);\n        }\n\n        return size;\n    };\n\n    Gauge.prototype._surfaceElement = function _surfaceElement () {\n        if (!this.surfaceElement) {\n            this.surfaceElement = document.createElement('div');\n            this.element.appendChild(this.surfaceElement);\n        }\n\n        return this.surfaceElement;\n    };\n\n    Gauge.prototype.getSize = function getSize () {\n        return this._getSize();\n    };\n\n    Gauge.prototype._getSize = function _getSize () {\n        var element = this.element;\n        var defaultSize = this._defaultSize();\n        var width = element.offsetWidth;\n        var height = element.offsetHeight;\n\n        if (!width) {\n            width = defaultSize.width;\n        }\n\n        if (!height) {\n            height = defaultSize.height;\n        }\n\n        return { width: width, height: height };\n    };\n\n    Gauge.prototype._defaultSize = function _defaultSize () {\n        return {\n            width: DEFAULT_WIDTH,\n            height: DEFAULT_HEIGHT\n        };\n    };\n\n    Gauge.prototype._toggleTransitions = function _toggleTransitions (value) {\n        var this$1$1 = this;\n\n        this.options.transitions = value;\n        for (var i = 0; i < this.pointers.length; i++) {\n            this$1$1.pointers[i].options.animation.transitions = value;\n        }\n    };\n\n    return Gauge;\n}(Class));\n\nsetDefaultOptions(Gauge, {\n    plotArea: {},\n    theme: \"default\",\n    renderAs: \"\",\n    pointer: {},\n    scale: {},\n    gaugeArea: {}\n});\n\nvar Path$4 = Path$7;\nvar Group$6 = Group$8;\nvar Point$4 = Point$6;\n\nfunction renderAxisTick(tickRenderOptions, tickOptions) {\n    var position = tickRenderOptions.position;\n    var tickX = tickRenderOptions.tickX;\n    var tickY = tickRenderOptions.tickY;\n    var start, end;\n\n    if (tickRenderOptions.vertical) {\n        start = new Point$4(tickX, position);\n        end = new Point$4(tickX + tickOptions.size, position);\n    } else {\n        start = new Point$4(position, tickY);\n        end = new Point$4(position, tickY + tickOptions.size);\n    }\n\n    var tickPath = new Path$4({\n        stroke: {\n            color: tickOptions.color,\n            width: tickOptions.width\n        }\n    }).moveTo(start).lineTo(end);\n\n    return tickPath;\n}\n\nfunction renderTicks(tickGroup, tickPositions, tickRenderOptions, tickOptions) {\n    var count = tickPositions.length;\n\n    if (tickOptions.visible) {\n        var mirror = tickRenderOptions.mirror;\n        var lineBox = tickRenderOptions.lineBox;\n        for (var i = tickOptions.skip; i < count; i += tickOptions.step) {\n            if (i % tickOptions.skipUnit === 0) {\n                continue;\n            }\n\n            tickRenderOptions.tickX = mirror ? lineBox.x2 : lineBox.x2 - tickOptions.size;\n            tickRenderOptions.tickY = mirror ? lineBox.y1 - tickOptions.size : lineBox.y1;\n            tickRenderOptions.position = tickPositions[i];\n\n            tickGroup.append(renderAxisTick(tickRenderOptions, tickOptions));\n        }\n    }\n}\n\nvar LinearScale = (function (NumericAxis) {\n    function LinearScale(options, service) {\n        var scaleOptions = options || {};\n        if (!defined(scaleOptions.reverse) && scaleOptions.vertical === false && (service || {}).rtl) {\n            scaleOptions = Object.assign({}, scaleOptions, {\n                reverse: true\n            });\n        }\n\n        NumericAxis.call(this, 0, 1, scaleOptions, service);\n\n        this.options.minorUnit = this.options.minorUnit || this.options.majorUnit / 10;\n    }\n\n    if ( NumericAxis ) LinearScale.__proto__ = NumericAxis;\n    LinearScale.prototype = Object.create( NumericAxis && NumericAxis.prototype );\n    LinearScale.prototype.constructor = LinearScale;\n\n    LinearScale.prototype.initUserOptions = function initUserOptions (options) {\n        var scaleOptions = deepExtend({}, this.options, options);\n        scaleOptions = deepExtend({}, scaleOptions , { labels: { mirror: scaleOptions.mirror } });\n        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);\n\n        return scaleOptions;\n    };\n\n    LinearScale.prototype.initFields = function initFields () {\n    };\n\n    LinearScale.prototype.render = function render () {\n        var elements = this.elements = new Group$6();\n        var labels = this.renderLabels();\n        var scaleLine = this.renderLine();\n        var scaleTicks = this.renderTicks();\n        var ranges = this.renderRanges();\n\n        elements.append(scaleLine, labels, scaleTicks, ranges);\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderRanges = function renderRanges () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var min = options.min;\n        var max = options.max;\n        var vertical = options.vertical;\n        var mirror = options.labels.mirror;\n        var ranges = options.ranges || [];\n        var elements = new Group$6();\n        var count = ranges.length;\n        var rangeSize = options.rangeSize || options.minorTicks.size / 2;\n\n        for (var i = 0; i < count; i++) {\n            var range = getRange(ranges[i], min, max);\n            var slot = this$1$1.getSlot(range.from, range.to);\n            var slotX = vertical ? this$1$1.lineBox() : slot;\n            var slotY = vertical ? slot : this$1$1.lineBox();\n            if (vertical) {\n                slotX.x1 -= rangeSize * (mirror ? -1 : 1);\n            } else {\n                slotY.y2 += rangeSize * (mirror ? -1 : 1);\n            }\n\n            elements.append(Path$4.fromRect(new Rect([ slotX.x1, slotY.y1 ], [ slotX.x2 - slotX.x1, slotY.y2 - slotY.y1 ]), {\n                fill: { color: range.color, opacity: range.opacity },\n                stroke: { }\n            }));\n        }\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderLabels = function renderLabels () {\n        var ref = this;\n        var labels = ref.labels;\n        var options = ref.options;\n        var elements = new Group$6();\n\n        for (var i = 0; i < labels.length; i++) {\n            elements.append(buildLabelElement(labels[i], options.labels));\n        }\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderLine = function renderLine () {\n        var line = this.options.line;\n        var lineBox = this.lineBox();\n        var elements = new Group$6();\n\n        if (line.width > 0 && line.visible) {\n            var linePath = new Path$4({\n                stroke: {\n                    color: line.color,\n                    dashType: line.dashType,\n                    width: line.width\n                }\n            });\n\n            linePath.moveTo(lineBox.x1, lineBox.y1).lineTo(lineBox.x2, lineBox.y2);\n            elements.append(linePath);\n        }\n\n        return elements;\n    };\n\n    LinearScale.prototype.renderTicks = function renderTicks$1 () {\n        var ticks = new Group$6();\n        var options = this.options;\n        var majorUnit = options.majorTicks.visible ? options.majorUnit : 0;\n        var tickRenderOptions = {\n            vertical: options.vertical,\n            mirror: options.labels.mirror,\n            lineBox: this.lineBox()\n        };\n\n        renderTicks(ticks, this.getMajorTickPositions(), tickRenderOptions, options.majorTicks);\n        renderTicks(ticks, this.getMinorTickPositions(), tickRenderOptions, deepExtend({}, {\n            skipUnit: majorUnit / options.minorUnit\n        }, options.minorTicks));\n\n        return ticks;\n    };\n\n    return LinearScale;\n}(NumericAxis));\n\nsetDefaultOptions(LinearScale, {\n    min: 0,\n    max: 50,\n\n    majorTicks: {\n        size: 15,\n        align: INSIDE$1,\n        color: BLACK$1,\n        width: DEFAULT_LINE_WIDTH,\n        visible: true\n    },\n\n    minorTicks: {\n        size: 10,\n        align: INSIDE$1,\n        color: BLACK$1,\n        width: DEFAULT_LINE_WIDTH,\n        visible: true\n    },\n\n    line: {\n        width: DEFAULT_LINE_WIDTH\n    },\n\n    labels: {\n        position: INSIDE$1,\n        padding: 2\n    },\n    mirror: false,\n    _alignLines: false\n});\n\nvar Pointer = (function (Class) {\n    function Pointer(scale, userOptions) {\n        Class.call(this);\n\n        var ref = scale.options;\n        var min = ref.min;\n        var max = ref.max;\n        var options = this.options = deepExtend({}, this.options, userOptions);\n\n        options.fill = options.color;\n\n        this.scale = scale;\n\n        if (defined(options.value)) {\n            options.value = limitValue(options.value, min, max);\n        } else {\n            options.value = min;\n        }\n    }\n\n    if ( Class ) Pointer.__proto__ = Class;\n    Pointer.prototype = Object.create( Class && Class.prototype );\n    Pointer.prototype.constructor = Pointer;\n\n    Pointer.prototype.value = function value (newValue) {\n        var options = this.options;\n        var value = options.value;\n\n        if (arguments.length === 0) {\n            return value;\n        }\n\n        var ref = this.scale.options;\n        var min = ref.min;\n        var max = ref.max;\n\n        options._oldValue = defined(options._oldValue) ? options.value : min;\n        options.value = limitValue(newValue, min, max);\n\n        if (this.elements) {\n            this.repaint();\n        }\n    };\n\n    return Pointer;\n}(Class));\n\nsetDefaultOptions(Pointer, {\n    color: BLACK$1\n});\n\nvar LinearPointer = (function (Pointer) {\n    function LinearPointer(scale, options) {\n        Pointer.call(this, scale, options);\n\n        this.options = deepExtend({\n            track: {\n                visible: defined(options.track)\n            }\n        }, this.options);\n    }\n\n    if ( Pointer ) LinearPointer.__proto__ = Pointer;\n    LinearPointer.prototype = Object.create( Pointer && Pointer.prototype );\n    LinearPointer.prototype.constructor = LinearPointer;\n\n    LinearPointer.prototype.reflow = function reflow () {\n        var ref = this;\n        var options = ref.options;\n        var scale = ref.scale;\n        var ref$1 = scale.options;\n        var mirror = ref$1.mirror;\n        var vertical = ref$1.vertical;\n        var scaleLine = scale.lineBox();\n        var trackSize = options.track.size || options.size;\n        var pointerHalfSize = options.size / 2;\n        var margin = getSpacing(options.margin);\n        var space = vertical ?\n            margin[mirror ? \"left\" : \"right\"] :\n            margin[mirror ? \"bottom\" : \"top\"];\n        var pointerBox, pointerRangeBox, trackBox;\n\n        space = mirror ? -space : space;\n\n        if (vertical) {\n            trackBox = new Box(\n                scaleLine.x1 + space, scaleLine.y1,\n                scaleLine.x1 + space, scaleLine.y2);\n\n            if (mirror) {\n                trackBox.x1 -= trackSize;\n            } else {\n                trackBox.x2 += trackSize;\n            }\n\n            if (options.shape !== BAR_POINTER) {\n                pointerRangeBox = new Box(\n                    scaleLine.x2 + space, scaleLine.y1 - pointerHalfSize,\n                    scaleLine.x2 + space, scaleLine.y2 + pointerHalfSize\n                );\n                pointerBox = pointerRangeBox;\n            }\n        } else {\n            trackBox = new Box(\n                scaleLine.x1, scaleLine.y1 - space,\n                scaleLine.x2, scaleLine.y1 - space);\n\n            if (mirror) {\n                trackBox.y2 += trackSize;\n            } else {\n                trackBox.y1 -= trackSize;\n            }\n\n            if (options.shape !== BAR_POINTER) {\n                pointerRangeBox = new Box(\n                    scaleLine.x1 - pointerHalfSize, scaleLine.y1 - space,\n                    scaleLine.x2 + pointerHalfSize, scaleLine.y1 - space\n                );\n                pointerBox = pointerRangeBox;\n            }\n        }\n\n        this.trackBox = trackBox;\n        this.pointerRangeBox = pointerRangeBox;\n        this.box = pointerBox || trackBox.clone().pad(options.border.width);\n    };\n\n    LinearPointer.prototype.getElementOptions = function getElementOptions () {\n        var options = this.options;\n\n        return {\n            fill: {\n                color: options.color,\n                opacity: options.opacity\n            },\n            stroke: defined(options.border) ? {\n                color: options.border.width ? options.border.color || options.color : \"\",\n                width: options.border.width,\n                dashType: options.border.dashType,\n                opacity: options.opacity\n            } : null\n        };\n    };\n\n    LinearPointer.prototype._margin = function _margin () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var ref$1 = scale.options;\n        var mirror = ref$1.mirror;\n        var vertical = ref$1.vertical;\n        var margin = getSpacing(options.margin);\n\n        var space = vertical ?\n            margin[mirror ? \"left\" : \"right\"] :\n            margin[mirror ? \"bottom\" : \"top\"];\n\n        return space;\n    };\n\n    return LinearPointer;\n}(Pointer));\n\nsetDefaultOptions(LinearPointer, {\n    shape: BAR_POINTER,\n\n    track: {\n        border: {\n            width: 1\n        }\n    },\n\n    color: BLACK$1,\n    border: {\n        width: 1\n    },\n    opacity: 1,\n\n    margin: getSpacing(3),\n    animation: {\n        type: BAR_POINTER\n    },\n    visible: true\n});\n\nvar ArrowLinearPointerAnimation = (function (superclass) {\n    function ArrowLinearPointerAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) ArrowLinearPointerAnimation.__proto__ = superclass;\n    ArrowLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );\n    ArrowLinearPointerAnimation.prototype.constructor = ArrowLinearPointerAnimation;\n\n    ArrowLinearPointerAnimation.prototype.setup = function setup () {\n        var options = this.options;\n        var margin = options.margin;\n        var from = options.from;\n        var to = options.to;\n        var vertical = options.vertical;\n        var axis = vertical ? \"x1\" : \"y1\";\n\n        if (options.mirror === vertical) {\n            from[axis] -= margin; to[axis] -= margin;\n        } else {\n            from[axis] += margin; to[axis] += margin;\n        }\n\n        var fromScale = this.fromScale = new Point$6(from.x1, from.y1);\n        var toScale = this.toScale = new Point$6(to.x1, to.y1);\n\n        if (options.duration !== 0) {\n            options.duration = Math.max((fromScale.distanceTo(toScale) / options.duration) * 1000, 1);\n        }\n    };\n\n    ArrowLinearPointerAnimation.prototype.step = function step (pos) {\n        var translateX = interpolateValue(this.fromScale.x, this.toScale.x, pos);\n        var translateY = interpolateValue(this.fromScale.y, this.toScale.y, pos);\n\n        this.element.transform(transform().translate(translateX, translateY));\n    };\n\n    return ArrowLinearPointerAnimation;\n}(Animation$1));\n\nsetDefaultOptions(ArrowLinearPointerAnimation, {\n    easing: LINEAR,\n    duration: LINEAR_SPEED\n});\n\nAnimationFactory.current.register(ARROW_POINTER, ArrowLinearPointerAnimation);\n\nvar Point$3 = Point$6;\nvar Path$3 = Path$7;\n\nvar ArrowLinearPointer = (function (LinearPointer) {\n    function ArrowLinearPointer(scale, options) {\n        LinearPointer.call(this, scale, options);\n\n        if (!defined(this.options.size)) {\n            this.options.size = this.scale.options.majorTicks.size * 0.6;\n        }\n    }\n\n    if ( LinearPointer ) ArrowLinearPointer.__proto__ = LinearPointer;\n    ArrowLinearPointer.prototype = Object.create( LinearPointer && LinearPointer.prototype );\n    ArrowLinearPointer.prototype.constructor = ArrowLinearPointer;\n\n    ArrowLinearPointer.prototype.pointerShape = function pointerShape () {\n        var ref = this;\n        var scale = ref.scale;\n        var size = ref.options.size;\n        var halfSize = size / 2;\n        var sign = (scale.options.mirror ? -1 : 1);\n        var shape;\n\n        if (scale.options.vertical) {\n            shape = [\n                new Point$3(0, 0 - halfSize), new Point$3(0 - sign * size, 0), new Point$3(0, 0 + halfSize)\n            ];\n        } else {\n            shape = [\n                new Point$3(0 - halfSize, 0), new Point$3(0, 0 + sign * size), new Point$3(0 + halfSize, 0)\n            ];\n        }\n\n        return shape;\n    };\n\n    ArrowLinearPointer.prototype.repaint = function repaint () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var animation = new ArrowLinearPointerAnimation(this.elements, deepExtend(options.animation, {\n            vertical: scale.options.vertical,\n            mirror: scale.options.mirror,\n            margin: this._margin(options.margin),\n            from: scale.getSlot(options._oldValue),\n            to: scale.getSlot(options.value)\n        }));\n\n        if (options.animation.transitions === false) {\n            animation.options.duration = 0;\n        }\n\n        animation.setup();\n        animation.play();\n    };\n\n    ArrowLinearPointer.prototype.render = function render () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var elementOptions = this.getElementOptions();\n        var shape = this.pointerShape(options.value);\n\n        options.animation.type = ARROW_POINTER;\n\n        var elements = new Path$3({\n            stroke: elementOptions.stroke,\n            fill: elementOptions.fill\n        }).moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).close();\n\n        var slot = scale.getSlot(options.value);\n        elements.transform(transform().translate(slot.x1, slot.y1));\n\n        this.elements = elements;\n\n        return elements;\n    };\n\n    return ArrowLinearPointer;\n}(LinearPointer));\n\nvar BarLinearPointerAnimation = (function (superclass) {\n    function BarLinearPointerAnimation () {\n        superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) BarLinearPointerAnimation.__proto__ = superclass;\n    BarLinearPointerAnimation.prototype = Object.create( superclass && superclass.prototype );\n    BarLinearPointerAnimation.prototype.constructor = BarLinearPointerAnimation;\n\n    BarLinearPointerAnimation.prototype.setup = function setup () {\n        var options = this.options;\n        var axis = this.axis = options.vertical ? Y : X;\n        var to = this.to = options.newPoints[0][axis];\n        var from = this.from = options.oldPoints[0][axis];\n\n        if (options.duration !== 0) {\n            options.duration = Math.max((Math.abs(to - from) / options.speed) * 1000, 1);\n        }\n\n        this._set(from);\n    };\n\n    BarLinearPointerAnimation.prototype.step = function step (pos) {\n        var value = interpolateValue(this.from, this.to, pos);\n        this._set(value);\n    };\n\n    BarLinearPointerAnimation.prototype._set = function _set (value) {\n        var setter = \"set\" + this.axis.toUpperCase();\n        var points = this.options.newPoints;\n\n        points[0][setter](value);\n        points[1][setter](value);\n    };\n\n    return BarLinearPointerAnimation;\n}(Animation$1));\n\nsetDefaultOptions(BarLinearPointerAnimation, {\n    easing: LINEAR,\n    speed: LINEAR_SPEED\n});\n\nAnimationFactory.current.register(BAR_POINTER, BarLinearPointerAnimation);\n\nvar Group$5 = Group$8;\nvar Path$2 = Path$7;\n\nvar BarLinearPointer = (function (LinearPointer) {\n    function BarLinearPointer(scale, options) {\n        LinearPointer.call(this, scale, options);\n\n        if (!defined(this.options.size)) {\n            this.options.size = this.scale.options.majorTicks.size * 0.3;\n        }\n    }\n\n    if ( LinearPointer ) BarLinearPointer.__proto__ = LinearPointer;\n    BarLinearPointer.prototype = Object.create( LinearPointer && LinearPointer.prototype );\n    BarLinearPointer.prototype.constructor = BarLinearPointer;\n\n    BarLinearPointer.prototype.pointerShape = function pointerShape (value) {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var ref$1 = scale.options;\n        var mirror = ref$1.mirror;\n        var vertical = ref$1.vertical;\n        var dir = mirror === vertical ? -1 : 1;\n        var size = options.size * dir;\n        var minSlot = scale.getSlot(scale.options.min);\n        var slot = scale.getSlot(value);\n        var axis = vertical ? Y : X;\n        var sizeAxis = vertical ? X : Y;\n        var margin = this._margin() * dir;\n\n        var p1 = new Point$6();\n        p1[axis] = minSlot[axis + \"1\"];\n        p1[sizeAxis] = minSlot[sizeAxis + \"1\"];\n\n        var p2 = new Point$6();\n        p2[axis] = slot[axis + \"1\"];\n        p2[sizeAxis] = slot[sizeAxis + \"1\"];\n\n        if (vertical) {\n            p1.translate(margin, 0);\n            p2.translate(margin, 0);\n        } else {\n            p1.translate(0, margin);\n            p2.translate(0, margin);\n        }\n\n        var p3 = p2.clone();\n        var p4 = p1.clone();\n\n        if (vertical) {\n            p3.translate(size, 0);\n            p4.translate(size, 0);\n        } else {\n            p3.translate(0, size);\n            p4.translate(0, size);\n        }\n\n        return [ p1, p2, p3, p4 ];\n    };\n\n    BarLinearPointer.prototype.repaint = function repaint () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var shape = this.pointerShape(options.value);\n        var pointerPath = this.pointerPath;\n        var oldShape = this.pointerShape(options._oldValue);\n\n        pointerPath.moveTo(shape[0]).lineTo(shape[1]).lineTo(shape[2]).lineTo(shape[3]).close();\n\n        var animation = new BarLinearPointerAnimation(pointerPath, deepExtend(options.animation, {\n            reverse: scale.options.reverse,\n            vertical: scale.options.vertical,\n            oldPoints: [ oldShape[1], oldShape[2] ],\n            newPoints: [ shape[1], shape[2] ]\n        }));\n\n        if (options.animation.transitions === false) {\n            animation.options.duration = 0;\n        }\n\n        animation.setup();\n        animation.play();\n    };\n\n    BarLinearPointer.prototype.render = function render () {\n        var group = new Group$5();\n        var elementOptions = this.getElementOptions();\n\n        if (this.options.track.visible) {\n            group.append(this.renderTrack());\n        }\n\n        var pointer = this.pointerPath = new Path$2({\n            stroke: elementOptions.stroke,\n            fill: elementOptions.fill\n        });\n\n        group.append(pointer);\n\n        this.elements = group;\n\n        return group;\n    };\n\n    BarLinearPointer.prototype.renderTrack = function renderTrack () {\n        var trackOptions = this.options.track;\n        var border = trackOptions.border || {};\n        var trackBox = this.trackBox.clone().pad(border.width || 0);\n\n        return new Path$2.fromRect(trackBox.toRect(), {\n            fill: {\n                color: trackOptions.color,\n                opacity: trackOptions.opacity\n            },\n            stroke: {\n                color: border.width ? border.color || trackOptions.color : \"\",\n                width: border.width,\n                dashType: border.dashType\n            }\n        });\n    };\n\n    return BarLinearPointer;\n}(LinearPointer));\n\nvar DEFAULT_MIN_WIDTH = 60;\nvar DEFAULT_MIN_HEIGHT = 60;\n\nvar Group$4 = Group$8;\n\nvar LinearGauge = (function (Gauge) {\n    function LinearGauge () {\n        Gauge.apply(this, arguments);\n    }\n\n    if ( Gauge ) LinearGauge.__proto__ = Gauge;\n    LinearGauge.prototype = Object.create( Gauge && Gauge.prototype );\n    LinearGauge.prototype.constructor = LinearGauge;\n\n    LinearGauge.prototype.reflow = function reflow (bbox) {\n        var pointers = this.pointers;\n        var bboxX = bbox.origin.x;\n        var bboxY = bbox.origin.y;\n\n        var box = new Box(bboxX, bboxY, bboxX + bbox.width(), bboxY + bbox.height());\n\n        this.scale.reflow(box);\n        this._shrinkScaleWidth(box);\n\n        for (var i = 0; i < pointers.length; i++) {\n            pointers[i].reflow();\n        }\n\n        this.bbox = this._getBox(box);\n        this._alignElements();\n        this._shrinkElements();\n        this._buildVisual();\n        this._draw();\n    };\n\n    LinearGauge.prototype._buildVisual = function _buildVisual () {\n        var visuals = new Group$4();\n        var scaleElements = this.scale.render();\n        var pointers = this.pointers;\n\n        visuals.append(this.gaugeArea);\n        visuals.append(scaleElements);\n\n        for (var i = 0; i < pointers.length; i++) {\n            var current = pointers[i];\n            visuals.append(current.render());\n            current.value(current.options.value);\n        }\n\n        this._visuals = visuals;\n    };\n\n    LinearGauge.prototype._createModel = function _createModel () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var scale = this.scale = new LinearScale(options.scale, this.contextService);\n\n        this.pointers = [];\n\n        var pointers = options.pointer;\n        pointers = isArray(pointers) ? pointers : [ pointers ];\n\n        for (var i = 0; i < pointers.length; i++) {\n            var currentOptions = deepExtend({}, pointers[i], {\n                animation: {\n                    transitions: options.transitions\n                }\n            });\n            var pointerType = currentOptions.shape === ARROW ? ArrowLinearPointer : BarLinearPointer;\n\n            this$1$1.pointers.push(new pointerType(scale, currentOptions));\n        }\n    };\n\n    LinearGauge.prototype._defaultSize = function _defaultSize () {\n        var vertical = this.options.scale.vertical;\n\n        return {\n            width: vertical ? DEFAULT_MIN_WIDTH : DEFAULT_WIDTH,\n            height: vertical ? DEFAULT_HEIGHT : DEFAULT_MIN_HEIGHT\n        };\n    };\n\n    LinearGauge.prototype._getBox = function _getBox (box) {\n        var ref = this;\n        var scale = ref.scale;\n        var pointers = ref.pointers;\n        var boxCenter = box.center();\n        var plotAreaBox = pointers[0].box.clone().wrap(scale.box);\n\n        for (var i = 0; i < pointers.length; i++) {\n            plotAreaBox.wrap(pointers[i].box.clone());\n        }\n\n        var size;\n        if (scale.options.vertical) {\n            size = plotAreaBox.width() / 2;\n            plotAreaBox = new Box(\n                boxCenter.x - size, box.y1,\n                boxCenter.x + size, box.y2\n            );\n        } else {\n            size = plotAreaBox.height() / 2;\n            plotAreaBox = new Box(\n                box.x1, boxCenter.y - size,\n                box.x2, boxCenter.y + size\n            );\n        }\n\n        return plotAreaBox;\n    };\n\n    LinearGauge.prototype._alignElements = function _alignElements () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var scale = ref.scale;\n        var pointers = ref.pointers;\n        var scaleBox = scale.box;\n        var box = pointers[0].box.clone().wrap(scale.box);\n        var plotAreaBox = this.bbox;\n\n        for (var i = 0; i < pointers.length; i++) {\n            box.wrap(pointers[i].box.clone());\n        }\n\n        var diff;\n        if (scale.options.vertical) {\n            diff = plotAreaBox.center().x - box.center().x;\n            scale.reflow(new Box(\n                scaleBox.x1 + diff, plotAreaBox.y1,\n                scaleBox.x2 + diff, plotAreaBox.y2\n            ));\n        } else {\n            diff = plotAreaBox.center().y - box.center().y;\n            scale.reflow(new Box(\n                scaleBox.x1, scaleBox.y1 + diff,\n                scaleBox.x2, scaleBox.y2 + diff\n            ));\n        }\n\n        for (var i$1 = 0; i$1 < pointers.length; i$1++) {\n            pointers[i$1].reflow(this$1$1.bbox);\n        }\n    };\n\n    LinearGauge.prototype._shrinkScaleWidth = function _shrinkScaleWidth (bbox) {\n        var ref = this;\n        var scale = ref.scale;\n        if (!scale.options.vertical) {\n            var overflow = scale.contentBox().width() - bbox.width();\n            if (overflow > 0) {\n                scale.box.shrink(overflow, 0);\n                scale.box.alignTo(bbox, 'center');\n                scale.reflow(scale.box);\n            }\n        }\n    };\n\n    LinearGauge.prototype._shrinkElements = function _shrinkElements () {\n        var this$1$1 = this;\n\n        var ref = this;\n        var scale = ref.scale;\n        var pointers = ref.pointers;\n        var scaleBox = scale.box.clone();\n        var pos = scale.options.vertical ? \"y\" : \"x\";\n        var pointerBox = pointers[0].box;\n\n        for (var i = 0; i < pointers.length; i++) {\n            pointerBox.wrap(pointers[i].box.clone());\n        }\n\n        scaleBox[pos + 1] += Math.max(scaleBox[pos + 1] - pointerBox[pos + 1], 0);\n        scaleBox[pos + 2] -= Math.max(pointerBox[pos + 2] - scaleBox[pos + 2], 0);\n\n        scale.reflow(scaleBox);\n\n        for (var i$1 = 0; i$1 < pointers.length; i$1++) {\n            pointers[i$1].reflow(this$1$1.bbox);\n        }\n    };\n\n    return LinearGauge;\n}(Gauge));\n\nsetDefaultOptions(LinearGauge, {\n    transitions: true,\n    gaugeArea: {\n        background: \"\"\n    },\n    scale: {\n        vertical: true\n    }\n});\n\nvar GEO_ARC_ADJUST_ANGLE = 180;\n\nvar Arc = Arc$2;\nvar Path$1 = Path$7;\nvar Group$3 = Group$8;\n\nfunction drawTicks(arc, tickAngles, unit, tickOptions) {\n    var ticks = new Group$3();\n    var center = arc.center;\n    var radius = arc.getRadiusX();\n\n    if (tickOptions.visible) {\n        for (var i = 0; i < tickAngles.length; i++) {\n            var tickStart = arc.pointAt(tickAngles[i]);\n            var tickEnd = new Point$6(center.x + radius - tickOptions.size, center.y).rotate(tickAngles[i], center);\n\n            ticks.append(new Path$1({\n                stroke: {\n                    color: tickOptions.color,\n                    width: tickOptions.width\n                }\n            }).moveTo(tickStart).lineTo(tickEnd));\n        }\n    }\n\n    return ticks;\n}\n\nfunction rangeSegment(from, to, color, opacity) {\n    return { from: from, to: to, color: color, opacity: opacity };\n}\n\nvar RadialScale = (function (NumericAxis) {\n    function RadialScale(options, service) {\n        NumericAxis.call(this, 0, 1, options, service);\n    }\n\n    if ( NumericAxis ) RadialScale.__proto__ = NumericAxis;\n    RadialScale.prototype = Object.create( NumericAxis && NumericAxis.prototype );\n    RadialScale.prototype.constructor = RadialScale;\n\n    RadialScale.prototype.initUserOptions = function initUserOptions (options) {\n        var scaleOptions = deepExtend({}, this.options, options);\n        scaleOptions.majorUnit = scaleOptions.majorUnit || autoMajorUnit(scaleOptions.min, scaleOptions.max);\n        scaleOptions.minorUnit = scaleOptions.minorUnit || scaleOptions.majorUnit / 10;\n\n        return scaleOptions;\n    };\n\n    RadialScale.prototype.initFields = function initFields () {\n    };\n\n    RadialScale.prototype.render = function render (center, radius) {\n        var arc = this.renderArc(center, radius);\n\n        this.bbox = arc.bbox();\n        this.labelElements = this.renderLabels();\n        this.ticks = this.renderTicks();\n        this.ranges = this.renderRanges();\n    };\n\n    RadialScale.prototype.reflow = function reflow (bbox) {\n        var center = bbox.center();\n        var radius = Math.min(bbox.height(), bbox.width()) / 2;\n\n        if (defined(this.bbox)) {\n            this.bbox = this.arc.bbox();\n            this.radius(this.arc.getRadiusX());\n            this.repositionRanges();\n            this.renderLabels();\n        } else {\n            return this.render(center, radius);\n        }\n    };\n\n    RadialScale.prototype.slotAngle = function slotAngle (value) {\n        var ref = this.options;\n        var min = ref.min;\n        var max = ref.max;\n        var reverse = ref.reverse;\n        var startAngle = ref.startAngle;\n        var endAngle = ref.endAngle;\n        var angle = endAngle - startAngle;\n        var result;\n\n        if (reverse) {\n            result = endAngle - (value - min) / (max - min) * angle;\n        } else {\n            result = ((value - min) / (max - min) * angle) + startAngle;\n        }\n\n        return result + GEO_ARC_ADJUST_ANGLE;\n    };\n\n    RadialScale.prototype.hasRanges = function hasRanges () {\n        var ranges = this.options.ranges;\n\n        return ranges && ranges.length;\n    };\n\n    RadialScale.prototype.ticksSize = function ticksSize () {\n        var ref = this.options;\n        var majorTicks = ref.majorTicks;\n        var minorTicks = ref.minorTicks;\n        var size = 0;\n        if (majorTicks.visible) {\n            size = majorTicks.size;\n        }\n\n        if (minorTicks.visible) {\n            size = Math.max(minorTicks.size, size);\n        }\n\n        return size;\n    };\n\n    RadialScale.prototype.labelsCount = function labelsCount () {\n        var count = NumericAxis.prototype.labelsCount.call(this);\n        var options = this.options;\n        var angle = options.endAngle - options.startAngle;\n\n        if (angle >= 360 && (options.max % options.majorUnit === 0)) {\n            count -= 1;\n        }\n\n        return count;\n    };\n\n    RadialScale.prototype.renderLabels = function renderLabels () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var arc = this.arc.clone();\n        var radius = arc.getRadiusX();\n        var tickAngles = this.tickAngles(arc, options.majorUnit);\n        var rangeSize = options.rangeSize = options.rangeSize || radius * 0.1;\n        var labelsGroup = new Group$3();\n\n        var rangeDistance = radius * 0.05;\n        if (defined(options.rangeDistance)) {\n            rangeDistance = options.rangeDistance;\n        } else {\n            options.rangeDistance = rangeDistance;\n        }\n\n        var labelsOptions = options.labels;\n        var isInside = labelsOptions.position === INSIDE$1;\n        var hasLabelElements = defined(this.labelElements);\n\n        if (isInside) {\n            radius -= this.ticksSize();\n\n            if (this.hasRanges() && !hasLabelElements) {\n                radius -= rangeSize + rangeDistance;\n            }\n            arc.setRadiusX(radius).setRadiusY(radius);\n        }\n\n        var labels = this.labels;\n        var count = labels.length;\n        var padding = getSpacing(labelsOptions.padding);\n        var paddingWidth = (padding.left + padding.right) / 2;\n        var paddingHeight = (padding.top + padding.bottom) / 2;\n\n        for (var i = 0; i < count; i++) {\n            var label = labels[i];\n            var halfWidth = label.box.width() / 2;\n            var halfHeight = label.box.height() / 2;\n            var angle = tickAngles[i];\n            var labelAngle = (angle - GEO_ARC_ADJUST_ANGLE) * DEGREE;\n\n            var lp = arc.pointAt(angle);\n            var cx = lp.x + (Math.cos(labelAngle) * (halfWidth + paddingWidth) * (isInside ? 1 : -1));\n            var cy = lp.y + (Math.sin(labelAngle) * (halfHeight + paddingHeight) * (isInside ? 1 : -1));\n\n            label.reflow(new Box(cx - halfWidth, cy - halfHeight, cx + halfWidth, cy + halfHeight));\n            var labelPos = new Point$6(label.box.x1, label.box.y1);\n\n            var labelElement = (void 0);\n            if (!hasLabelElements) {\n                labelElement = buildLabelElement(label, options.labels);\n                labelsGroup.append(labelElement);\n            } else {\n                labelElement = this$1$1.labelElements.children[i];\n                var prevLabelPos = labelElement.bbox().origin;\n\n                var labelTransform = labelElement.transform() || transform();\n                labelTransform.translate(labelPos.x - prevLabelPos.x, labelPos.y - prevLabelPos.y);\n                labelElement.transform(labelTransform);\n            }\n\n            this$1$1.bbox = Rect.union(this$1$1.bbox, labelElement.bbox());\n        }\n\n        return labelsGroup;\n    };\n\n    RadialScale.prototype.repositionRanges = function repositionRanges () {\n        var ranges = this.ranges.children;\n\n        if (ranges.length > 0) {\n            var ref = this.options;\n            var rangeDistance = ref.rangeDistance;\n            var rangeSize = ref.rangeSize;\n            var rangeRadius = this.getRangeRadius();\n\n            if (this.options.labels.position === INSIDE$1) {\n                rangeRadius += rangeSize + rangeDistance;\n            }\n\n            var newRadius = rangeRadius + (rangeSize / 2);\n\n            for (var i = 0; i < ranges.length; i++) {\n                ranges[i]._geometry.setRadiusX(newRadius).setRadiusY(newRadius);\n            }\n\n            this.bbox = Rect.union(this.bbox, this.ranges.bbox());\n        }\n    };\n\n    RadialScale.prototype.renderRanges = function renderRanges () {\n        var this$1$1 = this;\n\n        var segments = this.rangeSegments();\n        var segmentsCount = segments.length;\n        var result = new Group$3();\n\n        if (segmentsCount) {\n            var ref = this.options;\n            var rangeSize = ref.rangeSize;\n            var reverse = ref.reverse;\n            var rangeDistance = ref.rangeDistance;\n            var rangeRadius = this.getRangeRadius();\n\n            // move the ticks with a range distance and a range size\n            this.radius(this.radius() - rangeSize - rangeDistance);\n\n            for (var i = 0; i < segmentsCount; i++) {\n                var segment = segments[i];\n                var from = this$1$1.slotAngle(segment[reverse ? \"to\" : \"from\"]);\n                var to = this$1$1.slotAngle(segment[!reverse ? \"to\" : \"from\"]);\n\n                if (to - from !== 0) {\n                    result.append(this$1$1.createRange(from, to, rangeRadius, segment));\n                }\n            }\n        }\n\n        return result;\n    };\n\n    RadialScale.prototype.createRange = function createRange (startAngle, endAngle, rangeRadius, options) {\n        var rangeSize = this.options.rangeSize;\n        var rangeGeom = new Arc$1(this.arc.center, {\n            radiusX: rangeRadius + (rangeSize / 2),\n            radiusY: rangeRadius + (rangeSize / 2),\n            startAngle: startAngle,\n            endAngle: endAngle\n        });\n\n        return new Arc(rangeGeom, {\n            stroke: {\n                width: rangeSize,\n                color: options.color,\n                opacity: options.opacity,\n                lineCap: options.lineCap\n            }\n        });\n    };\n\n    RadialScale.prototype.rangeSegments = function rangeSegments () {\n        var options = this.options;\n        var ranges = options.ranges || [];\n        var count = ranges.length;\n        var segments = [];\n\n        if (count) {\n            var min = options.min;\n            var max = options.max;\n            var defaultColor = options.rangePlaceholderColor;\n            segments.push(rangeSegment(min, max, defaultColor));\n\n            for (var i = 0; i < count; i++) {\n                var range = getRange(ranges[i], min, max);\n                var segmentsCount = segments.length;\n\n                for (var j = 0; j < segmentsCount; j++) {\n                    var segment = segments[j];\n\n                    if (segment.from <= range.from && range.from <= segment.to) {\n                        segments.push(rangeSegment(range.from, range.to, range.color, range.opacity));\n\n                        if (segment.from <= range.to && range.to <= segment.to) {\n                            segments.push(rangeSegment(range.to, segment.to, defaultColor, range.opacity));\n                        }\n\n                        segment.to = range.from;\n\n                        break;\n                    }\n                }\n            }\n        }\n\n        return segments;\n    };\n\n    RadialScale.prototype.getRangeRadius = function getRangeRadius () {\n        var ref = this;\n        var arc = ref.arc;\n        var options = ref.options;\n        var rangeSize = options.rangeSize;\n        var rangeDistance = options.rangeDistance;\n        var majorTickSize = options.majorTicks.size;\n        var radius;\n\n        if (options.labels.position === OUTSIDE) {\n            radius = arc.getRadiusX() - majorTickSize - rangeDistance - rangeSize;\n        } else {\n            radius = arc.getRadiusX() - rangeSize;\n        }\n\n        return radius;\n    };\n\n    RadialScale.prototype.renderArc = function renderArc (center, radius) {\n        var options = this.options;\n\n        var arc = this.arc = new Arc$1(center, {\n            radiusX: radius,\n            radiusY: radius,\n            startAngle: options.startAngle + GEO_ARC_ADJUST_ANGLE,\n            endAngle: options.endAngle + GEO_ARC_ADJUST_ANGLE\n        });\n\n        return arc;\n    };\n\n    RadialScale.prototype.renderTicks = function renderTicks () {\n        var ref = this;\n        var arc = ref.arc;\n        var options = ref.options;\n        var tickArc = arc.clone();\n\n        this.majorTickAngles = this.tickAngles(arc, options.majorUnit);\n        this.majorTicks = drawTicks(tickArc, this.majorTickAngles, options.majorUnit, options.majorTicks);\n\n        var allTicks = new Group$3();\n        allTicks.append(this.majorTicks);\n\n        var majorTickSize = options.majorTicks.size;\n        var minorTickSize = options.minorTicks.size;\n\n        this._tickDifference = majorTickSize - minorTickSize;\n\n        if (options.labels.position === OUTSIDE) {\n            var radius = tickArc.getRadiusX();\n            tickArc.setRadiusX(radius - majorTickSize + minorTickSize)\n                .setRadiusY(radius - majorTickSize + minorTickSize);\n        }\n\n        this.minorTickAngles = this.normalizeTickAngles(this.tickAngles(arc, options.minorUnit));\n        this.minorTicks = drawTicks(tickArc, this.minorTickAngles, options.minorUnit, options.minorTicks);\n        allTicks.append(this.minorTicks);\n\n        return allTicks;\n    };\n\n    RadialScale.prototype.normalizeTickAngles = function normalizeTickAngles (angles) {\n        var options = this.options;\n        var skip = options.majorUnit / options.minorUnit;\n\n        for (var i = angles.length - 1; i >= 0; i--) {\n            if (i % skip === 0) {\n                angles.splice(i, 1);\n            }\n        }\n\n        return angles;\n    };\n\n    RadialScale.prototype.tickAngles = function tickAngles (ring, stepValue) {\n        var options = this.options;\n        var reverse = options.reverse;\n        var range = options.max - options.min;\n        var angle = ring.endAngle - ring.startAngle;\n        var tickCount = range / stepValue;\n        var pos = ring.startAngle;\n        var step = angle / tickCount;\n\n        if (reverse) {\n            pos += angle;\n            step = -step;\n        }\n\n        if (angle >= 360 && (options.max % stepValue === 0)) {\n            tickCount -= 1;\n        }\n\n        var positions = [];\n        for (var i = 0; i < tickCount; i++) {\n            positions.push(round$1(pos, COORD_PRECISION));\n            pos += step;\n        }\n\n        if (round$1(pos) <= ring.endAngle) {\n            positions.push(pos);\n        }\n\n        return positions;\n    };\n\n    RadialScale.prototype.radius = function radius (value) {\n        if (value) {\n            this.arc.setRadiusX(value).setRadiusY(value);\n            this.repositionTicks(this.majorTicks.children, this.majorTickAngles);\n            this.repositionTicks(this.minorTicks.children, this.minorTickAngles, true);\n        } else {\n            return this.arc.getRadiusX();\n        }\n    };\n\n    RadialScale.prototype.repositionTicks = function repositionTicks (ticks, tickAngles, minor) {\n        var diff = minor ? (this._tickDifference || 0) : 0;\n        var tickArc = this.arc;\n        var radius = tickArc.getRadiusX();\n\n        if (minor && this.options.labels.position === OUTSIDE && diff !== 0) {\n            tickArc = this.arc.clone();\n            tickArc.setRadiusX(radius - diff).setRadiusY(radius - diff);\n        }\n\n        for (var i = 0; i < ticks.length; i++) {\n            var newPoint = tickArc.pointAt(tickAngles[i]);\n            var segments = ticks[i].segments;\n            var xDiff = newPoint.x - segments[0].anchor().x;\n            var yDiff = newPoint.y - segments[0].anchor().y;\n\n            ticks[i].transform(new transform().translate(xDiff, yDiff));\n        }\n    };\n\n    return RadialScale;\n}(NumericAxis));\n\nsetDefaultOptions(RadialScale, {\n    min: 0,\n    max: 100,\n\n    majorTicks: {\n        size: 15,\n        align: INSIDE$1,\n        color: BLACK$1,\n        width: DEFAULT_LINE_WIDTH,\n        visible: true\n    },\n\n    minorTicks: {\n        size: 10,\n        align: INSIDE$1,\n        color: BLACK$1,\n        width: DEFAULT_LINE_WIDTH,\n        visible: true\n    },\n\n    startAngle: -30,\n    endAngle: 210,\n\n    labels: {\n        position: INSIDE$1,\n        padding: 2\n    }\n});\n\nvar RadialPointerAnimation = (function (superclass) {\n    function RadialPointerAnimation(element, options) {\n        superclass.call(this, element, options);\n\n        var animationOptions = this.options;\n\n        animationOptions.duration = Math.max((Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000, 1);\n    }\n\n    if ( superclass ) RadialPointerAnimation.__proto__ = superclass;\n    RadialPointerAnimation.prototype = Object.create( superclass && superclass.prototype );\n    RadialPointerAnimation.prototype.constructor = RadialPointerAnimation;\n\n    RadialPointerAnimation.prototype.step = function step (pos) {\n        var options = this.options;\n        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);\n\n        this.element.transform(transform().rotate(angle, options.center));\n    };\n\n    return RadialPointerAnimation;\n}(Animation$1));\n\nsetDefaultOptions(RadialPointerAnimation, {\n    easing: LINEAR,\n    duration: ANGULAR_SPEED\n});\n\nAnimationFactory.current.register(RADIAL_POINTER, RadialPointerAnimation);\n\nvar CAP_SIZE = 0.05;\nvar Circle = Circle$1;\nvar Group$2 = Group$8;\nvar Path = Path$7;\n\nvar RadialPointer = (function (Pointer) {\n    function RadialPointer () {\n        Pointer.apply(this, arguments);\n    }\n\n    if ( Pointer ) RadialPointer.__proto__ = Pointer;\n    RadialPointer.prototype = Object.create( Pointer && Pointer.prototype );\n    RadialPointer.prototype.constructor = RadialPointer;\n\n    RadialPointer.prototype.setAngle = function setAngle (angle) {\n        this.elements.transform(transform().rotate(angle, this.center));\n    };\n\n    RadialPointer.prototype.repaint = function repaint () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var oldAngle = scale.slotAngle(options._oldValue);\n        var newAngle = scale.slotAngle(options.value);\n\n        if (options.animation.transitions === false) {\n            this.setAngle(newAngle);\n        } else {\n            new RadialPointerAnimation(this.elements, deepExtend(options.animation, {\n                oldAngle: oldAngle,\n                newAngle: newAngle\n            })).play();\n        }\n    };\n\n    RadialPointer.prototype.render = function render () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var elements = new Group$2();\n\n        if (options.animation !== false) {\n            deepExtend(options.animation, {\n                startAngle: 0,\n                center: scale.arc.center,\n                reverse: scale.options.reverse\n            });\n        }\n\n        elements.append(this._renderNeedle(), this._renderCap());\n\n        this.elements = elements;\n        this.setAngle(DEGREE);\n\n        return elements;\n    };\n\n    RadialPointer.prototype.reflow = function reflow (arc) {\n        var center = this.center = arc.center;\n        var length = limitValue(this.options.length || 1, 0.1, 1.5);\n        var radius = this.radius = arc.getRadiusX() * length;\n        var capSize = this.capSize = Math.round(radius * this.options.cap.size);\n\n        this.bbox = Rect.fromPoints(new Point$6(center.x - capSize, center.y - capSize),\n            new Point$6(center.x + capSize, center.y + capSize));\n    };\n\n    RadialPointer.prototype._renderNeedle = function _renderNeedle () {\n        var minorTickSize = this.scale.options.minorTicks.size;\n        var center = this.center;\n        var needleColor = this.options.color;\n\n        var needlePath = new Path({\n            fill: { color: needleColor },\n            stroke: { color: needleColor, width: DEFAULT_LINE_WIDTH }\n        });\n\n        needlePath.moveTo(center.x + this.radius - minorTickSize, center.y)\n            .lineTo(center.x, center.y - (this.capSize / 2))\n            .lineTo(center.x, center.y + (this.capSize / 2))\n            .close();\n\n        return needlePath;\n    };\n\n    RadialPointer.prototype._renderCap = function _renderCap () {\n        var options = this.options;\n        var capColor = options.cap.color || options.color;\n        var circle = new Circle$2(this.center, this.capSize);\n\n        var cap = new Circle(circle, {\n            fill: { color: capColor },\n            stroke: { color: capColor }\n        });\n\n        return cap;\n    };\n\n    return RadialPointer;\n}(Pointer));\n\nsetDefaultOptions(RadialPointer, {\n    cap: {\n        size: CAP_SIZE\n    },\n    arrow: {\n        width: 16,\n        height: 14\n    },\n    animation: {\n        type: RADIAL_POINTER,\n        duration: ANGULAR_SPEED\n    }\n});\n\nvar Group$1 = Group$8;\n\nvar RadialGauge = (function (Gauge) {\n    function RadialGauge () {\n        Gauge.apply(this, arguments);\n    }\n\n    if ( Gauge ) RadialGauge.__proto__ = Gauge;\n    RadialGauge.prototype = Object.create( Gauge && Gauge.prototype );\n    RadialGauge.prototype.constructor = RadialGauge;\n\n    RadialGauge.prototype.reflow = function reflow (bbox) {\n        var this$1$1 = this;\n\n        var pointers = this.pointers;\n        this.scale.reflow(bbox);\n        this._initialPlotArea = this.scale.bbox;\n\n        for (var i = 0; i < pointers.length; i++) {\n            pointers[i].reflow(this$1$1.scale.arc);\n            this$1$1._initialPlotArea = Rect.union(this$1$1._initialPlotArea, pointers[i].bbox);\n        }\n\n        this.fitScale(bbox);\n        this.alignScale(bbox);\n        this._buildVisual(this.gaugeArea, pointers, this.scale);\n        this._draw();\n    };\n\n    RadialGauge.prototype._buildVisual = function _buildVisual (gaugeArea, pointers, scale) {\n        var visuals = this._visuals = new Group$1();\n\n        visuals.append(gaugeArea);\n        visuals.append(scale.ticks);\n        visuals.append(scale.ranges);\n        this._buildPointers(pointers);\n        visuals.append(scale.labelElements);\n    };\n\n    RadialGauge.prototype._buildPointers = function _buildPointers (pointers) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < pointers.length; i++) {\n            var current = pointers[i];\n            current.render();\n            this$1$1._visuals.append(current.elements);\n\n            current.value(current.options.value);\n        }\n    };\n\n    RadialGauge.prototype.fitScale = function fitScale (bbox) {\n        var this$1$1 = this;\n\n        var arc = this.scale.arc;\n        var plotAreaBox = this._initialPlotArea;\n        var step = Math.abs(this.getDiff(plotAreaBox, bbox));\n        var min = round$1(step, COORD_PRECISION);\n        var max = round$1(-step, COORD_PRECISION);\n        var minDiff, midDiff, maxDiff, mid, oldDiff;\n        var staleFlag = 0;\n        var i = 0;\n\n        while (i++ < 100) {\n            staleFlag = (oldDiff === maxDiff) ? (staleFlag + 1) : 0;\n\n            if (staleFlag > 5) {\n                break;\n            }\n\n            if (min !== mid) {\n                minDiff = this$1$1.getPlotBox(min, bbox, arc);\n                if (0 <= minDiff && minDiff <= 2) {\n                    break;\n                }\n            }\n\n            if (max !== mid) {\n                maxDiff = this$1$1.getPlotBox(max, bbox, arc);\n                if (0 <= maxDiff && maxDiff <= 2) {\n                    break;\n                }\n            }\n\n            if (minDiff > 0 && maxDiff > 0) {\n                mid = min * 2;\n            } else if (minDiff < 0 && maxDiff < 0) {\n                mid = max * 2;\n            } else {\n                mid = round$1(((min + max) / 2) || 1, COORD_PRECISION);\n            }\n\n            midDiff = this$1$1.getPlotBox(mid, bbox, arc);\n            if (0 <= midDiff && midDiff <= 2) {\n                break;\n            }\n\n            oldDiff = maxDiff;\n\n            if (midDiff > 0) {\n                max = mid;\n                maxDiff = midDiff;\n            } else {\n                min = mid;\n                minDiff = midDiff;\n            }\n        }\n    };\n\n    RadialGauge.prototype.getPlotBox = function getPlotBox (step, bbox, arc) {\n        var this$1$1 = this;\n\n        var scale = this.scale;\n        var pointers = this.pointers;\n        var radius = arc.getRadiusX();\n        var scaleArc = arc.clone();\n\n        scaleArc.setRadiusX(radius + step).setRadiusY(radius + step);\n\n        scale.arc = scaleArc;\n        scale.reflow(bbox);\n        this.plotBbox = scale.bbox;\n\n        for (var i = 0; i < pointers.length; i++) {\n            pointers[i].reflow(scaleArc);\n            this$1$1.plotBbox = Rect.union(this$1$1.plotBbox, pointers[i].bbox);\n        }\n\n        return this.getDiff(this.plotBbox, bbox);\n    };\n\n    RadialGauge.prototype.getDiff = function getDiff (plotBox, box) {\n        return Math.min(box.width() - plotBox.width(), box.height() - plotBox.height());\n    };\n\n    RadialGauge.prototype.alignScale = function alignScale (bbox) {\n        var this$1$1 = this;\n\n        var plotBoxCenter = this.plotBbox.center();\n        var boxCenter = bbox.center();\n        var paddingX = plotBoxCenter.x - boxCenter.x;\n        var paddingY = plotBoxCenter.y - boxCenter.y;\n        var ref = this;\n        var scale = ref.scale;\n        var pointers = ref.pointers;\n\n        scale.arc.center.x -= paddingX;\n        scale.arc.center.y -= paddingY;\n\n        scale.reflow(bbox);\n\n        for (var i = 0; i < pointers.length; i++) {\n            pointers[i].reflow(scale.arc);\n            this$1$1.plotBbox = Rect.union(scale.bbox, pointers[i].bbox);\n        }\n    };\n\n    RadialGauge.prototype._createModel = function _createModel () {\n        var this$1$1 = this;\n\n        var options = this.options;\n        var pointers = options.pointer;\n        var scale = this.scale = new RadialScale(options.scale, this.contextService);\n\n        this.pointers = [];\n\n        var pointersArr = isArray(pointers) ? pointers : [ pointers ];\n        for (var i = 0; i < pointersArr.length; i++) {\n            var current = new RadialPointer(scale, deepExtend({}, pointersArr[i], {\n                animation: {\n                    transitions: options.transitions\n                }\n            }));\n\n            this$1$1.pointers.push(current);\n        }\n    };\n\n    return RadialGauge;\n}(Gauge));\n\nsetDefaultOptions(RadialGauge, {\n    transitions: true,\n    gaugeArea: {\n        background: \"\"\n    }\n});\n\nvar ArcScale = (function (RadialScale) {\n    function ArcScale () {\n        RadialScale.apply(this, arguments);\n    }\n\n    if ( RadialScale ) ArcScale.__proto__ = RadialScale;\n    ArcScale.prototype = Object.create( RadialScale && RadialScale.prototype );\n    ArcScale.prototype.constructor = ArcScale;\n\n    ArcScale.prototype.rangeSegments = function rangeSegments () {\n        var ref = this.options;\n        var min = ref.min;\n        var max = ref.max;\n        var rangePlaceholderColor = ref.rangePlaceholderColor;\n        var rangeLineCap = ref.rangeLineCap;\n\n        return [ { from: min, to: max, color: rangePlaceholderColor, lineCap: rangeLineCap } ];\n    };\n\n    ArcScale.prototype.hasRanges = function hasRanges () {\n        return true;\n    };\n\n    ArcScale.prototype.placeholderRangeAngle = function placeholderRangeAngle (angle) {\n        var geometry = this.ranges.children[0].geometry();\n\n        if (this.options.reverse) {\n            geometry.setEndAngle(angle);\n        } else {\n            geometry.setStartAngle(angle);\n        }\n    };\n\n    ArcScale.prototype.addRange = function addRange (from, to, options) {\n        var reverse = this.options.reverse;\n\n        var startAngle = this.slotAngle(reverse ? to : from);\n        var endAngle = this.slotAngle(reverse ? from : to);\n\n        var range = this.createRange(startAngle, endAngle, this.getRangeRadius(), options);\n\n        this.ranges.append(range);\n\n        return range;\n    };\n\n    return ArcScale;\n}(RadialScale));\n\nsetDefaultOptions(ArcScale, {\n    min: 0,\n    max: 100,\n\n    majorTicks: {\n        visible: false\n    },\n\n    minorTicks: {\n        visible: false\n    },\n\n    labels: {\n        visible: false\n    },\n\n    startAngle: 0,\n    endAngle: 180,\n    rangeLineCap: 'round'\n});\n\nvar MAX_DURATION = 800;\n\nvar RangePointerAnimation = (function (superclass) {\n    function RangePointerAnimation(element, options) {\n        superclass.call(this, element, options);\n\n        var animationOptions = this.options;\n        var duration = (Math.abs(animationOptions.newAngle - animationOptions.oldAngle) / animationOptions.duration) * 1000;\n        animationOptions.duration = limitValue(duration, ANGULAR_SPEED, MAX_DURATION);\n\n        var startColor = element.elements.options.get(\"stroke.color\");\n        var color = element.currentColor();\n        if (startColor !== color) {\n            this.startColor = new Color(startColor);\n            this.color = new Color(color);\n        }\n    }\n\n    if ( superclass ) RangePointerAnimation.__proto__ = superclass;\n    RangePointerAnimation.prototype = Object.create( superclass && superclass.prototype );\n    RangePointerAnimation.prototype.constructor = RangePointerAnimation;\n\n    RangePointerAnimation.prototype.step = function step (pos) {\n        var ref = this;\n        var options = ref.options;\n        var startColor = ref.startColor;\n        var color = ref.color;\n        var angle = interpolateValue(options.oldAngle, options.newAngle, pos);\n        this.element.angle(angle);\n\n        if (color) {\n            var r = round$1(interpolateValue(startColor.r, color.r, pos));\n            var g = round$1(interpolateValue(startColor.g, color.g, pos));\n            var b = round$1(interpolateValue(startColor.b, color.b, pos));\n\n            this.element.stroke(new Color(r, g, b).toHex());\n        }\n    };\n\n    return RangePointerAnimation;\n}(Animation$1));\n\nsetDefaultOptions(RangePointerAnimation, {\n    easing: LINEAR,\n    duration: ANGULAR_SPEED\n});\n\nAnimationFactory.current.register(RADIAL_RANGE_POINTER, RangePointerAnimation);\n\nvar RangePointer = (function (Pointer) {\n    function RangePointer () {\n        Pointer.apply(this, arguments);\n    }\n\n    if ( Pointer ) RangePointer.__proto__ = Pointer;\n    RangePointer.prototype = Object.create( Pointer && Pointer.prototype );\n    RangePointer.prototype.constructor = RangePointer;\n\n    RangePointer.prototype.repaint = function repaint () {\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n        var oldAngle = scale.slotAngle(options._oldValue);\n        var newAngle = scale.slotAngle(options.value);\n\n        if (this.animation) {\n            this.animation.abort();\n        }\n\n        if (options.animation.transitions === false) {\n            this.angle(newAngle);\n            this.stroke(this.currentColor());\n        } else {\n            this.animation = new RangePointerAnimation(this, deepExtend(options.animation, {\n                oldAngle: oldAngle,\n                newAngle: newAngle\n            }));\n\n            this.animation.play();\n        }\n    };\n\n    RangePointer.prototype.angle = function angle (value) {\n        var geometry = this.elements.geometry();\n        if (this.scale.options.reverse) {\n            geometry.setStartAngle(value);\n        } else {\n            geometry.setEndAngle(value);\n        }\n        this.scale.placeholderRangeAngle(value);\n    };\n\n    RangePointer.prototype.stroke = function stroke (value) {\n        this.elements.stroke(value);\n    };\n\n    RangePointer.prototype.render = function render () {\n        if (this.elements) {\n            return;\n        }\n\n        var ref = this;\n        var scale = ref.scale;\n        var options = ref.options;\n\n        if (options.animation !== false) {\n            deepExtend(options.animation, {\n                startAngle: 0,\n                center: scale.arc.center,\n                reverse: scale.options.reverse\n            });\n        }\n\n        this.elements = scale.addRange(scale.options.min, this.options.value, {\n            color: this.currentColor(),\n            opacity: options.opacity,\n            lineCap: scale.options.rangeLineCap\n        });\n    };\n\n    RangePointer.prototype.currentColor = function currentColor () {\n        var ref = this.scale.options;\n        var min = ref.min;\n        var max = ref.max;\n        var ref$1 = this.options;\n        var colors = ref$1.colors;\n        var color = ref$1.color;\n        var value = ref$1.value;\n        var currentValue = isNumber(value) ? value : min;\n\n        if (colors) {\n            for (var idx = 0; idx < colors.length; idx++) {\n                var ref$2 = colors[idx];\n                var rangeColor = ref$2.color;\n                var from = ref$2.from; if ( from === void 0 ) from = min;\n                var to = ref$2.to; if ( to === void 0 ) to = max;\n\n                if (from <= currentValue && currentValue <= to) {\n                    return rangeColor;\n                }\n            }\n        }\n\n        return color;\n    };\n\n    RangePointer.prototype.reflow = function reflow () {\n        this.render();\n\n        this.bbox = this.elements.bbox();\n    };\n\n    return RangePointer;\n}(Pointer));\n\nsetDefaultOptions(RangePointer, {\n    animation: {\n        type: RADIAL_RANGE_POINTER,\n        duration: ANGULAR_SPEED\n    }\n});\n\nvar ArcGauge = (function (RadialGauge) {\n    function ArcGauge () {\n        RadialGauge.apply(this, arguments);\n    }\n\n    if ( RadialGauge ) ArcGauge.__proto__ = RadialGauge;\n    ArcGauge.prototype = Object.create( RadialGauge && RadialGauge.prototype );\n    ArcGauge.prototype.constructor = ArcGauge;\n\n    ArcGauge.prototype._initTheme = function _initTheme (theme) {\n        RadialGauge.prototype._initTheme.call(this, theme);\n\n        this.options.color = this.options.color || (this.theme.pointer || {}).color;\n    };\n\n    ArcGauge.prototype._createModel = function _createModel () {\n        var options = this.options;\n        var scale = this.scale = new ArcScale(options.scale, this.contextService);\n\n        var pointer = new RangePointer(scale, deepExtend({}, {\n            colors: options.colors,\n            color: options.color,\n            value: options.value,\n            opacity: options.opacity,\n            animation: {\n                transitions: options.transitions\n            }\n        }));\n\n        this.pointers = [ pointer ];\n    };\n\n    ArcGauge.prototype._buildPointers = function _buildPointers (pointers) {\n        for (var i = 0; i < pointers.length; i++) {\n            var current = pointers[i];\n            current.render();\n\n            current.value(current.options.value);\n        }\n    };\n\n    ArcGauge.prototype._setValueOptions = function _setValueOptions (value) {\n        this.options.value = value;\n    };\n\n    ArcGauge.prototype.currentColor = function currentColor () {\n        var pointer = this.pointers[0];\n        if (pointer) {\n            return pointer.currentColor();\n        }\n    };\n\n    ArcGauge.prototype.centerLabelPosition = function centerLabelPosition (width, height) {\n        var size = this.getSize();\n        var center = this.scale.arc.center;\n\n        var left = center.x - width / 2;\n        var top = center.y - height / 2;\n\n        if (width < size.width) {\n            var right = left + width;\n\n            left = Math.max(left, 0);\n\n            if (right > size.width) {\n                left -= right - size.width;\n            }\n        }\n\n        if (height < size.height) {\n            var bbox = this.scale.bbox;\n            var yLimit = bbox.bottomRight().y;\n            var bottom = top + height;\n\n            top = Math.max(top, bbox.origin.y);\n\n            if (bottom > yLimit) {\n                top -= bottom - yLimit;\n            }\n        }\n\n        return {\n            left: left,\n            top: top\n        };\n    };\n\n    return ArcGauge;\n}(RadialGauge));\n\nvar defaultStartAngle = 90;\n\nvar CircularGauge = (function (ArcGauge) {\n    function CircularGauge () {\n        ArcGauge.apply(this, arguments);\n    }\n\n    if ( ArcGauge ) CircularGauge.__proto__ = ArcGauge;\n    CircularGauge.prototype = Object.create( ArcGauge && ArcGauge.prototype );\n    CircularGauge.prototype.constructor = CircularGauge;\n\n    CircularGauge.prototype._createModel = function _createModel () {\n        var scaleOptions = this.options.scale;\n        if (typeof scaleOptions.startAngle !== 'number') {\n            scaleOptions.startAngle = defaultStartAngle;\n        }\n\n        scaleOptions.endAngle = scaleOptions.startAngle + 360;\n\n        ArcGauge.prototype._createModel.call(this);\n    };\n\n    return CircularGauge;\n}(ArcGauge));\n\nvar DEFAULT_QUIET_ZONE_LENGTH = 10;\n\nvar Encoding = (function (Class) {\n    function Encoding(options) {\n        Class.call(this);\n        this.setOptions(options);\n        this.initProperties();\n    }\n\n    if ( Class ) Encoding.__proto__ = Class;\n    Encoding.prototype = Object.create( Class && Class.prototype );\n    Encoding.prototype.constructor = Encoding;\n\n    Encoding.prototype.initProperties = function initProperties () { };\n\n    Encoding.prototype.setOptions = function setOptions (options) {\n        this.options = Object.assign({}, this.options, options);\n        this.quietZoneLength = this.options.addQuietZone ? 2 * this.options.quietZoneLength : 0;\n    };\n\n    Encoding.prototype.encode = function encode (value, width, height) {\n        var convertedValue = defined(value) ? String(value) : value;\n\n        this.initValue(convertedValue, width, height);\n\n        if (this.options.addQuietZone) {\n            this.addQuietZone();\n        }\n\n        this.addData();\n\n        if (this.options.addQuietZone) {\n            this.addQuietZone();\n        }\n\n        return {\n            baseUnit: this.baseUnit,\n            pattern: this.pattern\n        };\n    };\n\n    Encoding.prototype.initValue = function initValue () { };\n\n    Encoding.prototype.addQuietZone = function addQuietZone () {\n        this.pattern.push(this.options.quietZoneLength || DEFAULT_QUIET_ZONE_LENGTH);\n    };\n\n    Encoding.prototype.addData = function addData () { };\n\n    Encoding.prototype.invalidCharacterError = function invalidCharacterError (character) {\n        throw new Error((\"Character \\\"\" + character + \"\\\" is not valid for symbology \" + (this.name) + \".\"));\n    };\n\n    return Encoding;\n}(Class));\n\nsetDefaultOptions(Encoding, {\n    quietZoneLength: DEFAULT_QUIET_ZONE_LENGTH,\n    addQuietZone: true,\n    addCheckSum: true\n});\n\nvar extend$d = Object.assign;\n\nvar Code11 = (function (Encoding) {\n    function Code11 () {\n        Encoding.apply(this, arguments);\n    }\n\n    if ( Encoding ) Code11.__proto__ = Encoding;\n    Code11.prototype = Object.create( Encoding && Encoding.prototype );\n    Code11.prototype.constructor = Code11;\n\n    Code11.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend$d(this, {\n            name: \"Code 11\",\n            characterMap: [\"111121\", \"211121\", \"121121\", \"221111\", \"112121\", \"212111\", \"122111\", \"111221\", \"211211\", \"211111\", \"112111\"],\n            cCheckSumTotal: 10,\n            kCheckSumTotal: 9,\n            kCheckSumMinLength: 10,\n            checkSumMod: 11,\n            DASH_VALUE: 10,\n            DASH: \"-\",\n            START: \"112211\",\n            STOP: \"11221\"\n        });\n    };\n\n    Code11.prototype.initValue = function initValue (value, width) {\n        this.pattern = [];\n        this.value = value;\n        this.width = width;\n        this.totalUnits = 0;\n    };\n\n    Code11.prototype.addData = function addData () {\n        var this$1$1 = this;\n\n        var value = this.value;\n\n        this.addPattern(this.START);\n\n        for (var i = 0; i < value.length; i++) {\n            this$1$1.addCharacter(value.charAt(i));\n        }\n\n        if (this.options.addCheckSum) {\n            this.addCheckSum();\n        }\n\n        this.addPattern(this.STOP);\n        this.setBaseUnit();\n    };\n\n    Code11.prototype.setBaseUnit = function setBaseUnit () {\n        this.baseUnit = this.width / (this.totalUnits + this.quietZoneLength);\n    };\n\n    Code11.prototype.addCheckSum = function addCheckSum () {\n        var value = this.value;\n        var length = value.length;\n        var cValue = this.getWeightedSum(value, length, this.cCheckSumTotal) % this.checkSumMod;\n\n        this.checksum = String(cValue);\n        this.addPattern(this.characterMap[cValue]);\n\n        length++;\n\n        if (length >= this.kCheckSumMinLength) {\n            var kValue = (cValue + this.getWeightedSum(value, length, this.kCheckSumTotal)) % this.checkSumMod;\n            this.checksum += kValue;\n            this.addPattern(this.characterMap[kValue]);\n        }\n    };\n\n    Code11.prototype.getWeightedSum = function getWeightedSum (value, length, total) {\n        var this$1$1 = this;\n\n        var weightedSum = 0;\n\n        for (var i = 0; i < value.length; i++) {\n            weightedSum += this$1$1.weightedValue(this$1$1.getValue(value.charAt(i)), length, i, total);\n        }\n\n        return weightedSum;\n    };\n\n    Code11.prototype.weightedValue = function weightedValue (value, length, index, total) {\n        var weight = (length - index) % total || total;\n        return weight * value;\n    };\n\n    Code11.prototype.getValue = function getValue (character) {\n        if (!isNaN(character)) {\n            return parseInt(character, 10);\n        } else if (character !== this.DASH) {\n            this.invalidCharacterError(character);\n        }\n\n        return this.DASH_VALUE;\n    };\n\n    Code11.prototype.addCharacter = function addCharacter (character) {\n        var value = this.getValue(character);\n        var pattern = this.characterMap[value];\n\n        this.addPattern(pattern);\n    };\n\n    Code11.prototype.addPattern = function addPattern (pattern) {\n        var this$1$1 = this;\n\n        var value;\n\n        for (var i = 0; i < pattern.length; i++) {\n            value = parseInt(pattern.charAt(i), 10);\n            this$1$1.pattern.push(value);\n            this$1$1.totalUnits += value;\n        }\n    };\n\n    return Code11;\n}(Encoding));\n\nsetDefaultOptions(Code11, {\n    addCheckSum: true\n});\n\nvar extend$c = Object.assign;\n\nvar Code39Base = (function (Encoding) {\n    function Code39Base () {\n        Encoding.apply(this, arguments);\n    }\n\n    if ( Encoding ) Code39Base.__proto__ = Encoding;\n    Code39Base.prototype = Object.create( Encoding && Encoding.prototype );\n    Code39Base.prototype.constructor = Code39Base;\n\n    Code39Base.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend$c(this, {\n            minBaseUnitLength: 0.7\n        });\n    };\n\n    Code39Base.prototype.addData = function addData () {\n        var this$1$1 = this;\n\n        var value = this.value;\n\n        this.addStart();\n\n        for (var idx = 0; idx < value.length; idx++) {\n            this$1$1.addCharacter(value.charAt(idx));\n        }\n\n        if (this.options.addCheckSum) {\n            this.pushCheckSum();\n        }\n\n        this.addStop();\n        this.prepareValues();\n    };\n\n    Code39Base.prototype.addCharacter = function addCharacter (character) {\n        var characterData = this.characterMap[character];\n\n        if (!characterData) {\n            this.invalidCharacterError(character);\n        }\n\n        this.addBase(characterData);\n    };\n\n    Code39Base.prototype.addBase = function addBase () { };\n\n    return Code39Base;\n}(Encoding));\n\nvar Code39 = (function (Code39Base) {\n    function Code39 () {\n        Code39Base.apply(this, arguments);\n    }\n\n    if ( Code39Base ) Code39.__proto__ = Code39Base;\n    Code39.prototype = Object.create( Code39Base && Code39Base.prototype );\n    Code39.prototype.constructor = Code39;\n\n    Code39.prototype.initProperties = function initProperties () {\n        Code39Base.prototype.initProperties.call(this);\n\n        extend$c(this, {\n            name: \"Code 39\",\n            checkSumMod: 43,\n            minRatio: 2.5,\n            maxRatio: 3,\n            gapWidth: 1,\n            splitCharacter: \"|\",\n            patternMappings: {\n                \"b\": \"1|\",\n                \"w\": \"1|\",\n                \"B\": \"ratio|\",\n                \"W\": \"ratio|\"\n            },\n            characterMap: {\n                \"0\": { \"pattern\": \"bwbWBwBwb\", \"value\": 0 },\n                \"1\": { \"pattern\": \"BwbWbwbwB\", \"value\": 1 },\n                \"2\": { \"pattern\": \"bwBWbwbwB\", \"value\": 2 },\n                \"3\": { \"pattern\": \"BwBWbwbwb\", \"value\": 3 },\n                \"4\": { \"pattern\": \"bwbWBwbwB\", \"value\": 4 },\n                \"5\": { \"pattern\": \"BwbWBwbwb\", \"value\": 5 },\n                \"6\": { \"pattern\": \"bwBWBwbwb\", \"value\": 6 },\n                \"7\": { \"pattern\": \"bwbWbwBwB\", \"value\": 7 },\n                \"8\": { \"pattern\": \"BwbWbwBwb\", \"value\": 8 },\n                \"9\": { \"pattern\": \"bwBWbwBwb\", \"value\": 9 },\n                \"A\": { \"pattern\": \"BwbwbWbwB\", \"value\": 10 },\n                \"B\": { \"pattern\": \"bwBwbWbwB\", \"value\": 11 },\n                \"C\": { \"pattern\": \"BwBwbWbwb\", \"value\": 12 },\n                \"D\": { \"pattern\": \"bwbwBWbwB\", \"value\": 13 },\n                \"E\": { \"pattern\": \"BwbwBWbwb\", \"value\": 14 },\n                \"F\": { \"pattern\": \"bwBwBWbwb\", \"value\": 15 },\n                \"G\": { \"pattern\": \"bwbwbWBwB\", \"value\": 16 },\n                \"H\": { \"pattern\": \"BwbwbWBwb\", \"value\": 17 },\n                \"I\": { \"pattern\": \"bwBwbWBwb\", \"value\": 18 },\n                \"J\": { \"pattern\": \"bwbwBWBwb\", \"value\": 19 },\n                \"K\": { \"pattern\": \"BwbwbwbWB\", \"value\": 20 },\n                \"L\": { \"pattern\": \"bwBwbwbWB\", \"value\": 21 },\n                \"M\": { \"pattern\": \"BwBwbwbWb\", \"value\": 22 },\n                \"N\": { \"pattern\": \"bwbwBwbWB\", \"value\": 23 },\n                \"O\": { \"pattern\": \"BwbwBwbWb\", \"value\": 24 },\n                \"P\": { \"pattern\": \"bwBwBwbWb\", \"value\": 25 },\n                \"Q\": { \"pattern\": \"bwbwbwBWB\", \"value\": 26 },\n                \"R\": { \"pattern\": \"BwbwbwBWb\", \"value\": 27 },\n                \"S\": { \"pattern\": \"bwBwbwBWb\", \"value\": 28 },\n                \"T\": { \"pattern\": \"bwbwBwBWb\", \"value\": 29 },\n                \"U\": { \"pattern\": \"BWbwbwbwB\", \"value\": 30 },\n                \"V\": { \"pattern\": \"bWBwbwbwB\", \"value\": 31 },\n                \"W\": { \"pattern\": \"BWBwbwbwb\", \"value\": 32 },\n                \"X\": { \"pattern\": \"bWbwBwbwB\", \"value\": 33 },\n                \"Y\": { \"pattern\": \"BWbwBwbwb\", \"value\": 34 },\n                \"Z\": { \"pattern\": \"bWBwBwbwb\", \"value\": 35 },\n                \"-\": { \"pattern\": \"bWbwbwBwB\", \"value\": 36 },\n                \".\": { \"pattern\": \"BWbwbwBwb\", \"value\": 37 },\n                \" \": { \"pattern\": \"bWBwbwBwb\", \"value\": 38 },\n                \"$\": { \"pattern\": \"bWbWbWbwb\", \"value\": 39 },\n                \"/\": { \"pattern\": \"bWbWbwbWb\", \"value\": 40 },\n                \"+\": { \"pattern\": \"bWbwbWbWb\", \"value\": 41 },\n                \"%\": { \"pattern\": \"bwbWbWbWb\", \"value\": 42 },\n                START: { pattern: \"bWbwBwBwb\" }\n            }\n        });\n    };\n\n    Code39.prototype.initValue = function initValue (value, width, height) {\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.dataLength = value.length;\n        this.pattern = [];\n        this.patternString = \"\";\n    };\n\n    Code39.prototype.prepareValues = function prepareValues () {\n        var this$1$1 = this;\n\n        var minBaseUnit = this.minBaseUnitLength;\n        var minRatio = this.minRatio;\n        var minHeight = Math.ceil(Math.max(0.15 * this.width, 24));\n        var baseUnit;\n        var ratio = this.maxRatio;\n\n        if (this.height < minHeight) {\n            throw new Error((\"Insufficient height for Code39 encoding: the current height is \" + (this.height) + \"px and the minimum height is \" + minHeight + \"px.\"));\n        }\n\n        baseUnit = this.getBaseUnit(ratio);\n\n        while (baseUnit < minBaseUnit && ratio > minRatio) {\n            ratio = parseFloat((ratio - 0.1).toFixed(1));\n            baseUnit = this$1$1.getBaseUnit(ratio);\n        }\n\n        if (baseUnit < minBaseUnit) {\n            var minWidth = Math.ceil(this.getBaseWidth(minRatio) * minBaseUnit);\n            throw new Error((\"Insufficient width for Code39 encoding: the current width is \" + (this.width) + \"px and the minimum width for value \\\"\" + (this.value) + \"\\\" is \" + minWidth + \"px.\"));\n        }\n\n        this.ratio = ratio;\n        this.baseUnit = baseUnit;\n        this.patternString = this.patternString.substring(0, this.patternString.length - 1);\n        this.pattern = this.pattern.concat(this.patternString.replace(/ratio/g, ratio).split(this.splitCharacter));\n    };\n\n    Code39.prototype.getBaseUnit = function getBaseUnit (ratio) {\n        return this.width / this.getBaseWidth(ratio);\n    };\n\n    Code39.prototype.getBaseWidth = function getBaseWidth (ratio) {\n        var characterLength = 3 * (ratio + 2);\n        return this.quietZoneLength + characterLength * (this.dataLength + 2) + this.gapWidth * (this.dataLength + 1);\n    };\n\n    Code39.prototype.addStart = function addStart () {\n        this.addPattern(this.characterMap.START.pattern);\n        this.addCharacterGap();\n    };\n\n    Code39.prototype.addBase = function addBase (character) {\n        this.addPattern(character.pattern);\n        this.addCharacterGap();\n    };\n\n    Code39.prototype.addStop = function addStop () {\n        this.addPattern(this.characterMap.START.pattern);\n    };\n\n    Code39.prototype.addPattern = function addPattern (pattern) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < pattern.length; i++) {\n            this$1$1.patternString += this$1$1.patternMappings[pattern.charAt(i)];\n        }\n    };\n\n    Code39.prototype.addCharacterGap = function addCharacterGap () {\n        this.patternString += this.gapWidth + this.splitCharacter;\n    };\n\n    return Code39;\n}(Code39Base));\n\nsetDefaultOptions(Code39, {\n    addCheckSum: false\n});\n\nvar Code39ExtendedBase = {\n    addCharacter: function addCharacter(character) {\n        if (this.characterMap[character]) {\n            this.addBase(this.characterMap[character]);\n        } else if (character.charCodeAt(0) > 127) {\n            this.invalidCharacterError(character);\n        } else {\n            this.addExtended(character.charCodeAt(0));\n        }\n    },\n\n    addExtended: function addExtended(code) {\n        var this$1$1 = this;\n\n        var patterns;\n\n        for (var i = 0; i < this.extendedMappings.length; i++) {\n            patterns = this$1$1.extendedMappings[i].call(this$1$1, code);\n\n            if (patterns) {\n                for (var patternIndex = 0; patternIndex < patterns.length; patternIndex++) {\n                    var pattern = patterns[patternIndex];\n                    this$1$1.addBase(pattern);\n                }\n\n                this$1$1.dataLength += patterns.length - 1;\n                return;\n            }\n        }\n    },\n\n    extendedMappings: [\n        function(code) {\n            if (97 <= code && code <= 122) {\n                return [this.characterMap[this.shiftCharacters[0]], this.characterMap[String.fromCharCode(code - 32)]];\n            }\n        },\n        function(code) {\n            if (33 <= code && code <= 58) {\n                return [this.characterMap[this.shiftCharacters[1]], this.characterMap[String.fromCharCode(code + 32)]];\n            }\n        },\n        function(code) {\n            if (1 <= code && code <= 26) {\n                return [this.characterMap[this.shiftCharacters[2]], this.characterMap[String.fromCharCode(code + 64)]];\n            }\n        },\n        function(code) {\n            var this$1$1 = this;\n\n            var result;\n            var dataCharacter;\n\n            if (!this.specialAsciiCodes[code]) {\n                dataCharacter = Math.floor(code / 32) * 6 + (code - 27) % 32 + 64;\n                result = [this.characterMap[this.shiftCharacters[3]], this.characterMap[String.fromCharCode(dataCharacter)]];\n            } else {\n                result = [];\n\n                for (var i = 0; i < this.specialAsciiCodes[code].length; i++) {\n                    result.push(this$1$1.characterMap[this$1$1.shiftCharacters[3]]);\n                    result.push(this$1$1.characterMap[this$1$1.specialAsciiCodes[code][i]]);\n                }\n            }\n\n            return result;\n        }\n    ],\n    specialAsciiCodes: {\n        \"0\": [\"U\"],\n        \"64\": [\"V\"],\n        \"96\": [\"W\"],\n        \"127\": [\"T\", \"X\", \"Y\", \"Z\"]\n    },\n    shiftValuesAsciiCodes: {\n        \"39\": 36,\n        \"40\": 47,\n        \"41\": 43,\n        \"42\": 37\n    },\n    characterMap: {\n        \"+\": false,\n        \"/\": false,\n        \"$\": false,\n        \"%\": false\n    },\n    shiftCharacters: [\"SHIFT0\", \"SHIFT1\", \"SHIFT2\", \"SHIFT3\"]\n};\n\nvar Code39Extended = (function (Code39) {\n    function Code39Extended () {\n        Code39.apply(this, arguments);\n    }\n\n    if ( Code39 ) Code39Extended.__proto__ = Code39;\n    Code39Extended.prototype = Object.create( Code39 && Code39.prototype );\n    Code39Extended.prototype.constructor = Code39Extended;\n\n    Code39Extended.prototype.initProperties = function initProperties () {\n        Code39.prototype.initProperties.call(this);\n\n        deepExtend(this, Code39ExtendedBase, {\n            name: \"Code 39 extended\",\n            characterMap: {\n                SHIFT0: { \"pattern\": \"bWbwbWbWb\", \"value\": 41 },\n                SHIFT1: { \"pattern\": \"bWbWbwbWb\", \"value\": 40 },\n                SHIFT2: { \"pattern\": \"bWbWbWbwb\", \"value\": 39 },\n                SHIFT3: { \"pattern\": \"bwbWbWbWb\", \"value\": 42 }\n            }\n        });\n    };\n\n    return Code39Extended;\n}(Code39));\n\nvar extend$b = Object.assign;\n\nvar Code93 = (function (Code39Base) {\n    function Code93 () {\n        Code39Base.apply(this, arguments);\n    }\n\n    if ( Code39Base ) Code93.__proto__ = Code39Base;\n    Code93.prototype = Object.create( Code39Base && Code39Base.prototype );\n    Code93.prototype.constructor = Code93;\n\n    Code93.prototype.initProperties = function initProperties () {\n        Code39Base.prototype.initProperties.call(this);\n\n        extend$b(this, {\n            name: \"Code 93\",\n            cCheckSumTotal: 20,\n            kCheckSumTotal: 15,\n            checkSumMod: 47,\n            characterMap: {\n                \"0\": { \"pattern\": \"131112\", \"value\": 0 },\n                \"1\": { \"pattern\": \"111213\", \"value\": 1 },\n                \"2\": { \"pattern\": \"111312\", \"value\": 2 },\n                \"3\": { \"pattern\": \"111411\", \"value\": 3 },\n                \"4\": { \"pattern\": \"121113\", \"value\": 4 },\n                \"5\": { \"pattern\": \"121212\", \"value\": 5 },\n                \"6\": { \"pattern\": \"121311\", \"value\": 6 },\n                \"7\": { \"pattern\": \"111114\", \"value\": 7 },\n                \"8\": { \"pattern\": \"131211\", \"value\": 8 },\n                \"9\": { \"pattern\": \"141111\", \"value\": 9 },\n                \"A\": { \"pattern\": \"211113\", \"value\": 10 },\n                \"B\": { \"pattern\": \"211212\", \"value\": 11 },\n                \"C\": { \"pattern\": \"211311\", \"value\": 12 },\n                \"D\": { \"pattern\": \"221112\", \"value\": 13 },\n                \"E\": { \"pattern\": \"221211\", \"value\": 14 },\n                \"F\": { \"pattern\": \"231111\", \"value\": 15 },\n                \"G\": { \"pattern\": \"112113\", \"value\": 16 },\n                \"H\": { \"pattern\": \"112212\", \"value\": 17 },\n                \"I\": { \"pattern\": \"112311\", \"value\": 18 },\n                \"J\": { \"pattern\": \"122112\", \"value\": 19 },\n                \"K\": { \"pattern\": \"132111\", \"value\": 20 },\n                \"L\": { \"pattern\": \"111123\", \"value\": 21 },\n                \"M\": { \"pattern\": \"111222\", \"value\": 22 },\n                \"N\": { \"pattern\": \"111321\", \"value\": 23 },\n                \"O\": { \"pattern\": \"121122\", \"value\": 24 },\n                \"P\": { \"pattern\": \"131121\", \"value\": 25 },\n                \"Q\": { \"pattern\": \"212112\", \"value\": 26 },\n                \"R\": { \"pattern\": \"212211\", \"value\": 27 },\n                \"S\": { \"pattern\": \"211122\", \"value\": 28 },\n                \"T\": { \"pattern\": \"211221\", \"value\": 29 },\n                \"U\": { \"pattern\": \"221121\", \"value\": 30 },\n                \"V\": { \"pattern\": \"222111\", \"value\": 31 },\n                \"W\": { \"pattern\": \"112122\", \"value\": 32 },\n                \"X\": { \"pattern\": \"112221\", \"value\": 33 },\n                \"Y\": { \"pattern\": \"122121\", \"value\": 34 },\n                \"Z\": { \"pattern\": \"123111\", \"value\": 35 },\n                \"-\": { \"pattern\": \"121131\", \"value\": 36 },\n                \".\": { \"pattern\": \"311112\", \"value\": 37 },\n                \" \": { \"pattern\": \"311211\", \"value\": 38 },\n                \"$\": { \"pattern\": \"321111\", \"value\": 39 },\n                \"/\": { \"pattern\": \"112131\", \"value\": 40 },\n                \"+\": { \"pattern\": \"113121\", \"value\": 41 },\n                \"%\": { \"pattern\": \"211131\", \"value\": 42 },\n                SHIFT0: { \"pattern\": \"122211\", \"value\": 46 },\n                SHIFT1: { \"pattern\": \"311121\", \"value\": 45 },\n                SHIFT2: { \"pattern\": \"121221\", \"value\": 43 },\n                SHIFT3: { \"pattern\": \"312111\", \"value\": 44 },\n                START: { \"pattern\": \"111141\" },\n                TERMINATION_BAR: \"1\"\n            }\n        });\n    };\n\n    Code93.prototype.initValue = function initValue (value, width, height) {\n        this.value = value;\n        this.width = width;\n        this.height = height;\n        this.pattern = [];\n        this.values = [];\n        this.dataLength = value.length;\n    };\n\n    Code93.prototype.prepareValues = function prepareValues () {\n        var minHeight = Math.ceil(Math.max(0.15 * this.width, 24));\n\n        if (this.height < minHeight) {\n            throw new Error((\"Insufficient height for Code93 encoding: the current height is \" + (this.height) + \"px, the minimum required height is \" + minHeight + \"px.\"));\n        }\n\n        this.setBaseUnit();\n\n        if (this.baseUnit < this.minBaseUnitLength) {\n            var minWidth = Math.ceil(this.minBaseUnitLength * (this.width / this.baseUnit));\n            throw new Error((\"Insufficient width for Code93 encoding: the current width is \" + (this.width) + \"px and the minimum required width for value \\\"\" + (this.value) + \"\\\" is \" + minWidth + \"px.\"));\n        }\n    };\n\n    Code93.prototype.setBaseUnit = function setBaseUnit () {\n        var checkSumLength = 2;\n\n        this.baseUnit = this.width / (9 * (this.dataLength + 2 + checkSumLength) + this.quietZoneLength + 1);\n    };\n\n    Code93.prototype.addStart = function addStart () {\n        var pattern = this.characterMap.START.pattern;\n        this.addPattern(pattern);\n    };\n\n    Code93.prototype.addStop = function addStop () {\n        this.addStart();\n        this.pattern.push(this.characterMap.TERMINATION_BAR);\n    };\n\n    Code93.prototype.addBase = function addBase (charData) {\n        this.addPattern(charData.pattern);\n        this.values.push(charData.value);\n    };\n\n    Code93.prototype.pushCheckSum = function pushCheckSum () {\n        var this$1$1 = this;\n\n        var checkValues = this._getCheckValues();\n        var charData;\n\n        this.checksum = checkValues.join(\"\");\n\n        for (var i = 0; i < checkValues.length; i++) {\n            charData = this$1$1.characterMap[this$1$1._findCharacterByValue(checkValues[i])];\n            this$1$1.addPattern(charData.pattern);\n        }\n    };\n\n    Code93.prototype._getCheckValues = function _getCheckValues () {\n        var this$1$1 = this;\n\n        var values = this.values;\n        var length = values.length;\n        var wightedSum = 0;\n        var cValue;\n        var kValue;\n        var idx;\n\n        for (idx = length - 1; idx >= 0; idx--) {\n            wightedSum += this$1$1.weightedValue(values[idx], length - idx, this$1$1.cCheckSumTotal);\n        }\n\n        cValue = wightedSum % this.checkSumMod;\n\n        wightedSum = this.weightedValue(cValue, 1, this.kCheckSumTotal);\n\n        for (idx = length - 1; idx >= 0; idx--) {\n            wightedSum += this$1$1.weightedValue(values[idx], length - idx + 1, this$1$1.kCheckSumTotal);\n        }\n\n        kValue = wightedSum % this.checkSumMod;\n        return [cValue, kValue];\n    };\n\n    Code93.prototype._findCharacterByValue = function _findCharacterByValue (value) {\n        var this$1$1 = this;\n\n        for (var character in this$1$1.characterMap) {\n            if (this$1$1.characterMap[character].value === value) {\n                return character;\n            }\n        }\n    };\n\n    Code93.prototype.weightedValue = function weightedValue (value, index, total) {\n        return (index % total || total) * value;\n    };\n\n    Code93.prototype.addPattern = function addPattern (pattern) {\n        var this$1$1 = this;\n\n        var value;\n\n        for (var i = 0; i < pattern.length; i++) {\n            value = parseInt(pattern.charAt(i), 10);\n            this$1$1.pattern.push(value);\n        }\n    };\n\n    return Code93;\n}(Code39Base));\n\nvar Code93Extended = (function (Code93) {\n    function Code93Extended () {\n        Code93.apply(this, arguments);\n    }\n\n    if ( Code93 ) Code93Extended.__proto__ = Code93;\n    Code93Extended.prototype = Object.create( Code93 && Code93.prototype );\n    Code93Extended.prototype.constructor = Code93Extended;\n\n    Code93Extended.prototype.initProperties = function initProperties () {\n        Code93.prototype.initProperties.call(this);\n\n        deepExtend(this, Code39ExtendedBase, {\n            name: \"Code 93 extended\",\n            pushCheckSum: function() {\n                var this$1$1 = this;\n\n                var checkValues = this._getCheckValues();\n                var value;\n\n                this.checksum = checkValues.join(\"\");\n\n                for (var i = 0; i < checkValues.length; i++) {\n                    value = checkValues[i];\n\n                    if (this$1$1.shiftValuesAsciiCodes[value]) {\n                        this$1$1.addExtended(this$1$1.shiftValuesAsciiCodes[value]);\n                    } else {\n                        var characterByValue = this$1$1._findCharacterByValue(value);\n                        this$1$1.addPattern(this$1$1.characterMap[characterByValue].pattern);\n                    }\n                }\n            }\n        });\n    };\n\n    return Code93Extended;\n}(Code93));\n\nvar numberRegex$2 = /^\\d+$/;\nvar extend$a = Object.assign;\n\nvar Postnet = (function (Encoding) {\n    function Postnet () {\n        Encoding.apply(this, arguments);\n    }\n\n    if ( Encoding ) Postnet.__proto__ = Encoding;\n    Postnet.prototype = Object.create( Encoding && Encoding.prototype );\n    Postnet.prototype.constructor = Postnet;\n\n    Postnet.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend$a(this, {\n            name: \"Postnet\",\n            START: \"2\",\n            VALID_CODE_LENGTHS: [5, 9, 11],\n            DIGIT_SEPARATOR: \"-\",\n            characterMap: [\"22111\", \"11122\", \"11212\", \"11221\", \"12112\", \"12121\", \"12211\", \"21112\", \"21121\", \"21211\"]\n        });\n    };\n\n    Postnet.prototype.initValue = function initValue (value, width, height) {\n        this.height = height;\n        this.width = width;\n        this.baseHeight = height / 2;\n        this.value = value.replace(new RegExp(this.DIGIT_SEPARATOR, \"g\"), \"\");\n        this.pattern = [];\n        this.validate(this.value);\n        this.checkSum = 0;\n        this.setBaseUnit();\n    };\n\n    Postnet.prototype.addData = function addData () {\n        var this$1$1 = this;\n\n        var value = this.value;\n\n        this.addPattern(this.START);\n\n        for (var i = 0; i < value.length; i++) {\n            this$1$1.addCharacter(value.charAt(i));\n        }\n\n        if (this.options.addCheckSum) {\n            this.addCheckSum();\n        }\n\n        this.addPattern(this.START);\n        this.pattern.pop();\n    };\n\n    Postnet.prototype.addCharacter = function addCharacter (character) {\n        var pattern = this.characterMap[character];\n        this.checkSum += parseInt(character, 10);\n        this.addPattern(pattern);\n    };\n\n    Postnet.prototype.addCheckSum = function addCheckSum () {\n        this.checksum = (10 - (this.checkSum % 10)) % 10;\n        this.addCharacter(this.checksum);\n    };\n\n    Postnet.prototype.setBaseUnit = function setBaseUnit () {\n        var startStopLength = 3;\n\n        this.baseUnit = this.width / ((this.value.length + 1) * 10 + startStopLength + this.quietZoneLength);\n    };\n\n    Postnet.prototype.validate = function validate (value) {\n        if (!numberRegex$2.test(value)) {\n            this.invalidCharacterError(value.match(/[^0-9]/)[0]);\n        }\n\n        if (!inArray(value.length, this.VALID_CODE_LENGTHS)) {\n            throw new Error(\"Invalid value length. Valid lengths for the Postnet symbology are \" + this.VALID_CODE_LENGTHS.join(\",\") + \".\");\n        }\n    };\n\n    Postnet.prototype.addPattern = function addPattern (pattern) {\n        var this$1$1 = this;\n\n        var y1;\n\n        for (var i = 0; i < pattern.length; i++) {\n            y1 = this$1$1.height - this$1$1.baseHeight * pattern.charAt(i);\n            this$1$1.pattern.push({ width: 1, y1: y1, y2: this$1$1.height });\n            this$1$1.pattern.push(1);\n        }\n    };\n\n    return Postnet;\n}(Encoding));\n\nvar numberRegex$1 = /^\\d+$/;\nvar alphanumericRegex = /^[a-z0-9]+$/i;\nvar extend$9 = Object.assign;\n\nvar State128 = (function (Class) {\n    function State128(encoding) {\n        Class.call(this);\n        this.encoding = encoding;\n        this.initProperties();\n    }\n\n    if ( Class ) State128.__proto__ = Class;\n    State128.prototype = Object.create( Class && Class.prototype );\n    State128.prototype.constructor = State128;\n\n    State128.prototype.initProperties = function initProperties () { };\n\n    State128.prototype.addStart = function addStart () { };\n\n    State128.prototype.is = function is () { };\n\n    State128.prototype.isCode = function isCode () {\n        return false;\n    };\n\n    State128.prototype.move = function move () { };\n\n    State128.prototype.pushState = function pushState () { };\n\n    return State128;\n}(Class));\n\nvar State128AB = (function (State128) {\n    function State128AB(encoding, states) {\n        State128.call(this, encoding);\n        this.states = states;\n        this._initMoves(states);\n    }\n\n    if ( State128 ) State128AB.__proto__ = State128;\n    State128AB.prototype = Object.create( State128 && State128.prototype );\n    State128AB.prototype.constructor = State128AB;\n\n    State128AB.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        deepExtend(this, {\n            FNC4: \"FNC4\",\n            SHIFT: 98\n        });\n    };\n\n    State128AB.prototype.addStart = function addStart () {\n        this.encoding.addPattern(this.START);\n    };\n\n    State128AB.prototype.is = function is (value, index) {\n        var code = value.charCodeAt(index);\n        return this.isCode(code);\n    };\n\n    State128AB.prototype.move = function move (encodingState) {\n        var idx = 0;\n\n        while (!this._moves[idx].call(this, encodingState) && idx < this._moves.length) {\n            idx++;\n        }\n    };\n\n    State128AB.prototype.pushState = function pushState (encodingState) {\n        var this$1$1 = this;\n\n        var states = this.states,\n            value = encodingState.value,\n            maxLength = value.length,\n            code;\n\n        if (inArray(\"C\", states)) {\n            var numberMatch = value.substr(encodingState.index).match(/\\d{4,}/g);\n\n            if (numberMatch) {\n                maxLength = value.indexOf(numberMatch[0], encodingState.index);\n            }\n        }\n\n        while ((code = encodingState.value.charCodeAt(encodingState.index)) >= 0 &&\n            this.isCode(code) &&\n            encodingState.index < maxLength) {\n            this$1$1.encoding.addPattern(this$1$1.getValue(code));\n            encodingState.index++;\n        }\n    };\n\n    State128AB.prototype._initMoves = function _initMoves (states) {\n        this._moves = [];\n\n        if (inArray(this.FNC4, states)) {\n            this._moves.push(this._moveFNC);\n        }\n\n        if (inArray(this.shiftKey, states)) {\n            this._moves.push(this._shiftState);\n        }\n\n        this._moves.push(this._moveState);\n    };\n\n    State128AB.prototype._moveFNC = function _moveFNC (encodingState) {\n        if (encodingState.fnc) {\n            encodingState.fnc = false;\n            return encodingState.previousState === this.key;\n        }\n    };\n\n    State128AB.prototype._shiftState = function _shiftState (encodingState) {\n        if (encodingState.previousState === this.shiftKey &&\n            (encodingState.index + 1 >= encodingState.value.length ||\n                this.encoding[this.shiftKey].is(encodingState.value, encodingState.index + 1))) {\n            this.encoding.addPattern(this.SHIFT);\n            encodingState.shifted = true;\n            return true;\n        }\n    };\n\n    State128AB.prototype._moveState = function _moveState () {\n        this.encoding.addPattern(this.MOVE);\n        return true;\n    };\n\n    return State128AB;\n}(State128));\n\nvar states128 = {};\n\nstates128.A = (function (State128AB) {\n    function State128A () {\n        State128AB.apply(this, arguments);\n    }\n\n    if ( State128AB ) State128A.__proto__ = State128AB;\n    State128A.prototype = Object.create( State128AB && State128AB.prototype );\n    State128A.prototype.constructor = State128A;\n\n    State128A.prototype.initProperties = function initProperties () {\n        State128AB.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            key: \"A\",\n            shiftKey: \"B\",\n            MOVE: 101,\n            START: 103\n        });\n    };\n\n    State128A.prototype.isCode = function isCode (code) {\n        return 0 <= code && code < 96;\n    };\n\n    State128A.prototype.getValue = function getValue (code) {\n        if (code < 32) {\n            return code + 64;\n        }\n\n        return code - 32;\n    };\n\n    return State128A;\n}(State128AB));\n\nstates128.B = (function (State128AB) {\n    function State128B () {\n        State128AB.apply(this, arguments);\n    }\n\n    if ( State128AB ) State128B.__proto__ = State128AB;\n    State128B.prototype = Object.create( State128AB && State128AB.prototype );\n    State128B.prototype.constructor = State128B;\n\n    State128B.prototype.initProperties = function initProperties () {\n        State128AB.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            key: \"B\",\n            shiftKey: \"A\",\n            MOVE: 100,\n            START: 104\n        });\n    };\n\n    State128B.prototype.isCode = function isCode (code) {\n        return 32 <= code && code < 128;\n    };\n\n    State128B.prototype.getValue = function getValue (code) {\n        return code - 32;\n    };\n\n    return State128B;\n}(State128AB));\n\nstates128.C = (function (State128) {\n    function State128C () {\n        State128.apply(this, arguments);\n    }\n\n    if ( State128 ) State128C.__proto__ = State128;\n    State128C.prototype = Object.create( State128 && State128.prototype );\n    State128C.prototype.constructor = State128C;\n\n    State128C.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            key: \"C\",\n            MOVE: 99,\n            START: 105\n        });\n    };\n\n    State128C.prototype.addStart = function addStart () {\n        this.encoding.addPattern(this.START);\n    };\n\n    State128C.prototype.is = function is (value, index) {\n        var next4 = getSubstring(value, index, 4);\n        return (index + 4 <= value.length || value.length === 2) && numberRegex$1.test(next4);\n    };\n\n    State128C.prototype.move = function move () {\n        this.encoding.addPattern(this.MOVE);\n    };\n\n    State128C.prototype.pushState = function pushState (encodingState) {\n        var this$1$1 = this;\n\n        var code;\n\n        while ((code = getSubstring(encodingState.value, encodingState.index, 2)) &&\n            numberRegex$1.test(code) && code.length === 2) {\n            this$1$1.encoding.addPattern(parseInt(code, 10));\n            encodingState.index += 2;\n        }\n    };\n\n    State128C.prototype.getValue = function getValue (code) {\n        return code;\n    };\n\n    return State128C;\n}(State128));\n\nstates128.FNC4 = (function (State128) {\n    function State128FNC4(encoding, states) {\n        State128.call(this, encoding);\n        this._initSubStates(states);\n    }\n\n    if ( State128 ) State128FNC4.__proto__ = State128;\n    State128FNC4.prototype = Object.create( State128 && State128.prototype );\n    State128FNC4.prototype.constructor = State128FNC4;\n\n    State128FNC4.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            key: \"FNC4\",\n            dependentStates: [\"A\", \"B\"]\n        });\n    };\n\n    State128FNC4.prototype.addStart = function addStart (encodingState) {\n        var code = encodingState.value.charCodeAt(0) - 128,\n            subState = this._getSubState(code);\n\n        this.encoding[subState].addStart();\n    };\n\n    State128FNC4.prototype.is = function is (value, index) {\n        var code = value.charCodeAt(index);\n        return this.isCode(code);\n    };\n\n    State128FNC4.prototype.isCode = function isCode (code) {\n        return 128 <= code && code < 256;\n    };\n\n    State128FNC4.prototype.pushState = function pushState (encodingState) {\n        var this$1$1 = this;\n\n        var subState = this._initSubState(encodingState),\n            encoding = this.encoding,\n            length = subState.value.length;\n        var code;\n\n        encodingState.index += length;\n\n        if (length < 3) {\n            for (; subState.index < length; subState.index++) {\n                code = subState.value.charCodeAt(subState.index);\n                subState.state = this$1$1._getSubState(code);\n\n                if (subState.previousState !== subState.state) {\n                    subState.previousState = subState.state;\n                    encoding[subState.state].move(subState);\n                }\n\n                encoding.addPattern(encoding[subState.state].MOVE);\n                encoding.addPattern(encoding[subState.state].getValue(code));\n            }\n        } else {\n            if (subState.state !== subState.previousState) {\n                encoding[subState.state].move(subState);\n            }\n\n            this._pushStart(subState);\n            encoding.pushData(subState, this.subStates);\n\n            if (encodingState.index < encodingState.value.length) {\n                this._pushStart(subState);\n            }\n        }\n\n        encodingState.fnc = true;\n        encodingState.state = subState.state;\n    };\n\n    State128FNC4.prototype._pushStart = function _pushStart (subState) {\n        this.encoding.addPattern(this.encoding[subState.state].MOVE);\n        this.encoding.addPattern(this.encoding[subState.state].MOVE);\n    };\n\n    State128FNC4.prototype._initSubState = function _initSubState (encodingState) {\n        var subState = {\n            value: this._getAll(encodingState.value, encodingState.index),\n            index: 0\n        };\n\n        subState.state = this._getSubState(subState.value.charCodeAt(0));\n        subState.previousState = encodingState.previousState === this.key ?\n            subState.state :\n            encodingState.previousState;\n\n        return subState;\n    };\n\n    State128FNC4.prototype._initSubStates = function _initSubStates (states) {\n        var this$1$1 = this;\n\n        this.subStates = [];\n\n        for (var i = 0; i < states.length; i++) {\n            if (inArray(states[i], this$1$1.dependentStates)) {\n                this$1$1.subStates.push(states[i]);\n            }\n        }\n    };\n\n    State128FNC4.prototype._getSubState = function _getSubState (code) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < this.subStates.length; i++) {\n            if (this$1$1.encoding[this$1$1.subStates[i]].isCode(code)) {\n                return this$1$1.subStates[i];\n            }\n        }\n    };\n\n    State128FNC4.prototype._getAll = function _getAll (value, index) {\n        var code;\n        var result = \"\";\n        var i = index;\n\n        while ((code = value.charCodeAt(i++)) && this.isCode(code)) {\n            result += String.fromCharCode(code - 128);\n        }\n\n        return result;\n    };\n\n    return State128FNC4;\n}(State128));\n\nstates128.FNC1 = (function (State128) {\n    function States128FNC1(encoding, states) {\n        State128.call(this, encoding);\n        this.states = states;\n    }\n\n    if ( State128 ) States128FNC1.__proto__ = State128;\n    States128FNC1.prototype = Object.create( State128 && State128.prototype );\n    States128FNC1.prototype.constructor = States128FNC1;\n\n    States128FNC1.prototype.initProperties = function initProperties () {\n        State128.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            key: \"FNC1\",\n            startState: \"C\",\n            startAI: \"(\",\n            endAI: \")\",\n            dependentStates: [\"C\", \"B\"],\n            applicationIdentifiers: {\n                \"22\": { max: 29, type: \"alphanumeric\" },\n                \"402\": { length: 17 },\n                \"7004\": { max: 4, type: \"alphanumeric\" },\n                \"242\": { max: 6, type: \"alphanumeric\" },\n                \"8020\": { max: 25, type: \"alphanumeric\" },\n                \"703\": { min: 3, max: 30, type: \"alphanumeric\" },\n                \"8008\": { min: 8, max: 12, type: \"alphanumeric\" },\n                \"253\": { min: 13, max: 17, type: \"alphanumeric\" },\n                \"8003\": { min: 14, max: 30, type: \"alphanumeric\" },\n                multiKey: [{\n                    ids: [\"15\", \"17\", \"8005\", \"8100\"],\n                    ranges: [\n                        [11, 13],\n                        [310, 316],\n                        [320, 336],\n                        [340, 369]\n                    ],\n                    type: { length: 6 }\n                }, {\n                    ids: [\"240\", \"241\", \"250\", \"251\", \"400\", \"401\", \"403\", \"7002\", \"8004\", \"8007\", \"8110\"],\n                    ranges: [[90 - 99]],\n                    type: { max: 30, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"7001\"],\n                    ranges: [[410, 414]],\n                    type: { length: 13 }\n                }, {\n                    ids: [\"10\", \"21\", \"254\", \"420\", \"8002\"],\n                    type: { max: 20, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"00\", \"8006\", \"8017\", \"8018\"],\n                    type: { length: 18 }\n                }, {\n                    ids: [\"01\", \"02\", \"8001\"],\n                    type: { length: 14 }\n                }, {\n                    ids: [\"422\"],\n                    ranges: [\n                        [424, 426]\n                    ],\n                    type: { length: 3 }\n                }, {\n                    ids: [\"20\", \"8102\"],\n                    type: { length: 2 }\n                }, {\n                    ids: [\"30\", \"37\"],\n                    type: { max: 8, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"390\", \"392\"],\n                    type: { max: 15, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"421\", \"423\"],\n                    type: { min: 3, max: 15, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"391\", \"393\"],\n                    type: { min: 3, max: 18, type: \"alphanumeric\" }\n                }, {\n                    ids: [\"7003\", \"8101\"],\n                    type: { length: 10 }\n                }]\n            },\n            START: 102\n        });\n    };\n\n\n    States128FNC1.prototype.addStart = function addStart () {\n        this.encoding[this.startState].addStart();\n    };\n\n    States128FNC1.prototype.is = function is () {\n        return inArray(this.key, this.states);\n    };\n\n    States128FNC1.prototype.pushState = function pushState (encodingState) {\n        var this$1$1 = this;\n\n        var encoding = this.encoding,\n            value = encodingState.value.replace(/\\s/g, \"\"),\n            regexSeparators = new RegExp(\"[\" + this.startAI + this.endAI + \"]\", \"g\"),\n            index = encodingState.index,\n            subState = {\n                state: this.startState\n            },\n            current,\n            nextStart,\n            separatorLength;\n\n        encoding.addPattern(this.START);\n\n        var trueCondition = true;\n\n        while (trueCondition) {\n            subState.index = 0;\n\n            separatorLength = value.charAt(index) === this$1$1.startAI ? 2 : 0;\n            current = separatorLength > 0 ? this$1$1.getBySeparator(value, index) : this$1$1.getByLength(value, index);\n\n            if (current.ai.length) {\n                nextStart = index + separatorLength + current.id.length + current.ai.length;\n            } else {\n                nextStart = value.indexOf(this$1$1.startAI, index + 1);\n\n                if (nextStart < 0) {\n                    if (index + current.ai.max + current.id.length + separatorLength < value.length) {\n                        throw new Error(\"Separators are required after variable length identifiers\");\n                    }\n\n                    nextStart = value.length;\n                }\n            }\n\n            subState.value = value.substring(index, nextStart).replace(regexSeparators, \"\");\n            this$1$1.validate(current, subState.value);\n            encoding.pushData(subState, this$1$1.dependentStates);\n\n            if (nextStart >= value.length) {\n                break;\n            }\n\n            index = nextStart;\n\n            if (subState.state !== this$1$1.startState) {\n                encoding[this$1$1.startState].move(subState);\n                subState.state = this$1$1.startState;\n            }\n\n            if (!current.ai.length) {\n                encoding.addPattern(this$1$1.START);\n            }\n        }\n\n        encodingState.index = encodingState.value.length;\n    };\n\n    States128FNC1.prototype.validate = function validate (current, value) {\n        var code = value.substr(current.id.length),\n            ai = current.ai;\n\n        if (!ai.type && !numberRegex$1.test(code)) {\n            throw new Error(\"Application identifier \" + current.id + \" is numeric only but contains non numeric character(s).\");\n        }\n\n        if (ai.type === \"alphanumeric\" && !alphanumericRegex.test(code)) {\n            throw new Error(\"Application identifier \" + current.id + \" is alphanumeric only but contains non alphanumeric character(s).\");\n        }\n\n        if (ai.length && ai.length !== code.length) {\n            throw new Error(\"Application identifier \" + current.id + \" must be \" + ai.length + \" characters long.\");\n        }\n\n        if (ai.min && ai.min > code.length) {\n            throw new Error(\"Application identifier \" + current.id + \" must be at least \" + ai.min + \" characters long.\");\n        }\n\n        if (ai.max && ai.max < code.length) {\n            throw new Error(\"Application identifier \" + current.id + \" must be at most \" + ai.max + \" characters long.\");\n        }\n    };\n\n    States128FNC1.prototype.getByLength = function getByLength (value, index) {\n        var this$1$1 = this;\n\n        var id;\n        var applicationIdentifier;\n\n        for (var i = 2; i <= 4; i++) {\n            id = getSubstring(value, index, i);\n            applicationIdentifier = this$1$1.getApplicationIdentifier(id) || this$1$1.getApplicationIdentifier(id.substring(0, id.length - 1));\n            if (applicationIdentifier) {\n                return {\n                    id: id,\n                    ai: applicationIdentifier\n                };\n            }\n        }\n        this.unsupportedAIError(id);\n    };\n\n    States128FNC1.prototype.unsupportedAIError = function unsupportedAIError (id) {\n        throw new Error(\"'\" + id + \"' is not a supported Application Identifier\");\n    };\n\n    States128FNC1.prototype.getBySeparator = function getBySeparator (value, index) {\n        var start = value.indexOf(this.startAI, index),\n            end = value.indexOf(this.endAI, start),\n            id = value.substring(start + 1, end),\n            ai = this.getApplicationIdentifier(id) || this.getApplicationIdentifier(id.substr(id.length - 1));\n\n        if (!ai) {\n            this.unsupportedAIError(id);\n        }\n\n        return {\n            ai: ai,\n            id: id\n        };\n    };\n\n    States128FNC1.prototype.getApplicationIdentifier = function getApplicationIdentifier (id) {\n        var applicationIdentifier = this.applicationIdentifiers,\n            multiKey = applicationIdentifier.multiKey;\n\n        if (applicationIdentifier[id]) {\n            return applicationIdentifier[id];\n        }\n\n        for (var i = 0; i < multiKey.length; i++) {\n            if (multiKey[i].ids && inArray(id, multiKey[i].ids)) {\n                return multiKey[i].type;\n            } else if (multiKey[i].ranges) {\n                var ranges = multiKey[i].ranges;\n\n                for (var j = 0; j < ranges.length; j++) {\n                    if (ranges[j][0] <= id && id <= ranges[j][1]) {\n                        return multiKey[i].type;\n                    }\n                }\n            }\n        }\n    };\n\n    return States128FNC1;\n}(State128));\n\nvar Code128Base = (function (Encoding) {\n    function Code128Base(options) {\n        Encoding.call(this, options);\n        this._initStates();\n    }\n\n    if ( Encoding ) Code128Base.__proto__ = Encoding;\n    Code128Base.prototype = Object.create( Encoding && Encoding.prototype );\n    Code128Base.prototype.constructor = Code128Base;\n\n    Code128Base.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            characterMap: [\n                212222, 222122, 222221, 121223, 121322, 131222, 122213, 122312, 132212, 221213,\n                221312, 231212, 112232, 122132, 122231, 113222, 123122, 123221, 223211, 221132,\n                221231, 213212, 223112, 312131, 311222, 321122, 321221, 312212, 322112, 322211,\n                212123, 212321, 232121, 111323, 131123, 131321, 112313, 132113, 132311, 211313,\n                231113, 231311, 112133, 112331, 132131, 113123, 113321, 133121, 313121, 211331,\n                231131, 213113, 213311, 213131, 311123, 311321, 331121, 312113, 312311, 332111,\n                314111, 221411, 431111, 111224, 111422, 121124, 121421, 141122, 141221, 112214,\n                112412, 122114, 122411, 142112, 142211, 241211, 221114, 413111, 241112, 134111,\n                111242, 121142, 121241, 114212, 124112, 124211, 411212, 421112, 421211, 212141,\n                214121, 412121, 111143, 111341, 131141, 114113, 114311, 411113, 411311, 113141,\n                114131, 311141, 411131, 211412, 211214, 211232, 2331112\n            ],\n            STOP: 106\n        });\n    };\n\n    Code128Base.prototype._initStates = function _initStates () {\n        var this$1$1 = this;\n\n        for (var i = 0; i < this.states.length; i++) {\n            this$1$1[this$1$1.states[i]] = new states128[this$1$1.states[i]](this$1$1, this$1$1.states);\n        }\n    };\n\n    Code128Base.prototype.initValue = function initValue (value, width, height) {\n        this.pattern = [];\n        this.value = value;\n        this.width = width;\n        this.height = height;\n        this.checkSum = 0;\n        this.totalUnits = 0;\n        this.index = 0;\n        this.position = 1;\n    };\n\n    Code128Base.prototype.addData = function addData () {\n        var encodingState = {\n            value: this.value,\n            index: 0,\n            state: \"\"\n        };\n\n        if (this.value.length === 0) {\n            return;\n        }\n\n        encodingState.state =\n            encodingState.previousState = this.getNextState(encodingState, this.states);\n\n        this.addStart(encodingState);\n\n        this.pushData(encodingState, this.states);\n\n        this.addCheckSum();\n        this.addStop();\n        this.setBaseUnit();\n    };\n\n    Code128Base.prototype.pushData = function pushData (encodingState, states) {\n        var this$1$1 = this;\n\n        var trueCondition = true;\n\n        while (trueCondition) {\n            this$1$1[encodingState.state].pushState(encodingState);\n\n            if (encodingState.index >= encodingState.value.length) {\n                break;\n            }\n\n            if (!encodingState.shifted) {\n                encodingState.previousState = encodingState.state;\n                encodingState.state = this$1$1.getNextState(encodingState, states);\n                this$1$1[encodingState.state].move(encodingState);\n            } else {\n                var temp = encodingState.state;\n                encodingState.state = encodingState.previousState;\n                encodingState.previousState = temp;\n                encodingState.shifted = false;\n            }\n        }\n    };\n\n    Code128Base.prototype.addStart = function addStart (encodingState) {\n        this[encodingState.state].addStart(encodingState);\n        this.position = 1;\n    };\n\n    Code128Base.prototype.addCheckSum = function addCheckSum () {\n        this.checksum = this.checkSum % 103;\n        this.addPattern(this.checksum);\n    };\n\n    Code128Base.prototype.addStop = function addStop () {\n        this.addPattern(this.STOP);\n    };\n\n    Code128Base.prototype.setBaseUnit = function setBaseUnit () {\n        this.baseUnit = this.width / (this.totalUnits + this.quietZoneLength);\n    };\n\n    Code128Base.prototype.addPattern = function addPattern (code) {\n        var this$1$1 = this;\n\n        var pattern = this.characterMap[code].toString();\n        var value;\n\n        for (var i = 0; i < pattern.length; i++) {\n            value = parseInt(pattern.charAt(i), 10);\n            this$1$1.pattern.push(value);\n            this$1$1.totalUnits += value;\n        }\n        this.checkSum += code * this.position++;\n    };\n\n    Code128Base.prototype.getNextState = function getNextState (encodingState, states) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < states.length; i++) {\n            if (this$1$1[states[i]].is(encodingState.value, encodingState.index)) {\n                return states[i];\n            }\n        }\n\n        this.invalidCharacterError(encodingState.value.charAt(encodingState.index));\n    };\n\n    return Code128Base;\n}(Encoding));\n\nvar Code128a = (function (Code128Base) {\n    function Code128a () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128a.__proto__ = Code128Base;\n    Code128a.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128a.prototype.constructor = Code128a;\n\n    Code128a.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            name: \"Code 128 A\",\n            states: [\"A\"]\n        });\n    };\n\n    return Code128a;\n}(Code128Base));\n\nvar Code128b = (function (Code128Base) {\n    function Code128b () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128b.__proto__ = Code128Base;\n    Code128b.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128b.prototype.constructor = Code128b;\n\n    Code128b.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            name: \"Code 128 B\",\n            states: [\"B\"]\n        });\n    };\n\n    return Code128b;\n}(Code128Base));\n\nvar Code128c = (function (Code128Base) {\n    function Code128c () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128c.__proto__ = Code128Base;\n    Code128c.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128c.prototype.constructor = Code128c;\n\n    Code128c.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            name: \"Code 128 C\",\n            states: [\"C\"]\n        });\n    };\n\n    return Code128c;\n}(Code128Base));\n\nvar Code128 = (function (Code128Base) {\n    function Code128 () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) Code128.__proto__ = Code128Base;\n    Code128.prototype = Object.create( Code128Base && Code128Base.prototype );\n    Code128.prototype.constructor = Code128;\n\n    Code128.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            name: \"Code 128\",\n            states: [\"C\", \"B\", \"A\", \"FNC4\"]\n        });\n    };\n\n    return Code128;\n}(Code128Base));\n\nvar CodeGS1128 = (function (Code128Base) {\n    function CodeGS1128 () {\n        Code128Base.apply(this, arguments);\n    }\n\n    if ( Code128Base ) CodeGS1128.__proto__ = Code128Base;\n    CodeGS1128.prototype = Object.create( Code128Base && Code128Base.prototype );\n    CodeGS1128.prototype.constructor = CodeGS1128;\n\n    CodeGS1128.prototype.initProperties = function initProperties () {\n        Code128Base.prototype.initProperties.call(this);\n\n        extend$9(this, {\n            name: \"Code GS1-128\",\n            states: [\"FNC1\", \"C\", \"B\"]\n        });\n    };\n\n    return CodeGS1128;\n}(Code128Base));\n\nfunction getSubstring(value, index, count) {\n    return value.substring(index, index + count);\n}\n\nvar extend$8 = Object.assign;\n\nvar MsiBase = (function (Encoding) {\n    function MsiBase () {\n        Encoding.apply(this, arguments);\n    }\n\n    if ( Encoding ) MsiBase.__proto__ = Encoding;\n    MsiBase.prototype = Object.create( Encoding && Encoding.prototype );\n    MsiBase.prototype.constructor = MsiBase;\n\n    MsiBase.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend$8(this, {\n            characterMap: [\n                \"12121212\",\n                \"12121221\",\n                \"12122112\",\n                \"12122121\",\n                \"12211212\",\n                \"12211221\",\n                \"12212112\",\n                \"12212121\",\n                \"21121212\",\n                \"21121221\"\n            ],\n            START: \"21\",\n            STOP: \"121\",\n            checkSumType: \"\",\n            checkSums: checkSums\n        });\n    };\n\n    MsiBase.prototype.initValue = function initValue (value, width) {\n        this.pattern = [];\n        this.value = value;\n        this.checkSumLength = 0;\n        this.width = width;\n    };\n\n    MsiBase.prototype.setBaseUnit = function setBaseUnit () {\n        var startStopLength = 7;\n\n        this.baseUnit = this.width /\n            (12 * (this.value.length + this.checkSumLength) + this.quietZoneLength + startStopLength);\n    };\n\n    MsiBase.prototype.addData = function addData () {\n        var this$1$1 = this;\n\n        var value = this.value;\n\n        this.addPattern(this.START);\n\n        for (var i = 0; i < value.length; i++) {\n            this$1$1.addCharacter(value.charAt(i));\n        }\n\n        if (this.options.addCheckSum) {\n            this.addCheckSum();\n        }\n\n        this.addPattern(this.STOP);\n        this.setBaseUnit();\n    };\n\n    MsiBase.prototype.addCharacter = function addCharacter (character) {\n        var pattern = this.characterMap[character];\n\n        if (!pattern) {\n            this.invalidCharacterError(character);\n        }\n\n        this.addPattern(pattern);\n    };\n\n    MsiBase.prototype.addPattern = function addPattern (pattern) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < pattern.length; i++) {\n            this$1$1.pattern.push(parseInt(pattern.charAt(i), 10));\n        }\n    };\n\n    MsiBase.prototype.addCheckSum = function addCheckSum () {\n        var this$1$1 = this;\n\n        var checkSumFunction = this.checkSums[this.checkSumType];\n        var checkValues = checkSumFunction.call(this.checkSums, this.value);\n\n        this.checksum = checkValues.join(\"\");\n\n        for (var i = 0; i < checkValues.length; i++) {\n            this$1$1.checkSumLength++;\n            this$1$1.addPattern(this$1$1.characterMap[checkValues[i]]);\n        }\n    };\n\n    return MsiBase;\n}(Encoding));\n\nvar MsiMod10 = (function (MsiBase) {\n    function MsiMod10 () {\n        MsiBase.apply(this, arguments);\n    }\n\n    if ( MsiBase ) MsiMod10.__proto__ = MsiBase;\n    MsiMod10.prototype = Object.create( MsiBase && MsiBase.prototype );\n    MsiMod10.prototype.constructor = MsiMod10;\n\n    MsiMod10.prototype.initProperties = function initProperties () {\n        MsiBase.prototype.initProperties.call(this);\n\n        extend$8(this, {\n            name: \"MSI Modulo10\",\n            checkSumType: \"Modulo10\"\n        });\n    };\n\n    return MsiMod10;\n}(MsiBase));\n\nvar MsiMod11 = (function (MsiBase) {\n    function MsiMod11 () {\n        MsiBase.apply(this, arguments);\n    }\n\n    if ( MsiBase ) MsiMod11.__proto__ = MsiBase;\n    MsiMod11.prototype = Object.create( MsiBase && MsiBase.prototype );\n    MsiMod11.prototype.constructor = MsiMod11;\n\n    MsiMod11.prototype.initProperties = function initProperties () {\n        MsiBase.prototype.initProperties.call(this);\n\n        extend$8(this, {\n            name: \"MSI Modulo11\",\n            checkSumType: \"Modulo11\"\n        });\n    };\n\n    return MsiMod11;\n}(MsiBase));\n\nvar MsiMod1010 = (function (MsiBase) {\n    function MsiMod1010 () {\n        MsiBase.apply(this, arguments);\n    }\n\n    if ( MsiBase ) MsiMod1010.__proto__ = MsiBase;\n    MsiMod1010.prototype = Object.create( MsiBase && MsiBase.prototype );\n    MsiMod1010.prototype.constructor = MsiMod1010;\n\n    MsiMod1010.prototype.initProperties = function initProperties () {\n        MsiBase.prototype.initProperties.call(this);\n\n        extend$8(this, {\n            name: \"MSI Modulo10 Modulo10\",\n            checkSumType: \"Modulo10Modulo10\"\n        });\n    };\n\n    return MsiMod1010;\n}(MsiBase));\n\nvar MsiMod1110 = (function (MsiBase) {\n    function MsiMod1110 () {\n        MsiBase.apply(this, arguments);\n    }\n\n    if ( MsiBase ) MsiMod1110.__proto__ = MsiBase;\n    MsiMod1110.prototype = Object.create( MsiBase && MsiBase.prototype );\n    MsiMod1110.prototype.constructor = MsiMod1110;\n\n    MsiMod1110.prototype.initProperties = function initProperties () {\n        MsiBase.prototype.initProperties.call(this);\n\n        extend$8(this, {\n            name: \"MSI Modulo11 Modulo10\",\n            checkSumType: \"Modulo11Modulo10\"\n        });\n    };\n\n    return MsiMod1110;\n}(MsiBase));\n\nvar checkSums = {\n    Modulo10: function Modulo10(value) {\n        var checkValues = [0, \"\"],\n            odd = value.length % 2,\n            idx,\n            evenSum,\n            oddSum;\n\n        for (idx = 0; idx < value.length; idx++) {\n            checkValues[(idx + odd) % 2] += parseInt(value.charAt(idx), 10);\n        }\n\n        oddSum = checkValues[0];\n        evenSum = (checkValues[1] * 2).toString();\n\n        for (idx = 0; idx < evenSum.length; idx++) {\n            oddSum += parseInt(evenSum.charAt(idx), 10);\n        }\n\n        return [(10 - (oddSum % 10)) % 10];\n    },\n    Modulo11: function Modulo11(value) {\n        var weightedSum = 0,\n            mod = 11,\n            length = value.length,\n            weight,\n            checkValue;\n\n        for (var i = 0; i < length; i++) {\n            weight = ((length - i) % 6 || 6) + 1;\n            weightedSum += weight * value.charAt(i);\n        }\n\n        checkValue = (mod - weightedSum % mod) % mod;\n\n        if (checkValue !== 10) {\n            return [checkValue];\n        }\n\n        return [1, 0];\n    },\n    Modulo11Modulo10: function Modulo11Modulo10(value) {\n        var checkValues = this.Modulo11(value),\n            mod11Value;\n        mod11Value = value + checkValues[0];\n\n        return checkValues.concat(this.Modulo10(mod11Value));\n    },\n    Modulo10Modulo10: function Modulo10Modulo10(value) {\n        var checkValues = this.Modulo10(value),\n            mod10Value;\n        mod10Value = value + checkValues[0];\n\n        return checkValues.concat(this.Modulo10(mod10Value));\n    }\n};\n\nvar extend$7 = Object.assign;\n\nvar Ean13 = (function (Encoding) {\n    function Ean13 () {\n        Encoding.apply(this, arguments);\n    }\n\n    if ( Encoding ) Ean13.__proto__ = Encoding;\n    Ean13.prototype = Object.create( Encoding && Encoding.prototype );\n    Ean13.prototype.constructor = Ean13;\n\n    Ean13.prototype.initProperties = function initProperties () {\n        Encoding.prototype.initProperties.call(this);\n\n        extend$7(this, {\n            name: \"EAN 13\",\n            keyTable: [\n                '000000',\n                '001011',\n                '001101',\n                '001110',\n                '010011',\n                '011001',\n                '011100',\n                '010101',\n                '010110',\n                '011010'\n            ],\n            characterMap: {\n                digits: [\n                    [3, 2, 1, 1],\n                    [2, 2, 2, 1],\n                    [2, 1, 2, 2],\n                    [1, 4, 1, 1],\n                    [1, 1, 3, 2],\n                    [1, 2, 3, 1],\n                    [1, 1, 1, 4],\n                    [1, 3, 1, 2],\n                    [1, 2, 1, 3],\n                    [3, 1, 1, 2]\n                ],\n                start: [1, 1, 1],\n                middle: [1, 1, 1, 1, 1]\n            }\n        });\n    };\n\n    Ean13.prototype.initValue = function initValue (value, width, height) {\n        var valueAsString = String(value);\n\n        if (valueAsString.length !== 12 || /\\D/.test(valueAsString)) {\n            throw new Error('The value of the \"EAN13\" encoding should be 12 symbols');\n        }\n\n        this.pattern = [];\n        this.options.height = height;\n        this.baseUnit = width / (95 + this.quietZoneLength);\n        this.value = valueAsString;\n        this.checksum = this.calculateChecksum();\n        this.leftKey = valueAsString[0];\n        this.leftPart = valueAsString.substr(1, 6);\n        this.rightPart = valueAsString.substr(7) + this.checksum;\n    };\n\n    Ean13.prototype.addData = function addData () {\n        this.addPieces(this.characterMap.start);\n        this.addSide(this.leftPart, this.leftKey);\n        this.addPieces(this.characterMap.middle);\n        this.addSide(this.rightPart);\n        this.addPieces(this.characterMap.start);\n    };\n\n    Ean13.prototype.addSide = function addSide (leftPart, key) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < leftPart.length; i++) {\n            if (key && parseInt(this$1$1.keyTable[key].charAt(i), 10)) {\n                this$1$1.addPieces(Array.prototype.slice.call(this$1$1.characterMap.digits[leftPart.charAt(i)]).reverse(), true);\n            } else {\n                this$1$1.addPieces(this$1$1.characterMap.digits[leftPart.charAt(i)], true);\n            }\n        }\n    };\n\n    Ean13.prototype.addPieces = function addPieces (arrToAdd, limitedHeight) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < arrToAdd.length; i++) {\n            if (limitedHeight) {\n                this$1$1.pattern.push({\n                    y1: 0,\n                    y2: this$1$1.options.height * 0.95,\n                    width: arrToAdd[i]\n                });\n            } else {\n                this$1$1.pattern.push(arrToAdd[i]);\n            }\n        }\n    };\n\n    Ean13.prototype.calculateChecksum = function calculateChecksum () {\n        var odd = 0,\n            even = 0,\n            value = this.value.split(\"\").reverse().join(\"\");\n\n        for (var i = 0; i < value.length; i++) {\n            if (i % 2) {\n                even += parseInt(value.charAt(i), 10);\n            } else {\n                odd += parseInt(value.charAt(i), 10);\n            }\n        }\n\n        var checksum = (10 - ((3 * odd + even) % 10)) % 10;\n\n        return checksum;\n    };\n\n    return Ean13;\n}(Encoding));\n\nvar extend$6 = Object.assign;\n\nvar Ean8 = (function (Ean13) {\n    function Ean8 () {\n        Ean13.apply(this, arguments);\n    }\n\n    if ( Ean13 ) Ean8.__proto__ = Ean13;\n    Ean8.prototype = Object.create( Ean13 && Ean13.prototype );\n    Ean8.prototype.constructor = Ean8;\n\n    Ean8.prototype.initProperties = function initProperties () {\n        Ean13.prototype.initProperties.call(this);\n\n        extend$6(this, {\n            name: \"EAN 8\"\n        });\n    };\n\n    Ean8.prototype.initValue = function initValue (value, width, height) {\n        if (value.length !== 7 || /\\D/.test(value)) {\n            throw new Error('Invalid value provided');\n        }\n\n        this.value = value;\n        this.options.height = height;\n        this.checksum = this.calculateChecksum(this.value);\n        this.leftPart = this.value.substr(0, 4);\n        this.rightPart = this.value.substr(4) + this.checksum;\n        this.pattern = [];\n        this.baseUnit = width / (67 + this.quietZoneLength);\n    };\n\n    return Ean8;\n}(Ean13));\n\nvar Encodings = {\n    code11: Code11,\n\n    code39: Code39,\n    code39extended: Code39Extended,\n\n    code93: Code93,\n    code93extended: Code93Extended,\n\n    code128: Code128,\n    code128a: Code128a,\n    code128b: Code128b,\n    code128c: Code128c\n};\nEncodings[\"gs1-128\"] = CodeGS1128;\nEncodings.msimod10 = MsiMod10;\nEncodings.msimod11 = MsiMod11;\nEncodings.msimod1010 = MsiMod1010;\nEncodings.msimod1110 = MsiMod1110;\nEncodings.postnet = Postnet;\nEncodings.ean8 = Ean8;\nEncodings.ean13 = Ean13;\n\nfunction surfaceSize(element, surfaceType) {\n    var display = element.style.display;\n    if (surfaceType === 'canvas') {\n        // The Canvas default size is different from SVG for\n        // inline-block containers such as the Barcode and QR Code.\n        //\n        // Switch to display: block to get same dimensions.\n        element.style.display = 'block';\n    }\n\n    var size = {\n        width: element.clientWidth,\n        height: element.clientHeight\n    };\n\n    element.style.display = display;\n\n    return size;\n}\n\nvar DEFAULT_BARCODE_WIDTH = 300;\nvar DEFAULT_BARCODE_HEIGHT = 100;\n\nvar Barcode = (function (Class) {\n    function Barcode(element, options, errorHandler) {\n        if ( errorHandler === void 0 ) errorHandler = defaultErrorHandler;\n\n        Class.call(this);\n\n        this.options = deepExtend({}, this.options, options);\n        this.element = element;\n        this.onError = errorHandler;\n\n        this._initElement();\n        this._initSurface();\n        this._setOptions(options);\n\n        if (options && defined(options.value)) {\n            this.redraw();\n        }\n    }\n\n    if ( Class ) Barcode.__proto__ = Class;\n    Barcode.prototype = Object.create( Class && Class.prototype );\n    Barcode.prototype.constructor = Barcode;\n\n    Barcode.prototype.destroy = function destroy () {\n        this._destroySurface();\n    };\n\n    Barcode.prototype._initElement = function _initElement () {\n        addClass(this.element, \"k-barcode\");\n    };\n\n    Barcode.prototype._initSurface = function _initSurface () {\n        var ref = this;\n        var options = ref.options;\n        var surface = ref.surface;\n\n        if (!surface || surface.options.type !== options.renderAs) {\n            this._destroySurface();\n            this._initSurfaceElement();\n            this.surface = this._createSurface();\n        }\n    };\n\n    Barcode.prototype._createSurface = function _createSurface () {\n        return Surface$1.create(this.surfaceElement, {\n            type: this.options.renderAs\n        });\n    };\n\n    Barcode.prototype._destroySurface = function _destroySurface () {\n        if (this.surface) {\n            this.surface.destroy();\n            this.surface = null;\n            this._destroySurfaceElement();\n        }\n    };\n\n    Barcode.prototype._initSurfaceElement = function _initSurfaceElement () {\n        if (!this.surfaceElement) {\n            this.surfaceElement = document.createElement('div');\n            this.surfaceElement.style.position = 'relative';\n            this.element.appendChild(this.surfaceElement);\n        }\n    };\n\n    Barcode.prototype._destroySurfaceElement = function _destroySurfaceElement () {\n        if (this.surfaceElement && this.surfaceElement.parentNode) {\n            this.surfaceElement.parentNode.removeChild(this.surfaceElement);\n            this.surfaceElement = null;\n        }\n    };\n\n    Barcode.prototype.setOptions = function setOptions (options) {\n        this._setOptions(options);\n        this._initSurface();\n        this.redraw();\n    };\n\n    Barcode.prototype.redraw = function redraw () {\n        var size = this._getSize();\n\n        this.surface.clear();\n\n        this.surface.setSize({\n            width: size.width,\n            height: size.height\n        });\n\n        this.createVisual();\n\n        this.surface.draw(this.visual);\n    };\n\n    Barcode.prototype.getSize = function getSize () {\n        return {\n            width: this.element.offsetWidth,\n            height: this.element.offsetHeight\n        };\n    };\n\n    Barcode.prototype._resize = function _resize () {\n        this.redraw();\n    };\n\n    Barcode.prototype.createVisual = function createVisual () {\n        this.visual = this._render();\n    };\n\n    Barcode.prototype._render = function _render () {\n        var options = this.options;\n        var value = options.value;\n        var textOptions = options.text;\n        var textMargin = getSpacing(textOptions.margin);\n        var size = this._getSize();\n        var border = options.border || {};\n        var encoding = this.encoding;\n        var contentBox = new Box(0, 0, size.width, size.height).unpad(border.width).unpad(options.padding);\n        var barHeight = contentBox.height();\n        var encodedValue;\n        var textToDisplay;\n        var textHeight;\n        var visual = new Group$8();\n\n        this.contentBox = contentBox;\n        visual.append(this._getBackground(size));\n\n        if (textOptions.visible) {\n            textHeight = measureText(value, { font: textOptions.font }).height;\n            barHeight -= textHeight + textMargin.top + textMargin.bottom;\n        }\n\n        try {\n            encodedValue = encoding.encode(value, contentBox.width(), barHeight);\n        } catch (error) {\n            this.onError(error);\n            return visual;\n        }\n\n        if (textOptions.visible) {\n            textToDisplay = value;\n\n            if (options.checksum && defined(encoding.checksum)) {\n                textToDisplay += \" \" + encoding.checksum;\n            }\n\n            visual.append(this._getText(textToDisplay));\n        }\n\n        this.barHeight = barHeight;\n        this._bandsGroup = this._getBands(encodedValue.pattern, encodedValue.baseUnit);\n        visual.append(this._bandsGroup);\n\n        return visual;\n    };\n\n    Barcode.prototype.exportVisual = function exportVisual () {\n        return this._render();\n    };\n\n    Barcode.prototype._getSize = function _getSize () {\n        var element = this.element;\n        var elementSize = surfaceSize(element, this.options.renderAs);\n        var size = new Size(DEFAULT_BARCODE_WIDTH, DEFAULT_BARCODE_HEIGHT);\n\n        if (elementSize.width > 0) {\n            size.width = elementSize.width;\n        }\n\n        if (elementSize.height > 0) {\n            size.height = elementSize.height;\n        }\n\n        if (this.options.width) {\n            size.width = this.options.width;\n        }\n\n        if (this.options.height) {\n            size.height = this.options.height;\n        }\n\n        return size;\n    };\n\n    Barcode.prototype.value = function value (value$1) {\n        if (!defined(value$1)) {\n            return this.options.value;\n        }\n\n        this.options.value = String(value$1);\n        this.redraw();\n    };\n\n    Barcode.prototype._getBands = function _getBands (pattern, baseUnit) {\n        var this$1$1 = this;\n\n        var contentBox = this.contentBox;\n        var offsetX = contentBox.x1;\n        var stepX;\n        var patternItem;\n        var group = new Group$8();\n\n        for (var i = 0; i < pattern.length; i++) {\n            patternItem = isObject(pattern[i]) ? pattern[i] : {\n                width: pattern[i],\n                y1: 0,\n                y2: this$1$1.barHeight\n            };\n\n            stepX = patternItem.width * baseUnit;\n\n            if (i % 2) {\n                var rect = Rect.fromPoints(\n                    new Point$6(offsetX, patternItem.y1 + contentBox.y1),\n                    new Point$6(offsetX + stepX, patternItem.y2 + contentBox.y1)\n                );\n\n                var path = Path$7.fromRect(rect, {\n                    fill: {\n                        color: this$1$1.options.color\n                    },\n                    stroke: null\n                });\n\n                group.append(path);\n            }\n\n            offsetX += stepX;\n        }\n\n        return group;\n    };\n\n    Barcode.prototype._getBackground = function _getBackground (size) {\n        var options = this.options;\n        var border = options.border || {};\n        var box = new Box(0, 0, size.width, size.height).unpad(border.width / 2);\n        var path = Path$7.fromRect(box.toRect(), {\n            fill: {\n                color: options.background\n            },\n            stroke: {\n                color: border.width ? border.color : \"\",\n                width: border.width,\n                dashType: border.dashType\n            }\n        });\n\n        return path;\n    };\n\n    Barcode.prototype._getText = function _getText (value) {\n        var textOptions = this.options.text;\n        var text = this._textbox = new TextBox(value, {\n            font: textOptions.font,\n            color: textOptions.color,\n            align: \"center\",\n            vAlign: \"bottom\",\n            margin: textOptions.margin\n        });\n\n        text.reflow(this.contentBox);\n        text.renderVisual();\n\n        return text.visual;\n    };\n\n    Barcode.prototype._setOptions = function _setOptions (options) {\n        this.type = (options.type || this.options.type).toLowerCase();\n\n        if (this.type === \"upca\") {\n            this.type = \"ean13\";\n            options.value = '0' + options.value;\n        }\n\n        if (this.type === \"upce\") {\n            this.type = \"ean8\";\n            options.value = '0' + options.value;\n        }\n\n        if (!Encodings[this.type]) {\n            throw new Error((\"Encoding '\" + (this.type) + \"' is not supported.\"));\n        }\n\n        this.encoding = new Encodings[this.type]();\n\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    return Barcode;\n}(Class));\n\nsetDefaultOptions(Barcode, {\n    name: \"Barcode\",\n    renderAs: \"svg\",\n    value: \"\",\n    type: \"code39\",\n    checksum: false,\n    width: 0,\n    height: 0,\n    color: \"black\",\n    background: \"white\",\n    text: {\n        visible: true,\n        font: \"16px Consolas, Monaco, Sans Mono, monospace, sans-serif\",\n        color: \"black\",\n        margin: {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0\n        }\n    },\n    border: {\n        width: 0,\n        dashType: \"solid\",\n        color: \"black\"\n    },\n    padding: {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n    }\n});\n\nvar validate = function (encoding, size, prefix) { return function (value) {\n    try {\n        encoding.encode(\n            prefix + value,\n            size.width,\n            size.height\n        );\n    } catch (error) {\n        return {\n            valid: false,\n            error: error\n        };\n    }\n\n    return {\n        valid: true\n    };\n}; };\n\n// A default size for encodings, so the validator can check only the value if no size is provided.\nvar fallbackSize = { width: 500, height: 100 };\n\nfunction barcodeValidator(type, size) {\n    if ( size === void 0 ) size = fallbackSize;\n\n    if (!type) {\n        throw new Error(\"Please specify barcode type to validate.\");\n    }\n\n    var resolvedType = type.toLowerCase();\n    var prefix = '';\n    if (resolvedType === 'upca') {\n        resolvedType = 'ean13';\n        prefix = '0';\n    } else if (resolvedType === 'upce') {\n        resolvedType = 'ean8';\n        prefix = '0';\n    }\n\n    if (!Encodings[resolvedType]) {\n        throw new Error((\"Encoding '\" + type + \"' is not supported.\"));\n    }\n\n    var encoding = new Encodings[resolvedType]();\n    return validate(encoding, size, prefix);\n}\n\nvar extend$5 = Object.assign;\n\nfunction splitInto(str, chunkLength) {\n    var result = [];\n    var idx = 0;\n\n    while (idx < str.length) {\n        result.push(str.substring(idx, idx + chunkLength));\n        idx += chunkLength;\n    }\n\n    return result;\n}\n\nfunction toBitsString(value, length) {\n    var bitString = Number(value).toString(2);\n\n    if (bitString.length < length) {\n        bitString = new Array(length - bitString.length + 1).join(0) + bitString;\n    }\n\n    return bitString;\n}\n\nfunction toDecimal(value) {\n    return parseInt(value, 2);\n}\n\nvar FreeCellVisitor = (function (Class) {\n    function FreeCellVisitor(matrix) {\n        Class.call(this);\n\n        this.matrix = matrix;\n        this.row = matrix.length - 1;\n        this.column = matrix.length - 1;\n        this.startColumn = this.column;\n        this.dir = -1;\n        this.c = 0;\n    }\n\n    if ( Class ) FreeCellVisitor.__proto__ = Class;\n    FreeCellVisitor.prototype = Object.create( Class && Class.prototype );\n    FreeCellVisitor.prototype.constructor = FreeCellVisitor;\n\n    FreeCellVisitor.prototype.move = function move () {\n        this.row += this.dir * this.c;\n        this.c ^= 1;\n        this.column = this.startColumn - this.c;\n    };\n\n    FreeCellVisitor.prototype.getNextCell = function getNextCell () {\n        var this$1$1 = this;\n\n        while (this.matrix[this.row][this.column] !== undefined) {\n            this$1$1.move();\n\n            if (this$1$1.row < 0 || this$1$1.row >= this$1$1.matrix.length) {\n                this$1$1.dir = -this$1$1.dir;\n                this$1$1.startColumn -= this$1$1.startColumn !== 8 ? 2 : 3;\n                this$1$1.column = this$1$1.startColumn;\n                this$1$1.row = this$1$1.dir < 0 ? this$1$1.matrix.length - 1 : 0;\n            }\n        }\n\n        return {\n            row: this.row,\n            column: this.column\n        };\n    };\n\n    FreeCellVisitor.prototype.getNextRemainderCell = function getNextRemainderCell () {\n        this.move();\n\n        if (this.matrix[this.row][this.column] === undefined) {\n            return {\n                row: this.row,\n                column: this.column\n            };\n        }\n    };\n\n    return FreeCellVisitor;\n}(Class));\n\nvar EncodingResult = (function (Class) {\n    function EncodingResult(dataString, version) {\n        Class.call(this);\n\n        this.dataString = dataString;\n        this.version = version;\n    }\n\n    if ( Class ) EncodingResult.__proto__ = Class;\n    EncodingResult.prototype = Object.create( Class && Class.prototype );\n    EncodingResult.prototype.constructor = EncodingResult;\n\n    return EncodingResult;\n}(Class));\n\nvar IsoEncoder = (function (Class) {\n    function IsoEncoder () {\n        Class.apply(this, arguments);\n    }\n\n    if ( Class ) IsoEncoder.__proto__ = Class;\n    IsoEncoder.prototype = Object.create( Class && Class.prototype );\n    IsoEncoder.prototype.constructor = IsoEncoder;\n\n    IsoEncoder.prototype.getEncodingResult = function getEncodingResult (inputString, errorCorrectionLevel) {\n        var modes = getModes(inputString),\n            dataCodewordsCount = getDataCodewordsCount(modes),\n            version = getVersion(dataCodewordsCount, errorCorrectionLevel),\n            dataString = getDataString(modes, version);\n\n        return new EncodingResult(dataString, version);\n    };\n\n    return IsoEncoder;\n}(Class));\n\nvar QRDataMode = (function (Class) {\n    function QRDataMode() {\n        Class.call(this);\n\n        this.initProperties();\n    }\n\n    if ( Class ) QRDataMode.__proto__ = Class;\n    QRDataMode.prototype = Object.create( Class && Class.prototype );\n    QRDataMode.prototype.constructor = QRDataMode;\n\n    QRDataMode.prototype.initProperties = function initProperties () {\n        extend$5(this, {\n            modeIndicator: \"\",\n            bitsInCharacterCount: []\n        });\n    };\n\n    QRDataMode.prototype.getVersionIndex = function getVersionIndex (version) {\n        if (version < 10) {\n            return 0;\n        } else if (version > 26) {\n            return 2;\n        }\n\n        return 1;\n    };\n\n    QRDataMode.prototype.getBitsCharacterCount = function getBitsCharacterCount (version) {\n        return this.bitsInCharacterCount[this.getVersionIndex(version || 40)];\n    };\n\n    QRDataMode.prototype.getModeCountString = function getModeCountString (length, version) {\n        return this.modeIndicator + toBitsString(length, this.getBitsCharacterCount(version));\n    };\n\n    QRDataMode.prototype.encode = function encode () { };\n\n    QRDataMode.prototype.getStringBitsLength = function getStringBitsLength () { };\n\n    QRDataMode.prototype.getValue = function getValue () { };\n\n    return QRDataMode;\n}(Class));\n\nvar NumericQRDataMode = (function (QRDataMode) {\n    function NumericQRDataMode () {\n        QRDataMode.apply(this, arguments);\n    }\n\n    if ( QRDataMode ) NumericQRDataMode.__proto__ = QRDataMode;\n    NumericQRDataMode.prototype = Object.create( QRDataMode && QRDataMode.prototype );\n    NumericQRDataMode.prototype.constructor = NumericQRDataMode;\n\n    NumericQRDataMode.prototype.initProperties = function initProperties () {\n        QRDataMode.prototype.initProperties.call(this);\n\n        extend$5(this, {\n            bitsInCharacterCount: [10, 12, 14],\n            modeIndicator: \"0001\"\n        });\n    };\n\n    NumericQRDataMode.prototype.getValue = function getValue (character) {\n        return parseInt(character, 10);\n    };\n\n    NumericQRDataMode.prototype.encode = function encode (str, version) {\n        var mode = this,\n            parts = splitInto(str, 3),\n            result = mode.getModeCountString(str.length, version);\n        var i;\n\n        for (i = 0; i < parts.length - 1; i++) {\n            result += toBitsString(parts[i], 10);\n        }\n\n        return result + toBitsString(parts[i], 1 + 3 * parts[i].length);\n    };\n\n    NumericQRDataMode.prototype.getStringBitsLength = function getStringBitsLength (inputLength, version) {\n        var mod3 = inputLength % 3;\n        return 4 + this.getBitsCharacterCount(version) + 10 * Math.floor(inputLength / 3) + 3 * mod3 + (mod3 === 0 ? 0 : 1);\n    };\n\n    return NumericQRDataMode;\n}(QRDataMode));\n\nvar AlphaNumericQRDataMode = (function (QRDataMode) {\n    function AlphaNumericQRDataMode () {\n        QRDataMode.apply(this, arguments);\n    }\n\n    if ( QRDataMode ) AlphaNumericQRDataMode.__proto__ = QRDataMode;\n    AlphaNumericQRDataMode.prototype = Object.create( QRDataMode && QRDataMode.prototype );\n    AlphaNumericQRDataMode.prototype.constructor = AlphaNumericQRDataMode;\n\n    AlphaNumericQRDataMode.prototype.initProperties = function initProperties () {\n        QRDataMode.prototype.initProperties.call(this);\n\n        extend$5(this, {\n            characters: {\n                \"0\": 0,\n                \"1\": 1,\n                \"2\": 2,\n                \"3\": 3,\n                \"4\": 4,\n                \"5\": 5,\n                \"6\": 6,\n                \"7\": 7,\n                \"8\": 8,\n                \"9\": 9,\n                \"A\": 10,\n                \"B\": 11,\n                \"C\": 12,\n                \"D\": 13,\n                \"E\": 14,\n                \"F\": 15,\n                \"G\": 16,\n                \"H\": 17,\n                \"I\": 18,\n                \"J\": 19,\n                \"K\": 20,\n                \"L\": 21,\n                \"M\": 22,\n                \"N\": 23,\n                \"O\": 24,\n                \"P\": 25,\n                \"Q\": 26,\n                \"R\": 27,\n                \"S\": 28,\n                \"T\": 29,\n                \"U\": 30,\n                \"V\": 31,\n                \"W\": 32,\n                \"X\": 33,\n                \"Y\": 34,\n                \"Z\": 35,\n                \" \": 36,\n                \"$\": 37,\n                \"%\": 38,\n                \"*\": 39,\n                \"+\": 40,\n                \"-\": 41,\n                \".\": 42,\n                \"/\": 43,\n                \":\": 44\n            },\n            bitsInCharacterCount: [9, 11, 13],\n            modeIndicator: \"0010\"\n        });\n    };\n\n    AlphaNumericQRDataMode.prototype.getValue = function getValue (character) {\n        return this.characters[character];\n    };\n\n    AlphaNumericQRDataMode.prototype.encode = function encode (str, version) {\n        var this$1$1 = this;\n\n        var\n            parts = splitInto(str, 2),\n            result = this.getModeCountString(str.length, version),\n            value;\n        var i;\n\n        for (i = 0; i < parts.length - 1; i++) {\n            value = 45 * this$1$1.getValue(parts[i].charAt(0)) + this$1$1.getValue(parts[i].charAt(1));\n            result += toBitsString(value, 11);\n        }\n\n        value = parts[i].length === 2 ?\n            45 * this.getValue(parts[i].charAt(0)) + this.getValue(parts[i].charAt(1)) :\n            this.getValue(parts[i].charAt(0));\n\n        return result + toBitsString(value, 1 + 5 * parts[i].length);\n    };\n\n    AlphaNumericQRDataMode.prototype.getStringBitsLength = function getStringBitsLength (inputLength, version) {\n        return 4 + this.getBitsCharacterCount(version) + 11 * Math.floor(inputLength / 2) + 6 * (inputLength % 2);\n    };\n\n    return AlphaNumericQRDataMode;\n}(QRDataMode));\n\nvar ByteQRDataMode = (function (QRDataMode) {\n    function ByteQRDataMode () {\n        QRDataMode.apply(this, arguments);\n    }\n\n    if ( QRDataMode ) ByteQRDataMode.__proto__ = QRDataMode;\n    ByteQRDataMode.prototype = Object.create( QRDataMode && QRDataMode.prototype );\n    ByteQRDataMode.prototype.constructor = ByteQRDataMode;\n\n    ByteQRDataMode.prototype.initProperties = function initProperties () {\n        QRDataMode.prototype.initProperties.call(this);\n\n        extend$5(this, {\n            bitsInCharacterCount: [8, 16, 16],\n            modeIndicator: \"0100\"\n        });\n    };\n\n    ByteQRDataMode.prototype.getValue = function getValue (character) {\n        var code = character.charCodeAt(0);\n\n        if (code <= 127 || (160 <= code && code <= 255)) {\n            return code;\n        }\n\n        throw new Error((\"Unsupported character in QR Code: \\\"\" + character + \"\\\".\"));\n    };\n\n    ByteQRDataMode.prototype.encode = function encode (str, version) {\n        var mode = this,\n            result = mode.getModeCountString(str.length, version);\n\n        for (var i = 0; i < str.length; i++) {\n            result += toBitsString(mode.getValue(str.charAt(i)), 8);\n        }\n\n        return result;\n    };\n\n    ByteQRDataMode.prototype.getStringBitsLength = function getStringBitsLength (inputLength, version) {\n        return 4 + this.getBitsCharacterCount(version) + 8 * inputLength;\n    };\n\n    return ByteQRDataMode;\n}(QRDataMode));\n\nvar NUMERIC$1 = \"numeric\";\nvar ALPHA_NUMERIC$1 = \"alphanumeric\";\nvar BYTE$2 = \"byte\";\n\nvar DataModeInstances = {};\nDataModeInstances[NUMERIC$1] = new NumericQRDataMode();\nDataModeInstances[ALPHA_NUMERIC$1] = new AlphaNumericQRDataMode();\nDataModeInstances[BYTE$2] = new ByteQRDataMode();\n\nvar BYTE$1 = \"byte\";\n\nvar Utf8Encoder = (function (Class) {\n    function Utf8Encoder() {\n        Class.call(this);\n\n        this.initProperties();\n\n        this.mode = DataModeInstances[this.encodingMode];\n    }\n\n    if ( Class ) Utf8Encoder.__proto__ = Class;\n    Utf8Encoder.prototype = Object.create( Class && Class.prototype );\n    Utf8Encoder.prototype.constructor = Utf8Encoder;\n\n    Utf8Encoder.prototype.initProperties = function initProperties () {\n        extend$5(this, {\n            encodingMode: BYTE$1,\n            utfBOM: \"111011111011101110111111\",\n            initialModeCountStringLength: 20,\n            ranges: [128, 2048, 65536, 2097152, 67108864]\n        });\n    };\n\n    Utf8Encoder.prototype.getEncodingResult = function getEncodingResult (inputString, errorCorrectionLevel) {\n        var data = this.encode(inputString),\n            dataCodewordsCount = this.getDataCodewordsCount(data),\n            version = getVersion(dataCodewordsCount, errorCorrectionLevel),\n            dataString = this.mode.getModeCountString(data.length / 8, version) + data;\n\n        return new EncodingResult(dataString, version);\n    };\n\n    Utf8Encoder.prototype.getDataCodewordsCount = function getDataCodewordsCount (data) {\n        var dataLength = data.length,\n            dataCodewordsCount = Math.ceil((this.initialModeCountStringLength + dataLength) / 8);\n\n        return dataCodewordsCount;\n    };\n\n    Utf8Encoder.prototype.encode = function encode (str) {\n        var this$1$1 = this;\n\n        var result = this.utfBOM;\n\n        for (var i = 0; i < str.length; i++) {\n            result += this$1$1.encodeCharacter(str.charCodeAt(i));\n        }\n\n        return result;\n    };\n\n    Utf8Encoder.prototype.encodeCharacter = function encodeCharacter (code) {\n        var bytesCount = this.getBytesCount(code),\n            bc = bytesCount - 1,\n            result = \"\";\n\n        if (bytesCount === 1) {\n            result = toBitsString(code, 8);\n        } else {\n            var significantOnes = 8 - bytesCount;\n\n            for (var i = 0; i < bc; i++) {\n                result = toBitsString(code >> (i * 6) & 63 | 128, 8) + result;\n            }\n\n            result = ((code >> bc * 6) | ((255 >> significantOnes) << significantOnes)).toString(2) + result;\n        }\n\n        return result;\n    };\n\n    Utf8Encoder.prototype.getBytesCount = function getBytesCount (code) {\n        var ranges = this.ranges;\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (code < ranges[i]) {\n                return i + 1;\n            }\n        }\n    };\n\n    return Utf8Encoder;\n}(Class));\n\nvar VersionsCodewordsInformation = [{\n    L: {\n        groups: [\n            [1, 19]\n        ],\n        totalDataCodewords: 19,\n        errorCodewordsPerBlock: 7\n    },\n    M: {\n        groups: [\n            [1, 16]\n        ],\n        totalDataCodewords: 16,\n        errorCodewordsPerBlock: 10\n    },\n    Q: {\n        groups: [\n            [1, 13]\n        ],\n        totalDataCodewords: 13,\n        errorCodewordsPerBlock: 13\n    },\n    H: {\n        groups: [\n            [1, 9]\n        ],\n        totalDataCodewords: 9,\n        errorCodewordsPerBlock: 17\n    }\n}, {\n    L: {\n        groups: [\n            [1, 34]\n        ],\n        totalDataCodewords: 34,\n        errorCodewordsPerBlock: 10\n    },\n    M: {\n        groups: [\n            [1, 28]\n        ],\n        totalDataCodewords: 28,\n        errorCodewordsPerBlock: 16\n    },\n    Q: {\n        groups: [\n            [1, 22]\n        ],\n        totalDataCodewords: 22,\n        errorCodewordsPerBlock: 22\n    },\n    H: {\n        groups: [\n            [1, 16]\n        ],\n        totalDataCodewords: 16,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [1, 55]\n        ],\n        totalDataCodewords: 55,\n        errorCodewordsPerBlock: 15\n    },\n    M: {\n        groups: [\n            [1, 44]\n        ],\n        totalDataCodewords: 44,\n        errorCodewordsPerBlock: 26\n    },\n    Q: {\n        groups: [\n            [2, 17]\n        ],\n        totalDataCodewords: 34,\n        errorCodewordsPerBlock: 18\n    },\n    H: {\n        groups: [\n            [2, 13]\n        ],\n        totalDataCodewords: 26,\n        errorCodewordsPerBlock: 22\n    }\n}, {\n    L: {\n        groups: [\n            [1, 80]\n        ],\n        totalDataCodewords: 80,\n        errorCodewordsPerBlock: 20\n    },\n    M: {\n        groups: [\n            [2, 32]\n        ],\n        totalDataCodewords: 64,\n        errorCodewordsPerBlock: 18\n    },\n    Q: {\n        groups: [\n            [2, 24]\n        ],\n        totalDataCodewords: 48,\n        errorCodewordsPerBlock: 26\n    },\n    H: {\n        groups: [\n            [4, 9]\n        ],\n        totalDataCodewords: 36,\n        errorCodewordsPerBlock: 16\n    }\n}, {\n    L: {\n        groups: [\n            [1, 108]\n        ],\n        totalDataCodewords: 108,\n        errorCodewordsPerBlock: 26\n    },\n    M: {\n        groups: [\n            [2, 43]\n        ],\n        totalDataCodewords: 86,\n        errorCodewordsPerBlock: 24\n    },\n    Q: {\n        groups: [\n            [2, 15],\n            [2, 16]\n        ],\n        totalDataCodewords: 62,\n        errorCodewordsPerBlock: 18\n    },\n    H: {\n        groups: [\n            [2, 11],\n            [2, 12]\n        ],\n        totalDataCodewords: 46,\n        errorCodewordsPerBlock: 22\n    }\n}, {\n    L: {\n        groups: [\n            [2, 68]\n        ],\n        totalDataCodewords: 136,\n        errorCodewordsPerBlock: 18\n    },\n    M: {\n        groups: [\n            [4, 27]\n        ],\n        totalDataCodewords: 108,\n        errorCodewordsPerBlock: 16\n    },\n    Q: {\n        groups: [\n            [4, 19]\n        ],\n        totalDataCodewords: 76,\n        errorCodewordsPerBlock: 24\n    },\n    H: {\n        groups: [\n            [4, 15]\n        ],\n        totalDataCodewords: 60,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [2, 78]\n        ],\n        totalDataCodewords: 156,\n        errorCodewordsPerBlock: 20\n    },\n    M: {\n        groups: [\n            [4, 31]\n        ],\n        totalDataCodewords: 124,\n        errorCodewordsPerBlock: 18\n    },\n    Q: {\n        groups: [\n            [2, 14],\n            [4, 15]\n        ],\n        totalDataCodewords: 88,\n        errorCodewordsPerBlock: 18\n    },\n    H: {\n        groups: [\n            [4, 13],\n            [1, 14]\n        ],\n        totalDataCodewords: 66,\n        errorCodewordsPerBlock: 26\n    }\n}, {\n    L: {\n        groups: [\n            [2, 97]\n        ],\n        totalDataCodewords: 194,\n        errorCodewordsPerBlock: 24\n    },\n    M: {\n        groups: [\n            [2, 38],\n            [2, 39]\n        ],\n        totalDataCodewords: 154,\n        errorCodewordsPerBlock: 22\n    },\n    Q: {\n        groups: [\n            [4, 18],\n            [2, 19]\n        ],\n        totalDataCodewords: 110,\n        errorCodewordsPerBlock: 22\n    },\n    H: {\n        groups: [\n            [4, 14],\n            [2, 15]\n        ],\n        totalDataCodewords: 86,\n        errorCodewordsPerBlock: 26\n    }\n}, {\n    L: {\n        groups: [\n            [2, 116]\n        ],\n        totalDataCodewords: 232,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [3, 36],\n            [2, 37]\n        ],\n        totalDataCodewords: 182,\n        errorCodewordsPerBlock: 22\n    },\n    Q: {\n        groups: [\n            [4, 16],\n            [4, 17]\n        ],\n        totalDataCodewords: 132,\n        errorCodewordsPerBlock: 20\n    },\n    H: {\n        groups: [\n            [4, 12],\n            [4, 13]\n        ],\n        totalDataCodewords: 100,\n        errorCodewordsPerBlock: 24\n    }\n}, {\n    L: {\n        groups: [\n            [2, 68],\n            [2, 69]\n        ],\n        totalDataCodewords: 274,\n        errorCodewordsPerBlock: 18\n    },\n    M: {\n        groups: [\n            [4, 43],\n            [1, 44]\n        ],\n        totalDataCodewords: 216,\n        errorCodewordsPerBlock: 26\n    },\n    Q: {\n        groups: [\n            [6, 19],\n            [2, 20]\n        ],\n        totalDataCodewords: 154,\n        errorCodewordsPerBlock: 24\n    },\n    H: {\n        groups: [\n            [6, 15],\n            [2, 16]\n        ],\n        totalDataCodewords: 122,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [4, 81]\n        ],\n        totalDataCodewords: 324,\n        errorCodewordsPerBlock: 20\n    },\n    M: {\n        groups: [\n            [1, 50],\n            [4, 51]\n        ],\n        totalDataCodewords: 254,\n        errorCodewordsPerBlock: 30\n    },\n    Q: {\n        groups: [\n            [4, 22],\n            [4, 23]\n        ],\n        totalDataCodewords: 180,\n        errorCodewordsPerBlock: 28\n    },\n    H: {\n        groups: [\n            [3, 12],\n            [8, 13]\n        ],\n        totalDataCodewords: 140,\n        errorCodewordsPerBlock: 24\n    }\n}, {\n    L: {\n        groups: [\n            [2, 92],\n            [2, 93]\n        ],\n        totalDataCodewords: 370,\n        errorCodewordsPerBlock: 24\n    },\n    M: {\n        groups: [\n            [6, 36],\n            [2, 37]\n        ],\n        totalDataCodewords: 290,\n        errorCodewordsPerBlock: 22\n    },\n    Q: {\n        groups: [\n            [4, 20],\n            [6, 21]\n        ],\n        totalDataCodewords: 206,\n        errorCodewordsPerBlock: 26\n    },\n    H: {\n        groups: [\n            [7, 14],\n            [4, 15]\n        ],\n        totalDataCodewords: 158,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [4, 107]\n        ],\n        totalDataCodewords: 428,\n        errorCodewordsPerBlock: 26\n    },\n    M: {\n        groups: [\n            [8, 37],\n            [1, 38]\n        ],\n        totalDataCodewords: 334,\n        errorCodewordsPerBlock: 22\n    },\n    Q: {\n        groups: [\n            [8, 20],\n            [4, 21]\n        ],\n        totalDataCodewords: 244,\n        errorCodewordsPerBlock: 24\n    },\n    H: {\n        groups: [\n            [12, 11],\n            [4, 12]\n        ],\n        totalDataCodewords: 180,\n        errorCodewordsPerBlock: 22\n    }\n}, {\n    L: {\n        groups: [\n            [3, 115],\n            [1, 116]\n        ],\n        totalDataCodewords: 461,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [4, 40],\n            [5, 41]\n        ],\n        totalDataCodewords: 365,\n        errorCodewordsPerBlock: 24\n    },\n    Q: {\n        groups: [\n            [11, 16],\n            [5, 17]\n        ],\n        totalDataCodewords: 261,\n        errorCodewordsPerBlock: 20\n    },\n    H: {\n        groups: [\n            [11, 12],\n            [5, 13]\n        ],\n        totalDataCodewords: 197,\n        errorCodewordsPerBlock: 24\n    }\n}, {\n    L: {\n        groups: [\n            [5, 87],\n            [1, 88]\n        ],\n        totalDataCodewords: 523,\n        errorCodewordsPerBlock: 22\n    },\n    M: {\n        groups: [\n            [5, 41],\n            [5, 42]\n        ],\n        totalDataCodewords: 415,\n        errorCodewordsPerBlock: 24\n    },\n    Q: {\n        groups: [\n            [5, 24],\n            [7, 25]\n        ],\n        totalDataCodewords: 295,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [11, 12],\n            [7, 13]\n        ],\n        totalDataCodewords: 223,\n        errorCodewordsPerBlock: 24\n    }\n}, {\n    L: {\n        groups: [\n            [5, 98],\n            [1, 99]\n        ],\n        totalDataCodewords: 589,\n        errorCodewordsPerBlock: 24\n    },\n    M: {\n        groups: [\n            [7, 45],\n            [3, 46]\n        ],\n        totalDataCodewords: 453,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [15, 19],\n            [2, 20]\n        ],\n        totalDataCodewords: 325,\n        errorCodewordsPerBlock: 24\n    },\n    H: {\n        groups: [\n            [3, 15],\n            [13, 16]\n        ],\n        totalDataCodewords: 253,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [1, 107],\n            [5, 108]\n        ],\n        totalDataCodewords: 647,\n        errorCodewordsPerBlock: 28\n    },\n    M: {\n        groups: [\n            [10, 46],\n            [1, 47]\n        ],\n        totalDataCodewords: 507,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [1, 22],\n            [15, 23]\n        ],\n        totalDataCodewords: 367,\n        errorCodewordsPerBlock: 28\n    },\n    H: {\n        groups: [\n            [2, 14],\n            [17, 15]\n        ],\n        totalDataCodewords: 283,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [5, 120],\n            [1, 121]\n        ],\n        totalDataCodewords: 721,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [9, 43],\n            [4, 44]\n        ],\n        totalDataCodewords: 563,\n        errorCodewordsPerBlock: 26\n    },\n    Q: {\n        groups: [\n            [17, 22],\n            [1, 23]\n        ],\n        totalDataCodewords: 397,\n        errorCodewordsPerBlock: 28\n    },\n    H: {\n        groups: [\n            [2, 14],\n            [19, 15]\n        ],\n        totalDataCodewords: 313,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [3, 113],\n            [4, 114]\n        ],\n        totalDataCodewords: 795,\n        errorCodewordsPerBlock: 28\n    },\n    M: {\n        groups: [\n            [3, 44],\n            [11, 45]\n        ],\n        totalDataCodewords: 627,\n        errorCodewordsPerBlock: 26\n    },\n    Q: {\n        groups: [\n            [17, 21],\n            [4, 22]\n        ],\n        totalDataCodewords: 445,\n        errorCodewordsPerBlock: 26\n    },\n    H: {\n        groups: [\n            [9, 13],\n            [16, 14]\n        ],\n        totalDataCodewords: 341,\n        errorCodewordsPerBlock: 26\n    }\n}, {\n    L: {\n        groups: [\n            [3, 107],\n            [5, 108]\n        ],\n        totalDataCodewords: 861,\n        errorCodewordsPerBlock: 28\n    },\n    M: {\n        groups: [\n            [3, 41],\n            [13, 42]\n        ],\n        totalDataCodewords: 669,\n        errorCodewordsPerBlock: 26\n    },\n    Q: {\n        groups: [\n            [15, 24],\n            [5, 25]\n        ],\n        totalDataCodewords: 485,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [15, 15],\n            [10, 16]\n        ],\n        totalDataCodewords: 385,\n        errorCodewordsPerBlock: 28\n    }\n}, {\n    L: {\n        groups: [\n            [4, 116],\n            [4, 117]\n        ],\n        totalDataCodewords: 932,\n        errorCodewordsPerBlock: 28\n    },\n    M: {\n        groups: [\n            [17, 42]\n        ],\n        totalDataCodewords: 714,\n        errorCodewordsPerBlock: 26\n    },\n    Q: {\n        groups: [\n            [17, 22],\n            [6, 23]\n        ],\n        totalDataCodewords: 512,\n        errorCodewordsPerBlock: 28\n    },\n    H: {\n        groups: [\n            [19, 16],\n            [6, 17]\n        ],\n        totalDataCodewords: 406,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [2, 111],\n            [7, 112]\n        ],\n        totalDataCodewords: 1006,\n        errorCodewordsPerBlock: 28\n    },\n    M: {\n        groups: [\n            [17, 46]\n        ],\n        totalDataCodewords: 782,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [7, 24],\n            [16, 25]\n        ],\n        totalDataCodewords: 568,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [34, 13]\n        ],\n        totalDataCodewords: 442,\n        errorCodewordsPerBlock: 24\n    }\n}, {\n    L: {\n        groups: [\n            [4, 121],\n            [5, 122]\n        ],\n        totalDataCodewords: 1094,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [4, 47],\n            [14, 48]\n        ],\n        totalDataCodewords: 860,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [11, 24],\n            [14, 25]\n        ],\n        totalDataCodewords: 614,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [16, 15],\n            [14, 16]\n        ],\n        totalDataCodewords: 464,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [6, 117],\n            [4, 118]\n        ],\n        totalDataCodewords: 1174,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [6, 45],\n            [14, 46]\n        ],\n        totalDataCodewords: 914,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [11, 24],\n            [16, 25]\n        ],\n        totalDataCodewords: 664,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [30, 16],\n            [2, 17]\n        ],\n        totalDataCodewords: 514,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [8, 106],\n            [4, 107]\n        ],\n        totalDataCodewords: 1276,\n        errorCodewordsPerBlock: 26\n    },\n    M: {\n        groups: [\n            [8, 47],\n            [13, 48]\n        ],\n        totalDataCodewords: 1000,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [7, 24],\n            [22, 25]\n        ],\n        totalDataCodewords: 718,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [22, 15],\n            [13, 16]\n        ],\n        totalDataCodewords: 538,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [10, 114],\n            [2, 115]\n        ],\n        totalDataCodewords: 1370,\n        errorCodewordsPerBlock: 28\n    },\n    M: {\n        groups: [\n            [19, 46],\n            [4, 47]\n        ],\n        totalDataCodewords: 1062,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [28, 22],\n            [6, 23]\n        ],\n        totalDataCodewords: 754,\n        errorCodewordsPerBlock: 28\n    },\n    H: {\n        groups: [\n            [33, 16],\n            [4, 17]\n        ],\n        totalDataCodewords: 596,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [8, 122],\n            [4, 123]\n        ],\n        totalDataCodewords: 1468,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [22, 45],\n            [3, 46]\n        ],\n        totalDataCodewords: 1128,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [8, 23],\n            [26, 24]\n        ],\n        totalDataCodewords: 808,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [12, 15],\n            [28, 16]\n        ],\n        totalDataCodewords: 628,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [3, 117],\n            [10, 118]\n        ],\n        totalDataCodewords: 1531,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [3, 45],\n            [23, 46]\n        ],\n        totalDataCodewords: 1193,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [4, 24],\n            [31, 25]\n        ],\n        totalDataCodewords: 871,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [11, 15],\n            [31, 16]\n        ],\n        totalDataCodewords: 661,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [7, 116],\n            [7, 117]\n        ],\n        totalDataCodewords: 1631,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [21, 45],\n            [7, 46]\n        ],\n        totalDataCodewords: 1267,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [1, 23],\n            [37, 24]\n        ],\n        totalDataCodewords: 911,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [19, 15],\n            [26, 16]\n        ],\n        totalDataCodewords: 701,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [5, 115],\n            [10, 116]\n        ],\n        totalDataCodewords: 1735,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [19, 47],\n            [10, 48]\n        ],\n        totalDataCodewords: 1373,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [15, 24],\n            [25, 25]\n        ],\n        totalDataCodewords: 985,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [23, 15],\n            [25, 16]\n        ],\n        totalDataCodewords: 745,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [13, 115],\n            [3, 116]\n        ],\n        totalDataCodewords: 1843,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [2, 46],\n            [29, 47]\n        ],\n        totalDataCodewords: 1455,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [42, 24],\n            [1, 25]\n        ],\n        totalDataCodewords: 1033,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [23, 15],\n            [28, 16]\n        ],\n        totalDataCodewords: 793,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [17, 115]\n        ],\n        totalDataCodewords: 1955,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [10, 46],\n            [23, 47]\n        ],\n        totalDataCodewords: 1541,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [10, 24],\n            [35, 25]\n        ],\n        totalDataCodewords: 1115,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [19, 15],\n            [35, 16]\n        ],\n        totalDataCodewords: 845,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [17, 115],\n            [1, 116]\n        ],\n        totalDataCodewords: 2071,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [14, 46],\n            [21, 47]\n        ],\n        totalDataCodewords: 1631,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [29, 24],\n            [19, 25]\n        ],\n        totalDataCodewords: 1171,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [11, 15],\n            [46, 16]\n        ],\n        totalDataCodewords: 901,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [13, 115],\n            [6, 116]\n        ],\n        totalDataCodewords: 2191,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [14, 46],\n            [23, 47]\n        ],\n        totalDataCodewords: 1725,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [44, 24],\n            [7, 25]\n        ],\n        totalDataCodewords: 1231,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [59, 16],\n            [1, 17]\n        ],\n        totalDataCodewords: 961,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [12, 121],\n            [7, 122]\n        ],\n        totalDataCodewords: 2306,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [12, 47],\n            [26, 48]\n        ],\n        totalDataCodewords: 1812,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [39, 24],\n            [14, 25]\n        ],\n        totalDataCodewords: 1286,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [22, 15],\n            [41, 16]\n        ],\n        totalDataCodewords: 986,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [6, 121],\n            [14, 122]\n        ],\n        totalDataCodewords: 2434,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [6, 47],\n            [34, 48]\n        ],\n        totalDataCodewords: 1914,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [46, 24],\n            [10, 25]\n        ],\n        totalDataCodewords: 1354,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [2, 15],\n            [64, 16]\n        ],\n        totalDataCodewords: 1054,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [17, 122],\n            [4, 123]\n        ],\n        totalDataCodewords: 2566,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [29, 46],\n            [14, 47]\n        ],\n        totalDataCodewords: 1992,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [49, 24],\n            [10, 25]\n        ],\n        totalDataCodewords: 1426,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [24, 15],\n            [46, 16]\n        ],\n        totalDataCodewords: 1096,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [4, 122],\n            [18, 123]\n        ],\n        totalDataCodewords: 2702,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [13, 46],\n            [32, 47]\n        ],\n        totalDataCodewords: 2102,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [48, 24],\n            [14, 25]\n        ],\n        totalDataCodewords: 1502,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [42, 15],\n            [32, 16]\n        ],\n        totalDataCodewords: 1142,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [20, 117],\n            [4, 118]\n        ],\n        totalDataCodewords: 2812,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [40, 47],\n            [7, 48]\n        ],\n        totalDataCodewords: 2216,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [43, 24],\n            [22, 25]\n        ],\n        totalDataCodewords: 1582,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [10, 15],\n            [67, 16]\n        ],\n        totalDataCodewords: 1222,\n        errorCodewordsPerBlock: 30\n    }\n}, {\n    L: {\n        groups: [\n            [19, 118],\n            [6, 119]\n        ],\n        totalDataCodewords: 2956,\n        errorCodewordsPerBlock: 30\n    },\n    M: {\n        groups: [\n            [18, 47],\n            [31, 48]\n        ],\n        totalDataCodewords: 2334,\n        errorCodewordsPerBlock: 28\n    },\n    Q: {\n        groups: [\n            [34, 24],\n            [34, 25]\n        ],\n        totalDataCodewords: 1666,\n        errorCodewordsPerBlock: 30\n    },\n    H: {\n        groups: [\n            [20, 15],\n            [61, 16]\n        ],\n        totalDataCodewords: 1276,\n        errorCodewordsPerBlock: 30\n    }\n}];\n\nvar terminator = \"0000\",\n    NUMERIC = \"numeric\",\n    ALPHA_NUMERIC = \"alphanumeric\",\n    BYTE = \"byte\",\n    powersOfTwo = { \"1\": 0 },\n    powersOfTwoResult = { \"0\": 1 },\n    irregularAlignmentPatternsStartDistance = {\n        15: 20, 16: 20, 18: 24, 19: 24, 22: 20,\n        24: 22, 26: 24, 28: 20, 30: 20, 31: 24,\n        32: 28, 33: 24, 36: 18, 37: 22, 39: 20, 40: 24\n    },\n    finderPattern = [1, 0, 1, 1, 1],\n    alignmentPattern = [1, 0, 1],\n    errorCorrectionPatterns = { L: \"01\", M: \"00\", Q: \"11\", H: \"10\" },\n    formatMaskPattern = \"101010000010010\",\n    formatGeneratorPolynomial = \"10100110111\",\n    versionGeneratorPolynomial = \"1111100100101\",\n    paddingCodewords = [\"11101100\", \"00010001\"],\n    finderPatternValue = 93,\n    /* eslint-disable arrow-body-style */\n    /* eslint-disable no-unused-vars */\n    maskPatternConditions = [\n        function (row, column) { return (row + column) % 2 === 0; },\n        function (row, column) { return row % 2 === 0; },\n        function (row, column) { return column % 3 === 0; },\n        function (row, column) { return (row + column) % 3 === 0; },\n        function (row, column) { return (Math.floor(row / 2) + Math.floor(column / 3)) % 2 === 0; },\n        function (row, column) { return ((row * column) % 2) + ((row * column) % 3) === 0; },\n        function (row, column) { return (((row * column) % 2) + ((row * column) % 3)) % 2 === 0; },\n        function (row, column) { return (((row + column) % 2) + ((row * column) % 3)) % 2 === 0; }\n    ],\n    /* eslint-enable no-unused-vars */\n    /* eslint-enable arrow-body-style */\n    numberRegex = /^\\d+/,\n    alphaPattern = \"A-Z0-9 $%*+./:-\",\n    alphaExclusiveSet = \"A-Z $%*+./:-\",\n    alphaRegex = new RegExp(\"^[\" + alphaExclusiveSet + \"]+\"),\n    alphaNumericRegex = new RegExp(\"^[\" + alphaPattern + \"]+\"),\n    byteRegex = new RegExp(\"^[^\" + alphaPattern + \"]+\"),\n    initMinNumericBeforeAlpha = 8,\n    initMinNumericBeforeByte = 5,\n    initMinAlphaBeforeByte = 8,\n    minNumericBeforeAlpha = 17,\n    minNumericBeforeByte = 9,\n    minAlphaBeforeByte = 16;\n\nvar generatorPolynomials = [[1, 0], [1, 25, 0]];\n\nfunction fillFunctionCell(matrices, bit, x, y) {\n    for (var i = 0; i < matrices.length; i++) {\n        matrices[i][x][y] = bit;\n    }\n}\n\nfunction fillDataCell(matrices, bit, x, y) {\n    for (var i = 0; i < maskPatternConditions.length; i++) {\n        matrices[i][x][y] = maskPatternConditions[i](x, y) ? bit ^ 1 : parseInt(bit, 10);\n    }\n}\n\nfunction fillData(matrices, blocks) {\n    var cellVisitor = new FreeCellVisitor(matrices[0]),\n        block,\n        codewordIdx,\n        cell;\n\n    for (var blockIdx = 0; blockIdx < blocks.length; blockIdx++) {\n        block = blocks[blockIdx];\n        codewordIdx = 0;\n\n        while (block.length > 0) {\n            for (var i = 0; i < block.length; i++) {\n                for (var j = 0; j < 8; j++) {\n                    cell = cellVisitor.getNextCell();\n                    fillDataCell(matrices, block[i][codewordIdx].charAt(j), cell.row, cell.column);\n                }\n            }\n\n            codewordIdx++;\n\n            while (block[0] && codewordIdx === block[0].length) {\n                block.splice(0, 1);\n            }\n        }\n    }\n\n    while ((cell = cellVisitor.getNextRemainderCell())) {\n        fillDataCell(matrices, 0, cell.row, cell.column);\n    }\n}\n\nfunction padDataString(initialDataString, totalDataCodewords) {\n    var dataBitsCount = totalDataCodewords * 8,\n        terminatorIndex = 0,\n        paddingCodewordIndex = 0;\n    var dataString = initialDataString;\n\n    while (dataString.length < dataBitsCount && terminatorIndex < terminator.length) {\n        dataString += terminator.charAt(terminatorIndex++);\n    }\n\n    if (dataString.length % 8 !== 0) {\n        dataString += new Array(9 - dataString.length % 8).join(\"0\");\n    }\n\n    while (dataString.length < dataBitsCount) {\n        dataString += paddingCodewords[paddingCodewordIndex];\n        paddingCodewordIndex ^= 1;\n    }\n\n    return dataString;\n}\n\nfunction generatePowersOfTwo() {\n    var result;\n    var power;\n\n    for (power = 1; power < 255; power++) {\n        result = powersOfTwoResult[power - 1] * 2;\n        if (result > 255) {\n            result = result ^ 285;\n        }\n\n        powersOfTwoResult[power] = result;\n        powersOfTwo[result] = power;\n    }\n\n    result = (powersOfTwoResult[power - 1] * 2) ^ 285;\n    powersOfTwoResult[power] = result;\n    powersOfTwoResult[-1] = 0;\n}\n\nfunction xorPolynomials(x, y) {\n    var result = [],\n        idx = x.length - 2;\n\n    for (var i = idx; i >= 0; i--) {\n        result[i] = x[i] ^ y[i];\n    }\n\n    return result;\n}\n\nfunction multiplyPolynomials(x, y) {\n    var result = [];\n\n    for (var i = 0; i < x.length; i++) {\n        for (var j = 0; j < y.length; j++) {\n            if (result[i + j] === undefined) {\n                result[i + j] = (x[i] + (y[j] >= 0 ? y[j] : 0)) % 255;\n            } else {\n                result[i + j] = powersOfTwo[powersOfTwoResult[result[i + j]] ^ powersOfTwoResult[(x[i] + y[j]) % 255]];\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction generateGeneratorPolynomials() {\n    var maxErrorCorrectionCodeWordsCount = 68;\n\n    for (var idx = 2; idx <= maxErrorCorrectionCodeWordsCount; idx++) {\n        var firstPolynomial = generatorPolynomials[idx - 1],\n            secondPolynomial = [idx, 0];\n\n        generatorPolynomials[idx] = multiplyPolynomials(firstPolynomial, secondPolynomial);\n    }\n}\n\n//possibly generate on demand\ngeneratePowersOfTwo();\ngenerateGeneratorPolynomials();\n\nfunction multiplyByConstant(polynomial, power) {\n    var result = [],\n        idx = polynomial.length - 1;\n\n    do {\n        result[idx] = powersOfTwoResult[(polynomial[idx] + power) % 255];\n        idx--;\n    }\n    while (polynomial[idx] !== undefined);\n\n    return result;\n}\n\nfunction generateErrorCodewords(data, errorCodewordsCount) {\n    var generator = generatorPolynomials[errorCodewordsCount - 1],\n        result = new Array(errorCodewordsCount).concat(data),\n        generatorPolynomial = new Array(result.length - generator.length).concat(generator),\n        steps = data.length,\n        errorCodewords = [],\n        divisor,\n        idx;\n\n    for (idx = 0; idx < steps; idx++) {\n        divisor = multiplyByConstant(generatorPolynomial, powersOfTwo[result[result.length - 1]]);\n        generatorPolynomial.splice(0, 1);\n\n        result = xorPolynomials(divisor, result);\n    }\n\n    for (idx = result.length - 1; idx >= 0; idx--) {\n        errorCodewords[errorCodewordsCount - 1 - idx] = toBitsString(result[idx], 8);\n    }\n\n    return errorCodewords;\n}\n\nfunction getBlocks(dataStream, versionCodewordsInformation) {\n    var codewordStart = 0,\n        dataBlocks = [],\n        errorBlocks = [],\n        dataBlock,\n        versionGroups = versionCodewordsInformation.groups,\n        blockCodewordsCount,\n        groupBlocksCount,\n        messagePolynomial,\n        codeword;\n\n    for (var groupIdx = 0; groupIdx < versionGroups.length; groupIdx++) {\n        groupBlocksCount = versionGroups[groupIdx][0];\n\n        for (var blockIdx = 0; blockIdx < groupBlocksCount; blockIdx++) {\n            blockCodewordsCount = versionGroups[groupIdx][1];\n            dataBlock = [];\n            messagePolynomial = [];\n\n            for (var codewordIdx = 1; codewordIdx <= blockCodewordsCount; codewordIdx++) {\n                codeword = dataStream.substring(codewordStart, codewordStart + 8);\n                dataBlock.push(codeword);\n                messagePolynomial[blockCodewordsCount - codewordIdx] = toDecimal(codeword);\n                codewordStart += 8;\n            }\n\n            dataBlocks.push(dataBlock);\n            errorBlocks.push(generateErrorCodewords(messagePolynomial,\n                versionCodewordsInformation.errorCodewordsPerBlock));\n        }\n    }\n    return [dataBlocks, errorBlocks];\n}\n\nfunction chooseMode(str, minNumericBeforeAlpha, minNumericBeforeByte, minAlphaBeforeByte, previousMode) {\n    var numeric = numberRegex.exec(str),\n        numericMatch = numeric ? numeric[0] : \"\",\n        alpha = alphaRegex.exec(str),\n        alphaMatch = alpha ? alpha[0] : \"\",\n        alphaNumeric = alphaNumericRegex.exec(str),\n        alphaNumericMatch = alphaNumeric ? alphaNumeric[0] : \"\",\n        mode,\n        modeString;\n\n    if (numericMatch &&\n        (numericMatch.length >= minNumericBeforeAlpha || str.length === numericMatch.length ||\n        (numericMatch.length >= minNumericBeforeByte && !alphaNumericRegex.test(str.charAt(numericMatch.length))))) {\n        mode = NUMERIC;\n        modeString = numericMatch;\n    } else if (alphaNumericMatch && (str.length === alphaNumericMatch.length ||\n        alphaNumericMatch.length >= minAlphaBeforeByte || previousMode === ALPHA_NUMERIC)) {\n        mode = ALPHA_NUMERIC;\n        modeString = numericMatch || alphaMatch;\n    } else {\n        mode = BYTE;\n\n        if (alphaNumericMatch) {\n            modeString = alphaNumericMatch + byteRegex.exec(str.substring(alphaNumericMatch.length))[0];\n        } else {\n            modeString = byteRegex.exec(str)[0];\n        }\n    }\n\n    return {\n        mode: mode,\n        modeString: modeString\n    };\n}\n\nfunction getModes(inputString) {\n    var modes = [],\n        previousMode,\n        idx = 0;\n    var str = inputString;\n\n    modes.push(chooseMode(str, initMinNumericBeforeAlpha, initMinNumericBeforeByte, initMinAlphaBeforeByte, previousMode));\n    previousMode = modes[0].mode;\n    str = str.substr(modes[0].modeString.length);\n\n    while (str.length > 0) {\n        var nextMode = chooseMode(str, minNumericBeforeAlpha, minNumericBeforeByte, minAlphaBeforeByte, previousMode);\n\n        if (nextMode.mode !== previousMode) {\n            previousMode = nextMode.mode;\n            modes.push(nextMode);\n            idx++;\n        } else {\n            modes[idx].modeString += nextMode.modeString;\n        }\n\n        str = str.substr(nextMode.modeString.length);\n    }\n\n    return modes;\n}\n\nfunction getDataCodewordsCount(modes) {\n    var length = 0,\n        mode;\n\n    for (var i = 0; i < modes.length; i++) {\n        mode = DataModeInstances[modes[i].mode];\n        length += mode.getStringBitsLength(modes[i].modeString.length);\n    }\n\n    return Math.ceil(length / 8);\n}\n\nfunction getVersion(dataCodewordsCount, errorCorrectionLevel) {\n    var x = 0,\n        y = VersionsCodewordsInformation.length - 1,\n        version = Math.floor(VersionsCodewordsInformation.length / 2);\n\n    do {\n        if (dataCodewordsCount < VersionsCodewordsInformation[version][errorCorrectionLevel].totalDataCodewords) {\n            y = version;\n        } else {\n            x = version;\n        }\n\n        version = x + Math.floor((y - x) / 2);\n    } while (y - x > 1);\n\n    if (dataCodewordsCount <= VersionsCodewordsInformation[x][errorCorrectionLevel].totalDataCodewords) {\n        return version + 1;\n    }\n\n    return y + 1;\n}\n\nfunction getDataString(modes, version) {\n    var dataString = \"\",\n        mode;\n\n    for (var i = 0; i < modes.length; i++) {\n        mode = DataModeInstances[modes[i].mode];\n        dataString += mode.encode(modes[i].modeString, version);\n    }\n\n    return dataString;\n}\n\n//fix case all zeros\nfunction encodeFormatInformation(format) {\n    var formatNumber = toDecimal(format),\n        encodedString,\n        result = \"\";\n\n    if (formatNumber === 0) {\n        return \"101010000010010\";\n    }\n\n    encodedString = encodeBCH(toDecimal(format), formatGeneratorPolynomial, 15);\n\n    for (var i = 0; i < encodedString.length; i++) {\n        result += encodedString.charAt(i) ^ formatMaskPattern.charAt(i);\n    }\n\n    return result;\n}\n\nfunction encodeBCH(value, generatorPolynomial, codeLength) {\n    var generatorNumber = toDecimal(generatorPolynomial),\n        polynomialLength = generatorPolynomial.length - 1,\n        valueNumber = value << polynomialLength,\n        length = codeLength - polynomialLength,\n        valueString = toBitsString(value, length),\n        result = dividePolynomials(valueNumber, generatorNumber);\n\n    result = valueString + toBitsString(result, polynomialLength);\n\n    return result;\n}\n\nfunction dividePolynomials(numberX, numberY) {\n    var yLength = numberY.toString(2).length,\n        xLength = numberX.toString(2).length;\n    var x = numberX;\n\n    do {\n        x ^= numberY << xLength - yLength;\n        xLength = x.toString(2).length;\n    }\n    while (xLength >= yLength);\n\n    return x;\n}\n\nfunction getNumberAt(str, idx) {\n    return parseInt(str.charAt(idx), 10);\n}\n\nfunction initMatrices(version) {\n    var matrices = [],\n        modules = 17 + 4 * version;\n\n    for (var i = 0; i < maskPatternConditions.length; i++) {\n        matrices[i] = new Array(modules);\n\n        for (var j = 0; j < modules; j++) {\n            matrices[i][j] = new Array(modules);\n        }\n    }\n\n    return matrices;\n}\n\nfunction addFormatInformation(matrices, formatString) {\n    var matrix = matrices[0],\n        x,\n        y,\n        idx = 0,\n        length = formatString.length;\n\n    for (x = 0, y = 8; x <= 8; x++) {\n        if (x !== 6) {\n            fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\n        }\n    }\n\n    for (x = 8, y = 7; y >= 0; y--) {\n        if (y !== 6) {\n            fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\n        }\n    }\n\n    idx = 0;\n\n    for (y = matrix.length - 1, x = 8; y >= matrix.length - 8; y--) {\n        fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\n    }\n\n    fillFunctionCell(matrices, 1, matrix.length - 8, 8);\n\n    for (x = matrix.length - 7, y = 8; x < matrix.length; x++) {\n        fillFunctionCell(matrices, getNumberAt(formatString, length - 1 - idx++), x, y);\n    }\n}\n\nfunction encodeVersionInformation(version) {\n    return encodeBCH(version, versionGeneratorPolynomial, 18);\n}\n\nfunction addVersionInformation(matrices, dataString) {\n    var matrix = matrices[0],\n        modules = matrix.length,\n        x1 = 0,\n        y1 = modules - 11,\n        x2 = modules - 11,\n        y2 = 0,\n        quotient,\n        mod,\n        value;\n\n    for (var idx = 0; idx < dataString.length; idx++) {\n        quotient = Math.floor(idx / 3);\n        mod = idx % 3;\n        value = getNumberAt(dataString, dataString.length - idx - 1);\n\n        fillFunctionCell(matrices, value, x1 + quotient, y1 + mod);\n        fillFunctionCell(matrices, value, x2 + mod, y2 + quotient);\n    }\n}\n\nfunction addCentricPattern(matrices, pattern, x, y) {\n    var size = pattern.length + 2,\n        length = pattern.length + 1,\n        value;\n\n    for (var i = 0; i < pattern.length; i++) {\n        for (var j = i; j < size - i; j++) {\n            value = pattern[i];\n\n            fillFunctionCell(matrices, value, x + j, y + i);\n            fillFunctionCell(matrices, value, x + i, y + j);\n            fillFunctionCell(matrices, value, x + length - j, y + length - i);\n            fillFunctionCell(matrices, value, x + length - i, y + length - j);\n        }\n    }\n}\n\nfunction addFinderSeparator(matrices, direction, x, y) {\n    var nextX = x,\n        nextY = y,\n        matrix = matrices[0];\n\n    do {\n        fillFunctionCell(matrices, 0, nextX, y);\n        fillFunctionCell(matrices, 0, x, nextY);\n        nextX += direction[0];\n        nextY += direction[1];\n    }\n    while (nextX >= 0 && nextX < matrix.length);\n}\n\nfunction addFinderPatterns(matrices) {\n    var modules = matrices[0].length;\n\n    addCentricPattern(matrices, finderPattern, 0, 0);\n    addFinderSeparator(matrices, [-1, -1], 7, 7);\n    addCentricPattern(matrices, finderPattern, modules - 7, 0);\n    addFinderSeparator(matrices, [1, -1], modules - 8, 7);\n    addCentricPattern(matrices, finderPattern, 0, modules - 7);\n    addFinderSeparator(matrices, [-1, 1], 7, modules - 8);\n}\n\nfunction addAlignmentPatterns(matrices, version) {\n    if (version < 2) {\n        return;\n    }\n\n    var matrix = matrices[0],\n        modules = matrix.length,\n        pointsCount = Math.floor(version / 7),\n        points = [6],\n        startDistance,\n        distance,\n        idx = 0;\n\n    if ((startDistance = irregularAlignmentPatternsStartDistance[version])) {\n        distance = (modules - 13 - startDistance) / pointsCount;\n    } else {\n        startDistance = distance = (modules - 13) / (pointsCount + 1);\n    }\n\n    points.push(points[idx++] + startDistance);\n\n    while ((points[idx] + distance) < modules) {\n        points.push(points[idx++] + distance);\n    }\n\n    for (var i = 0; i < points.length; i++) {\n        for (var j = 0; j < points.length; j++) {\n            if (matrix[points[i]][points[j]] === undefined) {\n                addCentricPattern(matrices, alignmentPattern, points[i] - 2, points[j] - 2);\n            }\n        }\n    }\n}\n\nfunction addTimingFunctions(matrices) {\n    var row = 6,\n        column = 6,\n        value = 1,\n        modules = matrices[0].length;\n\n    for (var i = 8; i < modules - 8; i++) {\n        fillFunctionCell(matrices, value, row, i);\n        fillFunctionCell(matrices, value, i, column);\n        value ^= 1;\n    }\n}\n\nfunction scoreMaskMatrixes(matrices) {\n    var scores = [],\n        previousBits = [],\n        darkModules = [],\n        patterns = [],\n        adjacentSameBits = [],\n        matrix,\n        i,\n        row = 0,\n        column = 1,\n        modulesLength = matrices[0].length;\n\n    for (i = 0; i < matrices.length; i++) {\n        scores[i] = 0;\n        darkModules[i] = 0;\n        adjacentSameBits[i] = [0, 0];\n        patterns[i] = [0, 0];\n        previousBits[i] = [];\n    }\n\n    for (var rowIndex = 0; rowIndex < modulesLength; rowIndex++) {\n        for (var columnIndex = 0; columnIndex < modulesLength; columnIndex++) {\n            for (var matrixIndex = 0; matrixIndex < matrices.length; matrixIndex++) {\n                matrix = matrices[matrixIndex];\n                darkModules[matrixIndex] += parseInt(matrix[rowIndex][columnIndex], 10);\n\n                if (previousBits[matrixIndex][row] === matrix[rowIndex][columnIndex] &&\n                    rowIndex + 1 < modulesLength &&\n                    columnIndex - 1 >= 0 &&\n                    matrix[rowIndex + 1][columnIndex] === previousBits[matrixIndex][row] &&\n                    matrix[rowIndex + 1][columnIndex - 1] === previousBits[matrixIndex][row]) {\n                    scores[matrixIndex] += 3;\n                }\n\n                scoreFinderPatternOccurance(matrixIndex, patterns, scores, row, matrix[rowIndex][columnIndex]);\n                scoreFinderPatternOccurance(matrixIndex, patterns, scores, column, matrix[columnIndex][rowIndex]);\n                scoreAdjacentSameBits(matrixIndex, scores, previousBits, matrix[rowIndex][columnIndex], adjacentSameBits, row);\n                scoreAdjacentSameBits(matrixIndex, scores, previousBits, matrix[columnIndex][rowIndex], adjacentSameBits, column);\n            }\n        }\n    }\n\n    var total = modulesLength * modulesLength,\n        minIdx,\n        min = Number.MAX_VALUE;\n\n    for (i = 0; i < scores.length; i++) {\n        scores[i] += calculateDarkModulesRatioScore(darkModules[i], total);\n\n        if (scores[i] < min) {\n            min = scores[i];\n            minIdx = i;\n        }\n    }\n\n    return minIdx;\n}\n\nfunction scoreFinderPatternOccurance(idx, patterns, scores, rowColumn, bit) {\n    patterns[idx][rowColumn] = ((patterns[idx][rowColumn] << 1) ^ bit) % 128;\n\n    if (patterns[idx][rowColumn] === finderPatternValue) {\n        scores[idx] += 40;\n    }\n}\n\nfunction scoreAdjacentSameBits(idx, scores, previousBits, bit, adjacentBits, rowColumn) {\n    if (previousBits[idx][rowColumn] === bit) {\n        adjacentBits[idx][rowColumn]++;\n    } else {\n        previousBits[idx][rowColumn] = bit;\n\n        if (adjacentBits[idx][rowColumn] >= 5) {\n            scores[idx] += 3 + adjacentBits[idx][rowColumn] - 5;\n        }\n\n        adjacentBits[idx][rowColumn] = 1;\n    }\n}\n\nfunction calculateDarkModulesRatioScore(darkModules, total) {\n    var percent = Math.floor((darkModules / total) * 100),\n        mod5 = percent % 5,\n        previous = Math.abs(percent - mod5 - 50),\n        next = Math.abs(percent + 5 - mod5 - 50),\n        score = 10 * Math.min(previous / 5, next / 5);\n\n    return score;\n}\n\nfunction createQRCodeDataEncoder(encoding) {\n    if (encoding && encoding.toLowerCase().indexOf(\"utf_8\") >= 0) {\n        return new Utf8Encoder();\n    }\n\n    return new IsoEncoder();\n}\n\nfunction encodeData(inputString, errorCorrectionLevel, encoding) {\n    var encoder = createQRCodeDataEncoder(encoding),\n        encodingResult = encoder.getEncodingResult(inputString, errorCorrectionLevel),\n        version = encodingResult.version,\n        versionInformation = VersionsCodewordsInformation[version - 1][errorCorrectionLevel],\n        dataString = padDataString(encodingResult.dataString, versionInformation.totalDataCodewords),\n        blocks = getBlocks(dataString, versionInformation),\n        matrices = initMatrices(version);\n\n    addFinderPatterns(matrices);\n    addAlignmentPatterns(matrices, version);\n    addTimingFunctions(matrices);\n\n    if (version >= 7) {\n        addVersionInformation(matrices, toBitsString(0, 18));\n    }\n\n    addFormatInformation(matrices, toBitsString(0, 15));\n    fillData(matrices, blocks);\n\n    var minIdx = scoreMaskMatrixes(matrices),\n        optimalMatrix = matrices[minIdx];\n\n    if (version >= 7) {\n        addVersionInformation([optimalMatrix], encodeVersionInformation(version));\n    }\n\n    var formatString = errorCorrectionPatterns[errorCorrectionLevel] + toBitsString(minIdx, 3);\n    addFormatInformation([optimalMatrix], encodeFormatInformation(formatString));\n\n    return optimalMatrix;\n}\n\nvar round = Math.round;\nvar crossPattern = [[0, 1], [1, 1], [1, 2], [2, 2], [2, 1], [3, 1], [3, 0], [2, 0], [2, -1], [1, -1], [1, 0]];\nvar squarePattern = [[0, 1], [1, 1], [1, 0]];\n\nvar QRCodeDefaults = {\n    DEFAULT_SIZE: 200,\n    QUIET_ZONE_LENGTH: 4,\n    DEFAULT_ERROR_CORRECTION_LEVEL: \"L\",\n    DEFAULT_BACKGROUND: \"#fff\",\n    DEFAULT_DARK_MODULE_COLOR: \"#000\",\n    MIN_BASE_UNIT_SIZE: 1,\n    DEFAULT_LOGO_SIZE: 7\n};\n\nvar QRCode = (function (Class) {\n    function QRCode(element, options, errorHandler) {\n        if ( errorHandler === void 0 ) errorHandler = defaultErrorHandler;\n\n        Class.call(this);\n\n        this.options = deepExtend({}, this.options, options);\n        this.element = element;\n        this.wrapper = this.element;\n        this.onError = errorHandler;\n\n        this._initElement();\n        this._initSurface();\n\n        this.setOptions(options);\n    }\n\n    if ( Class ) QRCode.__proto__ = Class;\n    QRCode.prototype = Object.create( Class && Class.prototype );\n    QRCode.prototype.constructor = QRCode;\n\n    QRCode.prototype.destroy = function destroy () {\n        this._destroySurface();\n    };\n\n    QRCode.prototype._initElement = function _initElement () {\n        addClass(this.element, \"k-qrcode\");\n    };\n\n    QRCode.prototype._initSurface = function _initSurface () {\n        var ref = this;\n        var options = ref.options;\n        var surface = ref.surface;\n\n        if (!surface || surface.options.type !== options.renderAs) {\n            this._destroySurface();\n            this._initSurfaceElement();\n            this.surface = this._createSurface();\n        }\n    };\n\n    QRCode.prototype._createSurface = function _createSurface () {\n        return Surface$1.create(this.surfaceElement, {\n            type: this.options.renderAs\n        });\n    };\n\n    QRCode.prototype._destroySurface = function _destroySurface () {\n        if (this.surface) {\n            this.surface.destroy();\n            this.surface = null;\n            this._destroySurfaceElement();\n        }\n    };\n\n    QRCode.prototype._initSurfaceElement = function _initSurfaceElement () {\n        if (!this.surfaceElement) {\n            this.surfaceElement = document.createElement('div');\n            this.surfaceElement.style.position = \"relative\";\n            this.element.appendChild(this.surfaceElement);\n        }\n    };\n\n    QRCode.prototype._destroySurfaceElement = function _destroySurfaceElement () {\n        if (this.surfaceElement && this.surfaceElement.parentNode) {\n            this.surfaceElement.parentNode.removeChild(this.surfaceElement);\n            this.surfaceElement = null;\n        }\n    };\n\n    QRCode.prototype.redraw = function redraw () {\n        var size = this._getSize();\n\n        this.surface.clear();\n\n        this.surface.setSize({\n            width: size,\n            height: size\n        });\n\n        this.createVisual();\n\n        this.surface.draw(this.visual);\n    };\n\n    QRCode.prototype.getSize = function getSize () {\n        var element = this.element;\n        var elementWidth = element.clientWidth;\n        var elementHeight = element.clientHeight;\n        var size = { width: 0, height: 0 };\n\n        if (elementWidth > 0) {\n            size.width = elementWidth;\n        }\n\n        if (elementHeight) {\n            size.height = elementHeight;\n        }\n\n        return size;\n    };\n\n    QRCode.prototype._resize = function _resize () {\n        this.redraw();\n    };\n\n    QRCode.prototype.createVisual = function createVisual () {\n        this.visual = this._render();\n    };\n\n    QRCode.prototype.exportVisual = function exportVisual () {\n        return this._render();\n    };\n\n    QRCode.prototype._render = function _render () {\n        var value = this._value,\n            baseUnit,\n            border = this.options.border || {},\n            padding = this.options.padding || 0,\n            borderWidth = border.width || 0,\n            quietZoneSize,\n            matrix,\n            size,\n            dataSize,\n            contentSize;\n\n        border.width = borderWidth;\n\n        var visual = new Group$8();\n\n        try {\n            if (value) {\n                matrix = encodeData(value, this.options.errorCorrection, this.options.encoding);\n                size = this._getSize();\n                contentSize = size - 2 * (borderWidth + padding);\n                baseUnit = this._calculateBaseUnit(contentSize, matrix.length);\n                dataSize = matrix.length * baseUnit;\n                quietZoneSize = borderWidth + padding + (contentSize - dataSize) / 2;\n\n                visual.append(this._renderBackground(size, border));\n                visual.append(this._renderMatrix(matrix, baseUnit, quietZoneSize));\n\n                if (this._hasCustomLogo()) {\n                    visual.append(this._renderLogo(size, baseUnit));\n                } else if (this._isSwiss()) {\n                    visual.append(this._renderSwissCode(size, baseUnit));\n                }\n            }\n        } catch (error) {\n            this.onError(error);\n        }\n\n        return visual;\n    };\n\n    QRCode.prototype._renderLogo = function _renderLogo (qrSize, baseUnit) {\n        var image;\n        var imageRect;\n        var center = round(qrSize / 2);\n        var logoSize = this._getLogoSize(baseUnit * QRCodeDefaults.DEFAULT_LOGO_SIZE);\n        var logoUrl = this.options.overlay.imageUrl;\n        var position = {\n            x: center - logoSize.width / 2,\n            y: center - logoSize.height / 2\n        };\n\n        imageRect = new Rect(\n            new Point$6(position.x, position.y),\n            new Size(logoSize.width, logoSize.height)\n        );\n\n        image = new Image(logoUrl, imageRect);\n\n        return image;\n    };\n\n    QRCode.prototype._renderSwissCode = function _renderSwissCode (qrSize, baseUnit) {\n        var logoSize = this._getLogoSize(baseUnit * QRCodeDefaults.DEFAULT_LOGO_SIZE);\n        logoSize = Math.max(logoSize.width, logoSize.height);\n        var crossSize = logoSize / 4;\n        var crossOffset = crossSize / 2;\n        var center = qrSize / 2;\n        var start = {};\n        var visual = new Group$8();\n\n        start.x = start.y = Math.ceil(center - baseUnit - logoSize / 2);\n        visual.append(this._renderShape(start, Math.ceil(logoSize + baseUnit * 2), squarePattern, \"#fff\"));\n\n        start.x = start.y = center - logoSize / 2;\n        visual.append(this._renderShape(start, logoSize, squarePattern, this.options.color));\n\n        start.x = center + crossOffset - logoSize / 2;\n        start.y = center + crossOffset + crossSize - logoSize / 2;\n        visual.append(this._renderShape(start, crossSize, crossPattern, \"#fff\"));\n\n        return visual;\n    };\n\n    QRCode.prototype._renderShape = function _renderShape (start, step, pattern, color) {\n        var path = new MultiPath({\n            fill: {\n                color: color\n            },\n            stroke: null\n        });\n\n        path.moveTo(start.x, start.y);\n\n        for (var i = 0; i < pattern.length; i++) {\n            path.lineTo(start.x + step * pattern[i][0], start.y + step * pattern[i][1]);\n        }\n\n        path.close();\n\n        return path;\n    };\n\n    QRCode.prototype._getSize = function _getSize () {\n        var size;\n\n        if (this.options.size) {\n            size = parseInt(this.options.size, 10);\n        } else {\n            var element = this.element;\n            var elementSize = surfaceSize(element, this.options.renderAs);\n            var min = Math.min(elementSize.width, elementSize.height);\n\n            if (min > 0) {\n                size = min;\n            } else {\n                size = QRCodeDefaults.DEFAULT_SIZE;\n            }\n        }\n\n        return size;\n    };\n\n    QRCode.prototype._calculateBaseUnit = function _calculateBaseUnit (size, matrixSize) {\n        var baseUnit = Math.floor(size / matrixSize);\n\n        if (baseUnit < QRCodeDefaults.MIN_BASE_UNIT_SIZE) {\n            var minSize = Math.ceil(matrixSize * QRCodeDefaults.MIN_BASE_UNIT_SIZE);\n            this.onError(new Error(\n                (\"Insufficient size for QR Code: the current size is \" + size + \"px and the minimum size is \" + minSize + \"px.\")\n            ));\n        } else if (baseUnit * matrixSize >= size &&\n            baseUnit - 1 >= QRCodeDefaults.MIN_BASE_UNIT_SIZE) {\n            baseUnit--;\n        }\n\n        return baseUnit;\n    };\n\n    QRCode.prototype._renderMatrix = function _renderMatrix (matrix, baseUnit, quietZoneSize) {\n        var path = new MultiPath({\n            fill: {\n                color: this.options.color\n            },\n            stroke: null\n        });\n\n        for (var row = 0; row < matrix.length; row++) {\n            var y = quietZoneSize + row * baseUnit;\n            var column = 0;\n\n            while (column < matrix.length) {\n                while (matrix[row][column] === 0 && column < matrix.length) {\n                    column++;\n                }\n\n                if (column < matrix.length) {\n                    var x = column;\n                    while (matrix[row][column] === 1) {\n                        column++;\n                    }\n\n                    var x1 = round(quietZoneSize + x * baseUnit);\n                    var y1 = round(y);\n                    var x2 = round(quietZoneSize + column * baseUnit);\n                    var y2 = round(y + baseUnit);\n\n                    path.moveTo(x1, y1)\n                        .lineTo(x1, y2)\n                        .lineTo(x2, y2)\n                        .lineTo(x2, y1)\n                        .close();\n                }\n            }\n        }\n\n        return path;\n    };\n\n    QRCode.prototype._renderBackground = function _renderBackground (size, border) {\n        var box = new Box(0, 0, size, size).unpad(border.width / 2);\n        var background = Path$7.fromRect(box.toRect(), {\n            fill: {\n                color: this.options.background\n            },\n            stroke: {\n                color: border.color,\n                width: border.width\n            }\n        });\n\n        return background;\n    };\n\n    QRCode.prototype.setOptions = function setOptions (options) {\n        var newOptions = options || {};\n        this.options = extend$5(this.options, newOptions);\n\n        if (options.value !== undefined) {\n            this._value = String(this.options.value);\n        }\n\n        this._initSurface();\n        this.redraw();\n    };\n\n    QRCode.prototype.value = function value (value$1) {\n        if (value$1 === undefined) {\n            return this._value;\n        }\n\n        this._value = String(value$1);\n\n        this.redraw();\n    };\n\n    QRCode.prototype._hasCustomLogo = function _hasCustomLogo () {\n        return Boolean(this.options.overlay.imageUrl);\n    };\n\n    QRCode.prototype._isSwiss = function _isSwiss () {\n        return this.options.overlay.type === \"swiss\";\n    };\n\n    QRCode.prototype._getLogoSize = function _getLogoSize (defautLogoSize) {\n        var width = this.options.overlay.width;\n        var height = this.options.overlay.height;\n\n        if (!width && !height) {\n            width = height = defautLogoSize;\n        } else if (width && !height) {\n            height = width;\n        } else if (!width && height) {\n            width = height;\n        }\n\n        return {\n            width: width,\n            height: height\n        };\n    };\n\n    return QRCode;\n}(Class));\n\nsetDefaultOptions(QRCode, {\n    name: \"QRCode\",\n    renderAs: \"svg\",\n    encoding: \"ISO_8859_1\",\n    value: \"\",\n    errorCorrection: QRCodeDefaults.DEFAULT_ERROR_CORRECTION_LEVEL,\n    background: QRCodeDefaults.DEFAULT_BACKGROUND,\n    color: QRCodeDefaults.DEFAULT_DARK_MODULE_COLOR,\n    size: \"\",\n    padding: 0,\n    border: {\n        color: \"\",\n        width: 0\n    },\n    overlay: {\n        type: \"image\",\n        imageUrl: \"\",\n        width: 0,\n        height: 0\n    }\n});\n\nvar ISO = 'ISO_8859_1';\n\nfunction qrcodeValidator(encoding) {\n    if ( encoding === void 0 ) encoding = ISO;\n\n    return function(value) {\n        try {\n            encodeData(value, 'L', encoding);\n        } catch (error) {\n            return {\n                valid: false,\n                error: error\n            };\n        }\n\n        return {\n            valid: true\n        };\n    };\n}\n\n// Coordinate reference system\n// World Geodetic System of 1984\nvar WGS84$1 = {\n    a: 6378137,                 // Semi-major radius\n    b: 6356752.314245179,       // Semi-minor radius\n    f: 0.0033528106647474805,   // Flattening\n    e: 0.08181919084262149      // Eccentricity\n};\n\n// Geographic coordinate systems use a spheroid to calculate positions on the earth.\n// A datum defines the position of the spheroid relative to the center of the earth\n// it provides a frame of reference for measuring locations on the surface of the earth\n// and defines the origin and orientation of latitude and longitude lines.\nvar datums = {\n    WGS84: WGS84$1\n};\n\nfunction toSquare(value) {\n    return value * value;\n}\n\n\nvar math$4 = Math,\n    abs$1 = math$4.abs,\n    atan$1 = math$4.atan,\n    atan2 = math$4.atan2,\n    cos = math$4.cos,\n    sin$1 = math$4.sin,\n    tan$1 = math$4.tan;\n\nvar Location = (function (Class) {\n    function Location(lat, lng) {\n        Class.call(this);\n\n        this.initProperties();\n\n        if (arguments.length === 1) {\n            this.lat = lat[0];\n            this.lng = lat[1];\n        } else {\n            this.lat = lat;\n            this.lng = lng;\n        }\n    }\n\n    if ( Class ) Location.__proto__ = Class;\n    Location.prototype = Object.create( Class && Class.prototype );\n    Location.prototype.constructor = Location;\n\n    Location.prototype.initProperties = function initProperties () {\n        deepExtend(this, {\n            DISTANCE_ITERATIONS: 100,\n            DISTANCE_CONVERGENCE: 1e-12,\n            DISTANCE_PRECISION: 2,\n            FORMAT: '{0:N6}{1:N6}'\n        });\n    };\n\n    Location.prototype.toArray = function toArray () {\n        return [\n            this.lat,\n            this.lng\n        ];\n    };\n\n    Location.prototype.equals = function equals (loc) {\n        return loc && loc.lat === this.lat && loc.lng === this.lng;\n    };\n\n    Location.prototype.clone = function clone () {\n        return new Location(this.lat, this.lng);\n    };\n\n    Location.prototype.round = function round$1$1 (precision) {\n        this.lng = round$1(this.lng, precision);\n        this.lat = round$1(this.lat, precision);\n        return this;\n    };\n\n    Location.prototype.wrap = function wrap () {\n        this.lng = this.lng % 180;\n        this.lat = this.lat % 90;\n        return this;\n    };\n\n    Location.prototype.distanceTo = function distanceTo (dest, datum) {\n        return this.greatCircleTo(dest, datum).distance;\n    };\n\n    Location.prototype.destination = function destination (distance, initialBearing, initialDatum) {\n        var bearing = rad(initialBearing);\n        var datum = initialDatum || datums.WGS84;\n        var fromLat = rad(this.lat);\n        var fromLng = rad(this.lng);\n        var dToR = distance / datum.a;\n        var lat = math$4.asin(sin$1(fromLat) * cos(dToR) + cos(fromLat) * sin$1(dToR) * cos(bearing));\n        var lng = fromLng + atan2(sin$1(bearing) * sin$1(dToR) * cos(fromLat), cos(dToR) - sin$1(fromLat) * sin$1(lat));\n\n        return new Location(deg(lat), deg(lng));\n    };\n\n    Location.prototype.greatCircleTo = function greatCircleTo (initialDest, initialDatum) {\n        var this$1$1 = this;\n\n        var dest = Location.create(dest);\n        var datum = initialDatum || datums.WGS84;\n\n        if (!dest || this.clone().round(8).equals(dest.clone().round(8))) {\n            return {\n                distance: 0,\n                azimuthFrom: 0,\n                azimuthTo: 0\n            };\n        }\n\n        // See http://en.wikipedia.org/wiki/Vincenty's_formulae#Notation\n        // o == sigma\n        // A == alpha\n\n        var a = datum.a;\n        var b = datum.b;\n        var f = datum.f;\n        var L = rad(dest.lng - this.lng);\n        var U1 = atan$1((1 - f) * tan$1(rad(this.lat)));\n        var sinU1 = sin$1(U1);\n        var cosU1 = cos(U1);\n        var U2 = atan$1((1 - f) * tan$1(rad(dest.lat)));\n        var sinU2 = sin$1(U2);\n        var cosU2 = cos(U2);\n        var lambda = L;\n        var prevLambda;\n        var i = this.DISTANCE_ITERATIONS;\n        var converged = false;\n        var sinLambda;\n        var cosLambda;\n        var sino;\n        var cosA2;\n        var coso;\n        var cos2om;\n        var sigma;\n\n        while (!converged && i-- > 0) {\n            sinLambda = sin$1(lambda);\n            cosLambda = cos(lambda);\n            sino = math$4.sqrt(toSquare(cosU2 * sinLambda) + toSquare(cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n            coso = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n            sigma = atan2(sino, coso);\n\n            var sinA = cosU1 * cosU2 * sinLambda / sino;\n            cosA2 = 1 - toSquare(sinA);\n            cos2om = 0;\n\n            if (cosA2 !== 0) {\n                cos2om = coso - 2 * sinU1 * sinU2 / cosA2;\n            }\n\n            prevLambda = lambda;\n            var C = f / 16 * cosA2 * (4 + f * (4 - 3 * cosA2));\n            lambda = L + (1 - C) * f * sinA * (sigma + C * sino * (cos2om + C * coso * (-1 + 2 * toSquare(cos2om))));\n            converged = abs$1(lambda - prevLambda) <= this$1$1.DISTANCE_CONVERGENCE;\n        }\n\n        var u2 = cosA2 * (toSquare(a) - toSquare(b)) / toSquare(b);\n        var A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n        var B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n        var deltao = B * sino * (cos2om + B / 4 * (coso * (-1 + 2 * toSquare(cos2om)) - B / 6 * cos2om * (-3 + 4 * toSquare(sino)) * (-3 + 4 * toSquare(cos2om))));\n\n        var azimuthFrom = atan2(cosU2 * sinLambda, cosU1 * sinU2 - sinU1 * cosU2 * cosLambda);\n        var azimuthTo = atan2(cosU1 * sinLambda, -sinU1 * cosU2 + cosU1 * sinU2 * cosLambda);\n\n        return {\n            distance: round$1(b * A * (sigma - deltao), this.DISTANCE_PRECISION),\n            azimuthFrom: deg(azimuthFrom),\n            azimuthTo: deg(azimuthTo)\n        };\n    };\n\n    // IE < 9 doesn't allow to override toString on definition\n    Location.prototype.toString = function toString () {\n        // return kendo.format(this.FORMAT, this.lat, this.lng);\n        return String(this.lat) + \",\" + String(this.lng);\n    };\n\n    Location.fromLngLat = function fromLngLat (lngAndLat) {\n        return new Location(lngAndLat[1], lngAndLat[0]);\n    };\n\n    Location.fromLatLng = function fromLatLng (lngAndLat) {\n        return new Location(lngAndLat[0], lngAndLat[1]);\n    };\n\n    Location.create = function create (a, b) {\n        if (defined(a)) {\n            if (a instanceof Location) {\n                return a.clone();\n            } else if (arguments.length === 1 && a.length === 2) {\n                return Location.fromLatLng(a);\n            }\n\n            return new Location(a, b);\n        }\n    };\n\n    return Location;\n}(Class));\n\nvar math$3 = Math,\n    atan = math$3.atan,\n    exp = math$3.exp,\n    pow$1 = math$3.pow,\n    sin = math$3.sin,\n    log = math$3.log,\n    tan = math$3.tan,\n    Point$2 = Point$6;\n\nvar PI = math$3.PI,\n    PI_DIV_2 = PI / 2,\n    PI_DIV_4 = PI / 4,\n    DEG_TO_RAD = PI / 180;\n\nvar WGS84 = datums.WGS84;\n\n// WGS 84 / World Mercator\nvar Mercator = (function (Class) {\n    function Mercator(options) {\n        Class.call(this);\n        this.initProperties();\n        this._initOptions(options);\n    }\n\n    if ( Class ) Mercator.__proto__ = Class;\n    Mercator.prototype = Object.create( Class && Class.prototype );\n    Mercator.prototype.constructor = Mercator;\n\n    Mercator.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Mercator.prototype.initProperties = function initProperties () {\n        // super.initProperties();\n\n        deepExtend(this, {\n            MAX_LNG: 180,\n            MAX_LAT: 85.0840590501,\n            INVERSE_ITERATIONS: 15,\n            INVERSE_CONVERGENCE: 1e-12\n        });\n    };\n\n    Mercator.prototype.forward = function forward (loc, clamp) {\n        var proj = this,\n            options = proj.options,\n            datum = options.datum,\n            r = datum.a,\n            lng0 = options.centralMeridian,\n            lat = limitValue(loc.lat, -proj.MAX_LAT, proj.MAX_LAT),\n            lng = clamp ? limitValue(loc.lng, -proj.MAX_LNG, proj.MAX_LNG) : loc.lng,\n            x = rad(lng - lng0) * r,\n            y = proj._projectLat(lat);\n        return new Point$2(x, y);\n    };\n    Mercator.prototype._projectLat = function _projectLat (lat) {\n        var datum = this.options.datum,\n            ecc = datum.e,\n            r = datum.a,\n            y = rad(lat),\n            ts = tan(PI_DIV_4 + y / 2),\n            con = ecc * sin(y),\n            p = pow$1((1 - con) / (1 + con), ecc / 2);\n\n        // See: http://en.wikipedia.org/wiki/Mercator_projection#Generalization_to_the_ellipsoid\n        return r * log(ts * p);\n    };\n    Mercator.prototype.inverse = function inverse (point, clamp) {\n        var proj = this,\n            options = proj.options,\n            datum = options.datum,\n            r = datum.a,\n            lng0 = options.centralMeridian,\n            lng = point.x / (DEG_TO_RAD * r) + lng0,\n            lat = limitValue(proj._inverseY(point.y), -proj.MAX_LAT, proj.MAX_LAT);\n        if (clamp) {\n            lng = limitValue(lng, -proj.MAX_LNG, proj.MAX_LNG);\n        }\n        return new Location(lat, lng);\n    };\n    Mercator.prototype._inverseY = function _inverseY (y) {\n        var proj = this,\n            datum = proj.options.datum,\n            r = datum.a,\n            ecc = datum.e,\n            ecch = ecc / 2,\n            ts = exp(-y / r),\n            phi = PI_DIV_2 - 2 * atan(ts),\n            i;\n        for (i = 0; i <= proj.INVERSE_ITERATIONS; i++) {\n            var con = ecc * sin(phi),\n                p = pow$1((1 - con) / (1 + con), ecch),\n                dphi = PI_DIV_2 - 2 * atan(ts * p) - phi;\n            phi += dphi;\n            if (math$3.abs(dphi) <= proj.INVERSE_CONVERGENCE) {\n                break;\n            }\n        }\n        return deg(phi);\n    };\n\n    return Mercator;\n}(Class));\n\nsetDefaultOptions(Mercator, {\n    centralMeridian: 0,\n    datum: WGS84\n});\n\n\n// WGS 84 / Pseudo-Mercator\n// Used by Google Maps, Bing, OSM, etc.\n// Spherical projection of ellipsoidal coordinates.\nvar SphericalMercator = (function (Mercator) {\n    function SphericalMercator () {\n        Mercator.apply(this, arguments);\n    }\n\n    if ( Mercator ) SphericalMercator.__proto__ = Mercator;\n    SphericalMercator.prototype = Object.create( Mercator && Mercator.prototype );\n    SphericalMercator.prototype.constructor = SphericalMercator;\n\n    SphericalMercator.prototype.initProperties = function initProperties () {\n        Mercator.prototype.initProperties.call(this);\n\n        deepExtend(this, {\n            MAX_LAT: 85.0511287798\n        });\n    };\n\n    SphericalMercator.prototype._projectLat = function _projectLat (lat) {\n        var r = this.options.datum.a,\n            y = rad(lat),\n            ts = tan(PI_DIV_4 + y / 2);\n        return r * log(ts);\n    };\n\n    SphericalMercator.prototype._inverseY = function _inverseY (y) {\n        var r = this.options.datum.a,\n            ts = exp(-y / r);\n        return deg(PI_DIV_2 - 2 * atan(ts));\n    };\n\n    return SphericalMercator;\n}(Mercator));\n\nvar Equirectangular = (function (Class) {\n    function Equirectangular () {\n        Class.apply(this, arguments);\n    }\n\n    if ( Class ) Equirectangular.__proto__ = Class;\n    Equirectangular.prototype = Object.create( Class && Class.prototype );\n    Equirectangular.prototype.constructor = Equirectangular;\n\n    Equirectangular.prototype.forward = function forward (loc) {\n        return new Point$2(loc.lng, loc.lat);\n    };\n    Equirectangular.prototype.inverse = function inverse (point) {\n        return new Location(point.y, point.x);\n    };\n\n    return Equirectangular;\n}(Class));\n\n// This is the projected coordinate system used for rendering maps in Google Maps, OpenStreetMap, etc\n// Unit: metre\n// Geodetic CRS: WGS 84\n// Scope: Certain Web mapping and visualisation applications. It is not a recognised geodetic system: for that see ellipsoidal Mercator CRS code 3395 (WGS 84 / World Mercator).\n// Remarks: Uses spherical development of ellipsoidal coordinates. Relative to WGS 84 / World Mercator (CRS code 3395) errors of 0.7 percent in scale and differences in northing of up to 43km in the map (equivalent to 21km on the ground) may arise.\n// Area of use: World between 85.06°S and 85.06°N.\n// Coordinate system: Cartesian 2D CS. Axes: easting, northing (X,Y). Orientations: east, north. UoM: m.\n// https://epsg.io/3857\nvar EPSG3857 = (function (Class) {\n    function EPSG3857() {\n        Class.call(this);\n        var crs = this,\n            proj = crs._proj = new SphericalMercator();\n        var c = this.c = 2 * PI * proj.options.datum.a;\n\n        // transfrom matrix\n        // Scale circumference to 1, mirror Y and shift origin to top left\n        this._tm = transform().translate(0.5, 0.5).scale(1 / c, -1 / c);\n\n        // Inverse transform matrix\n        this._itm = transform().scale(c, -c).translate(-0.5, -0.5);\n    }\n\n    if ( Class ) EPSG3857.__proto__ = Class;\n    EPSG3857.prototype = Object.create( Class && Class.prototype );\n    EPSG3857.prototype.constructor = EPSG3857;\n\n    // Location <-> Point (screen coordinates for a given scale)\n    EPSG3857.prototype.toPoint = function toPoint (loc, scale, clamp) {\n        var point = this._proj.forward(loc, clamp);\n        return point.transform(this._tm).scale(scale || 1);\n    };\n    EPSG3857.prototype.toLocation = function toLocation (point, scale, clamp) {\n        var newPoint = point.clone().scale(1 / (scale || 1)).transform(this._itm);\n        return this._proj.inverse(newPoint, clamp);\n    };\n\n    return EPSG3857;\n}(Class));\n\n// Unit: metre\n// Geodetic CRS: WGS 84\n// Scope: Very small scale mapping.\n// Remarks: Euro-centric view of world excluding polar areas.\n// Area of use: World between 80°S and 84°N.\n// Coordinate system: Cartesian 2D CS. Axes: easting, northing (E,N). Orientations: east, north. UoM: m.\n// https://epsg.io/3395\nvar EPSG3395 = (function (Class) {\n    function EPSG3395() {\n        Class.call(this);\n        this._proj = new Mercator();\n    }\n\n    if ( Class ) EPSG3395.__proto__ = Class;\n    EPSG3395.prototype = Object.create( Class && Class.prototype );\n    EPSG3395.prototype.constructor = EPSG3395;\n    EPSG3395.prototype.toPoint = function toPoint (loc) {\n        return this._proj.forward(loc);\n    };\n    EPSG3395.prototype.toLocation = function toLocation (point) {\n        return this._proj.inverse(point);\n    };\n\n    return EPSG3395;\n}(Class));\n\n// Unit: degree\n// Geodetic CRS: WGS 84\n// Scope: Horizontal component of 3D system. Used by the GPS satellite navigation system and for NATO military geodetic surveying.\n// Area of use: World.\n// Coordinate system: Ellipsoidal 2D CS. Axes: latitude, longitude. Orientations: north, east. UoM: degree\n// https://epsg.io/4326\nvar EPSG4326 = (function (Class) {\n    function EPSG4326() {\n        Class.call(this);\n        this._proj = new Equirectangular();\n    }\n\n    if ( Class ) EPSG4326.__proto__ = Class;\n    EPSG4326.prototype = Object.create( Class && Class.prototype );\n    EPSG4326.prototype.constructor = EPSG4326;\n    EPSG4326.prototype.toPoint = function toPoint (loc) {\n        return this._proj.forward(loc);\n    };\n    EPSG4326.prototype.toLocation = function toLocation (point) {\n        return this._proj.inverse(point);\n    };\n\n    return EPSG4326;\n}(Class));\n\n/* eslint-disable arrow-body-style, no-useless-escape */\n\nvar extend$4 = Object.assign;\n\nvar proxy = function (method, context) {\n    return method.bind(context);\n};\n\nvar convertToHtml = function (html) {\n    var div = document.createElement(\"div\");\n    div.innerHTML = html;\n    return div.firstChild;\n};\n\nvar appendHtml = function (html, element) {\n    var div = document.createElement('div');\n    div.innerHTML = html;\n\n    // use childNodes instead of children\n    // to cover text nodes as well\n    while (div.childNodes.length > 0) {\n        element.appendChild(div.childNodes[0]);\n    }\n};\n\nvar removeChildren = function (element) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n};\n\nvar prepend = function (element, originElement) {\n    originElement.insertBefore(element, originElement.firstChild);\n};\n\nvar wrapInner = function (parent, wrapper) {\n    parent.appendChild(wrapper);\n\n    while (parent.firstChild !== wrapper) {\n        wrapper.appendChild(parent.firstChild);\n    }\n};\n\nvar toHyphens = function (str) {\n    var result = str.replace(/([a-z][A-Z])/g, function(g) {\n        return g.charAt(0) + '-' + g.charAt(1).toLowerCase();\n    });\n\n    return result;\n};\n\nvar toPixels = function (value) {\n    var result;\n\n    if (value && String(value).endsWith(\"px\")) {\n        result = value;\n    } else {\n        result = String(value) + \"px\";\n    }\n\n    return result;\n};\n\nvar hasNativeScrolling = function (userAgent) {\n    var ref = getSupportedFeatures(userAgent);\n    var mobileOS = ref.mobileOS;\n    return mobileOS.ios || mobileOS.android;\n};\n\nvar setDefaultEvents = function (type, events) {\n    var proto = type.prototype;\n\n    if (proto.events) {\n        events.forEach(function (event) {\n            if (proto.events.indexOf(event) < 0) {\n                proto.events.push(event);\n            }\n        });\n    } else {\n        proto.events = events;\n    }\n};\n\nvar wheelDeltaY = function (e) {\n    var deltaY = e.wheelDeltaY;\n    var delta;\n\n    if (e.wheelDelta) { // Webkit and IE\n        if (deltaY === undefined || deltaY) { // IE does not have deltaY, thus always scroll (horizontal scrolling is treated as vertical)\n            delta = e.wheelDelta;\n        }\n    } else if (e.detail && e.axis === e.VERTICAL_AXIS) { // Firefox and Opera\n        delta = (-e.detail) * 10;\n    }\n\n    return delta;\n};\n\nvar renderPos = function (pos) {\n    var result = [];\n\n    if (pos) {\n        var parts = toHyphens(pos).split(\"-\");\n\n        for (var i = 0; i < parts.length; i++) {\n            result.push(\"k-pos-\" + parts[i]);\n        }\n    }\n\n    return result.join(\" \");\n};\n\n/* eslint-enable arrow-body-style, no-useless-escape */\n\nvar Attribution = (function (Observable) {\n    function Attribution(element, options) {\n        Observable.call(this);\n        this.element = element;\n\n        this._initOptions(options);\n        this.items = [];\n\n        addClass(this.element, 'k-widget k-attribution');\n    }\n\n    if ( Observable ) Attribution.__proto__ = Observable;\n    Attribution.prototype = Object.create( Observable && Observable.prototype );\n    Attribution.prototype.constructor = Attribution;\n\n    Attribution.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Attribution.prototype.filter = function filter (extent, zoom) {\n        this._extent = extent;\n        this._zoom = zoom;\n        this._render();\n    };\n\n    Attribution.prototype.add = function add (item) {\n        var newItem = item;\n\n        if (defined(item)) {\n            if (typeof item === 'string') {\n                newItem = {\n                    text: item\n                };\n            }\n\n            this.items.push(newItem);\n            this._render();\n        }\n    };\n\n    Attribution.prototype.remove = function remove (text) {\n        var this$1$1 = this;\n\n        var result = [];\n\n        for (var i = 0; i < this.items.length; i++) {\n            var item = this$1$1.items[i];\n\n            if (item.text !== text) {\n                result.push(item);\n            }\n        }\n\n        this.items = result;\n        this._render();\n    };\n\n    Attribution.prototype.clear = function clear () {\n        this.items = [];\n        removeChildren(this.element);\n    };\n\n    Attribution.prototype._render = function _render () {\n        var this$1$1 = this;\n\n        var result = [];\n\n        for (var i = 0; i < this.items.length; i++) {\n            var item = this$1$1.items[i];\n            var text = this$1$1._itemText(item);\n\n            if (text !== '') {\n                result.push(text);\n            }\n        }\n\n        if (result.length > 0) {\n            removeChildren(this.element);\n\n            var html = result.join(this.options.separator);\n            appendHtml(html, this.element);\n\n            this.showElement();\n        } else {\n            this.hideElement();\n        }\n    };\n\n    Attribution.prototype.hideElement = function hideElement () {\n        this.element.style.display = \"none\";\n    };\n\n    Attribution.prototype.showElement = function showElement () {\n        this.element.style.display = \"\";\n    };\n\n    Attribution.prototype._itemText = function _itemText (item) {\n        var text = '';\n        var inZoomLevel = this._inZoomLevel(item.minZoom, item.maxZoom);\n        var inArea = this._inArea(item.extent);\n\n        if (inZoomLevel && inArea) {\n            text += item.text;\n        }\n\n        return text;\n    };\n\n    Attribution.prototype._inZoomLevel = function _inZoomLevel (min, max) {\n        var result = true;\n        var newMin = valueOrDefault(min, -Number.MAX_VALUE);\n        var newMax = valueOrDefault(max, Number.MAX_VALUE);\n\n        result = this._zoom > newMin && this._zoom < newMax;\n        return result;\n    };\n\n    Attribution.prototype._inArea = function _inArea (area) {\n        var result = true;\n\n        if (area) {\n            result = area.contains(this._extent);\n        }\n\n        return result;\n    };\n\n    return Attribution;\n}(Observable));\n\nsetDefaultOptions(Attribution, {\n    name: 'Attribution',\n    separator: '&nbsp;|&nbsp;'\n});\n\nvar PAN = \"pan\";\n\nvar directionsMap = {\n    up: {\n        className: \"k-navigator-n\",\n        iconClass: \"k-i-caret-alt-up\"\n    },\n    down: {\n        className: \"k-navigator-s\",\n        iconClass: \"k-i-caret-alt-down\"\n    },\n    right: {\n        className: \"k-navigator-e\",\n        iconClass: \"k-i-caret-alt-right\"\n    },\n    left: {\n        className: \"k-navigator-w\",\n        iconClass: \"k-i-caret-alt-left\"\n    }\n};\n\nfunction createButton$1(direction, iconOptions) {\n    var html =\n        '<button class=\"k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button ' +\n            directionsMap[direction].className +\n            '\" aria-label=\"move ' + direction + '\">' +\n            renderIcon({ icon: (\"caret-alt-\" + direction), iconClass: \"k-button-icon\", svgIcons: iconOptions.svgIcons, type: iconOptions.type }) +\n        '</button>';\n\n    return convertToHtml(html);\n}\n\nvar Navigator = (function (Observable) {\n    function Navigator(element, options) {\n        Observable.call(this);\n\n        this.element = element;\n        this._initOptions(options);\n\n        var navigateUpButton = createButton$1(\"up\", options.icons);\n        var navigateRightlButton = createButton$1(\"right\", options.icons);\n        var navigateDownButton = createButton$1(\"down\", options.icons);\n        var navigateLeftButton = createButton$1(\"left\", options.icons);\n\n        this.element.appendChild(navigateUpButton);\n        this.element.appendChild(navigateRightlButton);\n        this.element.appendChild(navigateDownButton);\n        this.element.appendChild(navigateLeftButton);\n\n        addClass(this.element, 'k-widget k-navigator');\n\n        on(this.element, \"click\", \".k-button\", proxy(this._click, this));\n\n        var parentElement = this.element.parentNode.closest(\"[data-role]\");\n\n        this._keyroot = parentElement ? parentElement : this.element;\n        this._tabindex(this._keyroot);\n\n        this._keydownHandler = proxy(this._keydown, this);\n        on(this._keyroot, \"keydown\", this._keydownHandler);\n    }\n\n    if ( Observable ) Navigator.__proto__ = Observable;\n    Navigator.prototype = Object.create( Observable && Observable.prototype );\n    Navigator.prototype.constructor = Navigator;\n\n    Navigator.prototype.destroy = function destroy () {\n        this.dispose();\n    };\n\n    // originates from the kendo.jquery version\n    Navigator.prototype.dispose = function dispose () {\n        off(this._keyroot, \"keydown\", this._keydownHandler);\n    };\n\n    Navigator.prototype._tabindex = function _tabindex (target) {\n        var targetElement = target || this.wrapper || this.element;\n\n        var element = this.element,\n            TABINDEX = \"tabindex\",\n            tabindex = targetElement.getAttribute(TABINDEX) || element.getAttribute(TABINDEX);\n\n        element.removeAttribute(TABINDEX);\n\n        targetElement.setAttribute(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n    };\n\n    Navigator.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Navigator.prototype._pan = function _pan (x, y) {\n        var panStep = this.options.panStep;\n\n        this.trigger(PAN, {\n            x: x * panStep,\n            y: y * panStep\n        });\n    };\n\n    Navigator.prototype._click = function _click (e) {\n        var x = 0;\n        var y = 0;\n        var button = e.currentTarget;\n\n        if (button.matches('.k-navigator-n')) {\n            y = 1;\n        } else if (button.matches('.k-navigator-s')) {\n            y = -1;\n        } else if (button.matches('.k-navigator-e')) {\n            x = 1;\n        } else if (button.matches('.k-navigator-w')) {\n            x = -1;\n        }\n\n        this._pan(x, y);\n\n        e.preventDefault();\n    };\n\n    Navigator.prototype._keydown = function _keydown (e) {\n        switch (e.which) {\n            case keys.UP:\n                this._pan(0, 1);\n                e.preventDefault();\n                break;\n            case keys.DOWN:\n                this._pan(0, -1);\n                e.preventDefault();\n                break;\n            case keys.RIGHT:\n                this._pan(1, 0);\n                e.preventDefault();\n                break;\n            case keys.LEFT:\n                this._pan(-1, 0);\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n\n    return Navigator;\n}(Observable));\n\nsetDefaultOptions(Navigator, {\n    name: 'Navigator',\n    panStep: 1\n});\n\n\nsetDefaultEvents(Navigator, [\n    PAN\n]);\n\nfunction createButton(direction, icon, iconOptions) {\n    var html =\n        '<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-' + direction +\n            '\" title=\"zoom-' + direction +\n            '\" aria-label=\"zoom-' + direction + '\">' +\n            renderIcon({ icon: icon, iconClass: \"k-button-icon\", svgIcons: iconOptions.svgIcons, type: iconOptions.type }) +\n        '</button>';\n\n    return convertToHtml(html);\n}\n\nvar PLUS = 187;\nvar MINUS = 189;\nvar FF_PLUS = 61;\nvar FF_MINUS = 173;\nvar CHANGE$2 = \"change\";\n\nvar ZoomControl = (function (Observable) {\n    function ZoomControl(element, options, iconOptions) {\n        Observable.call(this);\n        this.element = element;\n        this._initOptions(options);\n\n        var zoomInButton = createButton('in', 'plus', iconOptions);\n        var zoomOutButton = createButton('out', 'minus', iconOptions);\n\n        this.element.appendChild(zoomInButton);\n        this.element.appendChild(zoomOutButton);\n        this.element.setAttribute(\"role\", \"group\");\n\n        addClass(this.element, 'k-widget k-zoom-control k-button-group k-group-horizontal');\n\n        this._clickHandler = this._click.bind(this);\n        on(this.element, \"click\", \".k-button\", this._clickHandler);\n\n        var parentElement = this.element.parentNode.closest(\"[data-role]\");\n\n        this._keyroot = parentElement ? parentElement : this.element;\n\n        this._tabindex(this._keyroot);\n\n        this._keydownHandler = this._keydown.bind(this);\n        on(this._keyroot, \"keydown\", this._keydownHandler);\n    }\n\n    if ( Observable ) ZoomControl.__proto__ = Observable;\n    ZoomControl.prototype = Object.create( Observable && Observable.prototype );\n    ZoomControl.prototype.constructor = ZoomControl;\n\n    ZoomControl.prototype.destroy = function destroy () {\n        if (this.element) {\n            off(this.element, \"click\", this._clickHandler);\n        }\n\n        if (this._keyroot) {\n            off(this._keyroot, 'keydown', this._keydownHandler);\n        }\n    };\n\n    ZoomControl.prototype._tabindex = function _tabindex (target) {\n        var targetElement = target || this.wrapper || this.element;\n\n        var element = this.element,\n            TABINDEX = \"tabindex\",\n            tabindex = targetElement.getAttribute(TABINDEX) || element.getAttribute(TABINDEX);\n\n        element.removeAttribute(TABINDEX);\n\n        targetElement.setAttribute(TABINDEX, !isNaN(tabindex) ? tabindex : 0);\n    };\n\n    ZoomControl.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    ZoomControl.prototype._change = function _change (direction) {\n        var zoomStep = this.options.zoomStep;\n        this.trigger(CHANGE$2, { delta: direction * zoomStep });\n    };\n\n    ZoomControl.prototype._click = function _click (e) {\n        var button = e.currentTarget;\n        var direction = 1;\n\n        if (hasClasses(button, 'k-zoom-out')) {\n            direction = -1;\n        }\n\n        this._change(direction);\n        e.preventDefault();\n    };\n\n    ZoomControl.prototype._keydown = function _keydown (e) {\n        switch (e.which) {\n            case keys.NUMPAD_PLUS:\n            case PLUS:\n            case FF_PLUS:\n                this._change(1);\n                break;\n            case keys.NUMPAD_MINUS:\n            case MINUS:\n            case FF_MINUS:\n                this._change(-1);\n                break;\n            default:\n                break;\n        }\n    };\n\n    return ZoomControl;\n}(Observable));\n\nsetDefaultOptions(ZoomControl, {\n    name: 'ZoomControl',\n    zoomStep: 1\n});\n\nsetDefaultEvents(ZoomControl, [\n    CHANGE$2\n]);\n\nvar math$2 = Math,\n    max$1 = math$2.max,\n    min$2 = math$2.min;\n\nvar Extent = (function (Class) {\n    function Extent(initialNw, initialSe) {\n        Class.call(this);\n        var nw = Location.create(initialNw);\n        var se = Location.create(initialSe);\n\n        if (nw.lng + 180 > se.lng + 180 && nw.lat + 90 < se.lat + 90) {\n            this.se = nw;\n            this.nw = se;\n        } else {\n            this.se = se;\n            this.nw = nw;\n        }\n    }\n\n    if ( Class ) Extent.__proto__ = Class;\n    Extent.prototype = Object.create( Class && Class.prototype );\n    Extent.prototype.constructor = Extent;\n\n    var staticAccessors = { World: { configurable: true } };\n\n    Extent.prototype.contains = function contains (loc) {\n        var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n\n        return loc &&\n            lng + 180 >= nw.lng + 180 && lng + 180 <= se.lng + 180 &&\n            lat + 90 >= se.lat + 90 && lat + 90 <= nw.lat + 90;\n    };\n\n    Extent.prototype.center = function center () {\n        var nw = this.nw;\n        var se = this.se;\n        var lng = nw.lng + (se.lng - nw.lng) / 2;\n        var lat = nw.lat + (se.lat - nw.lat) / 2;\n\n        return new Location(lat, lng);\n    };\n\n    Extent.prototype.containsAny = function containsAny (locs) {\n        var this$1$1 = this;\n\n        var result = false;\n\n        for (var i = 0; i < locs.length; i++) {\n            result = result || this$1$1.contains(locs[i]);\n        }\n\n        return result;\n    };\n\n    Extent.prototype.include = function include (loc) {\n        var nw = this.nw, se = this.se, lng = valueOrDefault(loc.lng, loc[1]), lat = valueOrDefault(loc.lat, loc[0]);\n\n        nw.lng = min$2(nw.lng, lng);\n        nw.lat = max$1(nw.lat, lat);\n        se.lng = max$1(se.lng, lng);\n        se.lat = min$2(se.lat, lat);\n    };\n\n    Extent.prototype.includeAll = function includeAll (locs) {\n        var this$1$1 = this;\n\n        for (var i = 0; i < locs.length; i++) {\n            this$1$1.include(locs[i]);\n        }\n    };\n\n    Extent.prototype.edges = function edges () {\n        var nw = this.nw, se = this.se;\n\n        return {\n            nw: this.nw,\n            ne: new Location(nw.lat, se.lng),\n            se: this.se,\n            sw: new Location(se.lat, nw.lng)\n        };\n    };\n\n    Extent.prototype.toArray = function toArray () {\n        var nw = this.nw, se = this.se;\n\n        return [\n            nw,\n            new Location(nw.lat, se.lng),\n            se,\n            new Location(se.lat, nw.lng)\n        ];\n    };\n\n    Extent.prototype.overlaps = function overlaps (extent) {\n        return this.containsAny(extent.toArray()) ||\n            extent.containsAny(this.toArray());\n    };\n\n    Extent.create = function create (a, b) {\n        if (a instanceof Extent) {\n            return a;\n        } else if (a && b) {\n            return new Extent(a, b);\n        } else if (a && a.length === 4 && !b) {\n            return new Extent([\n                a[0],\n                a[1]\n            ], [\n                a[2],\n                a[3]\n            ]);\n        }\n    };\n\n    staticAccessors.World.get = function () {\n        return new Extent([ 90, -180 ], [ -90, 180 ]);\n    };\n\n    Object.defineProperties( Extent, staticAccessors );\n\n    return Extent;\n}(Class));\n\nvar SHOW_TOOLTIP = 'showTooltip';\nvar HIDE_TOOLTIP = 'hideTooltip';\nvar CENTER_CHANGE = 'centerChange';\nvar ZOOM_CHANGE = 'zoomChange';\nvar INIT = 'init';\n\nvar Tooltip = (function (Class) {\n    function Tooltip(widgetService, options) {\n        Class.call(this);\n\n        this.widgetService = widgetService;\n        this.options = deepExtend({}, this.options, options);\n        this.offset = { x: 0, y: 0 };\n    }\n\n    if ( Class ) Tooltip.__proto__ = Class;\n    Tooltip.prototype = Object.create( Class && Class.prototype );\n    Tooltip.prototype.constructor = Tooltip;\n\n    var prototypeAccessors = { anchor: { configurable: true } };\n\n    Tooltip.prototype.show = function show (anchor, args) {\n        if (this.location === args.location) {\n            return;\n        }\n\n        this.anchor = anchor;\n        this.location = args.location;\n\n        this.widgetService.notify(SHOW_TOOLTIP,\n            Object.assign({ anchor: this.anchor }, args)\n        );\n\n        this.visible = true;\n    };\n\n    Tooltip.prototype.hide = function hide () {\n        if (this.widgetService) {\n            this.widgetService.notify(HIDE_TOOLTIP);\n        }\n\n        this.visible = false;\n        this.location = null;\n    };\n\n    prototypeAccessors.anchor.get = function () {\n        return this._anchor;\n    };\n\n    prototypeAccessors.anchor.set = function (anchor) {\n        var documentPoint = this.widgetService.widget._toDocumentCoordinates({\n            x: anchor.left - this.offset.x,\n            y: anchor.top - this.offset.y\n        });\n\n        this._anchor = {\n            left: documentPoint.left,\n            top: documentPoint.top\n        };\n    };\n\n    Tooltip.prototype.destroy = function destroy () {\n        this.widgetService = null;\n    };\n\n    Object.defineProperties( Tooltip.prototype, prototypeAccessors );\n\n    return Tooltip;\n}(Class));\n\nsetDefaultOptions(Tooltip, {\n    border: {\n        width: 1\n    },\n    opacity: 1\n});\n\nvar Layer = (function (Class) {\n    function Layer(map, options) {\n        Class.call(this);\n\n        this.support = getSupportedFeatures();\n\n        this._initOptions(options);\n        this.map = map;\n\n        var element = document.createElement(\"div\");\n        addClass(element, \"k-layer\");\n        element.style.zIndex = this.options.zIndex;\n        element.style.opacity = this.options.opacity;\n\n        this.element = element;\n\n        map.scrollElement.appendChild(this.element);\n\n        this._beforeReset = this._beforeReset.bind(this);\n        this._reset = this._reset.bind(this);\n        this._resize = this._resize.bind(this);\n        this._panEnd = this._panEnd.bind(this);\n\n        this._activate();\n        this._updateAttribution();\n    }\n\n    if ( Class ) Layer.__proto__ = Class;\n    Layer.prototype = Object.create( Class && Class.prototype );\n    Layer.prototype.constructor = Layer;\n\n    Layer.prototype.destroy = function destroy () {\n        this._deactivate();\n    };\n\n    Layer.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Layer.prototype.show = function show () {\n        this.reset();\n        this._activate();\n        this._applyExtent(true);\n    };\n\n    Layer.prototype.hide = function hide () {\n        this._deactivate();\n        this._setVisibility(false);\n    };\n\n    Layer.prototype.reset = function reset () {\n        this._beforeReset();\n        this._reset();\n    };\n\n    Layer.prototype._reset = function _reset () {\n        this._applyExtent();\n    };\n\n    Layer.prototype._beforeReset = function _beforeReset () {\n\n    };\n\n    Layer.prototype._resize = function _resize () {\n\n    };\n\n    Layer.prototype._panEnd = function _panEnd () {\n        this._applyExtent();\n    };\n\n    Layer.prototype._applyExtent = function _applyExtent () {\n        var options = this.options;\n        var zoom = this.map.zoom();\n        var matchMinZoom = !defined(options.minZoom) || zoom >= options.minZoom;\n        var matchMaxZoom = !defined(options.maxZoom) || zoom <= options.maxZoom;\n        var extent = Extent.create(options.extent);\n        var inside = !extent || extent.overlaps(this.map.extent());\n\n        this._setVisibility(matchMinZoom && matchMaxZoom && inside);\n    };\n\n    Layer.prototype._setVisibility = function _setVisibility (visible) {\n        this.element.style.display = visible ? '' : 'none';\n    };\n\n    Layer.prototype._activate = function _activate () {\n        var map = this.map;\n\n        this._deactivate();\n\n        map.bind('beforeReset', this._beforeReset);\n        map.bind('reset', this._reset);\n        map.bind('resize', this._resize);\n        map.bind('panEnd', this._panEnd);\n    };\n\n    Layer.prototype._deactivate = function _deactivate () {\n        var map = this.map;\n\n        map.unbind('beforeReset', this._beforeReset);\n        map.unbind('reset', this._reset);\n        map.unbind('resize', this._resize);\n        map.unbind('panEnd', this._panEnd);\n    };\n\n    Layer.prototype._updateAttribution = function _updateAttribution () {\n        var attribution = this.map.attribution;\n\n        if (attribution) {\n            attribution.add(this.options.attribution);\n        }\n    };\n\n    Layer.prototype._readData = function _readData () {\n        var data = this.options.data || [];\n        return data;\n    };\n\n    Layer.prototype._hasData = function _hasData () {\n        return this._data && this._data.length > 0;\n    };\n\n    Layer.prototype._layerIndex = function _layerIndex () {\n        var layers = this.map.layers || [];\n        return layers.indexOf(this);\n    };\n\n    return Layer;\n}(Class));\n\nvar math$1 = Math,\n    Point$1 = Point$6;\n\nfunction compileTemplate(template) {\n    if (isFunction(template)) {\n        return template;\n    }\n\n    return TemplateService.compile(template);\n}\n\nfunction roundPoint(point) {\n    return new Point$1(round$1(point.x), round$1(point.y));\n}\n\nfunction renderSize(size) {\n    var newSize = size;\n\n    if (typeof(size) !== \"string\") {\n        newSize += \"px\";\n    }\n\n    return newSize;\n}\n\nvar TileLayer = (function (Layer) {\n    function TileLayer(map, options) {\n        Layer.call(this, map, options);\n\n        if (typeof this.options.subdomains === 'string') {\n            this.options.subdomains = this.options.subdomains.split('');\n        }\n\n        var viewType = this._viewType();\n        this._view = new viewType(this.element, this.options);\n    }\n\n    if ( Layer ) TileLayer.__proto__ = Layer;\n    TileLayer.prototype = Object.create( Layer && Layer.prototype );\n    TileLayer.prototype.constructor = TileLayer;\n\n    TileLayer.prototype.destroy = function destroy () {\n        Layer.prototype.destroy.call(this);\n        this._view.destroy();\n        this._view = null;\n    };\n\n    TileLayer.prototype._beforeReset = function _beforeReset () {\n        var map = this.map;\n        var origin = map.locationToLayer(map.extent().nw).round();\n        this._view.viewOrigin(origin);\n    };\n\n    TileLayer.prototype._reset = function _reset () {\n        Layer.prototype._reset.call(this);\n        this._updateView();\n        this._view.reset();\n    };\n\n    TileLayer.prototype._viewType = function _viewType () {\n        return TileView;\n    };\n\n    TileLayer.prototype._activate = function _activate () {\n        Layer.prototype._activate.call(this);\n\n        if (!this.support.mobileOS) {\n            if (!this._pan) {\n                this._pan = throttle(this._render.bind(this), 100);\n            }\n\n            this.map.bind('pan', this._pan);\n        }\n    };\n\n    TileLayer.prototype._deactivate = function _deactivate () {\n        Layer.prototype._deactivate.call(this);\n\n        if (this._pan) {\n            this.map.unbind('pan', this._pan);\n        }\n    };\n\n    TileLayer.prototype._updateView = function _updateView () {\n        var view = this._view,\n            map = this.map,\n            extent = map.extent(),\n            extentToPoint = {\n                nw: map.locationToLayer(extent.nw).round(),\n                se: map.locationToLayer(extent.se).round()\n            };\n\n        view.center(map.locationToLayer(map.center()));\n        view.extent(extentToPoint);\n        view.zoom(map.zoom());\n    };\n\n    TileLayer.prototype._resize = function _resize () {\n        this._render();\n    };\n\n    TileLayer.prototype._panEnd = function _panEnd (e) {\n        Layer.prototype._panEnd.call(this, e);\n        this._render();\n    };\n\n    TileLayer.prototype._render = function _render () {\n        this._updateView();\n        this._view.render();\n    };\n\n    return TileLayer;\n}(Layer));\n\nsetDefaultOptions(TileLayer, {\n    tileSize: 256,\n    subdomains: ['a', 'b', 'c'],\n    urlTemplate: '',\n    zIndex: 1\n});\n\nvar TileView = (function (Class) {\n    function TileView(element, options) {\n        Class.call(this);\n        this.element = element;\n        this._initOptions(options);\n        this.pool = new TilePool();\n    }\n\n    if ( Class ) TileView.__proto__ = Class;\n    TileView.prototype = Object.create( Class && Class.prototype );\n    TileView.prototype.constructor = TileView;\n\n    TileView.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    TileView.prototype.center = function center (center$1) {\n        this._center = center$1;\n    };\n\n    TileView.prototype.extent = function extent (extent$1) {\n        this._extent = extent$1;\n    };\n\n    TileView.prototype.viewOrigin = function viewOrigin (origin) {\n        this._viewOrigin = origin;\n    };\n\n    TileView.prototype.zoom = function zoom (zoom$1) {\n        this._zoom = zoom$1;\n    };\n\n    TileView.prototype.pointToTileIndex = function pointToTileIndex (point) {\n        return new Point$1(math$1.floor(point.x / this.options.tileSize), math$1.floor(point.y / this.options.tileSize));\n    };\n\n    TileView.prototype.tileCount = function tileCount () {\n        var size = this.size(),\n            firstTileIndex = this.pointToTileIndex(this._extent.nw),\n            nw = this._extent.nw,\n            point = this.indexToPoint(firstTileIndex).translate(-nw.x, -nw.y);\n\n        return {\n            x: math$1.ceil((math$1.abs(point.x) + size.width) / this.options.tileSize),\n            y: math$1.ceil((math$1.abs(point.y) + size.height) / this.options.tileSize)\n        };\n    };\n\n    TileView.prototype.size = function size () {\n        var nw = this._extent.nw,\n            se = this._extent.se,\n            diff = se.clone().translate(-nw.x, -nw.y);\n\n        return {\n            width: diff.x,\n            height: diff.y\n        };\n    };\n\n    TileView.prototype.indexToPoint = function indexToPoint (index) {\n        var x = index.x,\n            y = index.y;\n\n        return new Point$1(x * this.options.tileSize, y * this.options.tileSize);\n    };\n\n    TileView.prototype.subdomainText = function subdomainText () {\n        var subdomains = this.options.subdomains;\n        return subdomains[this.subdomainIndex++ % subdomains.length];\n    };\n\n    TileView.prototype.destroy = function destroy () {\n        removeChildren(this.element);\n        this.pool.empty();\n    };\n\n    TileView.prototype.reset = function reset () {\n        this.pool.reset();\n        this.subdomainIndex = 0;\n        this.render();\n    };\n\n    TileView.prototype.render = function render () {\n        var this$1$1 = this;\n\n        var size = this.tileCount(),\n            firstTileIndex = this.pointToTileIndex(this._extent.nw),\n            tile, x, y;\n\n        for (x = 0; x < size.x; x++) {\n            for (y = 0; y < size.y; y++) {\n                tile = this$1$1.createTile({\n                    x: firstTileIndex.x + x,\n                    y: firstTileIndex.y + y\n                });\n\n                if (!tile.visible) {\n                    tile.show();\n                }\n            }\n        }\n    };\n\n    TileView.prototype.createTile = function createTile (currentIndex) {\n        var options = this.tileOptions(currentIndex);\n        var tile = this.pool.get(this._center, options);\n\n        if (!tile.element.parentNode) {\n            this.element.append(tile.element);\n        }\n\n        return tile;\n    };\n\n    TileView.prototype.tileOptions = function tileOptions (currentIndex) {\n        var index = this.wrapIndex(currentIndex),\n            point = this.indexToPoint(currentIndex),\n            origin = this._viewOrigin,\n            offset = point.clone().translate(-origin.x, -origin.y);\n\n        return {\n            index: index,\n            currentIndex: currentIndex,\n            point: point,\n            offset: roundPoint(offset),\n            zoom: this._zoom,\n            size: this.options.tileSize,\n            subdomain: this.subdomainText(),\n            urlTemplate: this.options.urlTemplate,\n            errorUrlTemplate: this.options.errorUrlTemplate\n        };\n    };\n\n    TileView.prototype.wrapIndex = function wrapIndex (index) {\n        var boundary = math$1.pow(2, this._zoom);\n\n        return {\n            x: this.wrapValue(index.x, boundary),\n            y: limitValue(index.y, 0, boundary - 1)\n        };\n    };\n\n    TileView.prototype.wrapValue = function wrapValue (value, boundary) {\n        var remainder = math$1.abs(value) % boundary;\n        var wrappedValue = value;\n\n        if (value >= 0) {\n            wrappedValue = remainder;\n        } else {\n            wrappedValue = boundary - (remainder === 0 ? boundary : remainder);\n        }\n\n        return wrappedValue;\n    };\n\n    return TileView;\n}(Class));\n\nvar ImageTile = (function (Class) {\n    function ImageTile(id, options) {\n        Class.call(this);\n        this.id = id;\n        this.visible = true;\n        this._initOptions(options);\n        this.createElement();\n        this.show();\n    }\n\n    if ( Class ) ImageTile.__proto__ = Class;\n    ImageTile.prototype = Object.create( Class && Class.prototype );\n    ImageTile.prototype.constructor = ImageTile;\n\n    ImageTile.prototype.destroy = function destroy () {\n        var element = this.element;\n        var parentNode = element ? element.parentNode : null;\n\n        if (element) {\n            if (parentNode) {\n                parentNode.removeChild(element);\n            }\n\n            this.element = null;\n        }\n    };\n\n    ImageTile.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    ImageTile.prototype.createElement = function createElement () {\n        var el = document.createElement(\"img\");\n        var size = this.options.size + \"px\";\n        el.setAttribute(\"alt\", \"\");\n        el.style.position = \"absolute\";\n        el.style.display = \"block\";\n        el.style.width = el.style.maxWidth = size;\n        el.style.height = el.style.maxHeight = size;\n\n        this.element = el;\n\n        // todo\n        // add on error handler\n\n        // this.element =\n        // $('<img style=\\'position: absolute; display: block;\\' alt=\\'\\' />')\n        // .css({\n        //     width: this.options.size,\n        //     height: this.options.size\n        // })\n        // .on('error', proxy(function(e) {\n        //     if (this.errorUrl()) {\n        //         e.target.setAttribute('src', this.errorUrl());\n        //     } else {\n        //         e.target.removeAttribute('src');\n        //     }\n        // }, this));\n    };\n\n    ImageTile.prototype.show = function show () {\n        var element = this.element;\n        element.style.top = renderSize(this.options.offset.y);\n        element.style.left = renderSize(this.options.offset.x);\n\n        var url = this.url();\n\n        if (url) {\n            element.setAttribute('src', url);\n        }\n\n        element.style.visibility = 'visible';\n        this.visible = true;\n    };\n\n    ImageTile.prototype.hide = function hide () {\n        this.element.style.visibility = 'hidden';\n        this.visible = false;\n    };\n\n    ImageTile.prototype.url = function url () {\n        var urlResult = compileTemplate(this.options.urlTemplate);\n        return urlResult(this.urlOptions());\n    };\n\n    ImageTile.prototype.errorUrl = function errorUrl () {\n        var urlResult = compileTemplate(this.options.errorUrlTemplate);\n        return urlResult(this.urlOptions());\n    };\n\n    ImageTile.prototype.urlOptions = function urlOptions () {\n        var options = this.options;\n\n        return {\n            zoom: options.zoom,\n            subdomain: options.subdomain,\n            z: options.zoom,\n            x: options.index.x,\n            y: options.index.y,\n            s: options.subdomain,\n            quadkey: options.quadkey,\n            q: options.quadkey,\n            culture: options.culture,\n            c: options.culture\n        };\n    };\n\n    return ImageTile;\n}(Class));\n\nsetDefaultOptions(ImageTile, {\n    urlTemplate: '',\n    errorUrlTemplate: ''\n});\n\nvar TilePool = (function (Class) {\n    function TilePool() {\n        Class.call(this);\n        this._items = [];\n    }\n\n    if ( Class ) TilePool.__proto__ = Class;\n    TilePool.prototype = Object.create( Class && Class.prototype );\n    TilePool.prototype.constructor = TilePool;\n\n    TilePool.prototype.get = function get (center, options) {\n        if (this._items.length >= this.options.maxSize) {\n            this._remove(center);\n        }\n\n        return this._create(options);\n    };\n\n    TilePool.prototype.empty = function empty () {\n        var items = this._items;\n\n        for (var i = 0; i < items.length; i++) {\n            items[i].destroy();\n        }\n\n        this._items = [];\n    };\n\n    TilePool.prototype.reset = function reset () {\n        var items = this._items;\n\n        for (var i = 0; i < items.length; i++) {\n            items[i].hide();\n        }\n    };\n\n    TilePool.prototype._create = function _create (options) {\n        var items = this._items;\n        var tile;\n        var id = hashKey(options.point.toString() + options.offset.toString() + options.zoom + options.urlTemplate);\n\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === id) {\n                tile = items[i];\n                break;\n            }\n        }\n\n        if (tile) {\n            tile.show();\n        } else {\n            tile = new ImageTile(id, options);\n            this._items.push(tile);\n        }\n\n        return tile;\n    };\n\n    TilePool.prototype._remove = function _remove (center) {\n        var items = this._items;\n        var maxDist = -1;\n        var index = -1;\n\n        for (var i = 0; i < items.length; i++) {\n            var dist = items[i].options.point.distanceTo(center);\n\n            if (dist > maxDist && !items[i].visible) {\n                index = i;\n                maxDist = dist;\n            }\n        }\n\n        if (index !== -1) {\n            items[index].destroy();\n            items.splice(index, 1);\n        }\n    };\n\n    return TilePool;\n}(Class));\n\nsetDefaultOptions(TilePool, {\n    maxSize: 100\n});\n\nvar extend$3 = Object.assign;\n\nvar CHANGE$1 = 'change';\n\nvar TapCapture = (function (Observable) {\n    function TapCapture(element, options) {\n        Observable.call(this);\n        var that = this,\n            domElement = element[0] || element;\n\n        that.capture = false;\n\n        if (domElement.addEventListener) {\n            eventMap.down.split(' ').forEach(function(event) {\n                domElement.addEventListener(event, proxy(that._press, that), true);\n            });\n            eventMap.up.split(' ').forEach(function(event) {\n                domElement.addEventListener(event, proxy(that._release, that), true);\n            });\n        } else {\n            eventMap.down.split(' ').forEach(function(event) {\n                domElement.attachEvent(event, proxy(that._press, that));\n            });\n            eventMap.up.split(' ').forEach(function(event) {\n                domElement.attachEvent(event, proxy(that._release, that));\n            });\n        }\n\n        that.bind([\n            'press',\n            'release'\n        ], options || {});\n    }\n\n    if ( Observable ) TapCapture.__proto__ = Observable;\n    TapCapture.prototype = Object.create( Observable && Observable.prototype );\n    TapCapture.prototype.constructor = TapCapture;\n\n    TapCapture.prototype.captureNext = function captureNext () {\n        this.capture = true;\n    };\n\n    TapCapture.prototype.cancelCapture = function cancelCapture () {\n        this.capture = false;\n    };\n\n    TapCapture.prototype._press = function _press (e) {\n        var that = this;\n\n        that.trigger('press');\n\n        if (that.capture) {\n            e.preventDefault();\n        }\n    };\n\n    TapCapture.prototype._release = function _release (e) {\n        var that = this;\n\n        that.trigger('release');\n\n        if (that.capture) {\n            e.preventDefault();\n            that.cancelCapture();\n        }\n    };\n\n    return TapCapture;\n}(Observable));\n\nvar PaneDimension = (function (Observable) {\n    function PaneDimension(options) {\n        Observable.call(this);\n        var that = this;\n        that.forcedEnabled = false;\n        extend$3(that, options);\n        that.scale = 1;\n\n        if (that.horizontal) {\n            that.measure = 'offsetWidth';\n            that.scrollSize = 'scrollWidth';\n            that.axis = 'x';\n        } else {\n            that.measure = 'offsetHeight';\n            that.scrollSize = 'scrollHeight';\n            that.axis = 'y';\n        }\n    }\n\n    if ( Observable ) PaneDimension.__proto__ = Observable;\n    PaneDimension.prototype = Object.create( Observable && Observable.prototype );\n    PaneDimension.prototype.constructor = PaneDimension;\n\n    PaneDimension.prototype.makeVirtual = function makeVirtual () {\n        extend$3(this, {\n            virtual: true,\n            forcedEnabled: true,\n            _virtualMin: 0,\n            _virtualMax: 0\n        });\n    };\n\n    PaneDimension.prototype.virtualSize = function virtualSize (min, max) {\n        if (this._virtualMin !== min || this._virtualMax !== max) {\n            this._virtualMin = min;\n            this._virtualMax = max;\n            this.update();\n        }\n    };\n\n    PaneDimension.prototype.outOfBounds = function outOfBounds (offset) {\n        return offset > this.max || offset < this.min;\n    };\n\n    PaneDimension.prototype.forceEnabled = function forceEnabled () {\n        this.forcedEnabled = true;\n    };\n\n    PaneDimension.prototype.getSize = function getSize () {\n        return this.container[this.measure];\n    };\n\n    PaneDimension.prototype.getTotal = function getTotal () {\n        return this.element[this.scrollSize];\n    };\n\n    PaneDimension.prototype.rescale = function rescale (scale) {\n        this.scale = scale;\n    };\n\n    PaneDimension.prototype.update = function update (silent) {\n        var that = this,\n            total = that.virtual ? that._virtualMax : that.getTotal(),\n            scaledTotal = total * that.scale,\n            size = that.getSize();\n\n        if (total === 0 && !that.forcedEnabled) {\n            return;\n        }\n\n        that.max = that.virtual ? -that._virtualMin : 0;\n        that.size = size;\n        that.total = scaledTotal;\n        that.min = Math.min(that.max, size - scaledTotal);\n        that.minScale = size / total;\n        that.centerOffset = (scaledTotal - size) / 2;\n        that.enabled = that.forcedEnabled || scaledTotal > size;\n\n        if (!silent) {\n            that.trigger(CHANGE$1, that);\n        }\n    };\n\n    return PaneDimension;\n}(Observable));\n\nvar PaneDimensions = (function (Observable) {\n    function PaneDimensions(options) {\n        Observable.call(this);\n        var that = this;\n\n        that.x = new PaneDimension(extend$3({\n            horizontal: true\n        }, options));\n\n        that.y = new PaneDimension(extend$3({\n            horizontal: false\n        }, options));\n\n        that.container = options.container;\n        that.forcedMinScale = options.minScale;\n        that.maxScale = options.maxScale || 100;\n        that.bind(CHANGE$1, options);\n    }\n\n    if ( Observable ) PaneDimensions.__proto__ = Observable;\n    PaneDimensions.prototype = Object.create( Observable && Observable.prototype );\n    PaneDimensions.prototype.constructor = PaneDimensions;\n\n    PaneDimensions.prototype.rescale = function rescale (newScale) {\n        this.x.rescale(newScale);\n        this.y.rescale(newScale);\n        this.refresh();\n    };\n\n    PaneDimensions.prototype.centerCoordinates = function centerCoordinates () {\n        return {\n            x: Math.min(0, -this.x.centerOffset),\n            y: Math.min(0, -this.y.centerOffset)\n        };\n    };\n\n    PaneDimensions.prototype.refresh = function refresh () {\n        var that = this;\n        that.x.update();\n        that.y.update();\n        that.enabled = that.x.enabled || that.y.enabled;\n        that.minScale = that.forcedMinScale || Math.min(that.x.minScale, that.y.minScale);\n        that.fitScale = Math.max(that.x.minScale, that.y.minScale);\n        that.trigger(CHANGE$1);\n    };\n\n    return PaneDimensions;\n}(Observable));\n\nvar PaneAxis = (function (Observable) {\n    function PaneAxis(options) {\n        Observable.call(this);\n        extend$3(this, options);\n    }\n\n    if ( Observable ) PaneAxis.__proto__ = Observable;\n    PaneAxis.prototype = Object.create( Observable && Observable.prototype );\n    PaneAxis.prototype.constructor = PaneAxis;\n\n    PaneAxis.prototype.outOfBounds = function outOfBounds () {\n        return this.dimension.outOfBounds(this.movable[this.axis]);\n    };\n\n    PaneAxis.prototype.dragMove = function dragMove (delta) {\n        var that = this,\n            dimension = that.dimension,\n            axis = that.axis,\n            movable = that.movable,\n            position = movable[axis] + delta;\n\n        if (!dimension.enabled) {\n            return;\n        }\n\n        var dragDelta = delta;\n\n        if (position < dimension.min && delta < 0 || position > dimension.max && delta > 0) {\n            dragDelta *= that.resistance;\n        }\n\n        movable.translateAxis(axis, dragDelta);\n        that.trigger(CHANGE$1, that);\n    };\n\n    return PaneAxis;\n}(Observable));\n\nvar Pane = (function (Class) {\n    function Pane(options) {\n        Class.call(this);\n\n        var that = this,\n            x, y,\n            resistance,\n            movable;\n\n        extend$3(that, {\n            elastic: true\n        }, options);\n\n        resistance = that.elastic ? 0.5 : 0;\n        movable = that.movable;\n\n        that.x = x = new PaneAxis({\n            axis: 'x',\n            dimension: that.dimensions.x,\n            resistance: resistance,\n            movable: movable\n        });\n\n        that.y = y = new PaneAxis({\n            axis: 'y',\n            dimension: that.dimensions.y,\n            resistance: resistance,\n            movable: movable\n        });\n\n        that.userEvents.bind([\n            'press',\n            'move',\n            'end',\n            'gesturestart',\n            'gesturechange'\n        ], {\n            gesturestart: function gesturestart(e) {\n                that.gesture = e;\n\n                that.offset = elementOffset(that.dimensions.container);\n            },\n            press: function press(e) {\n                var closestAnchor = e.event.target.closest('a');\n\n                if (closestAnchor && closestAnchor.matches('[data-navigate-on-press=true]')) {\n                    e.sender.cancel();\n                }\n            },\n            gesturechange: function gesturechange(e) {\n                var previousGesture = that.gesture,\n                    previousCenter = previousGesture.center,\n                    center = e.center,\n                    scaleDelta = e.distance / previousGesture.distance,\n                    minScale = that.dimensions.minScale,\n                    maxScale = that.dimensions.maxScale,\n                    coordinates;\n                if (movable.scale <= minScale && scaleDelta < 1) {\n                    scaleDelta += (1 - scaleDelta) * 0.8;\n                }\n\n                if (movable.scale * scaleDelta >= maxScale) {\n                    scaleDelta = maxScale / movable.scale;\n                }\n\n                var offsetX = movable.x + that.offset.left,\n                    offsetY = movable.y + that.offset.top;\n                coordinates = {\n                    x: (offsetX - previousCenter.x) * scaleDelta + center.x - offsetX,\n                    y: (offsetY - previousCenter.y) * scaleDelta + center.y - offsetY\n                };\n\n                movable.scaleWith(scaleDelta);\n\n                x.dragMove(coordinates.x);\n                y.dragMove(coordinates.y);\n\n                that.dimensions.rescale(movable.scale);\n                that.gesture = e;\n\n                e.preventDefault();\n            },\n            move: function move(e) {\n                if (e.event.target.tagName.match(/textarea|input/i)) {\n                    return;\n                }\n\n                if (x.dimension.enabled || y.dimension.enabled) {\n                    x.dragMove(e.x.delta);\n                    y.dragMove(e.y.delta);\n                    e.preventDefault();\n                } else {\n                    e.touch.skip();\n                }\n            },\n            end: function end(e) {\n                e.preventDefault();\n            }\n        });\n    }\n\n    if ( Class ) Pane.__proto__ = Class;\n    Pane.prototype = Object.create( Class && Class.prototype );\n    Pane.prototype.constructor = Pane;\n\n    return Pane;\n}(Class));\n\nvar translate = function(x, y, scale) {\n    return 'translate3d(' + x + 'px,' + y + 'px,0) scale(' + scale + ')';\n};\n\nvar Movable = (function (Observable) {\n    function Movable(element) {\n        Observable.call(this);\n\n        var that = this;\n\n        that.element = element;\n        that.element.style.transformOrigin = 'left top';\n        that.x = 0;\n        that.y = 0;\n        that.scale = 1;\n\n        var coordinates = translate(that.x, that.y, that.scale);\n        that.element.style.transform = coordinates;\n\n        that._saveCoordinates(coordinates);\n    }\n\n    if ( Observable ) Movable.__proto__ = Observable;\n    Movable.prototype = Object.create( Observable && Observable.prototype );\n    Movable.prototype.constructor = Movable;\n\n    Movable.prototype.translateAxis = function translateAxis (axis, by) {\n        this[axis] += by;\n        this.refresh();\n    };\n\n    Movable.prototype.scaleTo = function scaleTo (scale) {\n        this.scale = scale;\n        this.refresh();\n    };\n\n    Movable.prototype.scaleWith = function scaleWith (scaleDelta) {\n        this.scale *= scaleDelta;\n        this.refresh();\n    };\n\n    Movable.prototype.translate = function translate (coordinates) {\n        this.x += coordinates.x;\n        this.y += coordinates.y;\n        this.refresh();\n    };\n\n    Movable.prototype.moveAxis = function moveAxis (axis, value) {\n        this[axis] = value;\n        this.refresh();\n    };\n\n    Movable.prototype.moveTo = function moveTo (coordinates) {\n        extend$3(this, coordinates);\n        this.refresh();\n    };\n\n    Movable.prototype.refresh = function refresh () {\n        var that = this,\n            x = that.x,\n            y = that.y,\n            newCoordinates;\n\n        if (that.round) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n\n        newCoordinates = translate(x, y, that.scale);\n\n        if (newCoordinates !== that.coordinates) {\n            that.element.style.transform = newCoordinates;\n\n            that._saveCoordinates(newCoordinates);\n            that.trigger(CHANGE$1);\n        }\n    };\n\n    Movable.prototype._saveCoordinates = function _saveCoordinates (coordinates) {\n        this.coordinates = coordinates;\n    };\n\n    return Movable;\n}(Observable));\n\nvar Group = Group$8;\n\nvar ShapeLayer = (function (Layer) {\n    function ShapeLayer(map, options) {\n        Layer.call(this, map, options);\n\n        this._pan = proxy(this._pan, this);\n\n        this.surface = Surface$1.create(this.element, {\n            width: map.scrollElement.clientWidth,\n            height: map.scrollElement.clientHeight\n        });\n\n        this._initRoot();\n        this.movable = new Movable(this.surface.element);\n        this._markers = [];\n\n        this._click = this._handler('shapeClick');\n        this.surface.bind('click', this._click);\n        this._mouseleave = this._handler('shapeMouseLeave');\n        this.surface.bind('mouseleave', this._mouseleave);\n        this.surface.bind('mouseenter', this._mouseenter.bind(this));\n    }\n\n    if ( Layer ) ShapeLayer.__proto__ = Layer;\n    ShapeLayer.prototype = Object.create( Layer && Layer.prototype );\n    ShapeLayer.prototype.constructor = ShapeLayer;\n\n    ShapeLayer.prototype.destroy = function destroy () {\n        Layer.prototype.destroy.call(this);\n\n        this.surface.destroy();\n    };\n\n    ShapeLayer.prototype._reset = function _reset () {\n        Layer.prototype._reset.call(this);\n\n        this._translateSurface();\n\n        this._data = this._readData();\n\n        if (this._hasData()) {\n            this._load(this._data);\n        }\n    };\n\n    ShapeLayer.prototype._initRoot = function _initRoot () {\n        this._root = new Group();\n        this.surface.draw(this._root);\n    };\n\n    ShapeLayer.prototype._beforeReset = function _beforeReset () {\n        this.surface.clear();\n        this._initRoot();\n    };\n\n    ShapeLayer.prototype._resize = function _resize () {\n        this.surface.size(this.map.size());\n    };\n\n    ShapeLayer.prototype._readData = function _readData () {\n        var data = Layer.prototype._readData.call(this);\n\n        if (data.type === \"FeatureCollection\") {\n            return data.features;\n        }\n\n        if (data.type === \"GeometryCollection\") {\n            return data.geometries;\n        }\n\n        return data;\n    };\n\n    ShapeLayer.prototype._load = function _load (data) {\n        var this$1$1 = this;\n\n        this._data = data;\n        this._clearMarkers();\n\n        if (!this._loader) {\n            this._loader = new GeoJsonLoader(this.map, this.options.style, this);\n        }\n\n        var container = new Group();\n\n        for (var i = 0; i < data.length; i++) {\n            var shape = this$1$1._loader.parse(data[i]);\n\n            if (shape) {\n                container.append(shape);\n            }\n        }\n\n        this._root.clear();\n        this._root.append(container);\n    };\n\n    ShapeLayer.prototype.shapeCreated = function shapeCreated (shape) {\n        var cancelled = false;\n\n        // the GeoJSON loader builds \"Point\" type as a circle\n        // use the circle shape type as and indicator for rendering a marker\n        // keep the behavior under a setting as this is supported by kendo jQuery Map\n        // but we opted out of this in blazor\n        if (shape instanceof Circle$1 && this.map.options.renderPointsAsMarkers) {\n            cancelled = defined(this._createMarker(shape));\n        }\n\n        if (!cancelled) {\n            var args = {\n                layer: this,\n                shape: shape\n            };\n\n            cancelled = this.map.trigger('shapeCreated', args);\n        }\n\n        return cancelled;\n    };\n\n    ShapeLayer.prototype.featureCreated = function featureCreated (e) {\n        e.layer = this;\n        this.map.trigger('shapeFeatureCreated', e);\n    };\n\n    ShapeLayer.prototype._createMarker = function _createMarker (shape) {\n        var marker = this.map.markers.bind({\n            location: shape.location\n        }, shape.dataItem);\n\n        if (marker) {\n            this._markers.push(marker);\n        }\n\n        return marker;\n    };\n\n    ShapeLayer.prototype._clearMarkers = function _clearMarkers () {\n        var this$1$1 = this;\n\n        for (var i = 0; i < this._markers.length; i++) {\n            this$1$1.map.markers.remove(this$1$1._markers[i]);\n        }\n\n        this._markers = [];\n    };\n\n    ShapeLayer.prototype._pan = function _pan () {\n        if (!this._panning) {\n            this._panning = true;\n            this.surface.suspendTracking();\n        }\n    };\n\n    ShapeLayer.prototype._panEnd = function _panEnd (e) {\n        Layer.prototype._panEnd.call(this, e);\n        this._translateSurface();\n        this.surface.resumeTracking();\n        this._panning = false;\n    };\n\n    ShapeLayer.prototype._translateSurface = function _translateSurface () {\n        var map = this.map;\n        var nw = map.locationToView(map.extent().nw);\n\n        if (this.surface.translate) {\n            this.surface.translate(nw);\n            this.movable.moveTo({\n                x: nw.x,\n                y: nw.y\n            });\n        }\n    };\n\n    ShapeLayer.prototype._eventArgs = function _eventArgs (e) {\n        return {\n            layer: this,\n            layerIndex: this._layerIndex(),\n            shape: e.element,\n            shapeIndex: (this._data || []).indexOf(e.element.dataItem),\n            originalEvent: e.originalEvent\n        };\n    };\n\n    ShapeLayer.prototype._handler = function _handler (eventName) {\n        var this$1$1 = this;\n\n        return function (e) {\n            if (e.element) {\n                this$1$1.map.trigger(eventName, this$1$1._eventArgs(e));\n            }\n        };\n    };\n\n    ShapeLayer.prototype._mouseenter = function _mouseenter (e) {\n        if (!e.element) {\n            return;\n        }\n\n        this.map.trigger('shapeMouseEnter', this._eventArgs(e));\n\n        var shape = e.element;\n        var anchor = this._tooltipAnchor(e);\n        this.map._tooltip.show(anchor, this._tooltipContext(shape));\n    };\n\n    ShapeLayer.prototype._tooltipContext = function _tooltipContext (shape) {\n        return {\n            type: 'shape',\n            layerIndex: this._layerIndex(),\n            className: 'k-map-shape-tooltip',\n            dataItem: shape.dataItem,\n            location: shape.location\n        };\n    };\n\n    ShapeLayer.prototype._tooltipAnchor = function _tooltipAnchor (e) {\n        var cursor = this.map.eventOffset(e.originalEvent);\n        return {\n            top: cursor.y,\n            left: cursor.x\n        };\n    };\n\n    ShapeLayer.prototype._activate = function _activate () {\n        Layer.prototype._activate.call(this);\n        this._panHandler = proxy(this._pan, this);\n        this.map.bind('pan', this.panHandler);\n    };\n\n    ShapeLayer.prototype._deactivate = function _deactivate () {\n        Layer.prototype._deactivate.call(this);\n        this.map.unbind('pan', this._panHandler);\n    };\n\n    return ShapeLayer;\n}(Layer));\n\nsetDefaultOptions(ShapeLayer, {\n    autoBind: true,\n    zIndex: 100\n});\n\nvar GeoJsonLoader = (function (Class) {\n    function GeoJsonLoader(locator, defaultStyle, observer) {\n        Class.call(this);\n        this.observer = observer;\n        this.locator = locator;\n        this.style = defaultStyle;\n    }\n\n    if ( Class ) GeoJsonLoader.__proto__ = Class;\n    GeoJsonLoader.prototype = Object.create( Class && Class.prototype );\n    GeoJsonLoader.prototype.constructor = GeoJsonLoader;\n\n    GeoJsonLoader.prototype.parse = function parse (item) {\n        var root = new Group();\n        var unwrap = true;\n\n        if (item.type === 'Feature') {\n            unwrap = false;\n            this._loadGeometryTo(root, item.geometry, item);\n            this._featureCreated(root, item);\n        } else {\n            this._loadGeometryTo(root, item, item);\n        }\n\n        if (unwrap && root.children.length < 2) {\n            root = root.children[0];\n        }\n\n        return root;\n    };\n\n    GeoJsonLoader.prototype._shapeCreated = function _shapeCreated (shape) {\n        var cancelled = false;\n\n        if (this.observer && this.observer.shapeCreated) {\n            cancelled = this.observer.shapeCreated(shape);\n        }\n\n        return cancelled;\n    };\n\n    GeoJsonLoader.prototype._featureCreated = function _featureCreated (group, dataItem) {\n        if (this.observer && this.observer.featureCreated) {\n            this.observer.featureCreated({\n                group: group,\n                dataItem: dataItem,\n                properties: dataItem.properties\n            });\n        }\n    };\n\n    GeoJsonLoader.prototype._loadGeometryTo = function _loadGeometryTo (container, geometry, dataItem) {\n        var this$1$1 = this;\n\n        var coords = geometry.coordinates;\n        var i;\n        var path;\n\n        switch (geometry.type) {\n            case 'LineString':\n                path = this._loadPolygon(container, [coords], dataItem);\n                this._setLineFill(path);\n                break;\n            case 'MultiLineString':\n                for (i = 0; i < coords.length; i++) {\n                    path = this$1$1._loadPolygon(container, [coords[i]], dataItem);\n                    this$1$1._setLineFill(path);\n                }\n                break;\n            case 'Polygon':\n                this._loadPolygon(container, coords, dataItem);\n                break;\n            case 'MultiPolygon':\n                for (i = 0; i < coords.length; i++) {\n                    this$1$1._loadPolygon(container, coords[i], dataItem);\n                }\n                break;\n            case 'Point':\n                this._loadPoint(container, coords, dataItem);\n                break;\n            case 'MultiPoint':\n                for (i = 0; i < coords.length; i++) {\n                    this$1$1._loadPoint(container, coords[i], dataItem);\n                }\n                break;\n            default:\n                break;\n        }\n    };\n\n    GeoJsonLoader.prototype._setLineFill = function _setLineFill (path) {\n        var segments = path.segments;\n\n        if (segments.length < 4 || !segments[0].anchor().equals(last(segments).anchor())) {\n            path.options.fill = null;\n        }\n    };\n\n    GeoJsonLoader.prototype._loadShape = function _loadShape (container, shape) {\n        if (!this._shapeCreated(shape)) {\n            container.append(shape);\n        }\n\n        return shape;\n    };\n\n    GeoJsonLoader.prototype._loadPolygon = function _loadPolygon (container, rings, dataItem) {\n        var shape = this._buildPolygon(rings);\n        shape.dataItem = dataItem;\n        shape.location = this.locator.viewToLocation(shape.bbox().center());\n        return this._loadShape(container, shape);\n    };\n\n    GeoJsonLoader.prototype._buildPolygon = function _buildPolygon (rings) {\n        var this$1$1 = this;\n\n        var type = rings.length > 1 ? MultiPath : Path$7;\n        var path = new type(this.style);\n\n        for (var i = 0; i < rings.length; i++) {\n            for (var j = 0; j < rings[i].length; j++) {\n                var point = this$1$1.locator.locationToView(Location.fromLngLat(rings[i][j]));\n                if (j === 0) {\n                    path.moveTo(point.x, point.y);\n                } else {\n                    path.lineTo(point.x, point.y);\n                }\n            }\n        }\n\n        return path;\n    };\n\n    GeoJsonLoader.prototype._loadPoint = function _loadPoint (container, coords, dataItem) {\n        var location = Location.fromLngLat(coords);\n        var point = this.locator.locationToView(location);\n        var circle = new Circle$2(point, 10);\n        var shape = new Circle$1(circle, this.style);\n\n        shape.dataItem = dataItem;\n        shape.location = location;\n\n        return this._loadShape(container, shape);\n    };\n\n    return GeoJsonLoader;\n}(Class));\n\nvar BubbleLayer = (function (ShapeLayer) {\n    function BubbleLayer () {\n        ShapeLayer.apply(this, arguments);\n    }\n\n    if ( ShapeLayer ) BubbleLayer.__proto__ = ShapeLayer;\n    BubbleLayer.prototype = Object.create( ShapeLayer && ShapeLayer.prototype );\n    BubbleLayer.prototype.constructor = BubbleLayer;\n\n    BubbleLayer.prototype._readData = function _readData () {\n        var data = this.options.data || [];\n        return data;\n    };\n\n    BubbleLayer.prototype._load = function _load (data) {\n        var this$1$1 = this;\n\n        this._data = data;\n        this.surface.clear();\n\n        if (data.length === 0) {\n            return;\n        }\n\n        var options = this.options;\n        var getValue = getter(options.valueField);\n\n        var newData = data.slice(0);\n        newData.sort(function(a, b) {\n            return getValue(b) - getValue(a);\n        });\n\n        var scaleType = this._scaleType();\n        var scale;\n        var getLocation = getter(this.options.locationField);\n\n        for (var i = 0; i < newData.length; i++) {\n            var dataItem = newData[i];\n            var location = getLocation(dataItem);\n            var value = getValue(dataItem);\n\n            if (defined(location) && defined(value)) {\n                if (!scale) {\n                    scale = new scaleType([\n                        0,\n                        value\n                    ], [\n                        options.minSize,\n                        options.maxSize\n                    ]);\n                }\n\n                location = Location.create(location);\n\n                var center = this$1$1.map.locationToView(location);\n                var size = scale.map(value);\n                var symbol = this$1$1._createSymbol({\n                    center: center,\n                    size: size,\n                    style: options.style,\n                    dataItem: dataItem,\n                    location: location\n                });\n\n                symbol.dataItem = dataItem;\n                symbol.location = location;\n                symbol.value = value;\n\n                this$1$1._drawSymbol(symbol);\n            }\n        }\n    };\n\n    BubbleLayer.prototype._scaleType = function _scaleType () {\n        var scale = this.options.scale;\n\n        if (isFunction(scale)) {\n            return scale;\n        }\n\n        return Scales[scale];\n    };\n\n    BubbleLayer.prototype._createSymbol = function _createSymbol (args) {\n        var symbol = this.options.symbol;\n\n        if (!isFunction(symbol)) {\n            symbol = Symbols[symbol];\n        }\n\n        return symbol(args);\n    };\n\n    BubbleLayer.prototype._drawSymbol = function _drawSymbol (shape) {\n        var args = {\n            layer: this,\n            shape: shape\n        };\n\n        var cancelled = this.map.trigger('shapeCreated', args);\n\n        if (!cancelled) {\n            this.surface.draw(shape);\n        }\n    };\n\n    BubbleLayer.prototype._tooltipContext = function _tooltipContext (shape) {\n        return {\n            type: 'bubble',\n            layerIndex: this._layerIndex(),\n            className: 'k-map-bubble-tooltip',\n            dataItem: shape.dataItem,\n            location: shape.location,\n            value: shape.value\n        };\n    };\n\n    BubbleLayer.prototype._tooltipAnchor = function _tooltipAnchor (e) {\n        var shape = e.element;\n        var center = shape.bbox().center();\n\n        return {\n            top: center.y,\n            left: center.x\n        };\n    };\n\n    return BubbleLayer;\n}(ShapeLayer));\n\nsetDefaultOptions(BubbleLayer, {\n    // autoBind: true,\n    locationField: 'location',\n    valueField: 'value',\n    minSize: 0,\n    maxSize: 100,\n    scale: 'sqrt',\n    symbol: 'circle',\n    // ensure bubble layers are displayed over tile and shape layers\n    zIndex: 200\n});\n\nvar SqrtScale = (function (Class) {\n    function SqrtScale(domain, range) {\n        Class.call(this);\n\n        this._domain = domain;\n        this._range = range;\n\n        var domainRange = Math.sqrt(domain[1]) - Math.sqrt(domain[0]);\n        var outputRange = range[1] - range[0];\n\n        this._ratio = outputRange / domainRange;\n    }\n\n    if ( Class ) SqrtScale.__proto__ = Class;\n    SqrtScale.prototype = Object.create( Class && Class.prototype );\n    SqrtScale.prototype.constructor = SqrtScale;\n\n    SqrtScale.prototype.map = function map (value) {\n        var rel = (Math.sqrt(value) - Math.sqrt(this._domain[0])) * this._ratio;\n        return this._range[0] + rel;\n    };\n\n    return SqrtScale;\n}(Class));\n\nvar Scales = {\n    sqrt: SqrtScale\n};\n\nvar Symbols = {\n    circle: function(args) {\n        var geo = new Circle$2(args.center, args.size / 2);\n        return new Circle$1(geo, args.style);\n    },\n\n    square: function(args) {\n        var path = new Path$7(args.style);\n        var halfSize = args.size / 2;\n        var center = args.center;\n        path.moveTo(center.x - halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y - halfSize).lineTo(center.x + halfSize, center.y + halfSize).lineTo(center.x - halfSize, center.y + halfSize).close();\n        return path;\n    }\n};\n\nvar CLICK = \"click\";\nvar MOUSE_ENTER = \"mouseenter\";\nvar MOUSE_LEAVE = \"mouseleave\";\n\nvar extend$2 = Object.assign;\nvar MARKER_CLASS_NAME = \"k-marker\";\nvar MARKER_CLASS = \".\" + MARKER_CLASS_NAME;\n\nvar MarkerLayer = (function (Layer) {\n    function MarkerLayer(map, options) {\n        Layer.call(this, map, options);\n\n        this._markerClickHandler = proxy(this._markerClick, this);\n        on(this.element, CLICK, MARKER_CLASS, this._markerClickHandler);\n\n        this.items = [];\n\n        this._load(this._readData());\n    }\n\n    if ( Layer ) MarkerLayer.__proto__ = Layer;\n    MarkerLayer.prototype = Object.create( Layer && Layer.prototype );\n    MarkerLayer.prototype.constructor = MarkerLayer;\n\n    MarkerLayer.prototype.destroy = function destroy () {\n        Layer.prototype.destroy.call(this);\n        off(this.element, CLICK, this._markerClickHandler);\n        this.clear();\n    };\n\n    MarkerLayer.prototype.add = function add (args) {\n        var this$1$1 = this;\n\n        if (isArray(args)) {\n            for (var i = 0; i < args.length; i++) {\n                this$1$1._addOne(args[i]);\n            }\n        } else {\n            return this._addOne(args);\n        }\n    };\n\n    MarkerLayer.prototype.remove = function remove (marker) {\n        marker.destroy();\n        var index = (this.items || []).indexOf(marker);\n\n        if (index > -1) {\n            this.items.splice(index, 1);\n        }\n    };\n\n    MarkerLayer.prototype.clear = function clear () {\n        var this$1$1 = this;\n\n        for (var i = 0; i < this.items.length; i++) {\n            this$1$1.items[i].destroy();\n        }\n\n        this.items = [];\n    };\n\n    MarkerLayer.prototype.update = function update (marker) {\n        var location = marker.location();\n\n        if (location) {\n            marker.showAt(this.map.locationToView(location));\n\n            var args = {\n                marker: marker,\n                layer: this\n            };\n\n            this.map.trigger('markerActivate', args);\n        }\n    };\n\n    MarkerLayer.prototype._reset = function _reset () {\n        var this$1$1 = this;\n\n        Layer.prototype._reset.call(this);\n\n        var items = this.items;\n\n        for (var i = 0; i < items.length; i++) {\n            this$1$1.update(items[i]);\n        }\n    };\n\n    MarkerLayer.prototype.bind = function bind (options, dataItem) {\n        var marker = Marker.create(options, this.options);\n        marker.dataItem = dataItem;\n\n        var args = {\n            marker: marker,\n            layer: this\n        };\n\n        var cancelled = this.map.trigger('markerCreated', args);\n\n        if (!cancelled) {\n            this.add(marker);\n            return marker;\n        }\n    };\n\n    MarkerLayer.prototype._addOne = function _addOne (arg) {\n        var marker = Marker.create(arg, this.options);\n        marker.addTo(this);\n        return marker;\n    };\n\n    MarkerLayer.prototype._readData = function _readData () {\n        var data = this.options.data || [];\n        return data;\n    };\n\n    MarkerLayer.prototype._load = function _load (data) {\n        var this$1$1 = this;\n\n        this._data = data;\n        this.clear();\n\n        var getLocation = getter(this.options.locationField);\n        var getTitle = getter(this.options.titleField);\n\n        for (var i = 0; i < data.length; i++) {\n            var dataItem = data[i];\n\n            this$1$1.bind({\n                location: getLocation(dataItem),\n                title: getTitle(dataItem)\n            }, dataItem);\n        }\n    };\n\n    MarkerLayer.prototype._markerClick = function _markerClick (e) {\n        var marker = e.currentTarget._kendoNode;\n\n        var args = {\n            layer: this,\n            layerIndex: this._layerIndex(),\n            marker: marker,\n            markerIndex: (this.items || []).indexOf(marker),\n            originalEvent: e\n        };\n\n        this.map.trigger('markerClick', args);\n    };\n\n    MarkerLayer.prototype._markerMouseEnter = function _markerMouseEnter (e) {\n        var args = this._createMarkerEventArgs(e);\n        this.map.trigger(\"markerMouseEnter\", args);\n    };\n\n    MarkerLayer.prototype._markerMouseLeave = function _markerMouseLeave (e) {\n        var args = this._createMarkerEventArgs(e);\n        this.map.trigger(\"markerMouseLeave\", args);\n    };\n\n    MarkerLayer.prototype._createMarkerEventArgs = function _createMarkerEventArgs (e) {\n        var marker = e.marker;\n\n        var args = extend$2({}, {\n            layer: this,\n            layerIndex: this._layerIndex(),\n            marker: marker,\n            markerIndex: (this.items || []).indexOf(marker)\n        }, e);\n\n        return args;\n    };\n\n    return MarkerLayer;\n}(Layer));\n\nsetDefaultOptions(MarkerLayer, {\n    zIndex: 1000,\n    autoBind: true,\n    locationField: 'location',\n    titleField: 'title',\n    template: \"\"\n});\n\nvar Marker = (function (Class) {\n    function Marker(options) {\n        Class.call(this);\n        this.options = options || {};\n    }\n\n    if ( Class ) Marker.__proto__ = Class;\n    Marker.prototype = Object.create( Class && Class.prototype );\n    Marker.prototype.constructor = Marker;\n\n    Marker.prototype.destroy = function destroy () {\n        this.layer = null;\n        this.unbindEvents();\n        this.hide();\n    };\n\n    Marker.prototype.addTo = function addTo (parent) {\n        this.layer = parent.markers || parent;\n        this.layer.items.push(this);\n        this.layer.update(this);\n    };\n\n    Marker.prototype.location = function location (value) {\n        if (value) {\n            this.options.location = Location.create(value).toArray();\n\n            if (this.layer) {\n                this.layer.update(this);\n            }\n\n            return this;\n        }\n\n        return Location.create(this.options.location);\n    };\n\n    Marker.prototype.showAt = function showAt (point) {\n        this.render();\n\n        this._anchor = { left: Math.round(point.x), top: Math.round(point.y) };\n        this.element.style.left = toPixels(this._anchor.left);\n        this.element.style.top = toPixels(this._anchor.top);\n    };\n\n    Marker.prototype.hide = function hide () {\n        if (this.element) {\n            this.element.remove();\n            this.element = null;\n        }\n    };\n\n    Marker.prototype.bindEvents = function bindEvents () {\n        if (!this.element) {\n            return;\n        }\n\n        this._mouseEnterHandler = proxy(this._mouseEnter, this);\n        on(this.element, MOUSE_ENTER, MARKER_CLASS, this._mouseEnterHandler);\n        this._mouseLeaveHandler = proxy(this._mouseLeave, this);\n        on(this.element, MOUSE_LEAVE, MARKER_CLASS, this._mouseLeaveHandler);\n    };\n\n    Marker.prototype.unbindEvents = function unbindEvents () {\n        if (!this.element) {\n            return;\n        }\n\n        off(this.element, MOUSE_ENTER, this._mouseEnterHandler);\n        off(this.element, MOUSE_LEAVE, this._mouseLeaveHandler);\n    };\n\n    Marker.prototype.render = function render () {\n        if (!this.element) {\n            var options = this.options;\n            var layer = this.layer;\n            var element = document.createElement('span');\n            addClass(element, MARKER_CLASS_NAME);\n\n            if (this.options.template) {\n                var templateFn = this._compileTemplate(this.options.template);\n                var templateHtml = templateFn(this.dataItem);\n                var templateElement = convertToHtml(templateHtml);\n                element.appendChild(templateElement);\n            } else if (options.svgIcon) {\n                renderIcon(element, { icon: options.svgIcon, iconClass: \"k-icon-xxl\", svgIcons: this.options.icons.svgIcons, type: \"svg\" });\n            } else {\n                var iconOptions = { icon: \"map-marker\", iconClass: \"k-icon-xxl\", svgIcons: this.options.icons.svgIcons, type: this.options.icons.type };\n\n                if (options.shape) {\n                    if (options.shape === \"pinTarget\") {\n                        iconOptions.icon = \"map-marker-target\";\n                        renderIcon(element, iconOptions);\n                    } else if (options.shape === \"pin\") {\n                        renderIcon(element, iconOptions);\n                    } else {\n                        addClass(element, 'k-icon k-icon-xxl k-i-marker-' + toHyphens(options.shape || 'pin'));\n                    }\n                } else {\n                    renderIcon(element, iconOptions);\n                }\n            }\n\n            if (options.title) {\n                element.setAttribute(\"title\", options.title);\n            }\n\n            var attributes = options.attributes || {};\n            Object.keys(attributes).forEach(function(key) {\n                element.setAttribute(key, attributes[key]);\n            });\n\n            element._kendoNode = this;\n            element.style.zIndex = options.zIndex;\n\n            this.element = element;\n\n            if (layer) {\n                layer.element.appendChild(this.element);\n            }\n\n            this.bindEvents();\n        }\n    };\n\n    Marker.prototype._mouseEnter = function _mouseEnter (e) {\n        var args = this._createEventArgs(e);\n        this.layer._markerMouseEnter(args);\n\n        this.layer.map._tooltip.show({\n            top: this._anchor.top - this.element.offsetHeight,\n            left: this._anchor.left\n        }, this._tooltipContext());\n    };\n\n    Marker.prototype._tooltipContext = function _tooltipContext () {\n        return {\n            type: 'marker',\n            layerIndex: this.layer._layerIndex(),\n            className: 'k-map-marker-tooltip',\n            dataItem: this.dataItem,\n            title: this.options.title,\n            location: this.location()\n        };\n    };\n\n    Marker.prototype._mouseLeave = function _mouseLeave (e) {\n        var args = this._createEventArgs(e);\n        this.layer._markerMouseLeave(args);\n    };\n\n    Marker.prototype._createEventArgs = function _createEventArgs (e) {\n        var args = {\n            marker: this,\n            originalEvent: e\n        };\n\n        return args;\n    };\n\n    Marker.prototype._compileTemplate = function _compileTemplate (template) {\n        return TemplateService.compile(template, {\n            paramName: \"dataItem\",\n            useWithBlock: false\n        });\n    };\n\n    Marker.create = function create (arg, defaults) {\n        if (arg instanceof Marker) {\n            return arg;\n        }\n\n        return new Marker(deepExtend({}, defaults, arg));\n    };\n\n    return Marker;\n}(Class));\n\nvar extend$1 = Object.assign;\n\nfunction animationFrame(callback) {\n    window.requestAnimationFrame(callback);\n}\n\nvar Animation = (function (Class) {\n    function Animation() {\n        Class.call(this);\n        var that = this;\n\n        that._tickProxy = proxy(that._tick, that);\n        that._started = false;\n    }\n\n    if ( Class ) Animation.__proto__ = Class;\n    Animation.prototype = Object.create( Class && Class.prototype );\n    Animation.prototype.constructor = Animation;\n\n    Animation.prototype.tick = function tick () { };\n    Animation.prototype.done = function done () { };\n    Animation.prototype.onEnd = function onEnd () { };\n    Animation.prototype.onCancel = function onCancel () { };\n\n    Animation.prototype.start = function start () {\n        if (!this.enabled()) {\n            return;\n        }\n\n        if (!this.done()) {\n            this._started = true;\n            animationFrame(this._tickProxy);\n        } else {\n            this.onEnd();\n        }\n    };\n\n    Animation.prototype.enabled = function enabled () {\n        return true;\n    };\n\n    Animation.prototype.cancel = function cancel () {\n        this._started = false;\n        this.onCancel();\n    };\n\n    Animation.prototype._tick = function _tick () {\n        var that = this;\n\n        if (!that._started) {\n            return;\n        }\n\n        that.tick();\n\n        if (!that.done()) {\n            animationFrame(that._tickProxy);\n        } else {\n            that._started = false;\n            that.onEnd();\n        }\n    };\n\n    return Animation;\n}(Class));\n\nvar Transition = (function (Animation) {\n    function Transition(options) {\n        Animation.call(this);\n        extend$1(this, options);\n    }\n\n    if ( Animation ) Transition.__proto__ = Animation;\n    Transition.prototype = Object.create( Animation && Animation.prototype );\n    Transition.prototype.constructor = Transition;\n\n    Transition.prototype.done = function done () {\n        return this.timePassed() >= this.duration;\n    };\n\n    Transition.prototype.timePassed = function timePassed () {\n        return Math.min(this.duration, now() - this.startDate);\n    };\n\n    Transition.prototype.moveTo = function moveTo (options) {\n        var that = this,\n            movable = that.movable;\n\n        that.initial = movable[that.axis];\n        that.delta = options.location - that.initial;\n        that.duration = typeof options.duration === 'number' ? options.duration : 300;\n        that.tick = that._easeProxy(options.ease);\n        that.startDate = now();\n        that.start();\n    };\n\n    Transition.prototype._easeProxy = function _easeProxy (ease) {\n        var that = this;\n\n        return function() {\n            that.movable.moveAxis(that.axis, ease(that.timePassed(), that.initial, that.delta, that.duration));\n        };\n    };\n\n    Transition.easeOutExpo = function easeOutExpo (t, b, c, d) {\n        return t === d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n    };\n\n    return Transition;\n}(Animation));\n\n// todo: extract to a separate place\n\n\nvar\n    extend = Object.assign,\n    abs = Math.abs,\n    SNAPBACK_DURATION = 500,\n    SCROLLBAR_OPACITY = 0.7,\n    FRICTION$1 = 0.96,\n    VELOCITY_MULTIPLIER$1 = 10,\n    MAX_VELOCITY = 55,\n    OUT_OF_BOUNDS_FRICTION = 0.5,\n    ANIMATED_SCROLLER_PRECISION = 5,\n    // SCROLLER_RELEASE_CLASS = 'km-scroller-release',\n    // SCROLLER_REFRESH_CLASS = 'km-scroller-refresh',\n    PULL = 'pull',\n    CHANGE = 'change',\n    RESIZE = 'resize',\n    SCROLL = 'scroll',\n    MOUSE_WHEEL_ID = 2;\n\nvar ZoomSnapBack = (function (Animation) {\n    function ZoomSnapBack(options) {\n        Animation.call(this, options);\n        var that = this;\n        extend(that, options);\n        that.userEvents.bind('gestureend', that.start.bind(this));\n        that.tapCapture.bind('press', that.cancel.bind(this));\n    }\n\n    if ( Animation ) ZoomSnapBack.__proto__ = Animation;\n    ZoomSnapBack.prototype = Object.create( Animation && Animation.prototype );\n    ZoomSnapBack.prototype.constructor = ZoomSnapBack;\n\n    ZoomSnapBack.prototype.enabled = function enabled () {\n        return this.movable.scale < this.dimensions.minScale;\n    };\n\n    ZoomSnapBack.prototype.done = function done () {\n        return this.dimensions.minScale - this.movable.scale < 0.01;\n    };\n\n    ZoomSnapBack.prototype.tick = function tick () {\n        var movable = this.movable;\n        movable.scaleWith(1.1);\n        this.dimensions.rescale(movable.scale);\n    };\n\n    ZoomSnapBack.prototype.onEnd = function onEnd () {\n        var movable = this.movable;\n        movable.scaleTo(this.dimensions.minScale);\n        this.dimensions.rescale(movable.scale);\n    };\n\n    return ZoomSnapBack;\n}(Animation));\n\nvar DragInertia = (function (Animation) {\n    function DragInertia(options) {\n        Animation.call(this);\n        var that = this;\n\n        extend(that, options, {\n            transition: new Transition({\n                axis: options.axis,\n                movable: options.movable,\n                onEnd: function onEnd() {\n                    that._end();\n                }\n            })\n        });\n\n        that.tapCapture.bind('press', function() {\n            that.cancel();\n        });\n\n        that.userEvents.bind('end', proxy(that.start, that));\n        that.userEvents.bind('gestureend', proxy(that.start, that));\n        that.userEvents.bind('tap', proxy(that.onEnd, that));\n    }\n\n    if ( Animation ) DragInertia.__proto__ = Animation;\n    DragInertia.prototype = Object.create( Animation && Animation.prototype );\n    DragInertia.prototype.constructor = DragInertia;\n\n    DragInertia.prototype.onCancel = function onCancel () {\n        this.transition.cancel();\n    };\n\n    DragInertia.prototype.freeze = function freeze (location) {\n        var that = this;\n        that.cancel();\n        that._moveTo(location);\n    };\n\n    DragInertia.prototype.onEnd = function onEnd () {\n        var that = this;\n        if (that.paneAxis.outOfBounds()) {\n            that._snapBack();\n        } else {\n            that._end();\n        }\n    };\n\n    DragInertia.prototype.done = function done () {\n        return abs(this.velocity) < 1;\n    };\n\n    DragInertia.prototype.start = function start (e) {\n        var that = this,\n            velocity;\n        if (!that.dimension.enabled) {\n            return;\n        }\n        if (that.paneAxis.outOfBounds()) {\n            if (that.transition._started) {\n                that.transition.cancel();\n                that.velocity = Math.min(e.touch[that.axis].velocity * that.velocityMultiplier, MAX_VELOCITY);\n                Animation.prototype.start.call(this);\n            } else {\n                that._snapBack();\n            }\n        } else {\n            velocity = e.touch.id === MOUSE_WHEEL_ID ? 0 : e.touch[that.axis].velocity;\n            that.velocity = Math.max(Math.min(velocity * that.velocityMultiplier, MAX_VELOCITY), -MAX_VELOCITY);\n            that.tapCapture.captureNext();\n            Animation.prototype.start.call(this);\n        }\n    };\n\n    DragInertia.prototype.tick = function tick () {\n        var that = this,\n            dimension = that.dimension,\n            friction = that.paneAxis.outOfBounds() ? OUT_OF_BOUNDS_FRICTION : that.friction,\n            delta = that.velocity *= friction,\n            location = that.movable[that.axis] + delta;\n\n        if (!that.elastic && dimension.outOfBounds(location)) {\n            location = Math.max(Math.min(location, dimension.max), dimension.min);\n            that.velocity = 0;\n        }\n\n        that.movable.moveAxis(that.axis, location);\n    };\n\n    DragInertia.prototype._end = function _end () {\n        this.tapCapture.cancelCapture();\n        this.end();\n    };\n\n    DragInertia.prototype._snapBack = function _snapBack () {\n        var that = this,\n            dimension = that.dimension,\n            snapBack = that.movable[that.axis] > dimension.max ? dimension.max : dimension.min;\n\n        that._moveTo(snapBack);\n    };\n\n    DragInertia.prototype._moveTo = function _moveTo (location) {\n        this.transition.moveTo({\n            location: location,\n            duration: SNAPBACK_DURATION,\n            ease: Transition.easeOutExpo\n        });\n    };\n\n    return DragInertia;\n}(Animation));\n\nvar AnimatedScroller = (function (Animation) {\n    function AnimatedScroller(options) {\n        Animation.call(this, options);\n        var that = this;\n\n        extend(that, options, {\n            origin: {},\n            destination: {},\n            offset: {}\n        });\n    }\n\n    if ( Animation ) AnimatedScroller.__proto__ = Animation;\n    AnimatedScroller.prototype = Object.create( Animation && Animation.prototype );\n    AnimatedScroller.prototype.constructor = AnimatedScroller;\n\n    AnimatedScroller.prototype.tick = function tick () {\n        this._updateCoordinates();\n        this.moveTo(this.origin);\n    };\n\n    AnimatedScroller.prototype.done = function done () {\n        return abs(this.offset.y) < ANIMATED_SCROLLER_PRECISION && abs(this.offset.x) < ANIMATED_SCROLLER_PRECISION;\n    };\n\n    AnimatedScroller.prototype.onEnd = function onEnd () {\n        this.moveTo(this.destination);\n        if (this.callback) {\n            this.callback.call();\n        }\n    };\n\n    AnimatedScroller.prototype.setCoordinates = function setCoordinates (from, to) {\n        this.offset = {};\n        this.origin = from;\n        this.destination = to;\n    };\n\n    /* eslint-disable no-param-reassign */\n    AnimatedScroller.prototype.setCallback = function setCallback (callback) {\n        if (callback && isFunction(callback)) {\n            this.callback = callback;\n        } else {\n            callback = undefined;\n        }\n    };\n    /* eslint-enable no-param-reassign */\n\n    AnimatedScroller.prototype._updateCoordinates = function _updateCoordinates () {\n        this.offset = {\n            x: (this.destination.x - this.origin.x) / 4,\n            y: (this.destination.y - this.origin.y) / 4\n        };\n        this.origin = {\n            y: this.origin.y + this.offset.y,\n            x: this.origin.x + this.offset.x\n        };\n    };\n\n    return AnimatedScroller;\n}(Animation));\n\nvar ScrollBar = (function (Class) {\n    function ScrollBar(options) {\n        Class.call(this);\n        var that = this,\n            horizontal = options.axis === 'x';\n\n        var orientation = (horizontal ? 'horizontal' : 'vertical');\n        var element = convertToHtml('<div class=\"km-touch-scrollbar km-' + orientation + '-scrollbar\" />');\n\n        extend(that, options, {\n            element: element,\n            elementSize: 0,\n            movable: new Movable(element),\n            scrollMovable: options.movable,\n            alwaysVisible: options.alwaysVisible,\n            size: horizontal ? 'width' : 'height'\n        });\n\n        that.scrollMovable.bind(CHANGE, that.refresh.bind(that));\n\n        that.container.appendChild(element);\n\n        if (options.alwaysVisible) {\n            that.show();\n        }\n    }\n\n    if ( Class ) ScrollBar.__proto__ = Class;\n    ScrollBar.prototype = Object.create( Class && Class.prototype );\n    ScrollBar.prototype.constructor = ScrollBar;\n\n    ScrollBar.prototype.refresh = function refresh () {\n        var that = this,\n            axis = that.axis,\n            dimension = that.dimension,\n            paneSize = dimension.size,\n            scrollMovable = that.scrollMovable,\n            sizeRatio = paneSize / dimension.total,\n            position = Math.round(-scrollMovable[axis] * sizeRatio),\n            size = Math.round(paneSize * sizeRatio);\n        if (sizeRatio >= 1) {\n            this.element.style.display = \"none\";\n        } else {\n            this.element.style.display = \"\";\n        }\n        if (position + size > paneSize) {\n            size = paneSize - position;\n        } else if (position < 0) {\n            size += position;\n            position = 0;\n        }\n        if (that.elementSize !== size) {\n            that.element.style[that.size] = size + 'px';\n            that.elementSize = size;\n        }\n        that.movable.moveAxis(axis, position);\n    };\n\n    ScrollBar.prototype.show = function show () {\n        this.element.style.opacity = SCROLLBAR_OPACITY;\n        this.element.style.visibility = \"visible\";\n    };\n\n    ScrollBar.prototype.hide = function hide () {\n        if (!this.alwaysVisible) {\n            this.element.style.opacity = 0;\n        }\n    };\n\n    return ScrollBar;\n}(Class));\n\n// export class Scroller extends Class {\nvar Scroller = (function (Observable) {\n    function Scroller(element, options) {\n        Observable.call(this);\n        var that = this;\n        this.element = element;\n\n        this._initOptions(options);\n\n        var hasScrolling = hasNativeScrolling(navigator.userAgent);\n        that._native = that.options.useNative && hasScrolling;\n        var scrollHeader = convertToHtml('<div class=\"km-scroll-header\"/>');\n\n        if (that._native) {\n            addClass(element, 'km-native-scroller');\n            prepend(scrollHeader, element);\n\n            extend(that, {\n                scrollElement: element,\n                fixedContainer: element.children[0]\n            });\n\n            return;\n        }\n\n        element.style.overflow = \"hidden\";\n        addClass(element, 'km-scroll-wrapper');\n\n        var scrollContainer = convertToHtml('<div class=\"km-scroll-container\"/>');\n        wrapInner(element, scrollContainer);\n        prepend(scrollHeader, element);\n\n        var inner = element.children[1],\n            tapCapture = new TapCapture(element),\n            movable = new Movable(inner),\n\n            dimensions = new PaneDimensions({\n                element: inner,\n                container: element,\n                forcedEnabled: that.options.zoom\n            }),\n            avoidScrolling = this.options.avoidScrolling,\n\n            userEvents = new UserEvents(element, {\n                touchAction: 'none',\n                allowSelection: true,\n                preventDragEvent: true,\n                captureUpIfMoved: true,\n                multiTouch: that.options.zoom,\n                supportDoubleTap: that.options.supportDoubleTap,\n                start: function start(e) {\n                    dimensions.refresh();\n                    var velocityX = abs(e.x.velocity),\n                        velocityY = abs(e.y.velocity),\n                        horizontalSwipe = velocityX * 2 >= velocityY,\n                        originatedFromFixedContainer = that.fixedContainer.contains(e.event.target),\n                        verticalSwipe = velocityY * 2 >= velocityX;\n                    if (!originatedFromFixedContainer && !avoidScrolling(e) && that.enabled && (dimensions.x.enabled && horizontalSwipe || dimensions.y.enabled && verticalSwipe)) {\n                        userEvents.capture();\n                    } else {\n                        userEvents.cancel();\n                    }\n                }\n            }),\n\n            pane = new Pane({\n                movable: movable,\n                dimensions: dimensions,\n                userEvents: userEvents,\n                elastic: that.options.elastic\n            }),\n\n            zoomSnapBack = new ZoomSnapBack({\n                movable: movable,\n                dimensions: dimensions,\n                userEvents: userEvents,\n                tapCapture: tapCapture\n            }),\n\n            animatedScroller = new AnimatedScroller({\n                moveTo: function moveTo(coordinates) {\n                    that.scrollTo(coordinates.x, coordinates.y);\n                }\n            });\n\n        movable.bind(CHANGE, function() {\n            that.scrollTop = -movable.y;\n            that.scrollLeft = -movable.x;\n            that.trigger(SCROLL, {\n                scrollTop: that.scrollTop,\n                scrollLeft: that.scrollLeft\n            });\n        });\n\n        if (that.options.mousewheelScrolling) {\n            this._wheelScrollHandler = this._wheelScroll.bind(this);\n            on(element, 'wheel', this._wheelScrollHandler);\n        }\n\n        extend(that, {\n            movable: movable,\n            dimensions: dimensions,\n            zoomSnapBack: zoomSnapBack,\n            animatedScroller: animatedScroller,\n            userEvents: userEvents,\n            pane: pane,\n            tapCapture: tapCapture,\n            pulled: false,\n            enabled: true,\n            scrollElement: inner,\n            scrollTop: 0,\n            scrollLeft: 0,\n            fixedContainer: element.children[0]\n        });\n\n        that._initAxis('x');\n        that._initAxis('y');\n\n        that._wheelEnd = function() {\n            that._wheel = false;\n            that.userEvents.end(0, that._wheelY);\n        };\n\n        dimensions.refresh();\n\n        if (that.options.pullToRefresh) {\n            that._initPullToRefresh();\n        }\n    }\n\n    if ( Observable ) Scroller.__proto__ = Observable;\n    Scroller.prototype = Object.create( Observable && Observable.prototype );\n    Scroller.prototype.constructor = Scroller;\n\n    Scroller.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Scroller.prototype._wheelScroll = function _wheelScroll (e) {\n        if (e.ctrlKey) {\n            return;\n        }\n        if (!this._wheel) {\n            this._wheel = true;\n            this._wheelY = 0;\n            this.userEvents.press(0, this._wheelY);\n        }\n\n        clearTimeout(this._wheelTimeout);\n        this._wheelTimeout = setTimeout(this._wheelEnd, 50);\n        var delta = wheelDeltaY(e);\n\n        if (delta) {\n            this._wheelY += delta;\n            this.userEvents.move(0, this._wheelY);\n        }\n\n        e.preventDefault();\n    };\n\n    Scroller.prototype.makeVirtual = function makeVirtual () {\n        this.dimensions.y.makeVirtual();\n    };\n\n    Scroller.prototype.virtualSize = function virtualSize (min, max) {\n        this.dimensions.y.virtualSize(min, max);\n    };\n\n    Scroller.prototype.height = function height () {\n        return this.dimensions.y.size;\n    };\n\n    Scroller.prototype.scrollHeight = function scrollHeight () {\n        return this.scrollElement.scrollHeight;\n    };\n\n    Scroller.prototype.scrollWidth = function scrollWidth () {\n        return this.scrollElement.scrollWidth;\n    };\n\n    Scroller.prototype._resize = function _resize () {\n        if (!this._native) {\n            this.contentResized();\n        }\n    };\n\n    Scroller.prototype.setOptions = function setOptions (options) {\n        var that = this;\n\n        this._initOptions(options);\n\n        if (options.pullToRefresh) {\n            that._initPullToRefresh();\n        }\n    };\n\n    Scroller.prototype.reset = function reset () {\n        if (this._native) {\n            this.scrollElement.scrollTop(0);\n        } else {\n            this.movable.moveTo({\n                x: 0,\n                y: 0\n            });\n            this._scale(1);\n        }\n    };\n\n    Scroller.prototype.contentResized = function contentResized () {\n        this.dimensions.refresh();\n        if (this.pane.x.outOfBounds()) {\n            this.movable.moveAxis('x', this.dimensions.x.min);\n        }\n        if (this.pane.y.outOfBounds()) {\n            this.movable.moveAxis('y', this.dimensions.y.min);\n        }\n    };\n\n    Scroller.prototype.zoomOut = function zoomOut () {\n        var dimensions = this.dimensions;\n        dimensions.refresh();\n        this._scale(dimensions.fitScale);\n        this.movable.moveTo(dimensions.centerCoordinates());\n    };\n\n    Scroller.prototype.enable = function enable () {\n        this.enabled = true;\n    };\n\n    Scroller.prototype.disable = function disable () {\n        this.enabled = false;\n    };\n\n    Scroller.prototype.scrollTo = function scrollTo (x, y) {\n        if (this._native) {\n            this.scrollElement.scrollLeft(abs(x));\n            this.scrollElement.scrollTop(abs(y));\n        } else {\n            this.dimensions.refresh();\n            this.movable.moveTo({\n                x: x,\n                y: y\n            });\n        }\n    };\n\n    Scroller.prototype.animatedScrollTo = function animatedScrollTo (x, y, callback) {\n        var from, to;\n        if (this._native) {\n            this.scrollTo(x, y);\n        } else {\n            from = {\n                x: this.movable.x,\n                y: this.movable.y\n            };\n            to = {\n                x: x,\n                y: y\n            };\n            this.animatedScroller.setCoordinates(from, to);\n            this.animatedScroller.setCallback(callback);\n            this.animatedScroller.start();\n        }\n    };\n\n    // kept for API compatibility, not used\n    Scroller.prototype.pullHandled = function pullHandled () {\n        // let that = this;\n\n        // removeClass(that.refreshHint, SCROLLER_REFRESH_CLASS);\n        // that.hintContainer.innerHTML = that.pullTemplate({}));\n\n        // that.yinertia.onEnd();\n        // that.xinertia.onEnd();\n        // that.userEvents.cancel();\n    };\n\n    Scroller.prototype.destroy = function destroy () {\n        var element = this.element;\n\n        off(element, 'wheel', this._wheelScrollHandler);\n\n        if (this.userEvents) {\n            this.userEvents.destroy();\n        }\n    };\n\n    Scroller.prototype._scale = function _scale (scale) {\n        this.dimensions.rescale(scale);\n        this.movable.scaleTo(scale);\n    };\n\n    Scroller.prototype._initPullToRefresh = function _initPullToRefresh () {\n    };\n\n    // kept for API compatibility, not used\n    Scroller.prototype._dragEnd = function _dragEnd () {\n        // let that = this;\n\n        // if (!that.pulled) {\n        //     return;\n        // }\n\n        // that.pulled = false;\n\n        // removeClass(that.refreshHint, SCROLLER_RELEASE_CLASS);\n        // addClass(that.refreshHint, SCROLLER_REFRESH_CLASS);\n\n        // that.hintContainer.innerHTML = that.refreshTemplate({});\n\n        // that.yinertia.freeze(that.options.pullOffset / 2);\n        // that.trigger('pull');\n    };\n\n    // kept for API compatibility, not used\n    Scroller.prototype._paneChange = function _paneChange () {\n        // let that = this;\n        // if (that.movable.y / OUT_OF_BOUNDS_FRICTION > that.options.pullOffset) {\n        //     if (!that.pulled) {\n        //         that.pulled = true;\n        //         that.refreshHint.removeClass(SCROLLER_REFRESH_CLASS).addClass(SCROLLER_RELEASE_CLASS);\n        //         that.hintContainer.html(that.releaseTemplate({}));\n        //         that.hintContainer.html(that.releaseTemplate({}));\n        //     }\n        // } else if (that.pulled) {\n        //     that.pulled = false;\n        //     that.refreshHint.removeClass(SCROLLER_RELEASE_CLASS);\n        //     that.hintContainer.html(that.pullTemplate({}));\n        // }\n    };\n\n    Scroller.prototype._initAxis = function _initAxis (axis) {\n        var that = this,\n            movable = that.movable,\n            dimension = that.dimensions[axis],\n            tapCapture = that.tapCapture,\n            paneAxis = that.pane[axis],\n            scrollBar = new ScrollBar({\n                axis: axis,\n                movable: movable,\n                dimension: dimension,\n                container: that.element,\n                alwaysVisible: that.options.visibleScrollHints\n            });\n\n        dimension.bind(CHANGE, function() {\n            scrollBar.refresh();\n        });\n\n        paneAxis.bind(CHANGE, function() {\n            scrollBar.show();\n        });\n\n        that[axis + 'inertia'] = new DragInertia({\n            axis: axis,\n            paneAxis: paneAxis,\n            movable: movable,\n            tapCapture: tapCapture,\n            userEvents: that.userEvents,\n            dimension: dimension,\n            elastic: that.options.elastic,\n            friction: that.options.friction || FRICTION$1,\n            velocityMultiplier: that.options.velocityMultiplier || VELOCITY_MULTIPLIER$1,\n            end: function end() {\n                scrollBar.hide();\n                that.trigger('scrollEnd', {\n                    axis: axis,\n                    scrollTop: that.scrollTop,\n                    scrollLeft: that.scrollLeft\n                });\n            }\n        });\n    };\n\n    return Scroller;\n}(Observable));\n\nsetDefaultOptions(Scroller, {\n    name: 'Scroller',\n    zoom: false,\n    pullOffset: 140,\n    visibleScrollHints: false,\n    elastic: true,\n    useNative: false,\n    mousewheelScrolling: true,\n    avoidScrolling: function avoidScrolling() {\n        return false;\n    },\n    pullToRefresh: false,\n    messages: {\n        pullTemplate: 'Pull to refresh',\n        releaseTemplate: 'Release to refresh',\n        refreshTemplate: 'Refreshing'\n    }\n});\n\nsetDefaultEvents(Scroller, [\n    PULL,\n    SCROLL,\n    RESIZE\n]);\n\nvar MapService = function MapService(widget, context) {\n    if ( context === void 0 ) context = {};\n\n    this.sender = context.sender || widget;\n    this.widget = widget;\n    this.rtl = Boolean(context.rtl);\n};\n\nMapService.prototype.notify = function notify (name, args) {\n    if (this.widget) {\n        this.widget.trigger(name, args);\n    }\n};\n\nvar math = Math,\n    min$1 = math.min,\n    pow = math.pow,\n    Point = Point$6,\n    MARKER = \"marker\",\n    LOCATION = \"location\",\n    FRICTION = 0.9,\n    FRICTION_MOBILE = 0.93,\n    MOUSEWHEEL = 'wheel',\n    MOUSEWHEEL_THROTTLE = 50,\n    VELOCITY_MULTIPLIER = 5,\n    DEFAULT_ZOOM_RATE = 1;\n\nvar layersMap = {\n    bubble: BubbleLayer,\n    shape: ShapeLayer,\n    tile: TileLayer\n};\nlayersMap[MARKER] = MarkerLayer;\n\nvar Map$1 = (function (Observable) {\n    function Map(element, options, themeOptions, context) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n        if ( context === void 0 ) context = {};\n\n        Observable.call(this);\n\n        this._init(element, options, themeOptions, context);\n    }\n\n    if ( Observable ) Map.__proto__ = Observable;\n    Map.prototype = Object.create( Observable && Observable.prototype );\n    Map.prototype.constructor = Map;\n\n    Map.prototype.destroy = function destroy () {\n        var this$1$1 = this;\n\n        this.scroller.destroy();\n\n        if (this._tooltip) {\n            this._tooltip.destroy();\n        }\n\n        if (this.navigator) {\n            this.navigator.destroy();\n        }\n        if (this.attribution) {\n            this.attribution.destroy();\n        }\n        if (this.zoomControl) {\n            this.zoomControl.destroy();\n        }\n\n        if (isArray(this.markers)) {\n            this.markers.forEach(function (markerLayer) {\n                markerLayer.destroy();\n            });\n        } else {\n            this.markers.destroy();\n        }\n\n        for (var i = 0; i < this.layers.length; i++) {\n            this$1$1.layers[i].destroy();\n        }\n\n        off(this.element, MOUSEWHEEL, this._mousewheelHandler);\n\n        Observable.prototype.destroy.call(this);\n    };\n\n    // eslint-disable-next-line no-unused-vars\n    Map.prototype._init = function _init (element, options, themeOptions, context) {\n        if ( options === void 0 ) options = {};\n        if ( themeOptions === void 0 ) themeOptions = {};\n        if ( context === void 0 ) context = {};\n\n        this.support = getSupportedFeatures();\n        this.context = context;\n\n        this.initObserver(context);\n        this.initServices(context);\n        this._notifyObserver(INIT);\n\n        this._initOptions(options);\n        this._setEvents(options);\n        this.crs = new EPSG3857();\n\n        this._initElement(element);\n\n        this._viewOrigin = this._getOrigin();\n\n        this._tooltip = this._createTooltip();\n        this._initScroller();\n        this._initMarkers();\n        this._initControls();\n        this._initLayers();\n        this._reset();\n\n        var mousewheelThrottled = throttle(this._mousewheel.bind(this), MOUSEWHEEL_THROTTLE);\n        this._mousewheelHandler = function (e) {\n            e.preventDefault();\n            mousewheelThrottled(e);\n        };\n        on(this.element, MOUSEWHEEL, this._mousewheelHandler);\n    };\n\n    Map.prototype._initOptions = function _initOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    Map.prototype._initElement = function _initElement (element) {\n        this.element = element;\n\n        addClass(element, \"k-map\");\n        element.style.position = \"relative\";\n        element.setAttribute(\"data-role\", \"map\");\n        removeChildren(element);\n\n        var div = convertToHtml(\"<div />\");\n        this.element.appendChild(div);\n    };\n\n    Map.prototype.initServices = function initServices (context) {\n        if ( context === void 0 ) context = {};\n\n        this.widgetService = new MapService(this, context);\n    };\n\n    Map.prototype.initObserver = function initObserver (context) {\n        if ( context === void 0 ) context = {};\n\n        this.observers = [];\n        this.addObserver(context.observer);\n    };\n\n    Map.prototype.addObserver = function addObserver (observer) {\n        if (observer) {\n            this.observers.push(observer);\n        }\n    };\n\n    Map.prototype.removeObserver = function removeObserver (observer) {\n        var index = this.observers.indexOf(observer);\n\n        if (index >= 0) {\n            this.observers.splice(index, 1);\n        }\n    };\n\n    Map.prototype.requiresHandlers = function requiresHandlers (eventNames) {\n        var observers = this.observers;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].requiresHandlers(eventNames)) {\n                return true;\n            }\n        }\n    };\n\n    Map.prototype.trigger = function trigger (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        if (!isDefaultPrevented) {\n            Observable.prototype.trigger.call(this, name, args);\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Map.prototype._notifyObserver = function _notifyObserver (name, args) {\n        if ( args === void 0 ) args = {};\n\n        args.sender = this;\n\n        var observers = this.observers;\n        var isDefaultPrevented = false;\n\n        for (var idx = 0; idx < observers.length; idx++) {\n            if (observers[idx].trigger(name, args)) {\n                isDefaultPrevented = true;\n            }\n        }\n\n        return isDefaultPrevented;\n    };\n\n    Map.prototype.zoom = function zoom (level) {\n        var options = this.options;\n        var result;\n\n        if (defined(level)) {\n            var zoomLevel = math.round(limitValue(level, options.minZoom, options.maxZoom));\n\n            if (options.zoom !== zoomLevel) {\n                options.zoom = zoomLevel;\n                this.widgetService.notify(ZOOM_CHANGE, { zoom: options.zoom });\n\n                this._reset();\n            }\n            result = this;\n        } else {\n            result = options.zoom;\n        }\n\n        return result;\n    };\n\n    Map.prototype.center = function center (center$1) {\n        var result;\n\n        if (center$1) {\n            var current = Location.create(center$1);\n            var previous = Location.create(this.options.center);\n            if (!current.equals(previous)) {\n                this.options.center = current.toArray();\n                this.widgetService.notify(CENTER_CHANGE, { center: this.options.center });\n                this._reset();\n            }\n\n            result = this;\n        } else {\n            result = Location.create(this.options.center);\n        }\n\n        return result;\n    };\n\n    Map.prototype.extent = function extent (extent$1) {\n        var result;\n\n        if (extent$1) {\n            this._setExtent(extent$1);\n            result = this;\n        } else {\n            result = this._getExtent();\n        }\n\n        return result;\n    };\n\n    Map.prototype.setOptions = function setOptions (options) {\n        if ( options === void 0 ) options = {};\n\n        var element = this.element;\n\n        this.destroy();\n        removeChildren(element);\n        this._init(element, options, {}, this.context);\n\n        this._reset();\n    };\n\n    Map.prototype.locationToLayer = function locationToLayer (location, zoom) {\n        var clamp = !this.options.wraparound;\n        var locationObject = Location.create(location);\n\n        return this.crs.toPoint(locationObject, this._layerSize(zoom), clamp);\n    };\n\n    Map.prototype.layerToLocation = function layerToLocation (point, zoom) {\n        var clamp = !this.options.wraparound;\n        var pointObject = Point.create(point);\n\n        return this.crs.toLocation(pointObject, this._layerSize(zoom), clamp);\n    };\n\n    Map.prototype.locationToView = function locationToView (location) {\n        var locationObject = Location.create(location);\n        var origin = this.locationToLayer(this._viewOrigin);\n        var point = this.locationToLayer(locationObject);\n\n        return point.translateWith(origin.scale(-1));\n    };\n\n    Map.prototype.viewToLocation = function viewToLocation (point, zoom) {\n        var origin = this.locationToLayer(this._getOrigin(), zoom);\n        var pointObject = Point.create(point);\n        var pointResult = pointObject.clone().translateWith(origin);\n\n        return this.layerToLocation(pointResult, zoom);\n    };\n\n    Map.prototype.eventOffset = function eventOffset (e) {\n        var x;\n        var y;\n        var offset = elementOffset(this.element);\n\n        if ((e.x && e.x[LOCATION]) || (e.y && e.y[LOCATION])) {\n            x = e.x[LOCATION] - offset.left;\n            y = e.y[LOCATION] - offset.top;\n        } else {\n            var event = e.originalEvent || e;\n            x = valueOrDefault(event.pageX, event.clientX) - offset.left;\n            y = valueOrDefault(event.pageY, event.clientY) - offset.top;\n        }\n\n        var point = new Point$6(x, y);\n\n        return point;\n    };\n\n    Map.prototype.eventToView = function eventToView (e) {\n        var cursor = this.eventOffset(e);\n        return this.locationToView(this.viewToLocation(cursor));\n    };\n\n    Map.prototype.eventToLayer = function eventToLayer (e) {\n        return this.locationToLayer(this.eventToLocation(e));\n    };\n\n    Map.prototype.eventToLocation = function eventToLocation (e) {\n        var cursor = this.eventOffset(e);\n        return this.viewToLocation(cursor);\n    };\n\n    Map.prototype.viewSize = function viewSize () {\n        var element = this.element;\n        var scale = this._layerSize();\n        var width = element.clientWidth;\n\n        if (!this.options.wraparound) {\n            width = min$1(scale, width);\n        }\n\n        return {\n            width: width,\n            height: min$1(scale, element.clientHeight)\n        };\n    };\n\n    Map.prototype.exportVisual = function exportVisual () {\n        this._reset();\n        return false;\n    };\n\n    Map.prototype.hideTooltip = function hideTooltip () {\n        if (this._tooltip) {\n            this._tooltip.hide();\n        }\n    };\n\n    Map.prototype._setOrigin = function _setOrigin (origin, zoom) {\n        var size = this.viewSize(),\n            topLeft;\n\n        var originLocation = this._origin = Location.create(origin);\n        topLeft = this.locationToLayer(originLocation, zoom);\n        topLeft.x += size.width / 2;\n        topLeft.y += size.height / 2;\n        this.options.center = this.layerToLocation(topLeft, zoom).toArray();\n        this.widgetService.notify(CENTER_CHANGE, { center: this.options.center });\n\n        return this;\n    };\n\n    Map.prototype._getOrigin = function _getOrigin (invalidate) {\n        var size = this.viewSize(),\n            topLeft;\n\n        if (invalidate || !this._origin) {\n            topLeft = this.locationToLayer(this.center());\n            topLeft.x -= size.width / 2;\n            topLeft.y -= size.height / 2;\n            this._origin = this.layerToLocation(topLeft);\n        }\n\n        return this._origin;\n    };\n\n    Map.prototype._setExtent = function _setExtent (newExtent) {\n        var this$1$1 = this;\n\n        var raw = Extent.create(newExtent);\n        var se = raw.se.clone();\n\n        if (this.options.wraparound && se.lng < 0 && newExtent.nw.lng > 0) {\n            se.lng = 180 + (180 + se.lng);\n        }\n\n        var extent = new Extent(raw.nw, se);\n        this.center(extent.center());\n        var width = this.element.clientWidth;\n        var height = this.element.clientHeight;\n        var zoom;\n\n        for (zoom = this.options.maxZoom; zoom >= this.options.minZoom; zoom--) {\n            var topLeft = this$1$1.locationToLayer(extent.nw, zoom);\n            var bottomRight = this$1$1.locationToLayer(extent.se, zoom);\n            var layerWidth = math.abs(bottomRight.x - topLeft.x);\n            var layerHeight = math.abs(bottomRight.y - topLeft.y);\n\n            if (layerWidth <= width && layerHeight <= height) {\n                break;\n            }\n        }\n\n        this.zoom(zoom);\n    };\n\n    Map.prototype._getExtent = function _getExtent () {\n        var nw = this._getOrigin();\n        var bottomRight = this.locationToLayer(nw);\n        var size = this.viewSize();\n\n        bottomRight.x += size.width;\n        bottomRight.y += size.height;\n\n        var se = this.layerToLocation(bottomRight);\n\n        return new Extent(nw, se);\n    };\n\n    Map.prototype._zoomAround = function _zoomAround (pivot, level) {\n        this._setOrigin(this.layerToLocation(pivot, level), level);\n        this.zoom(level);\n    };\n\n    Map.prototype._initControls = function _initControls () {\n        var controls = this.options.controls;\n        if (controls.attribution) {\n            this._createAttribution(controls.attribution);\n        }\n\n        if (!this.support.mobileOS) {\n            if (controls.navigator) {\n                this._createNavigator(controls.navigator);\n            }\n\n            if (controls.zoom) {\n                this._createZoomControl(controls.zoom);\n            }\n        }\n    };\n\n    Map.prototype._createControlElement = function _createControlElement (options, defaultPosition) {\n        var pos = options.position || defaultPosition;\n        var posSelector = '.' + renderPos(pos).replace(' ', '.');\n        var wrap = this.element.querySelector('.k-map-controls' + posSelector) || [];\n\n        if (wrap.length === 0) {\n            var div$1 = document.createElement(\"div\");\n            addClass(div$1, 'k-map-controls ' + renderPos(pos));\n            wrap = div$1;\n            this.element.appendChild(wrap);\n        }\n\n        var div = document.createElement(\"div\");\n\n        wrap.appendChild(div);\n\n        return div;\n    };\n\n    Map.prototype._createAttribution = function _createAttribution (options) {\n        var element = this._createControlElement(options, 'bottomRight');\n        this.attribution = new Attribution(element, options);\n    };\n\n    Map.prototype._createNavigator = function _createNavigator (options) {\n        var element = this._createControlElement(options, 'topLeft');\n        var navigator = this.navigator = new Navigator(element, deepExtend({}, options, { icons: this.options.icons }));\n\n        this._navigatorPan = this._navigatorPan.bind(this);\n        navigator.bind('pan', this._navigatorPan);\n\n        this._navigatorCenter = this._navigatorCenter.bind(this);\n        navigator.bind('center', this._navigatorCenter);\n    };\n\n    Map.prototype._navigatorPan = function _navigatorPan (e) {\n        var scroller = this.scroller;\n        var x = scroller.scrollLeft + e.x;\n        var y = scroller.scrollTop - e.y;\n        var bounds = this._virtualSize;\n        var width = this.element.clientWidth;\n        var height = this.element.clientHeight;\n\n        // TODO: Move limits to scroller\n        x = limitValue(x, bounds.x.min, bounds.x.max - width);\n        y = limitValue(y, bounds.y.min, bounds.y.max - height);\n\n        this.scroller.one('scroll', proxy(this._scrollEnd, this));\n\n        this.scroller.scrollTo(-x, -y);\n    };\n\n    Map.prototype._navigatorCenter = function _navigatorCenter () {\n        this.center(this.options.center);\n    };\n\n    Map.prototype._createZoomControl = function _createZoomControl (options) {\n        var element = this._createControlElement(options, 'topLeft');\n        var zoomControl = this.zoomControl = new ZoomControl(element, options, this.options.icons);\n\n        this._zoomControlChange = this._zoomControlChange.bind(this);\n        zoomControl.bind('change', this._zoomControlChange);\n    };\n\n    Map.prototype._zoomControlChange = function _zoomControlChange (e) {\n        if (!this.trigger('zoomStart', { originalEvent: e })) {\n            this.zoom(this.zoom() + e.delta);\n\n            this.trigger('zoomEnd', {\n                originalEvent: e\n            });\n        }\n    };\n\n    Map.prototype._initScroller = function _initScroller () {\n        var friction = this.support.mobileOS ? FRICTION_MOBILE : FRICTION;\n        var zoomable = this.options.zoomable !== false;\n        var scroller = this.scroller = new Scroller(this.element.children[0], {\n            friction: friction,\n            velocityMultiplier: VELOCITY_MULTIPLIER,\n            zoom: zoomable,\n            mousewheelScrolling: false,\n            supportDoubleTap: true\n        });\n\n        scroller.bind('scroll', proxy(this._scroll, this));\n        scroller.bind('scrollEnd', proxy(this._scrollEnd, this));\n\n        scroller.userEvents.bind('gesturestart', proxy(this._scaleStart, this));\n        scroller.userEvents.bind('gestureend', proxy(this._scale, this));\n        scroller.userEvents.bind('doubleTap', proxy(this._doubleTap, this));\n        scroller.userEvents.bind('tap', proxy(this._tap, this));\n\n        this.scrollElement = scroller.scrollElement;\n    };\n\n    Map.prototype._initLayers = function _initLayers () {\n        var this$1$1 = this;\n\n        var defs = this.options.layers,\n            layers = this.layers = [];\n\n        for (var i = 0; i < defs.length; i++) {\n            var options = defs[i];\n\n            var layer = this$1$1._createLayer(options);\n            layers.push(layer);\n        }\n    };\n\n    Map.prototype._createLayer = function _createLayer (options) {\n        var type = options.type || 'shape';\n        var layerDefaults = this.options.layerDefaults[type];\n        var layerOptions = type === MARKER ?\n            deepExtend({}, this.options.markerDefaults, options, { icons: this.options.icons }) :\n            deepExtend({}, layerDefaults, options);\n\n        var layerConstructor = layersMap[type];\n        var layer = new layerConstructor(this, layerOptions);\n\n        if (type === MARKER) {\n            this.markers = layer;\n        }\n\n        return layer;\n    };\n\n    Map.prototype._createTooltip = function _createTooltip () {\n        return new Tooltip(this.widgetService, this.options.tooltip);\n    };\n\n    /* eslint-disable arrow-body-style */\n    Map.prototype._initMarkers = function _initMarkers () {\n        var markerLayers = (this.options.layers || []).filter(function (x) {\n            return x && x.type === MARKER;\n        });\n\n        if (markerLayers.length > 0) {\n            // render the markers from options.layers\n            // instead of options.markers\n            return;\n        }\n\n        this.markers = new MarkerLayer(this, deepExtend({}, this.options.markerDefaults, { icons: this.options.icons }));\n        this.markers.add(this.options.markers);\n    };\n    /* eslint-enable arrow-body-style */\n\n    Map.prototype._scroll = function _scroll (e) {\n        var origin = this.locationToLayer(this._viewOrigin).round();\n        var movable = e.sender.movable;\n        var offset = new Point$6(movable.x, movable.y).scale(-1).scale(1 / movable.scale);\n\n        origin.x += offset.x;\n        origin.y += offset.y;\n        this._scrollOffset = offset;\n\n        this._tooltip.offset = offset;\n        this.hideTooltip();\n\n        this._setOrigin(this.layerToLocation(origin));\n\n        this.trigger('pan', {\n            originalEvent: e,\n            origin: this._getOrigin(),\n            center: this.center()\n        });\n    };\n\n    Map.prototype._scrollEnd = function _scrollEnd (e) {\n        if (!this._scrollOffset || !this._panComplete()) {\n            return;\n        }\n\n        this._scrollOffset = null;\n        this._panEndTimestamp = now();\n\n        this.trigger('panEnd', {\n            originalEvent: e,\n            origin: this._getOrigin(),\n            center: this.center()\n        });\n    };\n\n    Map.prototype._panComplete = function _panComplete () {\n        return now() - (this._panEndTimestamp || 0) > 50;\n    };\n\n    Map.prototype._scaleStart = function _scaleStart (e) {\n        if (this.trigger('zoomStart', { originalEvent: e })) {\n            var touch = e.touches[1];\n\n            if (touch) {\n                touch.cancel();\n            }\n        }\n    };\n\n    Map.prototype._scale = function _scale (e) {\n        var scale = this.scroller.movable.scale;\n        var zoom = this._scaleToZoom(scale);\n        var gestureCenter = new Point$6(e.center.x, e.center.y);\n        var centerLocation = this.viewToLocation(gestureCenter, zoom);\n        var centerPoint = this.locationToLayer(centerLocation, zoom);\n        var originPoint = centerPoint.translate(-gestureCenter.x, -gestureCenter.y);\n\n        this._zoomAround(originPoint, zoom);\n\n        this.trigger('zoomEnd', {\n            originalEvent: e\n        });\n    };\n\n    Map.prototype._scaleToZoom = function _scaleToZoom (scaleDelta) {\n        var scale = this._layerSize() * scaleDelta;\n        var tiles = scale / this.options.minSize;\n        var zoom = math.log(tiles) / math.log(2);\n\n        return math.round(zoom);\n    };\n\n    Map.prototype._reset = function _reset () {\n        if (this.attribution) {\n            this.attribution.filter(this.center(), this.zoom());\n        }\n\n        this._viewOrigin = this._getOrigin(true);\n\n        this._resetScroller();\n        this.hideTooltip();\n\n        this.trigger('beforeReset');\n        this.trigger('reset');\n    };\n\n    Map.prototype._resetScroller = function _resetScroller () {\n        var scroller = this.scroller;\n        var x = scroller.dimensions.x;\n        var y = scroller.dimensions.y;\n        var scale = this._layerSize();\n        var nw = this.extent().nw;\n        var topLeft = this.locationToLayer(nw).round();\n\n        scroller.movable.round = true;\n        scroller.reset();\n        scroller.userEvents.cancel();\n\n        var zoom = this.zoom();\n\n        scroller.dimensions.forcedMinScale = pow(2, this.options.minZoom - zoom);\n        scroller.dimensions.maxScale = pow(2, this.options.maxZoom - zoom);\n\n        var xBounds = {\n            min: -topLeft.x,\n            max: scale - topLeft.x\n        };\n\n        var yBounds = {\n            min: -topLeft.y,\n            max: scale - topLeft.y\n        };\n\n        if (this.options.wraparound) {\n            xBounds.max = 20 * scale;\n            xBounds.min = -xBounds.max;\n        }\n\n        if (this.options.pannable === false) {\n            var viewSize = this.viewSize();\n            xBounds.min = yBounds.min = 0;\n            xBounds.max = viewSize.width;\n            yBounds.max = viewSize.height;\n        }\n\n        x.makeVirtual();\n        y.makeVirtual();\n\n        x.virtualSize(xBounds.min, xBounds.max);\n        y.virtualSize(yBounds.min, yBounds.max);\n\n        this._virtualSize = {\n            x: xBounds,\n            y: yBounds\n        };\n    };\n\n    // kept for API compatibility, not used\n    Map.prototype._renderLayers = function _renderLayers () {\n    };\n\n    Map.prototype._layerSize = function _layerSize (zoom) {\n        var newZoom = valueOrDefault(zoom, this.options.zoom);\n        return this.options.minSize * pow(2, newZoom);\n    };\n\n    Map.prototype._tap = function _tap (e) {\n        if (!this._panComplete()) {\n            return;\n        }\n\n        var cursor = this.eventOffset(e);\n        this.hideTooltip();\n\n        this.trigger('click', {\n            originalEvent: e,\n            location: this.viewToLocation(cursor)\n        });\n    };\n\n    Map.prototype._doubleTap = function _doubleTap (e) {\n        var options = this.options;\n\n        if (options.zoomable !== false) {\n            if (!this.trigger('zoomStart', { originalEvent: e })) {\n                var toZoom = this.zoom() + DEFAULT_ZOOM_RATE;\n                var cursor = this.eventOffset(e);\n                var location = this.viewToLocation(cursor);\n                var postZoom = this.locationToLayer(location, toZoom);\n                var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n                this._zoomAround(origin, toZoom);\n\n                this.trigger('zoomEnd', {\n                    originalEvent: e\n                });\n            }\n        }\n    };\n\n    Map.prototype._mousewheel = function _mousewheel (e) {\n        var delta = mousewheelDelta(e) > 0 ? -1 : 1;\n        var options = this.options;\n        var fromZoom = this.zoom();\n        var toZoom = limitValue(fromZoom + delta, options.minZoom, options.maxZoom);\n\n        if (options.zoomable !== false && toZoom !== fromZoom) {\n            if (!this.trigger('zoomStart', { originalEvent: e })) {\n                var cursor = this.eventOffset(e);\n                var location = this.viewToLocation(cursor);\n                var postZoom = this.locationToLayer(location, toZoom);\n                var origin = postZoom.translate(-cursor.x, -cursor.y);\n\n                this._zoomAround(origin, toZoom);\n\n                this.trigger('zoomEnd', {\n                    originalEvent: e\n                });\n            }\n        }\n    };\n\n    Map.prototype._toDocumentCoordinates = function _toDocumentCoordinates (point) {\n        var offset = elementOffset(this.element);\n\n        return {\n            left: round$1(point.x + offset.left),\n            top: round$1(point.y + offset.top)\n        };\n    };\n\n    return Map;\n}(Observable));\n\nsetDefaultOptions(Map$1, {\n    name: 'Map',\n    controls: {\n        attribution: true,\n        navigator: {\n            panStep: 100\n        },\n        zoom: true\n    },\n    layers: [],\n    layerDefaults: {\n        shape: {\n            style: {\n                fill: {\n                    color: '#fff'\n                },\n                stroke: {\n                    color: '#aaa',\n                    width: 0.5\n                }\n            }\n        },\n        bubble: {\n            style: {\n                fill: {\n                    color: '#fff',\n                    opacity: 0.5\n                },\n                stroke: {\n                    color: '#aaa',\n                    width: 0.5\n                }\n            }\n        },\n        marker: {\n            shape: 'pinTarget',\n            tooltip: {\n                position: 'top'\n            }\n        }\n    },\n    center: [\n        0,\n        0\n    ],\n    icons: {\n        type: \"font\",\n        svgIcons: {}\n    },\n    zoom: 3,\n    minSize: 256,\n    minZoom: 1,\n    maxZoom: 19,\n    markers: [],\n    markerDefaults: {\n        shape: 'pinTarget',\n        tooltip: {\n            position: 'top'\n        }\n    },\n    wraparound: true,\n    // If set to true, GeoJSON layer \"Point\" features will be rendered as markers.\n    // Otherwise, the points will be rendered as circles.\n    // Defaults to `true` for KUI/jQuery, `false` everywhere else.\n    renderPointsAsMarkers: false\n});\n\nsetDefaultEvents(Map$1, [\n    'beforeReset',\n    'click',\n    'markerActivate',\n    'markerClick',\n    'markerCreated',\n\n    // Events for implementing custom tooltips.\n    'markerMouseEnter',\n    'markerMouseLeave',\n\n    'pan',\n    'panEnd',\n    'reset',\n    'shapeClick',\n    'shapeCreated',\n    'shapeFeatureCreated',\n    'shapeMouseEnter',\n    'shapeMouseLeave',\n    'zoomEnd',\n    'zoomStart'\n]);\n\nvar max = function (array, mapFn) { return Math.max.apply(null, array.map(mapFn)); };\nvar min = function (array, mapFn) { return Math.min.apply(null, array.map(mapFn)); };\nvar sum = function (array, mapFn) { return array.map(mapFn).reduce(function (acc, curr) { return (acc + curr); }, 0); };\nvar sortAsc = function (a, b) { return (a.y0 === b.y0 ? a.index - b.index : a.y0 + a.y1 - b.y0 - b.y1); };\nvar sortSource = function (a, b) { return sortAsc(a.source, b.source); };\nvar sortTarget = function (a, b) { return sortAsc(a.target, b.target); };\nvar value = function (node) { return node.value; };\n\nfunction sortLinks(nodes) {\n    nodes.forEach(function (node) {\n        node.targetLinks.forEach(function (link) {\n            link.source.sourceLinks.sort(sortTarget);\n        });\n        node.sourceLinks.forEach(function (link) {\n            link.target.targetLinks.sort(sortSource);\n        });\n    });\n}\n\nvar calcLayer = function (node, maxDepth) {\n    if (node.align === 'left') {\n        return node.depth;\n    }\n\n    if (node.align === 'right') {\n        return maxDepth - node.height;\n    }\n\n    return node.sourceLinks.length ? node.depth : maxDepth;\n};\n\nvar Sankey$1 = function Sankey(options) {\n    var ref = options.nodesOptions;\n    var offset = ref.offset; if ( offset === void 0 ) offset = {};\n    var align = ref.align;\n    this.data = {\n        nodes: options.nodes.map(function (node) { return deepExtend({}, { offset: offset, align: align }, node); }),\n        links: options.links.map(function (link) { return deepExtend({}, link); })\n    };\n\n    this.width = options.width;\n    this.height = options.height;\n    this.offsetX = options.offsetX || 0;\n    this.offsetY = options.offsetY || 0;\n    this.nodeWidth = options.nodesOptions.width;\n    this.nodePadding = options.nodesOptions.padding;\n    this.reverse = options.reverse;\n    this.targetColumnIndex = options.targetColumnIndex;\n    this.loops = options.loops;\n    this.autoLayout = options.autoLayout;\n};\n\nSankey$1.prototype.calculate = function calculate () {\n    var ref = this.data;\n        var nodes = ref.nodes;\n        var links = ref.links;\n    this.connectLinksToNodes(nodes, links);\n    this.calculateNodeValues(nodes);\n\n    var circularLinks = this.calculateNodeHeights(nodes);\n\n    if (circularLinks) {\n        return { nodes: [], links: [], columns: [], circularLinks: circularLinks };\n    }\n\n    this.calculateNodeDepths(nodes);\n    var columns = this.calculateNodeColumns(nodes);\n    this.calculateNodeBreadths(columns);\n    this.applyNodesOffset(nodes);\n    this.calculateLinkBreadths(nodes);\n\n    return Object.assign({}, this.data, {columns: columns});\n};\n\nSankey$1.prototype.connectLinksToNodes = function connectLinksToNodes (nodes, links) {\n    var nodesMap = new Map();\n\n    nodes.forEach(function (node, i) {\n        node.index = i;\n        node.sourceLinks = [];\n        node.targetLinks = [];\n        node.id = node.id !== undefined ? node.id : node.label.text;\n        nodesMap.set(node.id, node);\n    });\n\n    links.forEach(function (link) {\n        link.source = nodesMap.get(link.sourceId);\n        link.target = nodesMap.get(link.targetId);\n        link.source.sourceLinks.push(link);\n        link.target.targetLinks.push(link);\n    });\n};\n\nSankey$1.prototype.calculateNodeValues = function calculateNodeValues (nodes) {\n    nodes.forEach(function (node) {\n        node.value = Math.max(\n            sum(node.sourceLinks, value),\n            sum(node.targetLinks, value)\n        );\n    });\n};\n\nSankey$1.prototype.calculateNodeDepths = function calculateNodeDepths (nodes) {\n    var current = new Set(nodes);\n    var next = new Set();\n    var currDepth = 0;\n    while (current.size) {\n        var currentNodes = Array.from(current);\n        for (var n = 0; n < currentNodes.length; n++) {\n            var node = currentNodes[n];\n            node.depth = currDepth;\n            for (var l = 0; l < node.sourceLinks.length; l++) {\n                var link = node.sourceLinks[l];\n                next.add(link.target);\n            }\n        }\n        currDepth++;\n        current = next;\n        next = new Set();\n    }\n};\n\nSankey$1.prototype.calculateNodeHeights = function calculateNodeHeights (nodes) {\n    var nodesLength = nodes.length;\n    var current = new Set(nodes);\n    var next = new Set;\n    var currentHeight = 0;\n    var eachNode = function (node) {\n        node.height = currentHeight;\n        node.targetLinks.forEach(function (link) {\n            next.add(link.source);\n        });\n    };\n    while (current.size) {\n        current.forEach(eachNode);\n        currentHeight++;\n        if (currentHeight > nodesLength) {\n            return true;\n        }\n        current = next;\n        next = new Set;\n    }\n    return false;\n};\n\nSankey$1.prototype.calculateNodeColumns = function calculateNodeColumns (nodes) {\n        var this$1$1 = this;\n\n    var maxDepth = max(nodes, function (d) { return d.depth; });\n    var columnWidth = (this.width - this.offsetX - this.nodeWidth) / maxDepth;\n    var columns = new Array(maxDepth + 1);\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var layer = Math.max(0, Math.min(maxDepth, calcLayer(node, maxDepth)));\n        node.x0 = this$1$1.offsetX + layer * columnWidth;\n        node.x1 = node.x0 + this$1$1.nodeWidth;\n        node.layer = layer;\n        columns[layer] = columns[layer] || [];\n        columns[layer].push(node);\n    }\n\n    return columns;\n};\n\nSankey$1.prototype.calculateNodeBreadths = function calculateNodeBreadths (columns) {\n        var this$1$1 = this;\n\n    var kSize = min(columns, function (c) { return (this$1$1.height - this$1$1.offsetY - (c.length - 1) * this$1$1.nodePadding) / sum(c, value); });\n\n    columns.forEach(function (nodes) {\n        var y = this$1$1.offsetY;\n        nodes.forEach(function (node) {\n            node.y0 = y;\n            node.y1 = y + node.value * kSize;\n            y = node.y1 + this$1$1.nodePadding;\n            node.sourceLinks.forEach(function (link) {\n                link.width = link.value * kSize;\n            });\n        });\n        y = (this$1$1.height - y + this$1$1.nodePadding) / (nodes.length + 1);\n        nodes.forEach(function (node, i) {\n            node.y0 += y * (i + 1);\n            node.y1 += y * (i + 1);\n        });\n    });\n\n    if (this.autoLayout !== false) {\n        var loops = this.loops !== undefined ? this.loops : columns.length - 1;\n        var targetColumnIndex = this.targetColumnIndex || 1;\n\n        for (var i = 0; i < loops; i++) {\n            if (!this$1$1.reverse) {\n                this$1$1.uncurlLinksToLeft(columns, targetColumnIndex);\n                this$1$1.uncurlLinksToRight(columns, targetColumnIndex);\n            } else {\n                this$1$1.uncurlLinksToRight(columns, targetColumnIndex);\n                this$1$1.uncurlLinksToLeft(columns, targetColumnIndex);\n            }\n        }\n    }\n\n    columns.forEach(sortLinks);\n};\n\nSankey$1.prototype.applyNodesOffset = function applyNodesOffset (nodes) {\n    nodes.forEach(function (node) {\n        var offsetX = (node.offset ? node.offset.left : 0) || 0;\n        var offsetY = (node.offset ? node.offset.top : 0) || 0;\n        node.x0 += offsetX;\n        node.x1 += offsetX;\n        node.y0 += offsetY;\n        node.y1 += offsetY;\n    });\n};\n\nSankey$1.prototype.calculateLinkBreadths = function calculateLinkBreadths (nodes) {\n    nodes.forEach(function (node) {\n        var sourceLinks = node.sourceLinks;\n            var targetLinks = node.targetLinks;\n        var y = node.y0;\n        var y1 = y;\n        sourceLinks.forEach(function (link) {\n            link.x0 = link.source.x1;\n            link.y0 = y + link.width / 2;\n            y += link.width;\n        });\n        targetLinks.forEach(function (link) {\n            link.x1 = link.target.x0;\n            link.y1 = y1 + link.width / 2;\n            y1 += link.width;\n        });\n    });\n};\n\nSankey$1.prototype.uncurlLinksToRight = function uncurlLinksToRight (columns, targetColumnIndex) {\n        var this$1$1 = this;\n\n    var n = columns.length;\n    for (var i = targetColumnIndex; i < n; i++) {\n        var column = columns[i];\n        column.forEach(function (target) {\n            var y = 0;\n            var sum = 0;\n            target.targetLinks.forEach(function (link) {\n                var kValue = link.value * (target.layer - link.source.layer);\n                y += this$1$1.targetTopPos(link.source, target) * kValue;\n                sum += kValue;\n            });\n\n            var dy = y === 0 ? 0 : (y / sum - target.y0);\n            target.y0 += dy;\n            target.y1 += dy;\n            sortLinks([target]);\n        });\n        column.sort(sortAsc);\n        this$1$1.arrangeNodesVertically(column);\n    }\n};\n\nSankey$1.prototype.uncurlLinksToLeft = function uncurlLinksToLeft (columns, targetColumnIndex) {\n        var this$1$1 = this;\n\n    var l = columns.length;\n    var startIndex = l - 1 - targetColumnIndex;\n    for (var i = startIndex; i >= 0; i--) {\n        var column = columns[i];\n        var loop = function ( j ) {\n            var source = column[j];\n            var y = 0;\n            var sum = 0;\n            source.sourceLinks.forEach(function (link) {\n                var kValue = link.value * (link.target.layer - source.layer);\n                y += this$1$1.sourceTopPos(source, link.target) * kValue;\n                sum += kValue;\n            });\n            var dy = y === 0 ? 0 : (y / sum - source.y0);\n            source.y0 += dy;\n            source.y1 += dy;\n            sortLinks([source]);\n        };\n\n            for (var j = 0; j < column.length; j++) loop( j );\n\n        column.sort(sortAsc);\n        this$1$1.arrangeNodesVertically(column);\n    }\n};\n\nSankey$1.prototype.arrangeNodesVertically = function arrangeNodesVertically (nodes) {\n    var startIndex = 0;\n    var endIndex = nodes.length - 1;\n\n    this.arrangeUp(nodes, this.height, endIndex);\n    this.arrangeDown(nodes, this.offsetY, startIndex);\n};\n\nSankey$1.prototype.arrangeDown = function arrangeDown (nodes, yPos, index) {\n        var this$1$1 = this;\n\n    var currentY = yPos;\n\n    for (var i = index; i < nodes.length; i++) {\n        var node = nodes[i];\n        var dy = Math.max(0, currentY - node.y0);\n        node.y0 += dy;\n        node.y1 += dy;\n        currentY = node.y1 + this$1$1.nodePadding;\n    }\n};\n\nSankey$1.prototype.arrangeUp = function arrangeUp (nodes, yPos, index) {\n        var this$1$1 = this;\n\n    var currentY = yPos;\n    for (var i = index; i >= 0; --i) {\n        var node = nodes[i];\n        var dy = Math.max(0, node.y1 - currentY);\n        node.y0 -= dy;\n        node.y1 -= dy;\n        currentY = node.y0 - this$1$1.nodePadding;\n    }\n};\n\nSankey$1.prototype.sourceTopPos = function sourceTopPos (source, target) {\n        var this$1$1 = this;\n\n    var y = target.y0 - ((target.targetLinks.length - 1) * this.nodePadding) / 2;\n    for (var i = 0; i < target.targetLinks.length; i++) {\n        var link = target.targetLinks[i];\n        if (link.source === source) {\n            break;\n        }\n        y += link.width + this$1$1.nodePadding;\n    }\n    for (var i$1 = 0; i$1 < source.sourceLinks.length; i$1++) {\n        var link$1 = source.sourceLinks[i$1];\n        if (link$1.target === target) {\n            break;\n        }\n        y -= link$1.width;\n    }\n    return y;\n};\n\nSankey$1.prototype.targetTopPos = function targetTopPos (source, target) {\n        var this$1$1 = this;\n\n    var y = source.y0 - ((source.sourceLinks.length - 1) * this.nodePadding) / 2;\n    for (var i = 0; i < source.sourceLinks.length; i++) {\n        var link = source.sourceLinks[i];\n        if (link.target === target) {\n            break;\n        }\n        y += link.width + this$1$1.nodePadding;\n    }\n    for (var i$1 = 0; i$1 < target.targetLinks.length; i$1++) {\n        var link$1 = target.targetLinks[i$1];\n        if (link$1.source === source) {\n            break;\n        }\n        y -= link$1.width;\n    }\n    return y;\n};\n\nvar calculateSankey = function (options) { return new Sankey$1(options).calculate(); };\n\nvar crossesValue = function (links) {\n    var value = 0;\n    var linksLength = links.length;\n\n    for (var i = 0; i < linksLength; i++) {\n        var link = links[i];\n\n        for (var lNext = i + 1; lNext < linksLength; lNext++) {\n            var nextLink = links[lNext];\n\n            if (intersect(link, nextLink)) {\n                value += Math.min(link.value, nextLink.value);\n            }\n        }\n    }\n\n    return value;\n};\n\nfunction rotationDirection(p1x, p1y, p2x, p2y, p3x, p3y) {\n    var expression1 = (p3y - p1y) * (p2x - p1x);\n    var expression2 = (p2y - p1y) * (p3x - p1x);\n\n    if (expression1 > expression2) {\n        return 1;\n    } else if (expression1 === expression2) {\n        return 0;\n    }\n\n    return -1;\n}\n\nfunction intersect(link1, link2) {\n    var f1 = rotationDirection(link1.x0, link1.y0, link1.x1, link1.y1, link2.x1, link2.y1);\n    var f2 = rotationDirection(link1.x0, link1.y0, link1.x1, link1.y1, link2.x0, link2.y0);\n    var f3 = rotationDirection(link1.x0, link1.y0, link2.x0, link2.y0, link2.x1, link2.y1);\n    var f4 = rotationDirection(link1.x1, link1.y1, link2.x0, link2.y0, link2.x1, link2.y1);\n\n    return f1 !== f2 && f3 !== f4;\n}\n\nvar SankeyElement = (function (Class) {\n    function SankeyElement(options) {\n        Class.call(this);\n        this.options = deepExtend({}, this.options, options);\n        this.createVisual();\n    }\n\n    if ( Class ) SankeyElement.__proto__ = Class;\n    SankeyElement.prototype = Object.create( Class && Class.prototype );\n    SankeyElement.prototype.constructor = SankeyElement;\n\n    SankeyElement.prototype.createVisual = function createVisual () {\n        this.visual = this.createElement();\n    };\n\n    SankeyElement.prototype.exportVisual = function exportVisual () {\n        return this.visual;\n    };\n\n    SankeyElement.prototype.createElement = function createElement () {\n        var this$1$1 = this;\n\n        var customVisual = this.options.visual;\n        var visual;\n\n        if (customVisual) {\n            visual = customVisual({\n                sender: this.getSender(),\n                options: this.visualOptions(),\n                createVisual: function () { return this$1$1.getElement(); }\n            });\n        } else {\n            visual = this.getElement();\n        }\n\n        return visual;\n    };\n\n    SankeyElement.prototype.getSender = function getSender () {\n        return this;\n    };\n\n    return SankeyElement;\n}(Class));\n\nvar Node = (function (SankeyElement) {\n    function Node () {\n        SankeyElement.apply(this, arguments);\n    }\n\n    if ( SankeyElement ) Node.__proto__ = SankeyElement;\n    Node.prototype = Object.create( SankeyElement && SankeyElement.prototype );\n    Node.prototype.constructor = Node;\n\n    Node.prototype.getElement = function getElement () {\n        return Path$7.fromRect(this.getRect(), this.visualOptions());\n    };\n\n    Node.prototype.getRect = function getRect () {\n        var node = this.options.node;\n        return new Rect([node.x0, node.y0], [node.x1 - node.x0, node.y1 - node.y0]);\n    };\n\n    Node.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = options.labels.ariaTemplate;\n\n        if (labelTemplate) {\n            return labelTemplate({ node: options.node });\n        }\n    };\n\n    Node.prototype.visualOptions = function visualOptions () {\n        var options = deepExtend({}, this.options, this.options.node);\n        var ariaLabel = this.getLabelText(options);\n\n        return {\n            fill: {\n                color: options.color,\n                opacity: options.opacity\n            },\n            stroke: { width: 0 },\n            className: 'k-sankey-node',\n            role: 'graphics-symbol',\n            ariaRoleDescription: 'Node',\n            ariaLabel: ariaLabel\n        };\n    };\n\n    Node.prototype.createFocusHighlight = function createFocusHighlight () {\n        if (!this.options.navigatable) {\n            return;\n        }\n\n        this._highlight = Path$7.fromRect(this.getRect(), {\n            stroke: this.options.focusHighlight,\n            visible: false\n        });\n\n        return this._highlight;\n    };\n\n    Node.prototype.focus = function focus (options) {\n        if (this._highlight) {\n            var ref = options || {};\n            var highlight = ref.highlight; if ( highlight === void 0 ) highlight = true;\n            if (highlight) {\n                this._highlight.options.set('visible', true);\n            }\n            var id = this.options.node.id;\n            this.visual.options.set('id', id);\n\n            if (this.options.root()) {\n                this.options.root().setAttribute(ARIA_ACTIVE_DESCENDANT, id);\n            }\n        }\n    };\n\n    Node.prototype.blur = function blur () {\n        if (this._highlight) {\n            this._highlight.options.set('visible', false);\n            this.visual.options.set('id', '');\n\n            if (this.options.root()) {\n                this.options.root().removeAttribute(ARIA_ACTIVE_DESCENDANT);\n            }\n        }\n    };\n\n    return Node;\n}(SankeyElement));\n\nvar nodeColor = function (node, nodeColors, index) { return node.color || nodeColors[index % nodeColors.length]; };\n\nvar resolveNodeOptions = function (node, options, nodeColors, index) {\n    var nodeOptions = deepExtend({}, options, options.node);\n    return deepExtend({},\n        { color: nodeColor(node, nodeColors, index) },\n        nodeOptions,\n        { node: node },\n        {\n            visual: node.visual,\n            opacity: node.opacity,\n            offset: node.offset,\n            color: node.color\n        }\n    );\n};\n\nvar distanceToLine = function (line, point) {\n    var ref = line[0];\n    var x1 = ref[0];\n    var y1 = ref[1];\n    var ref$1 = line[1];\n    var x2 = ref$1[0];\n    var y2 = ref$1[1];\n    var x3 = point[0];\n    var y3 = point[1];\n\n    return Math.abs((x2 - x1) * (y3 - y1) - (x3 - x1) * (y2 - y1)) / Math.sqrt(Math.pow( (x2 - x1), 2 ) + Math.pow( (y2 - y1), 2 ));\n};\n\nvar bezierPoint = function (p1, p2, p3, p4, t) {\n    var t1 = 1 - t;\n    var t1t1 = t1 * t1;\n    var tt = t * t;\n    return (p1 * t1t1 * t1) + (3 * p2 * t * t1t1) + (3 * p3 * tt * t1) + (p4 * tt * t);\n};\n\nvar angelBetweenTwoLines = function (line1, line2) {\n    var ref = line1[0];\n    var x1 = ref[0];\n    var y1 = ref[1];\n    var ref$1 = line1[1];\n    var x2 = ref$1[0];\n    var y2 = ref$1[1];\n    var ref$2 = line2[0];\n    var x3 = ref$2[0];\n    var y3 = ref$2[1];\n    var ref$3 = line2[1];\n    var x4 = ref$3[0];\n    var y4 = ref$3[1];\n\n    var a1 = Math.atan2(y2 - y1, x2 - x1);\n    var a2 = Math.atan2(y4 - y3, x4 - x3);\n\n    return Math.abs(a1 - a2);\n};\n\nvar calculateControlPointsOffsetX = function (link, rtl) {\n    var x0 = link.x0;\n    var x1 = link.x1;\n    var y0 = link.y0;\n    var y1 = link.y1;\n    var xC = (x0 + x1) / 2;\n\n    var width = link.width;\n    var halfWidth = width / 2;\n\n    // upper curve, t = 0.5\n    var upperCurveMiddleLine = [[(x0 + xC) / 2, y0 - halfWidth], [(x1 + xC) / 2, y1 - halfWidth]];\n\n    // for lower curve, bezier-point at t = 0.5\n    // for the case t = 0.5, the bezier-point is the middle point of the curve. => ((y0 + halfWidth) + (y1 + halfWidth)) / 2\n    var lowerCurveMiddlePoint = [xC, bezierPoint(y0 + halfWidth, y0 + halfWidth, y1 + halfWidth, y1 + halfWidth, 0.5)];\n\n    // The actual width of the link at its middle point as can be seen on the screen.\n    var actualWidth = distanceToLine(upperCurveMiddleLine, lowerCurveMiddlePoint);\n\n    var upperNarrowness = (width - actualWidth) / 2;\n\n    // The line `upperCurveMiddleLine` shows the upper border of the link.\n    // Assumption 1: Translated to the left to the desired link width and the translate value will be the `offset`.\n    // Assumption 2: The translate value is a hypotenuse of a triangle.\n    var alpha = angelBetweenTwoLines(upperCurveMiddleLine, [[x0, y0 - halfWidth], [xC, y0 - halfWidth]]);\n    var a = upperNarrowness;\n    var b = Math.sin(alpha) * a;\n    var offset = Math.sqrt(a * a + b * b);\n    // Another option is to assume the triangle is isosceles\n    // => offset = Math.sqrt(2) * upperNarrowness;\n\n    var sign = y0 - y1 > 0 ? (-1) : 1;\n    if (rtl) {\n        sign = -sign;\n    }\n\n    return sign * offset;\n};\n\nvar Link = (function (SankeyElement) {\n    function Link () {\n        SankeyElement.apply(this, arguments);\n    }\n\n    if ( SankeyElement ) Link.__proto__ = SankeyElement;\n    Link.prototype = Object.create( SankeyElement && SankeyElement.prototype );\n    Link.prototype.constructor = Link;\n\n    Link.prototype.getElement = function getElement () {\n        var link = this.options.link;\n        var x0 = link.x0;\n        var x1 = link.x1;\n        var y0 = link.y0;\n        var y1 = link.y1;\n        var xC = (x0 + x1) / 2;\n\n        return new Path$7(this.visualOptions())\n            .moveTo(x0, y0).curveTo([xC, y0], [xC, y1], [x1, y1]);\n    };\n\n    Link.prototype.getLabelText = function getLabelText (options) {\n        var labelTemplate = options.labels.ariaTemplate;\n\n        if (labelTemplate) {\n            return labelTemplate({ link: options.link });\n        }\n    };\n\n    Link.prototype.visualOptions = function visualOptions () {\n        var options = this.options;\n        var link = this.options.link;\n        var ariaLabel = this.getLabelText(options);\n\n        return {\n            stroke: {\n                width: options.link.width,\n                color: link.color || options.color,\n                opacity: defined(link.opacity) ? link.opacity : options.opacity\n            },\n            role: 'graphics-symbol',\n            ariaRoleDescription: 'Link',\n            ariaLabel: ariaLabel\n        };\n    };\n\n    Link.prototype.createFocusHighlight = function createFocusHighlight () {\n        if (!this.options.navigatable) {\n            return;\n        }\n        var ref = this.options;\n        var link = ref.link;\n        var rtl = ref.rtl;\n        var x0 = link.x0;\n        var x1 = link.x1;\n        var y0 = link.y0;\n        var y1 = link.y1;\n        var xC = (x0 + x1) / 2;\n        var halfWidth = link.width / 2;\n\n        var offset = calculateControlPointsOffsetX(link, rtl);\n\n        this._highlight = new Path$7({ stroke: this.options.focusHighlight, visible: false })\n            .moveTo(x0, y0 + halfWidth)\n            .lineTo(x0, y0 - halfWidth)\n            .curveTo([xC + offset, y0 - halfWidth], [xC + offset, y1 - halfWidth], [x1, y1 - halfWidth])\n            .lineTo(x1, y1 + halfWidth)\n            .curveTo([xC - offset, y1 + halfWidth], [xC - offset, y0 + halfWidth], [x0, y0 + halfWidth]);\n    };\n\n    Link.prototype.focus = function focus (options) {\n        if (this._highlight) {\n            var ref = options || {};\n            var highlight = ref.highlight; if ( highlight === void 0 ) highlight = true;\n            if (highlight) {\n                this._highlight.options.set('visible', true);\n            }\n            var id = (this.options.link.sourceId) + \"->\" + (this.options.link.targetId);\n            this.visual.options.set('id', id);\n\n            if (this.options.root()) {\n                this.options.root().setAttribute(ARIA_ACTIVE_DESCENDANT, id);\n            }\n        }\n    };\n\n    Link.prototype.blur = function blur () {\n        if (this._highlight) {\n            this._highlight.options.set('visible', false);\n            this.visual.options.set('id', '');\n\n            if (this.options.root()) {\n                this.options.root().removeAttribute(ARIA_ACTIVE_DESCENDANT);\n            }\n        }\n    };\n\n    return Link;\n}(SankeyElement));\n\nvar resolveLinkOptions = function (link, options, sourceNode, targetNode) {\n    var linkOptions = deepExtend({},\n        options,\n        {\n            link: link,\n            opacity: link.opacity,\n            color: link.color,\n            colorType: link.colorType,\n            visual: link.visual,\n            highlight: link.highlight\n        }\n    );\n\n    if (linkOptions.colorType === 'source') {\n        linkOptions.color = sourceNode.options.fill.color;\n    } else if (linkOptions.colorType === 'target') {\n        linkOptions.color = targetNode.options.fill.color;\n    }\n\n    return linkOptions;\n};\n\nvar INSIDE = 'inside';\nvar BEFORE = 'before';\nvar AFTER = 'after';\n\nvar Label = (function (SankeyElement) {\n    function Label () {\n        SankeyElement.apply(this, arguments);\n    }\n\n    if ( SankeyElement ) Label.__proto__ = SankeyElement;\n    Label.prototype = Object.create( SankeyElement && SankeyElement.prototype );\n    Label.prototype.constructor = Label;\n\n    Label.prototype.getElement = function getElement () {\n        var options = deepExtend({}, this.options, this.options.node.label);\n        var node = options.node;\n        var diagramMinX = options.diagramMinX;\n        var diagramMaxX = options.diagramMaxX;\n        var text = options.text;\n        var offset = options.offset;\n        var rtl = options.rtl;\n        var position = options.position;\n        if (rtl && position !== INSIDE) {\n            position = position === BEFORE ? AFTER : BEFORE;\n        }\n\n        if (!options.visible || !text) {\n            return null;\n        }\n\n        var nodeBox = new Box(node.x0, node.y0, node.x1, node.y1);\n        var visualOptions = this.visualOptions();\n        if (rtl && !visualOptions.align) {\n            visualOptions.align = 'right';\n        }\n        var textbox = new TextBox(text, visualOptions);\n        textbox.reflow(new Box());\n        var textSizeBox = textbox.box;\n        var textY = nodeBox.center().y - (textSizeBox.height() / 2);\n\n        var labelAfterLastNode = node.x1 + textSizeBox.width() > diagramMaxX;\n        var labelBeforeFirstNode = node.x0 - textSizeBox.width() < diagramMinX;\n        var side = position === BEFORE || (position === INSIDE && labelAfterLastNode) ? BEFORE : AFTER;\n        if (rtl) {\n            side = position === AFTER || (position === INSIDE && labelBeforeFirstNode) ? AFTER : BEFORE;\n        }\n        var textOrigin = [side === BEFORE ? node.x0 - textSizeBox.width() : node.x1, textY];\n\n        var textRect = new Box(textOrigin[0], textOrigin[1], textOrigin[0] + textSizeBox.width(), textOrigin[1] + textSizeBox.height());\n        textRect.translate(offset.left || 0, offset.top || 0);\n        textbox.reflow(textRect);\n\n        textbox.renderVisual();\n\n        return textbox.visual;\n    };\n\n    Label.prototype.visualOptions = function visualOptions () {\n        var options = deepExtend({}, this.options, this.options.node.label);\n        return {\n            color: options.color,\n            font: options.font,\n            border: options.border,\n            margin: options.margin,\n            padding: options.padding,\n            align: options.align,\n            paintOrder: options.paintOrder,\n            stroke: options.stroke,\n        };\n    };\n\n    return Label;\n}(SankeyElement));\n\nsetDefaultOptions(Label, {\n    position: INSIDE, // inside, before, after\n});\n\nvar resolveLabelOptions = function (node, options, rtl, diagramMinX, diagramMaxX) { return deepExtend({},\n    options,\n    {\n        node: node,\n        diagramMinX: diagramMinX,\n        diagramMaxX: diagramMaxX,\n        rtl: rtl,\n        visual: node.label.visual,\n        visible: node.label.visible,\n        margin: node.label.margin,\n        padding: node.label.padding,\n        border: node.label.border,\n        align: node.label.align,\n        offset: node.label.offset\n    }\n); };\n\nvar Title = (function (SankeyElement) {\n    function Title () {\n        SankeyElement.apply(this, arguments);\n    }\n\n    if ( SankeyElement ) Title.__proto__ = SankeyElement;\n    Title.prototype = Object.create( SankeyElement && SankeyElement.prototype );\n    Title.prototype.constructor = Title;\n\n    Title.prototype.getElement = function getElement () {\n        var options = this.options;\n        var drawingRect = options.drawingRect;\n        var text = options.text;\n\n        if (options.visible === false || !text) {\n            return null;\n        }\n\n        var title = Title$1.buildTitle(text, options);\n\n        title.reflow(drawingRect);\n\n        title.renderVisual();\n        return title.visual;\n    };\n\n    Title.prototype.createElement = function createElement () {\n        return this.getElement();\n    };\n\n    return Title;\n}(SankeyElement));\n\nsetDefaultOptions(Title, {\n    align: CENTER, // 'left', 'right', 'center'\n    border: {\n        width: 0\n    },\n    margin: getSpacing(5),\n    padding: getSpacing(5)\n});\n\nvar sortData = function (a, b) {\n    if (a.node.x0 - b.node.x0 !== 0) {\n        return a.node.x0 - b.node.x0;\n    }\n    return a.node.y0 - b.node.y0;\n};\n\nvar sortDataRTL = function (a, b) {\n    if (a.node.x1 - b.node.x1 !== 0) {\n        return a.node.x1 - b.node.x1;\n    }\n    return b.node.y0 - a.node.y0;\n};\n\nvar sort = function (rtl) { return (rtl ? sortDataRTL : sortData); };\n\nvar Legend = (function (SankeyElement) {\n    function Legend () {\n        SankeyElement.apply(this, arguments);\n    }\n\n    if ( SankeyElement ) Legend.__proto__ = SankeyElement;\n    Legend.prototype = Object.create( SankeyElement && SankeyElement.prototype );\n    Legend.prototype.constructor = Legend;\n\n    Legend.prototype.getElement = function getElement () {\n        var options = this.options;\n        var drawingRect = options.drawingRect;\n        var rtl = options.rtl;\n        var nodes = options.nodes; if ( nodes === void 0 ) nodes = [];\n        var item = options.item;\n        var position = options.position;\n\n        if (options.visible === false || !nodes.length) {\n            return null;\n        }\n\n        var data = nodes.map(function (node) { return ({\n            text: (node.label && node.label.text) || '',\n            area: {\n                background: item.areaBackground !== undefined ? item.areaBackground : node.color,\n                opacity: item.areaOpacity !== undefined ? item.areaOpacity : node.opacity\n            },\n            node: node\n        }); });\n\n        data.sort(sort(rtl));\n\n        var reverse = rtl && position !== LEFT && position !== RIGHT;\n        var legend = new Legend$1(Object.assign({}, options, {data: data, reverse: reverse}), { rtl: rtl });\n        legend.reflow(drawingRect);\n\n        legend.renderVisual();\n        return legend.visual;\n    };\n\n    Legend.prototype.createElement = function createElement () {\n        return this.getElement();\n    };\n\n    return Legend;\n}(SankeyElement));\n\nsetDefaultOptions(Legend, {\n    markers: { visible: false },\n    item: {\n        type: AREA,\n        cursor: POINTER,\n        opacity: 1\n    },\n    position: BOTTOM$1,\n    align: CENTER,\n    accessibility: {\n        role: 'presentation',\n        ariaLabel: null,\n        ariaRoleDescription: null\n    },\n    border: {\n        width: 0\n    }\n});\n\nvar LINK = 'link';\nvar NODE = 'node';\n\nvar toRtl = function (sankey) {\n    var nodes = sankey.nodes;\n    var links = sankey.links;\n    var startX = Math.min.apply(Math, nodes.map(function (node) { return node.x0; }));\n    var endX = Math.max.apply(Math, nodes.map(function (node) { return node.x1; }));\n    var width = endX - startX;\n\n    nodes.forEach(function (node) {\n        var x0 = width - (node.x1 - 2 * startX);\n        var x1 = width - (node.x0 - 2 * startX);\n        node.x0 = x0;\n        node.x1 = x1;\n    });\n\n    links.forEach(function (link) {\n        var x0 = width - (link.x1 - 2 * startX);\n        var x1 = width - (link.x0 - 2 * startX);\n        link.x1 = x0;\n        link.x0 = x1;\n    });\n};\n\nvar Sankey = (function (Observable) {\n    function Sankey(element, options, theme) {\n        Observable.call(this);\n\n        this._initTheme(theme);\n        this._setOptions(options);\n        this._initElement(element);\n        this._initSurface();\n\n        if (options && options.data) {\n            this._redraw();\n            this._initResizeObserver();\n            this._initNavigation(element);\n        }\n    }\n\n    if ( Observable ) Sankey.__proto__ = Observable;\n    Sankey.prototype = Object.create( Observable && Observable.prototype );\n    Sankey.prototype.constructor = Sankey;\n\n    Sankey.prototype.destroy = function destroy () {\n        this.unbind();\n        this._destroySurface();\n        this._destroyResizeObserver();\n\n        if (this.element) {\n            this.element.removeEventListener('keydown', this._keydownHandler);\n            this.element.removeEventListener('focus', this._focusHandler);\n            this.element.removeEventListener('mousedown', this._onDownHandler);\n            this.element.removeEventListener('touchstart', this._onDownHandler);\n            this.element.removeEventListener('pointerdown', this._onDownHandler);\n        }\n\n        this._focusState = null;\n\n        this.element = null;\n    };\n\n    Sankey.prototype._initElement = function _initElement (element) {\n        this.element = element;\n        addClass(element, [ \"k-chart\", \"k-sankey\" ]);\n        element.setAttribute('role', 'graphics-document');\n\n        var ref = this.options;\n        var title = ref.title;\n\n        if (title.text) {\n            element.setAttribute('aria-label', title.text);\n        }\n\n        if (title.description) {\n            element.setAttribute(\"aria-roledescription\", title.description);\n        }\n    };\n\n    Sankey.prototype._initSurface = function _initSurface () {\n        if (!this.surface) {\n            this._destroySurface();\n            this._initSurfaceElement();\n            this.surface = this._createSurface();\n        }\n    };\n\n    Sankey.prototype._initNavigation = function _initNavigation (element) {\n        element.tabIndex = element.getAttribute(\"tabindex\") || 0;\n\n        if (this.options.disableKeyboardNavigation) {\n            return;\n        }\n\n        this._keydownHandler = this._keydown.bind(this);\n        this._focusHandler = this._focus.bind(this);\n        this._blurHandler = this._blur.bind(this);\n        this._onDownHandler = this._onDown.bind(this);\n\n        element.addEventListener('keydown', this._keydownHandler);\n        element.addEventListener('focus', this._focusHandler);\n        element.addEventListener('blur', this._blurHandler);\n        element.addEventListener('mousedown', this._onDownHandler);\n        element.addEventListener('touchstart', this._onDownHandler);\n        element.addEventListener('pointerdown', this._onDownHandler);\n\n        this._focusState = {\n            node: this.firstFocusableNode(),\n            link: null\n        };\n    };\n\n    Sankey.prototype.firstFocusableNode = function firstFocusableNode () {\n        return this.columns[0][0];\n    };\n\n    Sankey.prototype._initResizeObserver = function _initResizeObserver () {\n        var this$1$1 = this;\n\n        var observer = new ResizeObserver(function (entries) {\n            entries.forEach(function (entry) {\n                var ref = entry.contentRect;\n                var width = ref.width;\n                var height = ref.height;\n                if (entry.target !== this$1$1.element ||\n                    (this$1$1.size && this$1$1.size.width === width && this$1$1.size.height === height)) {\n                    return;\n                }\n                this$1$1.size = { width: width, height: height };\n                this$1$1.surface.setSize(this$1$1.size);\n                this$1$1.resize = true;\n                this$1$1._redraw();\n            });\n        });\n        this._resizeObserver = observer;\n        observer.observe(this.element);\n    };\n\n    Sankey.prototype._createSurface = function _createSurface () {\n        return Surface$1.create(this.surfaceElement, {\n            mouseenter: this._mouseenter.bind(this),\n            mouseleave: this._mouseleave.bind(this),\n            mousemove: this._mousemove.bind(this),\n            click: this._click.bind(this)\n        });\n    };\n\n    Sankey.prototype._initTheme = function _initTheme (theme) {\n        var currentTheme = theme || this.theme || {};\n        this.theme = currentTheme;\n        this.options = deepExtend({}, currentTheme, this.options);\n    };\n\n    Sankey.prototype.setLinksOpacity = function setLinksOpacity (opacity) {\n        var this$1$1 = this;\n\n        this.linksVisuals.forEach(function (link) {\n            this$1$1.setOpacity(link, opacity, link.linkOptions.opacity);\n        });\n    };\n\n    Sankey.prototype.setLinksInactivityOpacity = function setLinksInactivityOpacity (inactiveOpacity) {\n        var this$1$1 = this;\n\n        this.linksVisuals.forEach(function (link) {\n            this$1$1.setOpacity(link, inactiveOpacity, link.linkOptions.highlight.inactiveOpacity);\n        });\n    };\n\n    Sankey.prototype.setOpacity = function setOpacity (link, opacity, linkValue) {\n        link.options.set('stroke', Object.assign({}, link.options.stroke,\n            {opacity: defined(linkValue) ? linkValue : opacity}));\n    };\n\n    Sankey.prototype.trigger = function trigger (name, ev) {\n        var dataItem = ev.element.dataItem;\n        var targetType = ev.element.type;\n\n        var event = Object.assign({}, ev,\n            {type: name,\n            targetType: targetType,\n            dataItem: dataItem});\n\n        return Observable.prototype.trigger.call(this, name, event);\n    };\n\n    Sankey.prototype._mouseenter = function _mouseenter (ev) {\n        var element = ev.element;\n        var isLink = element.type === LINK;\n        var isNode = element.type === NODE;\n        var isLegendItem = Boolean(element.chartElement && element.chartElement.options.node);\n\n        if ((isLink && this.trigger('linkEnter', ev)) ||\n            (isNode && this.trigger('nodeEnter', ev))) {\n            return;\n        }\n\n        var ref = this.options.links;\n        var highlight = ref.highlight;\n        if (isLink) {\n            this.setLinksInactivityOpacity(highlight.inactiveOpacity);\n            this.setOpacity(element, highlight.opacity, element.linkOptions.highlight.opacity);\n        } else if (isNode) {\n            this.highlightLinks(element, highlight);\n        } else if (isLegendItem) {\n            var nodeVisual = this.nodesVisuals.get(element.chartElement.options.node.id);\n            this.highlightLinks(nodeVisual, highlight);\n        }\n    };\n\n    Sankey.prototype._mouseleave = function _mouseleave (ev) {\n        var this$1$1 = this;\n\n        var element = ev.element;\n        var isLink = element.type === LINK;\n        var isNode = element.type === NODE;\n        var isLegendItem = Boolean(element.chartElement && element.chartElement.options.node);\n        var target = ev.originalEvent.relatedTarget;\n\n        if (isLink && target && target.nodeName === 'text') {\n            return;\n        }\n\n        if (isLink || isNode) {\n            if (this.tooltipTimeOut) {\n                clearTimeout(this.tooltipTimeOut);\n                this.tooltipTimeOut = null;\n            }\n            this.tooltipShown = false;\n            this.trigger('tooltipHide', ev);\n        }\n\n        if ((isLink && this.trigger('linkLeave', ev)) ||\n            (isNode && this.trigger('nodeLeave', ev))) {\n            return;\n        }\n\n        if (isLink || isNode || isLegendItem) {\n            this.linksVisuals.forEach(function (link) {\n                this$1$1.setOpacity(link, this$1$1.options.links.opacity, link.linkOptions.opacity);\n            });\n        }\n    };\n\n    Sankey.prototype._mousemove = function _mousemove (ev) {\n        var this$1$1 = this;\n\n        var ref = this.options.tooltip;\n        var followPointer = ref.followPointer;\n        var delay = ref.delay;\n        var element = ev.element;\n        var tooltipElType = element.type;\n\n        if ((tooltipElType !== LINK && tooltipElType !== NODE) || (this.tooltipShown && !followPointer)) {\n            return;\n        }\n\n        var mouseEvent = ev.originalEvent;\n        var rect = this.element.getBoundingClientRect();\n        var isLeft = mouseEvent.clientX - rect.left < rect.width / 2;\n        var isTop = mouseEvent.clientY - rect.top < rect.height / 2;\n\n        ev.tooltipData = {\n            popupOffset: {\n                left: mouseEvent.pageX,\n                top: mouseEvent.pageY\n            },\n            popupAlign: {\n                horizontal: isLeft ? 'left' : 'right',\n                vertical: isTop ? 'top' : 'bottom'\n            }\n        };\n\n        if (tooltipElType === NODE) {\n            var ref$1 = element.dataItem;\n            var sourceLinks = ref$1.sourceLinks;\n            var targetLinks = ref$1.targetLinks;\n            var links = targetLinks.length ? targetLinks : sourceLinks;\n            ev.nodeValue = links.reduce(function (acc, link) { return acc + link.value; }, 0);\n        }\n\n        if (this.tooltipTimeOut) {\n            clearTimeout(this.tooltipTimeOut);\n            this.tooltipTimeOut = null;\n        }\n\n        var nextDelay = followPointer && this.tooltipShown ? 0 : delay;\n\n        this.tooltipTimeOut = setTimeout(function () {\n            this$1$1.trigger('tooltipShow', ev);\n            this$1$1.tooltipShown = true;\n            this$1$1.tooltipTimeOut = null;\n        }, nextDelay);\n    };\n\n    Sankey.prototype._click = function _click (ev) {\n        var element = ev.element;\n        var dataItem = element.dataItem;\n        var isLink = element.type === LINK;\n        var isNode = element.type === NODE;\n        var focusState = this._focusState || {};\n\n        if (isNode) {\n            var focusedNodeClicked = !focusState.link && this.sameNode(focusState.node, dataItem);\n\n            if (!focusedNodeClicked) {\n                this._focusState = { node: dataItem, link: null };\n                this._focusNode({ highlight: false });\n            }\n\n            this.trigger('nodeClick', ev);\n        } else if (isLink) {\n            var link = {\n                sourceId: dataItem.source.id,\n                targetId: dataItem.target.id,\n                value: dataItem.value\n            };\n            var focusedLinkClicked = this.sameLink(focusState.link, link);\n\n            if (!focusedLinkClicked) {\n                this._focusState = { node: dataItem.source, link: link };\n                this._focusLink({ highlight: false });\n            }\n\n            this.trigger('linkClick', ev);\n        }\n    };\n\n    Sankey.prototype.sameNode = function sameNode (node1, node2) {\n        return node1 && node2 && node1.id === node2.id;\n    };\n\n    Sankey.prototype.sameLink = function sameLink (link1, link2) {\n        return link1 && link2 && link1.sourceId === link2.sourceId && link1.targetId === link2.targetId;\n    };\n\n    Sankey.prototype._focusNode = function _focusNode (options) {\n        this._cleanFocusHighlight();\n\n        var nodeData = this._focusState.node;\n        var node = this.models.map.get(nodeData.id);\n        node.focus(options);\n    };\n\n    Sankey.prototype._focusLink = function _focusLink (options) {\n        this._cleanFocusHighlight();\n\n        var linkData = this._focusState.link;\n        var link = this.models.map.get(((linkData.sourceId) + \"-\" + (linkData.targetId)));\n        link.focus(options);\n    };\n\n    Sankey.prototype._focusNextNode = function _focusNextNode (direction) {\n        if ( direction === void 0 ) direction = 1;\n\n        var current = this._focusState.node;\n\n        var columnIndex = this.columns.findIndex(function (column) { return column.find(function (n) { return n.id === current.id; }); });\n        var columnNodes = this.columns[columnIndex];\n        var nodeIndex = columnNodes.findIndex(function (n) { return n.id === current.id; });\n\n        var nextNode = columnNodes[nodeIndex + direction];\n        if (nextNode) {\n            this._focusState.node = nextNode;\n            this._focusNode();\n        }\n    };\n\n    Sankey.prototype._focusNextLink = function _focusNextLink (direction) {\n        if ( direction === void 0 ) direction = 1;\n\n        var node = this._focusState.node;\n        var link = this._focusState.link;\n\n        var sourceLinkIndex = node.sourceLinks.findIndex(function (l) { return l.sourceId === link.sourceId && l.targetId === link.targetId; });\n        var targetLinkIndex = node.targetLinks.findIndex(function (l) { return l.sourceId === link.sourceId && l.targetId === link.targetId; });\n\n        if (sourceLinkIndex !== -1) {\n            var nextLink = node.sourceLinks[sourceLinkIndex + direction];\n\n            if (nextLink) {\n                this._focusState.link = nextLink;\n                this._focusLink();\n            }\n        } else if (targetLinkIndex !== -1) {\n            var nextLink$1 = node.targetLinks[targetLinkIndex + direction];\n\n            if (nextLink$1) {\n                this._focusState.link = nextLink$1;\n                this._focusLink();\n            }\n        }\n    };\n\n    Sankey.prototype._focusSourceNode = function _focusSourceNode () {\n        var linkData = this._focusState.link;\n        var sourceNode = this.models.map.get(linkData.sourceId);\n        this._focusState = { node: sourceNode.options.node, link: null };\n        this._focusNode();\n    };\n\n    Sankey.prototype._focusTargetNode = function _focusTargetNode () {\n        var linkData = this._focusState.link;\n        var targetNode = this.models.map.get(linkData.targetId);\n        this._focusState = { node: targetNode.options.node, link: null };\n        this._focusNode();\n    };\n\n    Sankey.prototype._focusSourceLink = function _focusSourceLink () {\n        var nodeData = this._focusState.node;\n        var sourceLinks = nodeData.sourceLinks;\n        var linkData = sourceLinks[0];\n        if (linkData) {\n            this._focusState.link = linkData;\n            this._focusLink();\n        }\n    };\n\n    Sankey.prototype._focusTargetLink = function _focusTargetLink () {\n        var nodeData = this._focusState.node;\n        var targetLinks = nodeData.targetLinks;\n        var linkData = targetLinks[0];\n        if (linkData) {\n            this._focusState.link = linkData;\n            this._focusLink();\n        }\n    };\n\n    Sankey.prototype._focus = function _focus () {\n        if (!this._skipFocusHighlight) {\n            if (this._focusState.link) {\n                this._focusLink();\n            } else {\n                this._focusNode();\n            }\n        }\n\n        this._skipFocusHighlight = false;\n    };\n\n    Sankey.prototype._blur = function _blur () {\n        this._cleanFocusHighlight();\n    };\n\n    Sankey.prototype._onDown = function _onDown () {\n        if (!this._hasFocus()) {\n            this._skipFocusHighlight = true;\n        }\n    };\n\n    Sankey.prototype._hasFocus = function _hasFocus () {\n        return this.element.ownerDocument.activeElement === this.element;\n    };\n\n    Sankey.prototype._cleanFocusHighlight = function _cleanFocusHighlight () {\n        this.models.nodes.forEach(function (node) { return node.blur(); });\n        this.models.links.forEach(function (link) { return link.blur(); });\n    };\n\n    Sankey.prototype._keydown = function _keydown (ev) {\n        var handler = this['on' + ev.key];\n        var rtl = this.options.rtl;\n\n        if (rtl && ev.key === 'ArrowLeft') {\n            handler = this.onArrowRight;\n        } else if (rtl && ev.key === 'ArrowRight') {\n            handler = this.onArrowLeft;\n        }\n\n        if (handler) {\n            handler.call(this, ev);\n        }\n    };\n\n    Sankey.prototype.onEscape = function onEscape (ev) {\n        ev.preventDefault();\n\n        this._focusState = { node: this.firstFocusableNode(), link: null };\n        this._focusNode();\n    };\n\n    Sankey.prototype.onArrowDown = function onArrowDown (ev) {\n        ev.preventDefault();\n\n        if (this._focusState.link) {\n            this._focusNextLink(1);\n        } else {\n            this._focusNextNode(1);\n        }\n    };\n\n    Sankey.prototype.onArrowUp = function onArrowUp (ev) {\n        ev.preventDefault();\n\n        if (this._focusState.link) {\n            this._focusNextLink(-1);\n        } else {\n            this._focusNextNode(-1);\n        }\n    };\n\n    Sankey.prototype.onArrowLeft = function onArrowLeft (ev) {\n        ev.preventDefault();\n\n        if (this._focusState.link) {\n            this._focusSourceNode();\n        } else {\n            this._focusTargetLink();\n        }\n    };\n\n    Sankey.prototype.onArrowRight = function onArrowRight (ev) {\n        ev.preventDefault();\n\n        if (this._focusState.link) {\n            this._focusTargetNode();\n        } else {\n            this._focusSourceLink();\n        }\n    };\n\n    Sankey.prototype.highlightLinks = function highlightLinks (node, highlight) {\n        var this$1$1 = this;\n\n        if (node) {\n            this.setLinksInactivityOpacity(highlight.inactiveOpacity);\n            node.links.forEach(function (link) {\n                this$1$1.setOpacity(link, highlight.opacity, link.linkOptions.highlight.opacity);\n            });\n        }\n    };\n\n    Sankey.prototype._destroySurface = function _destroySurface () {\n        if (this.surface) {\n            this.surface.destroy();\n            this.surface = null;\n            this._destroySurfaceElement();\n        }\n    };\n\n    Sankey.prototype._destroyResizeObserver = function _destroyResizeObserver () {\n        if (this._resizeObserver) {\n            this._resizeObserver.disconnect();\n            this._resizeObserver = null;\n        }\n    };\n\n    Sankey.prototype._initSurfaceElement = function _initSurfaceElement () {\n        if (!this.surfaceElement) {\n            this.surfaceElement = document.createElement('div');\n            this.element.appendChild(this.surfaceElement);\n        }\n    };\n\n    Sankey.prototype._destroySurfaceElement = function _destroySurfaceElement () {\n        if (this.surfaceElement && this.surfaceElement.parentNode) {\n            this.surfaceElement.parentNode.removeChild(this.surfaceElement);\n            this.surfaceElement = null;\n        }\n    };\n\n    Sankey.prototype.setOptions = function setOptions (options, theme) {\n        this._setOptions(options);\n        this._initTheme(theme);\n        this._initSurface();\n        this._redraw();\n    };\n\n    Sankey.prototype._redraw = function _redraw () {\n        this.surface.clear();\n\n        var ref = this._getSize();\n        var width = ref.width;\n        var height = ref.height;\n        this.size = { width: width, height: height };\n        this.surface.setSize(this.size);\n\n        this.createVisual();\n\n        this.surface.draw(this.visual);\n    };\n\n    Sankey.prototype._getSize = function _getSize () {\n        return this.element.getBoundingClientRect();\n    };\n\n    Sankey.prototype.createVisual = function createVisual () {\n        this.visual = this._render();\n    };\n\n    Sankey.prototype.titleBox = function titleBox (title, drawingRect) {\n        if (!title || title.visible === false || !title.text) {\n            return null;\n        }\n\n        var titleElement = new Title(Object.assign({}, {drawingRect: drawingRect}, title));\n        var titleVisual = titleElement.exportVisual();\n        return titleVisual.chartElement.box;\n    };\n\n    Sankey.prototype.legendBox = function legendBox (options, nodes, drawingRect) {\n        if (!options || options.visible === false) {\n            return null;\n        }\n\n        var legend = new Legend(Object.assign({}, {nodes: nodes}, options, {drawingRect: drawingRect}));\n        var legendVisual = legend.exportVisual();\n\n        return legendVisual.chartElement.box;\n    };\n\n    Sankey.prototype.calculateSankey = function calculateSankey$1 (calcOptions, sankeyOptions) {\n        var title = sankeyOptions.title;\n        var legend = sankeyOptions.legend;\n        var data = sankeyOptions.data;\n        var nodes = sankeyOptions.nodes;\n        var labels = sankeyOptions.labels;\n        var nodeColors = sankeyOptions.nodeColors;\n        var disableAutoLayout = sankeyOptions.disableAutoLayout;\n        var disableKeyboardNavigation = sankeyOptions.disableKeyboardNavigation;\n        var rtl = sankeyOptions.rtl;\n        var autoLayout = !disableAutoLayout;\n        var padding = disableKeyboardNavigation ? 0 : highlightOptions.width / 2;\n\n        var sankeyBox = new Box(0, 0, calcOptions.width, calcOptions.height);\n        sankeyBox.unpad(padding);\n\n        var titleBox = this.titleBox(title, sankeyBox);\n\n        var legendArea = sankeyBox.clone();\n\n        if (titleBox) {\n            var titleHeight = titleBox.height();\n            if (title.position === TOP) {\n                sankeyBox.unpad({ top: titleHeight });\n                legendArea = new Box(0, titleHeight, calcOptions.width, calcOptions.height);\n            } else {\n                sankeyBox.shrink(0, titleHeight);\n                legendArea = new Box(0, 0, calcOptions.width, calcOptions.height - titleHeight);\n            }\n        }\n\n        var legendBox = this.legendBox(legend, data.nodes, legendArea);\n        var legendPosition = (legend && legend.position) || Legend.prototype.options.position;\n\n        if (legendBox) {\n            if (legendPosition === LEFT) {\n                sankeyBox.unpad({ left: legendBox.width() });\n            }\n\n            if (legendPosition === RIGHT) {\n                sankeyBox.shrink(legendBox.width(), 0);\n            }\n\n            if (legendPosition === TOP) {\n                sankeyBox.unpad({ top: legendBox.height() });\n            }\n\n            if (legendPosition === BOTTOM$1) {\n                sankeyBox.shrink(0, legendBox.height());\n            }\n        }\n\n        var ref = calculateSankey(Object.assign({}, calcOptions, {offsetX: 0, offsetY: 0, width: sankeyBox.width(), height: sankeyBox.height()}));\n        var calculatedNodes = ref.nodes;\n        var circularLinks = ref.circularLinks;\n        if (circularLinks) {\n            console.warn('Circular links detected. Kendo Sankey diagram does not support circular links.');\n            return { sankey: { nodes: [], links: [], columns: [[]], circularLinks: circularLinks }, legendBox: legendBox, titleBox: titleBox };\n        }\n\n        var box = new Box();\n\n        var diagramMinX = calculatedNodes.reduce(function (acc, node) { return Math.min(acc, node.x0); }, Infinity);\n        var diagramMaxX = calculatedNodes.reduce(function (acc, node) { return Math.max(acc, node.x1); }, 0);\n\n        calculatedNodes.forEach(function (nodeEl, i) {\n            if (rtl) {\n                var x0 = nodeEl.x0;\n                var x1 = nodeEl.x1;\n                nodeEl.x0 = diagramMaxX - x1;\n                nodeEl.x1 = diagramMaxX - x0;\n            }\n            var nodeOps = resolveNodeOptions(nodeEl, nodes, nodeColors, i);\n            var nodeInstance = new Node(nodeOps);\n            box.wrap(rectToBox(nodeInstance.exportVisual().rawBBox()));\n\n            var labelInstance = new Label(resolveLabelOptions(nodeEl, labels, rtl, diagramMinX, diagramMaxX));\n            var labelVisual = labelInstance.exportVisual();\n            if (labelVisual) {\n                box.wrap(rectToBox(labelVisual.rawBBox()));\n            }\n        });\n\n        var offsetX = sankeyBox.x1;\n        var offsetY = sankeyBox.y1;\n\n        var width = sankeyBox.width() + offsetX;\n        var height = sankeyBox.height() + offsetY;\n\n        width -= box.x2 > sankeyBox.width() ? box.x2 - sankeyBox.width() : 0;\n        height -= box.y2 > sankeyBox.height() ? box.y2 - sankeyBox.height() : 0;\n\n        offsetX += box.x1 < 0 ? -box.x1 : 0;\n        offsetY += box.y1 < 0 ? -box.y1 : 0;\n\n        if (autoLayout === false) {\n            return {\n                sankey: calculateSankey(Object.assign({}, calcOptions, {offsetX: offsetX, offsetY: offsetY, width: width, height: height, autoLayout: false})),\n                legendBox: legendBox,\n                titleBox: titleBox\n            };\n        }\n\n        if (this.resize && autoLayout && this.permutation) {\n            this.resize = false;\n            return {\n                sankey: calculateSankey(Object.assign({}, calcOptions, {offsetX: offsetX, offsetY: offsetY, width: width, height: height}, this.permutation)),\n                legendBox: legendBox,\n                titleBox: titleBox\n            };\n        }\n\n        var startColumn = 1;\n        var loops = 2;\n        var columnsLength = calculateSankey(Object.assign({}, calcOptions, {offsetX: offsetX, offsetY: offsetY, width: width, height: height, autoLayout: false})).columns.length;\n        var results = [];\n\n        var permutation = function (targetColumnIndex, reverse) {\n            var currPerm = calculateSankey(Object.assign({}, calcOptions, {offsetX: offsetX, offsetY: offsetY, width: width, height: height, loops: loops, targetColumnIndex: targetColumnIndex, reverse: reverse}));\n            var crosses = crossesValue(currPerm.links);\n            results.push({\n                crosses: crosses,\n                reverse: reverse,\n                targetColumnIndex: targetColumnIndex\n            });\n            return crosses === 0;\n        };\n\n        for (var index = startColumn; index <= columnsLength - 1; index++) {\n            if (permutation(index, false) || permutation(index, true)) {\n                break;\n            }\n        }\n\n        var minCrosses = Math.min.apply(null, results.map(function (r) { return r.crosses; }));\n        var bestResult = results.find(function (r) { return r.crosses === minCrosses; });\n        this.permutation = { targetColumnIndex: bestResult.targetColumnIndex, reverse: bestResult.reverse };\n        var result = calculateSankey(Object.assign({}, calcOptions, {offsetX: offsetX, offsetY: offsetY, width: width, height: height}, this.permutation));\n\n        return {\n            sankey: result,\n            legendBox: legendBox,\n            titleBox: titleBox\n        };\n    };\n\n    Sankey.prototype._render = function _render (options, context) {\n        var sankeyOptions = options || this.options;\n        var sankeyContext = context || this;\n\n        var labelOptions = sankeyOptions.labels;\n        var nodesOptions = sankeyOptions.nodes;\n        var linkOptions = sankeyOptions.links;\n        var nodeColors = sankeyOptions.nodeColors;\n        var title = sankeyOptions.title;\n        var legend = sankeyOptions.legend;\n        var rtl = sankeyOptions.rtl;\n        var disableKeyboardNavigation = sankeyOptions.disableKeyboardNavigation;\n        var data = sankeyOptions.data;\n        var ref = sankeyContext.size;\n        var width = ref.width;\n        var height = ref.height;\n\n        var calcOptions = Object.assign({}, data, {width: width, height: height, nodesOptions: nodesOptions, title: title, legend: legend});\n        var ref$1 = this.calculateSankey(calcOptions, sankeyOptions);\n        var sankey = ref$1.sankey;\n        var titleBox = ref$1.titleBox;\n        var legendBox = ref$1.legendBox;\n        if (rtl) {\n            toRtl(sankey);\n        }\n        var nodes = sankey.nodes;\n        var links = sankey.links;\n        var columns = sankey.columns;\n\n        sankeyContext.columns = columns.map(function (column) {\n            var newColumn = column.slice();\n            newColumn.sort(function (a, b) { return a.y0 - b.y0; });\n            return newColumn;\n        });\n\n        var visual = new Group$8({\n            clip: Path$7.fromRect(new Rect([0, 0], [width, height]))\n        });\n\n        if (titleBox) {\n            var titleElement = new Title(Object.assign({}, title, {drawingRect: titleBox}));\n            var titleVisual = titleElement.exportVisual();\n            visual.append(titleVisual);\n        }\n\n        if (sankey.circularLinks) {\n            return visual;\n        }\n\n        var visualNodes = new Map();\n        sankeyContext.nodesVisuals = visualNodes;\n\n        var models = {\n            nodes: [],\n            links: [],\n            map: new Map()\n        };\n        sankeyContext.models = models;\n\n        var focusHighlights = [];\n\n        nodes.forEach(function (node, i) {\n            var nodeOps = resolveNodeOptions(node, nodesOptions, nodeColors, i);\n            nodeOps.root = function () { return sankeyContext.element; };\n            nodeOps.navigatable = disableKeyboardNavigation !== true;\n\n            var nodeInstance = new Node(nodeOps);\n            var nodeVisual = nodeInstance.exportVisual();\n            nodeVisual.links = [];\n            nodeVisual.type = NODE;\n\n            node.color = nodeOps.color;\n            node.opacity = nodeOps.opacity;\n\n            nodeVisual.dataItem = Object.assign({}, data.nodes[i],\n                {color: nodeOps.color,\n                opacity: nodeOps.opacity,\n                sourceLinks: node.sourceLinks.map(function (link) { return ({ sourceId: link.sourceId, targetId: link.targetId, value: link.value }); }),\n                targetLinks: node.targetLinks.map(function (link) { return ({ sourceId: link.sourceId, targetId: link.targetId, value: link.value }); })});\n            visualNodes.set(node.id, nodeVisual);\n\n            models.nodes.push(nodeInstance);\n            models.map.set(node.id, nodeInstance);\n\n            visual.append(nodeVisual);\n\n            nodeInstance.createFocusHighlight();\n\n            if (nodeInstance._highlight) {\n                focusHighlights.push(nodeInstance._highlight);\n            }\n        });\n\n        var sortedLinks = links.slice().sort(function (a, b) { return b.value - a.value; });\n\n        var linksVisuals = [];\n        sankeyContext.linksVisuals = linksVisuals;\n\n        sortedLinks.forEach(function (link) {\n            var source = link.source;\n            var target = link.target;\n            var sourceNode = visualNodes.get(source.id);\n            var targetNode = visualNodes.get(target.id);\n            var resolvedOptions = resolveLinkOptions(link, linkOptions, sourceNode, targetNode);\n            resolvedOptions.root = function () { return sankeyContext.element; };\n            resolvedOptions.navigatable = disableKeyboardNavigation !== true;\n            resolvedOptions.rtl = rtl;\n            var linkInstance = new Link(resolvedOptions);\n            var linkVisual = linkInstance.exportVisual();\n\n            linkVisual.type = LINK;\n            linkVisual.dataItem = {\n                source: Object.assign({}, sourceNode.dataItem),\n                target: Object.assign({}, targetNode.dataItem),\n                value: link.value\n            };\n            linkVisual.linkOptions = resolvedOptions;\n            linksVisuals.push(linkVisual);\n\n            sourceNode.links.push(linkVisual);\n            targetNode.links.push(linkVisual);\n\n            models.links.push(linkInstance);\n            models.map.set(((source.id) + \"-\" + (target.id)), linkInstance);\n\n            linkInstance.createFocusHighlight();\n\n            if (linkInstance._highlight) {\n                focusHighlights.push(linkInstance._highlight);\n            }\n\n            visual.append(linkVisual);\n        });\n\n        var diagramMinX = nodes.reduce(function (acc, node) { return Math.min(acc, node.x0); }, Infinity);\n        var diagramMaxX = nodes.reduce(function (acc, node) { return Math.max(acc, node.x1); }, 0);\n\n        nodes.forEach(function (node) {\n            var textOps = resolveLabelOptions(node, labelOptions, rtl, diagramMinX, diagramMaxX);\n            var labelInstance = new Label(textOps);\n            var labelVisual = labelInstance.exportVisual();\n\n            if (labelVisual) {\n                visual.append(labelVisual);\n            }\n        });\n\n        if (legendBox) {\n            var legendElement = new Legend(Object.assign({}, legend, {rtl: rtl, drawingRect: legendBox, nodes: nodes}));\n            var legendVisual = legendElement.exportVisual();\n            visual.append(legendVisual);\n        }\n\n        if (focusHighlights.length !== 0) {\n            var focusHighlight = new Group$8();\n            focusHighlight.append.apply(focusHighlight, focusHighlights);\n            visual.append(focusHighlight);\n        }\n\n        return visual;\n    };\n\n    Sankey.prototype.exportVisual = function exportVisual (exportOptions) {\n        var options = (exportOptions && exportOptions.options) ?\n            deepExtend({}, this.options, exportOptions.options) : this.options;\n\n        var context = {\n            size: {\n                width: defined(exportOptions && exportOptions.width) ? exportOptions.width : this.size.width,\n                height: defined(exportOptions && exportOptions.height) ? exportOptions.height : this.size.height\n            }\n        };\n\n        return this._render(options, context);\n    };\n\n    Sankey.prototype._setOptions = function _setOptions (options) {\n        this.options = deepExtend({}, this.options, options);\n    };\n\n    return Sankey;\n}(Observable));\n\nvar highlightOptions = {\n    opacity: 1,\n    width: 2,\n    color: BLACK$1\n};\n\nsetDefaultOptions(Sankey, {\n    title: {\n        position: TOP, // 'top', 'bottom'\n    },\n    labels: {\n        visible: true,\n        margin: {\n            left: 8,\n            right: 8\n        },\n        padding: 0,\n        border: {\n            width: 0\n        },\n        paintOrder: 'stroke',\n        stroke: {\n            lineJoin: \"round\",\n            width: 1\n        },\n        offset: { left: 0, top: 0 }\n    },\n    nodes: {\n        width: 24,\n        padding: 16,\n        opacity: 1,\n        align: 'stretch', // 'left', 'right', 'stretch'\n        offset: { left: 0, top: 0 },\n        focusHighlight: Object.assign({}, highlightOptions),\n        labels: {\n            ariaTemplate: function (ref) {\n                var node = ref.node;\n\n                return node.label.text;\n}\n        }\n    },\n    links: {\n        colorType: 'static', // 'source', 'target', 'static'\n        opacity: 0.4,\n        highlight: {\n            opacity: 0.8,\n            inactiveOpacity: 0.2\n        },\n        focusHighlight: Object.assign({}, highlightOptions),\n        labels: {\n            ariaTemplate: function (ref) {\n                var link = ref.link;\n\n                return ((link.source.label.text) + \" to \" + (link.target.label.text));\n}\n        }\n    },\n    tooltip: {\n        followPointer: false,\n        delay: 200\n    }\n});\n\nvar createSankeyData = function (data, dimensions, measure) {\n    var nodes = new Set();\n    var links = new Map();\n    var linksMap = new Map();\n\n    data.forEach(function (row) {\n        dimensions.forEach(function (dimension) {\n            nodes.add(dimension.value(row));\n        });\n\n        for (var i = 0; i < dimensions.length - 1; i++) {\n            var source = dimensions[i].value(row);\n            var target = dimensions[i + 1].value(row);\n            var key = source + \"_\" + target;\n            var value = measure.value(row);\n            var existingValue = links.get(key);\n\n            if (existingValue !== undefined) {\n                links.set(key, existingValue + value);\n            } else {\n                links.set(key, value);\n                linksMap.set(key, { source: source, target: target });\n            }\n        }\n    });\n\n    var nodesId = new Map();\n    var nodesArray = Array.from(nodes).map(function (node, index) {\n        nodesId.set(node, index);\n        return { id: index, label: { text: String(node) } };\n    });\n\n    var linksArray = Array.from(links).map(function (ref) {\n        var key = ref[0];\n        var value = ref[1];\n\n        var ref$1 = linksMap.get(key);\n        var source = ref$1.source;\n        var target = ref$1.target;\n        return {\n            sourceId: nodesId.get(source),\n            targetId: nodesId.get(target),\n            value: value\n        };\n    });\n\n    return { nodes: nodesArray, links: linksArray };\n};\n\nfunction getWizardDataFromDataRows(dataRows) {\n    var result = [];\n\n    dataRows.forEach(function (item) {\n        var dataItem = item.dataItem;\n        var dataColumns = item.dataColumns;\n\n        var row = [];\n        dataColumns.forEach(function (column) {\n            row.push({\n                field: column.title || column.field,\n                value: getter(column.field)(dataItem)\n            });\n        });\n\n        result.push(row);\n    });\n\n    return result;\n}\n\nvar ActionTypes = Object.freeze({\n    seriesType: 0,\n    stacked: 1,\n\n    categoryAxisX: 2,\n    valueAxisY: 3,\n\n    seriesChange: 4,\n\n    areaMarginLeft: 5,\n    areaMarginRight: 6,\n    areaMarginTop: 7,\n    areaMarginBottom: 8,\n    areaBackground: 9,\n\n    titleText: 10,\n    titleFontName: 11,\n    titleFontSize: 12,\n    titleColor: 13,\n\n    subtitleText: 14,\n    subtitleFontName: 15,\n    subtitleFontSize: 16,\n    subtitleColor: 17,\n\n    seriesColor: 18,\n    seriesLabel: 19,\n\n    legendVisible: 20,\n    legendFontName: 21,\n    legendFontSize: 22,\n    legendColor: 23,\n    legendPosition: 24,\n\n    categoryAxisTitleText: 25,\n    categoryAxisTitleFontName: 26,\n    categoryAxisTitleFontSize: 27,\n    categoryAxisTitleColor: 28,\n    categoryAxisLabelsFontName: 29,\n    categoryAxisLabelsFontSize: 30,\n    categoryAxisLabelsColor: 31,\n    categoryAxisLabelsRotation: 32,\n    categoryAxisReverseOrder: 33,\n\n    valueAxisTitleText: 34,\n    valueAxisTitleFontName: 35,\n    valueAxisTitleFontSize: 36,\n    valueAxisTitleColor: 37,\n    valueAxisLabelsFormat: 38,\n    valueAxisLabelsFontName: 39,\n    valueAxisLabelsFontSize: 40,\n    valueAxisLabelsColor: 41,\n    valueAxisLabelsRotation: 42,\n});\n\nvar fontSizes = [\n    { text: \"10\", value: \"10px\" },\n    { text: \"12\", value: \"12px\" },\n    { text: \"14\", value: \"14px\" },\n    { text: \"16\", value: \"16px\" },\n    { text: \"20\", value: \"20px\" },\n    { text: \"28\", value: \"28px\" },\n    { text: \"42\", value: \"42px\" },\n    { text: \"56\", value: \"56px\" }\n];\n\nvar titleSizeDefault = '20px';\nvar subtitleSizeDefault = '16px';\nvar labelSizeDefault = '12px';\nvar axisTitleSizeDefault = '16px';\n\nvar fontNames = [\n    {\n        text: \"Arial\",\n        value: \"Arial, Helvetica, sans-serif\",\n        style: { fontFamily: \"Arial, Helvetica, sans-serif\" },\n    },\n    {\n        text: \"Courier New\",\n        value: \"'Courier New', Courier, monospace\",\n        style: { fontFamily: \"'Courier New', Courier, monospace\" },\n    },\n    {\n        text: \"Georgia\",\n        value: \"Georgia, serif\",\n        style: { fontFamily: \"Georgia, serif\" },\n    },\n    {\n        text: \"Impact\",\n        value: \"Impact, Charcoal, sans-serif\",\n        style: { fontFamily: \"Impact, Charcoal, sans-serif\" },\n    },\n    {\n        text: \"Lucida Console\",\n        value: \"'Lucida Console', Monaco, monospace\",\n        style: { fontFamily: \"'Lucida Console', Monaco, monospace\" },\n    },\n    {\n        text: \"Tahoma\",\n        value: \"Tahoma, Geneva, sans-serif\",\n        style: { fontFamily: \"Tahoma, Geneva, sans-serif\" },\n    },\n    {\n        text: \"Times New Roman\",\n        value: \"'Times New Roman', Times,serif\",\n        style: { fontFamily: \"'Times New Roman', Times,serif\" },\n    },\n    {\n        text: \"Trebuchet MS\",\n        value: \"'Trebuchet MS', Helvetica, sans-serif\",\n        style: { fontFamily: \"'Trebuchet MS', Helvetica, sans-serif\" },\n    },\n    {\n        text: \"Verdana\",\n        value: \"Verdana, Geneva, sans-serif\",\n        style: { fontFamily: \"Verdana, Geneva, sans-serif\" },\n    } ];\n\nvar fontNameDefault = fontNames[0].value;\n\nvar columnType = \"column\";\nvar barType = \"bar\";\nvar lineType = \"line\";\nvar pieType = \"pie\";\nvar scatterType = \"scatter\";\nvar categoricalTypes = [columnType, barType, lineType, scatterType];\n\nvar scatterSeries$1 = {\n    type: lineType,\n    width: 0,\n};\n\nfunction isCategorical(type) {\n    return type && categoricalTypes.includes(type);\n}\n\nvar categoryTypes = [\"string\", \"date\", \"number\"];\nvar valueTypes = [\"number\"];\n\nvar axesDefinitions = {\n    bar: [\n        { axisType: \"category\", types: categoryTypes },\n        { axisType: \"value\", types: valueTypes } ],\n    column: [\n        { axisType: \"category\", types: categoryTypes },\n        { axisType: \"value\", types: valueTypes } ],\n    line: [\n        { axisType: \"category\", types: categoryTypes },\n        { axisType: \"value\", types: valueTypes } ],\n    pie: [\n        { axisType: \"category\", types: categoryTypes },\n        { axisType: \"value\", types: valueTypes, count: 1 } ],\n    scatter: [\n        { axisType: \"category\", types: categoryTypes },\n        { axisType: \"value\", types: valueTypes } ],\n};\n\nfunction getFont(font, size) {\n    return ((size || \"\") + \" \" + (font || \"\")).trim();\n}\n\nfunction parseFont(font) {\n    var spaceIndex = (font || \"\").indexOf(\" \");\n    var size = font && font.substring(0, spaceIndex);\n    var name = font && font.substring(spaceIndex + 1);\n    return { size: size, name: name };\n}\n\nvar updateFontName = function (fontName, defaultSize, currentFont) {\n    var ref = parseFont(currentFont);\n    var size = ref.size;\n    return fontName ? getFont(fontName, size || defaultSize) : \"\";\n};\n\nvar updateFontSize = function (fontSize, defaultFontName, currentFont) {\n    var ref = parseFont(currentFont);\n    var name = ref.name;\n    return fontSize ? getFont(name || defaultFontName, fontSize) : \"\";\n};\n\nvar hasValue = function (value) { return value !== undefined && value !== null; };\n\nvar recordWithValues = function (data) {\n    var result = structuredClone(data[0]);\n    result.forEach(function (item, i) {\n        if (!hasValue(item.value)) {\n            for (var index = 0; index < data.length; index++) {\n                var value = data[index][i].value;\n                if (hasValue(value)) {\n                    item.value = value;\n                    break;\n                }\n            }\n        }\n    });\n\n    return result;\n};\n\nvar getCategoryColumnIndex = function (data, categoryDef) {\n    var candidates = [];\n    var sampleRecord = recordWithValues(data);\n\n    categoryDef.types.forEach(function (type) {\n        sampleRecord.forEach(function (item, i) {\n            if (typeof item.value === type) {\n                candidates.push(i);\n            }\n        });\n    });\n\n    var result = candidates.findIndex(function (index) {\n        var values = data.map(function (record) { return record[index].value; });\n        return new Set(values).size === values.length;\n    });\n\n    return Math.max(result, 0);\n};\n\nvar getValueColumnIndexes = function (data, valuesDef) {\n    var candidates = [];\n    var sampleRecord = recordWithValues(data);\n\n    valuesDef.forEach(function (def) {\n        def.types.forEach(function (type) {\n            sampleRecord.forEach(function (item, i) {\n                if (typeof item.value === type) {\n                    candidates.push(i);\n                }\n            });\n        });\n    });\n\n    return candidates;\n};\n\nvar emptyState = function () { return structuredClone({\n        columns: [],\n        data: [],\n        series: [],\n        initialSeries: [],\n        categoryAxis: [ { categories: [], labels: { visible: true, rotation: \"auto\" }, title: { text: '' } } ],\n        valueAxis: [{ labels: { visible: true, rotation: 'auto' } }],\n        area: {\n            margin: {\n                left: undefined,\n                right: undefined,\n                top: undefined,\n                bottom: undefined,\n            },\n        },\n        title: { text: '' },\n        subtitle: { text: '' },\n        stack: false,\n    }); };\n\nvar categoryValueChartState = function (data, seriesType, options) {\n    var state = emptyState();\n    state.seriesType = seriesType;\n    state.data = data || [];\n    state.legend = { visible: true, position: \"bottom\" };\n    var chartDef = axesDefinitions[seriesType];\n\n    if (!chartDef || !data.length) {\n        return state;\n    }\n\n    var firstRecord = data[0].slice();\n    state.columns = data[0].map(function (i) { return String(i.field); });\n\n    var categoryDef = chartDef.find(function (def) { return def.axisType === \"category\"; });\n    var catIndex = -1;\n    if (categoryDef) {\n        catIndex =\n            options && options.categoryAxis\n                ? state.columns.indexOf(options.categoryAxis)\n                : getCategoryColumnIndex(data, categoryDef);\n    }\n\n    var valuesDef = chartDef.filter(function (def) { return def.axisType === \"value\"; });\n    var valuesIndexes = getValueColumnIndexes(data, valuesDef);\n\n    if (valuesIndexes.includes(catIndex)) {\n        if (valuesIndexes.length > 1) {\n            valuesIndexes = valuesIndexes.filter(function (index) { return index !== catIndex; });\n        } else {\n            catIndex = -1;\n        }\n    }\n\n    var series = [];\n    valuesIndexes.forEach(function (index) {\n        var valuesColumn = firstRecord[index];\n        var valuesResult = [];\n        data.forEach(function (record) {\n            valuesResult.push(record[index].value);\n        });\n        series.push(Object.assign({}, {name: valuesColumn.field,\n            type: seriesType,\n            data: valuesResult,\n            stack: false,\n            labels: { visible: false }},\n            (seriesType === scatterType ? scatterSeries$1 : {})));\n    });\n\n    var categories =\n        catIndex > -1\n            ? data.map(function (item) { return String(\n                    hasValue(item[catIndex].value)\n                        ? item[catIndex].value\n                        : \" \"\n                ); }\n            )\n            : [];\n\n    if (series.length) {\n        state.series = series.map(function (s, i) { return (Object.assign({}, s, {id: i})); });\n        state.initialSeries = structuredClone(state.series);\n    }\n\n    state.categoryAxis = [\n        { categories: categories, labels: { visible: true, rotation: \"auto\" } } ];\n    state.categoryField = state.columns[catIndex];\n\n    return state;\n};\n\nvar pieChartState = function (data, seriesType, options) {\n    var state = emptyState();\n    state.seriesType = seriesType;\n    state.data = data || [];\n\n    var chartDef = axesDefinitions[seriesType];\n\n    if (!chartDef || !data.length) {\n        return state;\n    }\n\n    var categoriesAxis = data[0].map(function (i) { return i.field; });\n    var categoryDef = chartDef.find(function (def) { return def.axisType === \"category\"; });\n    var catIndex = -1;\n    if (categoryDef) {\n        catIndex =\n            options && options.categoryAxis\n                ? categoriesAxis.indexOf(options.categoryAxis)\n                : getCategoryColumnIndex(data, categoryDef);\n    }\n\n    var valuesDef = chartDef.filter(function (def) { return def.axisType === \"value\"; });\n\n    var valuesIndexes = [];\n    if (options && options.valueAxis) {\n        valuesIndexes = [categoriesAxis.indexOf(options.valueAxis)];\n    } else {\n        valuesIndexes = getValueColumnIndexes(data, valuesDef);\n    }\n\n    if (valuesIndexes.includes(catIndex) && valuesIndexes.length > 1) {\n        valuesIndexes = valuesIndexes.filter(function (index) { return index !== catIndex; });\n    }\n\n    if (typeof valuesDef[0].count === \"number\") {\n        valuesIndexes = valuesIndexes.slice(0, valuesDef[0].count);\n    }\n\n    var categories =\n        catIndex > -1 ? data.map(function (item) { return String(item[catIndex].value); }) : [];\n\n    var flatData = [];\n\n    data.forEach(function (item) {\n        var record = {};\n        valuesIndexes.forEach(function (index) {\n            var col = item[index];\n            record[col.field] = col.value || 0;\n            record[item[catIndex].field] = item[catIndex].value || \" \";\n        });\n        flatData.push(record);\n    });\n\n    state.columns = categoriesAxis;\n    state.categoryAxis = [{ categories: categories, title: { text: \"\" } }];\n\n    state.series = [\n        {\n            id: 0,\n            data: flatData,\n            type: seriesType,\n            name: categoriesAxis[catIndex],\n            labels: { visible: true },\n            categoryField: categoriesAxis[catIndex],\n            field: categoriesAxis[valuesIndexes[0]],\n        } ];\n\n    state.categoryField = categoriesAxis[catIndex];\n    state.valueField = categoriesAxis[valuesIndexes[0]];\n\n    state.initialSeries = structuredClone(state.series);\n\n    return state;\n};\n\nfunction createInitialState(data, seriesType, defaultState) {\n    var state = createState(\n        data,\n        (defaultState && defaultState.seriesType) || seriesType\n    );\n\n    return typeof (defaultState && defaultState.stack) !== \"undefined\"\n        ? updateState(state, ActionTypes.stacked, defaultState.stack)\n        : state;\n}\n\nfunction createState(data, seriesType) {\n    return (isCategorical(seriesType) ? categoryValueChartState : pieChartState)(\n        data,\n        seriesType\n    );\n}\n\nfunction mergeStates(source, target) {\n    var newState = structuredClone(target);\n    newState.legend = source.legend;\n    newState.area = source.area;\n    newState.title = source.title;\n    newState.subtitle = source.subtitle;\n    if (newState.series.length === source.series.length) {\n        for (var i = 0; i < newState.series.length; i++) {\n            newState.series[i].color = source.series[i].color;\n            newState.series[i].labels = source.series[i].labels;\n        }\n    }\n\n    if (\n        source.series.every(function (s) { return s.labels && s.labels.visible; }) &&\n        isCategorical(newState.seriesType) &&\n        isCategorical(source.seriesType)\n    ) {\n        newState.series.forEach(function (s) {\n            s.labels = s.labels || {};\n            s.labels.visible = true;\n        });\n    }\n\n    return newState;\n}\n\n/* eslint-disable complexity */\nfunction updateState(currentState, action, value) {\n    var state = Object.assign({}, currentState);\n\n    switch (action) {\n        case ActionTypes.seriesType:\n            return createState(state.data, value);\n\n        case ActionTypes.stacked:\n            state.series = state.series.map(function (s) { return (Object.assign({}, s, {stack: value})); });\n            state.stack = value;\n            return state;\n\n        case ActionTypes.categoryAxisX: {\n            if (state.seriesType && isCategorical(state.seriesType)) {\n                var newState = categoryValueChartState(\n                    state.data,\n                    state.seriesType,\n                    { categoryAxis: value }\n                );\n                return mergeStates(state, newState);\n            } else if (state.seriesType === pieType) {\n                var newState$1 = pieChartState(state.data, state.seriesType, {\n                    categoryAxis: value,\n                });\n                return mergeStates(state, newState$1);\n            }\n\n            return state;\n        }\n\n        case ActionTypes.valueAxisY: {\n            if (state.seriesType === pieType) {\n                var newState$2 = pieChartState(state.data, state.seriesType, {\n                    categoryAxis: state.categoryField,\n                    valueAxis: value,\n                });\n                return mergeStates(state, newState$2);\n            }\n\n            return state;\n        }\n\n        case ActionTypes.seriesChange:\n            state.series = value;\n            return state;\n\n        case ActionTypes.areaMarginLeft:\n            state.area = Object.assign({}, state.area,\n                {margin: Object.assign({}, ((state.area && state.area.margin) || {}),\n                    {left: value})});\n            return state;\n\n        case ActionTypes.areaMarginRight:\n            state.area = Object.assign({}, state.area,\n                {margin: Object.assign({}, ((state.area && state.area.margin) || {}),\n                    {right: value})});\n            return state;\n\n        case ActionTypes.areaMarginTop:\n            state.area = Object.assign({}, state.area,\n                {margin: Object.assign({}, ((state.area && state.area.margin) || {}),\n                    {top: value})});\n            return state;\n\n        case ActionTypes.areaMarginBottom:\n            state.area = Object.assign({}, state.area,\n                {margin: Object.assign({}, ((state.area && state.area.margin) || {}),\n                    {bottom: value})});\n            return state;\n\n        case ActionTypes.areaBackground:\n            state.area = Object.assign({}, state.area, {background: value});\n            return state;\n\n        case ActionTypes.titleText:\n            state.title = Object.assign({}, state.title, {text: value});\n            return state;\n\n        case ActionTypes.titleFontName: {\n            state.title = Object.assign({}, state.title,\n                {font: updateFontName(\n                    value,\n                    titleSizeDefault,\n                    state.title && state.title.font\n                )});\n            return state;\n        }\n        case ActionTypes.titleFontSize:\n            state.title = Object.assign({}, state.title,\n                {font: updateFontSize(\n                    value,\n                    fontNameDefault,\n                    state.title && state.title.font\n                )});\n            return state;\n\n        case ActionTypes.titleColor:\n            state.title = Object.assign({}, state.title, {color: value});\n            return state;\n\n        case ActionTypes.subtitleText:\n            state.subtitle = Object.assign({}, state.subtitle, {text: value});\n            return state;\n\n        case ActionTypes.subtitleFontName:\n            state.subtitle = Object.assign({}, state.subtitle,\n                {font: updateFontName(\n                    value,\n                    subtitleSizeDefault,\n                    state.subtitle && state.subtitle.font\n                )});\n            return state;\n\n        case ActionTypes.subtitleFontSize:\n            state.subtitle = Object.assign({}, state.subtitle,\n                {font: updateFontSize(\n                    value,\n                    fontNameDefault,\n                    state.subtitle && state.subtitle.font\n                )});\n            return state;\n\n        case ActionTypes.subtitleColor:\n            state.subtitle = Object.assign({}, state.subtitle, {color: value});\n            return state;\n\n        case ActionTypes.seriesColor:\n            state.series = state.series.map(function (s) { return (Object.assign({}, s,\n                {color: value.seriesName === s.name ? value.color : s.color})); });\n            return state;\n\n        case ActionTypes.seriesLabel:\n            state.series = state.series.map(function (s) {\n                if (value.all || value.seriesName === s.name) {\n                    return Object.assign({}, s, {labels: { visible: value.visible }});\n                }\n                return s;\n            });\n            return state;\n\n        case ActionTypes.legendVisible:\n            state.legend = Object.assign({}, state.legend, {visible: value});\n            return state;\n\n        case ActionTypes.legendFontName: {\n            var legend = state.legend || {};\n            state.legend = Object.assign({}, legend,\n                {labels: Object.assign({}, legend.labels,\n                    {font: updateFontName(\n                        value,\n                        labelSizeDefault,\n                        legend.labels && legend.labels.font\n                    )})});\n            return state;\n        }\n        case ActionTypes.legendFontSize: {\n            var legend$1 = state.legend || {};\n            state.legend = Object.assign({}, legend$1,\n                {labels: Object.assign({}, legend$1.labels,\n                    {font: updateFontSize(\n                        value,\n                        fontNameDefault,\n                        legend$1.labels && legend$1.labels.font\n                    )})});\n            return state;\n        }\n        case ActionTypes.legendColor: {\n            var legend$2 = state.legend || {};\n            state.legend = Object.assign({}, legend$2,\n                {labels: Object.assign({}, legend$2.labels, {color: value})});\n            return state;\n        }\n        case ActionTypes.legendPosition:\n            state.legend = Object.assign({}, state.legend, {position: value});\n            return state;\n\n        case ActionTypes.categoryAxisTitleText:\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {text: value})})); });\n            return state;\n\n        case ActionTypes.categoryAxisTitleFontName: {\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {font: updateFontName(value, axisTitleSizeDefault, axis.title && axis.title.font)})})); });\n            return state;\n        }\n        case ActionTypes.categoryAxisTitleFontSize:\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {font: updateFontSize(value, fontNameDefault, axis.title && axis.title.font)})})); });\n            return state;\n\n        case ActionTypes.categoryAxisTitleColor:\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {color: value})})); });\n            return state;\n\n        case ActionTypes.categoryAxisLabelsFontName: {\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {font: updateFontName(value, labelSizeDefault, axis.labels && axis.labels.font)})})); });\n            return state;\n        }\n\n        case ActionTypes.categoryAxisLabelsFontSize:\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {font: updateFontSize(value, fontNameDefault, axis.labels && axis.labels.font)})})); });\n            return state;\n\n        case ActionTypes.categoryAxisLabelsColor:\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {color: value})})); });\n            return state;\n\n        case ActionTypes.categoryAxisLabelsRotation: {\n            var rotation = hasValue(value) ? value : 'auto';\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {rotation: rotation})})); });\n            return state;\n        }\n        case ActionTypes.categoryAxisReverseOrder:\n            state.categoryAxis = (state.categoryAxis || []).map(function (axis) { return (Object.assign({}, axis, {reverse: value})); });\n            return state;\n\n        case ActionTypes.valueAxisTitleText: {\n            if (!state.valueAxis || state.valueAxis.length === 0) {\n                state.valueAxis = [{ title: { text: value } }];\n            } else {\n                state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {text: value})})); });\n            }\n            return state;\n        }\n        case ActionTypes.valueAxisTitleFontName: {\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {font: updateFontName(value, axisTitleSizeDefault, axis.title && axis.title.font)})})); });\n            return state;\n        }\n        case ActionTypes.valueAxisTitleFontSize:\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {font: updateFontSize(value, fontNameDefault, axis.title && axis.title.font)})})); });\n            return state;\n        case ActionTypes.valueAxisTitleColor:\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {title: Object.assign({}, axis.title, {color: value})})); });\n            return state;\n\n        case ActionTypes.valueAxisLabelsFormat:\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {format: value})})); });\n            return state;\n\n        case ActionTypes.valueAxisLabelsFontName: {\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {font: updateFontName(value, labelSizeDefault, axis.labels && axis.labels.font)})})); });\n            return state;\n        }\n        case ActionTypes.valueAxisLabelsFontSize:\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {font: updateFontSize(value, fontNameDefault, axis.labels && axis.labels.font)})})); });\n            return state;\n        case ActionTypes.valueAxisLabelsColor:\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {color: value})})); });\n            return state;\n\n        case ActionTypes.valueAxisLabelsRotation: {\n            var rotation$1 = hasValue(value) ? value : 'auto';\n            state.valueAxis = (state.valueAxis || []).map(function (axis) { return (Object.assign({}, axis, {labels: Object.assign({}, axis.labels, {rotation: rotation$1})})); });\n            return state;\n        }\n\n        default:\n            return state;\n    }\n}\n\nvar messages = Object.freeze({\n    windowTitle: 'Chart Preview',\n    exportButton: 'Export',\n    exportPDFButton: 'PDF File',\n    exportSVGButton: 'SVG File',\n    exportPNGButton: 'PNG File',\n    tabChart: 'Chart',\n    tabData: 'Data',\n    tabFormat: 'Format',\n    barChart: 'Bar Chart',\n    barChartBar: 'Bar',\n    barChartStackedBar: 'Stacked Bar',\n    barChart100StackedBar: '100% Stacked Bar',\n    pieChart: 'Pie Chart',\n    pieChartPie: 'Pie',\n    columnChart: 'Column Chart',\n    columnChartColumn: 'Column',\n    columnChartStackedColumn: 'Stacked Column',\n    columnChart100StackedColumn: '100% Stacked Column',\n    lineChart: 'Line Chart',\n    lineChartLine: 'Line',\n    lineChartStackedLine: 'Stacked Line',\n    lineChart100StackedLine: '100% Stacked Line',\n    scatterChart: 'Scatter Chart',\n    scatterChartScatter: 'Scatter',\n    configuration: 'Configuration',\n    configurationCategoryAxis: 'Category Axis',\n    configurationXAxis: 'X Axis',\n    configurationValueAxis: 'Value Axis',\n    configurationSeries: 'Series',\n    configurationSeriesAdd: 'Add',\n    formatChartArea: 'Chart Area',\n    formatChartAreaMargins: 'Margins',\n    formatChartAreaMarginsAuto: 'Auto',\n    formatChartAreaMarginsLeft: 'Left',\n    formatChartAreaMarginsRight: 'Right',\n    formatChartAreaMarginsTop: 'Top',\n    formatChartAreaMarginsBottom: 'Bottom',\n    formatChartAreaBackground: 'Background',\n    formatChartAreaBackgroundColor: 'Color',\n    formatTitle: 'Title',\n    formatTitleApplyTo: 'Apply to',\n    formatTitleChartTitle: 'Chart Title',\n    formatTitleChartSubtitle: 'Chart Subtitle',\n    formatTitleLabel: 'Title',\n    formatTitleFont: 'Font',\n    formatTitleFontPlaceholder: '(inherited font)',\n    formatTitleSize: 'Size',\n    formatTitleSizePlaceholder: 'px',\n    formatTitleColor: 'Color',\n    formatSeries: 'Series',\n    formatSeriesApplyTo: 'Apply to',\n    formatSeriesAllSeries: 'All Series',\n    formatSeriesColor: 'Color',\n    formatSeriesShowLabels: 'Show Labels',\n    formatLegend: 'Legend',\n    formatLegendShowLegend: 'Show Legend',\n    formatLegendFont: 'Font',\n    formatLegendFontPlaceholder: '(inherited font)',\n    formatLegendSize: 'Size',\n    formatLegendSizePlaceholder: 'px',\n    formatLegendColor: 'Color',\n    formatLegendPosition: 'Position',\n    formatLegendPositionTop: 'Top',\n    formatLegendPositionBottom: 'Bottom',\n    formatLegendPositionLeft: 'Left',\n    formatLegendPositionRight: 'Right',\n    formatCategoryAxis: 'Category Axis',\n    formatXAxis: 'X Axis',\n    formatCategoryAxisTitle: 'Title',\n    formatCategoryAxisTitlePlaceholder: 'Axis Title',\n    formatCategoryAxisTitleFont: 'Font',\n    formatCategoryAxisTitleFontPlaceholder: '(inherited font)',\n    formatCategoryAxisTitleSize: 'Size',\n    formatCategoryAxisTitleSizePlaceholder: 'px',\n    formatCategoryAxisTitleColor: 'Color',\n    formatCategoryAxisLabels: 'Labels',\n    formatCategoryAxisLabelsFont: 'Font',\n    formatCategoryAxisLabelsFontPlaceholder: '(inherited font)',\n    formatCategoryAxisLabelsSize: 'Size',\n    formatCategoryAxisLabelsSizePlaceholder: 'px',\n    formatCategoryAxisLabelsColor: 'Color',\n    formatCategoryAxisLabelsRotation: 'Rotation',\n    formatCategoryAxisLabelsRotationAuto: 'Auto',\n    formatCategoryAxisLabelsReverseOrder: 'Reverse Order',\n    formatValueAxis: 'Value Axis',\n    formatYAxis: 'Y Axis',\n    formatValueAxisTitle: 'Title',\n    formatValueAxisTitlePlaceholder: 'Axis Title',\n    formatValueAxisTitleFont: 'Font',\n    formatValueAxisTitleFontPlaceholder: '(inherited font)',\n    formatValueAxisTitleSize: 'Size',\n    formatValueAxisTitleSizePlaceholder: 'px',\n    formatValueAxisTitleColor: 'Color',\n    formatValueAxisLabels: 'Labels',\n    formatValueAxisLabelsFormat: 'Label Format',\n    formatValueAxisLabelsFormatText: 'Text',\n    formatValueAxisLabelsFormatNumber: 'Number',\n    formatValueAxisLabelsFormatCurrency: 'Currency',\n    formatValueAxisLabelsFormatPercent: 'Percent',\n    formatValueAxisLabelsFont: 'Font',\n    formatValueAxisLabelsFontPlaceholder: '(inherited font)',\n    formatValueAxisLabelsSize: 'Size',\n    formatValueAxisLabelsSizePlaceholder: 'px',\n    formatValueAxisLabelsColor: 'Color',\n    formatValueAxisLabelsRotation: 'Rotation',\n    formatValueAxisLabelsRotationAuto: 'Auto'\n});\n\nvar ChartWizardCommon = Object.freeze({\n    getWizardDataFromDataRows: getWizardDataFromDataRows,\n    ActionTypes: ActionTypes,\n    createInitialState: createInitialState,\n    createState: createState,\n    fontNames: fontNames,\n    fontSizes: fontSizes,\n    isCategorical: isCategorical,\n    mergeStates: mergeStates,\n    parseFont: parseFont,\n    updateState: updateState,\n    messages: messages\n});\n\nvar BAR_GAP = 1.5;\nvar BAR_SPACING = 0.4;\nvar BLACK = '#000';\nvar SANS = 'Arial, Helvetica, sans-serif';\nvar SANS11 = \"11px \" + SANS;\nvar SANS12 = '12px ' + SANS;\nvar SANS16 = '16px ' + SANS;\nvar TRANSPARENT = 'transparent';\nvar WHITE = '#fff';\n\nvar lineSeriesLegendItem = {\n    type: LINE\n};\n\nvar areaSeriesLegendItem = {\n    type: AREA\n};\n\nvar areaNoMarkersSeriesLegendItem = Object.assign({}, areaSeriesLegendItem,\n    {markers: {\n        visible: false\n    },\n    highlight: {\n        visible: false\n    }});\n\nvar notes = function () { return ({\n    icon: {\n        border: {\n            width: 1\n        }\n    },\n    label: {\n        font: SANS12,\n        padding: 3\n    },\n    line: {\n        length: 10,\n        width: 2\n    },\n    legendItem: areaNoMarkersSeriesLegendItem,\n    visible: true\n}); };\n\nvar axisDefaults = function () { return ({\n    labels: {\n        font: SANS12\n    },\n    notes: notes(),\n    title: {\n        font: SANS16,\n        margin: 5\n    }\n}); };\n\nvar areaSeries = function () { return ({\n    highlight: {\n        markers: {\n            border: {}\n        }\n    },\n    line: {\n        opacity: 1,\n        width: 0\n    },\n    markers: {\n        size: 6,\n        visible: false\n    },\n    legendItem: areaSeriesLegendItem,\n    opacity: 0.4\n}); };\n\nvar rangeAreaSeries = function () { return ({\n    highlight: {\n        markers: {\n            border: {}\n        }\n    },\n    line: {\n        opacity: 1,\n        width: 0\n    },\n    markers: {\n        size: 6,\n        visible: false\n    },\n    legendItem: areaSeriesLegendItem,\n    opacity: 0.4\n}); };\n\nvar barSeries = function () { return ({\n    gap: BAR_GAP,\n    spacing: BAR_SPACING,\n    legendItem: areaNoMarkersSeriesLegendItem,\n}); };\n\nvar boxPlotSeries = function () { return ({\n    outliersField: \"\",\n    meanField: \"\",\n    border: {\n        _brightness: 0.8,\n        width: 1\n    },\n    downColor: WHITE,\n    gap: 1,\n    highlight: {\n        border: {\n            opacity: 1,\n            width: 2\n        },\n        whiskers: {\n            width: 3\n        },\n        mean: {\n            width: 2\n        },\n        median: {\n            width: 2\n        }\n    },\n    mean: {\n        width: 2\n    },\n    median: {\n        width: 2\n    },\n    spacing: 0.3,\n    whiskers: {\n        width: 2\n    },\n    legendItem: areaNoMarkersSeriesLegendItem,\n}); };\n\nvar bubbleSeries = function () { return ({\n    border: {\n        width: 0\n    },\n    labels: {\n        background: TRANSPARENT\n    },\n    legendItem: areaNoMarkersSeriesLegendItem,\n    opacity: 0.6\n}); };\n\nvar bulletSeries = function () { return ({\n    gap: BAR_GAP,\n    spacing: BAR_SPACING,\n    target: {\n        color: \"#ff0000\"\n    },\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar candlestickSeries = function () { return ({\n    border: {\n        _brightness: 0.8,\n        width: 1\n    },\n    downColor: WHITE,\n    gap: 1,\n    highlight: {\n        border: {\n            opacity: 1,\n            width: 2\n        },\n        line: {\n            width: 2\n        }\n    },\n    line: {\n        color: BLACK,\n        width: 1\n    },\n    legendItem: areaNoMarkersSeriesLegendItem,\n    spacing: 0.3\n}); };\n\nvar columnSeries = function () { return ({\n    gap: BAR_GAP,\n    spacing: BAR_SPACING,\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar radarColumnSeries = function () { return ({\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar polarScatterSeries = function () { return ({\n    legendItem: lineSeriesLegendItem\n}); };\n\nvar scatterSeries = function () { return ({\n    legendItem: lineSeriesLegendItem\n}); };\n\nvar donutSeries = function () { return ({\n    margin: 1,\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar lineSeries = function () { return ({\n    width: 2,\n    legendItem: lineSeriesLegendItem\n}); };\n\nvar ohlcSeries = function () { return ({\n    gap: 1,\n    highlight: {\n        line: {\n            opacity: 1,\n            width: 3\n        }\n    },\n    line: {\n        width: 1\n    },\n    legendItem: areaNoMarkersSeriesLegendItem,\n    spacing: 0.3\n}); };\n\nvar radarAreaSeries = function () { return ({\n    line: {\n        opacity: 1,\n        width: 0\n    },\n    markers: {\n        size: 6,\n        visible: false\n    },\n    legendItem: areaSeriesLegendItem,\n    opacity: 0.5\n}); };\n\nvar radarLineSeries = function () { return ({\n    markers: {\n        visible: false\n    },\n    legendItem: lineSeriesLegendItem,\n    width: 2\n}); };\n\nvar rangeBarSeries = function () { return ({\n    gap: BAR_GAP,\n    spacing: BAR_SPACING,\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar rangeColumnSeries = function () { return ({\n    gap: BAR_GAP,\n    spacing: BAR_SPACING,\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar scatterLineSeries = function () { return ({\n    width: 1,\n    legendItem: lineSeriesLegendItem\n}); };\n\nvar waterfallSeries = function () { return ({\n    gap: 0.5,\n    line: {\n        color: BLACK,\n        width: 1\n    },\n    legendItem: areaNoMarkersSeriesLegendItem,\n    spacing: BAR_SPACING\n}); };\n\nvar pieSeries = function () { return ({\n    labels: {\n        background: '',\n        color: '',\n        padding: {\n            top: 5,\n            bottom: 5,\n            left: 7,\n            right: 7\n        }\n    },\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar funnelSeries = function () { return ({\n    labels: {\n        background: '',\n        color: '',\n        padding: {\n            top: 5,\n            bottom: 5,\n            left: 7,\n            right: 7\n        }\n    },\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar pyramidSeries = funnelSeries;\n\nvar heatmapSeries = function () { return ({\n    labels: {\n        color: '',\n        background: TRANSPARENT,\n        visible: true\n    },\n    highlight: {\n        border: {\n            width: 0\n        }\n    },\n    legendItem: areaNoMarkersSeriesLegendItem\n}); };\n\nvar trendlineSeriesDefaults = function (options) { return Object.assign({\n    color: INHERIT,\n    trendline: {},\n    markers: {\n        visible: false\n    },\n    width: 1,\n    dashType: 'longDash',\n    legendItem: lineSeriesLegendItem\n}, options); };\n\nvar seriesDefaults = function (options) { return ({\n    visible: true,\n    labels: {\n        font: SANS11\n    },\n    overlay: options.gradients ? {} : {\n        gradient: \"none\"\n    },\n    area: areaSeries(),\n    rangeArea: rangeAreaSeries(),\n    verticalRangeArea: rangeAreaSeries(),\n    bar: barSeries(),\n    boxPlot: boxPlotSeries(),\n    bubble: bubbleSeries(),\n    bullet: bulletSeries(),\n    candlestick: candlestickSeries(),\n    column: columnSeries(),\n    heatmap: heatmapSeries(),\n    pie: pieSeries(),\n    donut: donutSeries(),\n    funnel: funnelSeries(),\n    pyramid: pyramidSeries(),\n    horizontalWaterfall: waterfallSeries(),\n    line: lineSeries(),\n    notes: notes(),\n    ohlc: ohlcSeries(),\n    radarArea: radarAreaSeries(),\n    radarLine: radarLineSeries(),\n    radarColumn: radarColumnSeries(),\n    polarArea: radarAreaSeries(),\n    polarLine: radarLineSeries(),\n    polarScatter: polarScatterSeries(),\n    rangeBar: rangeBarSeries(),\n    rangeColumn: rangeColumnSeries(),\n    scatter: scatterSeries(),\n    scatterLine: scatterLineSeries(),\n    verticalArea: areaSeries(),\n    verticalBoxPlot: boxPlotSeries(),\n    verticalBullet: bulletSeries(),\n    verticalLine: lineSeries(),\n    waterfall: waterfallSeries(),\n    linearTrendline: trendlineSeriesDefaults(),\n    exponentialTrendline: trendlineSeriesDefaults({ style: 'smooth' }),\n    logarithmicTrendline: trendlineSeriesDefaults({ style: 'smooth' }),\n    polynomialTrendline: trendlineSeriesDefaults({ style: 'smooth' }),\n    powerTrendline: trendlineSeriesDefaults({ style: 'smooth' }),\n    movingAverageTrendline: trendlineSeriesDefaults()\n}); };\n\nvar title = function () { return ({\n    font: SANS16\n}); };\n\nvar subtitle = function () { return ({\n    font: SANS12\n}); };\n\nvar legend = function () { return ({\n    labels: {\n        font: SANS12\n    }\n}); };\n\nvar baseTheme = function (options) {\n    if ( options === void 0 ) options = {};\n\n    return ({\n    axisDefaults: axisDefaults(),\n    categoryAxis: {\n        majorGridLines: {\n            visible: true\n        }\n    },\n    navigator: {\n        pane: {\n            height: 90,\n            margin: {\n                top: 10\n            }\n        }\n    },\n    seriesDefaults: seriesDefaults(options),\n    title: title(),\n    subtitle: subtitle(),\n    legend: legend()\n});\n};\n\nvar chartExport = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    Aggregates: Aggregates,\n    AreaChart: AreaChart,\n    AreaSegment: AreaSegment,\n    AxisGroupRangeTracker: AxisGroupRangeTracker,\n    Bar: Bar,\n    BarChart: BarChart,\n    BarLabel: BarLabel,\n    BoxPlot: BoxPlot,\n    BoxPlotChart: BoxPlotChart,\n    BubbleChart: BubbleChart,\n    Bullet: Bullet,\n    BulletChart: BulletChart,\n    Candlestick: Candlestick,\n    CandlestickChart: CandlestickChart,\n    CategoricalChart: CategoricalChart,\n    CategoricalErrorBar: CategoricalErrorBar,\n    CategoricalPlotArea: CategoricalPlotArea,\n    Chart: Chart,\n    ChartAxis: ChartAxis,\n    ChartContainer: ChartContainer,\n    ChartPane: ChartPane,\n    ChartPlotArea: ChartPlotArea,\n    ClipAnimation: ClipAnimation,\n    ClusterLayout: ClusterLayout,\n    Crosshair: Crosshair,\n    CrosshairTooltip: CrosshairTooltip,\n    DefaultAggregates: DefaultAggregates,\n    DonutChart: DonutChart,\n    DonutPlotArea: DonutPlotArea,\n    DonutSegment: DonutSegment,\n    ErrorBarBase: ErrorBarBase,\n    ErrorRangeCalculator: ErrorRangeCalculator,\n    Highlight: Highlight,\n    Legend: Legend$1,\n    LegendItem: LegendItem,\n    LegendLayout: LegendLayout,\n    LineChart: LineChart,\n    LinePoint: LinePoint,\n    LineSegment: LineSegment,\n    MousewheelZoom: MousewheelZoom,\n    OHLCChart: OHLCChart,\n    OHLCPoint: OHLCPoint,\n    Pane: Pane$1,\n    Pannable: Pannable,\n    PieAnimation: PieAnimation,\n    PieChart: PieChart,\n    PieChartMixin: PieChartMixin,\n    PiePlotArea: PiePlotArea,\n    PieSegment: PieSegment,\n    PlotAreaBase: PlotAreaBase,\n    PlotAreaEventsMixin: PlotAreaEventsMixin,\n    PlotAreaFactory: PlotAreaFactory,\n    PointEventsMixin: PointEventsMixin,\n    RangeAreaChart: RangeAreaChart,\n    RangeAreaPoint: RangeAreaPoint,\n    RangeBar: RangeBar,\n    RangeBarChart: RangeBarChart,\n    ScatterChart: ScatterChart,\n    ScatterErrorBar: ScatterErrorBar,\n    ScatterLineChart: ScatterLineChart,\n    Selection: Selection,\n    SeriesAggregator: SeriesAggregator,\n    SeriesBinder: SeriesBinder,\n    SharedTooltip: SharedTooltip$1,\n    SplineAreaSegment: SplineAreaSegment,\n    SplineSegment: SplineSegment,\n    StackWrap: StackWrap,\n    Tooltip: Tooltip$1,\n    WaterfallChart: WaterfallChart,\n    WaterfallSegment: WaterfallSegment,\n    XYPlotArea: XYPlotArea,\n    ZoomSelection: ZoomSelection,\n    anyHasZIndex: anyHasZIndex,\n    appendIfNotNull: appendIfNotNull,\n    areNumbers: areNumbers,\n    bindSegments: bindSegments,\n    categoriesCount: categoriesCount,\n    constants: constants$1,\n    countNumbers: countNumbers,\n    createOutOfRangePoints: createOutOfRangePoints,\n    equalsIgnoreCase: equalsIgnoreCase,\n    evalOptions: evalOptions,\n    filterSeriesByType: filterSeriesByType,\n    findAxisByName: findAxisByName,\n    getField: getField,\n    hasGradientOverlay: hasGradientOverlay,\n    hasValue: hasValue$2,\n    isDateAxis: isDateAxis,\n    parseDateCategory: parseDateCategory,\n    segmentVisible: segmentVisible,\n    singleItemOrArray: singleItemOrArray\n});\n\nexport { ArcGauge as A, Box as B, Chart as C, DomEventsBuilder as D, Navigator$1 as E, NavigatorHint as F, GRADIENTS as G, Sparkline as H, InstanceObserver as I, LinearGauge as L, NAVIGATOR_AXIS as N, Point$5 as P, RadialGauge as R, SeriesBinder as S, TextBox as T, chartExport as a, baseTheme as b, coreExport as c, constants$1 as d, defined as e, grep as f, getField as g, hasOwnProperty as h, interpolateValue as i, inArray as j, Sankey as k, createSankeyData as l, mousewheelDelta as m, CircularGauge as n, LinearScale as o, RadialScale as p, RadialPointer as q, round$1 as r, services as s, LinearPointer as t, BarLinearPointer as u, ArrowLinearPointer as v, getSpacing as w, NAVIGATOR_PANE as x, StockChart as y, constants as z };\nexport { __meta__ };"]}
{"version":3,"file":"kendo.dropdownbutton.js","names":["__meta__","id","name","category","description","depends","$","kendo","window","Widget","ui","NS","keys","extend","html","outerWidth","_outerWidth","ARIA_DISABLED","ARIA_LABEL","ARIA_EXPANDED","DISABLED","DISABLEDSTATE","CLICK","OPEN","CLOSE","FOCUS","cssClasses","DropDownButton","init","element","options","that","this","enabled","prop","fn","call","wrapper","_mainButton","_renderMenu","_enable","_aria","_attachEvents","notify","_applyCssClasses","direction","items","rounded","size","fillMode","themeColor","showArrowButton","icon","popup","messages","labelSuffix","events","type","attr","click","addClass","renderButton","append","htmlEncode","appendTo","arrowButton","find","remove","menu","list","text","document","body","kendoButtonMenu","mainButton","toggleTarget","menuOpen","menuOpenHandler","bind","menuClose","menuCloseHandler","menuClick","_click","data","ev","computedWidth","trigger","target","preventDefault","sender","adjustPopupWidth","on","_keydown","originalEvent","close","is","keyCode","ENTER","SPACEBAR","focus","enable","soft","toggleClass","removeAttr","menuItem","length","hide","show","open","setOptions","destroy","off","plugin","jQuery","kendo$1"],"sources":["kendo.dropdownbutton.js"],"mappings":"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","ignoreList":[],"sourcesContent":["import './kendo.html.button.js';\nimport './kendo.button.menu.js';\n\nconst __meta__ = {\n    id: \"dropdownbutton\",\n    name: \"DropDownButton\",\n    category: \"web\",\n    description: \"The DropDownButton allows the user to execute an action from a drop-down list.\",\n    depends: [\"button.menu\", \"html.button\"]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoDropDownButton\",\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        html = kendo.html,\n        outerWidth = kendo._outerWidth,\n\n        DOT = \".\",\n        ID = \"id\",\n\n        ARIA_HASPOPUP = \"aria-haspopup\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"k-disabled\",\n\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n\n        FOCUS = \"focus\";\n\n    var cssClasses = {\n        menuButton: \"k-menu-button\",\n    };\n\n    var DropDownButton = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options.enabled = options.enabled !== false && !$(element).prop(DISABLED);\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            that._mainButton();\n            that._renderMenu();\n\n            that._enable(that.options.enabled);\n\n            that._aria();\n\n            that._attachEvents();\n\n            kendo.notify(that);\n\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownButton\",\n            direction: \"down\",\n            enabled: true,\n            items: [],\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            showArrowButton: false,\n            icon: null,\n            popup: null,\n            messages: {\n                labelSuffix: \"dropdownbutton\"\n            }\n        },\n\n        events: [\n            CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _mainButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: that.element.attr(\"type\") || \"button\"\n                });\n\n            delete options.click;\n\n            that.element.addClass(cssClasses.menuButton);\n\n            html.renderButton(that.element, options);\n\n            if (that.options.showArrowButton) {\n                $(\"<span></span>\")\n                    .addClass(\"k-button-arrow\")\n                    .addClass(\"k-menu-button-arrow\")\n                    .append(kendo.ui.icon(kendo.htmlEncode(\"caret-alt-down\")))\n                    .appendTo(that.element);\n            } else {\n                const arrowButton = that.element.find(\".k-button-arrow\");\n                if (arrowButton) {\n                    arrowButton.remove();\n                }\n            }\n        },\n\n        _aria: function() {\n            var that = this,\n                element = that.element,\n                menu = that.menu;\n\n            element.attr(ARIA_HASPOPUP, menu ? \"menu\" : null);\n            element.attr(ARIA_EXPANDED, menu ? false : null);\n            element.attr(ARIA_CONTROLS, menu ? menu.list.attr(ID) : null);\n\n            if (!element.attr(ARIA_LABEL)) {\n                element.attr(ARIA_LABEL, element.text() + \" \" + that.options.messages.labelSuffix);\n            }\n        },\n\n        _renderMenu: function() {\n            var that = this,\n                options = extend({}, that.options),\n                menu = $(\"<div></div>\");\n\n            delete options.click;\n            delete options.name;\n\n            that.menu = menu.appendTo(document.body).kendoButtonMenu(extend({\n                mainButton: that.element,\n                toggleTarget: that.element,\n                menuOpen: that.menuOpenHandler.bind(that),\n                menuClose: that.menuCloseHandler.bind(that),\n                menuClick: that._click.bind(that)\n            }, options)).data(\"kendoButtonMenu\");\n        },\n\n        menuOpenHandler: function(ev) {\n            var that = this,\n                computedWidth = outerWidth(that.element);\n\n            var isDefaultPrevented = that.trigger(OPEN, { target: that.element });\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            ev.sender.adjustPopupWidth(computedWidth);\n            that.element.attr(ARIA_EXPANDED, true);\n        },\n\n        menuCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE, { target: that.element });\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.element.attr(ARIA_EXPANDED, false);\n            that.element.trigger(FOCUS);\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(KEYDOWN + NS, that._keydown.bind(that));\n        },\n\n        _click: function(ev) {\n            var that = this,\n                id = ev.id,\n                target = ev.target,\n                originalEvent = ev.originalEvent;\n\n            that.menu.close();\n\n            that.trigger(CLICK, { id: id, target: target, originalEvent: originalEvent });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if (that.element.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.ENTER || ev.keyCode === keys.SPACEBAR)) {\n                ev.preventDefault();\n            }\n        },\n\n        focus: function() {\n            var that = this;\n            that.element.trigger(FOCUS);\n        },\n\n        _enable: function(enable, soft) {\n            this.element\n                .toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                this.element.removeAttr(ARIA_DISABLED);\n            } else {\n                this.element.attr(ARIA_DISABLED, !enable);\n            }\n\n            if (!soft) {\n                this.element.attr(DISABLED, !enable);\n            }\n        },\n\n        enable: function(enable, menuItem, soft) {\n            var that = this;\n\n            if (enable === undefined$1) {\n                enable = true;\n            }\n\n            if (menuItem && menuItem.length) {\n                that.menu.enable(enable, menuItem);\n                return;\n            }\n\n            that.options.enabled = enable;\n\n            that._enable(enable, soft);\n            that.menu.enable(enable);\n        },\n\n        hide: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.hide(menuItem);\n            }\n        },\n\n        show: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.show(menuItem);\n            }\n        },\n\n        open: function() {\n            this.menu.open();\n        },\n\n        close: function() {\n            this.menu.close();\n        },\n\n        items: function() {\n            return this.menu.items();\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.popup || options.items || options.size) {\n                that.menu.destroy();\n                that._renderMenu();\n            }\n\n            that._mainButton();\n\n            that._aria();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.menu.destroy();\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    ui.plugin(DropDownButton);\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { __meta__, kendo$1 as default };\n"]}
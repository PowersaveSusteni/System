{"version":3,"file":"kendo.data-query.cmn.chunk.js","names":["__meta__","id","name","category","description","depends","hidden","chunk","isPresent","value","isBlank","isArray","Array","isFunction","isString","isTruthy","isNullOrEmptyString","trim","length","isNotNullOrEmptyString","isNumeric","isNaN","parseFloat","isDate","getTime","isCompositeFilterDescriptor","source","filters","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","adopt","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__createBinding","o","m","k","k2","undefined","__exportStar","exports","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","set","templateObject_1$1","templateObject_2$1","templateObject_1","templateObject_2","ifElse","predicate","right","left","compose","args","_i","data","reduceRight","acc","curr","constant","x","identity$2","wrapIf","str","toUTC","date","Date","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","quote","_a","field","ignoreCase","operator","replace","encodeValue","encodeURIComponent","toLower","normalizeField","isStringValue","isDateValue","serializeFilters","map","join","filter","brackets","operatorMap","equal","equals","equalto","ge","greater","greaterthan","greaterthanequal","isempty","isequalto","isgreaterthan","isgreaterthanorequalto","islessthan","islessthanorequalto","isnotempty","isnotequalto","isnull","le","less","lessthan","lessthanequal","ne","notequal","notequals","notequalto","notsubstringof","toLowerCase","normalizeOperator","descriptor","normalizeDescriptor","logic","normalizeFilters","formatDate$1","utcDates","toISOString","fnFormatter","singleOperatorFormatter","stringFormat","formatter","stringFnOperator","settings","stringOperator","numericOperator","dateOperator","ifDate","typedOperator","appendEqual","nonValueExpression","filterOperators","contains","doesnotcontain","endswith","eq","gt","gte","isnotnull","lt","lte","neq","startswith","join$1","serialize$1","serializeAll","serializeFilter$1","serializeSort$1","orderby","sort","dir","order","emptyString","concat$1","serializeKey","strings","val","rules$1","state","skip","take","toODataString","keys","getterCache","FIELD_REGEX","obj","FilterOperator","getter","safe","fields","index","indexAccessor","idx","toQueryString","values","reduce","toObject","_b","pairwise","empty","isNotEmptyArray","accessor","isNotEmpty","runOrEmpty","fn","calcPage","Math","floor","formatDescriptors","removeAfter","what","slice","patterns","RegExp","sanitizeDateLiterals","removeAfterDot","directionFormatter","aggregateFormatter","aggregate","take$1","aggregates","skip$1","group","formatSort","formatGroup","formatAggregates","prefixDateValue","formatDateValue","JSON","stringify","formatDate","normalizeSort","transformSkip","transformTake","transformGroup","transformSort","transformAggregates","serializePage","serializePageSize","serializeGroup","serializeAggregates","serializeSort","hasField","filterFormatter","dateFormatter","typedFormatter","encode","serialize","serializeFilter","rules","toDataSourceRequestString","toDataSourceRequest","toCamelCase","g1","prop","fieldName","member","aggregateMethodName","convert","mapper","bind","translateAggregate","translateAggregates","valueOrDefault","defaultValue","normalizeGroup","Aggregates","Member","hasSubgroups","HasSubgroups","items","Items","Key","translateGroup","translateDataSourceResultGroups","translateAggregateResults","compare","localeCompare","compareDesc","descriptorAsFunc","initial","composeSortDescriptors","descriptors","valueToString","groupCombinator","position","agg","groupValue","__position","expandAggregates","forEach","aggregatesFuncs","average","count","calc","max","Number","NEGATIVE_INFINITY","min","POSITIVE_INFINITY","sum","aggregatesCombinator","functions","fieldAccessor","aggregateName","aggregateAccessor","fieldAggregates","aggregateFunction","arr","transform","isTransformerResult","__value","reduced","takeWhile","exec","initialValue","length_1","identity$1","aggregateBy","transformers","or","identity","and","operatorsMap","doesnotendwith","doesnotstartwith","lastIndexOf","dateRegExp","convertValue","typedGetter","transformFilter","itemProp","transformCompositeFilter","combiner","compileFilter","filterBy","normalizeGroups","groupBy","originalData","view","aggregateResult","filteredData","orderBy","some","comparer","defaultComparer","normalizeComparer","accessor_1","_distinct","xs","findIndex","distinct","counter","limit","process","skipCount","takeCount","filterDescriptor","sortDescriptors","total","hasFilters","hasGroups"],"sources":["kendo.data-query.cmn.chunk.js"],"mappings":"AAEA,MAAMA,SAAW,CACbC,GAAI,uBACJC,KAAM,oBACNC,SAAU,MACVC,YAAa,oCACbC,QAAS,GACTC,QAAQ,EACRC,OAAO,GAMX,IAAIC,UAAY,SAAUC,GAAS,OAAOA,OAAuC,EAI7EC,QAAU,SAAUD,GAAS,OAAOA,OAAuC,EAI3EE,QAAU,SAAUF,GAAS,OAAOG,MAAMD,QAAQF,EAAQ,EAI1DI,WAAa,SAAUJ,GAAS,MAAwB,mBAAVA,CAAsB,EAIpEK,SAAW,SAAUL,GAAS,MAAwB,iBAAVA,CAAoB,EAIhEM,SAAW,SAAUN,GAAS,QAASA,CAAO,EAI9CO,oBAAsB,SAAUP,GAAS,OAAOC,QAAQD,IAAkC,IAAxBA,EAAMQ,OAAOC,MAAc,EAI7FC,uBAAyB,SAAUV,GAAS,OAAQO,oBAAoBP,EAAQ,EAIhFW,UAAY,SAAUX,GAAS,OAAQY,MAAMZ,EAAQa,WAAWb,GAAS,EAIzEc,OAAS,SAAUd,GAAS,OAAOA,GAASA,EAAMe,OAAS,EAO3DC,4BAA8B,SAAUC,GACxC,OAAOlB,UAAUkB,EAAOC,QAC5B,EAkBIC,cAAgB,SAASC,EAAGC,GAI5B,OAHAF,cAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBrB,OAAS,SAAUiB,EAAGC,GAAKD,EAAEI,UAAYH,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAII,KAAKJ,EAAOA,EAAEK,eAAeD,KAAIL,EAAEK,GAAKJ,EAAEI,GAAI,EACtEN,cAAcC,EAAGC,EAC5B,EAEA,SAASM,UAAUP,EAAGC,GAElB,SAASO,IAAOC,KAAKC,YAAcV,CAAG,CADtCD,cAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,IAAIH,EACnF,CAEA,IAAIK,SAAW,WAQX,OAPAA,SAAWX,OAAOY,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAU9B,OAAQ4B,EAAIC,EAAGD,IAE5C,IAAK,IAAIZ,KADTW,EAAIG,UAAUF,GACOf,OAAOS,UAAUL,eAAec,KAAKJ,EAAGX,KAAIU,EAAEV,GAAKW,EAAEX,IAE9E,OAAOU,CACX,EACOF,SAASQ,MAAMZ,KAAMU,UAChC,EAEA,SAASG,OAAON,EAAGO,GACf,IAAIR,EAAI,CAAC,EACT,IAAK,IAAIV,KAAKW,EAAOd,OAAOS,UAAUL,eAAec,KAAKJ,EAAGX,IAAMkB,EAAEC,QAAQnB,GAAK,IAC9EU,EAAEV,GAAKW,EAAEX,IACb,GAAS,MAALW,GAAqD,mBAAjCd,OAAOuB,sBACtB,KAAIR,EAAI,EAAb,IAAgBZ,EAAIH,OAAOuB,sBAAsBT,GAAIC,EAAIZ,EAAEhB,OAAQ4B,IAC3DM,EAAEC,QAAQnB,EAAEY,IAAM,GAAKf,OAAOS,UAAUe,qBAAqBN,KAAKJ,EAAGX,EAAEY,MACvEF,EAAEV,EAAEY,IAAMD,EAAEX,EAAEY,IAF4B,CAItD,OAAOF,CACX,CAEA,SAASY,WAAWC,EAAYC,EAAQC,EAAKC,GACzC,IAA2H/B,EAAvHgC,EAAIb,UAAU9B,OAAQ4C,EAAID,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAO7B,OAAOgC,yBAAyBL,EAAQC,GAAOC,EACrH,GAAuB,iBAAZI,SAAoD,mBAArBA,QAAQC,SAAyBH,EAAIE,QAAQC,SAASR,EAAYC,EAAQC,EAAKC,QACpH,IAAK,IAAId,EAAIW,EAAWvC,OAAS,EAAG4B,GAAK,EAAGA,KAASjB,EAAI4B,EAAWX,MAAIgB,GAAKD,EAAI,EAAIhC,EAAEiC,GAAKD,EAAI,EAAIhC,EAAE6B,EAAQC,EAAKG,GAAKjC,EAAE6B,EAAQC,KAASG,GAChJ,OAAOD,EAAI,GAAKC,GAAK/B,OAAOmC,eAAeR,EAAQC,EAAKG,GAAIA,CAChE,CAEA,SAASK,QAAQC,EAAYC,GACzB,OAAO,SAAUX,EAAQC,GAAOU,EAAUX,EAAQC,EAAKS,EAAa,CACxE,CAEA,SAASE,WAAWC,EAAaC,GAC7B,GAAuB,iBAAZR,SAAoD,mBAArBA,QAAQS,SAAyB,OAAOT,QAAQS,SAASF,EAAaC,EACpH,CAEA,SAASE,UAAUC,EAASC,EAAYC,EAAGC,GAEvC,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUzE,GAAS,IAAM0E,EAAKL,EAAUM,KAAK3E,GAAS,CAAE,MAAO2C,GAAK6B,EAAO7B,EAAI,CAAE,CAC1F,SAASiC,EAAS5E,GAAS,IAAM0E,EAAKL,EAAiB,MAAErE,GAAS,CAAE,MAAO2C,GAAK6B,EAAO7B,EAAI,CAAE,CAC7F,SAAS+B,EAAKG,GAAUA,EAAOC,KAAOP,EAAQM,EAAO7E,OAJzD,SAAeA,GAAS,OAAOA,aAAiBoE,EAAIpE,EAAQ,IAAIoE,GAAE,SAAUG,GAAWA,EAAQvE,EAAQ,GAAI,CAIzC+E,CAAMF,EAAO7E,OAAOgF,KAAKP,EAAWG,EAAW,CAC7GF,GAAML,EAAYA,EAAU5B,MAAMyB,EAASC,GAAc,KAAKQ,OAClE,GACJ,CAEA,SAASM,YAAYf,EAASgB,GAC1B,IAAsGC,EAAGC,EAAGjD,EAAGkD,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPrD,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGsD,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAIC,MAASD,EAAK,GAAIE,OAAUF,EAAK,IAAwB,mBAAXG,SAA0BT,EAAES,OAAOC,UAAY,WAAa,OAAOlE,IAAM,GAAIwD,EACvJ,SAASM,EAAKrD,GAAK,OAAO,SAAU0D,GAAK,OACzC,SAAcC,GACV,GAAId,EAAG,MAAM,IAAIe,UAAU,mCAC3B,KAAOZ,OACH,GAAIH,EAAI,EAAGC,IAAMjD,EAAY,EAAR8D,EAAG,GAASb,EAAU,OAAIa,EAAG,GAAKb,EAAS,SAAOjD,EAAIiD,EAAU,SAAMjD,EAAEK,KAAK4C,GAAI,GAAKA,EAAET,SAAWxC,EAAIA,EAAEK,KAAK4C,EAAGa,EAAG,KAAKnB,KAAM,OAAO3C,EAE3J,OADIiD,EAAI,EAAGjD,IAAG8D,EAAK,CAAS,EAARA,EAAG,GAAQ9D,EAAEnC,QACzBiG,EAAG,IACP,KAAK,EAAG,KAAK,EAAG9D,EAAI8D,EAAI,MACxB,KAAK,EAAc,OAAXX,EAAEC,QAAgB,CAAEvF,MAAOiG,EAAG,GAAInB,MAAM,GAChD,KAAK,EAAGQ,EAAEC,QAASH,EAAIa,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKX,EAAEI,IAAIS,MAAOb,EAAEG,KAAKU,MAAO,SACxC,QACI,KAAMhE,EAAImD,EAAEG,MAAMtD,EAAIA,EAAE1B,OAAS,GAAK0B,EAAEA,EAAE1B,OAAS,KAAkB,IAAVwF,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEX,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVW,EAAG,MAAc9D,GAAM8D,EAAG,GAAK9D,EAAE,IAAM8D,EAAG,GAAK9D,EAAE,IAAM,CAAEmD,EAAEC,MAAQU,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYX,EAAEC,MAAQpD,EAAE,GAAI,CAAEmD,EAAEC,MAAQpD,EAAE,GAAIA,EAAI8D,EAAI,KAAO,CACpE,GAAI9D,GAAKmD,EAAEC,MAAQpD,EAAE,GAAI,CAAEmD,EAAEC,MAAQpD,EAAE,GAAImD,EAAEI,IAAIU,KAAKH,GAAK,KAAO,CAC9D9D,EAAE,IAAImD,EAAEI,IAAIS,MAChBb,EAAEG,KAAKU,MAAO,SAEtBF,EAAKf,EAAK1C,KAAK0B,EAASoB,EAC5B,CAAE,MAAO3C,GAAKsD,EAAK,CAAC,EAAGtD,GAAIyC,EAAI,CAAG,CAAE,QAAUD,EAAIhD,EAAI,CAAG,CACzD,GAAY,EAAR8D,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEjG,MAAOiG,EAAG,GAAKA,EAAG,QAAK,EAAQnB,MAAM,EAC9E,CAtBgDJ,CAAK,CAACpC,EAAG0D,GAAK,CAAG,CAuBrE,CAEA,SAASK,gBAAgBC,EAAGC,EAAGC,EAAGC,QACnBC,IAAPD,IAAkBA,EAAKD,GAC3BF,EAAEG,GAAMF,EAAEC,EACd,CAEA,SAASG,aAAaJ,EAAGK,GACrB,IAAK,IAAInF,KAAK8E,EAAa,YAAN9E,GAAoBmF,EAAQlF,eAAeD,KAAImF,EAAQnF,GAAK8E,EAAE9E,GACvF,CAEA,SAASoF,SAASP,GACd,IAAIlE,EAAsB,mBAAX0D,QAAyBA,OAAOC,SAAUQ,EAAInE,GAAKkE,EAAElE,GAAIC,EAAI,EAC5E,GAAIkE,EAAG,OAAOA,EAAE/D,KAAK8D,GACrB,GAAIA,GAAyB,iBAAbA,EAAE7F,OAAqB,MAAO,CAC1CkE,KAAM,WAEF,OADI2B,GAAKjE,GAAKiE,EAAE7F,SAAQ6F,OAAI,GACrB,CAAEtG,MAAOsG,GAAKA,EAAEjE,KAAMyC,MAAOwB,EACxC,GAEJ,MAAM,IAAIJ,UAAU9D,EAAI,0BAA4B,kCACxD,CAEA,SAAS0E,OAAOR,EAAGhE,GACf,IAAIiE,EAAsB,mBAAXT,QAAyBQ,EAAER,OAAOC,UACjD,IAAKQ,EAAG,OAAOD,EACf,IAAmBjD,EAAYV,EAA3BN,EAAIkE,EAAE/D,KAAK8D,GAAOS,EAAK,GAC3B,IACI,WAAc,IAANzE,GAAgBA,KAAM,MAAQe,EAAIhB,EAAEsC,QAAQG,MAAMiC,EAAGX,KAAK/C,EAAErD,MACxE,CACA,MAAOgH,GAASrE,EAAI,CAAEqE,MAAOA,EAAS,CACtC,QACI,IACQ3D,IAAMA,EAAEyB,OAASyB,EAAIlE,EAAU,SAAIkE,EAAE/D,KAAKH,EAClD,CACA,QAAU,GAAIM,EAAG,MAAMA,EAAEqE,KAAO,CACpC,CACA,OAAOD,CACX,CAEA,SAASE,WACL,IAAK,IAAIF,EAAK,GAAI1E,EAAI,EAAGA,EAAIE,UAAU9B,OAAQ4B,IAC3C0E,EAAKA,EAAGG,OAAOJ,OAAOvE,UAAUF,KACpC,OAAO0E,CACX,CAEA,SAASI,iBACL,IAAK,IAAI/E,EAAI,EAAGC,EAAI,EAAG+E,EAAK7E,UAAU9B,OAAQ4B,EAAI+E,EAAI/E,IAAKD,GAAKG,UAAUF,GAAG5B,OACxE,IAAI4C,EAAIlD,MAAMiC,GAAIoE,EAAI,EAA3B,IAA8BnE,EAAI,EAAGA,EAAI+E,EAAI/E,IACzC,IAAK,IAAIgF,EAAI9E,UAAUF,GAAIiF,EAAI,EAAGC,EAAKF,EAAE5G,OAAQ6G,EAAIC,EAAID,IAAKd,IAC1DnD,EAAEmD,GAAKa,EAAEC,GACjB,OAAOjE,CACX,CAEA,SAASmE,QAAQxB,GACb,OAAOnE,gBAAgB2F,SAAW3F,KAAKmE,EAAIA,EAAGnE,MAAQ,IAAI2F,QAAQxB,EACtE,CAEA,SAASyB,iBAAiBvD,EAASC,EAAYE,GAC3C,IAAKyB,OAAO4B,cAAe,MAAM,IAAIxB,UAAU,wCAC/C,IAAoD7D,EAAhDgD,EAAIhB,EAAU5B,MAAMyB,EAASC,GAAc,IAAQwD,EAAI,GAC3D,OAAOtF,EAAI,CAAC,EAAGsD,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAWtD,EAAEyD,OAAO4B,eAAiB,WAAc,OAAO7F,IAAM,EAAGQ,EACpH,SAASsD,EAAKrD,GAAS+C,EAAE/C,KAAID,EAAEC,GAAK,SAAU0D,GAAK,OAAO,IAAI1B,SAAQ,SAAU+C,EAAGhG,GAAKsG,EAAEvB,KAAK,CAAC9D,EAAG0D,EAAGqB,EAAGhG,IAAM,GAAKuG,EAAOtF,EAAG0D,EAAI,GAAI,EAAG,CACzI,SAAS4B,EAAOtF,EAAG0D,GAAK,KACV3C,EADqBgC,EAAE/C,GAAG0D,IACnBhG,iBAAiBwH,QAAUlD,QAAQC,QAAQlB,EAAErD,MAAMgG,GAAGhB,KAAK6C,EAASrD,GAAUsD,EAAOH,EAAE,GAAG,GAAItE,EADtE,CAAE,MAAOV,GAAKmF,EAAOH,EAAE,GAAG,GAAIhF,EAAI,CAC/E,IAAcU,CADmE,CAEjF,SAASwE,EAAQ7H,GAAS4H,EAAO,OAAQ5H,EAAQ,CACjD,SAASwE,EAAOxE,GAAS4H,EAAO,QAAS5H,EAAQ,CACjD,SAAS8H,EAAO3C,EAAGa,GAASb,EAAEa,GAAI2B,EAAEI,QAASJ,EAAElH,QAAQmH,EAAOD,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAK,CACrF,CAEA,SAASK,iBAAiB1B,GACtB,IAAIjE,EAAGZ,EACP,OAAOY,EAAI,CAAC,EAAGsD,EAAK,QAASA,EAAK,SAAS,SAAUhD,GAAK,MAAMA,CAAG,IAAIgD,EAAK,UAAWtD,EAAEyD,OAAOC,UAAY,WAAc,OAAOlE,IAAM,EAAGQ,EAC1I,SAASsD,EAAKrD,EAAG6C,GAAK9C,EAAEC,GAAKgE,EAAEhE,GAAK,SAAU0D,GAAK,OAAQvE,GAAKA,GAAK,CAAEzB,MAAOwH,QAAQlB,EAAEhE,GAAG0D,IAAKlB,KAAY,WAANxC,GAAmB6C,EAAIA,EAAEa,GAAKA,CAAG,EAAIb,CAAG,CAClJ,CAEA,SAAS8C,cAAc3B,GACnB,IAAKR,OAAO4B,cAAe,MAAM,IAAIxB,UAAU,wCAC/C,IAAiC7D,EAA7BkE,EAAID,EAAER,OAAO4B,eACjB,OAAOnB,EAAIA,EAAE/D,KAAK8D,IAAMA,EAAwB,mBAAbO,SAA0BA,SAASP,GAAKA,EAAER,OAAOC,YAAa1D,EAAI,CAAC,EAAGsD,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAWtD,EAAEyD,OAAO4B,eAAiB,WAAc,OAAO7F,IAAM,EAAGQ,GAC9M,SAASsD,EAAKrD,GAAKD,EAAEC,GAAKgE,EAAEhE,IAAM,SAAU0D,GAAK,OAAO,IAAI1B,SAAQ,SAAUC,EAASC,IACvF,SAAgBD,EAASC,EAAQpD,EAAG4E,GAAK1B,QAAQC,QAAQyB,GAAGhB,MAAK,SAASgB,GAAKzB,EAAQ,CAAEvE,MAAOgG,EAAGlB,KAAM1D,GAAM,GAAGoD,EAAS,EADbsD,CAAOvD,EAASC,GAA7BwB,EAAIM,EAAEhE,GAAG0D,IAA8BlB,KAAMkB,EAAEhG,MAAQ,GAAI,CAAG,CAEnK,CAEA,SAASkI,qBAAqBC,EAAQC,GAElC,OADI9G,OAAOmC,eAAkBnC,OAAOmC,eAAe0E,EAAQ,MAAO,CAAEnI,MAAOoI,IAAiBD,EAAOC,IAAMA,EAClGD,CACX,CAEA,SAASE,aAAaC,GAClB,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIzD,EAAS,CAAC,EACd,GAAW,MAAPyD,EAAa,IAAK,IAAI9B,KAAK8B,EAAShH,OAAOI,eAAec,KAAK8F,EAAK9B,KAAI3B,EAAO2B,GAAK8B,EAAI9B,IAE5F,OADA3B,EAAO2D,QAAUF,EACVzD,CACX,CAEA,SAAS4D,gBAAgBH,GACrB,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAASF,EACtD,CAEA,SAASI,uBAAuBC,EAAUC,GACtC,IAAKA,EAAWC,IAAIF,GAChB,MAAM,IAAIzC,UAAU,kDAExB,OAAO0C,EAAWE,IAAIH,EAC1B,CAEA,SAASI,uBAAuBJ,EAAUC,EAAY5I,GAClD,IAAK4I,EAAWC,IAAIF,GAChB,MAAM,IAAIzC,UAAU,kDAGxB,OADA0C,EAAWI,IAAIL,EAAU3I,GAClBA,CACX,CAKA,IA8GIiJ,mBAAoBC,mBAwLpBC,iBAAkBC,iBAtSlBC,OAAS,SAAUC,EAAWC,EAAOC,GAAQ,OAAO,SAAUxJ,GAAS,OAAOsJ,EAAUtJ,GAASuJ,EAAMvJ,GAASwJ,EAAKxJ,EAAQ,CAAG,EAKhIyJ,QAAU,WAEV,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKpH,UAAU9B,OAAQkJ,IACpCD,EAAKC,GAAMpH,UAAUoH,GAEzB,OAAO,SAAUC,GAAQ,OAAOF,EAAKG,aAAY,SAAUC,EAAKC,GAAQ,OAAOA,EAAKD,EAAM,GAAGF,EAAO,CACxG,EAIII,SAAW,SAAUC,GAAK,OAAO,WAAc,OAAOA,CAAG,CAAG,EAI5DC,WAAa,SAAUD,GAAK,OAAOA,CAAG,EAYtCE,OAAS,SAAUb,GAAa,OAAO,SAAUc,GAEjD,IADA,IAAIV,EAAO,GACFC,EAAK,EAAGA,EAAKpH,UAAU9B,OAAQkJ,IACpCD,EAAKC,EAAK,GAAKpH,UAAUoH,GAE7B,OAAOL,IAAc,GAAKc,EAAI,GAAKV,EAAK,GAAKU,EAAI,GAAKV,EAAK,EAC/D,CAAG,EAICW,MAAQ,SAAUC,GAClB,OAAO,IAAIC,KAAKA,KAAKC,IAAIF,EAAKG,cAAeH,EAAKI,WAAYJ,EAAKK,UAAWL,EAAKM,WAAYN,EAAKO,aAAcP,EAAKQ,aAAcR,EAAKS,mBAC9I,EAIIC,MAAQ,SAAUC,GAClB,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MAAOmL,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SAClF,MAAO,CACHpL,MAAO,IAAMA,EAAMqL,QAAQ,KAAM,MAAQ,IACzCH,MAAOA,EACPC,WAAYA,EACZC,SAAUA,EAElB,EAIIE,YAAc,SAAUL,GACxB,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MAAOmL,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SAClF,MAAO,CACHpL,MAAO,GAAKuL,mBAAmBvL,GAC/BkL,MAAOA,EACPC,WAAYA,EACZC,SAAUA,EAElB,EAIII,QAAU,SAAUP,GACpB,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MAAOmL,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SAClF,MAAO,CACHF,MAAOf,QAAO,WAAc,OAAOgB,CAAY,GAAxChB,CAA2ClB,qBAAuBA,mBAAqBf,qBAAqB,CAAC,WAAY,KAAM,CAAC,WAAY,OAAQgD,GAC3JlL,MAAOA,EACPmL,WAAYA,EACZC,SAAUA,EAElB,EAIIK,eAAiB,SAAUR,GAC3B,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MAAOmL,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SAClF,MAAO,CACHpL,MAAOA,EACPkL,MAAOA,EAAMG,QAAQ,MAAO,KAC5BF,WAAYA,EACZC,SAAUA,EAElB,EAIIM,cAAgB,SAAUzB,GAAK,OAAO5J,SAAS4J,EAAEjK,MAAQ,EAIzD2L,YAAc,SAAU1B,GAAK,OAAOnJ,OAAOmJ,EAAEjK,MAAQ,EAIrD4L,iBAAmB,SAAUC,EAAKC,GAAQ,OAAO,SAAUC,GAE3D,OADe5B,QAAO,WAAc,OAAO4B,EAAO7K,QAAQT,OAAS,CAAG,GAC/DuL,CAAS9C,qBAAuBA,mBAAqBhB,qBAAqB,CAAC,IAAK,KAAM,CAAC,IAC1F,OAAQ6D,EAAO7K,QACd2K,IAAIA,GACJC,KAAKA,EAAKC,IACnB,CAAG,EAGCE,YAAc,SAAU/I,GAAO,MAAQ,CACvC,KAAM,MACN,IAAK,KACL,KAAM,MACN,KAAM,KACN,IAAK,KACL,KAAM,MACNgJ,MAAO,KACPC,OAAQ,KACRC,QAAS,KACTC,GAAI,MACJC,QAAS,KACTC,YAAa,KACbC,iBAAkB,MAClBC,QAAS,UACTC,UAAW,KACXC,cAAe,KACfC,uBAAwB,MACxBC,WAAY,KACZC,oBAAqB,MACrBC,WAAY,aACZC,aAAc,MACdC,OAAQ,SACRC,GAAI,MACJC,KAAM,KACNC,SAAU,KACVC,cAAe,MACfC,GAAI,MACJC,SAAU,MACVC,UAAW,MACXC,WAAY,MACZC,eAAgB,kBAClBxK,EAAIyK,gBAAkBzK,CAAM,EAC1B0K,kBAAoB,SAAUC,GAC1BA,EAAW3M,UACX2M,EAAW3M,QAAU2M,EAAW3M,QAAQ2K,KAAI,SAAUE,GAClD,IAAIlH,EAASvD,OAAOY,OAAO,CAAC,EAAG6J,GAO/B,OANK/K,4BAA4B+K,IAAW1L,SAAS0L,EAAOX,YACxDvG,EAAOuG,SAAWa,YAAYF,EAAOX,WAErCpK,4BAA4B+K,IAC5B6B,kBAAkB/I,GAEfA,CACX,IAER,EACIiJ,oBAAsB,SAAUD,GAChC,OAAK7M,4BAA4B6M,GAM1BvM,OAAOY,OAAO,CAAC,EAAG2L,GALd,CACH3M,QAAShB,QAAQ2N,GAAcA,EAAa,CAACA,GAC7CE,MAAO,MAInB,EASIC,iBAAmB,SAAUH,GAK7B,OAJI9N,UAAU8N,KACVA,EAAaC,oBAAoBD,GACjCD,kBAAkBC,IAEfA,CACX,EAEII,aAAe,SAAUhD,GACzB,IAAIiD,EAAWjD,EAAGiD,SAClB,OAAO,SAAUjD,GACb,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MAAOmL,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SAClF,MAAO,CACHpL,OAASkO,EAA0BlO,EAAfqK,MAAMrK,IAAgBmO,cAC1CjD,MAAOA,EACPC,WAAYA,EACZC,SAAUA,EAElB,CACJ,EACIgD,YAAc,SAAUnD,GACxB,IAAIG,EAAWH,EAAGG,SAClB,OAAO,SAAUH,GACb,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MACjC,OAAOoL,EAAW,IAAMF,EAAQ,IAAMlL,EAAQ,GAClD,CACJ,EACIqO,wBAA0B,SAAUpD,GACpC,IAAIG,EAAWH,EAAGG,SAClB,OAAO,SAAUH,GACb,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MACjC,OAAOkL,EAAQ,IAAME,EAAW,IAAMpL,CAC1C,CACJ,EACIsO,aAAe,SAAUC,GAAa,OAAO9E,QAAQ8E,EAAWjD,YAAaN,MAAOQ,QAASC,eAAiB,EAC9G+C,iBAAmB,SAAUC,GAAY,OAAOH,aAAaF,YAAYK,GAAY,EACrFC,eAAiB,SAAUD,GAAY,OAAOH,aAAaD,wBAAwBI,GAAY,EAC/FE,gBAAkB,SAAUF,GAAY,OAAOhF,QAAQ4E,wBAAwBI,GAAWhD,eAAiB,EAC3GmD,aAAe,SAAUH,GAAY,OAAOhF,QAAQ4E,wBAAwBI,GAAWhD,eAAgBwC,aAAaQ,GAAY,EAChII,OAAS,SAAUJ,GAAY,OAAOpF,OAAOsC,YAAaiD,aAAaH,GAAWE,gBAAgBF,GAAY,EAC9GK,cAAgB,SAAUL,GAAY,OAAOpF,OAAOqC,cAAegD,eAAeD,GAAWI,OAAOJ,GAAY,EAChHM,YAAc,SAAU3E,GAAO,OAAOA,EAAM,QAAU,EACtD4E,mBAAqB,SAAUT,GAAa,OAAO9E,QAAQ8E,EAAW9C,eAAiB,EACvFwD,gBAAkB,SAAU7D,EAAUqD,GAAY,MAAQ,CAC1DS,SAAUV,iBAAiBvM,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,cACxE+D,eAAgB1F,QAAQsF,YAAaP,iBAAiBvM,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,cACnGgE,SAAUZ,iBAAiBvM,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,cACxEiE,GAAIP,cAAc7M,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,QAC/DkE,GAAIR,cAAc7M,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,QAC/DmE,IAAKT,cAAc7M,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,QAChEqB,QAASuC,oBAAmB,SAAU/D,GAElC,OADYA,EAAGC,MACA,QACnB,IACA6B,WAAYiC,oBAAmB,SAAU/D,GAErC,OADYA,EAAGC,MACA,QACnB,IACAsE,UAAWR,oBAAmB,SAAU/D,GAEpC,OADYA,EAAGC,MACA,UACnB,IACA+B,OAAQ+B,oBAAmB,SAAU/D,GAEjC,OADYA,EAAGC,MACA,UACnB,IACAuE,GAAIX,cAAc7M,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,QAC/DsE,IAAKZ,cAAc7M,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,QAChEuE,IAAKb,cAAc7M,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,QAChEwE,WAAYpB,iBAAiBvM,SAASA,SAAS,CAAC,EAAGwM,GAAW,CAAErD,SAAU,iBAC5EA,EAAY,EACVyE,OAAS,SAAU5F,GAAK,MAAO,IAAMA,EAAE8D,MAAQ,GAAK,EACpD+B,YAAc,SAAUrB,GAAY,OAAO,SAAUxE,GAAK,OAAOgF,gBAAgBhF,EAAEmB,SAAUqD,EAA5BQ,CAAsChF,EAAI,CAAG,EAC9G8F,aAAe,SAAUtB,GAAY,OAAO7C,kBAAiB,SAAUG,GAAU,OAAO1C,OAAOrI,4BAA6B+O,aAAatB,GAAWqB,YAAYrB,GAAxEpF,CAAmF0C,EAAS,GAAG8D,OAAS,EAIhMG,kBAAoB,SAAUjE,EAAQ0C,GAEtC,YADiB,IAAbA,IAAuBA,EAAW,CAAC,GACnC1C,EAAO7K,SAAW6K,EAAO7K,QAAQT,OAC1B,WAAasP,aAAatB,EAAbsB,CAAuB/B,iBAAiBjC,IAEzD,EACX,EAEIkE,gBAAkB,SAAUC,GAC5B,IAAI9F,EAAM8F,EACLnE,QAAO,SAAUoE,GAAQ,OAAOpQ,UAAUoQ,EAAKC,IAAM,IACrDvE,KAAI,SAAUsE,GACf,IAAIE,EAAQF,EAAKjF,MAAMG,QAAQ,MAAO,KACtC,MAAoB,SAAb8E,EAAKC,IAAiBC,EAAQ,QAAUA,CACnD,IAAGvE,KAAK,KACR,OAAO1B,EAAM,YAAcA,EAAMA,CACrC,EACIkG,YAActG,SAAS,IACvBuG,SAAW,SAAUlJ,GAAK,OAAO,SAAUhG,GAAK,OAAOgG,EAAIhG,CAAG,CAAG,EACjEmP,aAAe,SAAUC,EAASC,GAAO,OAAOrH,OAAOtJ,UAAWwQ,SAASE,EAAQ,IAAKH,YAAxCjH,CAAqDqH,EAAM,EAC3GC,QAAU,SAAUlC,EAAUmC,GAAS,OAAO,SAAU1N,GAAO,MAAQ,CACvE6I,OAAUiE,kBAAkBY,EAAM7E,QAAU,CAAC,EAAG0C,GAChDoC,KAAQL,aAAarH,mBAAqBA,iBAAmBjB,qBAAqB,CAAC,SAAU,IAAK,CAAC,SAAU,MAAO0I,EAAMC,MAC1HV,KAAQF,gBAAgBW,EAAMT,MAAQ,IACtCW,KAAQN,aAAapH,mBAAqBA,iBAAmBlB,qBAAqB,CAAC,QAAS,IAAK,CAAC,QAAS,MAAO0I,EAAME,OAC1H5N,EAAO,CAAG,EASR6N,cAAgB,SAAUH,EAAOnC,GAEjC,YADiB,IAAbA,IAAuBA,EAAW,CAAC,GAC/BnN,OAAO0P,KAAKJ,GACf/E,IAAI8E,QAAQlC,EAAUmC,IACtB7E,OAAOrL,wBACPoL,KAAK,IACd,EAGImF,YAAc,CAAC,EACfC,YAAc,sDAElBD,iBAAY,GAAe,SAAUE,GAAO,OAAOA,CAAK,EAIxD,IA87BIC,eA97BAC,OAAS,SAAUnG,EAAOoG,GAC1B,IAAIpO,EAAMgI,EAAQoG,EAClB,GAAIL,YAAY/N,GACZ,OAAO+N,YAAY/N,GAEvB,IAAIqO,EAAS,GAeb,OAdArG,EAAMG,QAAQ6F,aAAa,SAAU5L,EAAGkM,EAAOC,EAAevG,GAC1DqG,EAAOnL,KAAKrG,UAAUyR,GAASA,EAASC,GAAiBvG,EAE7D,IACA+F,YAAY/N,GAAO,SAAUiO,GAEzB,IADA,IAAItM,EAASsM,EACJO,EAAM,EAAGA,EAAMH,EAAO9Q,OAAQiR,IAEnC,GADA7M,EAASA,EAAO0M,EAAOG,KAClB3R,UAAU8E,IAAWyM,EACtB,OAAOzM,EAGf,OAAOA,CACX,EACOoM,YAAY/N,EACvB,EAEIyO,cAAgB,SAAUC,GAAU,OAAOA,EAAOC,QAAO,SAAU/H,EAAKmB,GAExE,OAAO9D,eAAe2C,EAAK,CADjBmB,EAAG,GACqB,IADTA,EAAG,IAEhC,GAAG,GAAK,EACJ6G,SAAW,SAAUF,GAAU,OAAOA,EAAOC,QAAO,SAAU/H,EAAKmB,GACnE,IAAI8G,EACA7O,EAAM+H,EAAG,GAAIjL,EAAQiL,EAAG,GAC5B,OAAQhJ,SAASA,SAAS,CAAC,EAAG6H,KAAOiI,EAAK,CAAC,GAAM7O,GAAOlD,EAAO+R,GACnE,GAAG,CAAC,EAAI,EACJC,SAAW,SAAU9O,GAAO,OAAO,SAAUlD,GAAS,MAAO,CAACkD,EAAKlD,EAAQ,CAAG,EAC9EiS,MAAQ,WAAc,OAAO,IAAM,EACnCC,gBAAkB,SAAUlS,GAAS,OAAOD,UAAUC,IAAUE,QAAQF,IAAUA,EAAMS,OAAS,CAAG,EACpGoI,IAAM,SAAUsJ,GAAY,OAAO,SAAUnS,GAAS,OAAOD,UAAUoS,EAASnS,GAAS,CAAG,EAC5FoS,WAAa,SAAUD,GAAY,OAAO,SAAUnS,GAAS,OAAOkS,gBAAgBC,EAASnS,GAAS,CAAG,EACzGqS,WAAa,SAAU/I,EAAWgJ,GAAM,OAAOjJ,OAAOC,EAAWgJ,EAAIL,MAAQ,EAC7EM,SAAW,SAAUtH,GACrB,IAAI4F,EAAO5F,EAAG4F,KAAMC,EAAO7F,EAAG6F,KAC9B,OAAO0B,KAAKC,OAAO5B,GAAQ,GAAKC,GAAQ,CAC5C,EACI4B,kBAAoB,SAAUP,EAAU5D,GAAa,OAAO,SAAUqC,GAAS,OAAQuB,EAASvB,GAAO/E,IAAI0C,GAAWzC,KAAK,IAAO,CAAG,EACrI6G,YAAc,SAAUC,GAAQ,OAAO,SAAUxI,GAAO,OAAOA,EAAIyI,MAAM,EAAGzI,EAAIxH,QAAQgQ,GAAQ,CAAG,EACnGvH,QAAU,SAAUyH,GACpB,OAAOrJ,QAAQhH,WAAM,EAAQqQ,EAASjH,KAAI,SAAUZ,GAChD,IAAIzB,EAAOyB,EAAG,GAAI1B,EAAQ0B,EAAG,GAC7B,OAAO,SAAU7I,GAAK,OAAOA,EAAEiJ,QAAQ,IAAI0H,OAAOvJ,EAAM,KAAMD,EAAQ,CAC1E,IACJ,EACIyJ,qBAAuB3H,QAAQ,CAAC,CAAC,IAAM,IAAK,CAAC,IAAK,OAClD4H,eAAiBN,YAAY,KAC7BO,mBAAqB,SAAUjI,GAC/B,IAAIC,EAAQD,EAAGC,MAAO6G,EAAK9G,EAAGmF,IAC9B,OAAOlF,EAAQ,UADiC,IAAP6G,EAAgB,MAAQA,EAErE,EACIoB,mBAAqB,SAAUlI,GAE/B,OADYA,EAAGC,MACA,IADmBD,EAAGmI,SAEzC,EACIC,OAAShC,OAAO,QAChBiC,WAAajC,OAAO,cACpBkC,OAASlC,OAAO,QAChBmC,MAAQnC,OAAO,SACflB,KAAOkB,OAAO,QAAQ,GACtBoC,WAAaf,kBAAkBvC,KAAM+C,oBACrCQ,YAAchB,kBAAkBc,MAAON,oBACvCS,iBAAmBjB,kBAAkBY,WAAYH,oBACjDS,gBAAkB,SAAU5T,GAAS,MAAO,YAAcA,EAAQ,GAAK,EACvE6T,gBAAkBpK,QAAQmK,gBAAiBX,eAAgBD,qBAAsBc,KAAKC,UAAW1J,OACjG2J,WAAa,SAAU/I,GACvB,IAAIC,EAAQD,EAAGC,MAAOlL,EAAQiL,EAAGjL,MAAOmL,EAAaF,EAAGE,WAAYC,EAAWH,EAAGG,SAClF,MAAO,CACHpL,MAAO6T,gBAAgB7T,GACvBkL,MAAOA,EACPC,WAAYA,EACZC,SAAUA,EAElB,EACI6I,cAAgB,SAAUrD,GAAS,OAAOtP,OAAOY,OAAO,CAAC,EAAG0O,EAAO,CACnET,MAAOA,KAAKS,IAAU,IAAI7E,QAAO,SAAUd,GACvC,IAAImF,EAAMnF,EAAGmF,IACb,OAAO1P,uBAAuB0P,EAClC,KACA,EACA8D,cAAgBzK,QAAQuI,SAAS,QAASO,UAC1C4B,cAAgB1K,QAAQuI,SAAS,YAAaqB,QAC9Ce,eAAiB3K,QAAQuI,SAAS,SAAU0B,aAC5CW,cAAgB5K,QAAQuI,SAAS,QAASyB,YAC1Ca,oBAAsB7K,QAAQuI,SAAS,aAAc2B,kBACrDY,cAAgBlC,WAAWxJ,IAAI0K,QAASW,eACxCM,kBAAoBnC,WAAWxJ,IAAIwK,QAASc,eAC5CM,eAAiBpC,WAAWD,WAAWoB,OAAQY,gBAC/CM,oBAAsBrC,WAAWxJ,IAAIyK,YAAagB,qBAClDK,cAAgBlL,QAAQ4I,WAAWD,WAAWjC,MAAOkE,eAAgBJ,eACrEW,SAAW,SAAU3J,GACrB,IAAIC,EAAQD,EAAGC,MACf,OAAOxK,uBAAuBwK,EAClC,EACI2J,gBAAkB,SAAU5J,GAE5B,OADYA,EAAGC,MACA,IADkBD,EAAGG,SACJ,IADsBH,EAAGjL,KAE7D,EACI8U,cAAgBzL,OAAOsC,YAAalC,QAAQoL,gBAAiBb,YAAaa,iBAC1EE,eAAiB,SAAUC,GAAU,OAAO3C,WAAWuC,SAAUvL,OAAOqC,cAAejC,QAAQoL,gBAAiB7J,MAAOgK,EAAS1J,YAAcpB,YAAa4K,eAAiB,EAC5KhJ,KAAO,SAAUb,GAEjB,MAAO,IADKA,EAAG8C,MACM,GACzB,EACIkH,UAAY,SAAUD,GAAU,OAAOpJ,kBAAiB,SAAUG,GAAU,OAAO1C,OAAOrI,4BAA6BiU,UAAUD,GAASD,eAAeC,GAAtE3L,CAA+E0C,EAAS,GAAGD,KAAO,EACrLoJ,gBAAkB,SAAUjK,EAAI+J,GAChC,IAAIjJ,EAASd,EAAGc,OAChB,GAAIA,GAAUA,EAAO7K,QAAS,CAC1B,IAAIA,EAAU+T,UAAUD,EAAVC,CAAkBlJ,GAChC,GAAI7K,EAAQT,OACR,MAAO,CAAC,SAAUS,EAE1B,CACA,OAAO,IACX,EACIiU,MAAQ,SAAUvE,EAAOoE,GAEzB,YADe,IAAXA,IAAqBA,GAAS,GAC3B,SAAU9R,GAAO,MAAQ,CAC5BoQ,WAAcoB,oBAAoB9D,GAClC7E,OAAUmJ,gBAAgBtE,EAAOoE,GACjCxB,MAASiB,eAAe7D,GACxBC,KAAQ0D,cAAc3D,GACtBT,KAAQwE,cAAc/D,GACtBE,KAAQ0D,kBAAkB5D,IAC5B1N,EAAO,CACb,EA0GIkS,0BAA4B,SAAUxE,GAAS,OAAQe,cAAcrQ,OAAO0P,KAAKJ,GAChF/E,IAAIsJ,MAAMvE,IACV7E,OAAOhM,YAAY+L,KAAK,IAAO,EAQhCuJ,oBAAsB,SAAUzE,GAAS,OAAQkB,SAASxQ,OAAO0P,KAAKJ,GACrE/E,IAAIsJ,MAAMvE,GAAO,IACjB7E,OAAOhM,WAAc,EAGtBiJ,IAAM,SAAUkC,EAAOjI,EAAQjD,GAE/B,OADAiD,EAAOiI,GAASlL,EACTiD,CACX,EACIqS,YAAc,SAAUlL,GAAO,OAAOA,EAAIiB,QAAQ,aAAa,SAAU/F,EAAGiQ,GAAM,OAAOA,EAAG5H,aAAe,GAAI,EAC/G6H,KAAO,SAAUC,GAAa,OAAO,SAAUtE,GAC/C,IAAInR,EAAQmR,EAAIsE,GAChB,OAAI1V,UAAUC,GACHA,EAEJmR,EAAImE,YAAYG,GAC3B,CAAG,EACCC,OAASF,KAAK,UACdG,oBAAsBH,KAAK,uBAC3BxV,MAAQwV,KAAK,SACbI,QAAU,SAAUC,GAAU,OAAO,SAAUjE,GAAU,OAAOtQ,OAAO0P,KAAKY,GAAQC,OAAOgE,EAAOC,KAAK,KAAMlE,GAAS,CAAC,EAAI,CAAG,EAC9HmE,mBAAqBH,SAAQ,SAAU3U,EAAQ6I,EAAKoB,GAAS,OAAOlC,IAAIkC,EAAMyC,cAAe7D,EAAK7I,EAAOiK,GAAS,IAClH8K,oBAAsBJ,SAAQ,SAAU3U,EAAQ6I,EAAKoB,GAAS,OAAOlC,IAAIkC,EAAOpB,EAAKiM,mBAAmB9U,EAAOiK,IAAU,IACzH+K,eAAiB,SAAUjW,EAAOkW,GAAgB,OAAOnW,UAAUC,GAASA,EAAQkW,CAAc,EAClGC,eAAiB,SAAU3C,GAAS,MAAO,CAC3CF,WAAYE,EAAM4C,YAAc5C,EAAMF,WACtCpI,MAAOsI,EAAM6C,QAAU7C,EAAMkC,QAAUlC,EAAMtI,MAC7CoL,aAAc9C,EAAM+C,cAAgB/C,EAAM8C,eAAgB,EAC1DE,MAAOhD,EAAMiD,OAASjD,EAAMgD,MAC5BxW,MAAOiW,eAAezC,EAAMkD,IAAKT,eAAezC,EAAMtQ,IAAKsQ,EAAMxT,QACjE,EACA2W,eAAiBlN,SAAQ,SAAUwB,GACnC,IAAIC,EAAQD,EAAGC,MAAOoL,EAAerL,EAAGqL,aAActW,EAAQiL,EAAGjL,MAAOsT,EAAarI,EAAGqI,WAAYkD,EAAQvL,EAAGuL,MAC/G,MAAO,CACHlD,WAAY0C,oBAAoB1C,GAChCpI,MAAOA,EACPsL,MAAOF,EAAeE,EAAM3K,IAAI8K,gBAAkBH,EAClDxW,MAAOA,EAEf,GAAGmW,gBAOCS,gCAAkC,SAAUhN,GAAQ,OAAOA,EAAKiC,IAAI8K,eAAiB,EAOrFE,0BAA4B,SAAUjN,GAAQ,OAASA,GAAQ,IAAIiI,QAAO,SAAU/H,EAAKG,GAAK,OAAOjB,IAAI0M,OAAOzL,GAAIH,EAAKd,IAAI2M,oBAAoB1L,GAAG0D,cAAe7D,EAAI4L,OAAOzL,KAAO,CAAC,EAAGjK,MAAMiK,IAAM,GAAG,CAAC,EAAK,EAE9M6M,QAAU,SAAUzP,EAAGhG,GACvB,OAAIpB,QAAQoH,GACDA,IAAMhG,EAAI,GAAK,EAEtBpB,QAAQoB,GACD,EAEPgG,EAAE0P,cACK1P,EAAE0P,cAAc1V,GAEpBgG,EAAIhG,EAAI,EAAKgG,EAAIhG,GAAK,EAAI,CACrC,EACI2V,YAAc,SAAU3P,EAAGhG,GAAK,OAAOyV,QAAQzV,EAAGgG,EAAI,EACtD4P,iBAAmB,SAAUpJ,GAC7B,GAAkC,mBAAvBA,EAAWiJ,QAClB,OAAOjJ,EAAWiJ,QAEtB,IAAItB,EAAOnE,OAAOxD,EAAW3C,OAAO,GACpC,OAAO,SAAU7D,EAAGhG,GAAK,OAA2B,QAAnBwM,EAAWuC,IAAgB0G,QAAUE,aAAaxB,EAAKnO,GAAImO,EAAKnU,GAAK,CAC1G,EACI6V,QAAU,SAAUjM,EAAI8G,GAAM,OAAO,CAAG,EAkBxCoF,uBAAyB,SAAUC,GAAe,OAAQA,EACzDrL,QAAO,SAAU9B,GAAK,OAAOlK,UAAUkK,EAAEmG,MAAQrQ,UAAUkK,EAAE6M,QAAU,IACvEjL,KAAI,SAAUgC,GAAc,OAAOoJ,iBAAiBpJ,EAAa,IACjEgE,QAAO,SAAU/H,EAAKC,GAAQ,OAAO,SAAU1C,EAAGhG,GAAK,OAAOyI,EAAIzC,EAAGhG,IAAM0I,EAAK1C,EAAGhG,EAAI,CAAG,GAAG6V,QAAW,EAEzGG,cAAgB,SAAUrX,GAE1B,OADAA,EAAQD,UAAUC,IAAUA,EAAMe,QAAUf,EAAMe,UAAYf,GAC/C,EACnB,EAIIsX,gBAAkB,SAAUpM,GAC5B,IAAIsK,EAAOnE,OAAOnG,GAAO,GACrBqM,EAAW,EACf,OAAO,SAAUC,EAAKxX,GAClBwX,EAAItM,GAASsM,EAAItM,IAAU,CAAC,EAC5B,IAAIuM,EAAajC,EAAKxV,GAClBkD,EAAMmU,cAAcI,GACpB7F,EAAS4F,EAAItM,GAAOhI,IAAQ,CAAEwU,WAAYH,IAAYjE,WAAY,CAAC,EAAGkD,MAAO,GAAIxW,MAAOyX,GAG5F,OAFA7F,EAAO4E,MAAMpQ,KAAKpG,GAClBwX,EAAItM,GAAOhI,GAAO0O,EACX4F,CACX,CACJ,EAIIG,iBAAmB,SAAU9S,GAQ7B,YAPe,IAAXA,IAAqBA,EAAS,CAAC,GACnCvD,OAAO0P,KAAKnM,GAAQ+S,SAAQ,SAAU1M,GAClC,IAAIoI,EAAazO,EAAOqG,GACxB5J,OAAO0P,KAAKsC,GAAYsE,SAAQ,SAAUxE,GACtCE,EAAWF,GAAaE,EAAWF,GAAWvO,QAClD,GACJ,IACOA,CACX,EACIgT,gBAAkB,SAAUpY,GAAQ,MAAQ,CAC5CqY,QAAS,WACL,IAAI9X,EAAQ,EACR+X,EAAQ,EACZ,MAAO,CACHC,KAAM,SAAUjO,GACRpJ,UAAUoJ,IACV/J,GAAS+J,EACTgO,KAGA/X,EAAQ+J,CAEhB,EACAlF,OAAQ,WAAc,OAAOlE,UAAUX,GAASA,EAAQ+X,EAAQ/X,CAAO,EAE/E,EACA+X,MAAO,WACH,IAAInH,EAAQ,EACZ,MAAO,CACHoH,KAAM,WAAc,OAAOpH,GAAS,EACpC/L,OAAQ,WAAc,OAAO+L,CAAO,EAE5C,EACAqH,IAAK,WACD,IAAIrH,EAAQsH,OAAOC,kBACnB,MAAO,CACHH,KAAM,SAAUhY,IACZ4Q,EAAQjQ,UAAUiQ,IAAU9P,OAAO8P,GAASA,EAAQ5Q,GACxCA,IAAUW,UAAUX,IAAUc,OAAOd,MAC7C4Q,EAAQ5Q,EAEhB,EACA6E,OAAQ,WAAc,OAAO+L,CAAO,EAE5C,EACAwH,IAAK,WACD,IAAIxH,EAAQsH,OAAOG,kBACnB,MAAO,CACHL,KAAM,SAAUhY,IACZ4Q,EAAQjQ,UAAUiQ,IAAU9P,OAAO8P,GAASA,EAAQ5Q,GACxCA,IAAUW,UAAUX,IAAUc,OAAOd,MAC7C4Q,EAAQ5Q,EAEhB,EACA6E,OAAQ,WAAc,OAAO+L,CAAO,EAE5C,EACA0H,IAAK,WACD,IAAI1H,EAAQ,EACZ,MAAO,CACHoH,KAAM,SAAUhY,GACZA,EAAQD,UAAUC,GAASA,EAAQ,EACnC4Q,GAAS5Q,CACb,EACA6E,OAAQ,WAAc,OAAO+L,CAAO,EAE5C,GACFnR,IAAU,EAIR8Y,qBAAuB,SAAUnB,GACjC,IAAIoB,EAAYpB,EAAYvL,KAAI,SAAUgC,GACtC,IAAI4K,EAAgBpH,OAAOxD,EAAW3C,OAAO,GACzCwN,GAAiB7K,EAAWuF,WAAa,IAAIzF,cAC7CgL,EAAoBtH,OAAOqH,GAAe,GAC9C,OAAO,SAAU9H,EAAO5Q,GACpB,IAAI4Y,EAAkBhI,EAAM/C,EAAW3C,QAAU,CAAC,EAC9C2N,EAAoBF,EAAkBC,IACnCf,gBAAgBa,GAIvB,OAHAG,EAAkBb,KAAKS,EAAczY,IACrC4Y,EAAgB/K,EAAWuF,WAAayF,EACxCjI,EAAM/C,EAAW3C,OAAS0N,EACnBhI,CACX,CACJ,IACA,OAAO,SAAUA,EAAO5Q,GAAS,OAAOwY,EAAU3G,QAAO,SAAU2F,EAAKQ,GAAQ,OAAOA,EAAKR,EAAKxX,EAAQ,GAAG4Q,EAAQ,CACxH,EAOI1J,OAAS,SAAU4R,EAAK9Y,GAExB,OADA8Y,EAAI1S,KAAKpG,GACF8Y,CACX,EAKIjN,IAAM,SAAUkN,GAAa,OAAO,SAAWlH,GAAU,OAAO,SAAW/H,EAAKC,EAAMyH,GAAS,OAAOK,EAAO/H,EAAKiP,EAAUhP,EAAMyH,GAAU,CAAI,CAAG,EAKnJzF,OAAS,SAAUzC,GAAa,OAAO,SAAWuI,GAAU,OAAO,SAAW/H,EAAKC,GAAQ,OAAOT,EAAUS,GAAQ8H,EAAO/H,EAAKC,GAAQD,CAAM,CAAI,CAAG,EAIrJkP,oBAAsB,SAAU/X,GAChC,OAAOlB,UAAUkB,EAAOgY,QAC5B,EACIC,QAAU,SAAUjP,GACpB,OAAI+O,oBAAoB/O,GACbA,EAEJ,CACHgP,QAAShP,EACTiP,SAAS,EAEjB,EAKIpI,KAAO,SAAUiH,GAAS,OAAO,SAAWlG,GAAU,OAAO,SAAW/H,EAAKC,GAAQ,OAAOgO,KAAU,EAAIlG,EAAO/H,EAAKC,GAAQmP,QAAQpP,EAAO,CAAI,CAAG,EAKpJqP,UAAY,SAAU7P,GAAa,OAAO,SAAWuI,GAAU,OAAO,SAAW/H,EAAKC,GAAQ,OAAOT,EAAUS,GAAQ8H,EAAO/H,EAAKC,GAAQmP,QAAQpP,EAAO,CAAI,CAAG,EAKjK+G,KAAO,SAAUkH,GAAS,OAAO,SAAWlG,GAAU,OAAO,SAAW/H,EAAKC,GAAQ,OAAOgO,KAAW,EAAIlG,EAAO/H,EAAKC,GAAQD,CAAM,CAAI,CAAG,EAK5IsP,KAAO,SAAUL,EAAWM,EAAczP,GAE1C,IADA,IAAI/E,EAASwU,EACJ3H,EAAM,EAAG4H,EAAW1P,EAAKnJ,OAAQiR,EAAM4H,EAAU5H,IAEtD,GADA7M,EAASkU,EAAUlU,EAAQ+E,EAAK8H,GAAMA,GAClCsH,oBAAoBnU,GAAS,CAC7BA,EAASA,EAAOoU,QAChB,KACJ,CAEJ,OAAOpU,CACX,EAEI0U,WAAa1N,KAAI,SAAU5B,GAAK,OAAOA,CAAG,IA+B1CuP,YAAc,SAAU5P,EAAMwN,EAAaqC,QACvB,IAAhBrC,IAA0BA,EAAc,SACvB,IAAjBqC,IAA2BA,EAAeF,YAC9C,IAAIF,EAAe,CAAC,EACpB,IAAKjC,EAAY3W,OACb,OAAO4Y,EAEX,IAAIxU,EAASuU,KAAKK,EAAalB,qBAAqBnB,IAAeiC,EAAczP,GACjF,OAAO+N,iBAAiB9S,EAC5B,EAEIkJ,MAAQ,CACR2L,GAAM,CACFxS,OAAQ,SAAU4C,EAAKwI,GAAM,OAAO,SAAUjL,GAAK,OAAOyC,EAAIzC,IAAMiL,EAAGjL,EAAI,CAAG,EAC9EsS,SAAU,WAAc,OAAO,CAAO,GAE1CC,IAAO,CACH1S,OAAQ,SAAU4C,EAAKwI,GAAM,OAAO,SAAUjL,GAAK,OAAOyC,EAAIzC,IAAMiL,EAAGjL,EAAI,CAAG,EAC9EsS,SAAU,WAAc,OAAO,CAAM,IAGzCE,aAAe,CACf3K,SAAU,SAAU7H,EAAGhG,GAAK,OAAQgG,GAAK,IAAIzE,QAAQvB,IAAM,CAAG,EAC9D8N,eAAgB,SAAU9H,EAAGhG,GAAK,OAAiC,KAAzBgG,GAAK,IAAIzE,QAAQvB,EAAW,EACtEyY,eAAgB,SAAUzS,EAAGhG,GAAK,OAAQgG,GAAK,IAAIzE,QAAQvB,GAAIgG,GAAK,IAAI5G,QAAUY,GAAK,IAAIZ,QAAU,CAAG,EACxGsZ,iBAAkB,SAAU1S,EAAGhG,GAAK,OAAwC,KAAhCgG,GAAK,IAAI2S,YAAY3Y,EAAG,EAAW,EAC/E+N,SAAU,SAAU/H,EAAGhG,GAAK,OAAQgG,GAAK,IAAIzE,QAAQvB,GAAIgG,GAAK,IAAI5G,QAAUY,GAAK,IAAIZ,SAAW,CAAG,EACnG4O,GAAI,SAAUhI,EAAGhG,GAAK,OAAOgG,IAAMhG,CAAG,EACtCiO,GAAI,SAAUjI,EAAGhG,GAAK,OAAOgG,EAAIhG,CAAG,EACpCkO,IAAK,SAAUlI,EAAGhG,GAAK,OAAOgG,GAAKhG,CAAG,EACtCoL,QAAS,SAAUpF,GAAK,MAAa,KAANA,CAAU,EACzC0F,WAAY,SAAU1F,GAAK,MAAa,KAANA,CAAU,EAC5CmI,UAAW,SAAUnI,GAAK,OAAOtH,UAAUsH,EAAI,EAC/C4F,OAAQ,SAAU5F,GAAK,OAAOpH,QAAQoH,EAAI,EAC1CoI,GAAI,SAAUpI,EAAGhG,GAAK,OAAOgG,EAAIhG,CAAG,EACpCqO,IAAK,SAAUrI,EAAGhG,GAAK,OAAOgG,GAAKhG,CAAG,EACtCsO,IAAK,SAAUtI,EAAGhG,GAAK,OAAOgG,GAAKhG,CAAG,EACtCuO,WAAY,SAAUvI,EAAGhG,GAAK,OAAuC,KAA/BgG,GAAK,IAAI2S,YAAY3Y,EAAG,EAAU,GAExE4Y,WAAa,sBACbC,aAAe,SAAUla,EAAOmL,GAChC,GAAa,MAATnL,GAAiBK,SAASL,GAAQ,CAClC,IAAIsK,EAAO2P,WAAWb,KAAKpZ,GAC3B,GAAIsK,EACA,OAAO,IAAIC,MAAMD,EAAK,IAAIvJ,UAEzB,GAAIoK,EACL,OAAOnL,EAAM2N,aAErB,MACK,GAAa,MAAT3N,GAAiBc,OAAOd,GAC7B,OAAOA,EAAMe,UAEjB,OAAOf,CACX,EACIma,YAAc,SAAU3E,EAAMxV,EAAOmL,GACrC,IAAKpL,UAAUC,GACX,OAAOwV,EAEX,IAAI1L,EAAM0L,EACV,GAAInV,SAASL,GAAQ,CACjB,IAAIsK,EAAO2P,WAAWb,KAAKpZ,GACvBsK,EACAtK,EAAQ,IAAIuK,MAAMD,EAAK,IAGvBR,EAAM,SAAUzC,GACZ,IAAI4C,EAAIuL,EAAKnO,GACb,MAAiB,iBAAN4C,GAAkBkB,EAClBlB,EAAE0D,cAGFhN,UAAUsJ,GAAKA,EAAI,GAAKA,CAEvC,CAER,CACA,OAAInJ,OAAOd,GACA,SAAUqH,GACb,IAAI4C,EAAIH,EAAIzC,GACZ,OAAOvG,OAAOmJ,GAAKA,EAAElJ,UAAYkJ,CACrC,EAEGH,CACX,EACIsQ,gBAAkB,SAAUnP,GAC5B,IAAIC,EAAQD,EAAGC,MAAOC,EAAaF,EAAGE,WAAYnL,EAAQiL,EAAGjL,MAAOoL,EAAWH,EAAGG,SAClFF,EAASnL,UAAUmL,GAAsCA,EAA7B,SAAU7D,GAAK,OAAOA,CAAG,EACrD8D,GAAapL,UAAUoL,IAAcA,EACrC,IAAIkP,EAAWF,YAAY/Z,WAAW8K,GAASA,EAAQmG,OAAOnG,GAAO,GAAOlL,EAAOmL,GACnFnL,EAAQka,aAAala,EAAOmL,GAC5B,IAAIlF,EAAK7F,WAAWgL,GAAYA,EAAWyO,aAAazO,GACxD,OAAO,SAAU/D,GAAK,OAAOpB,EAAGoU,EAAShT,GAAIrH,EAAOmL,EAAa,CACrE,EAIImP,yBAA2B,SAAUvO,GACrC,IAAIwO,EAAWxM,MAAMhC,EAAOgC,OAC5B,OAAOhC,EAAO7K,QACT6K,OAAOhM,WACP8L,KAAI,SAAU5B,GAAK,OAAOjJ,4BAA4BiJ,GAAKqQ,yBAAyBrQ,GAAKmQ,gBAAgBnQ,EAAI,IAC7G4H,OAAO0I,EAASrT,OAAQqT,EAASZ,SAC1C,EAoBIa,cAAgB,SAAU3M,GAC1B,OAAKA,GAA4C,IAA9BA,EAAW3M,QAAQT,OAG/B6Z,yBAAyBzM,GAFrB,WAAc,OAAO,CAAM,CAG1C,EAgCI4M,SAAW,SAAU7Q,EAAMiE,GAC3B,OAAK9N,UAAU8N,IAAgB7M,4BAA4B6M,IAA6C,IAA9BA,EAAW3M,QAAQT,OAClFmJ,EAEJA,EAAKmC,OAAOyO,cAAcxM,iBAAiBH,IACtD,EAKI6M,gBAAkB,SAAUtD,GAE5B,OADAA,EAAclX,QAAQkX,GAAeA,EAAc,CAACA,IACjCvL,KAAI,SAAU5B,GAAK,OAAO3I,OAAOY,OAAO,CAAEkO,IAAK,OAASnG,EAAI,GACnF,EACI0P,SAAW9N,KAAI,SAAU5B,GAAK,OAAOA,CAAG,IAwBxC0Q,QAAU,SAAU/Q,EAAMwN,EAAaqC,EAAcmB,GAKrD,QAJoB,IAAhBxD,IAA0BA,EAAc,SACvB,IAAjBqC,IAA2BA,EAAeE,eACzB,IAAjBiB,IAA2BA,EAAehR,KAC9CwN,EAAcsD,gBAAgBtD,IACb3W,OACb,OAAOmJ,EAEX,IAAIiE,EAAauJ,EAAY,GAEzByD,EAAOzB,KAAKK,EAAanC,gBAAgBzJ,EAAW3C,QADrC,CAAC,EAC2DtB,GAC3E/E,EAAS,GAyBb,OAxBAvD,OAAO0P,KAAK6J,GAAMjD,SAAQ,SAAU1M,GAChC5J,OAAO0P,KAAK6J,EAAK3P,IAAQ0M,SAAQ,SAAU5X,GACvC,IAAIwT,EAAQqH,EAAK3P,GAAOlL,GACpB8a,EAAkB,CAAC,EACnBC,EAAeH,EACf7a,UAAU8N,EAAWyF,cACrByH,EAAeN,SAASG,EAAc,CAClC1P,MAAO2C,EAAW3C,MAClBC,YAAY,EACZC,SAAU,KACVpL,MAAOwT,EAAMxT,QAEjB8a,EAAkBtB,YAAYuB,EAAclN,EAAWyF,aAE3DzO,EAAO2O,EAAMkE,YAAc,CACvBpE,WAAYwH,EACZ5P,MAAOA,EACPsL,MAAOY,EAAY3W,OAAS,EACxBka,QAAQnH,EAAMgD,MAAOY,EAAYvE,MAAM,GAAI8G,SAAUoB,GACnDvH,EAAMgD,MACZxW,MAAOwT,EAAMxT,MAErB,GACJ,IACO6E,CACX,EAsBImW,QAAU,SAAUpR,EAAMwN,GAC1B,GAAIA,EAAY6D,MAAK,SAAUhR,GAAK,OAAOlK,UAAUkK,EAAEmG,MAAQrQ,UAAUkK,EAAE6M,QAAU,IAAI,CACrFlN,EAAOA,EAAKiJ,MAAM,GAClB,IAAIqI,EAAW/D,uBAAuBC,GACtCxN,EAAKuG,KAAK+K,EACd,CACA,OAAOtR,CACX,EACIuR,gBAAkB,SAAU9T,EAAGhG,GAAK,OAAOgG,IAAMhG,CAAG,EACpD+Z,kBAAoB,SAAUF,GAC9B,GAAI7a,SAAS6a,GAAW,CACpB,IAAIG,EAAahK,OAAO6J,GACxBA,EAAW,SAAU7T,EAAGhG,GAAK,OAAOga,EAAWhU,KAAOgU,EAAWha,EAAI,CACzE,CACA,OAAO6Z,CACX,EACII,UAAY,SAAU1R,EAAMsR,GAC5B,OAAOtR,EAAKmC,QAAO,SAAU9B,EAAGyH,EAAK6J,GAAM,OAAOA,EAAGC,UAAUN,EAASpF,KAAK,KAAM7L,MAAQyH,CAAK,GACpG,EA2BI+J,SAAW,SAAU7R,EAAMsR,GAE3B,YADiB,IAAbA,IAAuBA,EAAWC,iBAC/BG,UAAU1R,EAAMwR,kBAAkBF,GAC7C,EAIInD,MAAQ,SAAUnO,EAAMN,GAExB,IADA,IAAIoS,EAAU,EACLhK,EAAM,EAAG4H,EAAW1P,EAAKnJ,OAAQiR,EAAM4H,EAAU5H,IAClDpI,EAAUM,EAAK8H,KACfgK,IAGR,OAAOA,CACX,EAIIC,MAAQ,SAAU/R,EAAMN,GACxB,OAAIA,EACOM,EAAKmC,OAAOzC,GAEhBM,CACX,EAiCIgS,QAAU,SAAUhS,EAAMgH,GAC1B,IAAIiL,EAAYjL,EAAMC,KAAMiL,EAAYlL,EAAME,KAAMiL,EAAmBnL,EAAM7E,OAAQoE,EAAOS,EAAMT,KAAMqD,EAAQ5C,EAAM4C,MAClHwI,EAAkB7U,eAAeuT,gBAAgBlH,GAAS,IAAKrD,GAAQ,IACvE6L,EAAgBvb,SAChBmJ,EAAOoR,QAAQpR,EAAMoS,IAEzB,IAQIC,EARAC,EAAanc,UAAUgc,IAAqBhQ,OAAOtL,OACnD0b,EAAYpc,UAAUyT,IAAUA,EAAM/S,OAC1C,IAAKyb,IAAeC,EAChB,MAAO,CACHvS,KAAMkS,EAAYlS,EAAKiJ,MAAMgJ,EAAWA,EAAYC,GAAalS,EACjEqS,MAAOrS,EAAKnJ,QAIpB,IACI6I,EADAmQ,EAAe,GAcnB,GAZIyC,GACA5S,EAAYkR,cAAcxM,iBAAiB+N,IAC3CE,EAAQlE,MAAMnO,EAAMN,GACpBmQ,EAAarT,KAAK2F,OAAOzC,KAGzB2S,EAAQrS,EAAKnJ,OAEbV,UAAU8b,IAAc9b,UAAU+b,KAClCrC,EAAarT,KAAKyK,KAAKgL,IACvBpC,EAAarT,KAAK0K,KAAKgL,KAEvBrC,EAAahZ,OAAQ,CACrB,IAAIsY,EAAYtP,QAAQhH,WAAM,EAAQgX,GAItC,MAAO,CAAE7P,KAHIuS,EACTxB,QAAQ/Q,EAAM4J,EAAOuF,EAAW4C,MAAM/R,EAAMN,IAC5C8P,KAAKL,EAAU7R,QAAS,GAAI0C,GACTqS,MAAOA,EAClC,CACA,MAAO,CACHrS,KAAMuS,EAAYxB,QAAQ/Q,EAAM4J,GAAS5J,EACzCqS,MAAOA,EAEf,GAOA,SAAW7K,GAIPA,EAAyB,SAAI,WAI7BA,EAA+B,eAAI,iBAInCA,EAA+B,eAAI,iBAInCA,EAAiC,iBAAI,mBAIrCA,EAAyB,SAAI,WAI7BA,EAAwB,QAAI,KAI5BA,EAA4B,YAAI,KAIhCA,EAAmC,mBAAI,MAIvCA,EAAwB,QAAI,UAI5BA,EAA2B,WAAI,aAI/BA,EAA0B,UAAI,YAI9BA,EAAuB,OAAI,SAI3BA,EAAyB,SAAI,KAI7BA,EAAgC,gBAAI,MAIpCA,EAA2B,WAAI,MAI/BA,EAA2B,WAAI,YAClC,CAjED,CAiEGA,iBAAmBA,eAAiB,CAAC,WAE/BoJ,2BACAjb","ignoreList":[],"sourcesContent":["\n\nconst __meta__ = {\n    id: \"data-query.cmn.chunk\",\n    name: \"DataQueryCmnChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\n/**\n * @hidden\n */\nvar isPresent = function (value) { return value !== null && value !== undefined; };\n/**\n * @hidden\n */\nvar isBlank = function (value) { return value === null || value === undefined; };\n/**\n * @hidden\n */\nvar isArray = function (value) { return Array.isArray(value); };\n/**\n * @hidden\n */\nvar isFunction = function (value) { return typeof value === 'function'; };\n/**\n * @hidden\n */\nvar isString = function (value) { return typeof value === 'string'; };\n/**\n * @hidden\n */\nvar isTruthy = function (value) { return !!value; };\n/**\n * @hidden\n */\nvar isNullOrEmptyString = function (value) { return isBlank(value) || value.trim().length === 0; };\n/**\n * @hidden\n */\nvar isNotNullOrEmptyString = function (value) { return !isNullOrEmptyString(value); };\n/**\n * @hidden\n */\nvar isNumeric = function (value) { return !isNaN(value - parseFloat(value)); };\n/**\n * @hidden\n */\nvar isDate = function (value) { return value && value.getTime; };\n\n// tslint:enable:max-line-length\n/**\n * @hidden\n * Type guard for `CompositeFilterDescriptor`.\n */\nvar isCompositeFilterDescriptor = function (source) {\n    return isPresent(source.filters);\n};\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\n\n/**\n * @hidden\n */\nvar ifElse = function (predicate, right, left) { return function (value) { return predicate(value) ? right(value) : left(value); }; };\n/**\n * @hidden\n * Performs the right-to-left function composition. Functions should have a unary.\n */\nvar compose = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return function (data) { return args.reduceRight(function (acc, curr) { return curr(acc); }, data); };\n};\n/**\n * @hidden\n */\nvar constant = function (x) { return function () { return x; }; };\n/**\n * @hidden\n */\nvar identity$2 = function (x) { return x; };\n\n/**\n * @hidden\n * Creates a single arity function which wraps the value based on the provided predicate.\n * @example\n * ```\n * wrapIf(() => ignoreCase) `tolower(${field})`\n * //ignoreCase=true -> tolower(${field})`\n * //ignoreCase=false -> ${field}`\n * ```\n */\nvar wrapIf = function (predicate) { return function (str) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    return predicate() ? \"\" + str[0] + args[0] + str[1] : args[0];\n}; };\n/**\n * @hidden\n */\nvar toUTC = function (date) {\n    return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n};\n/**\n * @hidden\n */\nvar quote = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: \"'\" + value.replace(/'/g, \"''\") + \"'\",\n        field: field,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nvar encodeValue = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: \"\" + encodeURIComponent(value),\n        field: field,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nvar toLower = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        field: wrapIf(function () { return ignoreCase; })(templateObject_1$1 || (templateObject_1$1 = __makeTemplateObject([\"tolower(\", \")\"], [\"tolower(\", \")\"])), field),\n        value: value,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nvar normalizeField = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: value,\n        field: field.replace(/\\./g, \"/\"),\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\n/**\n * @hidden\n */\nvar isStringValue = function (x) { return isString(x.value); };\n/**\n * @hidden\n */\nvar isDateValue = function (x) { return isDate(x.value); };\n/**\n * @hidden\n */\nvar serializeFilters = function (map, join) { return function (filter) {\n    var brackets = wrapIf(function () { return filter.filters.length > 1; });\n    return brackets(templateObject_2$1 || (templateObject_2$1 = __makeTemplateObject([\"(\", \")\"], [\"(\",\n        \")\"])), filter.filters\n        .map(map)\n        .join(join(filter)));\n}; };\nvar templateObject_1$1, templateObject_2$1;\n\nvar operatorMap = function (key) { return ({\n    \"!=\": \"neq\",\n    \"<\": \"lt\",\n    \"<=\": \"lte\",\n    \"==\": \"eq\",\n    \">\": \"gt\",\n    \">=\": \"gte\",\n    equal: \"eq\",\n    equals: \"eq\",\n    equalto: \"eq\",\n    ge: \"gte\",\n    greater: \"gt\",\n    greaterthan: \"gt\",\n    greaterthanequal: \"gte\",\n    isempty: \"isempty\",\n    isequalto: \"eq\",\n    isgreaterthan: \"gt\",\n    isgreaterthanorequalto: \"gte\",\n    islessthan: \"lt\",\n    islessthanorequalto: \"lte\",\n    isnotempty: \"isnotempty\",\n    isnotequalto: \"neq\",\n    isnull: \"isnull\",\n    le: \"lte\",\n    less: \"lt\",\n    lessthan: \"lt\",\n    lessthanequal: \"lte\",\n    ne: \"neq\",\n    notequal: \"neq\",\n    notequals: \"neq\",\n    notequalto: \"neq\",\n    notsubstringof: \"doesnotcontain\"\n}[key.toLowerCase()] || key); };\nvar normalizeOperator = function (descriptor) {\n    if (descriptor.filters) {\n        descriptor.filters = descriptor.filters.map(function (filter) {\n            var result = Object.assign({}, filter);\n            if (!isCompositeFilterDescriptor(filter) && isString(filter.operator)) {\n                result.operator = operatorMap(filter.operator);\n            }\n            if (isCompositeFilterDescriptor(filter)) {\n                normalizeOperator(result);\n            }\n            return result;\n        });\n    }\n};\nvar normalizeDescriptor = function (descriptor) {\n    if (!isCompositeFilterDescriptor(descriptor)) {\n        return {\n            filters: isArray(descriptor) ? descriptor : [descriptor],\n            logic: \"and\"\n        };\n    }\n    return Object.assign({}, descriptor);\n};\n// tslint:disable:max-line-length\n/**\n * Converts a [FilterDescriptor]({% slug api_kendo-data-query_filterdescriptor %}) into a [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}). If a `CompositeFilterDescriptor` is passed, no modifications will be made.\n *\n * @param {CompositeFilterDescriptor | FilterDescriptor} descriptor - The descriptor that will be normalized.\n * @returns {CompositeFilterDescriptor} - The normalized descriptor.\n */\n// tslint:enable:max-line-length\nvar normalizeFilters = function (descriptor) {\n    if (isPresent(descriptor)) {\n        descriptor = normalizeDescriptor(descriptor);\n        normalizeOperator(descriptor);\n    }\n    return descriptor;\n};\n\nvar formatDate$1 = function (_a) {\n    var utcDates = _a.utcDates;\n    return function (_a) {\n        var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n        return ({\n            value: (!utcDates ? toUTC(value) : value).toISOString(),\n            field: field,\n            ignoreCase: ignoreCase,\n            operator: operator\n        });\n    };\n};\nvar fnFormatter = function (_a) {\n    var operator = _a.operator;\n    return function (_a) {\n        var field = _a.field, value = _a.value;\n        return operator + \"(\" + field + \",\" + value + \")\";\n    };\n};\nvar singleOperatorFormatter = function (_a) {\n    var operator = _a.operator;\n    return function (_a) {\n        var field = _a.field, value = _a.value;\n        return field + \" \" + operator + \" \" + value;\n    };\n};\nvar stringFormat = function (formatter) { return compose(formatter, encodeValue, quote, toLower, normalizeField); };\nvar stringFnOperator = function (settings) { return stringFormat(fnFormatter(settings)); };\nvar stringOperator = function (settings) { return stringFormat(singleOperatorFormatter(settings)); };\nvar numericOperator = function (settings) { return compose(singleOperatorFormatter(settings), normalizeField); };\nvar dateOperator = function (settings) { return compose(singleOperatorFormatter(settings), normalizeField, formatDate$1(settings)); };\nvar ifDate = function (settings) { return ifElse(isDateValue, dateOperator(settings), numericOperator(settings)); };\nvar typedOperator = function (settings) { return ifElse(isStringValue, stringOperator(settings), ifDate(settings)); };\nvar appendEqual = function (str) { return str + \" eq -1\"; };\nvar nonValueExpression = function (formatter) { return compose(formatter, normalizeField); };\nvar filterOperators = function (operator, settings) { return ({\n    contains: stringFnOperator(__assign(__assign({}, settings), { operator: \"contains\" })),\n    doesnotcontain: compose(appendEqual, stringFnOperator(__assign(__assign({}, settings), { operator: \"indexof\" }))),\n    endswith: stringFnOperator(__assign(__assign({}, settings), { operator: \"endswith\" })),\n    eq: typedOperator(__assign(__assign({}, settings), { operator: \"eq\" })),\n    gt: typedOperator(__assign(__assign({}, settings), { operator: \"gt\" })),\n    gte: typedOperator(__assign(__assign({}, settings), { operator: \"ge\" })),\n    isempty: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" eq ''\";\n    }),\n    isnotempty: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" ne ''\";\n    }),\n    isnotnull: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" ne null\";\n    }),\n    isnull: nonValueExpression(function (_a) {\n        var field = _a.field;\n        return field + \" eq null\";\n    }),\n    lt: typedOperator(__assign(__assign({}, settings), { operator: \"lt\" })),\n    lte: typedOperator(__assign(__assign({}, settings), { operator: \"le\" })),\n    neq: typedOperator(__assign(__assign({}, settings), { operator: \"ne\" })),\n    startswith: stringFnOperator(__assign(__assign({}, settings), { operator: \"startswith\" }))\n}[operator]); };\nvar join$1 = function (x) { return \" \" + x.logic + \" \"; };\nvar serialize$1 = function (settings) { return function (x) { return filterOperators(x.operator, settings)(x); }; };\nvar serializeAll = function (settings) { return serializeFilters(function (filter) { return ifElse(isCompositeFilterDescriptor, serializeAll(settings), serialize$1(settings))(filter); }, join$1); };\n/**\n * @hidden\n */\nvar serializeFilter$1 = function (filter, settings) {\n    if (settings === void 0) { settings = {}; }\n    if (filter.filters && filter.filters.length) {\n        return \"$filter=\" + serializeAll(settings)(normalizeFilters(filter));\n    }\n    return \"\";\n};\n\nvar serializeSort$1 = function (orderby) {\n    var str = orderby\n        .filter(function (sort) { return isPresent(sort.dir); })\n        .map(function (sort) {\n        var order = sort.field.replace(/\\./g, \"/\");\n        return sort.dir === \"desc\" ? order + \" desc\" : order;\n    }).join(\",\");\n    return str ? \"$orderby=\" + str : str;\n};\nvar emptyString = constant('');\nvar concat$1 = function (a) { return function (b) { return a + b; }; };\nvar serializeKey = function (strings, val) { return ifElse(isPresent, concat$1(strings[0]), emptyString)(val); };\nvar rules$1 = function (settings, state) { return function (key) { return ({\n    \"filter\": serializeFilter$1(state.filter || {}, settings),\n    \"skip\": serializeKey(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"$skip=\", \"\"], [\"$skip=\", \"\"])), state.skip),\n    \"sort\": serializeSort$1(state.sort || []),\n    \"take\": serializeKey(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"$top=\", \"\"], [\"$top=\", \"\"])), state.take)\n}[key]); }; };\n// tslint:enable:max-line-length\n/**\n * Converts a [State]({% slug api_kendo-data-query_state %}) into an OData v4 compatible string.\n *\n * @param {State} state - The state that will be serialized.\n * @param {ODataSettings} settings - The settings that are used during the serialization.\n * @returns {string} - The serialized state.\n */\nvar toODataString = function (state, settings) {\n    if (settings === void 0) { settings = {}; }\n    return (Object.keys(state)\n        .map(rules$1(settings, state))\n        .filter(isNotNullOrEmptyString)\n        .join('&'));\n};\nvar templateObject_1, templateObject_2;\n\nvar getterCache = {};\nvar FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\n// tslint:disable-next-line:no-string-literal\ngetterCache['undefined'] = function (obj) { return obj; };\n/**\n * @hidden\n */\nvar getter = function (field, safe) {\n    var key = field + safe;\n    if (getterCache[key]) {\n        return getterCache[key];\n    }\n    var fields = [];\n    field.replace(FIELD_REGEX, function (_, index, indexAccessor, field) {\n        fields.push(isPresent(index) ? index : (indexAccessor || field));\n        return undefined;\n    });\n    getterCache[key] = function (obj) {\n        var result = obj;\n        for (var idx = 0; idx < fields.length; idx++) {\n            result = result[fields[idx]];\n            if (!isPresent(result) && safe) {\n                return result;\n            }\n        }\n        return result;\n    };\n    return getterCache[key];\n};\n\nvar toQueryString = function (values) { return values.reduce(function (acc, _a) {\n    var key = _a[0], value = _a[1];\n    return __spreadArrays(acc, [key + \"=\" + value]);\n}, []); };\nvar toObject = function (values) { return values.reduce(function (acc, _a) {\n    var _b;\n    var key = _a[0], value = _a[1];\n    return (__assign(__assign({}, acc), (_b = {}, _b[key] = value, _b)));\n}, {}); };\nvar pairwise = function (key) { return function (value) { return [key, value]; }; };\nvar empty = function () { return null; };\nvar isNotEmptyArray = function (value) { return isPresent(value) && isArray(value) && value.length > 0; };\nvar has = function (accessor) { return function (value) { return isPresent(accessor(value)); }; };\nvar isNotEmpty = function (accessor) { return function (value) { return isNotEmptyArray(accessor(value)); }; };\nvar runOrEmpty = function (predicate, fn) { return ifElse(predicate, fn, empty); };\nvar calcPage = function (_a) {\n    var skip = _a.skip, take = _a.take;\n    return Math.floor((skip || 0) / take) + 1;\n};\nvar formatDescriptors = function (accessor, formatter) { return function (state) { return (accessor(state).map(formatter).join(\"~\")); }; };\nvar removeAfter = function (what) { return function (str) { return str.slice(0, str.indexOf(what)); }; };\nvar replace = function (patterns) {\n    return compose.apply(void 0, patterns.map(function (_a) {\n        var left = _a[0], right = _a[1];\n        return function (s) { return s.replace(new RegExp(left, \"g\"), right); };\n    }));\n};\nvar sanitizeDateLiterals = replace([[\"\\\"\", \"\"], [\":\", \"-\"]]);\nvar removeAfterDot = removeAfter(\".\");\nvar directionFormatter = function (_a) {\n    var field = _a.field, _b = _a.dir, dir = _b === void 0 ? \"asc\" : _b;\n    return field + \"-\" + dir;\n};\nvar aggregateFormatter = function (_a) {\n    var field = _a.field, aggregate = _a.aggregate;\n    return field + \"-\" + aggregate;\n};\nvar take$1 = getter(\"take\");\nvar aggregates = getter(\"aggregates\");\nvar skip$1 = getter(\"skip\");\nvar group = getter(\"group\");\nvar sort = getter(\"sort\", true);\nvar formatSort = formatDescriptors(sort, directionFormatter);\nvar formatGroup = formatDescriptors(group, directionFormatter);\nvar formatAggregates = formatDescriptors(aggregates, aggregateFormatter);\nvar prefixDateValue = function (value) { return \"datetime'\" + value + \"'\"; };\nvar formatDateValue = compose(prefixDateValue, removeAfterDot, sanitizeDateLiterals, JSON.stringify, toUTC);\nvar formatDate = function (_a) {\n    var field = _a.field, value = _a.value, ignoreCase = _a.ignoreCase, operator = _a.operator;\n    return ({\n        value: formatDateValue(value),\n        field: field,\n        ignoreCase: ignoreCase,\n        operator: operator\n    });\n};\nvar normalizeSort = function (state) { return Object.assign({}, state, {\n    sort: (sort(state) || []).filter(function (_a) {\n        var dir = _a.dir;\n        return isNotNullOrEmptyString(dir);\n    })\n}); };\nvar transformSkip = compose(pairwise('page'), calcPage);\nvar transformTake = compose(pairwise('pageSize'), take$1);\nvar transformGroup = compose(pairwise('group'), formatGroup);\nvar transformSort = compose(pairwise('sort'), formatSort);\nvar transformAggregates = compose(pairwise('aggregate'), formatAggregates);\nvar serializePage = runOrEmpty(has(skip$1), transformSkip);\nvar serializePageSize = runOrEmpty(has(take$1), transformTake);\nvar serializeGroup = runOrEmpty(isNotEmpty(group), transformGroup);\nvar serializeAggregates = runOrEmpty(has(aggregates), transformAggregates);\nvar serializeSort = compose(runOrEmpty(isNotEmpty(sort), transformSort), normalizeSort);\nvar hasField = function (_a) {\n    var field = _a.field;\n    return isNotNullOrEmptyString(field);\n};\nvar filterFormatter = function (_a) {\n    var field = _a.field, operator = _a.operator, value = _a.value;\n    return field + \"~\" + operator + \"~\" + value;\n};\nvar dateFormatter = ifElse(isDateValue, compose(filterFormatter, formatDate), filterFormatter);\nvar typedFormatter = function (encode) { return runOrEmpty(hasField, ifElse(isStringValue, compose(filterFormatter, quote, encode ? encodeValue : identity$2), dateFormatter)); };\nvar join = function (_a) {\n    var logic = _a.logic;\n    return \"~\" + logic + \"~\";\n};\nvar serialize = function (encode) { return serializeFilters(function (filter) { return ifElse(isCompositeFilterDescriptor, serialize(encode), typedFormatter(encode))(filter); }, join); };\nvar serializeFilter = function (_a, encode) {\n    var filter = _a.filter;\n    if (filter && filter.filters) {\n        var filters = serialize(encode)(filter);\n        if (filters.length) {\n            return ['filter', filters];\n        }\n    }\n    return null;\n};\nvar rules = function (state, encode) {\n    if (encode === void 0) { encode = true; }\n    return function (key) { return ({\n        \"aggregates\": serializeAggregates(state),\n        \"filter\": serializeFilter(state, encode),\n        \"group\": serializeGroup(state),\n        \"skip\": serializePage(state),\n        \"sort\": serializeSort(state),\n        \"take\": serializePageSize(state)\n    }[key]); };\n};\n/**\n * Converts a [DataSourceRequestState]({% slug api_kendo-data-query_datasourcerequeststate %}) into a string\n * that is comparable with the `DataSourceRequest` format in UI for ASP.NET MVC.\n *\n * @param {DataRequestState} state - The state that will be serialized.\n * @returns {string} - The serialized state.\n *\n * @example\n * {% platform_content angular %}\n * ```ts\n *  import {\n *      toDataSourceRequestString,\n *      translateDataSourceResultGroups,\n *      translateAggregateResults\n * } from '@progress/kendo-data-query';\n *\n * export class Service {\n *  private BASE_URL: string = '...';\n *\n *  constructor(private http: Http) { }\n *\n *  // Omitted for brevity...\n *\n *  private fetch(state: DataSourceRequestState): Observable<DataResult> {\n *   const queryStr = `${toDataSourceRequestString(state)}`; //serialize the state\n *   const hasGroups = state.group && state.group.length;\n *\n *   return this.http\n *       .get(`${this.BASE_URL}?${queryStr}`) //send the state to the server\n *       .map(response => response.json())\n *       .map(({Data, Total, AggregateResults}) => // process the response\n *           (<GridDataResult>{\n *               //if there are groups convert them to compatible format\n *               data: hasGroups ? translateDataSourceResultGroups(Data) : Data,\n *               total: Total,\n *               // convert the aggregates if such exists\n *               aggregateResult: translateAggregateResults(AggregateResults)\n *           })\n *       );\n *  }\n * }\n * ```\n * {% endplatform_content %}\n *\n * {% platform_content react %}\n * ```jsx\n * import React from 'react';\n * import { toDataSourceRequestString, translateDataSourceResultGroups } from '@progress/kendo-data-query';\n *\n * export function withState(WrappedGrid) {\n *     return class StatefullGrid extends React.Component {\n *         constructor(props) {\n *             super(props);\n *             this.state = { dataState: { skip: 0, take: 20 } };\n *         }\n *\n *         render() {\n *             return (\n *                 <WrappedGrid\n *                     filterable={true}\n *                     sortable={true}\n *                     pageable={{ pageSizes: true }}\n *                     {...this.props}\n *                     total={this.state.total}\n *                     data={this.state.data}\n *                     skip={this.state.dataState.skip}\n *                     pageSize={this.state.dataState.take}\n *                     filter={this.state.dataState.filter}\n *                     sort={this.state.dataState.sort}\n *                     dataStateChange={this.dataStateChange}\n *                 />\n *             );\n *         }\n *\n *         componentDidMount() {\n *             this.fetchData(this.state.dataState);\n *         }\n *\n *         dataStateChange = (changeEvent) => {\n *             this.setState({ dataState: changeEvent.data });\n *             this.fetchData(changeEvent.data);\n *         }\n *\n *         fetchData(dataState) {\n *             const queryStr = `${toDataSourceRequestString(dataState)}`; // Serialize the state\n *             const hasGroups = dataState.group && dataState.group.length;\n *\n *             const base_url = 'api/Products';\n *             const init = { method: 'GET', accept: 'application/json', headers: {} };\n *\n *             fetch(`${base_url}?${queryStr}`, init)\n *                 .then(response => response.json())\n *                 .then(({ data, total }) => {\n *                     this.setState({\n *                         data: hasGroups ? translateDataSourceResultGroups(data) : data,\n *                         total,\n *                         dataState\n *                     });\n *                 });\n *         }\n *     }\n * }\n * ```\n * {% endplatform_content %}\n */\nvar toDataSourceRequestString = function (state) { return (toQueryString(Object.keys(state)\n    .map(rules(state))\n    .filter(isPresent)).join('&')); };\n/**\n * Converts a [DataSourceRequestState]({% slug api_kendo-data-query_datasourcerequeststate %}) into an object\n * that is compatible with the `DataSourceRequest` format in UI for ASP.NET MVC.\n *\n * @param {DataRequestState} state - The state that will be serialized.\n * @returns {any} - The serialized state.\n */\nvar toDataSourceRequest = function (state) { return (toObject(Object.keys(state)\n    .map(rules(state, false))\n    .filter(isPresent))); };\n\n// tslint:enable:max-line-length\nvar set = function (field, target, value) {\n    target[field] = value;\n    return target;\n};\nvar toCamelCase = function (str) { return str.replace(/(^[A-Z])/g, function (_, g1) { return g1.toLowerCase(); }); };\nvar prop = function (fieldName) { return function (obj) {\n    var value = obj[fieldName];\n    if (isPresent(value)) {\n        return value;\n    }\n    return obj[toCamelCase(fieldName)];\n}; };\nvar member = prop(\"Member\");\nvar aggregateMethodName = prop(\"AggregateMethodName\");\nvar value = prop(\"Value\");\nvar convert = function (mapper) { return function (values) { return Object.keys(values).reduce(mapper.bind(null, values), {}); }; };\nvar translateAggregate = convert(function (source, acc, field) { return set(field.toLowerCase(), acc, source[field]); });\nvar translateAggregates = convert(function (source, acc, field) { return set(field, acc, translateAggregate(source[field])); });\nvar valueOrDefault = function (value, defaultValue) { return isPresent(value) ? value : defaultValue; };\nvar normalizeGroup = function (group) { return ({\n    aggregates: group.Aggregates || group.aggregates,\n    field: group.Member || group.member || group.field,\n    hasSubgroups: group.HasSubgroups || group.hasSubgroups || false,\n    items: group.Items || group.items,\n    value: valueOrDefault(group.Key, valueOrDefault(group.key, group.value))\n}); };\nvar translateGroup = compose(function (_a) {\n    var field = _a.field, hasSubgroups = _a.hasSubgroups, value = _a.value, aggregates = _a.aggregates, items = _a.items;\n    return ({\n        aggregates: translateAggregates(aggregates),\n        field: field,\n        items: hasSubgroups ? items.map(translateGroup) : items,\n        value: value\n    });\n}, normalizeGroup);\n// tslint:disable:max-line-length\n/**\n * Converts the grouped result, which is returned into the `Data` field of the UI for ASP.NET MVC `ToDataSourceResult` method, to a comparable format.\n * @param data - The value of the `Data` field of the response.\n * @returns {GroupResult[]} - The converted result.\n */\nvar translateDataSourceResultGroups = function (data) { return data.map(translateGroup); };\n/**\n * Converts the `AggregateResults` field content, which is returned by the UI for ASP.NET MVC `ToDataSourceResult` method, to a comparable format.\n * @param data - The value of the `AggregateResults` field of the response.\n * @returns {AggregateResult} - The converted result.\n */\n// tslint:enable:max-line-length\nvar translateAggregateResults = function (data) { return ((data || []).reduce(function (acc, x) { return set(member(x), acc, set(aggregateMethodName(x).toLowerCase(), acc[member(x)] || {}, value(x))); }, {})); };\n\nvar compare = function (a, b) {\n    if (isBlank(a)) {\n        return a === b ? 0 : -1;\n    }\n    if (isBlank(b)) {\n        return 1;\n    }\n    if (a.localeCompare) {\n        return a.localeCompare(b);\n    }\n    return a > b ? 1 : (a < b ? -1 : 0);\n};\nvar compareDesc = function (a, b) { return compare(b, a); };\nvar descriptorAsFunc = function (descriptor) {\n    if (typeof descriptor.compare === 'function') {\n        return descriptor.compare;\n    }\n    var prop = getter(descriptor.field, true);\n    return function (a, b) { return (descriptor.dir === 'asc' ? compare : compareDesc)(prop(a), prop(b)); };\n};\nvar initial = function (_a, _b) { return 0; };\n// tslint:disable:max-line-length\n/**\n * Converts the `SortDescriptors` into a [Comparer]({% slug api_kendo-data-query_comparer %}) function that can be used through `Array.sort`. If multiple descriptors are provided, sorting is applied in a right-to-left order.\n * @param {SortDescriptor[]} descriptors - The descriptors which will be converted.\n * @returns {Comparer} - The produced function.\n *\n * @example\n * ```ts\n * import { composeSortDescriptors } from '@progress/kendo-data-query';\n *\n * const data = [{ name: \"Pork\" }, { name: \"Pepper\" }, { name: \"Beef\" } ];\n * const comparer = composeSortDescriptors([{ field: \"name\", dir: \"asc\" }]);\n * const result = data.sort(comparer);\n * // output: [{ name: \"Beef\" }, { name: \"Pepper\" }, { name: \"Pork\" }];\n * ```\n */\n// tslint:enable:max-line-length\nvar composeSortDescriptors = function (descriptors) { return (descriptors\n    .filter(function (x) { return isPresent(x.dir) || isPresent(x.compare); })\n    .map(function (descriptor) { return descriptorAsFunc(descriptor); })\n    .reduce(function (acc, curr) { return function (a, b) { return acc(a, b) || curr(a, b); }; }, initial)); };\n\nvar valueToString = function (value) {\n    value = isPresent(value) && value.getTime ? value.getTime() : value;\n    return value + \"\";\n};\n/**\n * @hidden\n */\nvar groupCombinator = function (field) {\n    var prop = getter(field, true);\n    var position = 0;\n    return function (agg, value) {\n        agg[field] = agg[field] || {};\n        var groupValue = prop(value);\n        var key = valueToString(groupValue);\n        var values = agg[field][key] || { __position: position++, aggregates: {}, items: [], value: groupValue };\n        values.items.push(value);\n        agg[field][key] = values;\n        return agg;\n    };\n};\n/**\n * @hidden\n */\nvar expandAggregates = function (result) {\n    if (result === void 0) { result = {}; }\n    Object.keys(result).forEach(function (field) {\n        var aggregates = result[field];\n        Object.keys(aggregates).forEach(function (aggregate) {\n            aggregates[aggregate] = aggregates[aggregate].result();\n        });\n    });\n    return result;\n};\nvar aggregatesFuncs = function (name) { return ({\n    average: function () {\n        var value = 0;\n        var count = 0;\n        return {\n            calc: function (curr) {\n                if (isNumeric(curr)) {\n                    value += curr;\n                    count++;\n                }\n                else {\n                    value = curr;\n                }\n            },\n            result: function () { return isNumeric(value) ? value / count : value; }\n        };\n    },\n    count: function () {\n        var state = 0;\n        return {\n            calc: function () { return state++; },\n            result: function () { return state; }\n        };\n    },\n    max: function () {\n        var state = Number.NEGATIVE_INFINITY;\n        return {\n            calc: function (value) {\n                state = isNumeric(state) || isDate(state) ? state : value;\n                if (state < value && (isNumeric(value) || isDate(value))) {\n                    state = value;\n                }\n            },\n            result: function () { return state; }\n        };\n    },\n    min: function () {\n        var state = Number.POSITIVE_INFINITY;\n        return {\n            calc: function (value) {\n                state = isNumeric(state) || isDate(state) ? state : value;\n                if (state > value && (isNumeric(value) || isDate(value))) {\n                    state = value;\n                }\n            },\n            result: function () { return state; }\n        };\n    },\n    sum: function () {\n        var state = 0;\n        return {\n            calc: function (value) {\n                value = isPresent(value) ? value : 0;\n                state += value;\n            },\n            result: function () { return state; }\n        };\n    }\n}[name]()); };\n/**\n * @hidden\n */\nvar aggregatesCombinator = function (descriptors) {\n    var functions = descriptors.map(function (descriptor) {\n        var fieldAccessor = getter(descriptor.field, true);\n        var aggregateName = (descriptor.aggregate || \"\").toLowerCase();\n        var aggregateAccessor = getter(aggregateName, true);\n        return function (state, value) {\n            var fieldAggregates = state[descriptor.field] || {};\n            var aggregateFunction = aggregateAccessor(fieldAggregates)\n                || aggregatesFuncs(aggregateName);\n            aggregateFunction.calc(fieldAccessor(value));\n            fieldAggregates[descriptor.aggregate] = aggregateFunction;\n            state[descriptor.field] = fieldAggregates;\n            return state;\n        };\n    });\n    return function (state, value) { return functions.reduce(function (agg, calc) { return calc(agg, value); }, state); };\n};\n/**\n * @hidden\n * Adds the value to the `arr` and produces a new array.\n *\n * > The original array will be modified.\n */\nvar concat = function (arr, value) {\n    arr.push(value);\n    return arr;\n};\n/**\n * @hidden\n * Returns a reducer that will apply the specified transformation to the value.\n */\nvar map = function (transform) { return (function (reduce) { return (function (acc, curr, index) { return reduce(acc, transform(curr, index)); }); }); };\n/**\n * @hidden\n * Returns a reducer that will filter out items which do not match the `Predicate`.\n */\nvar filter = function (predicate) { return (function (reduce) { return (function (acc, curr) { return predicate(curr) ? reduce(acc, curr) : acc; }); }); };\n/**\n * @hidden\n */\nvar isTransformerResult = function (source) {\n    return isPresent(source.__value);\n};\nvar reduced = function (x) {\n    if (isTransformerResult(x)) {\n        return x;\n    }\n    return {\n        __value: x,\n        reduced: true\n    };\n};\n/**\n * @hidden\n * Returns a reducer that will take the specified number of items.\n */\nvar take = function (count) { return (function (reduce) { return (function (acc, curr) { return count-- > 0 ? reduce(acc, curr) : reduced(acc); }); }); };\n/**\n * @hidden\n * Returns a reducer that will take the specified number of items.\n */\nvar takeWhile = function (predicate) { return (function (reduce) { return (function (acc, curr) { return predicate(curr) ? reduce(acc, curr) : reduced(acc); }); }); };\n/**\n * @hidden\n * Returns a reducer that will skip the specified number of items.\n */\nvar skip = function (count) { return (function (reduce) { return (function (acc, curr) { return count-- <= 0 ? reduce(acc, curr) : acc; }); }); };\n/**\n * @hidden\n * Transforms the data by applying the supplied transformer.\n */\nvar exec = function (transform, initialValue, data) {\n    var result = initialValue;\n    for (var idx = 0, length_1 = data.length; idx < length_1; idx++) {\n        result = transform(result, data[idx], idx);\n        if (isTransformerResult(result)) {\n            result = result.__value;\n            break;\n        }\n    }\n    return result;\n};\n\nvar identity$1 = map(function (x) { return x; });\n// tslint:disable:max-line-length\n/**\n * Applies the specified [AggregateDescriptors]({% slug api_kendo-data-query_aggregatedescriptor %}) to the data. Returns an [AggregateResult]({% slug api_kendo-data-query_aggregateresult %}) instance.\n *\n * @example\n * ```ts\n * const data = [\n *    { unitPrice: 23, unitsInStock: 21 },\n *    { unitPrice: 10, unitsInStock: 12 },\n *    { unitPrice: 20, unitsInStock: 33 }\n * ];\n *\n * const result = aggregateBy(data, [\n *   { aggregate: \"sum\", field: \"unitPrice\" },\n *   { aggregate: \"sum\", field: \"unitsInStock\" }\n * ]);\n *\n * //output:\n * // {\n * //     \"unitPrice\": { \"sum\": 53 },\n * //     \"unitsInStock\": { \"sum\": 66 }\n * // }\n * ```\n * @param {T[]} data - The data on which the calculation will be executed.\n * @param {AggregateDescriptor[]} descriptors - The aggregate operations that will be executed.\n * @param {any} transformers - For internal use.\n * @returns {AggregateResult} - The aggregated result.\n * For more information, refer to the [aggregateresult](slug:api_kendo-data-query_aggregateresult) configuration.\n */\n// tslint:enable:max-line-length\nvar aggregateBy = function (data, descriptors, transformers) {\n    if (descriptors === void 0) { descriptors = []; }\n    if (transformers === void 0) { transformers = identity$1; }\n    var initialValue = {};\n    if (!descriptors.length) {\n        return initialValue;\n    }\n    var result = exec(transformers(aggregatesCombinator(descriptors)), initialValue, data);\n    return expandAggregates(result);\n};\n\nvar logic = {\n    \"or\": {\n        concat: function (acc, fn) { return function (a) { return acc(a) || fn(a); }; },\n        identity: function () { return false; }\n    },\n    \"and\": {\n        concat: function (acc, fn) { return function (a) { return acc(a) && fn(a); }; },\n        identity: function () { return true; }\n    }\n};\nvar operatorsMap = {\n    contains: function (a, b) { return (a || \"\").indexOf(b) >= 0; },\n    doesnotcontain: function (a, b) { return (a || \"\").indexOf(b) === -1; },\n    doesnotendwith: function (a, b) { return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) < 0; },\n    doesnotstartwith: function (a, b) { return (a || \"\").lastIndexOf(b, 0) === -1; },\n    endswith: function (a, b) { return (a || \"\").indexOf(b, (a || \"\").length - (b || \"\").length) >= 0; },\n    eq: function (a, b) { return a === b; },\n    gt: function (a, b) { return a > b; },\n    gte: function (a, b) { return a >= b; },\n    isempty: function (a) { return a === ''; },\n    isnotempty: function (a) { return a !== ''; },\n    isnotnull: function (a) { return isPresent(a); },\n    isnull: function (a) { return isBlank(a); },\n    lt: function (a, b) { return a < b; },\n    lte: function (a, b) { return a <= b; },\n    neq: function (a, b) { return a != b; },\n    startswith: function (a, b) { return (a || \"\").lastIndexOf(b, 0) === 0; }\n};\nvar dateRegExp = /^\\/Date\\((.*?)\\)\\/$/;\nvar convertValue = function (value, ignoreCase) {\n    if (value != null && isString(value)) {\n        var date = dateRegExp.exec(value);\n        if (date) {\n            return new Date(+date[1]).getTime();\n        }\n        else if (ignoreCase) {\n            return value.toLowerCase();\n        }\n    }\n    else if (value != null && isDate(value)) {\n        return value.getTime();\n    }\n    return value;\n};\nvar typedGetter = function (prop, value, ignoreCase) {\n    if (!isPresent(value)) {\n        return prop;\n    }\n    var acc = prop;\n    if (isString(value)) {\n        var date = dateRegExp.exec(value);\n        if (date) {\n            value = new Date(+date[1]);\n        }\n        else {\n            acc = function (a) {\n                var x = prop(a);\n                if (typeof x === 'string' && ignoreCase) {\n                    return x.toLowerCase();\n                }\n                else {\n                    return isNumeric(x) ? x + \"\" : x;\n                }\n            };\n        }\n    }\n    if (isDate(value)) {\n        return function (a) {\n            var x = acc(a);\n            return isDate(x) ? x.getTime() : x;\n        };\n    }\n    return acc;\n};\nvar transformFilter = function (_a) {\n    var field = _a.field, ignoreCase = _a.ignoreCase, value = _a.value, operator = _a.operator;\n    field = !isPresent(field) ? function (a) { return a; } : field;\n    ignoreCase = isPresent(ignoreCase) ? ignoreCase : true;\n    var itemProp = typedGetter(isFunction(field) ? field : getter(field, true), value, ignoreCase);\n    value = convertValue(value, ignoreCase);\n    var op = isFunction(operator) ? operator : operatorsMap[operator];\n    return function (a) { return op(itemProp(a), value, ignoreCase); };\n};\n/**\n * @hidden\n */\nvar transformCompositeFilter = function (filter) {\n    var combiner = logic[filter.logic];\n    return filter.filters\n        .filter(isPresent)\n        .map(function (x) { return isCompositeFilterDescriptor(x) ? transformCompositeFilter(x) : transformFilter(x); })\n        .reduce(combiner.concat, combiner.identity);\n};\n\n// tslint:disable:max-line-length\n/**\n * Creates a [Predicate]({% slug api_kendo-data-query_predicate %}) function for the specified [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}).\n *\n * @param {CompositeFilterDescriptor} descriptor - The descriptor for which the predicate is created.\n * @returns {Predicate} - The created function instance.\n *\n * @example\n * ```ts\n * import { compileFilter } from '@progress/kendo-data-query';\n *\n * const data = [{ name: \"Pork\" }, { name: \"Pepper\" }, { name: \"Beef\" } ];\n * const predicate = compileFilter({ logic: \"and\", filters: [{ field: \"name\", operator: \"startswith\", value: \"P\" }] });\n * const result = data.filter(predicate);\n *\n * ```\n */\n// tslint:enable:max-line-length\nvar compileFilter = function (descriptor) {\n    if (!descriptor || descriptor.filters.length === 0) {\n        return function () { return true; };\n    }\n    return transformCompositeFilter(descriptor);\n};\n// tslint:disable:max-line-length\n/**\n * Filters the provided array according to the specified [CompositeFilterDescriptor]({% slug api_kendo-data-query_compositefilterdescriptor %}).\n *\n * @param {T[]} data - The data that will be filtered.\n * @param {(CompositeFilterDescriptor | FilterDescriptor)} descriptor - The filter criteria that will be applied.\n * @returns {T[]} - The filtered data.\n *\n * @example\n * ```ts\n * import { filterBy } from '@progress/kendo-data-query';\n *\n * const data = [\n *  { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *  { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *  { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = filterBy(data, {\n *     logic: 'and',\n *     filters: [\n *           { field: \"name\", operator: \"startswith\", value: \"p\", ignoreCase: true },\n *           { field: \"subcategory\", operator: \"eq\", value: \"Meat\" },\n *     ]\n * });\n *\n * // output:\n * // [{ \"name\": \"Pork\", \"category\": \"Food\", \"subcategory\": \"Meat\" }]\n * ```\n */\n// tslint:enable:max-line-length\nvar filterBy = function (data, descriptor) {\n    if (!isPresent(descriptor) || (isCompositeFilterDescriptor(descriptor) && descriptor.filters.length === 0)) {\n        return data;\n    }\n    return data.filter(compileFilter(normalizeFilters(descriptor)));\n};\n\n/**\n * @hidden\n */\nvar normalizeGroups = function (descriptors) {\n    descriptors = isArray(descriptors) ? descriptors : [descriptors];\n    return descriptors.map(function (x) { return Object.assign({ dir: \"asc\" }, x); });\n};\nvar identity = map(function (x) { return x; });\n/**\n * Groups the provided data according to the specified descriptors.\n *\n * @param {Array} data - The data that will be grouped.\n * @param {GroupDescriptor[]} descriptors - The descriptors.\n * @param {any} transformers - For internal use.\n * @param {Array} originalData - For internal use.\n * @returns {(Array<GroupResult<T>> | T[])} - The grouped data.\n *\n * @example\n * ```ts\n *\n * import { groupBy } from '@progress/kendo-data-query';\n *\n * const data = [\n *     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *     { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = groupBy(data, [{ field: \"subcategory\" }]);\n * ```\n */\nvar groupBy = function (data, descriptors, transformers, originalData) {\n    if (descriptors === void 0) { descriptors = []; }\n    if (transformers === void 0) { transformers = identity; }\n    if (originalData === void 0) { originalData = data; }\n    descriptors = normalizeGroups(descriptors);\n    if (!descriptors.length) {\n        return data;\n    }\n    var descriptor = descriptors[0];\n    var initialValue = {};\n    var view = exec(transformers(groupCombinator(descriptor.field)), initialValue, data);\n    var result = [];\n    Object.keys(view).forEach(function (field) {\n        Object.keys(view[field]).forEach(function (value) {\n            var group = view[field][value];\n            var aggregateResult = {};\n            var filteredData = originalData;\n            if (isPresent(descriptor.aggregates)) {\n                filteredData = filterBy(originalData, {\n                    field: descriptor.field,\n                    ignoreCase: false,\n                    operator: 'eq',\n                    value: group.value\n                });\n                aggregateResult = aggregateBy(filteredData, descriptor.aggregates);\n            }\n            result[group.__position] = {\n                aggregates: aggregateResult,\n                field: field,\n                items: descriptors.length > 1 ?\n                    groupBy(group.items, descriptors.slice(1), identity, filteredData)\n                    : group.items,\n                value: group.value\n            };\n        });\n    });\n    return result;\n};\n\n/**\n * Orders the specified array according to the provided sort descriptors.\n *\n * @param {T[]} data - The data to be sorted.\n * @param {SortDescriptor[]} descriptors - The descriptors by which the data will be sorted.\n * @returns {T[]} - The sorted data.\n *\n * @example\n * ```ts\n * import { orderBy } from '@progress/kendo-data-query';\n *\n * const data = [\n *     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *     { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = orderBy(data, [{ field: \"name\", dir: \"asc\" }]);\n * ```\n */\nvar orderBy = function (data, descriptors) {\n    if (descriptors.some(function (x) { return isPresent(x.dir) || isPresent(x.compare); })) {\n        data = data.slice(0);\n        var comparer = composeSortDescriptors(descriptors);\n        data.sort(comparer);\n    }\n    return data;\n};\nvar defaultComparer = function (a, b) { return a === b; };\nvar normalizeComparer = function (comparer) {\n    if (isString(comparer)) {\n        var accessor_1 = getter(comparer);\n        comparer = function (a, b) { return accessor_1(a) === accessor_1(b); };\n    }\n    return comparer;\n};\nvar _distinct = function (data, comparer) {\n    return data.filter(function (x, idx, xs) { return xs.findIndex(comparer.bind(null, x)) === idx; });\n};\n/**\n * Reduces the provided array so it contains only unique values.\n *\n * @param {T[]} data - The array that will be reduced.\n * @param {(Comparer | string)} comparer - An optional custom comparer function or the field name that will be used for comparison.\n * @returns {T[]} - The reduced data.\n *\n * @example\n * ```ts\n * import { distinct } from '@progress/kendo-data-query';\n *\n * const data = [\n *     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n *     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" },\n *     { name: \"Beef\", category: \"Food\", subcategory: \"Meat\" }\n * ];\n *\n * const result = distinct(data, \"subcategory\");\n *\n * // output:\n * // result => [\n * //     { name: \"Pork\", category: \"Food\", subcategory: \"Meat\" },\n * //     { name: \"Pepper\", category: \"Food\", subcategory: \"Vegetables\" }\n * // ];\n * ```\n */\nvar distinct = function (data, comparer) {\n    if (comparer === void 0) { comparer = defaultComparer; }\n    return _distinct(data, normalizeComparer(comparer));\n};\n/**\n * @hidden\n */\nvar count = function (data, predicate) {\n    var counter = 0;\n    for (var idx = 0, length_1 = data.length; idx < length_1; idx++) {\n        if (predicate(data[idx])) {\n            counter++;\n        }\n    }\n    return counter;\n};\n/**\n * @hidden\n */\nvar limit = function (data, predicate) {\n    if (predicate) {\n        return data.filter(predicate);\n    }\n    return data;\n};\n/**\n * Applies the specified operation descriptors to the data.\n *\n * @param {T[]} data - The data to be processed.\n * @param {State} state - The operation descriptors that will be applied to the data.\n * @returns {DataResult} - The processed data.\n *\n * @example\n * ```ts\n *\n * const result = process(data, {\n *     skip: 10,\n *     take: 20,\n *     group: [{\n *       field: 'category.categoryName',\n *             aggregates: [\n *                   { aggregate: \"sum\", field: \"unitPrice\" },\n *                   { aggregate: \"sum\", field: \"unitsInStock\" }\n *             ]\n *       }],\n *     sort: [{ field: 'productName', dir: 'desc' }],\n *     filter: {\n *         logic: \"or\",\n *         filters: [\n *           { field: \"discontinued\", operator: \"eq\", value: true },\n *           { field: \"unitPrice\", operator: \"lt\", value: 22 }\n *         ]\n *     }\n * });\n *\n * ```\n */\nvar process = function (data, state) {\n    var skipCount = state.skip, takeCount = state.take, filterDescriptor = state.filter, sort = state.sort, group = state.group;\n    var sortDescriptors = __spreadArrays(normalizeGroups(group || []), sort || []);\n    if (sortDescriptors.length) {\n        data = orderBy(data, sortDescriptors);\n    }\n    var hasFilters = isPresent(filterDescriptor) && filter.length;\n    var hasGroups = isPresent(group) && group.length;\n    if (!hasFilters && !hasGroups) {\n        return {\n            data: takeCount ? data.slice(skipCount, skipCount + takeCount) : data,\n            total: data.length\n        };\n    }\n    var total;\n    var transformers = [];\n    var predicate;\n    if (hasFilters) {\n        predicate = compileFilter(normalizeFilters(filterDescriptor));\n        total = count(data, predicate);\n        transformers.push(filter(predicate));\n    }\n    else {\n        total = data.length;\n    }\n    if (isPresent(skipCount) && isPresent(takeCount)) {\n        transformers.push(skip(skipCount));\n        transformers.push(take(takeCount));\n    }\n    if (transformers.length) {\n        var transform = compose.apply(void 0, transformers);\n        var result = hasGroups ?\n            groupBy(data, group, transform, limit(data, predicate)) :\n            exec(transform(concat), [], data);\n        return { data: result, total: total };\n    }\n    return {\n        data: hasGroups ? groupBy(data, group) : data,\n        total: total\n    };\n};\n\n/**\n * Represents the list of supported [`FilterDescriptor`]({% slug api_kendo-data-query_filterdescriptor %}) operators.\n * Allows restricting `FilterDescriptor.operator` definition to available values only.\n */\nvar FilterOperator;\n(function (FilterOperator) {\n    /**\n     * The `contains` operator.\n     */\n    FilterOperator[\"Contains\"] = \"contains\";\n    /**\n     * The `doesnotcontain` operator.\n     */\n    FilterOperator[\"DoesNotContain\"] = \"doesnotcontain\";\n    /**\n     * The `doesnotendwith` operator.\n     */\n    FilterOperator[\"DoesNotEndWith\"] = \"doesnotendwith\";\n    /**\n     * The `doesnotstartwith` operator.\n     */\n    FilterOperator[\"DoesNotStartWith\"] = \"doesnotstartwith\";\n    /**\n     * The `endswith` operator.\n     */\n    FilterOperator[\"EndsWith\"] = \"endswith\";\n    /**\n     * The `eq` operator.\n     */\n    FilterOperator[\"EqualTo\"] = \"eq\";\n    /**\n     * The `gt` operator.\n     */\n    FilterOperator[\"GreaterThan\"] = \"gt\";\n    /**\n     * The `gte` operator.\n     */\n    FilterOperator[\"GreaterThanOrEqual\"] = \"gte\";\n    /**\n     * The `isempty` operator.\n     */\n    FilterOperator[\"IsEmpty\"] = \"isempty\";\n    /**\n     * The `isnotempty` operator.\n     */\n    FilterOperator[\"IsNotEmpty\"] = \"isnotempty\";\n    /**\n     * The `isnotnull` operator.\n     */\n    FilterOperator[\"IsNotNull\"] = \"isnotnull\";\n    /**\n     * The `isnull` operator.\n     */\n    FilterOperator[\"IsNull\"] = \"isnull\";\n    /**\n     * The `lt` operator.\n     */\n    FilterOperator[\"LessThan\"] = \"lt\";\n    /**\n     * The `lte` operator.\n     */\n    FilterOperator[\"LessThanOrEqual\"] = \"lte\";\n    /**\n     * The `neq` operator.\n     */\n    FilterOperator[\"NotEqualTo\"] = \"neq\";\n    /**\n     * The `startswith` operator.\n     */\n    FilterOperator[\"StartsWith\"] = \"startswith\";\n})(FilterOperator || (FilterOperator = {}));\n\nexport { compileFilter as c };\nexport { __meta__ };"]}
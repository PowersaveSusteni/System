{"version":3,"file":"kendo.file-saver.cmn.chunk.js","names":["__meta__","id","name","category","description","depends","hidden","chunk","saveAs","data","fileName","options","save","postToProxy","forceProxy","proxyURL","Error","canDownload","saveAsDataURI","navigator","msSaveBlob","saveAsBlob","anchor","document","createElement","blob","parts","split","contentType","base64","atob","array","Uint8Array","length","idx","charCodeAt","Blob","buffer","type","dataURI","window","URL","createObjectURL","fileSaver","download","href","e","createEvent","initMouseEvent","dispatchEvent","setTimeout","revokeObjectURL","form","setAttribute","proxyTarget","formData","proxyData","replace","hasOwnProperty","input","appendChild","body","submit","removeChild","KEY_STR","fromCharCode","String","encodeBase64","plainText","chr1","chr2","chr3","enc1","enc2","enc3","enc4","encodeUTF8","output","i","isNaN","charAt","c"],"sources":["kendo.file-saver.cmn.chunk.js"],"mappings":"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","ignoreList":[],"sourcesContent":["\n\nconst __meta__ = {\n    id: \"file-saver.cmn.chunk\",\n    name: \"FileSaverCmnChunk\",\n    category: \"web\",\n    description: \"A reusable outputed chunk of code\",\n    depends: [],\n    hidden: true,\n    chunk: true\n};\n\nfunction saveAs(data, fileName, options) {\n  if ( options === void 0 ) options = {};\n\n  var save = postToProxy;\n\n  if (options.forceProxy && !options.proxyURL) {\n    throw new Error('No proxyURL is set, but forceProxy is true');\n  }\n\n  if (!options.forceProxy) {\n    if (canDownload()) {\n      save = saveAsDataURI;\n    }\n\n    if (navigator.msSaveBlob) {\n      save = saveAsBlob;\n    }\n  }\n\n  save(data, fileName, options);\n}\n\nvar anchor = function () { return document.createElement('a'); };\nvar canDownload = function () { return 'download' in anchor(); };\n\nfunction saveAsBlob(data, fileName) {\n  var blob = data; // could be a Blob object\n\n  if (typeof data === 'string') {\n    var parts = data.split(';base64,');\n    var contentType = parts[0];\n    var base64 = atob(parts[1]);\n    var array = new Uint8Array(base64.length);\n\n    for (var idx = 0; idx < base64.length; idx++) {\n      array[idx] = base64.charCodeAt(idx);\n    }\n\n    blob = new Blob([ array.buffer ], { type: contentType });\n  }\n\n  navigator.msSaveBlob(blob, fileName);\n}\n\nfunction saveAsDataURI(data, fileName) {\n  var dataURI = data;\n  if (window.Blob && data instanceof Blob) {\n    dataURI = URL.createObjectURL(data);\n  }\n\n  var fileSaver = anchor();\n  fileSaver.download = fileName;\n  fileSaver.href = dataURI;\n\n  var e = document.createEvent('MouseEvents');\n  e.initMouseEvent('click', true, false, window,\n    0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n  fileSaver.dispatchEvent(e);\n  setTimeout(function () { return URL.revokeObjectURL(dataURI); });\n}\n\nfunction postToProxy(dataURI, fileName, options) {\n  if (!options.proxyURL) {\n    return;\n  }\n\n  var form = document.createElement('form');\n  form.setAttribute('action', options.proxyURL);\n  form.setAttribute('method', 'POST');\n  form.setAttribute('target', options.proxyTarget || '_self');\n\n  var formData = options.proxyData || {};\n  formData.fileName = fileName;\n\n  var parts = dataURI.split(\";base64,\");\n  formData.contentType = parts[0].replace(\"data:\", \"\");\n  formData.base64 = parts[1];\n\n  for (var name in formData) {\n    if (formData.hasOwnProperty(name)) {\n      var input = document.createElement('input');\n      input.setAttribute('type', 'hidden');\n      input.setAttribute('name', name);\n      input.setAttribute('value', formData[name]);\n\n      form.appendChild(input);\n    }\n  }\n\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\n\nvar KEY_STR = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar fromCharCode = String.fromCharCode;\n\nfunction encodeBase64(plainText) {\n  var input = encodeUTF8(plainText);\n  var output = \"\";\n  var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n  var i = 0;\n\n  while (i < input.length) {\n    chr1 = input.charCodeAt(i++);\n    chr2 = input.charCodeAt(i++);\n    chr3 = input.charCodeAt(i++);\n\n    enc1 = chr1 >> 2;\n    enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n    enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n    enc4 = chr3 & 63;\n\n    if (isNaN(chr2)) {\n      enc3 = enc4 = 64;\n    } else if (isNaN(chr3)) {\n      enc4 = 64;\n    }\n\n    output = output +\n      KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +\n      KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);\n  }\n\n  return output;\n}\n\nfunction encodeUTF8(input) {\n  var output = \"\";\n\n  for (var i = 0; i < input.length; i++) {\n    var c = input.charCodeAt(i);\n\n    if (c < 0x80) {\n      // One byte\n      output += fromCharCode(c);\n    } else if (c < 0x800) {\n      // Two bytes\n      output += fromCharCode(0xC0 | (c >>> 6));\n      output += fromCharCode(0x80 | (c & 0x3f));\n    } else if (c < 0x10000) {\n      // Three bytes\n      output += fromCharCode(0xE0 | (c >>> 12));\n      output += fromCharCode(0x80 | (c >>> 6 & 0x3f));\n      output += fromCharCode(0x80 | (c & 0x3f));\n    }\n  }\n\n  return output;\n}\n\nexport { saveAs as s };\nexport { __meta__ };"]}
/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";const __meta__={id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:!1};!function(t){var e=window.kendo,n="change",r="same",i=e.support,a=window.location,o=window.history,s=e.support.browser.msie,h=/^#*/,c=window.document;function u(t,e){return e?(t+"/"===e&&(t=e),new RegExp("^"+e,"i").test(t)||(t=e+"/"+t),a.protocol+"//"+(a.host+"/"+t).replace(/\/\/+/g,"/")):t}function l(t){return t?"#!":"#"}function d(t){var e=a.href;return"#!"===t&&e.indexOf("#")>-1&&e.indexOf("#!")<0?null:e.split(t)[1]||""}function p(t,e){return 0===e.indexOf(t)?e.substr(t.length).replace(/\/\//g,"/"):e}var f=e.Class.extend({back:function(){s?setTimeout((function(){o.back()})):o.back()},forward:function(){s?setTimeout((function(){o.forward()})):o.forward()},length:function(){return o.length},replaceLocation:function(t){a.replace(t)}}),g=f.extend({init:function(t){this.root=t},navigate:function(t){o.pushState({},c.title,u(t,this.root))},replace:function(t){o.replaceState({},c.title,u(t,this.root))},normalize:function(t){return p(this.root,t)},current:function(){var t=a.pathname;return a.search&&(t+=a.search),p(this.root,t)},change:function(e){t(window).bind("popstate.kendo",e)},stop:function(){t(window).unbind("popstate.kendo")},normalizeCurrent:function(t){var e,n=t.root,r=a.pathname,i=d(l(t.hashBang));n===r+"/"&&(e=n),n===r&&i&&(e=u(i.replace(h,""),n)),e&&o.pushState({},c.title,e)}});function b(t){return t.replace(/^(#)?/,"#")}function v(t){return t.replace(/^(#(!)?)?/,"#!")}var k=f.extend({init:function(t){this._id=e.guid(),this.prefix=l(t),this.fix=t?v:b},navigate:function(t){a.hash=this.fix(t)},replace:function(t){this.replaceLocation(this.fix(t))},normalize:function(t){return t.indexOf(this.prefix)<0?t:t.split(this.prefix)[1]},change:function(e){i.hashChange?t(window).on("hashchange."+this._id,e):this._interval=setInterval(e,50)},stop:function(){t(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return d(this.prefix)},normalizeCurrent:function(t){var e=a.pathname,n=t.root;return!(!t.pushState||n===e)&&(this.replaceLocation(n+this.prefix+p(n,e)),!0)}}),w=e.Observable.extend({start:function(e){if(e=e||{},this.bind([n,"back",r],e),!this._started){this._started=!0,e.root=e.root||"/";var i,a=this.createAdapter(e);a.normalizeCurrent(e)||(i=a.current(),t.extend(this,{adapter:a,root:e.root,historyLength:a.length(),current:i,locations:[i]}),a.change(this._checkUrl.bind(this)))}},createAdapter:function(t){return i.pushState&&t.pushState?new g(t.root):new k(t.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(n),this._started=!1)},change:function(t){this.bind(n,t)},replace:function(t,e){this._navigate(t,e,(function(e){e.replace(t),this.locations[this.locations.length-1]=this.current}))},navigate:function(t,e){if("#:back"===t)return this.backCalled=!0,void this.adapter.back();this._navigate(t,e,(function(e){e.navigate(t),this.locations.push(this.current)}))},_navigate:function(t,e,i){var a=this.adapter;t=a.normalize(t),this.current!==t&&this.current!==decodeURIComponent(t)?!e&&this.trigger(n,{url:t,decode:!1})||(this.current=t,i.call(this,a),this.historyLength=a.length()):this.trigger(r)},_checkUrl:function(){var t=this.adapter,e=t.current(),r=t.length(),i=this.historyLength===r,a=e===this.locations[this.locations.length-2]&&i,o=this.backCalled,s=this.current;return null===e||this.current===e||this.current===decodeURIComponent(e)||(this.historyLength=r,this.backCalled=!1,this.current=e,a&&this.trigger("back",{url:s,to:e})?(t.forward(),void(this.current=s)):this.trigger(n,{url:e,backButtonPressed:!o})?(a?t.forward():(t.back(),this.historyLength--),void(this.current=s)):void(a?this.locations.pop():this.locations.push(e)))}});e.History=w,e.History.HistoryAdapter=f,e.History.HashAdapter=k,e.History.PushStateAdapter=g,e.absoluteURL=u,e.history=new w}(window.kendo.jQuery);var kendo$1=kendo;!function(){var t=window.kendo,e=t.history,n=t.Observable,r="init",i="routeMissing",a="change",o="back",s="same",h=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,u=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g;function d(t,e){return e?t:"([^/]+)"}function p(t){return t.replace(/(\?.*)|(#.*)/g,"")}var f=t.Class.extend({init:function(t,e,n){t instanceof RegExp||(t=function(t,e){return new RegExp("^"+t.replace(l,"\\$&").replace(h,"(?:$1)?").replace(c,d).replace(u,"(.*?)")+"$",e?"i":"")}(t,n)),this.route=t,this._callback=e},callback:function(e,n,r){var i,a,o=0,s=t.parseQueryStringParams(e);if(s._back=n,e=p(e),a=(i=this.route.exec(e).slice(1)).length,r)for(;o<a;o++)void 0!==i[o]&&(i[o]=decodeURIComponent(i[o]));i.push(s),this._callback.apply(null,i)},worksWith:function(t,e,n){return!!this.route.test(p(t))&&(this.callback(t,e,n),!0)}}),g=n.extend({init:function(t){t||(t={}),n.fn.init.call(this),this.routes=[],this.pushState=t.pushState,this.hashBang=t.hashBang,this.root=t.root,this.ignoreCase=!1!==t.ignoreCase,this.bind([r,i,a,s,o],t)},destroy:function(){e.unbind(a,this._urlChangedProxy),e.unbind(s,this._sameProxy),e.unbind(o,this._backProxy),this.unbind()},start:function(){var t=this,n=function(e){t._back(e)},i=function(e){t._urlChanged(e)};e.start({same:function(){t._same()},change:i,back:n,pushState:t.pushState,hashBang:t.hashBang,root:t.root});var a={url:e.current||"/",preventDefault:$.noop};t.trigger(r,a)||t._urlChanged(a),this._urlChangedProxy=i,this._backProxy=n},route:function(t,e){this.routes.push(new f(t,e,this.ignoreCase))},navigate:function(e,n){t.history.navigate(e,n)},replace:function(e,n){t.history.replace(e,n)},_back:function(t){this.trigger(o,{url:t.url,to:t.to})&&t.preventDefault()},_same:function(){this.trigger(s)},_urlChanged:function(e){var n=e.url,r=!!e.decode,o=e.backButtonPressed;if(n||(n="/"),this.trigger(a,{url:e.url,params:t.parseQueryStringParams(e.url),backButtonPressed:o}))e.preventDefault();else{for(var s=0,h=this.routes,c=h.length;s<c;s++)if(h[s].worksWith(n,o,r))return;this.trigger(i,{url:n,params:t.parseQueryStringParams(n),backButtonPressed:o})&&e.preventDefault()}}});t.Router=g}();export{__meta__,kendo$1 as default};
//# sourceMappingURL=kendo.router.js.map

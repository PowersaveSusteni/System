{"version":3,"file":"kendo.dataviz.gauge.js","names":["RadialGauge","LinearGauge","ArcGauge","CircularGauge","LinearScale","RadialScale","RadialPointer","LinearPointer","BarLinearPointer","ArrowLinearPointer","$","window","kendo","dataviz","Widget","ui","draw","drawing","themeOptions","options","themes","themeName","theme","lowerName","toLowerCase","SASS_THEMES","indexOf","autoTheme","gauge","Gauge","extend","init","element","userOptions","destroy","empty","fn","call","this","deepExtend","wrapper","_createInstance","addClass","notify","renderAs","pointer","scale","gaugeArea","background","transitions","setOptions","_instance","_copyFields","redraw","gaugeType","_gaugeType","_originalOptions","surface","bbox","pointers","_resize","resize","proxyMembers","createProxyMember","name","apply","arguments","idx","length","ExportMixin","RadialGaugeWidget","LinearGaugeWidget","vertical","ArcGaugeWidget","css","_centerTemplate","value","instance","_centerElement","exportVisual","centerTemplate","template","centerElement","_getCenterElement","html","color","currentColor","position","centerLabelPosition","width","height","remove","append","CircularGaugeWidget","createExportMethod","method","drawDOM","then","visual","exportMethods","plugin","jQuery","__meta__","id","category","description","depends","kendo$1"],"sources":["kendo.dataviz.gauge.js"],"mappings":"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","ignoreList":[],"sourcesContent":["import './kendo.core.js';\nimport './kendo.dataviz.core.js';\nimport { R as RadialGauge, L as LinearGauge, A as ArcGauge, n as CircularGauge, o as LinearScale, p as RadialScale, q as RadialPointer, t as LinearPointer, u as BarLinearPointer, v as ArrowLinearPointer } from './kendo.charts.cmn.chunk.js';\nimport './kendo.dataviz.themes.js';\n\n(function($) {\n    window.kendo.dataviz = window.kendo.dataviz || {};\n\n    var kendo = window.kendo;\n    var Widget = kendo.ui.Widget;\n    var dataviz = kendo.dataviz;\n    var draw = kendo.drawing;\n\n    function themeOptions(options) {\n        var themes = dataviz.ui.themes || {};\n        var themeName = options.theme || \"\";\n        var lowerName = themeName.toLowerCase();\n\n        if (dataviz.SASS_THEMES.indexOf(lowerName) != -1) {\n            return dataviz.autoTheme().gauge;\n        }\n\n        return (themes[themeName] || themes[lowerName] || {}).gauge;\n    }\n\n    var Gauge = Widget.extend({\n        init: function(element, userOptions) {\n            kendo.destroy(element);\n            $(element).empty();\n\n            Widget.fn.init.call(this, element);\n\n            this.options = kendo.deepExtend(this.options, userOptions);\n\n            this.wrapper = this.element;\n            this._createInstance();\n\n            this.element.addClass('k-gauge');\n\n            kendo.notify(this, dataviz.ui);\n        },\n\n        options: {\n            theme: \"sass\",\n            renderAs: \"\",\n            pointer: {},\n            scale: {},\n            gaugeArea: {\n                background: \"\"\n            },\n            transitions: true\n        },\n\n        setOptions: function(options) {\n            this._instance.setOptions(options, themeOptions(options));\n\n            this._copyFields();\n        },\n\n        redraw: function() {\n            this._instance.redraw();\n            this._copyFields();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._instance.destroy();\n        },\n\n        _createInstance: function() {\n            var gaugeType = this._gaugeType();\n            this._instance = new gaugeType(this.element[0], this.options, themeOptions(this.options));\n            this._copyFields();\n        },\n\n        _copyFields: function() {\n            this._originalOptions = this._instance._originalOptions;\n            this.options = this._instance.options;\n            this.surface = this._instance.surface;\n            this.bbox = this._instance.bbox;\n            this.gaugeArea = this._instance.gaugeArea;\n            this.pointers = this._instance.pointers;\n            this.scale = this._instance.scale;\n        },\n\n        _resize: function() {\n            this._instance.resize();\n        }\n    });\n\n    var proxyMembers = [\"getSize\", \"value\", \"allValues\", \"exportVisual\"];\n\n    function createProxyMember(name) {\n        Gauge.fn[name] = function() {\n            return this._instance[name].apply(this._instance, arguments);\n        };\n    }\n\n    for (var idx = 0; idx < proxyMembers.length; idx++) {\n        createProxyMember(proxyMembers[idx]);\n    }\n\n    dataviz.ExportMixin.extend(Gauge.fn);\n\n    var RadialGaugeWidget = Gauge.extend({\n\n        options: {\n            name: \"RadialGauge\"\n        },\n\n        _gaugeType: function() {\n            return RadialGauge;\n        }\n    });\n\n    var LinearGaugeWidget = Gauge.extend({\n\n        options: {\n            name: \"LinearGauge\",\n            scale: {\n                vertical: true\n            }\n        },\n\n        _gaugeType: function() {\n            return LinearGauge;\n        }\n    });\n\n    var ArcGaugeWidget = Gauge.extend({\n        init: function(element, userOptions) {\n            Gauge.fn.init.call(this, element, userOptions);\n\n            this.element.css('position', 'relative');\n            this.element.addClass('k-arcgauge');\n\n            this._centerTemplate();\n        },\n\n        options: {\n            name: \"ArcGauge\"\n        },\n\n        setOptions: function(options) {\n            Gauge.fn.setOptions.call(this, options);\n            this._centerTemplate();\n        },\n\n        redraw: function() {\n            Gauge.fn.redraw.call(this);\n            this._centerTemplate();\n        },\n\n        value: function(value) {\n            var instance = this._instance;\n            if (arguments.length === 0) {\n                return instance.value();\n            }\n\n            instance.value(value);\n\n            this._centerTemplate();\n        },\n\n        destroy: function() {\n            Gauge.fn.destroy.call(this);\n            delete this._centerElement;\n        },\n\n        exportVisual: function() {\n            if (this._centerElement) {\n                return false;\n            }\n\n            return Gauge.fn.exportVisual.call(this);\n        },\n\n        _resize: function() {\n            this._instance.resize();\n\n            this._centerTemplate();\n        },\n\n        _centerTemplate: function() {\n            if (this.options.centerTemplate) {\n                var template = kendo.template(this.options.centerTemplate);\n\n                var instance = this._instance;\n                var centerElement = this._getCenterElement();\n\n                centerElement.html(template({ color: instance.currentColor(), value: instance.value() }));\n\n                var position = instance.centerLabelPosition(centerElement.width(), centerElement.height());\n\n                centerElement.css(position);\n            } else if (this._centerElement) {\n                this._centerElement.remove();\n                this._centerElement = null;\n            }\n        },\n\n        _getCenterElement: function() {\n            var centerElement = this._centerElement;\n            if (!centerElement) {\n                centerElement = this._centerElement = $('<div></div>').addClass('k-arcgauge-label');\n                this.element.append(centerElement);\n            }\n\n            return centerElement;\n        },\n\n        _gaugeType: function() {\n            return ArcGauge;\n        }\n    });\n\n    var CircularGaugeWidget = ArcGaugeWidget.extend({\n        options: {\n            name: \"CircularGauge\"\n        },\n\n        _gaugeType: function() {\n            return CircularGauge;\n        }\n    });\n\n    function createExportMethod(name) {\n        ArcGaugeWidget.fn[name] = function(options) {\n            var gauge = this;\n            var method = draw[name];\n\n            if (!gauge._centerElement) {\n                return method(gauge.exportVisual(), options);\n            }\n\n            return draw.drawDOM(gauge.element).then(function(visual) {\n                return method(visual, options);\n            });\n        };\n    }\n\n    var exportMethods = ['exportSVG', 'exportImage', 'exportPDF'];\n\n    for (idx = 0; idx < exportMethods.length; idx++) {\n        createExportMethod(exportMethods[idx]);\n    }\n\n    dataviz.ui.plugin(LinearGaugeWidget);\n    dataviz.ui.plugin(RadialGaugeWidget);\n    dataviz.ui.plugin(ArcGaugeWidget);\n    dataviz.ui.plugin(CircularGaugeWidget);\n\n    kendo.deepExtend(dataviz, {\n        Gauge: Gauge,\n        LinearScale: LinearScale,\n        RadialScale: RadialScale,\n        RadialPointer: RadialPointer,\n        LinearPointer: LinearPointer,\n        BarLinearPointer: BarLinearPointer,\n        ArrowLinearPointer: ArrowLinearPointer,\n        LinearGauge: LinearGaugeWidget,\n        RadialGauge: RadialGaugeWidget,\n        ArcGauge: ArcGaugeWidget,\n        CircularGauge: CircularGaugeWidget\n    });\n\n})(window.kendo.jQuery);\n\nconst __meta__ = {\n    id: \"dataviz.gauge\",\n    name: \"Gauge\",\n    category: \"dataviz\",\n    description: \"Linear, Radial and Arc gauges.\",\n    depends: [\"dataviz.core\", \"dataviz.themes\", \"charts.cmn.chunk\"]\n};\n\nvar kendo$1 = kendo;\n\nexport { __meta__, kendo$1 as default };\n"]}